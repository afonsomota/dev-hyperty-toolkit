{
  "RuntimeUA": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuUnVudGltZVVBID0gZigpfX0pKGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztyZXR1cm4gKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT0iZnVuY3Rpb24iJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKCJDYW5ub3QgZmluZCBtb2R1bGUgJyIrbysiJyIpO3Rocm93IGYuY29kZT0iTU9EVUxFX05PVF9GT1VORCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT0iZnVuY3Rpb24iJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSh7MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CnZhciBhc24xID0gZXhwb3J0czsKCmFzbjEuYmlnbnVtID0gcmVxdWlyZSgnYm4uanMnKTsKCmFzbjEuZGVmaW5lID0gcmVxdWlyZSgnLi9hc24xL2FwaScpLmRlZmluZTsKYXNuMS5iYXNlID0gcmVxdWlyZSgnLi9hc24xL2Jhc2UnKTsKYXNuMS5jb25zdGFudHMgPSByZXF1aXJlKCcuL2FzbjEvY29uc3RhbnRzJyk7CmFzbjEuZGVjb2RlcnMgPSByZXF1aXJlKCcuL2FzbjEvZGVjb2RlcnMnKTsKYXNuMS5lbmNvZGVycyA9IHJlcXVpcmUoJy4vYXNuMS9lbmNvZGVycycpOwoKfSx7Ii4vYXNuMS9hcGkiOjIsIi4vYXNuMS9iYXNlIjo0LCIuL2FzbjEvY29uc3RhbnRzIjo4LCIuL2FzbjEvZGVjb2RlcnMiOjEwLCIuL2FzbjEvZW5jb2RlcnMiOjEzLCJibi5qcyI6NDJ9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKdmFyIGFzbjEgPSByZXF1aXJlKCcuLi9hc24xJyk7CnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7Cgp2YXIgYXBpID0gZXhwb3J0czsKCmFwaS5kZWZpbmUgPSBmdW5jdGlvbiBkZWZpbmUobmFtZSwgYm9keSkgewogIHJldHVybiBuZXcgRW50aXR5KG5hbWUsIGJvZHkpOwp9OwoKZnVuY3Rpb24gRW50aXR5KG5hbWUsIGJvZHkpIHsKICB0aGlzLm5hbWUgPSBuYW1lOwogIHRoaXMuYm9keSA9IGJvZHk7CgogIHRoaXMuZGVjb2RlcnMgPSB7fTsKICB0aGlzLmVuY29kZXJzID0ge307Cn07CgpFbnRpdHkucHJvdG90eXBlLl9jcmVhdGVOYW1lZCA9IGZ1bmN0aW9uIGNyZWF0ZU5hbWVkKGJhc2UpIHsKICB2YXIgbmFtZWQ7CiAgdHJ5IHsKICAgIG5hbWVkID0gcmVxdWlyZSgndm0nKS5ydW5JblRoaXNDb250ZXh0KAogICAgICAnKGZ1bmN0aW9uICcgKyB0aGlzLm5hbWUgKyAnKGVudGl0eSkge1xuJyArCiAgICAgICcgIHRoaXMuX2luaXROYW1lZChlbnRpdHkpO1xuJyArCiAgICAgICd9KScKICAgICk7CiAgfSBjYXRjaCAoZSkgewogICAgbmFtZWQgPSBmdW5jdGlvbiAoZW50aXR5KSB7CiAgICAgIHRoaXMuX2luaXROYW1lZChlbnRpdHkpOwogICAgfTsKICB9CiAgaW5oZXJpdHMobmFtZWQsIGJhc2UpOwogIG5hbWVkLnByb3RvdHlwZS5faW5pdE5hbWVkID0gZnVuY3Rpb24gaW5pdG5hbWVkKGVudGl0eSkgewogICAgYmFzZS5jYWxsKHRoaXMsIGVudGl0eSk7CiAgfTsKCiAgcmV0dXJuIG5ldyBuYW1lZCh0aGlzKTsKfTsKCkVudGl0eS5wcm90b3R5cGUuX2dldERlY29kZXIgPSBmdW5jdGlvbiBfZ2V0RGVjb2RlcihlbmMpIHsKICAvLyBMYXppbHkgY3JlYXRlIGRlY29kZXIKICBpZiAoIXRoaXMuZGVjb2RlcnMuaGFzT3duUHJvcGVydHkoZW5jKSkKICAgIHRoaXMuZGVjb2RlcnNbZW5jXSA9IHRoaXMuX2NyZWF0ZU5hbWVkKGFzbjEuZGVjb2RlcnNbZW5jXSk7CiAgcmV0dXJuIHRoaXMuZGVjb2RlcnNbZW5jXTsKfTsKCkVudGl0eS5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKGRhdGEsIGVuYywgb3B0aW9ucykgewogIHJldHVybiB0aGlzLl9nZXREZWNvZGVyKGVuYykuZGVjb2RlKGRhdGEsIG9wdGlvbnMpOwp9OwoKRW50aXR5LnByb3RvdHlwZS5fZ2V0RW5jb2RlciA9IGZ1bmN0aW9uIF9nZXRFbmNvZGVyKGVuYykgewogIC8vIExhemlseSBjcmVhdGUgZW5jb2RlcgogIGlmICghdGhpcy5lbmNvZGVycy5oYXNPd25Qcm9wZXJ0eShlbmMpKQogICAgdGhpcy5lbmNvZGVyc1tlbmNdID0gdGhpcy5fY3JlYXRlTmFtZWQoYXNuMS5lbmNvZGVyc1tlbmNdKTsKICByZXR1cm4gdGhpcy5lbmNvZGVyc1tlbmNdOwp9OwoKRW50aXR5LnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUoZGF0YSwgZW5jLCAvKiBpbnRlcm5hbCAqLyByZXBvcnRlcikgewogIHJldHVybiB0aGlzLl9nZXRFbmNvZGVyKGVuYykuZW5jb2RlKGRhdGEsIHJlcG9ydGVyKTsKfTsKCn0seyIuLi9hc24xIjoxLCJpbmhlcml0cyI6MTI4LCJ2bSI6MTc3fV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7CnZhciBSZXBvcnRlciA9IHJlcXVpcmUoJy4uL2Jhc2UnKS5SZXBvcnRlcjsKdmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ2J1ZmZlcicpLkJ1ZmZlcjsKCmZ1bmN0aW9uIERlY29kZXJCdWZmZXIoYmFzZSwgb3B0aW9ucykgewogIFJlcG9ydGVyLmNhbGwodGhpcywgb3B0aW9ucyk7CiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYmFzZSkpIHsKICAgIHRoaXMuZXJyb3IoJ0lucHV0IG5vdCBCdWZmZXInKTsKICAgIHJldHVybjsKICB9CgogIHRoaXMuYmFzZSA9IGJhc2U7CiAgdGhpcy5vZmZzZXQgPSAwOwogIHRoaXMubGVuZ3RoID0gYmFzZS5sZW5ndGg7Cn0KaW5oZXJpdHMoRGVjb2RlckJ1ZmZlciwgUmVwb3J0ZXIpOwpleHBvcnRzLkRlY29kZXJCdWZmZXIgPSBEZWNvZGVyQnVmZmVyOwoKRGVjb2RlckJ1ZmZlci5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uIHNhdmUoKSB7CiAgcmV0dXJuIHsgb2Zmc2V0OiB0aGlzLm9mZnNldCwgcmVwb3J0ZXI6IFJlcG9ydGVyLnByb3RvdHlwZS5zYXZlLmNhbGwodGhpcykgfTsKfTsKCkRlY29kZXJCdWZmZXIucHJvdG90eXBlLnJlc3RvcmUgPSBmdW5jdGlvbiByZXN0b3JlKHNhdmUpIHsKICAvLyBSZXR1cm4gc2tpcHBlZCBkYXRhCiAgdmFyIHJlcyA9IG5ldyBEZWNvZGVyQnVmZmVyKHRoaXMuYmFzZSk7CiAgcmVzLm9mZnNldCA9IHNhdmUub2Zmc2V0OwogIHJlcy5sZW5ndGggPSB0aGlzLm9mZnNldDsKCiAgdGhpcy5vZmZzZXQgPSBzYXZlLm9mZnNldDsKICBSZXBvcnRlci5wcm90b3R5cGUucmVzdG9yZS5jYWxsKHRoaXMsIHNhdmUucmVwb3J0ZXIpOwoKICByZXR1cm4gcmVzOwp9OwoKRGVjb2RlckJ1ZmZlci5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uIGlzRW1wdHkoKSB7CiAgcmV0dXJuIHRoaXMub2Zmc2V0ID09PSB0aGlzLmxlbmd0aDsKfTsKCkRlY29kZXJCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50OCA9IGZ1bmN0aW9uIHJlYWRVSW50OChmYWlsKSB7CiAgaWYgKHRoaXMub2Zmc2V0ICsgMSA8PSB0aGlzLmxlbmd0aCkKICAgIHJldHVybiB0aGlzLmJhc2UucmVhZFVJbnQ4KHRoaXMub2Zmc2V0KyssIHRydWUpOwogIGVsc2UKICAgIHJldHVybiB0aGlzLmVycm9yKGZhaWwgfHwgJ0RlY29kZXJCdWZmZXIgb3ZlcnJ1bicpOwp9CgpEZWNvZGVyQnVmZmVyLnByb3RvdHlwZS5za2lwID0gZnVuY3Rpb24gc2tpcChieXRlcywgZmFpbCkgewogIGlmICghKHRoaXMub2Zmc2V0ICsgYnl0ZXMgPD0gdGhpcy5sZW5ndGgpKQogICAgcmV0dXJuIHRoaXMuZXJyb3IoZmFpbCB8fCAnRGVjb2RlckJ1ZmZlciBvdmVycnVuJyk7CgogIHZhciByZXMgPSBuZXcgRGVjb2RlckJ1ZmZlcih0aGlzLmJhc2UpOwoKICAvLyBTaGFyZSByZXBvcnRlciBzdGF0ZQogIHJlcy5fcmVwb3J0ZXJTdGF0ZSA9IHRoaXMuX3JlcG9ydGVyU3RhdGU7CgogIHJlcy5vZmZzZXQgPSB0aGlzLm9mZnNldDsKICByZXMubGVuZ3RoID0gdGhpcy5vZmZzZXQgKyBieXRlczsKICB0aGlzLm9mZnNldCArPSBieXRlczsKICByZXR1cm4gcmVzOwp9CgpEZWNvZGVyQnVmZmVyLnByb3RvdHlwZS5yYXcgPSBmdW5jdGlvbiByYXcoc2F2ZSkgewogIHJldHVybiB0aGlzLmJhc2Uuc2xpY2Uoc2F2ZSA/IHNhdmUub2Zmc2V0IDogdGhpcy5vZmZzZXQsIHRoaXMubGVuZ3RoKTsKfQoKZnVuY3Rpb24gRW5jb2RlckJ1ZmZlcih2YWx1ZSwgcmVwb3J0ZXIpIHsKICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHsKICAgIHRoaXMubGVuZ3RoID0gMDsKICAgIHRoaXMudmFsdWUgPSB2YWx1ZS5tYXAoZnVuY3Rpb24oaXRlbSkgewogICAgICBpZiAoIShpdGVtIGluc3RhbmNlb2YgRW5jb2RlckJ1ZmZlcikpCiAgICAgICAgaXRlbSA9IG5ldyBFbmNvZGVyQnVmZmVyKGl0ZW0sIHJlcG9ydGVyKTsKICAgICAgdGhpcy5sZW5ndGggKz0gaXRlbS5sZW5ndGg7CiAgICAgIHJldHVybiBpdGVtOwogICAgfSwgdGhpcyk7CiAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7CiAgICBpZiAoISgwIDw9IHZhbHVlICYmIHZhbHVlIDw9IDB4ZmYpKQogICAgICByZXR1cm4gcmVwb3J0ZXIuZXJyb3IoJ25vbi1ieXRlIEVuY29kZXJCdWZmZXIgdmFsdWUnKTsKICAgIHRoaXMudmFsdWUgPSB2YWx1ZTsKICAgIHRoaXMubGVuZ3RoID0gMTsKICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHsKICAgIHRoaXMudmFsdWUgPSB2YWx1ZTsKICAgIHRoaXMubGVuZ3RoID0gQnVmZmVyLmJ5dGVMZW5ndGgodmFsdWUpOwogIH0gZWxzZSBpZiAoQnVmZmVyLmlzQnVmZmVyKHZhbHVlKSkgewogICAgdGhpcy52YWx1ZSA9IHZhbHVlOwogICAgdGhpcy5sZW5ndGggPSB2YWx1ZS5sZW5ndGg7CiAgfSBlbHNlIHsKICAgIHJldHVybiByZXBvcnRlci5lcnJvcignVW5zdXBwb3J0ZWQgdHlwZTogJyArIHR5cGVvZiB2YWx1ZSk7CiAgfQp9CmV4cG9ydHMuRW5jb2RlckJ1ZmZlciA9IEVuY29kZXJCdWZmZXI7CgpFbmNvZGVyQnVmZmVyLnByb3RvdHlwZS5qb2luID0gZnVuY3Rpb24gam9pbihvdXQsIG9mZnNldCkgewogIGlmICghb3V0KQogICAgb3V0ID0gbmV3IEJ1ZmZlcih0aGlzLmxlbmd0aCk7CiAgaWYgKCFvZmZzZXQpCiAgICBvZmZzZXQgPSAwOwoKICBpZiAodGhpcy5sZW5ndGggPT09IDApCiAgICByZXR1cm4gb3V0OwoKICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKSkgewogICAgdGhpcy52YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHsKICAgICAgaXRlbS5qb2luKG91dCwgb2Zmc2V0KTsKICAgICAgb2Zmc2V0ICs9IGl0ZW0ubGVuZ3RoOwogICAgfSk7CiAgfSBlbHNlIHsKICAgIGlmICh0eXBlb2YgdGhpcy52YWx1ZSA9PT0gJ251bWJlcicpCiAgICAgIG91dFtvZmZzZXRdID0gdGhpcy52YWx1ZTsKICAgIGVsc2UgaWYgKHR5cGVvZiB0aGlzLnZhbHVlID09PSAnc3RyaW5nJykKICAgICAgb3V0LndyaXRlKHRoaXMudmFsdWUsIG9mZnNldCk7CiAgICBlbHNlIGlmIChCdWZmZXIuaXNCdWZmZXIodGhpcy52YWx1ZSkpCiAgICAgIHRoaXMudmFsdWUuY29weShvdXQsIG9mZnNldCk7CiAgICBvZmZzZXQgKz0gdGhpcy5sZW5ndGg7CiAgfQoKICByZXR1cm4gb3V0Owp9OwoKfSx7Ii4uL2Jhc2UiOjQsImJ1ZmZlciI6NzYsImluaGVyaXRzIjoxMjh9XSw0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKdmFyIGJhc2UgPSBleHBvcnRzOwoKYmFzZS5SZXBvcnRlciA9IHJlcXVpcmUoJy4vcmVwb3J0ZXInKS5SZXBvcnRlcjsKYmFzZS5EZWNvZGVyQnVmZmVyID0gcmVxdWlyZSgnLi9idWZmZXInKS5EZWNvZGVyQnVmZmVyOwpiYXNlLkVuY29kZXJCdWZmZXIgPSByZXF1aXJlKCcuL2J1ZmZlcicpLkVuY29kZXJCdWZmZXI7CmJhc2UuTm9kZSA9IHJlcXVpcmUoJy4vbm9kZScpOwoKfSx7Ii4vYnVmZmVyIjozLCIuL25vZGUiOjUsIi4vcmVwb3J0ZXIiOjZ9XSw1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKdmFyIFJlcG9ydGVyID0gcmVxdWlyZSgnLi4vYmFzZScpLlJlcG9ydGVyOwp2YXIgRW5jb2RlckJ1ZmZlciA9IHJlcXVpcmUoJy4uL2Jhc2UnKS5FbmNvZGVyQnVmZmVyOwp2YXIgRGVjb2RlckJ1ZmZlciA9IHJlcXVpcmUoJy4uL2Jhc2UnKS5EZWNvZGVyQnVmZmVyOwp2YXIgYXNzZXJ0ID0gcmVxdWlyZSgnbWluaW1hbGlzdGljLWFzc2VydCcpOwoKLy8gU3VwcG9ydGVkIHRhZ3MKdmFyIHRhZ3MgPSBbCiAgJ3NlcScsICdzZXFvZicsICdzZXQnLCAnc2V0b2YnLCAnb2JqaWQnLCAnYm9vbCcsCiAgJ2dlbnRpbWUnLCAndXRjdGltZScsICdudWxsXycsICdlbnVtJywgJ2ludCcsCiAgJ2JpdHN0cicsICdibXBzdHInLCAnY2hhcnN0cicsICdnZW5zdHInLCAnZ3JhcGhzdHInLCAnaWE1c3RyJywgJ2lzbzY0NnN0cicsCiAgJ251bXN0cicsICdvY3RzdHInLCAncHJpbnRzdHInLCAndDYxc3RyJywgJ3VuaXN0cicsICd1dGY4c3RyJywgJ3ZpZGVvc3RyJwpdOwoKLy8gUHVibGljIG1ldGhvZHMgbGlzdAp2YXIgbWV0aG9kcyA9IFsKICAna2V5JywgJ29iaicsICd1c2UnLCAnb3B0aW9uYWwnLCAnZXhwbGljaXQnLCAnaW1wbGljaXQnLCAnZGVmJywgJ2Nob2ljZScsCiAgJ2FueScsICdjb250YWlucycKXS5jb25jYXQodGFncyk7CgovLyBPdmVycmlkZWQgbWV0aG9kcyBsaXN0CnZhciBvdmVycmlkZWQgPSBbCiAgJ19wZWVrVGFnJywgJ19kZWNvZGVUYWcnLCAnX3VzZScsCiAgJ19kZWNvZGVTdHInLCAnX2RlY29kZU9iamlkJywgJ19kZWNvZGVUaW1lJywKICAnX2RlY29kZU51bGwnLCAnX2RlY29kZUludCcsICdfZGVjb2RlQm9vbCcsICdfZGVjb2RlTGlzdCcsCgogICdfZW5jb2RlQ29tcG9zaXRlJywgJ19lbmNvZGVTdHInLCAnX2VuY29kZU9iamlkJywgJ19lbmNvZGVUaW1lJywKICAnX2VuY29kZU51bGwnLCAnX2VuY29kZUludCcsICdfZW5jb2RlQm9vbCcKXTsKCmZ1bmN0aW9uIE5vZGUoZW5jLCBwYXJlbnQpIHsKICB2YXIgc3RhdGUgPSB7fTsKICB0aGlzLl9iYXNlU3RhdGUgPSBzdGF0ZTsKCiAgc3RhdGUuZW5jID0gZW5jOwoKICBzdGF0ZS5wYXJlbnQgPSBwYXJlbnQgfHwgbnVsbDsKICBzdGF0ZS5jaGlsZHJlbiA9IG51bGw7CgogIC8vIFN0YXRlCiAgc3RhdGUudGFnID0gbnVsbDsKICBzdGF0ZS5hcmdzID0gbnVsbDsKICBzdGF0ZS5yZXZlcnNlQXJncyA9IG51bGw7CiAgc3RhdGUuY2hvaWNlID0gbnVsbDsKICBzdGF0ZS5vcHRpb25hbCA9IGZhbHNlOwogIHN0YXRlLmFueSA9IGZhbHNlOwogIHN0YXRlLm9iaiA9IGZhbHNlOwogIHN0YXRlLnVzZSA9IG51bGw7CiAgc3RhdGUudXNlRGVjb2RlciA9IG51bGw7CiAgc3RhdGUua2V5ID0gbnVsbDsKICBzdGF0ZVsnZGVmYXVsdCddID0gbnVsbDsKICBzdGF0ZS5leHBsaWNpdCA9IG51bGw7CiAgc3RhdGUuaW1wbGljaXQgPSBudWxsOwogIHN0YXRlLmNvbnRhaW5zID0gbnVsbDsKCiAgLy8gU2hvdWxkIGNyZWF0ZSBuZXcgaW5zdGFuY2Ugb24gZWFjaCBtZXRob2QKICBpZiAoIXN0YXRlLnBhcmVudCkgewogICAgc3RhdGUuY2hpbGRyZW4gPSBbXTsKICAgIHRoaXMuX3dyYXAoKTsKICB9Cn0KbW9kdWxlLmV4cG9ydHMgPSBOb2RlOwoKdmFyIHN0YXRlUHJvcHMgPSBbCiAgJ2VuYycsICdwYXJlbnQnLCAnY2hpbGRyZW4nLCAndGFnJywgJ2FyZ3MnLCAncmV2ZXJzZUFyZ3MnLCAnY2hvaWNlJywKICAnb3B0aW9uYWwnLCAnYW55JywgJ29iaicsICd1c2UnLCAnYWx0ZXJlZFVzZScsICdrZXknLCAnZGVmYXVsdCcsICdleHBsaWNpdCcsCiAgJ2ltcGxpY2l0JwpdOwoKTm9kZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSgpIHsKICB2YXIgc3RhdGUgPSB0aGlzLl9iYXNlU3RhdGU7CiAgdmFyIGNzdGF0ZSA9IHt9OwogIHN0YXRlUHJvcHMuZm9yRWFjaChmdW5jdGlvbihwcm9wKSB7CiAgICBjc3RhdGVbcHJvcF0gPSBzdGF0ZVtwcm9wXTsKICB9KTsKICB2YXIgcmVzID0gbmV3IHRoaXMuY29uc3RydWN0b3IoY3N0YXRlLnBhcmVudCk7CiAgcmVzLl9iYXNlU3RhdGUgPSBjc3RhdGU7CiAgcmV0dXJuIHJlczsKfTsKCk5vZGUucHJvdG90eXBlLl93cmFwID0gZnVuY3Rpb24gd3JhcCgpIHsKICB2YXIgc3RhdGUgPSB0aGlzLl9iYXNlU3RhdGU7CiAgbWV0aG9kcy5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkgewogICAgdGhpc1ttZXRob2RdID0gZnVuY3Rpb24gX3dyYXBwZWRNZXRob2QoKSB7CiAgICAgIHZhciBjbG9uZSA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMpOwogICAgICBzdGF0ZS5jaGlsZHJlbi5wdXNoKGNsb25lKTsKICAgICAgcmV0dXJuIGNsb25lW21ldGhvZF0uYXBwbHkoY2xvbmUsIGFyZ3VtZW50cyk7CiAgICB9OwogIH0sIHRoaXMpOwp9OwoKTm9kZS5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiBpbml0KGJvZHkpIHsKICB2YXIgc3RhdGUgPSB0aGlzLl9iYXNlU3RhdGU7CgogIGFzc2VydChzdGF0ZS5wYXJlbnQgPT09IG51bGwpOwogIGJvZHkuY2FsbCh0aGlzKTsKCiAgLy8gRmlsdGVyIGNoaWxkcmVuCiAgc3RhdGUuY2hpbGRyZW4gPSBzdGF0ZS5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24oY2hpbGQpIHsKICAgIHJldHVybiBjaGlsZC5fYmFzZVN0YXRlLnBhcmVudCA9PT0gdGhpczsKICB9LCB0aGlzKTsKICBhc3NlcnQuZXF1YWwoc3RhdGUuY2hpbGRyZW4ubGVuZ3RoLCAxLCAnUm9vdCBub2RlIGNhbiBoYXZlIG9ubHkgb25lIGNoaWxkJyk7Cn07CgpOb2RlLnByb3RvdHlwZS5fdXNlQXJncyA9IGZ1bmN0aW9uIHVzZUFyZ3MoYXJncykgewogIHZhciBzdGF0ZSA9IHRoaXMuX2Jhc2VTdGF0ZTsKCiAgLy8gRmlsdGVyIGNoaWxkcmVuIGFuZCBhcmdzCiAgdmFyIGNoaWxkcmVuID0gYXJncy5maWx0ZXIoZnVuY3Rpb24oYXJnKSB7CiAgICByZXR1cm4gYXJnIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3RvcjsKICB9LCB0aGlzKTsKICBhcmdzID0gYXJncy5maWx0ZXIoZnVuY3Rpb24oYXJnKSB7CiAgICByZXR1cm4gIShhcmcgaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yKTsKICB9LCB0aGlzKTsKCiAgaWYgKGNoaWxkcmVuLmxlbmd0aCAhPT0gMCkgewogICAgYXNzZXJ0KHN0YXRlLmNoaWxkcmVuID09PSBudWxsKTsKICAgIHN0YXRlLmNoaWxkcmVuID0gY2hpbGRyZW47CgogICAgLy8gUmVwbGFjZSBwYXJlbnQgdG8gbWFpbnRhaW4gYmFja3dhcmQgbGluawogICAgY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihjaGlsZCkgewogICAgICBjaGlsZC5fYmFzZVN0YXRlLnBhcmVudCA9IHRoaXM7CiAgICB9LCB0aGlzKTsKICB9CiAgaWYgKGFyZ3MubGVuZ3RoICE9PSAwKSB7CiAgICBhc3NlcnQoc3RhdGUuYXJncyA9PT0gbnVsbCk7CiAgICBzdGF0ZS5hcmdzID0gYXJnczsKICAgIHN0YXRlLnJldmVyc2VBcmdzID0gYXJncy5tYXAoZnVuY3Rpb24oYXJnKSB7CiAgICAgIGlmICh0eXBlb2YgYXJnICE9PSAnb2JqZWN0JyB8fCBhcmcuY29uc3RydWN0b3IgIT09IE9iamVjdCkKICAgICAgICByZXR1cm4gYXJnOwoKICAgICAgdmFyIHJlcyA9IHt9OwogICAgICBPYmplY3Qua2V5cyhhcmcpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7CiAgICAgICAgaWYgKGtleSA9PSAoa2V5IHwgMCkpCiAgICAgICAgICBrZXkgfD0gMDsKICAgICAgICB2YXIgdmFsdWUgPSBhcmdba2V5XTsKICAgICAgICByZXNbdmFsdWVdID0ga2V5OwogICAgICB9KTsKICAgICAgcmV0dXJuIHJlczsKICAgIH0pOwogIH0KfTsKCi8vCi8vIE92ZXJyaWRlZCBtZXRob2RzCi8vCgpvdmVycmlkZWQuZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHsKICBOb2RlLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24gX292ZXJyaWRlZCgpIHsKICAgIHZhciBzdGF0ZSA9IHRoaXMuX2Jhc2VTdGF0ZTsKICAgIHRocm93IG5ldyBFcnJvcihtZXRob2QgKyAnIG5vdCBpbXBsZW1lbnRlZCBmb3IgZW5jb2Rpbmc6ICcgKyBzdGF0ZS5lbmMpOwogIH07Cn0pOwoKLy8KLy8gUHVibGljIG1ldGhvZHMKLy8KCnRhZ3MuZm9yRWFjaChmdW5jdGlvbih0YWcpIHsKICBOb2RlLnByb3RvdHlwZVt0YWddID0gZnVuY3Rpb24gX3RhZ01ldGhvZCgpIHsKICAgIHZhciBzdGF0ZSA9IHRoaXMuX2Jhc2VTdGF0ZTsKICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsKCiAgICBhc3NlcnQoc3RhdGUudGFnID09PSBudWxsKTsKICAgIHN0YXRlLnRhZyA9IHRhZzsKCiAgICB0aGlzLl91c2VBcmdzKGFyZ3MpOwoKICAgIHJldHVybiB0aGlzOwogIH07Cn0pOwoKTm9kZS5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gdXNlKGl0ZW0pIHsKICB2YXIgc3RhdGUgPSB0aGlzLl9iYXNlU3RhdGU7CgogIGFzc2VydChzdGF0ZS51c2UgPT09IG51bGwpOwogIHN0YXRlLnVzZSA9IGl0ZW07CgogIHJldHVybiB0aGlzOwp9OwoKTm9kZS5wcm90b3R5cGUub3B0aW9uYWwgPSBmdW5jdGlvbiBvcHRpb25hbCgpIHsKICB2YXIgc3RhdGUgPSB0aGlzLl9iYXNlU3RhdGU7CgogIHN0YXRlLm9wdGlvbmFsID0gdHJ1ZTsKCiAgcmV0dXJuIHRoaXM7Cn07CgpOb2RlLnByb3RvdHlwZS5kZWYgPSBmdW5jdGlvbiBkZWYodmFsKSB7CiAgdmFyIHN0YXRlID0gdGhpcy5fYmFzZVN0YXRlOwoKICBhc3NlcnQoc3RhdGVbJ2RlZmF1bHQnXSA9PT0gbnVsbCk7CiAgc3RhdGVbJ2RlZmF1bHQnXSA9IHZhbDsKICBzdGF0ZS5vcHRpb25hbCA9IHRydWU7CgogIHJldHVybiB0aGlzOwp9OwoKTm9kZS5wcm90b3R5cGUuZXhwbGljaXQgPSBmdW5jdGlvbiBleHBsaWNpdChudW0pIHsKICB2YXIgc3RhdGUgPSB0aGlzLl9iYXNlU3RhdGU7CgogIGFzc2VydChzdGF0ZS5leHBsaWNpdCA9PT0gbnVsbCAmJiBzdGF0ZS5pbXBsaWNpdCA9PT0gbnVsbCk7CiAgc3RhdGUuZXhwbGljaXQgPSBudW07CgogIHJldHVybiB0aGlzOwp9OwoKTm9kZS5wcm90b3R5cGUuaW1wbGljaXQgPSBmdW5jdGlvbiBpbXBsaWNpdChudW0pIHsKICB2YXIgc3RhdGUgPSB0aGlzLl9iYXNlU3RhdGU7CgogIGFzc2VydChzdGF0ZS5leHBsaWNpdCA9PT0gbnVsbCAmJiBzdGF0ZS5pbXBsaWNpdCA9PT0gbnVsbCk7CiAgc3RhdGUuaW1wbGljaXQgPSBudW07CgogIHJldHVybiB0aGlzOwp9OwoKTm9kZS5wcm90b3R5cGUub2JqID0gZnVuY3Rpb24gb2JqKCkgewogIHZhciBzdGF0ZSA9IHRoaXMuX2Jhc2VTdGF0ZTsKICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7CgogIHN0YXRlLm9iaiA9IHRydWU7CgogIGlmIChhcmdzLmxlbmd0aCAhPT0gMCkKICAgIHRoaXMuX3VzZUFyZ3MoYXJncyk7CgogIHJldHVybiB0aGlzOwp9OwoKTm9kZS5wcm90b3R5cGUua2V5ID0gZnVuY3Rpb24ga2V5KG5ld0tleSkgewogIHZhciBzdGF0ZSA9IHRoaXMuX2Jhc2VTdGF0ZTsKCiAgYXNzZXJ0KHN0YXRlLmtleSA9PT0gbnVsbCk7CiAgc3RhdGUua2V5ID0gbmV3S2V5OwoKICByZXR1cm4gdGhpczsKfTsKCk5vZGUucHJvdG90eXBlLmFueSA9IGZ1bmN0aW9uIGFueSgpIHsKICB2YXIgc3RhdGUgPSB0aGlzLl9iYXNlU3RhdGU7CgogIHN0YXRlLmFueSA9IHRydWU7CgogIHJldHVybiB0aGlzOwp9OwoKTm9kZS5wcm90b3R5cGUuY2hvaWNlID0gZnVuY3Rpb24gY2hvaWNlKG9iaikgewogIHZhciBzdGF0ZSA9IHRoaXMuX2Jhc2VTdGF0ZTsKCiAgYXNzZXJ0KHN0YXRlLmNob2ljZSA9PT0gbnVsbCk7CiAgc3RhdGUuY2hvaWNlID0gb2JqOwogIHRoaXMuX3VzZUFyZ3MoT2JqZWN0LmtleXMob2JqKS5tYXAoZnVuY3Rpb24oa2V5KSB7CiAgICByZXR1cm4gb2JqW2tleV07CiAgfSkpOwoKICByZXR1cm4gdGhpczsKfTsKCk5vZGUucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gY29udGFpbnMoaXRlbSkgewogIHZhciBzdGF0ZSA9IHRoaXMuX2Jhc2VTdGF0ZTsKCiAgYXNzZXJ0KHN0YXRlLnVzZSA9PT0gbnVsbCk7CiAgc3RhdGUuY29udGFpbnMgPSBpdGVtOwoKICByZXR1cm4gdGhpczsKfTsKCi8vCi8vIERlY29kaW5nCi8vCgpOb2RlLnByb3RvdHlwZS5fZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKGlucHV0KSB7CiAgdmFyIHN0YXRlID0gdGhpcy5fYmFzZVN0YXRlOwoKICAvLyBEZWNvZGUgcm9vdCBub2RlCiAgaWYgKHN0YXRlLnBhcmVudCA9PT0gbnVsbCkKICAgIHJldHVybiBpbnB1dC53cmFwUmVzdWx0KHN0YXRlLmNoaWxkcmVuWzBdLl9kZWNvZGUoaW5wdXQpKTsKCiAgdmFyIHJlc3VsdCA9IHN0YXRlWydkZWZhdWx0J107CiAgdmFyIHByZXNlbnQgPSB0cnVlOwoKICB2YXIgcHJldktleTsKICBpZiAoc3RhdGUua2V5ICE9PSBudWxsKQogICAgcHJldktleSA9IGlucHV0LmVudGVyS2V5KHN0YXRlLmtleSk7CgogIC8vIENoZWNrIGlmIHRhZyBpcyB0aGVyZQogIGlmIChzdGF0ZS5vcHRpb25hbCkgewogICAgdmFyIHRhZyA9IG51bGw7CiAgICBpZiAoc3RhdGUuZXhwbGljaXQgIT09IG51bGwpCiAgICAgIHRhZyA9IHN0YXRlLmV4cGxpY2l0OwogICAgZWxzZSBpZiAoc3RhdGUuaW1wbGljaXQgIT09IG51bGwpCiAgICAgIHRhZyA9IHN0YXRlLmltcGxpY2l0OwogICAgZWxzZSBpZiAoc3RhdGUudGFnICE9PSBudWxsKQogICAgICB0YWcgPSBzdGF0ZS50YWc7CgogICAgaWYgKHRhZyA9PT0gbnVsbCAmJiAhc3RhdGUuYW55KSB7CiAgICAgIC8vIFRyaWFsIGFuZCBFcnJvcgogICAgICB2YXIgc2F2ZSA9IGlucHV0LnNhdmUoKTsKICAgICAgdHJ5IHsKICAgICAgICBpZiAoc3RhdGUuY2hvaWNlID09PSBudWxsKQogICAgICAgICAgdGhpcy5fZGVjb2RlR2VuZXJpYyhzdGF0ZS50YWcsIGlucHV0KTsKICAgICAgICBlbHNlCiAgICAgICAgICB0aGlzLl9kZWNvZGVDaG9pY2UoaW5wdXQpOwogICAgICAgIHByZXNlbnQgPSB0cnVlOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgcHJlc2VudCA9IGZhbHNlOwogICAgICB9CiAgICAgIGlucHV0LnJlc3RvcmUoc2F2ZSk7CiAgICB9IGVsc2UgewogICAgICBwcmVzZW50ID0gdGhpcy5fcGVla1RhZyhpbnB1dCwgdGFnLCBzdGF0ZS5hbnkpOwoKICAgICAgaWYgKGlucHV0LmlzRXJyb3IocHJlc2VudCkpCiAgICAgICAgcmV0dXJuIHByZXNlbnQ7CiAgICB9CiAgfQoKICAvLyBQdXNoIG9iamVjdCBvbiBzdGFjawogIHZhciBwcmV2T2JqOwogIGlmIChzdGF0ZS5vYmogJiYgcHJlc2VudCkKICAgIHByZXZPYmogPSBpbnB1dC5lbnRlck9iamVjdCgpOwoKICBpZiAocHJlc2VudCkgewogICAgLy8gVW53cmFwIGV4cGxpY2l0IHZhbHVlcwogICAgaWYgKHN0YXRlLmV4cGxpY2l0ICE9PSBudWxsKSB7CiAgICAgIHZhciBleHBsaWNpdCA9IHRoaXMuX2RlY29kZVRhZyhpbnB1dCwgc3RhdGUuZXhwbGljaXQpOwogICAgICBpZiAoaW5wdXQuaXNFcnJvcihleHBsaWNpdCkpCiAgICAgICAgcmV0dXJuIGV4cGxpY2l0OwogICAgICBpbnB1dCA9IGV4cGxpY2l0OwogICAgfQoKICAgIC8vIFVud3JhcCBpbXBsaWNpdCBhbmQgbm9ybWFsIHZhbHVlcwogICAgaWYgKHN0YXRlLnVzZSA9PT0gbnVsbCAmJiBzdGF0ZS5jaG9pY2UgPT09IG51bGwpIHsKICAgICAgaWYgKHN0YXRlLmFueSkKICAgICAgICB2YXIgc2F2ZSA9IGlucHV0LnNhdmUoKTsKICAgICAgdmFyIGJvZHkgPSB0aGlzLl9kZWNvZGVUYWcoCiAgICAgICAgaW5wdXQsCiAgICAgICAgc3RhdGUuaW1wbGljaXQgIT09IG51bGwgPyBzdGF0ZS5pbXBsaWNpdCA6IHN0YXRlLnRhZywKICAgICAgICBzdGF0ZS5hbnkKICAgICAgKTsKICAgICAgaWYgKGlucHV0LmlzRXJyb3IoYm9keSkpCiAgICAgICAgcmV0dXJuIGJvZHk7CgogICAgICBpZiAoc3RhdGUuYW55KQogICAgICAgIHJlc3VsdCA9IGlucHV0LnJhdyhzYXZlKTsKICAgICAgZWxzZQogICAgICAgIGlucHV0ID0gYm9keTsKICAgIH0KCiAgICAvLyBTZWxlY3QgcHJvcGVyIG1ldGhvZCBmb3IgdGFnCiAgICBpZiAoc3RhdGUuYW55KQogICAgICByZXN1bHQgPSByZXN1bHQ7CiAgICBlbHNlIGlmIChzdGF0ZS5jaG9pY2UgPT09IG51bGwpCiAgICAgIHJlc3VsdCA9IHRoaXMuX2RlY29kZUdlbmVyaWMoc3RhdGUudGFnLCBpbnB1dCk7CiAgICBlbHNlCiAgICAgIHJlc3VsdCA9IHRoaXMuX2RlY29kZUNob2ljZShpbnB1dCk7CgogICAgaWYgKGlucHV0LmlzRXJyb3IocmVzdWx0KSkKICAgICAgcmV0dXJuIHJlc3VsdDsKCiAgICAvLyBEZWNvZGUgY2hpbGRyZW4KICAgIGlmICghc3RhdGUuYW55ICYmIHN0YXRlLmNob2ljZSA9PT0gbnVsbCAmJiBzdGF0ZS5jaGlsZHJlbiAhPT0gbnVsbCkgewogICAgICB2YXIgZmFpbCA9IHN0YXRlLmNoaWxkcmVuLnNvbWUoZnVuY3Rpb24gZGVjb2RlQ2hpbGRyZW4oY2hpbGQpIHsKICAgICAgICAvLyBOT1RFOiBXZSBhcmUgaWdub3JpbmcgZXJyb3JzIGhlcmUsIHRvIGxldCBwYXJzZXIgY29udGludWUgd2l0aCBvdGhlcgogICAgICAgIC8vIHBhcnRzIG9mIGVuY29kZWQgZGF0YQogICAgICAgIGNoaWxkLl9kZWNvZGUoaW5wdXQpOwogICAgICB9KTsKICAgICAgaWYgKGZhaWwpCiAgICAgICAgcmV0dXJuIGVycjsKICAgIH0KCiAgICAvLyBEZWNvZGUgY29udGFpbmVkL2VuY29kZWQgYnkgc2NoZW1hLCBvbmx5IGluIGJpdCBvciBvY3RldCBzdHJpbmdzCiAgICBpZiAoc3RhdGUuY29udGFpbnMgJiYgKHN0YXRlLnRhZyA9PT0gJ29jdHN0cicgfHwgc3RhdGUudGFnID09PSAnYml0c3RyJykpIHsKICAgICAgdmFyIGRhdGEgPSBuZXcgRGVjb2RlckJ1ZmZlcihyZXN1bHQpOwogICAgICByZXN1bHQgPSB0aGlzLl9nZXRVc2Uoc3RhdGUuY29udGFpbnMsIGlucHV0Ll9yZXBvcnRlclN0YXRlLm9iaikuX2RlY29kZShkYXRhKTsKICAgIH0KICB9CgogIC8vIFBvcCBvYmplY3QKICBpZiAoc3RhdGUub2JqICYmIHByZXNlbnQpCiAgICByZXN1bHQgPSBpbnB1dC5sZWF2ZU9iamVjdChwcmV2T2JqKTsKCiAgLy8gU2V0IGtleQogIGlmIChzdGF0ZS5rZXkgIT09IG51bGwgJiYgKHJlc3VsdCAhPT0gbnVsbCB8fCBwcmVzZW50ID09PSB0cnVlKSkKICAgIGlucHV0LmxlYXZlS2V5KHByZXZLZXksIHN0YXRlLmtleSwgcmVzdWx0KTsKCiAgcmV0dXJuIHJlc3VsdDsKfTsKCk5vZGUucHJvdG90eXBlLl9kZWNvZGVHZW5lcmljID0gZnVuY3Rpb24gZGVjb2RlR2VuZXJpYyh0YWcsIGlucHV0KSB7CiAgdmFyIHN0YXRlID0gdGhpcy5fYmFzZVN0YXRlOwoKICBpZiAodGFnID09PSAnc2VxJyB8fCB0YWcgPT09ICdzZXQnKQogICAgcmV0dXJuIG51bGw7CiAgaWYgKHRhZyA9PT0gJ3NlcW9mJyB8fCB0YWcgPT09ICdzZXRvZicpCiAgICByZXR1cm4gdGhpcy5fZGVjb2RlTGlzdChpbnB1dCwgdGFnLCBzdGF0ZS5hcmdzWzBdKTsKICBlbHNlIGlmICgvc3RyJC8udGVzdCh0YWcpKQogICAgcmV0dXJuIHRoaXMuX2RlY29kZVN0cihpbnB1dCwgdGFnKTsKICBlbHNlIGlmICh0YWcgPT09ICdvYmppZCcgJiYgc3RhdGUuYXJncykKICAgIHJldHVybiB0aGlzLl9kZWNvZGVPYmppZChpbnB1dCwgc3RhdGUuYXJnc1swXSwgc3RhdGUuYXJnc1sxXSk7CiAgZWxzZSBpZiAodGFnID09PSAnb2JqaWQnKQogICAgcmV0dXJuIHRoaXMuX2RlY29kZU9iamlkKGlucHV0LCBudWxsLCBudWxsKTsKICBlbHNlIGlmICh0YWcgPT09ICdnZW50aW1lJyB8fCB0YWcgPT09ICd1dGN0aW1lJykKICAgIHJldHVybiB0aGlzLl9kZWNvZGVUaW1lKGlucHV0LCB0YWcpOwogIGVsc2UgaWYgKHRhZyA9PT0gJ251bGxfJykKICAgIHJldHVybiB0aGlzLl9kZWNvZGVOdWxsKGlucHV0KTsKICBlbHNlIGlmICh0YWcgPT09ICdib29sJykKICAgIHJldHVybiB0aGlzLl9kZWNvZGVCb29sKGlucHV0KTsKICBlbHNlIGlmICh0YWcgPT09ICdpbnQnIHx8IHRhZyA9PT0gJ2VudW0nKQogICAgcmV0dXJuIHRoaXMuX2RlY29kZUludChpbnB1dCwgc3RhdGUuYXJncyAmJiBzdGF0ZS5hcmdzWzBdKTsKICBlbHNlIGlmIChzdGF0ZS51c2UgIT09IG51bGwpCiAgICByZXR1cm4gdGhpcy5fZ2V0VXNlKHN0YXRlLnVzZSwgaW5wdXQuX3JlcG9ydGVyU3RhdGUub2JqKS5fZGVjb2RlKGlucHV0KTsKICBlbHNlCiAgICByZXR1cm4gaW5wdXQuZXJyb3IoJ3Vua25vd24gdGFnOiAnICsgdGFnKTsKCiAgcmV0dXJuIG51bGw7Cn07CgpOb2RlLnByb3RvdHlwZS5fZ2V0VXNlID0gZnVuY3Rpb24gX2dldFVzZShlbnRpdHksIG9iaikgewoKICB2YXIgc3RhdGUgPSB0aGlzLl9iYXNlU3RhdGU7CiAgLy8gQ3JlYXRlIGFsdGVyZWQgdXNlIGRlY29kZXIgaWYgaW1wbGljaXQgaXMgc2V0CiAgc3RhdGUudXNlRGVjb2RlciA9IHRoaXMuX3VzZShlbnRpdHksIG9iaik7CiAgYXNzZXJ0KHN0YXRlLnVzZURlY29kZXIuX2Jhc2VTdGF0ZS5wYXJlbnQgPT09IG51bGwpOwogIHN0YXRlLnVzZURlY29kZXIgPSBzdGF0ZS51c2VEZWNvZGVyLl9iYXNlU3RhdGUuY2hpbGRyZW5bMF07CiAgaWYgKHN0YXRlLmltcGxpY2l0ICE9PSBzdGF0ZS51c2VEZWNvZGVyLl9iYXNlU3RhdGUuaW1wbGljaXQpIHsKICAgIHN0YXRlLnVzZURlY29kZXIgPSBzdGF0ZS51c2VEZWNvZGVyLmNsb25lKCk7CiAgICBzdGF0ZS51c2VEZWNvZGVyLl9iYXNlU3RhdGUuaW1wbGljaXQgPSBzdGF0ZS5pbXBsaWNpdDsKICB9CiAgcmV0dXJuIHN0YXRlLnVzZURlY29kZXI7Cn07CgpOb2RlLnByb3RvdHlwZS5fZGVjb2RlQ2hvaWNlID0gZnVuY3Rpb24gZGVjb2RlQ2hvaWNlKGlucHV0KSB7CiAgdmFyIHN0YXRlID0gdGhpcy5fYmFzZVN0YXRlOwogIHZhciByZXN1bHQgPSBudWxsOwogIHZhciBtYXRjaCA9IGZhbHNlOwoKICBPYmplY3Qua2V5cyhzdGF0ZS5jaG9pY2UpLnNvbWUoZnVuY3Rpb24oa2V5KSB7CiAgICB2YXIgc2F2ZSA9IGlucHV0LnNhdmUoKTsKICAgIHZhciBub2RlID0gc3RhdGUuY2hvaWNlW2tleV07CiAgICB0cnkgewogICAgICB2YXIgdmFsdWUgPSBub2RlLl9kZWNvZGUoaW5wdXQpOwogICAgICBpZiAoaW5wdXQuaXNFcnJvcih2YWx1ZSkpCiAgICAgICAgcmV0dXJuIGZhbHNlOwoKICAgICAgcmVzdWx0ID0geyB0eXBlOiBrZXksIHZhbHVlOiB2YWx1ZSB9OwogICAgICBtYXRjaCA9IHRydWU7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIGlucHV0LnJlc3RvcmUoc2F2ZSk7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHJldHVybiB0cnVlOwogIH0sIHRoaXMpOwoKICBpZiAoIW1hdGNoKQogICAgcmV0dXJuIGlucHV0LmVycm9yKCdDaG9pY2Ugbm90IG1hdGNoZWQnKTsKCiAgcmV0dXJuIHJlc3VsdDsKfTsKCi8vCi8vIEVuY29kaW5nCi8vCgpOb2RlLnByb3RvdHlwZS5fY3JlYXRlRW5jb2RlckJ1ZmZlciA9IGZ1bmN0aW9uIGNyZWF0ZUVuY29kZXJCdWZmZXIoZGF0YSkgewogIHJldHVybiBuZXcgRW5jb2RlckJ1ZmZlcihkYXRhLCB0aGlzLnJlcG9ydGVyKTsKfTsKCk5vZGUucHJvdG90eXBlLl9lbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUoZGF0YSwgcmVwb3J0ZXIsIHBhcmVudCkgewogIHZhciBzdGF0ZSA9IHRoaXMuX2Jhc2VTdGF0ZTsKICBpZiAoc3RhdGVbJ2RlZmF1bHQnXSAhPT0gbnVsbCAmJiBzdGF0ZVsnZGVmYXVsdCddID09PSBkYXRhKQogICAgcmV0dXJuOwoKICB2YXIgcmVzdWx0ID0gdGhpcy5fZW5jb2RlVmFsdWUoZGF0YSwgcmVwb3J0ZXIsIHBhcmVudCk7CiAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKQogICAgcmV0dXJuOwoKICBpZiAodGhpcy5fc2tpcERlZmF1bHQocmVzdWx0LCByZXBvcnRlciwgcGFyZW50KSkKICAgIHJldHVybjsKCiAgcmV0dXJuIHJlc3VsdDsKfTsKCk5vZGUucHJvdG90eXBlLl9lbmNvZGVWYWx1ZSA9IGZ1bmN0aW9uIGVuY29kZShkYXRhLCByZXBvcnRlciwgcGFyZW50KSB7CiAgdmFyIHN0YXRlID0gdGhpcy5fYmFzZVN0YXRlOwoKICAvLyBEZWNvZGUgcm9vdCBub2RlCiAgaWYgKHN0YXRlLnBhcmVudCA9PT0gbnVsbCkKICAgIHJldHVybiBzdGF0ZS5jaGlsZHJlblswXS5fZW5jb2RlKGRhdGEsIHJlcG9ydGVyIHx8IG5ldyBSZXBvcnRlcigpKTsKCiAgdmFyIHJlc3VsdCA9IG51bGw7CiAgdmFyIHByZXNlbnQgPSB0cnVlOwoKICAvLyBTZXQgcmVwb3J0ZXIgdG8gc2hhcmUgaXQgd2l0aCBhIGNoaWxkIGNsYXNzCiAgdGhpcy5yZXBvcnRlciA9IHJlcG9ydGVyOwoKICAvLyBDaGVjayBpZiBkYXRhIGlzIHRoZXJlCiAgaWYgKHN0YXRlLm9wdGlvbmFsICYmIGRhdGEgPT09IHVuZGVmaW5lZCkgewogICAgaWYgKHN0YXRlWydkZWZhdWx0J10gIT09IG51bGwpCiAgICAgIGRhdGEgPSBzdGF0ZVsnZGVmYXVsdCddCiAgICBlbHNlCiAgICAgIHJldHVybjsKICB9CgogIC8vIEZvciBlcnJvciByZXBvcnRpbmcKICB2YXIgcHJldktleTsKCiAgLy8gRW5jb2RlIGNoaWxkcmVuIGZpcnN0CiAgdmFyIGNvbnRlbnQgPSBudWxsOwogIHZhciBwcmltaXRpdmUgPSBmYWxzZTsKICBpZiAoc3RhdGUuYW55KSB7CiAgICAvLyBBbnl0aGluZyB0aGF0IHdhcyBnaXZlbiBpcyB0cmFuc2xhdGVkIHRvIGJ1ZmZlcgogICAgcmVzdWx0ID0gdGhpcy5fY3JlYXRlRW5jb2RlckJ1ZmZlcihkYXRhKTsKICB9IGVsc2UgaWYgKHN0YXRlLmNob2ljZSkgewogICAgcmVzdWx0ID0gdGhpcy5fZW5jb2RlQ2hvaWNlKGRhdGEsIHJlcG9ydGVyKTsKICB9IGVsc2UgaWYgKHN0YXRlLmNvbnRhaW5zKSB7CiAgICBjb250ZW50ID0gdGhpcy5fZ2V0VXNlKHN0YXRlLmNvbnRhaW5zLCBwYXJlbnQpLl9lbmNvZGUoZGF0YSwgcmVwb3J0ZXIpOwogICAgcHJpbWl0aXZlID0gdHJ1ZTsKICB9IGVsc2UgaWYgKHN0YXRlLmNoaWxkcmVuKSB7CiAgICBjb250ZW50ID0gc3RhdGUuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uKGNoaWxkKSB7CiAgICAgIGlmIChjaGlsZC5fYmFzZVN0YXRlLnRhZyA9PT0gJ251bGxfJykKICAgICAgICByZXR1cm4gY2hpbGQuX2VuY29kZShudWxsLCByZXBvcnRlciwgZGF0YSk7CgogICAgICBpZiAoY2hpbGQuX2Jhc2VTdGF0ZS5rZXkgPT09IG51bGwpCiAgICAgICAgcmV0dXJuIHJlcG9ydGVyLmVycm9yKCdDaGlsZCBzaG91bGQgaGF2ZSBhIGtleScpOwogICAgICB2YXIgcHJldktleSA9IHJlcG9ydGVyLmVudGVyS2V5KGNoaWxkLl9iYXNlU3RhdGUua2V5KTsKCiAgICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gJ29iamVjdCcpCiAgICAgICAgcmV0dXJuIHJlcG9ydGVyLmVycm9yKCdDaGlsZCBleHBlY3RlZCwgYnV0IGlucHV0IGlzIG5vdCBvYmplY3QnKTsKCiAgICAgIHZhciByZXMgPSBjaGlsZC5fZW5jb2RlKGRhdGFbY2hpbGQuX2Jhc2VTdGF0ZS5rZXldLCByZXBvcnRlciwgZGF0YSk7CiAgICAgIHJlcG9ydGVyLmxlYXZlS2V5KHByZXZLZXkpOwoKICAgICAgcmV0dXJuIHJlczsKICAgIH0sIHRoaXMpLmZpbHRlcihmdW5jdGlvbihjaGlsZCkgewogICAgICByZXR1cm4gY2hpbGQ7CiAgICB9KTsKICAgIGNvbnRlbnQgPSB0aGlzLl9jcmVhdGVFbmNvZGVyQnVmZmVyKGNvbnRlbnQpOwogIH0gZWxzZSB7CiAgICBpZiAoc3RhdGUudGFnID09PSAnc2Vxb2YnIHx8IHN0YXRlLnRhZyA9PT0gJ3NldG9mJykgewogICAgICAvLyBUT0RPKGluZHV0bnkpOiB0aGlzIHNob3VsZCBiZSB0aHJvd24gb24gRFNMIGxldmVsCiAgICAgIGlmICghKHN0YXRlLmFyZ3MgJiYgc3RhdGUuYXJncy5sZW5ndGggPT09IDEpKQogICAgICAgIHJldHVybiByZXBvcnRlci5lcnJvcignVG9vIG1hbnkgYXJncyBmb3IgOiAnICsgc3RhdGUudGFnKTsKCiAgICAgIGlmICghQXJyYXkuaXNBcnJheShkYXRhKSkKICAgICAgICByZXR1cm4gcmVwb3J0ZXIuZXJyb3IoJ3NlcW9mL3NldG9mLCBidXQgZGF0YSBpcyBub3QgQXJyYXknKTsKCiAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2xvbmUoKTsKICAgICAgY2hpbGQuX2Jhc2VTdGF0ZS5pbXBsaWNpdCA9IG51bGw7CiAgICAgIGNvbnRlbnQgPSB0aGlzLl9jcmVhdGVFbmNvZGVyQnVmZmVyKGRhdGEubWFwKGZ1bmN0aW9uKGl0ZW0pIHsKICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLl9iYXNlU3RhdGU7CgogICAgICAgIHJldHVybiB0aGlzLl9nZXRVc2Uoc3RhdGUuYXJnc1swXSwgZGF0YSkuX2VuY29kZShpdGVtLCByZXBvcnRlcik7CiAgICAgIH0sIGNoaWxkKSk7CiAgICB9IGVsc2UgaWYgKHN0YXRlLnVzZSAhPT0gbnVsbCkgewogICAgICByZXN1bHQgPSB0aGlzLl9nZXRVc2Uoc3RhdGUudXNlLCBwYXJlbnQpLl9lbmNvZGUoZGF0YSwgcmVwb3J0ZXIpOwogICAgfSBlbHNlIHsKICAgICAgY29udGVudCA9IHRoaXMuX2VuY29kZVByaW1pdGl2ZShzdGF0ZS50YWcsIGRhdGEpOwogICAgICBwcmltaXRpdmUgPSB0cnVlOwogICAgfQogIH0KCiAgLy8gRW5jb2RlIGRhdGEgaXRzZWxmCiAgdmFyIHJlc3VsdDsKICBpZiAoIXN0YXRlLmFueSAmJiBzdGF0ZS5jaG9pY2UgPT09IG51bGwpIHsKICAgIHZhciB0YWcgPSBzdGF0ZS5pbXBsaWNpdCAhPT0gbnVsbCA/IHN0YXRlLmltcGxpY2l0IDogc3RhdGUudGFnOwogICAgdmFyIGNscyA9IHN0YXRlLmltcGxpY2l0ID09PSBudWxsID8gJ3VuaXZlcnNhbCcgOiAnY29udGV4dCc7CgogICAgaWYgKHRhZyA9PT0gbnVsbCkgewogICAgICBpZiAoc3RhdGUudXNlID09PSBudWxsKQogICAgICAgIHJlcG9ydGVyLmVycm9yKCdUYWcgY291bGQgYmUgb21taXRlZCBvbmx5IGZvciAudXNlKCknKTsKICAgIH0gZWxzZSB7CiAgICAgIGlmIChzdGF0ZS51c2UgPT09IG51bGwpCiAgICAgICAgcmVzdWx0ID0gdGhpcy5fZW5jb2RlQ29tcG9zaXRlKHRhZywgcHJpbWl0aXZlLCBjbHMsIGNvbnRlbnQpOwogICAgfQogIH0KCiAgLy8gV3JhcCBpbiBleHBsaWNpdAogIGlmIChzdGF0ZS5leHBsaWNpdCAhPT0gbnVsbCkKICAgIHJlc3VsdCA9IHRoaXMuX2VuY29kZUNvbXBvc2l0ZShzdGF0ZS5leHBsaWNpdCwgZmFsc2UsICdjb250ZXh0JywgcmVzdWx0KTsKCiAgcmV0dXJuIHJlc3VsdDsKfTsKCk5vZGUucHJvdG90eXBlLl9lbmNvZGVDaG9pY2UgPSBmdW5jdGlvbiBlbmNvZGVDaG9pY2UoZGF0YSwgcmVwb3J0ZXIpIHsKICB2YXIgc3RhdGUgPSB0aGlzLl9iYXNlU3RhdGU7CgogIHZhciBub2RlID0gc3RhdGUuY2hvaWNlW2RhdGEudHlwZV07CiAgaWYgKCFub2RlKSB7CiAgICBhc3NlcnQoCiAgICAgICAgZmFsc2UsCiAgICAgICAgZGF0YS50eXBlICsgJyBub3QgZm91bmQgaW4gJyArCiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KE9iamVjdC5rZXlzKHN0YXRlLmNob2ljZSkpKTsKICB9CiAgcmV0dXJuIG5vZGUuX2VuY29kZShkYXRhLnZhbHVlLCByZXBvcnRlcik7Cn07CgpOb2RlLnByb3RvdHlwZS5fZW5jb2RlUHJpbWl0aXZlID0gZnVuY3Rpb24gZW5jb2RlUHJpbWl0aXZlKHRhZywgZGF0YSkgewogIHZhciBzdGF0ZSA9IHRoaXMuX2Jhc2VTdGF0ZTsKCiAgaWYgKC9zdHIkLy50ZXN0KHRhZykpCiAgICByZXR1cm4gdGhpcy5fZW5jb2RlU3RyKGRhdGEsIHRhZyk7CiAgZWxzZSBpZiAodGFnID09PSAnb2JqaWQnICYmIHN0YXRlLmFyZ3MpCiAgICByZXR1cm4gdGhpcy5fZW5jb2RlT2JqaWQoZGF0YSwgc3RhdGUucmV2ZXJzZUFyZ3NbMF0sIHN0YXRlLmFyZ3NbMV0pOwogIGVsc2UgaWYgKHRhZyA9PT0gJ29iamlkJykKICAgIHJldHVybiB0aGlzLl9lbmNvZGVPYmppZChkYXRhLCBudWxsLCBudWxsKTsKICBlbHNlIGlmICh0YWcgPT09ICdnZW50aW1lJyB8fCB0YWcgPT09ICd1dGN0aW1lJykKICAgIHJldHVybiB0aGlzLl9lbmNvZGVUaW1lKGRhdGEsIHRhZyk7CiAgZWxzZSBpZiAodGFnID09PSAnbnVsbF8nKQogICAgcmV0dXJuIHRoaXMuX2VuY29kZU51bGwoKTsKICBlbHNlIGlmICh0YWcgPT09ICdpbnQnIHx8IHRhZyA9PT0gJ2VudW0nKQogICAgcmV0dXJuIHRoaXMuX2VuY29kZUludChkYXRhLCBzdGF0ZS5hcmdzICYmIHN0YXRlLnJldmVyc2VBcmdzWzBdKTsKICBlbHNlIGlmICh0YWcgPT09ICdib29sJykKICAgIHJldHVybiB0aGlzLl9lbmNvZGVCb29sKGRhdGEpOwogIGVsc2UKICAgIHRocm93IG5ldyBFcnJvcignVW5zdXBwb3J0ZWQgdGFnOiAnICsgdGFnKTsKfTsKCk5vZGUucHJvdG90eXBlLl9pc051bXN0ciA9IGZ1bmN0aW9uIGlzTnVtc3RyKHN0cikgewogIHJldHVybiAvXlswLTkgXSokLy50ZXN0KHN0cik7Cn07CgpOb2RlLnByb3RvdHlwZS5faXNQcmludHN0ciA9IGZ1bmN0aW9uIGlzUHJpbnRzdHIoc3RyKSB7CiAgcmV0dXJuIC9eW0EtWmEtejAtOSAnXChcKVwrLFwtXC5cLzo9XD9dKiQvLnRlc3Qoc3RyKTsKfTsKCn0seyIuLi9iYXNlIjo0LCJtaW5pbWFsaXN0aWMtYXNzZXJ0IjoxMzN9XSw2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKdmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTsKCmZ1bmN0aW9uIFJlcG9ydGVyKG9wdGlvbnMpIHsKICB0aGlzLl9yZXBvcnRlclN0YXRlID0gewogICAgb2JqOiBudWxsLAogICAgcGF0aDogW10sCiAgICBvcHRpb25zOiBvcHRpb25zIHx8IHt9LAogICAgZXJyb3JzOiBbXQogIH07Cn0KZXhwb3J0cy5SZXBvcnRlciA9IFJlcG9ydGVyOwoKUmVwb3J0ZXIucHJvdG90eXBlLmlzRXJyb3IgPSBmdW5jdGlvbiBpc0Vycm9yKG9iaikgewogIHJldHVybiBvYmogaW5zdGFuY2VvZiBSZXBvcnRlckVycm9yOwp9OwoKUmVwb3J0ZXIucHJvdG90eXBlLnNhdmUgPSBmdW5jdGlvbiBzYXZlKCkgewogIHZhciBzdGF0ZSA9IHRoaXMuX3JlcG9ydGVyU3RhdGU7CgogIHJldHVybiB7IG9iajogc3RhdGUub2JqLCBwYXRoTGVuOiBzdGF0ZS5wYXRoLmxlbmd0aCB9Owp9OwoKUmVwb3J0ZXIucHJvdG90eXBlLnJlc3RvcmUgPSBmdW5jdGlvbiByZXN0b3JlKGRhdGEpIHsKICB2YXIgc3RhdGUgPSB0aGlzLl9yZXBvcnRlclN0YXRlOwoKICBzdGF0ZS5vYmogPSBkYXRhLm9iajsKICBzdGF0ZS5wYXRoID0gc3RhdGUucGF0aC5zbGljZSgwLCBkYXRhLnBhdGhMZW4pOwp9OwoKUmVwb3J0ZXIucHJvdG90eXBlLmVudGVyS2V5ID0gZnVuY3Rpb24gZW50ZXJLZXkoa2V5KSB7CiAgcmV0dXJuIHRoaXMuX3JlcG9ydGVyU3RhdGUucGF0aC5wdXNoKGtleSk7Cn07CgpSZXBvcnRlci5wcm90b3R5cGUubGVhdmVLZXkgPSBmdW5jdGlvbiBsZWF2ZUtleShpbmRleCwga2V5LCB2YWx1ZSkgewogIHZhciBzdGF0ZSA9IHRoaXMuX3JlcG9ydGVyU3RhdGU7CgogIHN0YXRlLnBhdGggPSBzdGF0ZS5wYXRoLnNsaWNlKDAsIGluZGV4IC0gMSk7CiAgaWYgKHN0YXRlLm9iaiAhPT0gbnVsbCkKICAgIHN0YXRlLm9ialtrZXldID0gdmFsdWU7Cn07CgpSZXBvcnRlci5wcm90b3R5cGUuZW50ZXJPYmplY3QgPSBmdW5jdGlvbiBlbnRlck9iamVjdCgpIHsKICB2YXIgc3RhdGUgPSB0aGlzLl9yZXBvcnRlclN0YXRlOwoKICB2YXIgcHJldiA9IHN0YXRlLm9iajsKICBzdGF0ZS5vYmogPSB7fTsKICByZXR1cm4gcHJldjsKfTsKClJlcG9ydGVyLnByb3RvdHlwZS5sZWF2ZU9iamVjdCA9IGZ1bmN0aW9uIGxlYXZlT2JqZWN0KHByZXYpIHsKICB2YXIgc3RhdGUgPSB0aGlzLl9yZXBvcnRlclN0YXRlOwoKICB2YXIgbm93ID0gc3RhdGUub2JqOwogIHN0YXRlLm9iaiA9IHByZXY7CiAgcmV0dXJuIG5vdzsKfTsKClJlcG9ydGVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIGVycm9yKG1zZykgewogIHZhciBlcnI7CiAgdmFyIHN0YXRlID0gdGhpcy5fcmVwb3J0ZXJTdGF0ZTsKCiAgdmFyIGluaGVyaXRlZCA9IG1zZyBpbnN0YW5jZW9mIFJlcG9ydGVyRXJyb3I7CiAgaWYgKGluaGVyaXRlZCkgewogICAgZXJyID0gbXNnOwogIH0gZWxzZSB7CiAgICBlcnIgPSBuZXcgUmVwb3J0ZXJFcnJvcihzdGF0ZS5wYXRoLm1hcChmdW5jdGlvbihlbGVtKSB7CiAgICAgIHJldHVybiAnWycgKyBKU09OLnN0cmluZ2lmeShlbGVtKSArICddJzsKICAgIH0pLmpvaW4oJycpLCBtc2cubWVzc2FnZSB8fCBtc2csIG1zZy5zdGFjayk7CiAgfQoKICBpZiAoIXN0YXRlLm9wdGlvbnMucGFydGlhbCkKICAgIHRocm93IGVycjsKCiAgaWYgKCFpbmhlcml0ZWQpCiAgICBzdGF0ZS5lcnJvcnMucHVzaChlcnIpOwoKICByZXR1cm4gZXJyOwp9OwoKUmVwb3J0ZXIucHJvdG90eXBlLndyYXBSZXN1bHQgPSBmdW5jdGlvbiB3cmFwUmVzdWx0KHJlc3VsdCkgewogIHZhciBzdGF0ZSA9IHRoaXMuX3JlcG9ydGVyU3RhdGU7CiAgaWYgKCFzdGF0ZS5vcHRpb25zLnBhcnRpYWwpCiAgICByZXR1cm4gcmVzdWx0OwoKICByZXR1cm4gewogICAgcmVzdWx0OiB0aGlzLmlzRXJyb3IocmVzdWx0KSA/IG51bGwgOiByZXN1bHQsCiAgICBlcnJvcnM6IHN0YXRlLmVycm9ycwogIH07Cn07CgpmdW5jdGlvbiBSZXBvcnRlckVycm9yKHBhdGgsIG1zZykgewogIHRoaXMucGF0aCA9IHBhdGg7CiAgdGhpcy5yZXRocm93KG1zZyk7Cn07CmluaGVyaXRzKFJlcG9ydGVyRXJyb3IsIEVycm9yKTsKClJlcG9ydGVyRXJyb3IucHJvdG90eXBlLnJldGhyb3cgPSBmdW5jdGlvbiByZXRocm93KG1zZykgewogIHRoaXMubWVzc2FnZSA9IG1zZyArICcgYXQ6ICcgKyAodGhpcy5wYXRoIHx8ICcoc2hhbGxvdyknKTsKICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBSZXBvcnRlckVycm9yKTsKCiAgcmV0dXJuIHRoaXM7Cn07Cgp9LHsiaW5oZXJpdHMiOjEyOH1dLDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewp2YXIgY29uc3RhbnRzID0gcmVxdWlyZSgnLi4vY29uc3RhbnRzJyk7CgpleHBvcnRzLnRhZ0NsYXNzID0gewogIDA6ICd1bml2ZXJzYWwnLAogIDE6ICdhcHBsaWNhdGlvbicsCiAgMjogJ2NvbnRleHQnLAogIDM6ICdwcml2YXRlJwp9OwpleHBvcnRzLnRhZ0NsYXNzQnlOYW1lID0gY29uc3RhbnRzLl9yZXZlcnNlKGV4cG9ydHMudGFnQ2xhc3MpOwoKZXhwb3J0cy50YWcgPSB7CiAgMHgwMDogJ2VuZCcsCiAgMHgwMTogJ2Jvb2wnLAogIDB4MDI6ICdpbnQnLAogIDB4MDM6ICdiaXRzdHInLAogIDB4MDQ6ICdvY3RzdHInLAogIDB4MDU6ICdudWxsXycsCiAgMHgwNjogJ29iamlkJywKICAweDA3OiAnb2JqRGVzYycsCiAgMHgwODogJ2V4dGVybmFsJywKICAweDA5OiAncmVhbCcsCiAgMHgwYTogJ2VudW0nLAogIDB4MGI6ICdlbWJlZCcsCiAgMHgwYzogJ3V0ZjhzdHInLAogIDB4MGQ6ICdyZWxhdGl2ZU9pZCcsCiAgMHgxMDogJ3NlcScsCiAgMHgxMTogJ3NldCcsCiAgMHgxMjogJ251bXN0cicsCiAgMHgxMzogJ3ByaW50c3RyJywKICAweDE0OiAndDYxc3RyJywKICAweDE1OiAndmlkZW9zdHInLAogIDB4MTY6ICdpYTVzdHInLAogIDB4MTc6ICd1dGN0aW1lJywKICAweDE4OiAnZ2VudGltZScsCiAgMHgxOTogJ2dyYXBoc3RyJywKICAweDFhOiAnaXNvNjQ2c3RyJywKICAweDFiOiAnZ2Vuc3RyJywKICAweDFjOiAndW5pc3RyJywKICAweDFkOiAnY2hhcnN0cicsCiAgMHgxZTogJ2JtcHN0cicKfTsKZXhwb3J0cy50YWdCeU5hbWUgPSBjb25zdGFudHMuX3JldmVyc2UoZXhwb3J0cy50YWcpOwoKfSx7Ii4uL2NvbnN0YW50cyI6OH1dLDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewp2YXIgY29uc3RhbnRzID0gZXhwb3J0czsKCi8vIEhlbHBlcgpjb25zdGFudHMuX3JldmVyc2UgPSBmdW5jdGlvbiByZXZlcnNlKG1hcCkgewogIHZhciByZXMgPSB7fTsKCiAgT2JqZWN0LmtleXMobWFwKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkgewogICAgLy8gQ29udmVydCBrZXkgdG8gaW50ZWdlciBpZiBpdCBpcyBzdHJpbmdpZmllZAogICAgaWYgKChrZXkgfCAwKSA9PSBrZXkpCiAgICAgIGtleSA9IGtleSB8IDA7CgogICAgdmFyIHZhbHVlID0gbWFwW2tleV07CiAgICByZXNbdmFsdWVdID0ga2V5OwogIH0pOwoKICByZXR1cm4gcmVzOwp9OwoKY29uc3RhbnRzLmRlciA9IHJlcXVpcmUoJy4vZGVyJyk7Cgp9LHsiLi9kZXIiOjd9XSw5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKdmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTsKCnZhciBhc24xID0gcmVxdWlyZSgnLi4vLi4vYXNuMScpOwp2YXIgYmFzZSA9IGFzbjEuYmFzZTsKdmFyIGJpZ251bSA9IGFzbjEuYmlnbnVtOwoKLy8gSW1wb3J0IERFUiBjb25zdGFudHMKdmFyIGRlciA9IGFzbjEuY29uc3RhbnRzLmRlcjsKCmZ1bmN0aW9uIERFUkRlY29kZXIoZW50aXR5KSB7CiAgdGhpcy5lbmMgPSAnZGVyJzsKICB0aGlzLm5hbWUgPSBlbnRpdHkubmFtZTsKICB0aGlzLmVudGl0eSA9IGVudGl0eTsKCiAgLy8gQ29uc3RydWN0IGJhc2UgdHJlZQogIHRoaXMudHJlZSA9IG5ldyBERVJOb2RlKCk7CiAgdGhpcy50cmVlLl9pbml0KGVudGl0eS5ib2R5KTsKfTsKbW9kdWxlLmV4cG9ydHMgPSBERVJEZWNvZGVyOwoKREVSRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlID0gZnVuY3Rpb24gZGVjb2RlKGRhdGEsIG9wdGlvbnMpIHsKICBpZiAoIShkYXRhIGluc3RhbmNlb2YgYmFzZS5EZWNvZGVyQnVmZmVyKSkKICAgIGRhdGEgPSBuZXcgYmFzZS5EZWNvZGVyQnVmZmVyKGRhdGEsIG9wdGlvbnMpOwoKICByZXR1cm4gdGhpcy50cmVlLl9kZWNvZGUoZGF0YSwgb3B0aW9ucyk7Cn07CgovLyBUcmVlIG1ldGhvZHMKCmZ1bmN0aW9uIERFUk5vZGUocGFyZW50KSB7CiAgYmFzZS5Ob2RlLmNhbGwodGhpcywgJ2RlcicsIHBhcmVudCk7Cn0KaW5oZXJpdHMoREVSTm9kZSwgYmFzZS5Ob2RlKTsKCkRFUk5vZGUucHJvdG90eXBlLl9wZWVrVGFnID0gZnVuY3Rpb24gcGVla1RhZyhidWZmZXIsIHRhZywgYW55KSB7CiAgaWYgKGJ1ZmZlci5pc0VtcHR5KCkpCiAgICByZXR1cm4gZmFsc2U7CgogIHZhciBzdGF0ZSA9IGJ1ZmZlci5zYXZlKCk7CiAgdmFyIGRlY29kZWRUYWcgPSBkZXJEZWNvZGVUYWcoYnVmZmVyLCAnRmFpbGVkIHRvIHBlZWsgdGFnOiAiJyArIHRhZyArICciJyk7CiAgaWYgKGJ1ZmZlci5pc0Vycm9yKGRlY29kZWRUYWcpKQogICAgcmV0dXJuIGRlY29kZWRUYWc7CgogIGJ1ZmZlci5yZXN0b3JlKHN0YXRlKTsKCiAgcmV0dXJuIGRlY29kZWRUYWcudGFnID09PSB0YWcgfHwgZGVjb2RlZFRhZy50YWdTdHIgPT09IHRhZyB8fAogICAgKGRlY29kZWRUYWcudGFnU3RyICsgJ29mJykgPT09IHRhZyB8fCBhbnk7Cn07CgpERVJOb2RlLnByb3RvdHlwZS5fZGVjb2RlVGFnID0gZnVuY3Rpb24gZGVjb2RlVGFnKGJ1ZmZlciwgdGFnLCBhbnkpIHsKICB2YXIgZGVjb2RlZFRhZyA9IGRlckRlY29kZVRhZyhidWZmZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZhaWxlZCB0byBkZWNvZGUgdGFnIG9mICInICsgdGFnICsgJyInKTsKICBpZiAoYnVmZmVyLmlzRXJyb3IoZGVjb2RlZFRhZykpCiAgICByZXR1cm4gZGVjb2RlZFRhZzsKCiAgdmFyIGxlbiA9IGRlckRlY29kZUxlbihidWZmZXIsCiAgICAgICAgICAgICAgICAgICAgICAgICBkZWNvZGVkVGFnLnByaW1pdGl2ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICdGYWlsZWQgdG8gZ2V0IGxlbmd0aCBvZiAiJyArIHRhZyArICciJyk7CgogIC8vIEZhaWx1cmUKICBpZiAoYnVmZmVyLmlzRXJyb3IobGVuKSkKICAgIHJldHVybiBsZW47CgogIGlmICghYW55ICYmCiAgICAgIGRlY29kZWRUYWcudGFnICE9PSB0YWcgJiYKICAgICAgZGVjb2RlZFRhZy50YWdTdHIgIT09IHRhZyAmJgogICAgICBkZWNvZGVkVGFnLnRhZ1N0ciArICdvZicgIT09IHRhZykgewogICAgcmV0dXJuIGJ1ZmZlci5lcnJvcignRmFpbGVkIHRvIG1hdGNoIHRhZzogIicgKyB0YWcgKyAnIicpOwogIH0KCiAgaWYgKGRlY29kZWRUYWcucHJpbWl0aXZlIHx8IGxlbiAhPT0gbnVsbCkKICAgIHJldHVybiBidWZmZXIuc2tpcChsZW4sICdGYWlsZWQgdG8gbWF0Y2ggYm9keSBvZjogIicgKyB0YWcgKyAnIicpOwoKICAvLyBJbmRlZmluaXRlIGxlbmd0aC4uLiBmaW5kIEVORCB0YWcKICB2YXIgc3RhdGUgPSBidWZmZXIuc2F2ZSgpOwogIHZhciByZXMgPSB0aGlzLl9za2lwVW50aWxFbmQoCiAgICAgIGJ1ZmZlciwKICAgICAgJ0ZhaWxlZCB0byBza2lwIGluZGVmaW5pdGUgbGVuZ3RoIGJvZHk6ICInICsgdGhpcy50YWcgKyAnIicpOwogIGlmIChidWZmZXIuaXNFcnJvcihyZXMpKQogICAgcmV0dXJuIHJlczsKCiAgbGVuID0gYnVmZmVyLm9mZnNldCAtIHN0YXRlLm9mZnNldDsKICBidWZmZXIucmVzdG9yZShzdGF0ZSk7CiAgcmV0dXJuIGJ1ZmZlci5za2lwKGxlbiwgJ0ZhaWxlZCB0byBtYXRjaCBib2R5IG9mOiAiJyArIHRhZyArICciJyk7Cn07CgpERVJOb2RlLnByb3RvdHlwZS5fc2tpcFVudGlsRW5kID0gZnVuY3Rpb24gc2tpcFVudGlsRW5kKGJ1ZmZlciwgZmFpbCkgewogIHdoaWxlICh0cnVlKSB7CiAgICB2YXIgdGFnID0gZGVyRGVjb2RlVGFnKGJ1ZmZlciwgZmFpbCk7CiAgICBpZiAoYnVmZmVyLmlzRXJyb3IodGFnKSkKICAgICAgcmV0dXJuIHRhZzsKICAgIHZhciBsZW4gPSBkZXJEZWNvZGVMZW4oYnVmZmVyLCB0YWcucHJpbWl0aXZlLCBmYWlsKTsKICAgIGlmIChidWZmZXIuaXNFcnJvcihsZW4pKQogICAgICByZXR1cm4gbGVuOwoKICAgIHZhciByZXM7CiAgICBpZiAodGFnLnByaW1pdGl2ZSB8fCBsZW4gIT09IG51bGwpCiAgICAgIHJlcyA9IGJ1ZmZlci5za2lwKGxlbikKICAgIGVsc2UKICAgICAgcmVzID0gdGhpcy5fc2tpcFVudGlsRW5kKGJ1ZmZlciwgZmFpbCk7CgogICAgLy8gRmFpbHVyZQogICAgaWYgKGJ1ZmZlci5pc0Vycm9yKHJlcykpCiAgICAgIHJldHVybiByZXM7CgogICAgaWYgKHRhZy50YWdTdHIgPT09ICdlbmQnKQogICAgICBicmVhazsKICB9Cn07CgpERVJOb2RlLnByb3RvdHlwZS5fZGVjb2RlTGlzdCA9IGZ1bmN0aW9uIGRlY29kZUxpc3QoYnVmZmVyLCB0YWcsIGRlY29kZXIpIHsKICB2YXIgcmVzdWx0ID0gW107CiAgd2hpbGUgKCFidWZmZXIuaXNFbXB0eSgpKSB7CiAgICB2YXIgcG9zc2libGVFbmQgPSB0aGlzLl9wZWVrVGFnKGJ1ZmZlciwgJ2VuZCcpOwogICAgaWYgKGJ1ZmZlci5pc0Vycm9yKHBvc3NpYmxlRW5kKSkKICAgICAgcmV0dXJuIHBvc3NpYmxlRW5kOwoKICAgIHZhciByZXMgPSBkZWNvZGVyLmRlY29kZShidWZmZXIsICdkZXInKTsKICAgIGlmIChidWZmZXIuaXNFcnJvcihyZXMpICYmIHBvc3NpYmxlRW5kKQogICAgICBicmVhazsKICAgIHJlc3VsdC5wdXNoKHJlcyk7CiAgfQogIHJldHVybiByZXN1bHQ7Cn07CgpERVJOb2RlLnByb3RvdHlwZS5fZGVjb2RlU3RyID0gZnVuY3Rpb24gZGVjb2RlU3RyKGJ1ZmZlciwgdGFnKSB7CiAgaWYgKHRhZyA9PT0gJ2JpdHN0cicpIHsKICAgIHZhciB1bnVzZWQgPSBidWZmZXIucmVhZFVJbnQ4KCk7CiAgICBpZiAoYnVmZmVyLmlzRXJyb3IodW51c2VkKSkKICAgICAgcmV0dXJuIHVudXNlZDsKICAgIHJldHVybiB7IHVudXNlZDogdW51c2VkLCBkYXRhOiBidWZmZXIucmF3KCkgfTsKICB9IGVsc2UgaWYgKHRhZyA9PT0gJ2JtcHN0cicpIHsKICAgIHZhciByYXcgPSBidWZmZXIucmF3KCk7CiAgICBpZiAocmF3Lmxlbmd0aCAlIDIgPT09IDEpCiAgICAgIHJldHVybiBidWZmZXIuZXJyb3IoJ0RlY29kaW5nIG9mIHN0cmluZyB0eXBlOiBibXBzdHIgbGVuZ3RoIG1pc21hdGNoJyk7CgogICAgdmFyIHN0ciA9ICcnOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXcubGVuZ3RoIC8gMjsgaSsrKSB7CiAgICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHJhdy5yZWFkVUludDE2QkUoaSAqIDIpKTsKICAgIH0KICAgIHJldHVybiBzdHI7CiAgfSBlbHNlIGlmICh0YWcgPT09ICdudW1zdHInKSB7CiAgICB2YXIgbnVtc3RyID0gYnVmZmVyLnJhdygpLnRvU3RyaW5nKCdhc2NpaScpOwogICAgaWYgKCF0aGlzLl9pc051bXN0cihudW1zdHIpKSB7CiAgICAgIHJldHVybiBidWZmZXIuZXJyb3IoJ0RlY29kaW5nIG9mIHN0cmluZyB0eXBlOiAnICsKICAgICAgICAgICAgICAgICAgICAgICAgICAnbnVtc3RyIHVuc3VwcG9ydGVkIGNoYXJhY3RlcnMnKTsKICAgIH0KICAgIHJldHVybiBudW1zdHI7CiAgfSBlbHNlIGlmICh0YWcgPT09ICdvY3RzdHInKSB7CiAgICByZXR1cm4gYnVmZmVyLnJhdygpOwogIH0gZWxzZSBpZiAodGFnID09PSAncHJpbnRzdHInKSB7CiAgICB2YXIgcHJpbnRzdHIgPSBidWZmZXIucmF3KCkudG9TdHJpbmcoJ2FzY2lpJyk7CiAgICBpZiAoIXRoaXMuX2lzUHJpbnRzdHIocHJpbnRzdHIpKSB7CiAgICAgIHJldHVybiBidWZmZXIuZXJyb3IoJ0RlY29kaW5nIG9mIHN0cmluZyB0eXBlOiAnICsKICAgICAgICAgICAgICAgICAgICAgICAgICAncHJpbnRzdHIgdW5zdXBwb3J0ZWQgY2hhcmFjdGVycycpOwogICAgfQogICAgcmV0dXJuIHByaW50c3RyOwogIH0gZWxzZSBpZiAoL3N0ciQvLnRlc3QodGFnKSkgewogICAgcmV0dXJuIGJ1ZmZlci5yYXcoKS50b1N0cmluZygpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gYnVmZmVyLmVycm9yKCdEZWNvZGluZyBvZiBzdHJpbmcgdHlwZTogJyArIHRhZyArICcgdW5zdXBwb3J0ZWQnKTsKICB9Cn07CgpERVJOb2RlLnByb3RvdHlwZS5fZGVjb2RlT2JqaWQgPSBmdW5jdGlvbiBkZWNvZGVPYmppZChidWZmZXIsIHZhbHVlcywgcmVsYXRpdmUpIHsKICB2YXIgcmVzdWx0OwogIHZhciBpZGVudGlmaWVycyA9IFtdOwogIHZhciBpZGVudCA9IDA7CiAgd2hpbGUgKCFidWZmZXIuaXNFbXB0eSgpKSB7CiAgICB2YXIgc3ViaWRlbnQgPSBidWZmZXIucmVhZFVJbnQ4KCk7CiAgICBpZGVudCA8PD0gNzsKICAgIGlkZW50IHw9IHN1YmlkZW50ICYgMHg3ZjsKICAgIGlmICgoc3ViaWRlbnQgJiAweDgwKSA9PT0gMCkgewogICAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50KTsKICAgICAgaWRlbnQgPSAwOwogICAgfQogIH0KICBpZiAoc3ViaWRlbnQgJiAweDgwKQogICAgaWRlbnRpZmllcnMucHVzaChpZGVudCk7CgogIHZhciBmaXJzdCA9IChpZGVudGlmaWVyc1swXSAvIDQwKSB8IDA7CiAgdmFyIHNlY29uZCA9IGlkZW50aWZpZXJzWzBdICUgNDA7CgogIGlmIChyZWxhdGl2ZSkKICAgIHJlc3VsdCA9IGlkZW50aWZpZXJzOwogIGVsc2UKICAgIHJlc3VsdCA9IFtmaXJzdCwgc2Vjb25kXS5jb25jYXQoaWRlbnRpZmllcnMuc2xpY2UoMSkpOwoKICBpZiAodmFsdWVzKSB7CiAgICB2YXIgdG1wID0gdmFsdWVzW3Jlc3VsdC5qb2luKCcgJyldOwogICAgaWYgKHRtcCA9PT0gdW5kZWZpbmVkKQogICAgICB0bXAgPSB2YWx1ZXNbcmVzdWx0LmpvaW4oJy4nKV07CiAgICBpZiAodG1wICE9PSB1bmRlZmluZWQpCiAgICAgIHJlc3VsdCA9IHRtcDsKICB9CgogIHJldHVybiByZXN1bHQ7Cn07CgpERVJOb2RlLnByb3RvdHlwZS5fZGVjb2RlVGltZSA9IGZ1bmN0aW9uIGRlY29kZVRpbWUoYnVmZmVyLCB0YWcpIHsKICB2YXIgc3RyID0gYnVmZmVyLnJhdygpLnRvU3RyaW5nKCk7CiAgaWYgKHRhZyA9PT0gJ2dlbnRpbWUnKSB7CiAgICB2YXIgeWVhciA9IHN0ci5zbGljZSgwLCA0KSB8IDA7CiAgICB2YXIgbW9uID0gc3RyLnNsaWNlKDQsIDYpIHwgMDsKICAgIHZhciBkYXkgPSBzdHIuc2xpY2UoNiwgOCkgfCAwOwogICAgdmFyIGhvdXIgPSBzdHIuc2xpY2UoOCwgMTApIHwgMDsKICAgIHZhciBtaW4gPSBzdHIuc2xpY2UoMTAsIDEyKSB8IDA7CiAgICB2YXIgc2VjID0gc3RyLnNsaWNlKDEyLCAxNCkgfCAwOwogIH0gZWxzZSBpZiAodGFnID09PSAndXRjdGltZScpIHsKICAgIHZhciB5ZWFyID0gc3RyLnNsaWNlKDAsIDIpIHwgMDsKICAgIHZhciBtb24gPSBzdHIuc2xpY2UoMiwgNCkgfCAwOwogICAgdmFyIGRheSA9IHN0ci5zbGljZSg0LCA2KSB8IDA7CiAgICB2YXIgaG91ciA9IHN0ci5zbGljZSg2LCA4KSB8IDA7CiAgICB2YXIgbWluID0gc3RyLnNsaWNlKDgsIDEwKSB8IDA7CiAgICB2YXIgc2VjID0gc3RyLnNsaWNlKDEwLCAxMikgfCAwOwogICAgaWYgKHllYXIgPCA3MCkKICAgICAgeWVhciA9IDIwMDAgKyB5ZWFyOwogICAgZWxzZQogICAgICB5ZWFyID0gMTkwMCArIHllYXI7CiAgfSBlbHNlIHsKICAgIHJldHVybiBidWZmZXIuZXJyb3IoJ0RlY29kaW5nICcgKyB0YWcgKyAnIHRpbWUgaXMgbm90IHN1cHBvcnRlZCB5ZXQnKTsKICB9CgogIHJldHVybiBEYXRlLlVUQyh5ZWFyLCBtb24gLSAxLCBkYXksIGhvdXIsIG1pbiwgc2VjLCAwKTsKfTsKCkRFUk5vZGUucHJvdG90eXBlLl9kZWNvZGVOdWxsID0gZnVuY3Rpb24gZGVjb2RlTnVsbChidWZmZXIpIHsKICByZXR1cm4gbnVsbDsKfTsKCkRFUk5vZGUucHJvdG90eXBlLl9kZWNvZGVCb29sID0gZnVuY3Rpb24gZGVjb2RlQm9vbChidWZmZXIpIHsKICB2YXIgcmVzID0gYnVmZmVyLnJlYWRVSW50OCgpOwogIGlmIChidWZmZXIuaXNFcnJvcihyZXMpKQogICAgcmV0dXJuIHJlczsKICBlbHNlCiAgICByZXR1cm4gcmVzICE9PSAwOwp9OwoKREVSTm9kZS5wcm90b3R5cGUuX2RlY29kZUludCA9IGZ1bmN0aW9uIGRlY29kZUludChidWZmZXIsIHZhbHVlcykgewogIC8vIEJpZ2ludCwgcmV0dXJuIGFzIGl0IGlzIChhc3N1bWUgYmlnIGVuZGlhbikKICB2YXIgcmF3ID0gYnVmZmVyLnJhdygpOwogIHZhciByZXMgPSBuZXcgYmlnbnVtKHJhdyk7CgogIGlmICh2YWx1ZXMpCiAgICByZXMgPSB2YWx1ZXNbcmVzLnRvU3RyaW5nKDEwKV0gfHwgcmVzOwoKICByZXR1cm4gcmVzOwp9OwoKREVSTm9kZS5wcm90b3R5cGUuX3VzZSA9IGZ1bmN0aW9uIHVzZShlbnRpdHksIG9iaikgewogIGlmICh0eXBlb2YgZW50aXR5ID09PSAnZnVuY3Rpb24nKQogICAgZW50aXR5ID0gZW50aXR5KG9iaik7CiAgcmV0dXJuIGVudGl0eS5fZ2V0RGVjb2RlcignZGVyJykudHJlZTsKfTsKCi8vIFV0aWxpdHkgbWV0aG9kcwoKZnVuY3Rpb24gZGVyRGVjb2RlVGFnKGJ1ZiwgZmFpbCkgewogIHZhciB0YWcgPSBidWYucmVhZFVJbnQ4KGZhaWwpOwogIGlmIChidWYuaXNFcnJvcih0YWcpKQogICAgcmV0dXJuIHRhZzsKCiAgdmFyIGNscyA9IGRlci50YWdDbGFzc1t0YWcgPj4gNl07CiAgdmFyIHByaW1pdGl2ZSA9ICh0YWcgJiAweDIwKSA9PT0gMDsKCiAgLy8gTXVsdGktb2N0ZXQgdGFnIC0gbG9hZAogIGlmICgodGFnICYgMHgxZikgPT09IDB4MWYpIHsKICAgIHZhciBvY3QgPSB0YWc7CiAgICB0YWcgPSAwOwogICAgd2hpbGUgKChvY3QgJiAweDgwKSA9PT0gMHg4MCkgewogICAgICBvY3QgPSBidWYucmVhZFVJbnQ4KGZhaWwpOwogICAgICBpZiAoYnVmLmlzRXJyb3Iob2N0KSkKICAgICAgICByZXR1cm4gb2N0OwoKICAgICAgdGFnIDw8PSA3OwogICAgICB0YWcgfD0gb2N0ICYgMHg3ZjsKICAgIH0KICB9IGVsc2UgewogICAgdGFnICY9IDB4MWY7CiAgfQogIHZhciB0YWdTdHIgPSBkZXIudGFnW3RhZ107CgogIHJldHVybiB7CiAgICBjbHM6IGNscywKICAgIHByaW1pdGl2ZTogcHJpbWl0aXZlLAogICAgdGFnOiB0YWcsCiAgICB0YWdTdHI6IHRhZ1N0cgogIH07Cn0KCmZ1bmN0aW9uIGRlckRlY29kZUxlbihidWYsIHByaW1pdGl2ZSwgZmFpbCkgewogIHZhciBsZW4gPSBidWYucmVhZFVJbnQ4KGZhaWwpOwogIGlmIChidWYuaXNFcnJvcihsZW4pKQogICAgcmV0dXJuIGxlbjsKCiAgLy8gSW5kZWZpbml0ZSBmb3JtCiAgaWYgKCFwcmltaXRpdmUgJiYgbGVuID09PSAweDgwKQogICAgcmV0dXJuIG51bGw7CgogIC8vIERlZmluaXRlIGZvcm0KICBpZiAoKGxlbiAmIDB4ODApID09PSAwKSB7CiAgICAvLyBTaG9ydCBmb3JtCiAgICByZXR1cm4gbGVuOwogIH0KCiAgLy8gTG9uZyBmb3JtCiAgdmFyIG51bSA9IGxlbiAmIDB4N2Y7CiAgaWYgKG51bSA+PSA0KQogICAgcmV0dXJuIGJ1Zi5lcnJvcignbGVuZ3RoIG9jdGVjdCBpcyB0b28gbG9uZycpOwoKICBsZW4gPSAwOwogIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtOyBpKyspIHsKICAgIGxlbiA8PD0gODsKICAgIHZhciBqID0gYnVmLnJlYWRVSW50OChmYWlsKTsKICAgIGlmIChidWYuaXNFcnJvcihqKSkKICAgICAgcmV0dXJuIGo7CiAgICBsZW4gfD0gajsKICB9CgogIHJldHVybiBsZW47Cn0KCn0seyIuLi8uLi9hc24xIjoxLCJpbmhlcml0cyI6MTI4fV0sMTA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewp2YXIgZGVjb2RlcnMgPSBleHBvcnRzOwoKZGVjb2RlcnMuZGVyID0gcmVxdWlyZSgnLi9kZXInKTsKZGVjb2RlcnMucGVtID0gcmVxdWlyZSgnLi9wZW0nKTsKCn0seyIuL2RlciI6OSwiLi9wZW0iOjExfV0sMTE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewp2YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpOwp2YXIgQnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyOwoKdmFyIGFzbjEgPSByZXF1aXJlKCcuLi8uLi9hc24xJyk7CnZhciBERVJEZWNvZGVyID0gcmVxdWlyZSgnLi9kZXInKTsKCmZ1bmN0aW9uIFBFTURlY29kZXIoZW50aXR5KSB7CiAgREVSRGVjb2Rlci5jYWxsKHRoaXMsIGVudGl0eSk7CiAgdGhpcy5lbmMgPSAncGVtJzsKfTsKaW5oZXJpdHMoUEVNRGVjb2RlciwgREVSRGVjb2Rlcik7Cm1vZHVsZS5leHBvcnRzID0gUEVNRGVjb2RlcjsKClBFTURlY29kZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZShkYXRhLCBvcHRpb25zKSB7CiAgdmFyIGxpbmVzID0gZGF0YS50b1N0cmluZygpLnNwbGl0KC9bXHJcbl0rL2cpOwoKICB2YXIgbGFiZWwgPSBvcHRpb25zLmxhYmVsLnRvVXBwZXJDYXNlKCk7CgogIHZhciByZSA9IC9eLS0tLS0oQkVHSU58RU5EKSAoW14tXSspLS0tLS0kLzsKICB2YXIgc3RhcnQgPSAtMTsKICB2YXIgZW5kID0gLTE7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykgewogICAgdmFyIG1hdGNoID0gbGluZXNbaV0ubWF0Y2gocmUpOwogICAgaWYgKG1hdGNoID09PSBudWxsKQogICAgICBjb250aW51ZTsKCiAgICBpZiAobWF0Y2hbMl0gIT09IGxhYmVsKQogICAgICBjb250aW51ZTsKCiAgICBpZiAoc3RhcnQgPT09IC0xKSB7CiAgICAgIGlmIChtYXRjaFsxXSAhPT0gJ0JFR0lOJykKICAgICAgICBicmVhazsKICAgICAgc3RhcnQgPSBpOwogICAgfSBlbHNlIHsKICAgICAgaWYgKG1hdGNoWzFdICE9PSAnRU5EJykKICAgICAgICBicmVhazsKICAgICAgZW5kID0gaTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIGlmIChzdGFydCA9PT0gLTEgfHwgZW5kID09PSAtMSkKICAgIHRocm93IG5ldyBFcnJvcignUEVNIHNlY3Rpb24gbm90IGZvdW5kIGZvcjogJyArIGxhYmVsKTsKCiAgdmFyIGJhc2U2NCA9IGxpbmVzLnNsaWNlKHN0YXJ0ICsgMSwgZW5kKS5qb2luKCcnKTsKICAvLyBSZW1vdmUgZXhjZXNzaXZlIHN5bWJvbHMKICBiYXNlNjQucmVwbGFjZSgvW15hLXowLTlcK1wvPV0rL2dpLCAnJyk7CgogIHZhciBpbnB1dCA9IG5ldyBCdWZmZXIoYmFzZTY0LCAnYmFzZTY0Jyk7CiAgcmV0dXJuIERFUkRlY29kZXIucHJvdG90eXBlLmRlY29kZS5jYWxsKHRoaXMsIGlucHV0LCBvcHRpb25zKTsKfTsKCn0seyIuLi8uLi9hc24xIjoxLCIuL2RlciI6OSwiYnVmZmVyIjo3NiwiaW5oZXJpdHMiOjEyOH1dLDEyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKdmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTsKdmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ2J1ZmZlcicpLkJ1ZmZlcjsKCnZhciBhc24xID0gcmVxdWlyZSgnLi4vLi4vYXNuMScpOwp2YXIgYmFzZSA9IGFzbjEuYmFzZTsKdmFyIGJpZ251bSA9IGFzbjEuYmlnbnVtOwoKLy8gSW1wb3J0IERFUiBjb25zdGFudHMKdmFyIGRlciA9IGFzbjEuY29uc3RhbnRzLmRlcjsKCmZ1bmN0aW9uIERFUkVuY29kZXIoZW50aXR5KSB7CiAgdGhpcy5lbmMgPSAnZGVyJzsKICB0aGlzLm5hbWUgPSBlbnRpdHkubmFtZTsKICB0aGlzLmVudGl0eSA9IGVudGl0eTsKCiAgLy8gQ29uc3RydWN0IGJhc2UgdHJlZQogIHRoaXMudHJlZSA9IG5ldyBERVJOb2RlKCk7CiAgdGhpcy50cmVlLl9pbml0KGVudGl0eS5ib2R5KTsKfTsKbW9kdWxlLmV4cG9ydHMgPSBERVJFbmNvZGVyOwoKREVSRW5jb2Rlci5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKGRhdGEsIHJlcG9ydGVyKSB7CiAgcmV0dXJuIHRoaXMudHJlZS5fZW5jb2RlKGRhdGEsIHJlcG9ydGVyKS5qb2luKCk7Cn07CgovLyBUcmVlIG1ldGhvZHMKCmZ1bmN0aW9uIERFUk5vZGUocGFyZW50KSB7CiAgYmFzZS5Ob2RlLmNhbGwodGhpcywgJ2RlcicsIHBhcmVudCk7Cn0KaW5oZXJpdHMoREVSTm9kZSwgYmFzZS5Ob2RlKTsKCkRFUk5vZGUucHJvdG90eXBlLl9lbmNvZGVDb21wb3NpdGUgPSBmdW5jdGlvbiBlbmNvZGVDb21wb3NpdGUodGFnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaW1pdGl2ZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbHMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCkgewogIHZhciBlbmNvZGVkVGFnID0gZW5jb2RlVGFnKHRhZywgcHJpbWl0aXZlLCBjbHMsIHRoaXMucmVwb3J0ZXIpOwoKICAvLyBTaG9ydCBmb3JtCiAgaWYgKGNvbnRlbnQubGVuZ3RoIDwgMHg4MCkgewogICAgdmFyIGhlYWRlciA9IG5ldyBCdWZmZXIoMik7CiAgICBoZWFkZXJbMF0gPSBlbmNvZGVkVGFnOwogICAgaGVhZGVyWzFdID0gY29udGVudC5sZW5ndGg7CiAgICByZXR1cm4gdGhpcy5fY3JlYXRlRW5jb2RlckJ1ZmZlcihbIGhlYWRlciwgY29udGVudCBdKTsKICB9CgogIC8vIExvbmcgZm9ybQogIC8vIENvdW50IG9jdGV0cyByZXF1aXJlZCB0byBzdG9yZSBsZW5ndGgKICB2YXIgbGVuT2N0ZXRzID0gMTsKICBmb3IgKHZhciBpID0gY29udGVudC5sZW5ndGg7IGkgPj0gMHgxMDA7IGkgPj49IDgpCiAgICBsZW5PY3RldHMrKzsKCiAgdmFyIGhlYWRlciA9IG5ldyBCdWZmZXIoMSArIDEgKyBsZW5PY3RldHMpOwogIGhlYWRlclswXSA9IGVuY29kZWRUYWc7CiAgaGVhZGVyWzFdID0gMHg4MCB8IGxlbk9jdGV0czsKCiAgZm9yICh2YXIgaSA9IDEgKyBsZW5PY3RldHMsIGogPSBjb250ZW50Lmxlbmd0aDsgaiA+IDA7IGktLSwgaiA+Pj0gOCkKICAgIGhlYWRlcltpXSA9IGogJiAweGZmOwoKICByZXR1cm4gdGhpcy5fY3JlYXRlRW5jb2RlckJ1ZmZlcihbIGhlYWRlciwgY29udGVudCBdKTsKfTsKCkRFUk5vZGUucHJvdG90eXBlLl9lbmNvZGVTdHIgPSBmdW5jdGlvbiBlbmNvZGVTdHIoc3RyLCB0YWcpIHsKICBpZiAodGFnID09PSAnYml0c3RyJykgewogICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUVuY29kZXJCdWZmZXIoWyBzdHIudW51c2VkIHwgMCwgc3RyLmRhdGEgXSk7CiAgfSBlbHNlIGlmICh0YWcgPT09ICdibXBzdHInKSB7CiAgICB2YXIgYnVmID0gbmV3IEJ1ZmZlcihzdHIubGVuZ3RoICogMik7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykgewogICAgICBidWYud3JpdGVVSW50MTZCRShzdHIuY2hhckNvZGVBdChpKSwgaSAqIDIpOwogICAgfQogICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUVuY29kZXJCdWZmZXIoYnVmKTsKICB9IGVsc2UgaWYgKHRhZyA9PT0gJ251bXN0cicpIHsKICAgIGlmICghdGhpcy5faXNOdW1zdHIoc3RyKSkgewogICAgICByZXR1cm4gdGhpcy5yZXBvcnRlci5lcnJvcignRW5jb2Rpbmcgb2Ygc3RyaW5nIHR5cGU6IG51bXN0ciBzdXBwb3J0cyAnICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29ubHkgZGlnaXRzIGFuZCBzcGFjZScpOwogICAgfQogICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUVuY29kZXJCdWZmZXIoc3RyKTsKICB9IGVsc2UgaWYgKHRhZyA9PT0gJ3ByaW50c3RyJykgewogICAgaWYgKCF0aGlzLl9pc1ByaW50c3RyKHN0cikpIHsKICAgICAgcmV0dXJuIHRoaXMucmVwb3J0ZXIuZXJyb3IoJ0VuY29kaW5nIG9mIHN0cmluZyB0eXBlOiBwcmludHN0ciBzdXBwb3J0cyAnICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29ubHkgbGF0aW4gdXBwZXIgYW5kIGxvd2VyIGNhc2UgbGV0dGVycywgJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkaWdpdHMsIHNwYWNlLCBhcG9zdHJvcGhlLCBsZWZ0IGFuZCByaWd0aCAnICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3BhcmVudGhlc2lzLCBwbHVzIHNpZ24sIGNvbW1hLCBoeXBoZW4sICcgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZG90LCBzbGFzaCwgY29sb24sIGVxdWFsIHNpZ24sICcgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAncXVlc3Rpb24gbWFyaycpOwogICAgfQogICAgcmV0dXJuIHRoaXMuX2NyZWF0ZUVuY29kZXJCdWZmZXIoc3RyKTsKICB9IGVsc2UgaWYgKC9zdHIkLy50ZXN0KHRhZykpIHsKICAgIHJldHVybiB0aGlzLl9jcmVhdGVFbmNvZGVyQnVmZmVyKHN0cik7CiAgfSBlbHNlIHsKICAgIHJldHVybiB0aGlzLnJlcG9ydGVyLmVycm9yKCdFbmNvZGluZyBvZiBzdHJpbmcgdHlwZTogJyArIHRhZyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnIHVuc3VwcG9ydGVkJyk7CiAgfQp9OwoKREVSTm9kZS5wcm90b3R5cGUuX2VuY29kZU9iamlkID0gZnVuY3Rpb24gZW5jb2RlT2JqaWQoaWQsIHZhbHVlcywgcmVsYXRpdmUpIHsKICBpZiAodHlwZW9mIGlkID09PSAnc3RyaW5nJykgewogICAgaWYgKCF2YWx1ZXMpCiAgICAgIHJldHVybiB0aGlzLnJlcG9ydGVyLmVycm9yKCdzdHJpbmcgb2JqaWQgZ2l2ZW4sIGJ1dCBubyB2YWx1ZXMgbWFwIGZvdW5kJyk7CiAgICBpZiAoIXZhbHVlcy5oYXNPd25Qcm9wZXJ0eShpZCkpCiAgICAgIHJldHVybiB0aGlzLnJlcG9ydGVyLmVycm9yKCdvYmppZCBub3QgZm91bmQgaW4gdmFsdWVzIG1hcCcpOwogICAgaWQgPSB2YWx1ZXNbaWRdLnNwbGl0KC9bXHNcLl0rL2cpOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpZC5sZW5ndGg7IGkrKykKICAgICAgaWRbaV0gfD0gMDsKICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoaWQpKSB7CiAgICBpZCA9IGlkLnNsaWNlKCk7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlkLmxlbmd0aDsgaSsrKQogICAgICBpZFtpXSB8PSAwOwogIH0KCiAgaWYgKCFBcnJheS5pc0FycmF5KGlkKSkgewogICAgcmV0dXJuIHRoaXMucmVwb3J0ZXIuZXJyb3IoJ29iamlkKCkgc2hvdWxkIGJlIGVpdGhlciBhcnJheSBvciBzdHJpbmcsICcgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2dvdDogJyArIEpTT04uc3RyaW5naWZ5KGlkKSk7CiAgfQoKICBpZiAoIXJlbGF0aXZlKSB7CiAgICBpZiAoaWRbMV0gPj0gNDApCiAgICAgIHJldHVybiB0aGlzLnJlcG9ydGVyLmVycm9yKCdTZWNvbmQgb2JqaWQgaWRlbnRpZmllciBPT0InKTsKICAgIGlkLnNwbGljZSgwLCAyLCBpZFswXSAqIDQwICsgaWRbMV0pOwogIH0KCiAgLy8gQ291bnQgbnVtYmVyIG9mIG9jdGV0cwogIHZhciBzaXplID0gMDsKICBmb3IgKHZhciBpID0gMDsgaSA8IGlkLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgaWRlbnQgPSBpZFtpXTsKICAgIGZvciAoc2l6ZSsrOyBpZGVudCA+PSAweDgwOyBpZGVudCA+Pj0gNykKICAgICAgc2l6ZSsrOwogIH0KCiAgdmFyIG9iamlkID0gbmV3IEJ1ZmZlcihzaXplKTsKICB2YXIgb2Zmc2V0ID0gb2JqaWQubGVuZ3RoIC0gMTsKICBmb3IgKHZhciBpID0gaWQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgIHZhciBpZGVudCA9IGlkW2ldOwogICAgb2JqaWRbb2Zmc2V0LS1dID0gaWRlbnQgJiAweDdmOwogICAgd2hpbGUgKChpZGVudCA+Pj0gNykgPiAwKQogICAgICBvYmppZFtvZmZzZXQtLV0gPSAweDgwIHwgKGlkZW50ICYgMHg3Zik7CiAgfQoKICByZXR1cm4gdGhpcy5fY3JlYXRlRW5jb2RlckJ1ZmZlcihvYmppZCk7Cn07CgpmdW5jdGlvbiB0d28obnVtKSB7CiAgaWYgKG51bSA8IDEwKQogICAgcmV0dXJuICcwJyArIG51bTsKICBlbHNlCiAgICByZXR1cm4gbnVtOwp9CgpERVJOb2RlLnByb3RvdHlwZS5fZW5jb2RlVGltZSA9IGZ1bmN0aW9uIGVuY29kZVRpbWUodGltZSwgdGFnKSB7CiAgdmFyIHN0cjsKICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRpbWUpOwoKICBpZiAodGFnID09PSAnZ2VudGltZScpIHsKICAgIHN0ciA9IFsKICAgICAgdHdvKGRhdGUuZ2V0RnVsbFllYXIoKSksCiAgICAgIHR3byhkYXRlLmdldFVUQ01vbnRoKCkgKyAxKSwKICAgICAgdHdvKGRhdGUuZ2V0VVRDRGF0ZSgpKSwKICAgICAgdHdvKGRhdGUuZ2V0VVRDSG91cnMoKSksCiAgICAgIHR3byhkYXRlLmdldFVUQ01pbnV0ZXMoKSksCiAgICAgIHR3byhkYXRlLmdldFVUQ1NlY29uZHMoKSksCiAgICAgICdaJwogICAgXS5qb2luKCcnKTsKICB9IGVsc2UgaWYgKHRhZyA9PT0gJ3V0Y3RpbWUnKSB7CiAgICBzdHIgPSBbCiAgICAgIHR3byhkYXRlLmdldEZ1bGxZZWFyKCkgJSAxMDApLAogICAgICB0d28oZGF0ZS5nZXRVVENNb250aCgpICsgMSksCiAgICAgIHR3byhkYXRlLmdldFVUQ0RhdGUoKSksCiAgICAgIHR3byhkYXRlLmdldFVUQ0hvdXJzKCkpLAogICAgICB0d28oZGF0ZS5nZXRVVENNaW51dGVzKCkpLAogICAgICB0d28oZGF0ZS5nZXRVVENTZWNvbmRzKCkpLAogICAgICAnWicKICAgIF0uam9pbignJyk7CiAgfSBlbHNlIHsKICAgIHRoaXMucmVwb3J0ZXIuZXJyb3IoJ0VuY29kaW5nICcgKyB0YWcgKyAnIHRpbWUgaXMgbm90IHN1cHBvcnRlZCB5ZXQnKTsKICB9CgogIHJldHVybiB0aGlzLl9lbmNvZGVTdHIoc3RyLCAnb2N0c3RyJyk7Cn07CgpERVJOb2RlLnByb3RvdHlwZS5fZW5jb2RlTnVsbCA9IGZ1bmN0aW9uIGVuY29kZU51bGwoKSB7CiAgcmV0dXJuIHRoaXMuX2NyZWF0ZUVuY29kZXJCdWZmZXIoJycpOwp9OwoKREVSTm9kZS5wcm90b3R5cGUuX2VuY29kZUludCA9IGZ1bmN0aW9uIGVuY29kZUludChudW0sIHZhbHVlcykgewogIGlmICh0eXBlb2YgbnVtID09PSAnc3RyaW5nJykgewogICAgaWYgKCF2YWx1ZXMpCiAgICAgIHJldHVybiB0aGlzLnJlcG9ydGVyLmVycm9yKCdTdHJpbmcgaW50IG9yIGVudW0gZ2l2ZW4sIGJ1dCBubyB2YWx1ZXMgbWFwJyk7CiAgICBpZiAoIXZhbHVlcy5oYXNPd25Qcm9wZXJ0eShudW0pKSB7CiAgICAgIHJldHVybiB0aGlzLnJlcG9ydGVyLmVycm9yKCdWYWx1ZXMgbWFwIGRvZXNuXCd0IGNvbnRhaW46ICcgKwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeShudW0pKTsKICAgIH0KICAgIG51bSA9IHZhbHVlc1tudW1dOwogIH0KCiAgLy8gQmlnbnVtLCBhc3N1bWUgYmlnIGVuZGlhbgogIGlmICh0eXBlb2YgbnVtICE9PSAnbnVtYmVyJyAmJiAhQnVmZmVyLmlzQnVmZmVyKG51bSkpIHsKICAgIHZhciBudW1BcnJheSA9IG51bS50b0FycmF5KCk7CiAgICBpZiAoIW51bS5zaWduICYmIG51bUFycmF5WzBdICYgMHg4MCkgewogICAgICBudW1BcnJheS51bnNoaWZ0KDApOwogICAgfQogICAgbnVtID0gbmV3IEJ1ZmZlcihudW1BcnJheSk7CiAgfQoKICBpZiAoQnVmZmVyLmlzQnVmZmVyKG51bSkpIHsKICAgIHZhciBzaXplID0gbnVtLmxlbmd0aDsKICAgIGlmIChudW0ubGVuZ3RoID09PSAwKQogICAgICBzaXplKys7CgogICAgdmFyIG91dCA9IG5ldyBCdWZmZXIoc2l6ZSk7CiAgICBudW0uY29weShvdXQpOwogICAgaWYgKG51bS5sZW5ndGggPT09IDApCiAgICAgIG91dFswXSA9IDAKICAgIHJldHVybiB0aGlzLl9jcmVhdGVFbmNvZGVyQnVmZmVyKG91dCk7CiAgfQoKICBpZiAobnVtIDwgMHg4MCkKICAgIHJldHVybiB0aGlzLl9jcmVhdGVFbmNvZGVyQnVmZmVyKG51bSk7CgogIGlmIChudW0gPCAweDEwMCkKICAgIHJldHVybiB0aGlzLl9jcmVhdGVFbmNvZGVyQnVmZmVyKFswLCBudW1dKTsKCiAgdmFyIHNpemUgPSAxOwogIGZvciAodmFyIGkgPSBudW07IGkgPj0gMHgxMDA7IGkgPj49IDgpCiAgICBzaXplKys7CgogIHZhciBvdXQgPSBuZXcgQXJyYXkoc2l6ZSk7CiAgZm9yICh2YXIgaSA9IG91dC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgb3V0W2ldID0gbnVtICYgMHhmZjsKICAgIG51bSA+Pj0gODsKICB9CiAgaWYob3V0WzBdICYgMHg4MCkgewogICAgb3V0LnVuc2hpZnQoMCk7CiAgfQoKICByZXR1cm4gdGhpcy5fY3JlYXRlRW5jb2RlckJ1ZmZlcihuZXcgQnVmZmVyKG91dCkpOwp9OwoKREVSTm9kZS5wcm90b3R5cGUuX2VuY29kZUJvb2wgPSBmdW5jdGlvbiBlbmNvZGVCb29sKHZhbHVlKSB7CiAgcmV0dXJuIHRoaXMuX2NyZWF0ZUVuY29kZXJCdWZmZXIodmFsdWUgPyAweGZmIDogMCk7Cn07CgpERVJOb2RlLnByb3RvdHlwZS5fdXNlID0gZnVuY3Rpb24gdXNlKGVudGl0eSwgb2JqKSB7CiAgaWYgKHR5cGVvZiBlbnRpdHkgPT09ICdmdW5jdGlvbicpCiAgICBlbnRpdHkgPSBlbnRpdHkob2JqKTsKICByZXR1cm4gZW50aXR5Ll9nZXRFbmNvZGVyKCdkZXInKS50cmVlOwp9OwoKREVSTm9kZS5wcm90b3R5cGUuX3NraXBEZWZhdWx0ID0gZnVuY3Rpb24gc2tpcERlZmF1bHQoZGF0YUJ1ZmZlciwgcmVwb3J0ZXIsIHBhcmVudCkgewogIHZhciBzdGF0ZSA9IHRoaXMuX2Jhc2VTdGF0ZTsKICB2YXIgaTsKICBpZiAoc3RhdGVbJ2RlZmF1bHQnXSA9PT0gbnVsbCkKICAgIHJldHVybiBmYWxzZTsKCiAgdmFyIGRhdGEgPSBkYXRhQnVmZmVyLmpvaW4oKTsKICBpZiAoc3RhdGUuZGVmYXVsdEJ1ZmZlciA9PT0gdW5kZWZpbmVkKQogICAgc3RhdGUuZGVmYXVsdEJ1ZmZlciA9IHRoaXMuX2VuY29kZVZhbHVlKHN0YXRlWydkZWZhdWx0J10sIHJlcG9ydGVyLCBwYXJlbnQpLmpvaW4oKTsKCiAgaWYgKGRhdGEubGVuZ3RoICE9PSBzdGF0ZS5kZWZhdWx0QnVmZmVyLmxlbmd0aCkKICAgIHJldHVybiBmYWxzZTsKCiAgZm9yIChpPTA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKQogICAgaWYgKGRhdGFbaV0gIT09IHN0YXRlLmRlZmF1bHRCdWZmZXJbaV0pCiAgICAgIHJldHVybiBmYWxzZTsKCiAgcmV0dXJuIHRydWU7Cn07CgovLyBVdGlsaXR5IG1ldGhvZHMKCmZ1bmN0aW9uIGVuY29kZVRhZyh0YWcsIHByaW1pdGl2ZSwgY2xzLCByZXBvcnRlcikgewogIHZhciByZXM7CgogIGlmICh0YWcgPT09ICdzZXFvZicpCiAgICB0YWcgPSAnc2VxJzsKICBlbHNlIGlmICh0YWcgPT09ICdzZXRvZicpCiAgICB0YWcgPSAnc2V0JzsKCiAgaWYgKGRlci50YWdCeU5hbWUuaGFzT3duUHJvcGVydHkodGFnKSkKICAgIHJlcyA9IGRlci50YWdCeU5hbWVbdGFnXTsKICBlbHNlIGlmICh0eXBlb2YgdGFnID09PSAnbnVtYmVyJyAmJiAodGFnIHwgMCkgPT09IHRhZykKICAgIHJlcyA9IHRhZzsKICBlbHNlCiAgICByZXR1cm4gcmVwb3J0ZXIuZXJyb3IoJ1Vua25vd24gdGFnOiAnICsgdGFnKTsKCiAgaWYgKHJlcyA+PSAweDFmKQogICAgcmV0dXJuIHJlcG9ydGVyLmVycm9yKCdNdWx0aS1vY3RldCB0YWcgZW5jb2RpbmcgdW5zdXBwb3J0ZWQnKTsKCiAgaWYgKCFwcmltaXRpdmUpCiAgICByZXMgfD0gMHgyMDsKCiAgcmVzIHw9IChkZXIudGFnQ2xhc3NCeU5hbWVbY2xzIHx8ICd1bml2ZXJzYWwnXSA8PCA2KTsKCiAgcmV0dXJuIHJlczsKfQoKfSx7Ii4uLy4uL2FzbjEiOjEsImJ1ZmZlciI6NzYsImluaGVyaXRzIjoxMjh9XSwxMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CnZhciBlbmNvZGVycyA9IGV4cG9ydHM7CgplbmNvZGVycy5kZXIgPSByZXF1aXJlKCcuL2RlcicpOwplbmNvZGVycy5wZW0gPSByZXF1aXJlKCcuL3BlbScpOwoKfSx7Ii4vZGVyIjoxMiwiLi9wZW0iOjE0fV0sMTQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewp2YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpOwp2YXIgQnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyOwoKdmFyIGFzbjEgPSByZXF1aXJlKCcuLi8uLi9hc24xJyk7CnZhciBERVJFbmNvZGVyID0gcmVxdWlyZSgnLi9kZXInKTsKCmZ1bmN0aW9uIFBFTUVuY29kZXIoZW50aXR5KSB7CiAgREVSRW5jb2Rlci5jYWxsKHRoaXMsIGVudGl0eSk7CiAgdGhpcy5lbmMgPSAncGVtJzsKfTsKaW5oZXJpdHMoUEVNRW5jb2RlciwgREVSRW5jb2Rlcik7Cm1vZHVsZS5leHBvcnRzID0gUEVNRW5jb2RlcjsKClBFTUVuY29kZXIucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShkYXRhLCBvcHRpb25zKSB7CiAgdmFyIGJ1ZiA9IERFUkVuY29kZXIucHJvdG90eXBlLmVuY29kZS5jYWxsKHRoaXMsIGRhdGEpOwoKICB2YXIgcCA9IGJ1Zi50b1N0cmluZygnYmFzZTY0Jyk7CiAgdmFyIG91dCA9IFsgJy0tLS0tQkVHSU4gJyArIG9wdGlvbnMubGFiZWwgKyAnLS0tLS0nIF07CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwLmxlbmd0aDsgaSArPSA2NCkKICAgIG91dC5wdXNoKHAuc2xpY2UoaSwgaSArIDY0KSk7CiAgb3V0LnB1c2goJy0tLS0tRU5EICcgKyBvcHRpb25zLmxhYmVsICsgJy0tLS0tJyk7CiAgcmV0dXJuIG91dC5qb2luKCdcbicpOwp9OwoKfSx7Ii4uLy4uL2FzbjEiOjEsIi4vZGVyIjoxMiwiYnVmZmVyIjo3NiwiaW5oZXJpdHMiOjEyOH1dLDE1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKLy8gaHR0cDovL3dpa2kuY29tbW9uanMub3JnL3dpa2kvVW5pdF9UZXN0aW5nLzEuMAovLwovLyBUSElTIElTIE5PVCBURVNURUQgTk9SIExJS0VMWSBUTyBXT1JLIE9VVFNJREUgVjghCi8vCi8vIE9yaWdpbmFsbHkgZnJvbSBuYXJ3aGFsLmpzIChodHRwOi8vbmFyd2hhbGpzLm9yZykKLy8gQ29weXJpZ2h0IChjKSAyMDA5IFRob21hcyBSb2JpbnNvbiA8Mjgwbm9ydGguY29tPgovLwovLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5Ci8vIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICdTb2Z0d2FyZScpLCB0bwovLyBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZQovLyByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3IKLy8gc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMKLy8gZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKLy8KLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4KLy8gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCi8vCi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAnQVMgSVMnLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCi8vIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLAovLyBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKLy8gQVVUSE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4KLy8gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTgovLyBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4KCi8vIHdoZW4gdXNlZCBpbiBub2RlLCB0aGlzIHdpbGwgYWN0dWFsbHkgbG9hZCB0aGUgdXRpbCBtb2R1bGUgd2UgZGVwZW5kIG9uCi8vIHZlcnN1cyBsb2FkaW5nIHRoZSBidWlsdGluIHV0aWwgbW9kdWxlIGFzIGhhcHBlbnMgb3RoZXJ3aXNlCi8vIHRoaXMgaXMgYSBidWcgaW4gbm9kZSBtb2R1bGUgbG9hZGluZyBhcyBmYXIgYXMgSSBhbSBjb25jZXJuZWQKdmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsLycpOwoKdmFyIHBTbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTsKdmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7CgovLyAxLiBUaGUgYXNzZXJ0IG1vZHVsZSBwcm92aWRlcyBmdW5jdGlvbnMgdGhhdCB0aHJvdwovLyBBc3NlcnRpb25FcnJvcidzIHdoZW4gcGFydGljdWxhciBjb25kaXRpb25zIGFyZSBub3QgbWV0LiBUaGUKLy8gYXNzZXJ0IG1vZHVsZSBtdXN0IGNvbmZvcm0gdG8gdGhlIGZvbGxvd2luZyBpbnRlcmZhY2UuCgp2YXIgYXNzZXJ0ID0gbW9kdWxlLmV4cG9ydHMgPSBvazsKCi8vIDIuIFRoZSBBc3NlcnRpb25FcnJvciBpcyBkZWZpbmVkIGluIGFzc2VydC4KLy8gbmV3IGFzc2VydC5Bc3NlcnRpb25FcnJvcih7IG1lc3NhZ2U6IG1lc3NhZ2UsCi8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWw6IGFjdHVhbCwKLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBleHBlY3RlZCB9KQoKYXNzZXJ0LkFzc2VydGlvbkVycm9yID0gZnVuY3Rpb24gQXNzZXJ0aW9uRXJyb3Iob3B0aW9ucykgewogIHRoaXMubmFtZSA9ICdBc3NlcnRpb25FcnJvcic7CiAgdGhpcy5hY3R1YWwgPSBvcHRpb25zLmFjdHVhbDsKICB0aGlzLmV4cGVjdGVkID0gb3B0aW9ucy5leHBlY3RlZDsKICB0aGlzLm9wZXJhdG9yID0gb3B0aW9ucy5vcGVyYXRvcjsKICBpZiAob3B0aW9ucy5tZXNzYWdlKSB7CiAgICB0aGlzLm1lc3NhZ2UgPSBvcHRpb25zLm1lc3NhZ2U7CiAgICB0aGlzLmdlbmVyYXRlZE1lc3NhZ2UgPSBmYWxzZTsKICB9IGVsc2UgewogICAgdGhpcy5tZXNzYWdlID0gZ2V0TWVzc2FnZSh0aGlzKTsKICAgIHRoaXMuZ2VuZXJhdGVkTWVzc2FnZSA9IHRydWU7CiAgfQogIHZhciBzdGFja1N0YXJ0RnVuY3Rpb24gPSBvcHRpb25zLnN0YWNrU3RhcnRGdW5jdGlvbiB8fCBmYWlsOwoKICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHsKICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIHN0YWNrU3RhcnRGdW5jdGlvbik7CiAgfQogIGVsc2UgewogICAgLy8gbm9uIHY4IGJyb3dzZXJzIHNvIHdlIGNhbiBoYXZlIGEgc3RhY2t0cmFjZQogICAgdmFyIGVyciA9IG5ldyBFcnJvcigpOwogICAgaWYgKGVyci5zdGFjaykgewogICAgICB2YXIgb3V0ID0gZXJyLnN0YWNrOwoKICAgICAgLy8gdHJ5IHRvIHN0cmlwIHVzZWxlc3MgZnJhbWVzCiAgICAgIHZhciBmbl9uYW1lID0gc3RhY2tTdGFydEZ1bmN0aW9uLm5hbWU7CiAgICAgIHZhciBpZHggPSBvdXQuaW5kZXhPZignXG4nICsgZm5fbmFtZSk7CiAgICAgIGlmIChpZHggPj0gMCkgewogICAgICAgIC8vIG9uY2Ugd2UgaGF2ZSBsb2NhdGVkIHRoZSBmdW5jdGlvbiBmcmFtZQogICAgICAgIC8vIHdlIG5lZWQgdG8gc3RyaXAgb3V0IGV2ZXJ5dGhpbmcgYmVmb3JlIGl0IChhbmQgaXRzIGxpbmUpCiAgICAgICAgdmFyIG5leHRfbGluZSA9IG91dC5pbmRleE9mKCdcbicsIGlkeCArIDEpOwogICAgICAgIG91dCA9IG91dC5zdWJzdHJpbmcobmV4dF9saW5lICsgMSk7CiAgICAgIH0KCiAgICAgIHRoaXMuc3RhY2sgPSBvdXQ7CiAgICB9CiAgfQp9OwoKLy8gYXNzZXJ0LkFzc2VydGlvbkVycm9yIGluc3RhbmNlb2YgRXJyb3IKdXRpbC5pbmhlcml0cyhhc3NlcnQuQXNzZXJ0aW9uRXJyb3IsIEVycm9yKTsKCmZ1bmN0aW9uIHJlcGxhY2VyKGtleSwgdmFsdWUpIHsKICBpZiAodXRpbC5pc1VuZGVmaW5lZCh2YWx1ZSkpIHsKICAgIHJldHVybiAnJyArIHZhbHVlOwogIH0KICBpZiAodXRpbC5pc051bWJlcih2YWx1ZSkgJiYgIWlzRmluaXRlKHZhbHVlKSkgewogICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7CiAgfQogIGlmICh1dGlsLmlzRnVuY3Rpb24odmFsdWUpIHx8IHV0aWwuaXNSZWdFeHAodmFsdWUpKSB7CiAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTsKICB9CiAgcmV0dXJuIHZhbHVlOwp9CgpmdW5jdGlvbiB0cnVuY2F0ZShzLCBuKSB7CiAgaWYgKHV0aWwuaXNTdHJpbmcocykpIHsKICAgIHJldHVybiBzLmxlbmd0aCA8IG4gPyBzIDogcy5zbGljZSgwLCBuKTsKICB9IGVsc2UgewogICAgcmV0dXJuIHM7CiAgfQp9CgpmdW5jdGlvbiBnZXRNZXNzYWdlKHNlbGYpIHsKICByZXR1cm4gdHJ1bmNhdGUoSlNPTi5zdHJpbmdpZnkoc2VsZi5hY3R1YWwsIHJlcGxhY2VyKSwgMTI4KSArICcgJyArCiAgICAgICAgIHNlbGYub3BlcmF0b3IgKyAnICcgKwogICAgICAgICB0cnVuY2F0ZShKU09OLnN0cmluZ2lmeShzZWxmLmV4cGVjdGVkLCByZXBsYWNlciksIDEyOCk7Cn0KCi8vIEF0IHByZXNlbnQgb25seSB0aGUgdGhyZWUga2V5cyBtZW50aW9uZWQgYWJvdmUgYXJlIHVzZWQgYW5kCi8vIHVuZGVyc3Rvb2QgYnkgdGhlIHNwZWMuIEltcGxlbWVudGF0aW9ucyBvciBzdWIgbW9kdWxlcyBjYW4gcGFzcwovLyBvdGhlciBrZXlzIHRvIHRoZSBBc3NlcnRpb25FcnJvcidzIGNvbnN0cnVjdG9yIC0gdGhleSB3aWxsIGJlCi8vIGlnbm9yZWQuCgovLyAzLiBBbGwgb2YgdGhlIGZvbGxvd2luZyBmdW5jdGlvbnMgbXVzdCB0aHJvdyBhbiBBc3NlcnRpb25FcnJvcgovLyB3aGVuIGEgY29ycmVzcG9uZGluZyBjb25kaXRpb24gaXMgbm90IG1ldCwgd2l0aCBhIG1lc3NhZ2UgdGhhdAovLyBtYXkgYmUgdW5kZWZpbmVkIGlmIG5vdCBwcm92aWRlZC4gIEFsbCBhc3NlcnRpb24gbWV0aG9kcyBwcm92aWRlCi8vIGJvdGggdGhlIGFjdHVhbCBhbmQgZXhwZWN0ZWQgdmFsdWVzIHRvIHRoZSBhc3NlcnRpb24gZXJyb3IgZm9yCi8vIGRpc3BsYXkgcHVycG9zZXMuCgpmdW5jdGlvbiBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsIG9wZXJhdG9yLCBzdGFja1N0YXJ0RnVuY3Rpb24pIHsKICB0aHJvdyBuZXcgYXNzZXJ0LkFzc2VydGlvbkVycm9yKHsKICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICBhY3R1YWw6IGFjdHVhbCwKICAgIGV4cGVjdGVkOiBleHBlY3RlZCwKICAgIG9wZXJhdG9yOiBvcGVyYXRvciwKICAgIHN0YWNrU3RhcnRGdW5jdGlvbjogc3RhY2tTdGFydEZ1bmN0aW9uCiAgfSk7Cn0KCi8vIEVYVEVOU0lPTiEgYWxsb3dzIGZvciB3ZWxsIGJlaGF2ZWQgZXJyb3JzIGRlZmluZWQgZWxzZXdoZXJlLgphc3NlcnQuZmFpbCA9IGZhaWw7CgovLyA0LiBQdXJlIGFzc2VydGlvbiB0ZXN0cyB3aGV0aGVyIGEgdmFsdWUgaXMgdHJ1dGh5LCBhcyBkZXRlcm1pbmVkCi8vIGJ5ICEhZ3VhcmQuCi8vIGFzc2VydC5vayhndWFyZCwgbWVzc2FnZV9vcHQpOwovLyBUaGlzIHN0YXRlbWVudCBpcyBlcXVpdmFsZW50IHRvIGFzc2VydC5lcXVhbCh0cnVlLCAhIWd1YXJkLAovLyBtZXNzYWdlX29wdCk7LiBUbyB0ZXN0IHN0cmljdGx5IGZvciB0aGUgdmFsdWUgdHJ1ZSwgdXNlCi8vIGFzc2VydC5zdHJpY3RFcXVhbCh0cnVlLCBndWFyZCwgbWVzc2FnZV9vcHQpOy4KCmZ1bmN0aW9uIG9rKHZhbHVlLCBtZXNzYWdlKSB7CiAgaWYgKCF2YWx1ZSkgZmFpbCh2YWx1ZSwgdHJ1ZSwgbWVzc2FnZSwgJz09JywgYXNzZXJ0Lm9rKTsKfQphc3NlcnQub2sgPSBvazsKCi8vIDUuIFRoZSBlcXVhbGl0eSBhc3NlcnRpb24gdGVzdHMgc2hhbGxvdywgY29lcmNpdmUgZXF1YWxpdHkgd2l0aAovLyA9PS4KLy8gYXNzZXJ0LmVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTsKCmFzc2VydC5lcXVhbCA9IGZ1bmN0aW9uIGVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHsKICBpZiAoYWN0dWFsICE9IGV4cGVjdGVkKSBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICc9PScsIGFzc2VydC5lcXVhbCk7Cn07CgovLyA2LiBUaGUgbm9uLWVxdWFsaXR5IGFzc2VydGlvbiB0ZXN0cyBmb3Igd2hldGhlciB0d28gb2JqZWN0cyBhcmUgbm90IGVxdWFsCi8vIHdpdGggIT0gYXNzZXJ0Lm5vdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTsKCmFzc2VydC5ub3RFcXVhbCA9IGZ1bmN0aW9uIG5vdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHsKICBpZiAoYWN0dWFsID09IGV4cGVjdGVkKSB7CiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICchPScsIGFzc2VydC5ub3RFcXVhbCk7CiAgfQp9OwoKLy8gNy4gVGhlIGVxdWl2YWxlbmNlIGFzc2VydGlvbiB0ZXN0cyBhIGRlZXAgZXF1YWxpdHkgcmVsYXRpb24uCi8vIGFzc2VydC5kZWVwRXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpOwoKYXNzZXJ0LmRlZXBFcXVhbCA9IGZ1bmN0aW9uIGRlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7CiAgaWYgKCFfZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQpKSB7CiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICdkZWVwRXF1YWwnLCBhc3NlcnQuZGVlcEVxdWFsKTsKICB9Cn07CgpmdW5jdGlvbiBfZGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQpIHsKICAvLyA3LjEuIEFsbCBpZGVudGljYWwgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBhcyBkZXRlcm1pbmVkIGJ5ID09PS4KICBpZiAoYWN0dWFsID09PSBleHBlY3RlZCkgewogICAgcmV0dXJuIHRydWU7CgogIH0gZWxzZSBpZiAodXRpbC5pc0J1ZmZlcihhY3R1YWwpICYmIHV0aWwuaXNCdWZmZXIoZXhwZWN0ZWQpKSB7CiAgICBpZiAoYWN0dWFsLmxlbmd0aCAhPSBleHBlY3RlZC5sZW5ndGgpIHJldHVybiBmYWxzZTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFjdHVhbC5sZW5ndGg7IGkrKykgewogICAgICBpZiAoYWN0dWFsW2ldICE9PSBleHBlY3RlZFtpXSkgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIHJldHVybiB0cnVlOwoKICAvLyA3LjIuIElmIHRoZSBleHBlY3RlZCB2YWx1ZSBpcyBhIERhdGUgb2JqZWN0LCB0aGUgYWN0dWFsIHZhbHVlIGlzCiAgLy8gZXF1aXZhbGVudCBpZiBpdCBpcyBhbHNvIGEgRGF0ZSBvYmplY3QgdGhhdCByZWZlcnMgdG8gdGhlIHNhbWUgdGltZS4KICB9IGVsc2UgaWYgKHV0aWwuaXNEYXRlKGFjdHVhbCkgJiYgdXRpbC5pc0RhdGUoZXhwZWN0ZWQpKSB7CiAgICByZXR1cm4gYWN0dWFsLmdldFRpbWUoKSA9PT0gZXhwZWN0ZWQuZ2V0VGltZSgpOwoKICAvLyA3LjMgSWYgdGhlIGV4cGVjdGVkIHZhbHVlIGlzIGEgUmVnRXhwIG9iamVjdCwgdGhlIGFjdHVhbCB2YWx1ZSBpcwogIC8vIGVxdWl2YWxlbnQgaWYgaXQgaXMgYWxzbyBhIFJlZ0V4cCBvYmplY3Qgd2l0aCB0aGUgc2FtZSBzb3VyY2UgYW5kCiAgLy8gcHJvcGVydGllcyAoYGdsb2JhbGAsIGBtdWx0aWxpbmVgLCBgbGFzdEluZGV4YCwgYGlnbm9yZUNhc2VgKS4KICB9IGVsc2UgaWYgKHV0aWwuaXNSZWdFeHAoYWN0dWFsKSAmJiB1dGlsLmlzUmVnRXhwKGV4cGVjdGVkKSkgewogICAgcmV0dXJuIGFjdHVhbC5zb3VyY2UgPT09IGV4cGVjdGVkLnNvdXJjZSAmJgogICAgICAgICAgIGFjdHVhbC5nbG9iYWwgPT09IGV4cGVjdGVkLmdsb2JhbCAmJgogICAgICAgICAgIGFjdHVhbC5tdWx0aWxpbmUgPT09IGV4cGVjdGVkLm11bHRpbGluZSAmJgogICAgICAgICAgIGFjdHVhbC5sYXN0SW5kZXggPT09IGV4cGVjdGVkLmxhc3RJbmRleCAmJgogICAgICAgICAgIGFjdHVhbC5pZ25vcmVDYXNlID09PSBleHBlY3RlZC5pZ25vcmVDYXNlOwoKICAvLyA3LjQuIE90aGVyIHBhaXJzIHRoYXQgZG8gbm90IGJvdGggcGFzcyB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcsCiAgLy8gZXF1aXZhbGVuY2UgaXMgZGV0ZXJtaW5lZCBieSA9PS4KICB9IGVsc2UgaWYgKCF1dGlsLmlzT2JqZWN0KGFjdHVhbCkgJiYgIXV0aWwuaXNPYmplY3QoZXhwZWN0ZWQpKSB7CiAgICByZXR1cm4gYWN0dWFsID09IGV4cGVjdGVkOwoKICAvLyA3LjUgRm9yIGFsbCBvdGhlciBPYmplY3QgcGFpcnMsIGluY2x1ZGluZyBBcnJheSBvYmplY3RzLCBlcXVpdmFsZW5jZSBpcwogIC8vIGRldGVybWluZWQgYnkgaGF2aW5nIHRoZSBzYW1lIG51bWJlciBvZiBvd25lZCBwcm9wZXJ0aWVzIChhcyB2ZXJpZmllZAogIC8vIHdpdGggT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKSwgdGhlIHNhbWUgc2V0IG9mIGtleXMKICAvLyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKSwgZXF1aXZhbGVudCB2YWx1ZXMgZm9yIGV2ZXJ5CiAgLy8gY29ycmVzcG9uZGluZyBrZXksIGFuZCBhbiBpZGVudGljYWwgJ3Byb3RvdHlwZScgcHJvcGVydHkuIE5vdGU6IHRoaXMKICAvLyBhY2NvdW50cyBmb3IgYm90aCBuYW1lZCBhbmQgaW5kZXhlZCBwcm9wZXJ0aWVzIG9uIEFycmF5cy4KICB9IGVsc2UgewogICAgcmV0dXJuIG9iakVxdWl2KGFjdHVhbCwgZXhwZWN0ZWQpOwogIH0KfQoKZnVuY3Rpb24gaXNBcmd1bWVudHMob2JqZWN0KSB7CiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpID09ICdbb2JqZWN0IEFyZ3VtZW50c10nOwp9CgpmdW5jdGlvbiBvYmpFcXVpdihhLCBiKSB7CiAgaWYgKHV0aWwuaXNOdWxsT3JVbmRlZmluZWQoYSkgfHwgdXRpbC5pc051bGxPclVuZGVmaW5lZChiKSkKICAgIHJldHVybiBmYWxzZTsKICAvLyBhbiBpZGVudGljYWwgJ3Byb3RvdHlwZScgcHJvcGVydHkuCiAgaWYgKGEucHJvdG90eXBlICE9PSBiLnByb3RvdHlwZSkgcmV0dXJuIGZhbHNlOwogIC8vIGlmIG9uZSBpcyBhIHByaW1pdGl2ZSwgdGhlIG90aGVyIG11c3QgYmUgc2FtZQogIGlmICh1dGlsLmlzUHJpbWl0aXZlKGEpIHx8IHV0aWwuaXNQcmltaXRpdmUoYikpIHsKICAgIHJldHVybiBhID09PSBiOwogIH0KICB2YXIgYUlzQXJncyA9IGlzQXJndW1lbnRzKGEpLAogICAgICBiSXNBcmdzID0gaXNBcmd1bWVudHMoYik7CiAgaWYgKChhSXNBcmdzICYmICFiSXNBcmdzKSB8fCAoIWFJc0FyZ3MgJiYgYklzQXJncykpCiAgICByZXR1cm4gZmFsc2U7CiAgaWYgKGFJc0FyZ3MpIHsKICAgIGEgPSBwU2xpY2UuY2FsbChhKTsKICAgIGIgPSBwU2xpY2UuY2FsbChiKTsKICAgIHJldHVybiBfZGVlcEVxdWFsKGEsIGIpOwogIH0KICB2YXIga2EgPSBvYmplY3RLZXlzKGEpLAogICAgICBrYiA9IG9iamVjdEtleXMoYiksCiAgICAgIGtleSwgaTsKICAvLyBoYXZpbmcgdGhlIHNhbWUgbnVtYmVyIG9mIG93bmVkIHByb3BlcnRpZXMgKGtleXMgaW5jb3Jwb3JhdGVzCiAgLy8gaGFzT3duUHJvcGVydHkpCiAgaWYgKGthLmxlbmd0aCAhPSBrYi5sZW5ndGgpCiAgICByZXR1cm4gZmFsc2U7CiAgLy90aGUgc2FtZSBzZXQgb2Yga2V5cyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKSwKICBrYS5zb3J0KCk7CiAga2Iuc29ydCgpOwogIC8vfn5+Y2hlYXAga2V5IHRlc3QKICBmb3IgKGkgPSBrYS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgaWYgKGthW2ldICE9IGtiW2ldKQogICAgICByZXR1cm4gZmFsc2U7CiAgfQogIC8vZXF1aXZhbGVudCB2YWx1ZXMgZm9yIGV2ZXJ5IGNvcnJlc3BvbmRpbmcga2V5LCBhbmQKICAvL35+fnBvc3NpYmx5IGV4cGVuc2l2ZSBkZWVwIHRlc3QKICBmb3IgKGkgPSBrYS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAga2V5ID0ga2FbaV07CiAgICBpZiAoIV9kZWVwRXF1YWwoYVtrZXldLCBiW2tleV0pKSByZXR1cm4gZmFsc2U7CiAgfQogIHJldHVybiB0cnVlOwp9CgovLyA4LiBUaGUgbm9uLWVxdWl2YWxlbmNlIGFzc2VydGlvbiB0ZXN0cyBmb3IgYW55IGRlZXAgaW5lcXVhbGl0eS4KLy8gYXNzZXJ0Lm5vdERlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlX29wdCk7Cgphc3NlcnQubm90RGVlcEVxdWFsID0gZnVuY3Rpb24gbm90RGVlcEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHsKICBpZiAoX2RlZXBFcXVhbChhY3R1YWwsIGV4cGVjdGVkKSkgewogICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnbm90RGVlcEVxdWFsJywgYXNzZXJ0Lm5vdERlZXBFcXVhbCk7CiAgfQp9OwoKLy8gOS4gVGhlIHN0cmljdCBlcXVhbGl0eSBhc3NlcnRpb24gdGVzdHMgc3RyaWN0IGVxdWFsaXR5LCBhcyBkZXRlcm1pbmVkIGJ5ID09PS4KLy8gYXNzZXJ0LnN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2Vfb3B0KTsKCmFzc2VydC5zdHJpY3RFcXVhbCA9IGZ1bmN0aW9uIHN0cmljdEVxdWFsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHsKICBpZiAoYWN0dWFsICE9PSBleHBlY3RlZCkgewogICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlLCAnPT09JywgYXNzZXJ0LnN0cmljdEVxdWFsKTsKICB9Cn07CgovLyAxMC4gVGhlIHN0cmljdCBub24tZXF1YWxpdHkgYXNzZXJ0aW9uIHRlc3RzIGZvciBzdHJpY3QgaW5lcXVhbGl0eSwgYXMKLy8gZGV0ZXJtaW5lZCBieSAhPT0uICBhc3NlcnQubm90U3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZV9vcHQpOwoKYXNzZXJ0Lm5vdFN0cmljdEVxdWFsID0gZnVuY3Rpb24gbm90U3RyaWN0RXF1YWwoYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkgewogIGlmIChhY3R1YWwgPT09IGV4cGVjdGVkKSB7CiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UsICchPT0nLCBhc3NlcnQubm90U3RyaWN0RXF1YWwpOwogIH0KfTsKCmZ1bmN0aW9uIGV4cGVjdGVkRXhjZXB0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpIHsKICBpZiAoIWFjdHVhbCB8fCAhZXhwZWN0ZWQpIHsKICAgIHJldHVybiBmYWxzZTsKICB9CgogIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZXhwZWN0ZWQpID09ICdbb2JqZWN0IFJlZ0V4cF0nKSB7CiAgICByZXR1cm4gZXhwZWN0ZWQudGVzdChhY3R1YWwpOwogIH0gZWxzZSBpZiAoYWN0dWFsIGluc3RhbmNlb2YgZXhwZWN0ZWQpIHsKICAgIHJldHVybiB0cnVlOwogIH0gZWxzZSBpZiAoZXhwZWN0ZWQuY2FsbCh7fSwgYWN0dWFsKSA9PT0gdHJ1ZSkgewogICAgcmV0dXJuIHRydWU7CiAgfQoKICByZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIF90aHJvd3Moc2hvdWxkVGhyb3csIGJsb2NrLCBleHBlY3RlZCwgbWVzc2FnZSkgewogIHZhciBhY3R1YWw7CgogIGlmICh1dGlsLmlzU3RyaW5nKGV4cGVjdGVkKSkgewogICAgbWVzc2FnZSA9IGV4cGVjdGVkOwogICAgZXhwZWN0ZWQgPSBudWxsOwogIH0KCiAgdHJ5IHsKICAgIGJsb2NrKCk7CiAgfSBjYXRjaCAoZSkgewogICAgYWN0dWFsID0gZTsKICB9CgogIG1lc3NhZ2UgPSAoZXhwZWN0ZWQgJiYgZXhwZWN0ZWQubmFtZSA/ICcgKCcgKyBleHBlY3RlZC5uYW1lICsgJykuJyA6ICcuJykgKwogICAgICAgICAgICAobWVzc2FnZSA/ICcgJyArIG1lc3NhZ2UgOiAnLicpOwoKICBpZiAoc2hvdWxkVGhyb3cgJiYgIWFjdHVhbCkgewogICAgZmFpbChhY3R1YWwsIGV4cGVjdGVkLCAnTWlzc2luZyBleHBlY3RlZCBleGNlcHRpb24nICsgbWVzc2FnZSk7CiAgfQoKICBpZiAoIXNob3VsZFRocm93ICYmIGV4cGVjdGVkRXhjZXB0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpKSB7CiAgICBmYWlsKGFjdHVhbCwgZXhwZWN0ZWQsICdHb3QgdW53YW50ZWQgZXhjZXB0aW9uJyArIG1lc3NhZ2UpOwogIH0KCiAgaWYgKChzaG91bGRUaHJvdyAmJiBhY3R1YWwgJiYgZXhwZWN0ZWQgJiYKICAgICAgIWV4cGVjdGVkRXhjZXB0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpKSB8fCAoIXNob3VsZFRocm93ICYmIGFjdHVhbCkpIHsKICAgIHRocm93IGFjdHVhbDsKICB9Cn0KCi8vIDExLiBFeHBlY3RlZCB0byB0aHJvdyBhbiBlcnJvcjoKLy8gYXNzZXJ0LnRocm93cyhibG9jaywgRXJyb3Jfb3B0LCBtZXNzYWdlX29wdCk7Cgphc3NlcnQudGhyb3dzID0gZnVuY3Rpb24oYmxvY2ssIC8qb3B0aW9uYWwqL2Vycm9yLCAvKm9wdGlvbmFsKi9tZXNzYWdlKSB7CiAgX3Rocm93cy5hcHBseSh0aGlzLCBbdHJ1ZV0uY29uY2F0KHBTbGljZS5jYWxsKGFyZ3VtZW50cykpKTsKfTsKCi8vIEVYVEVOU0lPTiEgVGhpcyBpcyBhbm5veWluZyB0byB3cml0ZSBvdXRzaWRlIHRoaXMgbW9kdWxlLgphc3NlcnQuZG9lc05vdFRocm93ID0gZnVuY3Rpb24oYmxvY2ssIC8qb3B0aW9uYWwqL21lc3NhZ2UpIHsKICBfdGhyb3dzLmFwcGx5KHRoaXMsIFtmYWxzZV0uY29uY2F0KHBTbGljZS5jYWxsKGFyZ3VtZW50cykpKTsKfTsKCmFzc2VydC5pZkVycm9yID0gZnVuY3Rpb24oZXJyKSB7IGlmIChlcnIpIHt0aHJvdyBlcnI7fX07Cgp2YXIgb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHsKICB2YXIga2V5cyA9IFtdOwogIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgIGlmIChoYXNPd24uY2FsbChvYmosIGtleSkpIGtleXMucHVzaChrZXkpOwogIH0KICByZXR1cm4ga2V5czsKfTsKCn0seyJ1dGlsLyI6MTc2fV0sMTY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCcKCmV4cG9ydHMudG9CeXRlQXJyYXkgPSB0b0J5dGVBcnJheQpleHBvcnRzLmZyb21CeXRlQXJyYXkgPSBmcm9tQnl0ZUFycmF5Cgp2YXIgbG9va3VwID0gW10KdmFyIHJldkxvb2t1cCA9IFtdCnZhciBBcnIgPSB0eXBlb2YgVWludDhBcnJheSAhPT0gJ3VuZGVmaW5lZCcgPyBVaW50OEFycmF5IDogQXJyYXkKCmZ1bmN0aW9uIGluaXQgKCkgewogIHZhciBpCiAgdmFyIGNvZGUgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLycKICB2YXIgbGVuID0gY29kZS5sZW5ndGgKCiAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICBsb29rdXBbaV0gPSBjb2RlW2ldCiAgfQoKICBmb3IgKGkgPSAwOyBpIDwgbGVuOyArK2kpIHsKICAgIHJldkxvb2t1cFtjb2RlLmNoYXJDb2RlQXQoaSldID0gaQogIH0KICByZXZMb29rdXBbJy0nLmNoYXJDb2RlQXQoMCldID0gNjIKICByZXZMb29rdXBbJ18nLmNoYXJDb2RlQXQoMCldID0gNjMKfQoKaW5pdCgpCgpmdW5jdGlvbiB0b0J5dGVBcnJheSAoYjY0KSB7CiAgdmFyIGksIGosIGwsIHRtcCwgcGxhY2VIb2xkZXJzLCBhcnIKICB2YXIgbGVuID0gYjY0Lmxlbmd0aAoKICBpZiAobGVuICUgNCA+IDApIHsKICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNCcpCiAgfQoKICAvLyB0aGUgbnVtYmVyIG9mIGVxdWFsIHNpZ25zIChwbGFjZSBob2xkZXJzKQogIC8vIGlmIHRoZXJlIGFyZSB0d28gcGxhY2Vob2xkZXJzLCB0aGFuIHRoZSB0d28gY2hhcmFjdGVycyBiZWZvcmUgaXQKICAvLyByZXByZXNlbnQgb25lIGJ5dGUKICAvLyBpZiB0aGVyZSBpcyBvbmx5IG9uZSwgdGhlbiB0aGUgdGhyZWUgY2hhcmFjdGVycyBiZWZvcmUgaXQgcmVwcmVzZW50IDIgYnl0ZXMKICAvLyB0aGlzIGlzIGp1c3QgYSBjaGVhcCBoYWNrIHRvIG5vdCBkbyBpbmRleE9mIHR3aWNlCiAgcGxhY2VIb2xkZXJzID0gYjY0W2xlbiAtIDJdID09PSAnPScgPyAyIDogYjY0W2xlbiAtIDFdID09PSAnPScgPyAxIDogMAoKICAvLyBiYXNlNjQgaXMgNC8zICsgdXAgdG8gdHdvIGNoYXJhY3RlcnMgb2YgdGhlIG9yaWdpbmFsIGRhdGEKICBhcnIgPSBuZXcgQXJyKGxlbiAqIDMgLyA0IC0gcGxhY2VIb2xkZXJzKQoKICAvLyBpZiB0aGVyZSBhcmUgcGxhY2Vob2xkZXJzLCBvbmx5IGdldCB1cCB0byB0aGUgbGFzdCBjb21wbGV0ZSA0IGNoYXJzCiAgbCA9IHBsYWNlSG9sZGVycyA+IDAgPyBsZW4gLSA0IDogbGVuCgogIHZhciBMID0gMAoKICBmb3IgKGkgPSAwLCBqID0gMDsgaSA8IGw7IGkgKz0gNCwgaiArPSAzKSB7CiAgICB0bXAgPSAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXSA8PCAxOCkgfCAocmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAxKV0gPDwgMTIpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildIDw8IDYpIHwgcmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkgKyAzKV0KICAgIGFycltMKytdID0gKHRtcCAmIDB4RkYwMDAwKSA+PiAxNgogICAgYXJyW0wrK10gPSAodG1wICYgMHhGRjAwKSA+PiA4CiAgICBhcnJbTCsrXSA9IHRtcCAmIDB4RkYKICB9CgogIGlmIChwbGFjZUhvbGRlcnMgPT09IDIpIHsKICAgIHRtcCA9IChyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldIDw8IDIpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldID4+IDQpCiAgICBhcnJbTCsrXSA9IHRtcCAmIDB4RkYKICB9IGVsc2UgaWYgKHBsYWNlSG9sZGVycyA9PT0gMSkgewogICAgdG1wID0gKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKV0gPDwgMTApIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMSldIDw8IDQpIHwgKHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpICsgMildID4+IDIpCiAgICBhcnJbTCsrXSA9ICh0bXAgPj4gOCkgJiAweEZGCiAgICBhcnJbTCsrXSA9IHRtcCAmIDB4RkYKICB9CgogIHJldHVybiBhcnIKfQoKZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0IChudW0pIHsKICByZXR1cm4gbG9va3VwW251bSA+PiAxOCAmIDB4M0ZdICsgbG9va3VwW251bSA+PiAxMiAmIDB4M0ZdICsgbG9va3VwW251bSA+PiA2ICYgMHgzRl0gKyBsb29rdXBbbnVtICYgMHgzRl0KfQoKZnVuY3Rpb24gZW5jb2RlQ2h1bmsgKHVpbnQ4LCBzdGFydCwgZW5kKSB7CiAgdmFyIHRtcAogIHZhciBvdXRwdXQgPSBbXQogIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSAzKSB7CiAgICB0bXAgPSAodWludDhbaV0gPDwgMTYpICsgKHVpbnQ4W2kgKyAxXSA8PCA4KSArICh1aW50OFtpICsgMl0pCiAgICBvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSkKICB9CiAgcmV0dXJuIG91dHB1dC5qb2luKCcnKQp9CgpmdW5jdGlvbiBmcm9tQnl0ZUFycmF5ICh1aW50OCkgewogIHZhciB0bXAKICB2YXIgbGVuID0gdWludDgubGVuZ3RoCiAgdmFyIGV4dHJhQnl0ZXMgPSBsZW4gJSAzIC8vIGlmIHdlIGhhdmUgMSBieXRlIGxlZnQsIHBhZCAyIGJ5dGVzCiAgdmFyIG91dHB1dCA9ICcnCiAgdmFyIHBhcnRzID0gW10KICB2YXIgbWF4Q2h1bmtMZW5ndGggPSAxNjM4MyAvLyBtdXN0IGJlIG11bHRpcGxlIG9mIDMKCiAgLy8gZ28gdGhyb3VnaCB0aGUgYXJyYXkgZXZlcnkgdGhyZWUgYnl0ZXMsIHdlJ2xsIGRlYWwgd2l0aCB0cmFpbGluZyBzdHVmZiBsYXRlcgogIGZvciAodmFyIGkgPSAwLCBsZW4yID0gbGVuIC0gZXh0cmFCeXRlczsgaSA8IGxlbjI7IGkgKz0gbWF4Q2h1bmtMZW5ndGgpIHsKICAgIHBhcnRzLnB1c2goZW5jb2RlQ2h1bmsodWludDgsIGksIChpICsgbWF4Q2h1bmtMZW5ndGgpID4gbGVuMiA/IGxlbjIgOiAoaSArIG1heENodW5rTGVuZ3RoKSkpCiAgfQoKICAvLyBwYWQgdGhlIGVuZCB3aXRoIHplcm9zLCBidXQgbWFrZSBzdXJlIHRvIG5vdCBmb3JnZXQgdGhlIGV4dHJhIGJ5dGVzCiAgaWYgKGV4dHJhQnl0ZXMgPT09IDEpIHsKICAgIHRtcCA9IHVpbnQ4W2xlbiAtIDFdCiAgICBvdXRwdXQgKz0gbG9va3VwW3RtcCA+PiAyXQogICAgb3V0cHV0ICs9IGxvb2t1cFsodG1wIDw8IDQpICYgMHgzRl0KICAgIG91dHB1dCArPSAnPT0nCiAgfSBlbHNlIGlmIChleHRyYUJ5dGVzID09PSAyKSB7CiAgICB0bXAgPSAodWludDhbbGVuIC0gMl0gPDwgOCkgKyAodWludDhbbGVuIC0gMV0pCiAgICBvdXRwdXQgKz0gbG9va3VwW3RtcCA+PiAxMF0KICAgIG91dHB1dCArPSBsb29rdXBbKHRtcCA+PiA0KSAmIDB4M0ZdCiAgICBvdXRwdXQgKz0gbG9va3VwWyh0bXAgPDwgMikgJiAweDNGXQogICAgb3V0cHV0ICs9ICc9JwogIH0KCiAgcGFydHMucHVzaChvdXRwdXQpCgogIHJldHVybiBwYXJ0cy5qb2luKCcnKQp9Cgp9LHt9XSwxNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKJ3VzZSBzdHJpY3QnOwoKdmFyIGJhc2U2NHVybCA9IG1vZHVsZS5leHBvcnRzOwoKYmFzZTY0dXJsLnVuZXNjYXBlID0gZnVuY3Rpb24gdW5lc2NhcGUgKHN0cikgewogIHJldHVybiAoc3RyICsgQXJyYXkoNSAtIHN0ci5sZW5ndGggJSA0KQogICAgLmpvaW4oJz0nKSkKICAgIC5yZXBsYWNlKC9cLS9nLCAnKycpCiAgICAucmVwbGFjZSgvXy9nLCAnLycpOwp9OwoKYmFzZTY0dXJsLmVzY2FwZSA9IGZ1bmN0aW9uIGVzY2FwZSAoc3RyKSB7CiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cKy9nLCAnLScpCiAgICAucmVwbGFjZSgvXC8vZywgJ18nKQogICAgLnJlcGxhY2UoLz0vZywgJycpOwp9OwoKYmFzZTY0dXJsLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZSAoc3RyKSB7CiAgcmV0dXJuIHRoaXMuZXNjYXBlKG5ldyBCdWZmZXIoc3RyKS50b1N0cmluZygnYmFzZTY0JykpOwp9OwoKYmFzZTY0dXJsLmRlY29kZSA9IGZ1bmN0aW9uIGRlY29kZSAoc3RyKSB7CiAgcmV0dXJuIG5ldyBCdWZmZXIodGhpcy51bmVzY2FwZShzdHIpLCAnYmFzZTY0JykudG9TdHJpbmcoKTsKfTsKCn0pLmNhbGwodGhpcyxyZXF1aXJlKCJidWZmZXIiKS5CdWZmZXIpCn0seyJidWZmZXIiOjc2fV0sMTg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovLyAocHVibGljKSBDb25zdHJ1Y3RvcgpmdW5jdGlvbiBCaWdJbnRlZ2VyKGEsIGIsIGMpIHsKICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQmlnSW50ZWdlcikpCiAgICByZXR1cm4gbmV3IEJpZ0ludGVnZXIoYSwgYiwgYykKCiAgaWYgKGEgIT0gbnVsbCkgewogICAgaWYgKCJudW1iZXIiID09IHR5cGVvZiBhKSB0aGlzLmZyb21OdW1iZXIoYSwgYiwgYykKICAgIGVsc2UgaWYgKGIgPT0gbnVsbCAmJiAic3RyaW5nIiAhPSB0eXBlb2YgYSkgdGhpcy5mcm9tU3RyaW5nKGEsIDI1NikKICAgIGVsc2UgdGhpcy5mcm9tU3RyaW5nKGEsIGIpCiAgfQp9Cgp2YXIgcHJvdG8gPSBCaWdJbnRlZ2VyLnByb3RvdHlwZQoKLy8gZHVjay10eXBlZCBpc0JpZ0ludGVnZXIKcHJvdG8uX19iaWdpID0gcmVxdWlyZSgnLi4vcGFja2FnZS5qc29uJykudmVyc2lvbgpCaWdJbnRlZ2VyLmlzQmlnSW50ZWdlciA9IGZ1bmN0aW9uIChvYmosIGNoZWNrX3ZlcikgewogIHJldHVybiBvYmogJiYgb2JqLl9fYmlnaSAmJiAoIWNoZWNrX3ZlciB8fCBvYmouX19iaWdpID09PSBwcm90by5fX2JpZ2kpCn0KCi8vIEJpdHMgcGVyIGRpZ2l0CnZhciBkYml0cwoKLy8gYW06IENvbXB1dGUgd19qICs9ICh4KnRoaXNfaSksIHByb3BhZ2F0ZSBjYXJyaWVzLAovLyBjIGlzIGluaXRpYWwgY2FycnksIHJldHVybnMgZmluYWwgY2FycnkuCi8vIGMgPCAzKmR2YWx1ZSwgeCA8IDIqZHZhbHVlLCB0aGlzX2kgPCBkdmFsdWUKLy8gV2UgbmVlZCB0byBzZWxlY3QgdGhlIGZhc3Rlc3Qgb25lIHRoYXQgd29ya3MgaW4gdGhpcyBlbnZpcm9ubWVudC4KCi8vIGFtMTogdXNlIGEgc2luZ2xlIG11bHQgYW5kIGRpdmlkZSB0byBnZXQgdGhlIGhpZ2ggYml0cywKLy8gbWF4IGRpZ2l0IGJpdHMgc2hvdWxkIGJlIDI2IGJlY2F1c2UKLy8gbWF4IGludGVybmFsIHZhbHVlID0gMipkdmFsdWVeMi0yKmR2YWx1ZSAoPCAyXjUzKQpmdW5jdGlvbiBhbTEoaSwgeCwgdywgaiwgYywgbikgewogIHdoaWxlICgtLW4gPj0gMCkgewogICAgdmFyIHYgPSB4ICogdGhpc1tpKytdICsgd1tqXSArIGMKICAgIGMgPSBNYXRoLmZsb29yKHYgLyAweDQwMDAwMDApCiAgICB3W2orK10gPSB2ICYgMHgzZmZmZmZmCiAgfQogIHJldHVybiBjCn0KLy8gYW0yIGF2b2lkcyBhIGJpZyBtdWx0LWFuZC1leHRyYWN0IGNvbXBsZXRlbHkuCi8vIE1heCBkaWdpdCBiaXRzIHNob3VsZCBiZSA8PSAzMCBiZWNhdXNlIHdlIGRvIGJpdHdpc2Ugb3BzCi8vIG9uIHZhbHVlcyB1cCB0byAyKmhkdmFsdWVeMi1oZHZhbHVlLTEgKDwgMl4zMSkKZnVuY3Rpb24gYW0yKGksIHgsIHcsIGosIGMsIG4pIHsKICB2YXIgeGwgPSB4ICYgMHg3ZmZmLAogICAgeGggPSB4ID4+IDE1CiAgd2hpbGUgKC0tbiA+PSAwKSB7CiAgICB2YXIgbCA9IHRoaXNbaV0gJiAweDdmZmYKICAgIHZhciBoID0gdGhpc1tpKytdID4+IDE1CiAgICB2YXIgbSA9IHhoICogbCArIGggKiB4bAogICAgbCA9IHhsICogbCArICgobSAmIDB4N2ZmZikgPDwgMTUpICsgd1tqXSArIChjICYgMHgzZmZmZmZmZikKICAgIGMgPSAobCA+Pj4gMzApICsgKG0gPj4+IDE1KSArIHhoICogaCArIChjID4+PiAzMCkKICAgIHdbaisrXSA9IGwgJiAweDNmZmZmZmZmCiAgfQogIHJldHVybiBjCn0KLy8gQWx0ZXJuYXRlbHksIHNldCBtYXggZGlnaXQgYml0cyB0byAyOCBzaW5jZSBzb21lCi8vIGJyb3dzZXJzIHNsb3cgZG93biB3aGVuIGRlYWxpbmcgd2l0aCAzMi1iaXQgbnVtYmVycy4KZnVuY3Rpb24gYW0zKGksIHgsIHcsIGosIGMsIG4pIHsKICB2YXIgeGwgPSB4ICYgMHgzZmZmLAogICAgeGggPSB4ID4+IDE0CiAgd2hpbGUgKC0tbiA+PSAwKSB7CiAgICB2YXIgbCA9IHRoaXNbaV0gJiAweDNmZmYKICAgIHZhciBoID0gdGhpc1tpKytdID4+IDE0CiAgICB2YXIgbSA9IHhoICogbCArIGggKiB4bAogICAgbCA9IHhsICogbCArICgobSAmIDB4M2ZmZikgPDwgMTQpICsgd1tqXSArIGMKICAgIGMgPSAobCA+PiAyOCkgKyAobSA+PiAxNCkgKyB4aCAqIGgKICAgIHdbaisrXSA9IGwgJiAweGZmZmZmZmYKICB9CiAgcmV0dXJuIGMKfQoKLy8gd3RmPwpCaWdJbnRlZ2VyLnByb3RvdHlwZS5hbSA9IGFtMQpkYml0cyA9IDI2CgpCaWdJbnRlZ2VyLnByb3RvdHlwZS5EQiA9IGRiaXRzCkJpZ0ludGVnZXIucHJvdG90eXBlLkRNID0gKCgxIDw8IGRiaXRzKSAtIDEpCnZhciBEViA9IEJpZ0ludGVnZXIucHJvdG90eXBlLkRWID0gKDEgPDwgZGJpdHMpCgp2YXIgQklfRlAgPSA1MgpCaWdJbnRlZ2VyLnByb3RvdHlwZS5GViA9IE1hdGgucG93KDIsIEJJX0ZQKQpCaWdJbnRlZ2VyLnByb3RvdHlwZS5GMSA9IEJJX0ZQIC0gZGJpdHMKQmlnSW50ZWdlci5wcm90b3R5cGUuRjIgPSAyICogZGJpdHMgLSBCSV9GUAoKLy8gRGlnaXQgY29udmVyc2lvbnMKdmFyIEJJX1JNID0gIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiIKdmFyIEJJX1JDID0gbmV3IEFycmF5KCkKdmFyIHJyLCB2dgpyciA9ICIwIi5jaGFyQ29kZUF0KDApCmZvciAodnYgPSAwOyB2diA8PSA5OyArK3Z2KSBCSV9SQ1tycisrXSA9IHZ2CnJyID0gImEiLmNoYXJDb2RlQXQoMCkKZm9yICh2diA9IDEwOyB2diA8IDM2OyArK3Z2KSBCSV9SQ1tycisrXSA9IHZ2CnJyID0gIkEiLmNoYXJDb2RlQXQoMCkKZm9yICh2diA9IDEwOyB2diA8IDM2OyArK3Z2KSBCSV9SQ1tycisrXSA9IHZ2CgpmdW5jdGlvbiBpbnQyY2hhcihuKSB7CiAgcmV0dXJuIEJJX1JNLmNoYXJBdChuKQp9CgpmdW5jdGlvbiBpbnRBdChzLCBpKSB7CiAgdmFyIGMgPSBCSV9SQ1tzLmNoYXJDb2RlQXQoaSldCiAgcmV0dXJuIChjID09IG51bGwpID8gLTEgOiBjCn0KCi8vIChwcm90ZWN0ZWQpIGNvcHkgdGhpcyB0byByCmZ1bmN0aW9uIGJucENvcHlUbyhyKSB7CiAgZm9yICh2YXIgaSA9IHRoaXMudCAtIDE7IGkgPj0gMDsgLS1pKSByW2ldID0gdGhpc1tpXQogIHIudCA9IHRoaXMudAogIHIucyA9IHRoaXMucwp9CgovLyAocHJvdGVjdGVkKSBzZXQgZnJvbSBpbnRlZ2VyIHZhbHVlIHgsIC1EViA8PSB4IDwgRFYKZnVuY3Rpb24gYm5wRnJvbUludCh4KSB7CiAgdGhpcy50ID0gMQogIHRoaXMucyA9ICh4IDwgMCkgPyAtMSA6IDAKICBpZiAoeCA+IDApIHRoaXNbMF0gPSB4CiAgZWxzZSBpZiAoeCA8IC0xKSB0aGlzWzBdID0geCArIERWCiAgZWxzZSB0aGlzLnQgPSAwCn0KCi8vIHJldHVybiBiaWdpbnQgaW5pdGlhbGl6ZWQgdG8gdmFsdWUKZnVuY3Rpb24gbmJ2KGkpIHsKICB2YXIgciA9IG5ldyBCaWdJbnRlZ2VyKCkKICByLmZyb21JbnQoaSkKICByZXR1cm4gcgp9CgovLyAocHJvdGVjdGVkKSBzZXQgZnJvbSBzdHJpbmcgYW5kIHJhZGl4CmZ1bmN0aW9uIGJucEZyb21TdHJpbmcocywgYikgewogIHZhciBzZWxmID0gdGhpcwoKICB2YXIgawogIGlmIChiID09IDE2KSBrID0gNAogIGVsc2UgaWYgKGIgPT0gOCkgayA9IDMKICBlbHNlIGlmIChiID09IDI1NikgayA9IDg7IC8vIGJ5dGUgYXJyYXkKICBlbHNlIGlmIChiID09IDIpIGsgPSAxCiAgZWxzZSBpZiAoYiA9PSAzMikgayA9IDUKICBlbHNlIGlmIChiID09IDQpIGsgPSAyCiAgZWxzZSB7CiAgICBzZWxmLmZyb21SYWRpeChzLCBiKQogICAgcmV0dXJuCiAgfQogIHNlbGYudCA9IDAKICBzZWxmLnMgPSAwCiAgdmFyIGkgPSBzLmxlbmd0aCwKICAgIG1pID0gZmFsc2UsCiAgICBzaCA9IDAKICB3aGlsZSAoLS1pID49IDApIHsKICAgIHZhciB4ID0gKGsgPT0gOCkgPyBzW2ldICYgMHhmZiA6IGludEF0KHMsIGkpCiAgICBpZiAoeCA8IDApIHsKICAgICAgaWYgKHMuY2hhckF0KGkpID09ICItIikgbWkgPSB0cnVlCiAgICAgIGNvbnRpbnVlCiAgICB9CiAgICBtaSA9IGZhbHNlCiAgICBpZiAoc2ggPT0gMCkKICAgICAgc2VsZltzZWxmLnQrK10gPSB4CiAgICBlbHNlIGlmIChzaCArIGsgPiBzZWxmLkRCKSB7CiAgICAgIHNlbGZbc2VsZi50IC0gMV0gfD0gKHggJiAoKDEgPDwgKHNlbGYuREIgLSBzaCkpIC0gMSkpIDw8IHNoCiAgICAgIHNlbGZbc2VsZi50KytdID0gKHggPj4gKHNlbGYuREIgLSBzaCkpCiAgICB9IGVsc2UKICAgICAgc2VsZltzZWxmLnQgLSAxXSB8PSB4IDw8IHNoCiAgICBzaCArPSBrCiAgICBpZiAoc2ggPj0gc2VsZi5EQikgc2ggLT0gc2VsZi5EQgogIH0KICBpZiAoayA9PSA4ICYmIChzWzBdICYgMHg4MCkgIT0gMCkgewogICAgc2VsZi5zID0gLTEKICAgIGlmIChzaCA+IDApIHNlbGZbc2VsZi50IC0gMV0gfD0gKCgxIDw8IChzZWxmLkRCIC0gc2gpKSAtIDEpIDw8IHNoCiAgfQogIHNlbGYuY2xhbXAoKQogIGlmIChtaSkgQmlnSW50ZWdlci5aRVJPLnN1YlRvKHNlbGYsIHNlbGYpCn0KCi8vIChwcm90ZWN0ZWQpIGNsYW1wIG9mZiBleGNlc3MgaGlnaCB3b3JkcwpmdW5jdGlvbiBibnBDbGFtcCgpIHsKICB2YXIgYyA9IHRoaXMucyAmIHRoaXMuRE0KICB3aGlsZSAodGhpcy50ID4gMCAmJiB0aGlzW3RoaXMudCAtIDFdID09IGMpLS10aGlzLnQKfQoKLy8gKHB1YmxpYykgcmV0dXJuIHN0cmluZyByZXByZXNlbnRhdGlvbiBpbiBnaXZlbiByYWRpeApmdW5jdGlvbiBiblRvU3RyaW5nKGIpIHsKICB2YXIgc2VsZiA9IHRoaXMKICBpZiAoc2VsZi5zIDwgMCkgcmV0dXJuICItIiArIHNlbGYubmVnYXRlKCkKICAgIC50b1N0cmluZyhiKQogIHZhciBrCiAgaWYgKGIgPT0gMTYpIGsgPSA0CiAgZWxzZSBpZiAoYiA9PSA4KSBrID0gMwogIGVsc2UgaWYgKGIgPT0gMikgayA9IDEKICBlbHNlIGlmIChiID09IDMyKSBrID0gNQogIGVsc2UgaWYgKGIgPT0gNCkgayA9IDIKICBlbHNlIHJldHVybiBzZWxmLnRvUmFkaXgoYikKICB2YXIga20gPSAoMSA8PCBrKSAtIDEsCiAgICBkLCBtID0gZmFsc2UsCiAgICByID0gIiIsCiAgICBpID0gc2VsZi50CiAgdmFyIHAgPSBzZWxmLkRCIC0gKGkgKiBzZWxmLkRCKSAlIGsKICBpZiAoaS0tID4gMCkgewogICAgaWYgKHAgPCBzZWxmLkRCICYmIChkID0gc2VsZltpXSA+PiBwKSA+IDApIHsKICAgICAgbSA9IHRydWUKICAgICAgciA9IGludDJjaGFyKGQpCiAgICB9CiAgICB3aGlsZSAoaSA+PSAwKSB7CiAgICAgIGlmIChwIDwgaykgewogICAgICAgIGQgPSAoc2VsZltpXSAmICgoMSA8PCBwKSAtIDEpKSA8PCAoayAtIHApCiAgICAgICAgZCB8PSBzZWxmWy0taV0gPj4gKHAgKz0gc2VsZi5EQiAtIGspCiAgICAgIH0gZWxzZSB7CiAgICAgICAgZCA9IChzZWxmW2ldID4+IChwIC09IGspKSAmIGttCiAgICAgICAgaWYgKHAgPD0gMCkgewogICAgICAgICAgcCArPSBzZWxmLkRCCiAgICAgICAgICAtLWkKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKGQgPiAwKSBtID0gdHJ1ZQogICAgICBpZiAobSkgciArPSBpbnQyY2hhcihkKQogICAgfQogIH0KICByZXR1cm4gbSA/IHIgOiAiMCIKfQoKLy8gKHB1YmxpYykgLXRoaXMKZnVuY3Rpb24gYm5OZWdhdGUoKSB7CiAgdmFyIHIgPSBuZXcgQmlnSW50ZWdlcigpCiAgQmlnSW50ZWdlci5aRVJPLnN1YlRvKHRoaXMsIHIpCiAgcmV0dXJuIHIKfQoKLy8gKHB1YmxpYykgfHRoaXN8CmZ1bmN0aW9uIGJuQWJzKCkgewogIHJldHVybiAodGhpcy5zIDwgMCkgPyB0aGlzLm5lZ2F0ZSgpIDogdGhpcwp9CgovLyAocHVibGljKSByZXR1cm4gKyBpZiB0aGlzID4gYSwgLSBpZiB0aGlzIDwgYSwgMCBpZiBlcXVhbApmdW5jdGlvbiBibkNvbXBhcmVUbyhhKSB7CiAgdmFyIHIgPSB0aGlzLnMgLSBhLnMKICBpZiAociAhPSAwKSByZXR1cm4gcgogIHZhciBpID0gdGhpcy50CiAgciA9IGkgLSBhLnQKICBpZiAociAhPSAwKSByZXR1cm4gKHRoaXMucyA8IDApID8gLXIgOiByCiAgd2hpbGUgKC0taSA+PSAwKQogICAgaWYgKChyID0gdGhpc1tpXSAtIGFbaV0pICE9IDApIHJldHVybiByCiAgcmV0dXJuIDAKfQoKLy8gcmV0dXJucyBiaXQgbGVuZ3RoIG9mIHRoZSBpbnRlZ2VyIHgKZnVuY3Rpb24gbmJpdHMoeCkgewogIHZhciByID0gMSwKICAgIHQKICBpZiAoKHQgPSB4ID4+PiAxNikgIT0gMCkgewogICAgeCA9IHQKICAgIHIgKz0gMTYKICB9CiAgaWYgKCh0ID0geCA+PiA4KSAhPSAwKSB7CiAgICB4ID0gdAogICAgciArPSA4CiAgfQogIGlmICgodCA9IHggPj4gNCkgIT0gMCkgewogICAgeCA9IHQKICAgIHIgKz0gNAogIH0KICBpZiAoKHQgPSB4ID4+IDIpICE9IDApIHsKICAgIHggPSB0CiAgICByICs9IDIKICB9CiAgaWYgKCh0ID0geCA+PiAxKSAhPSAwKSB7CiAgICB4ID0gdAogICAgciArPSAxCiAgfQogIHJldHVybiByCn0KCi8vIChwdWJsaWMpIHJldHVybiB0aGUgbnVtYmVyIG9mIGJpdHMgaW4gInRoaXMiCmZ1bmN0aW9uIGJuQml0TGVuZ3RoKCkgewogIGlmICh0aGlzLnQgPD0gMCkgcmV0dXJuIDAKICByZXR1cm4gdGhpcy5EQiAqICh0aGlzLnQgLSAxKSArIG5iaXRzKHRoaXNbdGhpcy50IC0gMV0gXiAodGhpcy5zICYgdGhpcy5ETSkpCn0KCi8vIChwdWJsaWMpIHJldHVybiB0aGUgbnVtYmVyIG9mIGJ5dGVzIGluICJ0aGlzIgpmdW5jdGlvbiBibkJ5dGVMZW5ndGgoKSB7CiAgcmV0dXJuIHRoaXMuYml0TGVuZ3RoKCkgPj4gMwp9CgovLyAocHJvdGVjdGVkKSByID0gdGhpcyA8PCBuKkRCCmZ1bmN0aW9uIGJucERMU2hpZnRUbyhuLCByKSB7CiAgdmFyIGkKICBmb3IgKGkgPSB0aGlzLnQgLSAxOyBpID49IDA7IC0taSkgcltpICsgbl0gPSB0aGlzW2ldCiAgZm9yIChpID0gbiAtIDE7IGkgPj0gMDsgLS1pKSByW2ldID0gMAogIHIudCA9IHRoaXMudCArIG4KICByLnMgPSB0aGlzLnMKfQoKLy8gKHByb3RlY3RlZCkgciA9IHRoaXMgPj4gbipEQgpmdW5jdGlvbiBibnBEUlNoaWZ0VG8obiwgcikgewogIGZvciAodmFyIGkgPSBuOyBpIDwgdGhpcy50OyArK2kpIHJbaSAtIG5dID0gdGhpc1tpXQogIHIudCA9IE1hdGgubWF4KHRoaXMudCAtIG4sIDApCiAgci5zID0gdGhpcy5zCn0KCi8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzIDw8IG4KZnVuY3Rpb24gYm5wTFNoaWZ0VG8obiwgcikgewogIHZhciBzZWxmID0gdGhpcwogIHZhciBicyA9IG4gJSBzZWxmLkRCCiAgdmFyIGNicyA9IHNlbGYuREIgLSBicwogIHZhciBibSA9ICgxIDw8IGNicykgLSAxCiAgdmFyIGRzID0gTWF0aC5mbG9vcihuIC8gc2VsZi5EQiksCiAgICBjID0gKHNlbGYucyA8PCBicykgJiBzZWxmLkRNLAogICAgaQogIGZvciAoaSA9IHNlbGYudCAtIDE7IGkgPj0gMDsgLS1pKSB7CiAgICByW2kgKyBkcyArIDFdID0gKHNlbGZbaV0gPj4gY2JzKSB8IGMKICAgIGMgPSAoc2VsZltpXSAmIGJtKSA8PCBicwogIH0KICBmb3IgKGkgPSBkcyAtIDE7IGkgPj0gMDsgLS1pKSByW2ldID0gMAogIHJbZHNdID0gYwogIHIudCA9IHNlbGYudCArIGRzICsgMQogIHIucyA9IHNlbGYucwogIHIuY2xhbXAoKQp9CgovLyAocHJvdGVjdGVkKSByID0gdGhpcyA+PiBuCmZ1bmN0aW9uIGJucFJTaGlmdFRvKG4sIHIpIHsKICB2YXIgc2VsZiA9IHRoaXMKICByLnMgPSBzZWxmLnMKICB2YXIgZHMgPSBNYXRoLmZsb29yKG4gLyBzZWxmLkRCKQogIGlmIChkcyA+PSBzZWxmLnQpIHsKICAgIHIudCA9IDAKICAgIHJldHVybgogIH0KICB2YXIgYnMgPSBuICUgc2VsZi5EQgogIHZhciBjYnMgPSBzZWxmLkRCIC0gYnMKICB2YXIgYm0gPSAoMSA8PCBicykgLSAxCiAgclswXSA9IHNlbGZbZHNdID4+IGJzCiAgZm9yICh2YXIgaSA9IGRzICsgMTsgaSA8IHNlbGYudDsgKytpKSB7CiAgICByW2kgLSBkcyAtIDFdIHw9IChzZWxmW2ldICYgYm0pIDw8IGNicwogICAgcltpIC0gZHNdID0gc2VsZltpXSA+PiBicwogIH0KICBpZiAoYnMgPiAwKSByW3NlbGYudCAtIGRzIC0gMV0gfD0gKHNlbGYucyAmIGJtKSA8PCBjYnMKICByLnQgPSBzZWxmLnQgLSBkcwogIHIuY2xhbXAoKQp9CgovLyAocHJvdGVjdGVkKSByID0gdGhpcyAtIGEKZnVuY3Rpb24gYm5wU3ViVG8oYSwgcikgewogIHZhciBzZWxmID0gdGhpcwogIHZhciBpID0gMCwKICAgIGMgPSAwLAogICAgbSA9IE1hdGgubWluKGEudCwgc2VsZi50KQogIHdoaWxlIChpIDwgbSkgewogICAgYyArPSBzZWxmW2ldIC0gYVtpXQogICAgcltpKytdID0gYyAmIHNlbGYuRE0KICAgIGMgPj49IHNlbGYuREIKICB9CiAgaWYgKGEudCA8IHNlbGYudCkgewogICAgYyAtPSBhLnMKICAgIHdoaWxlIChpIDwgc2VsZi50KSB7CiAgICAgIGMgKz0gc2VsZltpXQogICAgICByW2krK10gPSBjICYgc2VsZi5ETQogICAgICBjID4+PSBzZWxmLkRCCiAgICB9CiAgICBjICs9IHNlbGYucwogIH0gZWxzZSB7CiAgICBjICs9IHNlbGYucwogICAgd2hpbGUgKGkgPCBhLnQpIHsKICAgICAgYyAtPSBhW2ldCiAgICAgIHJbaSsrXSA9IGMgJiBzZWxmLkRNCiAgICAgIGMgPj49IHNlbGYuREIKICAgIH0KICAgIGMgLT0gYS5zCiAgfQogIHIucyA9IChjIDwgMCkgPyAtMSA6IDAKICBpZiAoYyA8IC0xKSByW2krK10gPSBzZWxmLkRWICsgYwogIGVsc2UgaWYgKGMgPiAwKSByW2krK10gPSBjCiAgci50ID0gaQogIHIuY2xhbXAoKQp9CgovLyAocHJvdGVjdGVkKSByID0gdGhpcyAqIGEsIHIgIT0gdGhpcyxhIChIQUMgMTQuMTIpCi8vICJ0aGlzIiBzaG91bGQgYmUgdGhlIGxhcmdlciBvbmUgaWYgYXBwcm9wcmlhdGUuCmZ1bmN0aW9uIGJucE11bHRpcGx5VG8oYSwgcikgewogIHZhciB4ID0gdGhpcy5hYnMoKSwKICAgIHkgPSBhLmFicygpCiAgdmFyIGkgPSB4LnQKICByLnQgPSBpICsgeS50CiAgd2hpbGUgKC0taSA+PSAwKSByW2ldID0gMAogIGZvciAoaSA9IDA7IGkgPCB5LnQ7ICsraSkgcltpICsgeC50XSA9IHguYW0oMCwgeVtpXSwgciwgaSwgMCwgeC50KQogIHIucyA9IDAKICByLmNsYW1wKCkKICBpZiAodGhpcy5zICE9IGEucykgQmlnSW50ZWdlci5aRVJPLnN1YlRvKHIsIHIpCn0KCi8vIChwcm90ZWN0ZWQpIHIgPSB0aGlzXjIsIHIgIT0gdGhpcyAoSEFDIDE0LjE2KQpmdW5jdGlvbiBibnBTcXVhcmVUbyhyKSB7CiAgdmFyIHggPSB0aGlzLmFicygpCiAgdmFyIGkgPSByLnQgPSAyICogeC50CiAgd2hpbGUgKC0taSA+PSAwKSByW2ldID0gMAogIGZvciAoaSA9IDA7IGkgPCB4LnQgLSAxOyArK2kpIHsKICAgIHZhciBjID0geC5hbShpLCB4W2ldLCByLCAyICogaSwgMCwgMSkKICAgIGlmICgocltpICsgeC50XSArPSB4LmFtKGkgKyAxLCAyICogeFtpXSwgciwgMiAqIGkgKyAxLCBjLCB4LnQgLSBpIC0gMSkpID49IHguRFYpIHsKICAgICAgcltpICsgeC50XSAtPSB4LkRWCiAgICAgIHJbaSArIHgudCArIDFdID0gMQogICAgfQogIH0KICBpZiAoci50ID4gMCkgcltyLnQgLSAxXSArPSB4LmFtKGksIHhbaV0sIHIsIDIgKiBpLCAwLCAxKQogIHIucyA9IDAKICByLmNsYW1wKCkKfQoKLy8gKHByb3RlY3RlZCkgZGl2aWRlIHRoaXMgYnkgbSwgcXVvdGllbnQgYW5kIHJlbWFpbmRlciB0byBxLCByIChIQUMgMTQuMjApCi8vIHIgIT0gcSwgdGhpcyAhPSBtLiAgcSBvciByIG1heSBiZSBudWxsLgpmdW5jdGlvbiBibnBEaXZSZW1UbyhtLCBxLCByKSB7CiAgdmFyIHNlbGYgPSB0aGlzCiAgdmFyIHBtID0gbS5hYnMoKQogIGlmIChwbS50IDw9IDApIHJldHVybgogIHZhciBwdCA9IHNlbGYuYWJzKCkKICBpZiAocHQudCA8IHBtLnQpIHsKICAgIGlmIChxICE9IG51bGwpIHEuZnJvbUludCgwKQogICAgaWYgKHIgIT0gbnVsbCkgc2VsZi5jb3B5VG8ocikKICAgIHJldHVybgogIH0KICBpZiAociA9PSBudWxsKSByID0gbmV3IEJpZ0ludGVnZXIoKQogIHZhciB5ID0gbmV3IEJpZ0ludGVnZXIoKSwKICAgIHRzID0gc2VsZi5zLAogICAgbXMgPSBtLnMKICB2YXIgbnNoID0gc2VsZi5EQiAtIG5iaXRzKHBtW3BtLnQgLSAxXSk7IC8vIG5vcm1hbGl6ZSBtb2R1bHVzCiAgaWYgKG5zaCA+IDApIHsKICAgIHBtLmxTaGlmdFRvKG5zaCwgeSkKICAgIHB0LmxTaGlmdFRvKG5zaCwgcikKICB9IGVsc2UgewogICAgcG0uY29weVRvKHkpCiAgICBwdC5jb3B5VG8ocikKICB9CiAgdmFyIHlzID0geS50CiAgdmFyIHkwID0geVt5cyAtIDFdCiAgaWYgKHkwID09IDApIHJldHVybgogIHZhciB5dCA9IHkwICogKDEgPDwgc2VsZi5GMSkgKyAoKHlzID4gMSkgPyB5W3lzIC0gMl0gPj4gc2VsZi5GMiA6IDApCiAgdmFyIGQxID0gc2VsZi5GViAvIHl0LAogICAgZDIgPSAoMSA8PCBzZWxmLkYxKSAvIHl0LAogICAgZSA9IDEgPDwgc2VsZi5GMgogIHZhciBpID0gci50LAogICAgaiA9IGkgLSB5cywKICAgIHQgPSAocSA9PSBudWxsKSA/IG5ldyBCaWdJbnRlZ2VyKCkgOiBxCiAgeS5kbFNoaWZ0VG8oaiwgdCkKICBpZiAoci5jb21wYXJlVG8odCkgPj0gMCkgewogICAgcltyLnQrK10gPSAxCiAgICByLnN1YlRvKHQsIHIpCiAgfQogIEJpZ0ludGVnZXIuT05FLmRsU2hpZnRUbyh5cywgdCkKICB0LnN1YlRvKHksIHkpOyAvLyAibmVnYXRpdmUiIHkgc28gd2UgY2FuIHJlcGxhY2Ugc3ViIHdpdGggYW0gbGF0ZXIKICB3aGlsZSAoeS50IDwgeXMpIHlbeS50KytdID0gMAogIHdoaWxlICgtLWogPj0gMCkgewogICAgLy8gRXN0aW1hdGUgcXVvdGllbnQgZGlnaXQKICAgIHZhciBxZCA9IChyWy0taV0gPT0geTApID8gc2VsZi5ETSA6IE1hdGguZmxvb3IocltpXSAqIGQxICsgKHJbaSAtIDFdICsgZSkgKiBkMikKICAgIGlmICgocltpXSArPSB5LmFtKDAsIHFkLCByLCBqLCAwLCB5cykpIDwgcWQpIHsgLy8gVHJ5IGl0IG91dAogICAgICB5LmRsU2hpZnRUbyhqLCB0KQogICAgICByLnN1YlRvKHQsIHIpCiAgICAgIHdoaWxlIChyW2ldIDwgLS1xZCkgci5zdWJUbyh0LCByKQogICAgfQogIH0KICBpZiAocSAhPSBudWxsKSB7CiAgICByLmRyU2hpZnRUbyh5cywgcSkKICAgIGlmICh0cyAhPSBtcykgQmlnSW50ZWdlci5aRVJPLnN1YlRvKHEsIHEpCiAgfQogIHIudCA9IHlzCiAgci5jbGFtcCgpCiAgaWYgKG5zaCA+IDApIHIuclNoaWZ0VG8obnNoLCByKTsgLy8gRGVub3JtYWxpemUgcmVtYWluZGVyCiAgaWYgKHRzIDwgMCkgQmlnSW50ZWdlci5aRVJPLnN1YlRvKHIsIHIpCn0KCi8vIChwdWJsaWMpIHRoaXMgbW9kIGEKZnVuY3Rpb24gYm5Nb2QoYSkgewogIHZhciByID0gbmV3IEJpZ0ludGVnZXIoKQogIHRoaXMuYWJzKCkKICAgIC5kaXZSZW1UbyhhLCBudWxsLCByKQogIGlmICh0aGlzLnMgPCAwICYmIHIuY29tcGFyZVRvKEJpZ0ludGVnZXIuWkVSTykgPiAwKSBhLnN1YlRvKHIsIHIpCiAgcmV0dXJuIHIKfQoKLy8gTW9kdWxhciByZWR1Y3Rpb24gdXNpbmcgImNsYXNzaWMiIGFsZ29yaXRobQpmdW5jdGlvbiBDbGFzc2ljKG0pIHsKICB0aGlzLm0gPSBtCn0KCmZ1bmN0aW9uIGNDb252ZXJ0KHgpIHsKICBpZiAoeC5zIDwgMCB8fCB4LmNvbXBhcmVUbyh0aGlzLm0pID49IDApIHJldHVybiB4Lm1vZCh0aGlzLm0pCiAgZWxzZSByZXR1cm4geAp9CgpmdW5jdGlvbiBjUmV2ZXJ0KHgpIHsKICByZXR1cm4geAp9CgpmdW5jdGlvbiBjUmVkdWNlKHgpIHsKICB4LmRpdlJlbVRvKHRoaXMubSwgbnVsbCwgeCkKfQoKZnVuY3Rpb24gY011bFRvKHgsIHksIHIpIHsKICB4Lm11bHRpcGx5VG8oeSwgcikKICB0aGlzLnJlZHVjZShyKQp9CgpmdW5jdGlvbiBjU3FyVG8oeCwgcikgewogIHguc3F1YXJlVG8ocikKICB0aGlzLnJlZHVjZShyKQp9CgpDbGFzc2ljLnByb3RvdHlwZS5jb252ZXJ0ID0gY0NvbnZlcnQKQ2xhc3NpYy5wcm90b3R5cGUucmV2ZXJ0ID0gY1JldmVydApDbGFzc2ljLnByb3RvdHlwZS5yZWR1Y2UgPSBjUmVkdWNlCkNsYXNzaWMucHJvdG90eXBlLm11bFRvID0gY011bFRvCkNsYXNzaWMucHJvdG90eXBlLnNxclRvID0gY1NxclRvCgovLyAocHJvdGVjdGVkKSByZXR1cm4gIi0xL3RoaXMgJSAyXkRCIjsgdXNlZnVsIGZvciBNb250LiByZWR1Y3Rpb24KLy8ganVzdGlmaWNhdGlvbjoKLy8gICAgICAgICB4eSA9PSAxIChtb2QgbSkKLy8gICAgICAgICB4eSA9ICAxK2ttCi8vICAgeHkoMi14eSkgPSAoMStrbSkoMS1rbSkKLy8geFt5KDIteHkpXSA9IDEta14ybV4yCi8vIHhbeSgyLXh5KV0gPT0gMSAobW9kIG1eMikKLy8gaWYgeSBpcyAxL3ggbW9kIG0sIHRoZW4geSgyLXh5KSBpcyAxL3ggbW9kIG1eMgovLyBzaG91bGQgcmVkdWNlIHggYW5kIHkoMi14eSkgYnkgbV4yIGF0IGVhY2ggc3RlcCB0byBrZWVwIHNpemUgYm91bmRlZC4KLy8gSlMgbXVsdGlwbHkgIm92ZXJmbG93cyIgZGlmZmVyZW50bHkgZnJvbSBDL0MrKywgc28gY2FyZSBpcyBuZWVkZWQgaGVyZS4KZnVuY3Rpb24gYm5wSW52RGlnaXQoKSB7CiAgaWYgKHRoaXMudCA8IDEpIHJldHVybiAwCiAgdmFyIHggPSB0aGlzWzBdCiAgaWYgKCh4ICYgMSkgPT0gMCkgcmV0dXJuIDAKICB2YXIgeSA9IHggJiAzOyAvLyB5ID09IDEveCBtb2QgMl4yCiAgeSA9ICh5ICogKDIgLSAoeCAmIDB4ZikgKiB5KSkgJiAweGY7IC8vIHkgPT0gMS94IG1vZCAyXjQKICB5ID0gKHkgKiAoMiAtICh4ICYgMHhmZikgKiB5KSkgJiAweGZmOyAvLyB5ID09IDEveCBtb2QgMl44CiAgeSA9ICh5ICogKDIgLSAoKCh4ICYgMHhmZmZmKSAqIHkpICYgMHhmZmZmKSkpICYgMHhmZmZmOyAvLyB5ID09IDEveCBtb2QgMl4xNgogIC8vIGxhc3Qgc3RlcCAtIGNhbGN1bGF0ZSBpbnZlcnNlIG1vZCBEViBkaXJlY3RseQogIC8vIGFzc3VtZXMgMTYgPCBEQiA8PSAzMiBhbmQgYXNzdW1lcyBhYmlsaXR5IHRvIGhhbmRsZSA0OC1iaXQgaW50cwogIHkgPSAoeSAqICgyIC0geCAqIHkgJSB0aGlzLkRWKSkgJSB0aGlzLkRWOyAvLyB5ID09IDEveCBtb2QgMl5kYml0cwogIC8vIHdlIHJlYWxseSB3YW50IHRoZSBuZWdhdGl2ZSBpbnZlcnNlLCBhbmQgLURWIDwgeSA8IERWCiAgcmV0dXJuICh5ID4gMCkgPyB0aGlzLkRWIC0geSA6IC15Cn0KCi8vIE1vbnRnb21lcnkgcmVkdWN0aW9uCmZ1bmN0aW9uIE1vbnRnb21lcnkobSkgewogIHRoaXMubSA9IG0KICB0aGlzLm1wID0gbS5pbnZEaWdpdCgpCiAgdGhpcy5tcGwgPSB0aGlzLm1wICYgMHg3ZmZmCiAgdGhpcy5tcGggPSB0aGlzLm1wID4+IDE1CiAgdGhpcy51bSA9ICgxIDw8IChtLkRCIC0gMTUpKSAtIDEKICB0aGlzLm10MiA9IDIgKiBtLnQKfQoKLy8geFIgbW9kIG0KZnVuY3Rpb24gbW9udENvbnZlcnQoeCkgewogIHZhciByID0gbmV3IEJpZ0ludGVnZXIoKQogIHguYWJzKCkKICAgIC5kbFNoaWZ0VG8odGhpcy5tLnQsIHIpCiAgci5kaXZSZW1Ubyh0aGlzLm0sIG51bGwsIHIpCiAgaWYgKHgucyA8IDAgJiYgci5jb21wYXJlVG8oQmlnSW50ZWdlci5aRVJPKSA+IDApIHRoaXMubS5zdWJUbyhyLCByKQogIHJldHVybiByCn0KCi8vIHgvUiBtb2QgbQpmdW5jdGlvbiBtb250UmV2ZXJ0KHgpIHsKICB2YXIgciA9IG5ldyBCaWdJbnRlZ2VyKCkKICB4LmNvcHlUbyhyKQogIHRoaXMucmVkdWNlKHIpCiAgcmV0dXJuIHIKfQoKLy8geCA9IHgvUiBtb2QgbSAoSEFDIDE0LjMyKQpmdW5jdGlvbiBtb250UmVkdWNlKHgpIHsKICB3aGlsZSAoeC50IDw9IHRoaXMubXQyKSAvLyBwYWQgeCBzbyBhbSBoYXMgZW5vdWdoIHJvb20gbGF0ZXIKICAgIHhbeC50KytdID0gMAogIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tLnQ7ICsraSkgewogICAgLy8gZmFzdGVyIHdheSBvZiBjYWxjdWxhdGluZyB1MCA9IHhbaV0qbXAgbW9kIERWCiAgICB2YXIgaiA9IHhbaV0gJiAweDdmZmYKICAgIHZhciB1MCA9IChqICogdGhpcy5tcGwgKyAoKChqICogdGhpcy5tcGggKyAoeFtpXSA+PiAxNSkgKiB0aGlzLm1wbCkgJiB0aGlzLnVtKSA8PCAxNSkpICYgeC5ETQogICAgLy8gdXNlIGFtIHRvIGNvbWJpbmUgdGhlIG11bHRpcGx5LXNoaWZ0LWFkZCBpbnRvIG9uZSBjYWxsCiAgICBqID0gaSArIHRoaXMubS50CiAgICB4W2pdICs9IHRoaXMubS5hbSgwLCB1MCwgeCwgaSwgMCwgdGhpcy5tLnQpCiAgICAvLyBwcm9wYWdhdGUgY2FycnkKICAgIHdoaWxlICh4W2pdID49IHguRFYpIHsKICAgICAgeFtqXSAtPSB4LkRWCiAgICAgIHhbKytqXSsrCiAgICB9CiAgfQogIHguY2xhbXAoKQogIHguZHJTaGlmdFRvKHRoaXMubS50LCB4KQogIGlmICh4LmNvbXBhcmVUbyh0aGlzLm0pID49IDApIHguc3ViVG8odGhpcy5tLCB4KQp9CgovLyByID0gInheMi9SIG1vZCBtIjsgeCAhPSByCmZ1bmN0aW9uIG1vbnRTcXJUbyh4LCByKSB7CiAgeC5zcXVhcmVUbyhyKQogIHRoaXMucmVkdWNlKHIpCn0KCi8vIHIgPSAieHkvUiBtb2QgbSI7IHgseSAhPSByCmZ1bmN0aW9uIG1vbnRNdWxUbyh4LCB5LCByKSB7CiAgeC5tdWx0aXBseVRvKHksIHIpCiAgdGhpcy5yZWR1Y2UocikKfQoKTW9udGdvbWVyeS5wcm90b3R5cGUuY29udmVydCA9IG1vbnRDb252ZXJ0Ck1vbnRnb21lcnkucHJvdG90eXBlLnJldmVydCA9IG1vbnRSZXZlcnQKTW9udGdvbWVyeS5wcm90b3R5cGUucmVkdWNlID0gbW9udFJlZHVjZQpNb250Z29tZXJ5LnByb3RvdHlwZS5tdWxUbyA9IG1vbnRNdWxUbwpNb250Z29tZXJ5LnByb3RvdHlwZS5zcXJUbyA9IG1vbnRTcXJUbwoKLy8gKHByb3RlY3RlZCkgdHJ1ZSBpZmYgdGhpcyBpcyBldmVuCmZ1bmN0aW9uIGJucElzRXZlbigpIHsKICByZXR1cm4gKCh0aGlzLnQgPiAwKSA/ICh0aGlzWzBdICYgMSkgOiB0aGlzLnMpID09IDAKfQoKLy8gKHByb3RlY3RlZCkgdGhpc15lLCBlIDwgMl4zMiwgZG9pbmcgc3FyIGFuZCBtdWwgd2l0aCAiciIgKEhBQyAxNC43OSkKZnVuY3Rpb24gYm5wRXhwKGUsIHopIHsKICBpZiAoZSA+IDB4ZmZmZmZmZmYgfHwgZSA8IDEpIHJldHVybiBCaWdJbnRlZ2VyLk9ORQogIHZhciByID0gbmV3IEJpZ0ludGVnZXIoKSwKICAgIHIyID0gbmV3IEJpZ0ludGVnZXIoKSwKICAgIGcgPSB6LmNvbnZlcnQodGhpcyksCiAgICBpID0gbmJpdHMoZSkgLSAxCiAgZy5jb3B5VG8ocikKICB3aGlsZSAoLS1pID49IDApIHsKICAgIHouc3FyVG8ociwgcjIpCiAgICBpZiAoKGUgJiAoMSA8PCBpKSkgPiAwKSB6Lm11bFRvKHIyLCBnLCByKQogICAgZWxzZSB7CiAgICAgIHZhciB0ID0gcgogICAgICByID0gcjIKICAgICAgcjIgPSB0CiAgICB9CiAgfQogIHJldHVybiB6LnJldmVydChyKQp9CgovLyAocHVibGljKSB0aGlzXmUgJSBtLCAwIDw9IGUgPCAyXjMyCmZ1bmN0aW9uIGJuTW9kUG93SW50KGUsIG0pIHsKICB2YXIgegogIGlmIChlIDwgMjU2IHx8IG0uaXNFdmVuKCkpIHogPSBuZXcgQ2xhc3NpYyhtKQogIGVsc2UgeiA9IG5ldyBNb250Z29tZXJ5KG0pCiAgcmV0dXJuIHRoaXMuZXhwKGUsIHopCn0KCi8vIHByb3RlY3RlZApwcm90by5jb3B5VG8gPSBibnBDb3B5VG8KcHJvdG8uZnJvbUludCA9IGJucEZyb21JbnQKcHJvdG8uZnJvbVN0cmluZyA9IGJucEZyb21TdHJpbmcKcHJvdG8uY2xhbXAgPSBibnBDbGFtcApwcm90by5kbFNoaWZ0VG8gPSBibnBETFNoaWZ0VG8KcHJvdG8uZHJTaGlmdFRvID0gYm5wRFJTaGlmdFRvCnByb3RvLmxTaGlmdFRvID0gYm5wTFNoaWZ0VG8KcHJvdG8uclNoaWZ0VG8gPSBibnBSU2hpZnRUbwpwcm90by5zdWJUbyA9IGJucFN1YlRvCnByb3RvLm11bHRpcGx5VG8gPSBibnBNdWx0aXBseVRvCnByb3RvLnNxdWFyZVRvID0gYm5wU3F1YXJlVG8KcHJvdG8uZGl2UmVtVG8gPSBibnBEaXZSZW1Ubwpwcm90by5pbnZEaWdpdCA9IGJucEludkRpZ2l0CnByb3RvLmlzRXZlbiA9IGJucElzRXZlbgpwcm90by5leHAgPSBibnBFeHAKCi8vIHB1YmxpYwpwcm90by50b1N0cmluZyA9IGJuVG9TdHJpbmcKcHJvdG8ubmVnYXRlID0gYm5OZWdhdGUKcHJvdG8uYWJzID0gYm5BYnMKcHJvdG8uY29tcGFyZVRvID0gYm5Db21wYXJlVG8KcHJvdG8uYml0TGVuZ3RoID0gYm5CaXRMZW5ndGgKcHJvdG8uYnl0ZUxlbmd0aCA9IGJuQnl0ZUxlbmd0aApwcm90by5tb2QgPSBibk1vZApwcm90by5tb2RQb3dJbnQgPSBibk1vZFBvd0ludAoKLy8gKHB1YmxpYykKZnVuY3Rpb24gYm5DbG9uZSgpIHsKICB2YXIgciA9IG5ldyBCaWdJbnRlZ2VyKCkKICB0aGlzLmNvcHlUbyhyKQogIHJldHVybiByCn0KCi8vIChwdWJsaWMpIHJldHVybiB2YWx1ZSBhcyBpbnRlZ2VyCmZ1bmN0aW9uIGJuSW50VmFsdWUoKSB7CiAgaWYgKHRoaXMucyA8IDApIHsKICAgIGlmICh0aGlzLnQgPT0gMSkgcmV0dXJuIHRoaXNbMF0gLSB0aGlzLkRWCiAgICBlbHNlIGlmICh0aGlzLnQgPT0gMCkgcmV0dXJuIC0xCiAgfSBlbHNlIGlmICh0aGlzLnQgPT0gMSkgcmV0dXJuIHRoaXNbMF0KICBlbHNlIGlmICh0aGlzLnQgPT0gMCkgcmV0dXJuIDAKICAvLyBhc3N1bWVzIDE2IDwgREIgPCAzMgogIHJldHVybiAoKHRoaXNbMV0gJiAoKDEgPDwgKDMyIC0gdGhpcy5EQikpIC0gMSkpIDw8IHRoaXMuREIpIHwgdGhpc1swXQp9CgovLyAocHVibGljKSByZXR1cm4gdmFsdWUgYXMgYnl0ZQpmdW5jdGlvbiBibkJ5dGVWYWx1ZSgpIHsKICByZXR1cm4gKHRoaXMudCA9PSAwKSA/IHRoaXMucyA6ICh0aGlzWzBdIDw8IDI0KSA+PiAyNAp9CgovLyAocHVibGljKSByZXR1cm4gdmFsdWUgYXMgc2hvcnQgKGFzc3VtZXMgREI+PTE2KQpmdW5jdGlvbiBiblNob3J0VmFsdWUoKSB7CiAgcmV0dXJuICh0aGlzLnQgPT0gMCkgPyB0aGlzLnMgOiAodGhpc1swXSA8PCAxNikgPj4gMTYKfQoKLy8gKHByb3RlY3RlZCkgcmV0dXJuIHggcy50LiByXnggPCBEVgpmdW5jdGlvbiBibnBDaHVua1NpemUocikgewogIHJldHVybiBNYXRoLmZsb29yKE1hdGguTE4yICogdGhpcy5EQiAvIE1hdGgubG9nKHIpKQp9CgovLyAocHVibGljKSAwIGlmIHRoaXMgPT0gMCwgMSBpZiB0aGlzID4gMApmdW5jdGlvbiBiblNpZ051bSgpIHsKICBpZiAodGhpcy5zIDwgMCkgcmV0dXJuIC0xCiAgZWxzZSBpZiAodGhpcy50IDw9IDAgfHwgKHRoaXMudCA9PSAxICYmIHRoaXNbMF0gPD0gMCkpIHJldHVybiAwCiAgZWxzZSByZXR1cm4gMQp9CgovLyAocHJvdGVjdGVkKSBjb252ZXJ0IHRvIHJhZGl4IHN0cmluZwpmdW5jdGlvbiBibnBUb1JhZGl4KGIpIHsKICBpZiAoYiA9PSBudWxsKSBiID0gMTAKICBpZiAodGhpcy5zaWdudW0oKSA9PSAwIHx8IGIgPCAyIHx8IGIgPiAzNikgcmV0dXJuICIwIgogIHZhciBjcyA9IHRoaXMuY2h1bmtTaXplKGIpCiAgdmFyIGEgPSBNYXRoLnBvdyhiLCBjcykKICB2YXIgZCA9IG5idihhKSwKICAgIHkgPSBuZXcgQmlnSW50ZWdlcigpLAogICAgeiA9IG5ldyBCaWdJbnRlZ2VyKCksCiAgICByID0gIiIKICB0aGlzLmRpdlJlbVRvKGQsIHksIHopCiAgd2hpbGUgKHkuc2lnbnVtKCkgPiAwKSB7CiAgICByID0gKGEgKyB6LmludFZhbHVlKCkpCiAgICAgIC50b1N0cmluZyhiKQogICAgICAuc3Vic3RyKDEpICsgcgogICAgeS5kaXZSZW1UbyhkLCB5LCB6KQogIH0KICByZXR1cm4gei5pbnRWYWx1ZSgpCiAgICAudG9TdHJpbmcoYikgKyByCn0KCi8vIChwcm90ZWN0ZWQpIGNvbnZlcnQgZnJvbSByYWRpeCBzdHJpbmcKZnVuY3Rpb24gYm5wRnJvbVJhZGl4KHMsIGIpIHsKICB2YXIgc2VsZiA9IHRoaXMKICBzZWxmLmZyb21JbnQoMCkKICBpZiAoYiA9PSBudWxsKSBiID0gMTAKICB2YXIgY3MgPSBzZWxmLmNodW5rU2l6ZShiKQogIHZhciBkID0gTWF0aC5wb3coYiwgY3MpLAogICAgbWkgPSBmYWxzZSwKICAgIGogPSAwLAogICAgdyA9IDAKICBmb3IgKHZhciBpID0gMDsgaSA8IHMubGVuZ3RoOyArK2kpIHsKICAgIHZhciB4ID0gaW50QXQocywgaSkKICAgIGlmICh4IDwgMCkgewogICAgICBpZiAocy5jaGFyQXQoaSkgPT0gIi0iICYmIHNlbGYuc2lnbnVtKCkgPT0gMCkgbWkgPSB0cnVlCiAgICAgIGNvbnRpbnVlCiAgICB9CiAgICB3ID0gYiAqIHcgKyB4CiAgICBpZiAoKytqID49IGNzKSB7CiAgICAgIHNlbGYuZE11bHRpcGx5KGQpCiAgICAgIHNlbGYuZEFkZE9mZnNldCh3LCAwKQogICAgICBqID0gMAogICAgICB3ID0gMAogICAgfQogIH0KICBpZiAoaiA+IDApIHsKICAgIHNlbGYuZE11bHRpcGx5KE1hdGgucG93KGIsIGopKQogICAgc2VsZi5kQWRkT2Zmc2V0KHcsIDApCiAgfQogIGlmIChtaSkgQmlnSW50ZWdlci5aRVJPLnN1YlRvKHNlbGYsIHNlbGYpCn0KCi8vIChwcm90ZWN0ZWQpIGFsdGVybmF0ZSBjb25zdHJ1Y3RvcgpmdW5jdGlvbiBibnBGcm9tTnVtYmVyKGEsIGIsIGMpIHsKICB2YXIgc2VsZiA9IHRoaXMKICBpZiAoIm51bWJlciIgPT0gdHlwZW9mIGIpIHsKICAgIC8vIG5ldyBCaWdJbnRlZ2VyKGludCxpbnQsUk5HKQogICAgaWYgKGEgPCAyKSBzZWxmLmZyb21JbnQoMSkKICAgIGVsc2UgewogICAgICBzZWxmLmZyb21OdW1iZXIoYSwgYykKICAgICAgaWYgKCFzZWxmLnRlc3RCaXQoYSAtIDEpKSAvLyBmb3JjZSBNU0Igc2V0CiAgICAgICAgc2VsZi5iaXR3aXNlVG8oQmlnSW50ZWdlci5PTkUuc2hpZnRMZWZ0KGEgLSAxKSwgb3Bfb3IsIHNlbGYpCiAgICAgIGlmIChzZWxmLmlzRXZlbigpKSBzZWxmLmRBZGRPZmZzZXQoMSwgMCk7IC8vIGZvcmNlIG9kZAogICAgICB3aGlsZSAoIXNlbGYuaXNQcm9iYWJsZVByaW1lKGIpKSB7CiAgICAgICAgc2VsZi5kQWRkT2Zmc2V0KDIsIDApCiAgICAgICAgaWYgKHNlbGYuYml0TGVuZ3RoKCkgPiBhKSBzZWxmLnN1YlRvKEJpZ0ludGVnZXIuT05FLnNoaWZ0TGVmdChhIC0gMSksIHNlbGYpCiAgICAgIH0KICAgIH0KICB9IGVsc2UgewogICAgLy8gbmV3IEJpZ0ludGVnZXIoaW50LFJORykKICAgIHZhciB4ID0gbmV3IEFycmF5KCksCiAgICAgIHQgPSBhICYgNwogICAgeC5sZW5ndGggPSAoYSA+PiAzKSArIDEKICAgIGIubmV4dEJ5dGVzKHgpCiAgICBpZiAodCA+IDApIHhbMF0gJj0gKCgxIDw8IHQpIC0gMSkKICAgIGVsc2UgeFswXSA9IDAKICAgIHNlbGYuZnJvbVN0cmluZyh4LCAyNTYpCiAgfQp9CgovLyAocHVibGljKSBjb252ZXJ0IHRvIGJpZ2VuZGlhbiBieXRlIGFycmF5CmZ1bmN0aW9uIGJuVG9CeXRlQXJyYXkoKSB7CiAgdmFyIHNlbGYgPSB0aGlzCiAgdmFyIGkgPSBzZWxmLnQsCiAgICByID0gbmV3IEFycmF5KCkKICByWzBdID0gc2VsZi5zCiAgdmFyIHAgPSBzZWxmLkRCIC0gKGkgKiBzZWxmLkRCKSAlIDgsCiAgICBkLCBrID0gMAogIGlmIChpLS0gPiAwKSB7CiAgICBpZiAocCA8IHNlbGYuREIgJiYgKGQgPSBzZWxmW2ldID4+IHApICE9IChzZWxmLnMgJiBzZWxmLkRNKSA+PiBwKQogICAgICByW2srK10gPSBkIHwgKHNlbGYucyA8PCAoc2VsZi5EQiAtIHApKQogICAgd2hpbGUgKGkgPj0gMCkgewogICAgICBpZiAocCA8IDgpIHsKICAgICAgICBkID0gKHNlbGZbaV0gJiAoKDEgPDwgcCkgLSAxKSkgPDwgKDggLSBwKQogICAgICAgIGQgfD0gc2VsZlstLWldID4+IChwICs9IHNlbGYuREIgLSA4KQogICAgICB9IGVsc2UgewogICAgICAgIGQgPSAoc2VsZltpXSA+PiAocCAtPSA4KSkgJiAweGZmCiAgICAgICAgaWYgKHAgPD0gMCkgewogICAgICAgICAgcCArPSBzZWxmLkRCCiAgICAgICAgICAtLWkKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKChkICYgMHg4MCkgIT0gMCkgZCB8PSAtMjU2CiAgICAgIGlmIChrID09PSAwICYmIChzZWxmLnMgJiAweDgwKSAhPSAoZCAmIDB4ODApKSsrawogICAgICBpZiAoayA+IDAgfHwgZCAhPSBzZWxmLnMpIHJbaysrXSA9IGQKICAgIH0KICB9CiAgcmV0dXJuIHIKfQoKZnVuY3Rpb24gYm5FcXVhbHMoYSkgewogIHJldHVybiAodGhpcy5jb21wYXJlVG8oYSkgPT0gMCkKfQoKZnVuY3Rpb24gYm5NaW4oYSkgewogIHJldHVybiAodGhpcy5jb21wYXJlVG8oYSkgPCAwKSA/IHRoaXMgOiBhCn0KCmZ1bmN0aW9uIGJuTWF4KGEpIHsKICByZXR1cm4gKHRoaXMuY29tcGFyZVRvKGEpID4gMCkgPyB0aGlzIDogYQp9CgovLyAocHJvdGVjdGVkKSByID0gdGhpcyBvcCBhIChiaXR3aXNlKQpmdW5jdGlvbiBibnBCaXR3aXNlVG8oYSwgb3AsIHIpIHsKICB2YXIgc2VsZiA9IHRoaXMKICB2YXIgaSwgZiwgbSA9IE1hdGgubWluKGEudCwgc2VsZi50KQogIGZvciAoaSA9IDA7IGkgPCBtOyArK2kpIHJbaV0gPSBvcChzZWxmW2ldLCBhW2ldKQogIGlmIChhLnQgPCBzZWxmLnQpIHsKICAgIGYgPSBhLnMgJiBzZWxmLkRNCiAgICBmb3IgKGkgPSBtOyBpIDwgc2VsZi50OyArK2kpIHJbaV0gPSBvcChzZWxmW2ldLCBmKQogICAgci50ID0gc2VsZi50CiAgfSBlbHNlIHsKICAgIGYgPSBzZWxmLnMgJiBzZWxmLkRNCiAgICBmb3IgKGkgPSBtOyBpIDwgYS50OyArK2kpIHJbaV0gPSBvcChmLCBhW2ldKQogICAgci50ID0gYS50CiAgfQogIHIucyA9IG9wKHNlbGYucywgYS5zKQogIHIuY2xhbXAoKQp9CgovLyAocHVibGljKSB0aGlzICYgYQpmdW5jdGlvbiBvcF9hbmQoeCwgeSkgewogIHJldHVybiB4ICYgeQp9CgpmdW5jdGlvbiBibkFuZChhKSB7CiAgdmFyIHIgPSBuZXcgQmlnSW50ZWdlcigpCiAgdGhpcy5iaXR3aXNlVG8oYSwgb3BfYW5kLCByKQogIHJldHVybiByCn0KCi8vIChwdWJsaWMpIHRoaXMgfCBhCmZ1bmN0aW9uIG9wX29yKHgsIHkpIHsKICByZXR1cm4geCB8IHkKfQoKZnVuY3Rpb24gYm5PcihhKSB7CiAgdmFyIHIgPSBuZXcgQmlnSW50ZWdlcigpCiAgdGhpcy5iaXR3aXNlVG8oYSwgb3Bfb3IsIHIpCiAgcmV0dXJuIHIKfQoKLy8gKHB1YmxpYykgdGhpcyBeIGEKZnVuY3Rpb24gb3BfeG9yKHgsIHkpIHsKICByZXR1cm4geCBeIHkKfQoKZnVuY3Rpb24gYm5Yb3IoYSkgewogIHZhciByID0gbmV3IEJpZ0ludGVnZXIoKQogIHRoaXMuYml0d2lzZVRvKGEsIG9wX3hvciwgcikKICByZXR1cm4gcgp9CgovLyAocHVibGljKSB0aGlzICYgfmEKZnVuY3Rpb24gb3BfYW5kbm90KHgsIHkpIHsKICByZXR1cm4geCAmIH55Cn0KCmZ1bmN0aW9uIGJuQW5kTm90KGEpIHsKICB2YXIgciA9IG5ldyBCaWdJbnRlZ2VyKCkKICB0aGlzLmJpdHdpc2VUbyhhLCBvcF9hbmRub3QsIHIpCiAgcmV0dXJuIHIKfQoKLy8gKHB1YmxpYykgfnRoaXMKZnVuY3Rpb24gYm5Ob3QoKSB7CiAgdmFyIHIgPSBuZXcgQmlnSW50ZWdlcigpCiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnQ7ICsraSkgcltpXSA9IHRoaXMuRE0gJiB+dGhpc1tpXQogIHIudCA9IHRoaXMudAogIHIucyA9IH50aGlzLnMKICByZXR1cm4gcgp9CgovLyAocHVibGljKSB0aGlzIDw8IG4KZnVuY3Rpb24gYm5TaGlmdExlZnQobikgewogIHZhciByID0gbmV3IEJpZ0ludGVnZXIoKQogIGlmIChuIDwgMCkgdGhpcy5yU2hpZnRUbygtbiwgcikKICBlbHNlIHRoaXMubFNoaWZ0VG8obiwgcikKICByZXR1cm4gcgp9CgovLyAocHVibGljKSB0aGlzID4+IG4KZnVuY3Rpb24gYm5TaGlmdFJpZ2h0KG4pIHsKICB2YXIgciA9IG5ldyBCaWdJbnRlZ2VyKCkKICBpZiAobiA8IDApIHRoaXMubFNoaWZ0VG8oLW4sIHIpCiAgZWxzZSB0aGlzLnJTaGlmdFRvKG4sIHIpCiAgcmV0dXJuIHIKfQoKLy8gcmV0dXJuIGluZGV4IG9mIGxvd2VzdCAxLWJpdCBpbiB4LCB4IDwgMl4zMQpmdW5jdGlvbiBsYml0KHgpIHsKICBpZiAoeCA9PSAwKSByZXR1cm4gLTEKICB2YXIgciA9IDAKICBpZiAoKHggJiAweGZmZmYpID09IDApIHsKICAgIHggPj49IDE2CiAgICByICs9IDE2CiAgfQogIGlmICgoeCAmIDB4ZmYpID09IDApIHsKICAgIHggPj49IDgKICAgIHIgKz0gOAogIH0KICBpZiAoKHggJiAweGYpID09IDApIHsKICAgIHggPj49IDQKICAgIHIgKz0gNAogIH0KICBpZiAoKHggJiAzKSA9PSAwKSB7CiAgICB4ID4+PSAyCiAgICByICs9IDIKICB9CiAgaWYgKCh4ICYgMSkgPT0gMCkrK3IKICByZXR1cm4gcgp9CgovLyAocHVibGljKSByZXR1cm5zIGluZGV4IG9mIGxvd2VzdCAxLWJpdCAob3IgLTEgaWYgbm9uZSkKZnVuY3Rpb24gYm5HZXRMb3dlc3RTZXRCaXQoKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnQ7ICsraSkKICAgIGlmICh0aGlzW2ldICE9IDApIHJldHVybiBpICogdGhpcy5EQiArIGxiaXQodGhpc1tpXSkKICBpZiAodGhpcy5zIDwgMCkgcmV0dXJuIHRoaXMudCAqIHRoaXMuREIKICByZXR1cm4gLTEKfQoKLy8gcmV0dXJuIG51bWJlciBvZiAxIGJpdHMgaW4geApmdW5jdGlvbiBjYml0KHgpIHsKICB2YXIgciA9IDAKICB3aGlsZSAoeCAhPSAwKSB7CiAgICB4ICY9IHggLSAxCiAgICArK3IKICB9CiAgcmV0dXJuIHIKfQoKLy8gKHB1YmxpYykgcmV0dXJuIG51bWJlciBvZiBzZXQgYml0cwpmdW5jdGlvbiBibkJpdENvdW50KCkgewogIHZhciByID0gMCwKICAgIHggPSB0aGlzLnMgJiB0aGlzLkRNCiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnQ7ICsraSkgciArPSBjYml0KHRoaXNbaV0gXiB4KQogIHJldHVybiByCn0KCi8vIChwdWJsaWMpIHRydWUgaWZmIG50aCBiaXQgaXMgc2V0CmZ1bmN0aW9uIGJuVGVzdEJpdChuKSB7CiAgdmFyIGogPSBNYXRoLmZsb29yKG4gLyB0aGlzLkRCKQogIGlmIChqID49IHRoaXMudCkgcmV0dXJuICh0aGlzLnMgIT0gMCkKICByZXR1cm4gKCh0aGlzW2pdICYgKDEgPDwgKG4gJSB0aGlzLkRCKSkpICE9IDApCn0KCi8vIChwcm90ZWN0ZWQpIHRoaXMgb3AgKDE8PG4pCmZ1bmN0aW9uIGJucENoYW5nZUJpdChuLCBvcCkgewogIHZhciByID0gQmlnSW50ZWdlci5PTkUuc2hpZnRMZWZ0KG4pCiAgdGhpcy5iaXR3aXNlVG8ociwgb3AsIHIpCiAgcmV0dXJuIHIKfQoKLy8gKHB1YmxpYykgdGhpcyB8ICgxPDxuKQpmdW5jdGlvbiBiblNldEJpdChuKSB7CiAgcmV0dXJuIHRoaXMuY2hhbmdlQml0KG4sIG9wX29yKQp9CgovLyAocHVibGljKSB0aGlzICYgfigxPDxuKQpmdW5jdGlvbiBibkNsZWFyQml0KG4pIHsKICByZXR1cm4gdGhpcy5jaGFuZ2VCaXQobiwgb3BfYW5kbm90KQp9CgovLyAocHVibGljKSB0aGlzIF4gKDE8PG4pCmZ1bmN0aW9uIGJuRmxpcEJpdChuKSB7CiAgcmV0dXJuIHRoaXMuY2hhbmdlQml0KG4sIG9wX3hvcikKfQoKLy8gKHByb3RlY3RlZCkgciA9IHRoaXMgKyBhCmZ1bmN0aW9uIGJucEFkZFRvKGEsIHIpIHsKICB2YXIgc2VsZiA9IHRoaXMKCiAgdmFyIGkgPSAwLAogICAgYyA9IDAsCiAgICBtID0gTWF0aC5taW4oYS50LCBzZWxmLnQpCiAgd2hpbGUgKGkgPCBtKSB7CiAgICBjICs9IHNlbGZbaV0gKyBhW2ldCiAgICByW2krK10gPSBjICYgc2VsZi5ETQogICAgYyA+Pj0gc2VsZi5EQgogIH0KICBpZiAoYS50IDwgc2VsZi50KSB7CiAgICBjICs9IGEucwogICAgd2hpbGUgKGkgPCBzZWxmLnQpIHsKICAgICAgYyArPSBzZWxmW2ldCiAgICAgIHJbaSsrXSA9IGMgJiBzZWxmLkRNCiAgICAgIGMgPj49IHNlbGYuREIKICAgIH0KICAgIGMgKz0gc2VsZi5zCiAgfSBlbHNlIHsKICAgIGMgKz0gc2VsZi5zCiAgICB3aGlsZSAoaSA8IGEudCkgewogICAgICBjICs9IGFbaV0KICAgICAgcltpKytdID0gYyAmIHNlbGYuRE0KICAgICAgYyA+Pj0gc2VsZi5EQgogICAgfQogICAgYyArPSBhLnMKICB9CiAgci5zID0gKGMgPCAwKSA/IC0xIDogMAogIGlmIChjID4gMCkgcltpKytdID0gYwogIGVsc2UgaWYgKGMgPCAtMSkgcltpKytdID0gc2VsZi5EViArIGMKICByLnQgPSBpCiAgci5jbGFtcCgpCn0KCi8vIChwdWJsaWMpIHRoaXMgKyBhCmZ1bmN0aW9uIGJuQWRkKGEpIHsKICB2YXIgciA9IG5ldyBCaWdJbnRlZ2VyKCkKICB0aGlzLmFkZFRvKGEsIHIpCiAgcmV0dXJuIHIKfQoKLy8gKHB1YmxpYykgdGhpcyAtIGEKZnVuY3Rpb24gYm5TdWJ0cmFjdChhKSB7CiAgdmFyIHIgPSBuZXcgQmlnSW50ZWdlcigpCiAgdGhpcy5zdWJUbyhhLCByKQogIHJldHVybiByCn0KCi8vIChwdWJsaWMpIHRoaXMgKiBhCmZ1bmN0aW9uIGJuTXVsdGlwbHkoYSkgewogIHZhciByID0gbmV3IEJpZ0ludGVnZXIoKQogIHRoaXMubXVsdGlwbHlUbyhhLCByKQogIHJldHVybiByCn0KCi8vIChwdWJsaWMpIHRoaXNeMgpmdW5jdGlvbiBiblNxdWFyZSgpIHsKICB2YXIgciA9IG5ldyBCaWdJbnRlZ2VyKCkKICB0aGlzLnNxdWFyZVRvKHIpCiAgcmV0dXJuIHIKfQoKLy8gKHB1YmxpYykgdGhpcyAvIGEKZnVuY3Rpb24gYm5EaXZpZGUoYSkgewogIHZhciByID0gbmV3IEJpZ0ludGVnZXIoKQogIHRoaXMuZGl2UmVtVG8oYSwgciwgbnVsbCkKICByZXR1cm4gcgp9CgovLyAocHVibGljKSB0aGlzICUgYQpmdW5jdGlvbiBiblJlbWFpbmRlcihhKSB7CiAgdmFyIHIgPSBuZXcgQmlnSW50ZWdlcigpCiAgdGhpcy5kaXZSZW1UbyhhLCBudWxsLCByKQogIHJldHVybiByCn0KCi8vIChwdWJsaWMpIFt0aGlzL2EsdGhpcyVhXQpmdW5jdGlvbiBibkRpdmlkZUFuZFJlbWFpbmRlcihhKSB7CiAgdmFyIHEgPSBuZXcgQmlnSW50ZWdlcigpLAogICAgciA9IG5ldyBCaWdJbnRlZ2VyKCkKICB0aGlzLmRpdlJlbVRvKGEsIHEsIHIpCiAgcmV0dXJuIG5ldyBBcnJheShxLCByKQp9CgovLyAocHJvdGVjdGVkKSB0aGlzICo9IG4sIHRoaXMgPj0gMCwgMSA8IG4gPCBEVgpmdW5jdGlvbiBibnBETXVsdGlwbHkobikgewogIHRoaXNbdGhpcy50XSA9IHRoaXMuYW0oMCwgbiAtIDEsIHRoaXMsIDAsIDAsIHRoaXMudCkKICArK3RoaXMudAogIHRoaXMuY2xhbXAoKQp9CgovLyAocHJvdGVjdGVkKSB0aGlzICs9IG4gPDwgdyB3b3JkcywgdGhpcyA+PSAwCmZ1bmN0aW9uIGJucERBZGRPZmZzZXQobiwgdykgewogIGlmIChuID09IDApIHJldHVybgogIHdoaWxlICh0aGlzLnQgPD0gdykgdGhpc1t0aGlzLnQrK10gPSAwCiAgdGhpc1t3XSArPSBuCiAgd2hpbGUgKHRoaXNbd10gPj0gdGhpcy5EVikgewogICAgdGhpc1t3XSAtPSB0aGlzLkRWCiAgICBpZiAoKyt3ID49IHRoaXMudCkgdGhpc1t0aGlzLnQrK10gPSAwCiAgICArK3RoaXNbd10KICB9Cn0KCi8vIEEgIm51bGwiIHJlZHVjZXIKZnVuY3Rpb24gTnVsbEV4cCgpIHt9CgpmdW5jdGlvbiBuTm9wKHgpIHsKICByZXR1cm4geAp9CgpmdW5jdGlvbiBuTXVsVG8oeCwgeSwgcikgewogIHgubXVsdGlwbHlUbyh5LCByKQp9CgpmdW5jdGlvbiBuU3FyVG8oeCwgcikgewogIHguc3F1YXJlVG8ocikKfQoKTnVsbEV4cC5wcm90b3R5cGUuY29udmVydCA9IG5Ob3AKTnVsbEV4cC5wcm90b3R5cGUucmV2ZXJ0ID0gbk5vcApOdWxsRXhwLnByb3RvdHlwZS5tdWxUbyA9IG5NdWxUbwpOdWxsRXhwLnByb3RvdHlwZS5zcXJUbyA9IG5TcXJUbwoKLy8gKHB1YmxpYykgdGhpc15lCmZ1bmN0aW9uIGJuUG93KGUpIHsKICByZXR1cm4gdGhpcy5leHAoZSwgbmV3IE51bGxFeHAoKSkKfQoKLy8gKHByb3RlY3RlZCkgciA9IGxvd2VyIG4gd29yZHMgb2YgInRoaXMgKiBhIiwgYS50IDw9IG4KLy8gInRoaXMiIHNob3VsZCBiZSB0aGUgbGFyZ2VyIG9uZSBpZiBhcHByb3ByaWF0ZS4KZnVuY3Rpb24gYm5wTXVsdGlwbHlMb3dlclRvKGEsIG4sIHIpIHsKICB2YXIgaSA9IE1hdGgubWluKHRoaXMudCArIGEudCwgbikKICByLnMgPSAwOyAvLyBhc3N1bWVzIGEsdGhpcyA+PSAwCiAgci50ID0gaQogIHdoaWxlIChpID4gMCkgclstLWldID0gMAogIHZhciBqCiAgZm9yIChqID0gci50IC0gdGhpcy50OyBpIDwgajsgKytpKSByW2kgKyB0aGlzLnRdID0gdGhpcy5hbSgwLCBhW2ldLCByLCBpLCAwLCB0aGlzLnQpCiAgZm9yIChqID0gTWF0aC5taW4oYS50LCBuKTsgaSA8IGo7ICsraSkgdGhpcy5hbSgwLCBhW2ldLCByLCBpLCAwLCBuIC0gaSkKICByLmNsYW1wKCkKfQoKLy8gKHByb3RlY3RlZCkgciA9ICJ0aGlzICogYSIgd2l0aG91dCBsb3dlciBuIHdvcmRzLCBuID4gMAovLyAidGhpcyIgc2hvdWxkIGJlIHRoZSBsYXJnZXIgb25lIGlmIGFwcHJvcHJpYXRlLgpmdW5jdGlvbiBibnBNdWx0aXBseVVwcGVyVG8oYSwgbiwgcikgewogIC0tbgogIHZhciBpID0gci50ID0gdGhpcy50ICsgYS50IC0gbgogIHIucyA9IDA7IC8vIGFzc3VtZXMgYSx0aGlzID49IDAKICB3aGlsZSAoLS1pID49IDApIHJbaV0gPSAwCiAgZm9yIChpID0gTWF0aC5tYXgobiAtIHRoaXMudCwgMCk7IGkgPCBhLnQ7ICsraSkKICAgIHJbdGhpcy50ICsgaSAtIG5dID0gdGhpcy5hbShuIC0gaSwgYVtpXSwgciwgMCwgMCwgdGhpcy50ICsgaSAtIG4pCiAgci5jbGFtcCgpCiAgci5kclNoaWZ0VG8oMSwgcikKfQoKLy8gQmFycmV0dCBtb2R1bGFyIHJlZHVjdGlvbgpmdW5jdGlvbiBCYXJyZXR0KG0pIHsKICAvLyBzZXR1cCBCYXJyZXR0CiAgdGhpcy5yMiA9IG5ldyBCaWdJbnRlZ2VyKCkKICB0aGlzLnEzID0gbmV3IEJpZ0ludGVnZXIoKQogIEJpZ0ludGVnZXIuT05FLmRsU2hpZnRUbygyICogbS50LCB0aGlzLnIyKQogIHRoaXMubXUgPSB0aGlzLnIyLmRpdmlkZShtKQogIHRoaXMubSA9IG0KfQoKZnVuY3Rpb24gYmFycmV0dENvbnZlcnQoeCkgewogIGlmICh4LnMgPCAwIHx8IHgudCA+IDIgKiB0aGlzLm0udCkgcmV0dXJuIHgubW9kKHRoaXMubSkKICBlbHNlIGlmICh4LmNvbXBhcmVUbyh0aGlzLm0pIDwgMCkgcmV0dXJuIHgKICBlbHNlIHsKICAgIHZhciByID0gbmV3IEJpZ0ludGVnZXIoKQogICAgeC5jb3B5VG8ocikKICAgIHRoaXMucmVkdWNlKHIpCiAgICByZXR1cm4gcgogIH0KfQoKZnVuY3Rpb24gYmFycmV0dFJldmVydCh4KSB7CiAgcmV0dXJuIHgKfQoKLy8geCA9IHggbW9kIG0gKEhBQyAxNC40MikKZnVuY3Rpb24gYmFycmV0dFJlZHVjZSh4KSB7CiAgdmFyIHNlbGYgPSB0aGlzCiAgeC5kclNoaWZ0VG8oc2VsZi5tLnQgLSAxLCBzZWxmLnIyKQogIGlmICh4LnQgPiBzZWxmLm0udCArIDEpIHsKICAgIHgudCA9IHNlbGYubS50ICsgMQogICAgeC5jbGFtcCgpCiAgfQogIHNlbGYubXUubXVsdGlwbHlVcHBlclRvKHNlbGYucjIsIHNlbGYubS50ICsgMSwgc2VsZi5xMykKICBzZWxmLm0ubXVsdGlwbHlMb3dlclRvKHNlbGYucTMsIHNlbGYubS50ICsgMSwgc2VsZi5yMikKICB3aGlsZSAoeC5jb21wYXJlVG8oc2VsZi5yMikgPCAwKSB4LmRBZGRPZmZzZXQoMSwgc2VsZi5tLnQgKyAxKQogIHguc3ViVG8oc2VsZi5yMiwgeCkKICB3aGlsZSAoeC5jb21wYXJlVG8oc2VsZi5tKSA+PSAwKSB4LnN1YlRvKHNlbGYubSwgeCkKfQoKLy8gciA9IHheMiBtb2QgbTsgeCAhPSByCmZ1bmN0aW9uIGJhcnJldHRTcXJUbyh4LCByKSB7CiAgeC5zcXVhcmVUbyhyKQogIHRoaXMucmVkdWNlKHIpCn0KCi8vIHIgPSB4KnkgbW9kIG07IHgseSAhPSByCmZ1bmN0aW9uIGJhcnJldHRNdWxUbyh4LCB5LCByKSB7CiAgeC5tdWx0aXBseVRvKHksIHIpCiAgdGhpcy5yZWR1Y2UocikKfQoKQmFycmV0dC5wcm90b3R5cGUuY29udmVydCA9IGJhcnJldHRDb252ZXJ0CkJhcnJldHQucHJvdG90eXBlLnJldmVydCA9IGJhcnJldHRSZXZlcnQKQmFycmV0dC5wcm90b3R5cGUucmVkdWNlID0gYmFycmV0dFJlZHVjZQpCYXJyZXR0LnByb3RvdHlwZS5tdWxUbyA9IGJhcnJldHRNdWxUbwpCYXJyZXR0LnByb3RvdHlwZS5zcXJUbyA9IGJhcnJldHRTcXJUbwoKLy8gKHB1YmxpYykgdGhpc15lICUgbSAoSEFDIDE0Ljg1KQpmdW5jdGlvbiBibk1vZFBvdyhlLCBtKSB7CiAgdmFyIGkgPSBlLmJpdExlbmd0aCgpLAogICAgaywgciA9IG5idigxKSwKICAgIHoKICBpZiAoaSA8PSAwKSByZXR1cm4gcgogIGVsc2UgaWYgKGkgPCAxOCkgayA9IDEKICBlbHNlIGlmIChpIDwgNDgpIGsgPSAzCiAgZWxzZSBpZiAoaSA8IDE0NCkgayA9IDQKICBlbHNlIGlmIChpIDwgNzY4KSBrID0gNQogIGVsc2UgayA9IDYKICBpZiAoaSA8IDgpCiAgICB6ID0gbmV3IENsYXNzaWMobSkKICBlbHNlIGlmIChtLmlzRXZlbigpKQogICAgeiA9IG5ldyBCYXJyZXR0KG0pCiAgZWxzZQogICAgeiA9IG5ldyBNb250Z29tZXJ5KG0pCgogIC8vIHByZWNvbXB1dGF0aW9uCiAgdmFyIGcgPSBuZXcgQXJyYXkoKSwKICAgIG4gPSAzLAogICAgazEgPSBrIC0gMSwKICAgIGttID0gKDEgPDwgaykgLSAxCiAgZ1sxXSA9IHouY29udmVydCh0aGlzKQogIGlmIChrID4gMSkgewogICAgdmFyIGcyID0gbmV3IEJpZ0ludGVnZXIoKQogICAgei5zcXJUbyhnWzFdLCBnMikKICAgIHdoaWxlIChuIDw9IGttKSB7CiAgICAgIGdbbl0gPSBuZXcgQmlnSW50ZWdlcigpCiAgICAgIHoubXVsVG8oZzIsIGdbbiAtIDJdLCBnW25dKQogICAgICBuICs9IDIKICAgIH0KICB9CgogIHZhciBqID0gZS50IC0gMSwKICAgIHcsIGlzMSA9IHRydWUsCiAgICByMiA9IG5ldyBCaWdJbnRlZ2VyKCksCiAgICB0CiAgaSA9IG5iaXRzKGVbal0pIC0gMQogIHdoaWxlIChqID49IDApIHsKICAgIGlmIChpID49IGsxKSB3ID0gKGVbal0gPj4gKGkgLSBrMSkpICYga20KICAgIGVsc2UgewogICAgICB3ID0gKGVbal0gJiAoKDEgPDwgKGkgKyAxKSkgLSAxKSkgPDwgKGsxIC0gaSkKICAgICAgaWYgKGogPiAwKSB3IHw9IGVbaiAtIDFdID4+ICh0aGlzLkRCICsgaSAtIGsxKQogICAgfQoKICAgIG4gPSBrCiAgICB3aGlsZSAoKHcgJiAxKSA9PSAwKSB7CiAgICAgIHcgPj49IDEKICAgICAgLS1uCiAgICB9CiAgICBpZiAoKGkgLT0gbikgPCAwKSB7CiAgICAgIGkgKz0gdGhpcy5EQgogICAgICAtLWoKICAgIH0KICAgIGlmIChpczEpIHsgLy8gcmV0ID09IDEsIGRvbid0IGJvdGhlciBzcXVhcmluZyBvciBtdWx0aXBseWluZyBpdAogICAgICBnW3ddLmNvcHlUbyhyKQogICAgICBpczEgPSBmYWxzZQogICAgfSBlbHNlIHsKICAgICAgd2hpbGUgKG4gPiAxKSB7CiAgICAgICAgei5zcXJUbyhyLCByMikKICAgICAgICB6LnNxclRvKHIyLCByKQogICAgICAgIG4gLT0gMgogICAgICB9CiAgICAgIGlmIChuID4gMCkgei5zcXJUbyhyLCByMikKICAgICAgZWxzZSB7CiAgICAgICAgdCA9IHIKICAgICAgICByID0gcjIKICAgICAgICByMiA9IHQKICAgICAgfQogICAgICB6Lm11bFRvKHIyLCBnW3ddLCByKQogICAgfQoKICAgIHdoaWxlIChqID49IDAgJiYgKGVbal0gJiAoMSA8PCBpKSkgPT0gMCkgewogICAgICB6LnNxclRvKHIsIHIyKQogICAgICB0ID0gcgogICAgICByID0gcjIKICAgICAgcjIgPSB0CiAgICAgIGlmICgtLWkgPCAwKSB7CiAgICAgICAgaSA9IHRoaXMuREIgLSAxCiAgICAgICAgLS1qCiAgICAgIH0KICAgIH0KICB9CiAgcmV0dXJuIHoucmV2ZXJ0KHIpCn0KCi8vIChwdWJsaWMpIGdjZCh0aGlzLGEpIChIQUMgMTQuNTQpCmZ1bmN0aW9uIGJuR0NEKGEpIHsKICB2YXIgeCA9ICh0aGlzLnMgPCAwKSA/IHRoaXMubmVnYXRlKCkgOiB0aGlzLmNsb25lKCkKICB2YXIgeSA9IChhLnMgPCAwKSA/IGEubmVnYXRlKCkgOiBhLmNsb25lKCkKICBpZiAoeC5jb21wYXJlVG8oeSkgPCAwKSB7CiAgICB2YXIgdCA9IHgKICAgIHggPSB5CiAgICB5ID0gdAogIH0KICB2YXIgaSA9IHguZ2V0TG93ZXN0U2V0Qml0KCksCiAgICBnID0geS5nZXRMb3dlc3RTZXRCaXQoKQogIGlmIChnIDwgMCkgcmV0dXJuIHgKICBpZiAoaSA8IGcpIGcgPSBpCiAgaWYgKGcgPiAwKSB7CiAgICB4LnJTaGlmdFRvKGcsIHgpCiAgICB5LnJTaGlmdFRvKGcsIHkpCiAgfQogIHdoaWxlICh4LnNpZ251bSgpID4gMCkgewogICAgaWYgKChpID0geC5nZXRMb3dlc3RTZXRCaXQoKSkgPiAwKSB4LnJTaGlmdFRvKGksIHgpCiAgICBpZiAoKGkgPSB5LmdldExvd2VzdFNldEJpdCgpKSA+IDApIHkuclNoaWZ0VG8oaSwgeSkKICAgIGlmICh4LmNvbXBhcmVUbyh5KSA+PSAwKSB7CiAgICAgIHguc3ViVG8oeSwgeCkKICAgICAgeC5yU2hpZnRUbygxLCB4KQogICAgfSBlbHNlIHsKICAgICAgeS5zdWJUbyh4LCB5KQogICAgICB5LnJTaGlmdFRvKDEsIHkpCiAgICB9CiAgfQogIGlmIChnID4gMCkgeS5sU2hpZnRUbyhnLCB5KQogIHJldHVybiB5Cn0KCi8vIChwcm90ZWN0ZWQpIHRoaXMgJSBuLCBuIDwgMl4yNgpmdW5jdGlvbiBibnBNb2RJbnQobikgewogIGlmIChuIDw9IDApIHJldHVybiAwCiAgdmFyIGQgPSB0aGlzLkRWICUgbiwKICAgIHIgPSAodGhpcy5zIDwgMCkgPyBuIC0gMSA6IDAKICBpZiAodGhpcy50ID4gMCkKICAgIGlmIChkID09IDApIHIgPSB0aGlzWzBdICUgbgogICAgZWxzZQogICAgICBmb3IgKHZhciBpID0gdGhpcy50IC0gMTsgaSA+PSAwOyAtLWkpIHIgPSAoZCAqIHIgKyB0aGlzW2ldKSAlIG4KICByZXR1cm4gcgp9CgovLyAocHVibGljKSAxL3RoaXMgJSBtIChIQUMgMTQuNjEpCmZ1bmN0aW9uIGJuTW9kSW52ZXJzZShtKSB7CiAgdmFyIGFjID0gbS5pc0V2ZW4oKQogIGlmICh0aGlzLnNpZ251bSgpID09PSAwKSB0aHJvdyBuZXcgRXJyb3IoJ2RpdmlzaW9uIGJ5IHplcm8nKQogIGlmICgodGhpcy5pc0V2ZW4oKSAmJiBhYykgfHwgbS5zaWdudW0oKSA9PSAwKSByZXR1cm4gQmlnSW50ZWdlci5aRVJPCiAgdmFyIHUgPSBtLmNsb25lKCksCiAgICB2ID0gdGhpcy5jbG9uZSgpCiAgdmFyIGEgPSBuYnYoMSksCiAgICBiID0gbmJ2KDApLAogICAgYyA9IG5idigwKSwKICAgIGQgPSBuYnYoMSkKICB3aGlsZSAodS5zaWdudW0oKSAhPSAwKSB7CiAgICB3aGlsZSAodS5pc0V2ZW4oKSkgewogICAgICB1LnJTaGlmdFRvKDEsIHUpCiAgICAgIGlmIChhYykgewogICAgICAgIGlmICghYS5pc0V2ZW4oKSB8fCAhYi5pc0V2ZW4oKSkgewogICAgICAgICAgYS5hZGRUbyh0aGlzLCBhKQogICAgICAgICAgYi5zdWJUbyhtLCBiKQogICAgICAgIH0KICAgICAgICBhLnJTaGlmdFRvKDEsIGEpCiAgICAgIH0gZWxzZSBpZiAoIWIuaXNFdmVuKCkpIGIuc3ViVG8obSwgYikKICAgICAgYi5yU2hpZnRUbygxLCBiKQogICAgfQogICAgd2hpbGUgKHYuaXNFdmVuKCkpIHsKICAgICAgdi5yU2hpZnRUbygxLCB2KQogICAgICBpZiAoYWMpIHsKICAgICAgICBpZiAoIWMuaXNFdmVuKCkgfHwgIWQuaXNFdmVuKCkpIHsKICAgICAgICAgIGMuYWRkVG8odGhpcywgYykKICAgICAgICAgIGQuc3ViVG8obSwgZCkKICAgICAgICB9CiAgICAgICAgYy5yU2hpZnRUbygxLCBjKQogICAgICB9IGVsc2UgaWYgKCFkLmlzRXZlbigpKSBkLnN1YlRvKG0sIGQpCiAgICAgIGQuclNoaWZ0VG8oMSwgZCkKICAgIH0KICAgIGlmICh1LmNvbXBhcmVUbyh2KSA+PSAwKSB7CiAgICAgIHUuc3ViVG8odiwgdSkKICAgICAgaWYgKGFjKSBhLnN1YlRvKGMsIGEpCiAgICAgIGIuc3ViVG8oZCwgYikKICAgIH0gZWxzZSB7CiAgICAgIHYuc3ViVG8odSwgdikKICAgICAgaWYgKGFjKSBjLnN1YlRvKGEsIGMpCiAgICAgIGQuc3ViVG8oYiwgZCkKICAgIH0KICB9CiAgaWYgKHYuY29tcGFyZVRvKEJpZ0ludGVnZXIuT05FKSAhPSAwKSByZXR1cm4gQmlnSW50ZWdlci5aRVJPCiAgaWYgKGQuY29tcGFyZVRvKG0pID49IDApIHJldHVybiBkLnN1YnRyYWN0KG0pCiAgaWYgKGQuc2lnbnVtKCkgPCAwKSBkLmFkZFRvKG0sIGQpCiAgZWxzZSByZXR1cm4gZAogIGlmIChkLnNpZ251bSgpIDwgMCkgcmV0dXJuIGQuYWRkKG0pCiAgZWxzZSByZXR1cm4gZAp9Cgp2YXIgbG93cHJpbWVzID0gWwogIDIsIDMsIDUsIDcsIDExLCAxMywgMTcsIDE5LCAyMywgMjksIDMxLCAzNywgNDEsIDQzLCA0NywgNTMsIDU5LCA2MSwgNjcsIDcxLAogIDczLCA3OSwgODMsIDg5LCA5NywgMTAxLCAxMDMsIDEwNywgMTA5LCAxMTMsIDEyNywgMTMxLCAxMzcsIDEzOSwgMTQ5LCAxNTEsCiAgMTU3LCAxNjMsIDE2NywgMTczLCAxNzksIDE4MSwgMTkxLCAxOTMsIDE5NywgMTk5LCAyMTEsIDIyMywgMjI3LCAyMjksIDIzMywKICAyMzksIDI0MSwgMjUxLCAyNTcsIDI2MywgMjY5LCAyNzEsIDI3NywgMjgxLCAyODMsIDI5MywgMzA3LCAzMTEsIDMxMywgMzE3LAogIDMzMSwgMzM3LCAzNDcsIDM0OSwgMzUzLCAzNTksIDM2NywgMzczLCAzNzksIDM4MywgMzg5LCAzOTcsIDQwMSwgNDA5LCA0MTksCiAgNDIxLCA0MzEsIDQzMywgNDM5LCA0NDMsIDQ0OSwgNDU3LCA0NjEsIDQ2MywgNDY3LCA0NzksIDQ4NywgNDkxLCA0OTksIDUwMywKICA1MDksIDUyMSwgNTIzLCA1NDEsIDU0NywgNTU3LCA1NjMsIDU2OSwgNTcxLCA1NzcsIDU4NywgNTkzLCA1OTksIDYwMSwgNjA3LAogIDYxMywgNjE3LCA2MTksIDYzMSwgNjQxLCA2NDMsIDY0NywgNjUzLCA2NTksIDY2MSwgNjczLCA2NzcsIDY4MywgNjkxLCA3MDEsCiAgNzA5LCA3MTksIDcyNywgNzMzLCA3MzksIDc0MywgNzUxLCA3NTcsIDc2MSwgNzY5LCA3NzMsIDc4NywgNzk3LCA4MDksIDgxMSwKICA4MjEsIDgyMywgODI3LCA4MjksIDgzOSwgODUzLCA4NTcsIDg1OSwgODYzLCA4NzcsIDg4MSwgODgzLCA4ODcsIDkwNywgOTExLAogIDkxOSwgOTI5LCA5MzcsIDk0MSwgOTQ3LCA5NTMsIDk2NywgOTcxLCA5NzcsIDk4MywgOTkxLCA5OTcKXQoKdmFyIGxwbGltID0gKDEgPDwgMjYpIC8gbG93cHJpbWVzW2xvd3ByaW1lcy5sZW5ndGggLSAxXQoKLy8gKHB1YmxpYykgdGVzdCBwcmltYWxpdHkgd2l0aCBjZXJ0YWludHkgPj0gMS0uNV50CmZ1bmN0aW9uIGJuSXNQcm9iYWJsZVByaW1lKHQpIHsKICB2YXIgaSwgeCA9IHRoaXMuYWJzKCkKICBpZiAoeC50ID09IDEgJiYgeFswXSA8PSBsb3dwcmltZXNbbG93cHJpbWVzLmxlbmd0aCAtIDFdKSB7CiAgICBmb3IgKGkgPSAwOyBpIDwgbG93cHJpbWVzLmxlbmd0aDsgKytpKQogICAgICBpZiAoeFswXSA9PSBsb3dwcmltZXNbaV0pIHJldHVybiB0cnVlCiAgICByZXR1cm4gZmFsc2UKICB9CiAgaWYgKHguaXNFdmVuKCkpIHJldHVybiBmYWxzZQogIGkgPSAxCiAgd2hpbGUgKGkgPCBsb3dwcmltZXMubGVuZ3RoKSB7CiAgICB2YXIgbSA9IGxvd3ByaW1lc1tpXSwKICAgICAgaiA9IGkgKyAxCiAgICB3aGlsZSAoaiA8IGxvd3ByaW1lcy5sZW5ndGggJiYgbSA8IGxwbGltKSBtICo9IGxvd3ByaW1lc1tqKytdCiAgICBtID0geC5tb2RJbnQobSkKICAgIHdoaWxlIChpIDwgaikgaWYgKG0gJSBsb3dwcmltZXNbaSsrXSA9PSAwKSByZXR1cm4gZmFsc2UKICB9CiAgcmV0dXJuIHgubWlsbGVyUmFiaW4odCkKfQoKLy8gKHByb3RlY3RlZCkgdHJ1ZSBpZiBwcm9iYWJseSBwcmltZSAoSEFDIDQuMjQsIE1pbGxlci1SYWJpbikKZnVuY3Rpb24gYm5wTWlsbGVyUmFiaW4odCkgewogIHZhciBuMSA9IHRoaXMuc3VidHJhY3QoQmlnSW50ZWdlci5PTkUpCiAgdmFyIGsgPSBuMS5nZXRMb3dlc3RTZXRCaXQoKQogIGlmIChrIDw9IDApIHJldHVybiBmYWxzZQogIHZhciByID0gbjEuc2hpZnRSaWdodChrKQogIHQgPSAodCArIDEpID4+IDEKICBpZiAodCA+IGxvd3ByaW1lcy5sZW5ndGgpIHQgPSBsb3dwcmltZXMubGVuZ3RoCiAgdmFyIGEgPSBuZXcgQmlnSW50ZWdlcihudWxsKQogIHZhciBqLCBiYXNlcyA9IFtdCiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0OyArK2kpIHsKICAgIGZvciAoOzspIHsKICAgICAgaiA9IGxvd3ByaW1lc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsb3dwcmltZXMubGVuZ3RoKV0KICAgICAgaWYgKGJhc2VzLmluZGV4T2YoaikgPT0gLTEpIGJyZWFrCiAgICB9CiAgICBiYXNlcy5wdXNoKGopCiAgICBhLmZyb21JbnQoaikKICAgIHZhciB5ID0gYS5tb2RQb3cociwgdGhpcykKICAgIGlmICh5LmNvbXBhcmVUbyhCaWdJbnRlZ2VyLk9ORSkgIT0gMCAmJiB5LmNvbXBhcmVUbyhuMSkgIT0gMCkgewogICAgICB2YXIgaiA9IDEKICAgICAgd2hpbGUgKGorKyA8IGsgJiYgeS5jb21wYXJlVG8objEpICE9IDApIHsKICAgICAgICB5ID0geS5tb2RQb3dJbnQoMiwgdGhpcykKICAgICAgICBpZiAoeS5jb21wYXJlVG8oQmlnSW50ZWdlci5PTkUpID09IDApIHJldHVybiBmYWxzZQogICAgICB9CiAgICAgIGlmICh5LmNvbXBhcmVUbyhuMSkgIT0gMCkgcmV0dXJuIGZhbHNlCiAgICB9CiAgfQogIHJldHVybiB0cnVlCn0KCi8vIHByb3RlY3RlZApwcm90by5jaHVua1NpemUgPSBibnBDaHVua1NpemUKcHJvdG8udG9SYWRpeCA9IGJucFRvUmFkaXgKcHJvdG8uZnJvbVJhZGl4ID0gYm5wRnJvbVJhZGl4CnByb3RvLmZyb21OdW1iZXIgPSBibnBGcm9tTnVtYmVyCnByb3RvLmJpdHdpc2VUbyA9IGJucEJpdHdpc2VUbwpwcm90by5jaGFuZ2VCaXQgPSBibnBDaGFuZ2VCaXQKcHJvdG8uYWRkVG8gPSBibnBBZGRUbwpwcm90by5kTXVsdGlwbHkgPSBibnBETXVsdGlwbHkKcHJvdG8uZEFkZE9mZnNldCA9IGJucERBZGRPZmZzZXQKcHJvdG8ubXVsdGlwbHlMb3dlclRvID0gYm5wTXVsdGlwbHlMb3dlclRvCnByb3RvLm11bHRpcGx5VXBwZXJUbyA9IGJucE11bHRpcGx5VXBwZXJUbwpwcm90by5tb2RJbnQgPSBibnBNb2RJbnQKcHJvdG8ubWlsbGVyUmFiaW4gPSBibnBNaWxsZXJSYWJpbgoKLy8gcHVibGljCnByb3RvLmNsb25lID0gYm5DbG9uZQpwcm90by5pbnRWYWx1ZSA9IGJuSW50VmFsdWUKcHJvdG8uYnl0ZVZhbHVlID0gYm5CeXRlVmFsdWUKcHJvdG8uc2hvcnRWYWx1ZSA9IGJuU2hvcnRWYWx1ZQpwcm90by5zaWdudW0gPSBiblNpZ051bQpwcm90by50b0J5dGVBcnJheSA9IGJuVG9CeXRlQXJyYXkKcHJvdG8uZXF1YWxzID0gYm5FcXVhbHMKcHJvdG8ubWluID0gYm5NaW4KcHJvdG8ubWF4ID0gYm5NYXgKcHJvdG8uYW5kID0gYm5BbmQKcHJvdG8ub3IgPSBibk9yCnByb3RvLnhvciA9IGJuWG9yCnByb3RvLmFuZE5vdCA9IGJuQW5kTm90CnByb3RvLm5vdCA9IGJuTm90CnByb3RvLnNoaWZ0TGVmdCA9IGJuU2hpZnRMZWZ0CnByb3RvLnNoaWZ0UmlnaHQgPSBiblNoaWZ0UmlnaHQKcHJvdG8uZ2V0TG93ZXN0U2V0Qml0ID0gYm5HZXRMb3dlc3RTZXRCaXQKcHJvdG8uYml0Q291bnQgPSBibkJpdENvdW50CnByb3RvLnRlc3RCaXQgPSBiblRlc3RCaXQKcHJvdG8uc2V0Qml0ID0gYm5TZXRCaXQKcHJvdG8uY2xlYXJCaXQgPSBibkNsZWFyQml0CnByb3RvLmZsaXBCaXQgPSBibkZsaXBCaXQKcHJvdG8uYWRkID0gYm5BZGQKcHJvdG8uc3VidHJhY3QgPSBiblN1YnRyYWN0CnByb3RvLm11bHRpcGx5ID0gYm5NdWx0aXBseQpwcm90by5kaXZpZGUgPSBibkRpdmlkZQpwcm90by5yZW1haW5kZXIgPSBiblJlbWFpbmRlcgpwcm90by5kaXZpZGVBbmRSZW1haW5kZXIgPSBibkRpdmlkZUFuZFJlbWFpbmRlcgpwcm90by5tb2RQb3cgPSBibk1vZFBvdwpwcm90by5tb2RJbnZlcnNlID0gYm5Nb2RJbnZlcnNlCnByb3RvLnBvdyA9IGJuUG93CnByb3RvLmdjZCA9IGJuR0NECnByb3RvLmlzUHJvYmFibGVQcmltZSA9IGJuSXNQcm9iYWJsZVByaW1lCgovLyBKU0JOLXNwZWNpZmljIGV4dGVuc2lvbgpwcm90by5zcXVhcmUgPSBiblNxdWFyZQoKLy8gY29uc3RhbnRzCkJpZ0ludGVnZXIuWkVSTyA9IG5idigwKQpCaWdJbnRlZ2VyLk9ORSA9IG5idigxKQpCaWdJbnRlZ2VyLnZhbHVlT2YgPSBuYnYKCm1vZHVsZS5leHBvcnRzID0gQmlnSW50ZWdlcgoKfSx7Ii4uL3BhY2thZ2UuanNvbiI6MjF9XSwxOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKLy8gRklYTUU6IEtpbmQgb2YgYSB3ZWlyZCB3YXkgdG8gdGhyb3cgZXhjZXB0aW9ucywgY29uc2lkZXIgcmVtb3ZpbmcKdmFyIGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpCnZhciBCaWdJbnRlZ2VyID0gcmVxdWlyZSgnLi9iaWdpJykKCi8qKgogKiBUdXJucyBhIGJ5dGUgYXJyYXkgaW50byBhIGJpZyBpbnRlZ2VyLgogKgogKiBUaGlzIGZ1bmN0aW9uIHdpbGwgaW50ZXJwcmV0IGEgYnl0ZSBhcnJheSBhcyBhIGJpZyBpbnRlZ2VyIGluIGJpZwogKiBlbmRpYW4gbm90YXRpb24uCiAqLwpCaWdJbnRlZ2VyLmZyb21CeXRlQXJyYXlVbnNpZ25lZCA9IGZ1bmN0aW9uKGJ5dGVBcnJheSkgewogIC8vIEJpZ0ludGVnZXIgZXhwZWN0cyBhIERFUiBpbnRlZ2VyIGNvbmZvcm1hbnQgYnl0ZSBhcnJheQogIGlmIChieXRlQXJyYXlbMF0gJiAweDgwKSB7CiAgICByZXR1cm4gbmV3IEJpZ0ludGVnZXIoWzBdLmNvbmNhdChieXRlQXJyYXkpKQogIH0KCiAgcmV0dXJuIG5ldyBCaWdJbnRlZ2VyKGJ5dGVBcnJheSkKfQoKLyoqCiAqIFJldHVybnMgYSBieXRlIGFycmF5IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBiaWcgaW50ZWdlci4KICoKICogVGhpcyByZXR1cm5zIHRoZSBhYnNvbHV0ZSBvZiB0aGUgY29udGFpbmVkIHZhbHVlIGluIGJpZyBlbmRpYW4KICogZm9ybS4gQSB2YWx1ZSBvZiB6ZXJvIHJlc3VsdHMgaW4gYW4gZW1wdHkgYXJyYXkuCiAqLwpCaWdJbnRlZ2VyLnByb3RvdHlwZS50b0J5dGVBcnJheVVuc2lnbmVkID0gZnVuY3Rpb24oKSB7CiAgdmFyIGJ5dGVBcnJheSA9IHRoaXMudG9CeXRlQXJyYXkoKQogIHJldHVybiBieXRlQXJyYXlbMF0gPT09IDAgPyBieXRlQXJyYXkuc2xpY2UoMSkgOiBieXRlQXJyYXkKfQoKQmlnSW50ZWdlci5mcm9tREVSSW50ZWdlciA9IGZ1bmN0aW9uKGJ5dGVBcnJheSkgewogIHJldHVybiBuZXcgQmlnSW50ZWdlcihieXRlQXJyYXkpCn0KCi8qCiAqIENvbnZlcnRzIEJpZ0ludGVnZXIgdG8gYSBERVIgaW50ZWdlciByZXByZXNlbnRhdGlvbi4KICoKICogVGhlIGZvcm1hdCBmb3IgdGhpcyB2YWx1ZSB1c2VzIHRoZSBtb3N0IHNpZ25pZmljYW50IGJpdCBhcyBhIHNpZ24KICogYml0LiAgSWYgdGhlIG1vc3Qgc2lnbmlmaWNhbnQgYml0IGlzIGFscmVhZHkgc2V0IGFuZCB0aGUgaW50ZWdlciBpcwogKiBwb3NpdGl2ZSwgYSAweDAwIGlzIHByZXBlbmRlZC4KICoKICogRXhhbXBsZXM6CiAqCiAqICAgICAgMCA9PiAgICAgMHgwMAogKiAgICAgIDEgPT4gICAgIDB4MDEKICogICAgIC0xID0+ICAgICAweGZmCiAqICAgIDEyNyA9PiAgICAgMHg3ZgogKiAgIC0xMjcgPT4gICAgIDB4ODEKICogICAgMTI4ID0+ICAgMHgwMDgwCiAqICAgLTEyOCA9PiAgICAgMHg4MAogKiAgICAyNTUgPT4gICAweDAwZmYKICogICAtMjU1ID0+ICAgMHhmZjAxCiAqICAxNjMwMCA9PiAgIDB4M2ZhYwogKiAtMTYzMDAgPT4gICAweGMwNTQKICogIDYyMzAwID0+IDB4MDBmMzVjCiAqIC02MjMwMCA9PiAweGZmMGNhNAoqLwpCaWdJbnRlZ2VyLnByb3RvdHlwZS50b0RFUkludGVnZXIgPSBCaWdJbnRlZ2VyLnByb3RvdHlwZS50b0J5dGVBcnJheQoKQmlnSW50ZWdlci5mcm9tQnVmZmVyID0gZnVuY3Rpb24oYnVmZmVyKSB7CiAgLy8gQmlnSW50ZWdlciBleHBlY3RzIGEgREVSIGludGVnZXIgY29uZm9ybWFudCBieXRlIGFycmF5CiAgaWYgKGJ1ZmZlclswXSAmIDB4ODApIHsKICAgIHZhciBieXRlQXJyYXkgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChidWZmZXIpCgogICAgcmV0dXJuIG5ldyBCaWdJbnRlZ2VyKFswXS5jb25jYXQoYnl0ZUFycmF5KSkKICB9CgogIHJldHVybiBuZXcgQmlnSW50ZWdlcihidWZmZXIpCn0KCkJpZ0ludGVnZXIuZnJvbUhleCA9IGZ1bmN0aW9uKGhleCkgewogIGlmIChoZXggPT09ICcnKSByZXR1cm4gQmlnSW50ZWdlci5aRVJPCgogIGFzc2VydC5lcXVhbChoZXgsIGhleC5tYXRjaCgvXltBLUZhLWYwLTldKy8pLCAnSW52YWxpZCBoZXggc3RyaW5nJykKICBhc3NlcnQuZXF1YWwoaGV4Lmxlbmd0aCAlIDIsIDAsICdJbmNvbXBsZXRlIGhleCcpCiAgcmV0dXJuIG5ldyBCaWdJbnRlZ2VyKGhleCwgMTYpCn0KCkJpZ0ludGVnZXIucHJvdG90eXBlLnRvQnVmZmVyID0gZnVuY3Rpb24oc2l6ZSkgewogIHZhciBieXRlQXJyYXkgPSB0aGlzLnRvQnl0ZUFycmF5VW5zaWduZWQoKQogIHZhciB6ZXJvcyA9IFtdCgogIHZhciBwYWRkaW5nID0gc2l6ZSAtIGJ5dGVBcnJheS5sZW5ndGgKICB3aGlsZSAoemVyb3MubGVuZ3RoIDwgcGFkZGluZykgemVyb3MucHVzaCgwKQoKICByZXR1cm4gbmV3IEJ1ZmZlcih6ZXJvcy5jb25jYXQoYnl0ZUFycmF5KSkKfQoKQmlnSW50ZWdlci5wcm90b3R5cGUudG9IZXggPSBmdW5jdGlvbihzaXplKSB7CiAgcmV0dXJuIHRoaXMudG9CdWZmZXIoc2l6ZSkudG9TdHJpbmcoJ2hleCcpCn0KCn0pLmNhbGwodGhpcyxyZXF1aXJlKCJidWZmZXIiKS5CdWZmZXIpCn0seyIuL2JpZ2kiOjE4LCJhc3NlcnQiOjE1LCJidWZmZXIiOjc2fV0sMjA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewp2YXIgQmlnSW50ZWdlciA9IHJlcXVpcmUoJy4vYmlnaScpCgovL2FkZG9ucwpyZXF1aXJlKCcuL2NvbnZlcnQnKQoKbW9kdWxlLmV4cG9ydHMgPSBCaWdJbnRlZ2VyCn0seyIuL2JpZ2kiOjE4LCIuL2NvbnZlcnQiOjE5fV0sMjE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewptb2R1bGUuZXhwb3J0cz17CiAgIl9hcmdzIjogWwogICAgWwogICAgICAiYmlnaUBeMS40LjAiLAogICAgICAiL2hvbWUvdnNpbHZhL3B0LWlub3ZhY2FvL3JldGhpbmstcHJvamVjdC9kZXYtcnVudGltZS1jb3JlL25vZGVfbW9kdWxlcy9iaXRjb2luanMtbGliIgogICAgXQogIF0sCiAgIl9mcm9tIjogImJpZ2lAPj0xLjQuMCA8Mi4wLjAiLAogICJfaWQiOiAiYmlnaUAxLjQuMSIsCiAgIl9pbkNhY2hlIjogdHJ1ZSwKICAiX2luc3RhbGxhYmxlIjogdHJ1ZSwKICAiX2xvY2F0aW9uIjogIi9iaWdpIiwKICAiX25vZGVWZXJzaW9uIjogIjIuMS4wIiwKICAiX25wbVVzZXIiOiB7CiAgICAiZW1haWwiOiAianByaWNoYXJkc29uQGdtYWlsLmNvbSIsCiAgICAibmFtZSI6ICJqcHJpY2hhcmRzb24iCiAgfSwKICAiX25wbVZlcnNpb24iOiAiMi4xMC4xIiwKICAiX3BoYW50b21DaGlsZHJlbiI6IHt9LAogICJfcmVxdWVzdGVkIjogewogICAgIm5hbWUiOiAiYmlnaSIsCiAgICAicmF3IjogImJpZ2lAXjEuNC4wIiwKICAgICJyYXdTcGVjIjogIl4xLjQuMCIsCiAgICAic2NvcGUiOiBudWxsLAogICAgInNwZWMiOiAiPj0xLjQuMCA8Mi4wLjAiLAogICAgInR5cGUiOiAicmFuZ2UiCiAgfSwKICAiX3JlcXVpcmVkQnkiOiBbCiAgICAiL2JpdGNvaW5qcy1saWIiLAogICAgIi9lY3VydmUiCiAgXSwKICAiX3Jlc29sdmVkIjogImh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnL2JpZ2kvLS9iaWdpLTEuNC4xLnRneiIsCiAgIl9zaGFzdW0iOiAiNzI2ZThhYjA4ZDFmZTFkZmI4YWE2YmI2MzA5YmZmZWNmOTNhMjFiNyIsCiAgIl9zaHJpbmt3cmFwIjogbnVsbCwKICAiX3NwZWMiOiAiYmlnaUBeMS40LjAiLAogICJfd2hlcmUiOiAiL2hvbWUvdnNpbHZhL3B0LWlub3ZhY2FvL3JldGhpbmstcHJvamVjdC9kZXYtcnVudGltZS1jb3JlL25vZGVfbW9kdWxlcy9iaXRjb2luanMtbGliIiwKICAiYnVncyI6IHsKICAgICJ1cmwiOiAiaHR0cHM6Ly9naXRodWIuY29tL2NyeXB0b2NvaW5qcy9iaWdpL2lzc3VlcyIKICB9LAogICJkZXBlbmRlbmNpZXMiOiB7fSwKICAiZGVzY3JpcHRpb24iOiAiQmlnIGludGVnZXJzLiIsCiAgImRldkRlcGVuZGVuY2llcyI6IHsKICAgICJjb3ZlcmFsbHMiOiAiXjIuMTEuMiIsCiAgICAiaXN0YW5idWwiOiAiXjAuMy41IiwKICAgICJqc2hpbnQiOiAiXjIuNS4xIiwKICAgICJtb2NoYSI6ICJeMi4xLjAiLAogICAgIm1vY2hpZnkiOiAiXjIuMS4wIgogIH0sCiAgImRpcmVjdG9yaWVzIjoge30sCiAgImRpc3QiOiB7CiAgICAic2hhc3VtIjogIjcyNmU4YWIwOGQxZmUxZGZiOGFhNmJiNjMwOWJmZmVjZjkzYTIxYjciLAogICAgInRhcmJhbGwiOiAiaHR0cDovL3JlZ2lzdHJ5Lm5wbWpzLm9yZy9iaWdpLy0vYmlnaS0xLjQuMS50Z3oiCiAgfSwKICAiZ2l0SGVhZCI6ICI3ZDAzNGExYjM4Y2E5MGY2OGRhYTlkZTQ3MmRkYTJmYjgxMzgzNmYxIiwKICAiaG9tZXBhZ2UiOiAiaHR0cHM6Ly9naXRodWIuY29tL2NyeXB0b2NvaW5qcy9iaWdpI3JlYWRtZSIsCiAgImtleXdvcmRzIjogWwogICAgImFyYml0cmFyeSIsCiAgICAiYXJpdGhtZXRpYyIsCiAgICAiYmlnIiwKICAgICJiaWdpbnQiLAogICAgImJpZ2ludGVnZXIiLAogICAgImJpZ251bWJlciIsCiAgICAiYml0Y29pbiIsCiAgICAiY3J5cHRvZ3JhcGh5IiwKICAgICJkZWNpbWFsIiwKICAgICJmbG9hdCIsCiAgICAiaW50IiwKICAgICJpbnRlZ2VyIiwKICAgICJtYXRoIiwKICAgICJudW1iZXIiLAogICAgInByZWNpc2lvbiIKICBdLAogICJtYWluIjogIi4vbGliL2luZGV4LmpzIiwKICAibWFpbnRhaW5lcnMiOiBbCiAgICB7CiAgICAgICJuYW1lIjogIm1pZG5pZ2h0bGlnaHRuaW5nIiwKICAgICAgImVtYWlsIjogImJveWRiQG1pZG5pZ2h0ZGVzaWduLndzIgogICAgfSwKICAgIHsKICAgICAgIm5hbWUiOiAic2lkYXpoYW5nIiwKICAgICAgImVtYWlsIjogInNpZGF6aGFuZzg5QGdtYWlsLmNvbSIKICAgIH0sCiAgICB7CiAgICAgICJuYW1lIjogIm5hZGF2IiwKICAgICAgImVtYWlsIjogIm5wbUBzaGVzZWsuaW5mbyIKICAgIH0sCiAgICB7CiAgICAgICJuYW1lIjogImpwcmljaGFyZHNvbiIsCiAgICAgICJlbWFpbCI6ICJqcHJpY2hhcmRzb25AZ21haWwuY29tIgogICAgfQogIF0sCiAgIm5hbWUiOiAiYmlnaSIsCiAgIm9wdGlvbmFsRGVwZW5kZW5jaWVzIjoge30sCiAgInJlYWRtZSI6ICJFUlJPUjogTm8gUkVBRE1FIGRhdGEgZm91bmQhIiwKICAicmVwb3NpdG9yeSI6IHsKICAgICJ0eXBlIjogImdpdCIsCiAgICAidXJsIjogImdpdCtodHRwczovL2dpdGh1Yi5jb20vY3J5cHRvY29pbmpzL2JpZ2kuZ2l0IgogIH0sCiAgInNjcmlwdHMiOiB7CiAgICAiYnJvd3Nlci10ZXN0IjogIm1vY2hpZnkgLS13ZCAtUiBzcGVjIiwKICAgICJjb3ZlcmFnZSI6ICJpc3RhbmJ1bCBjb3ZlciAuL25vZGVfbW9kdWxlcy8uYmluL19tb2NoYSAtLSAtLXJlcG9ydGVyIGxpc3QgdGVzdC8qLmpzIiwKICAgICJjb3ZlcmFsbHMiOiAibnBtIHJ1bi1zY3JpcHQgY292ZXJhZ2UgJiYgbm9kZSAuL25vZGVfbW9kdWxlcy8uYmluL2NvdmVyYWxscyA8IGNvdmVyYWdlL2xjb3YuaW5mbyIsCiAgICAianNoaW50IjogImpzaGludCAtLWNvbmZpZyBqc2hpbnQuanNvbiBsaWIvKi5qcyA7IHRydWUiLAogICAgInRlc3QiOiAiX21vY2hhIC0tIHRlc3QvKi5qcyIsCiAgICAidW5pdCI6ICJtb2NoYSIKICB9LAogICJ0ZXN0bGluZyI6IHsKICAgICJicm93c2VycyI6IFsKICAgICAgImFuZHJvaWQtYnJvd3Nlci80LjIuLmxhdGVzdCIsCiAgICAgICJjaHJvbWUvbGF0ZXN0IiwKICAgICAgImZpcmVmb3gvbGF0ZXN0IiwKICAgICAgImllLzkuLmxhdGVzdCIsCiAgICAgICJpcGhvbmUvNi4wLi5sYXRlc3QiLAogICAgICAic2FmYXJpLzYuMC4ubGF0ZXN0IgogICAgXSwKICAgICJmaWxlcyI6ICJ0ZXN0LyouanMiLAogICAgImhhcm5lc3MiOiAibW9jaGEiCiAgfSwKICAidmVyc2lvbiI6ICIxLjQuMSIKfQoKfSx7fV0sMjI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7CnZhciBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKQp2YXIgY3JlYXRlSGFzaCA9IHJlcXVpcmUoJ2NyZWF0ZS1oYXNoJykKdmFyIHBia2RmMiA9IHJlcXVpcmUoJ3Bia2RmMicpLnBia2RmMlN5bmMKdmFyIHJhbmRvbUJ5dGVzID0gcmVxdWlyZSgncmFuZG9tYnl0ZXMnKQp2YXIgdW5vcm0gPSByZXF1aXJlKCd1bm9ybScpCgp2YXIgREVGQVVMVF9XT1JETElTVCA9IHJlcXVpcmUoJy4vd29yZGxpc3RzL2VuLmpzb24nKQoKZnVuY3Rpb24gbW5lbW9uaWNUb1NlZWQobW5lbW9uaWMsIHBhc3N3b3JkKSB7CiAgdmFyIG1uZW1vbmljQnVmZmVyID0gbmV3IEJ1ZmZlcihtbmVtb25pYywgJ3V0ZjgnKQogIHZhciBzYWx0QnVmZmVyID0gbmV3IEJ1ZmZlcihzYWx0KHBhc3N3b3JkKSwgJ3V0ZjgnKQoKICByZXR1cm4gcGJrZGYyKG1uZW1vbmljQnVmZmVyLCBzYWx0QnVmZmVyLCAyMDQ4LCA2NCwgJ3NoYTUxMicpCn0KCmZ1bmN0aW9uIG1uZW1vbmljVG9TZWVkSGV4KG1uZW1vbmljLCBwYXNzd29yZCkgewogIHJldHVybiBtbmVtb25pY1RvU2VlZChtbmVtb25pYywgcGFzc3dvcmQpLnRvU3RyaW5nKCdoZXgnKQp9CgpmdW5jdGlvbiBtbmVtb25pY1RvRW50cm9weShtbmVtb25pYywgd29yZGxpc3QpIHsKICB3b3JkbGlzdCA9IHdvcmRsaXN0IHx8IERFRkFVTFRfV09SRExJU1QKCiAgdmFyIHdvcmRzID0gbW5lbW9uaWMuc3BsaXQoJyAnKQogIGFzc2VydCh3b3Jkcy5sZW5ndGggJSAzID09PSAwLCAnSW52YWxpZCBtbmVtb25pYycpCgogIHZhciBiZWxvbmdUb0xpc3QgPSB3b3Jkcy5ldmVyeShmdW5jdGlvbih3b3JkKSB7CiAgICByZXR1cm4gd29yZGxpc3QuaW5kZXhPZih3b3JkKSA+IC0xCiAgfSkKCiAgYXNzZXJ0KGJlbG9uZ1RvTGlzdCwgJ0ludmFsaWQgbW5lbW9uaWMnKQoKICAvLyBjb252ZXJ0IHdvcmQgaW5kaWNlcyB0byAxMSBiaXQgYmluYXJ5IHN0cmluZ3MKICB2YXIgYml0cyA9IHdvcmRzLm1hcChmdW5jdGlvbih3b3JkKSB7CiAgICB2YXIgaW5kZXggPSB3b3JkbGlzdC5pbmRleE9mKHdvcmQpCiAgICByZXR1cm4gbHBhZChpbmRleC50b1N0cmluZygyKSwgJzAnLCAxMSkKICB9KS5qb2luKCcnKQoKICAvLyBzcGxpdCB0aGUgYmluYXJ5IHN0cmluZyBpbnRvIEVOVC9DUwogIHZhciBkaXZpZGVySW5kZXggPSBNYXRoLmZsb29yKGJpdHMubGVuZ3RoIC8gMzMpICogMzIKICB2YXIgZW50cm9weSA9IGJpdHMuc2xpY2UoMCwgZGl2aWRlckluZGV4KQogIHZhciBjaGVja3N1bSA9IGJpdHMuc2xpY2UoZGl2aWRlckluZGV4KQoKICAvLyBjYWxjdWxhdGUgdGhlIGNoZWNrc3VtIGFuZCBjb21wYXJlCiAgdmFyIGVudHJvcHlCeXRlcyA9IGVudHJvcHkubWF0Y2goLyguezEsOH0pL2cpLm1hcChmdW5jdGlvbihiaW4pIHsKICAgIHJldHVybiBwYXJzZUludChiaW4sIDIpCiAgfSkKICB2YXIgZW50cm9weUJ1ZmZlciA9IG5ldyBCdWZmZXIoZW50cm9weUJ5dGVzKQogIHZhciBuZXdDaGVja3N1bSA9IGNoZWNrc3VtQml0cyhlbnRyb3B5QnVmZmVyKQoKICBhc3NlcnQobmV3Q2hlY2tzdW0gPT09IGNoZWNrc3VtLCAnSW52YWxpZCBtbmVtb25pYyBjaGVja3N1bScpCgogIHJldHVybiBlbnRyb3B5QnVmZmVyLnRvU3RyaW5nKCdoZXgnKQp9CgpmdW5jdGlvbiBlbnRyb3B5VG9NbmVtb25pYyhlbnRyb3B5LCB3b3JkbGlzdCkgewogIHdvcmRsaXN0ID0gd29yZGxpc3QgfHwgREVGQVVMVF9XT1JETElTVAoKICB2YXIgZW50cm9weUJ1ZmZlciA9IG5ldyBCdWZmZXIoZW50cm9weSwgJ2hleCcpCiAgdmFyIGVudHJvcHlCaXRzID0gYnl0ZXNUb0JpbmFyeShbXS5zbGljZS5jYWxsKGVudHJvcHlCdWZmZXIpKQogIHZhciBjaGVja3N1bSA9IGNoZWNrc3VtQml0cyhlbnRyb3B5QnVmZmVyKQoKICB2YXIgYml0cyA9IGVudHJvcHlCaXRzICsgY2hlY2tzdW0KICB2YXIgY2h1bmtzID0gYml0cy5tYXRjaCgvKC57MSwxMX0pL2cpCgogIHZhciB3b3JkcyA9IGNodW5rcy5tYXAoZnVuY3Rpb24oYmluYXJ5KSB7CiAgICB2YXIgaW5kZXggPSBwYXJzZUludChiaW5hcnksIDIpCgogICAgcmV0dXJuIHdvcmRsaXN0W2luZGV4XQogIH0pCgogIHJldHVybiB3b3Jkcy5qb2luKCcgJykKfQoKZnVuY3Rpb24gZ2VuZXJhdGVNbmVtb25pYyhzdHJlbmd0aCwgcm5nLCB3b3JkbGlzdCkgewogIHN0cmVuZ3RoID0gc3RyZW5ndGggfHwgMTI4CiAgcm5nID0gcm5nIHx8IHJhbmRvbUJ5dGVzCgogIHZhciBoZXggPSBybmcoc3RyZW5ndGggLyA4KS50b1N0cmluZygnaGV4JykKICByZXR1cm4gZW50cm9weVRvTW5lbW9uaWMoaGV4LCB3b3JkbGlzdCkKfQoKZnVuY3Rpb24gdmFsaWRhdGVNbmVtb25pYyhtbmVtb25pYywgd29yZGxpc3QpIHsKICB0cnkgewogICAgbW5lbW9uaWNUb0VudHJvcHkobW5lbW9uaWMsIHdvcmRsaXN0KQogIH0gY2F0Y2ggKGUpIHsKICAgIHJldHVybiBmYWxzZQogIH0KCiAgcmV0dXJuIHRydWUKfQoKZnVuY3Rpb24gY2hlY2tzdW1CaXRzKGVudHJvcHlCdWZmZXIpIHsKICB2YXIgaGFzaCA9IGNyZWF0ZUhhc2goJ3NoYTI1NicpLnVwZGF0ZShlbnRyb3B5QnVmZmVyKS5kaWdlc3QoKQoKICAvLyBDYWxjdWxhdGVkIGNvbnN0YW50cyBmcm9tIEJJUDM5CiAgdmFyIEVOVCA9IGVudHJvcHlCdWZmZXIubGVuZ3RoICogOAogIHZhciBDUyA9IEVOVCAvIDMyCgogIHJldHVybiBieXRlc1RvQmluYXJ5KFtdLnNsaWNlLmNhbGwoaGFzaCkpLnNsaWNlKDAsIENTKQp9CgpmdW5jdGlvbiBzYWx0KHBhc3N3b3JkKSB7CiAgcmV0dXJuICdtbmVtb25pYycgKyAodW5vcm0ubmZrZChwYXNzd29yZCkgfHwgJycpIC8vIFVzZSB1bm9ybSB1bnRpbCBTdHJpbmcucHJvdG90eXBlLm5vcm1hbGl6ZSBnZXRzIGJldHRlciBicm93c2VyIHN1cHBvcnQKfQoKLy89PT09PT09PT09PSBoZWxwZXIgbWV0aG9kcyBmcm9tIGJpdGNvaW5qcy1saWIgPT09PT09PT0KCmZ1bmN0aW9uIGJ5dGVzVG9CaW5hcnkoYnl0ZXMpIHsKICByZXR1cm4gYnl0ZXMubWFwKGZ1bmN0aW9uKHgpIHsKICAgIHJldHVybiBscGFkKHgudG9TdHJpbmcoMiksICcwJywgOCkKICB9KS5qb2luKCcnKTsKfQoKZnVuY3Rpb24gbHBhZChzdHIsIHBhZFN0cmluZywgbGVuZ3RoKSB7CiAgd2hpbGUgKHN0ci5sZW5ndGggPCBsZW5ndGgpIHN0ciA9IHBhZFN0cmluZyArIHN0cjsKICByZXR1cm4gc3RyOwp9Cgptb2R1bGUuZXhwb3J0cyA9IHsKICBtbmVtb25pY1RvU2VlZDogbW5lbW9uaWNUb1NlZWQsCiAgbW5lbW9uaWNUb1NlZWRIZXg6IG1uZW1vbmljVG9TZWVkSGV4LAogIG1uZW1vbmljVG9FbnRyb3B5OiBtbmVtb25pY1RvRW50cm9weSwKICBlbnRyb3B5VG9NbmVtb25pYzogZW50cm9weVRvTW5lbW9uaWMsCiAgZ2VuZXJhdGVNbmVtb25pYzogZ2VuZXJhdGVNbmVtb25pYywKICB2YWxpZGF0ZU1uZW1vbmljOiB2YWxpZGF0ZU1uZW1vbmljLAogIHdvcmRsaXN0czogewogICAgRU46IERFRkFVTFRfV09SRExJU1QKICB9Cn0KCn0pLmNhbGwodGhpcyxyZXF1aXJlKCJidWZmZXIiKS5CdWZmZXIpCn0seyIuL3dvcmRsaXN0cy9lbi5qc29uIjoyMywiYXNzZXJ0IjoxNSwiYnVmZmVyIjo3NiwiY3JlYXRlLWhhc2giOjgxLCJwYmtkZjIiOjEzOCwicmFuZG9tYnl0ZXMiOjE0NywidW5vcm0iOjE3M31dLDIzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKbW9kdWxlLmV4cG9ydHM9WwogICJhYmFuZG9uIiwKICAiYWJpbGl0eSIsCiAgImFibGUiLAogICJhYm91dCIsCiAgImFib3ZlIiwKICAiYWJzZW50IiwKICAiYWJzb3JiIiwKICAiYWJzdHJhY3QiLAogICJhYnN1cmQiLAogICJhYnVzZSIsCiAgImFjY2VzcyIsCiAgImFjY2lkZW50IiwKICAiYWNjb3VudCIsCiAgImFjY3VzZSIsCiAgImFjaGlldmUiLAogICJhY2lkIiwKICAiYWNvdXN0aWMiLAogICJhY3F1aXJlIiwKICAiYWNyb3NzIiwKICAiYWN0IiwKICAiYWN0aW9uIiwKICAiYWN0b3IiLAogICJhY3RyZXNzIiwKICAiYWN0dWFsIiwKICAiYWRhcHQiLAogICJhZGQiLAogICJhZGRpY3QiLAogICJhZGRyZXNzIiwKICAiYWRqdXN0IiwKICAiYWRtaXQiLAogICJhZHVsdCIsCiAgImFkdmFuY2UiLAogICJhZHZpY2UiLAogICJhZXJvYmljIiwKICAiYWZmYWlyIiwKICAiYWZmb3JkIiwKICAiYWZyYWlkIiwKICAiYWdhaW4iLAogICJhZ2UiLAogICJhZ2VudCIsCiAgImFncmVlIiwKICAiYWhlYWQiLAogICJhaW0iLAogICJhaXIiLAogICJhaXJwb3J0IiwKICAiYWlzbGUiLAogICJhbGFybSIsCiAgImFsYnVtIiwKICAiYWxjb2hvbCIsCiAgImFsZXJ0IiwKICAiYWxpZW4iLAogICJhbGwiLAogICJhbGxleSIsCiAgImFsbG93IiwKICAiYWxtb3N0IiwKICAiYWxvbmUiLAogICJhbHBoYSIsCiAgImFscmVhZHkiLAogICJhbHNvIiwKICAiYWx0ZXIiLAogICJhbHdheXMiLAogICJhbWF0ZXVyIiwKICAiYW1hemluZyIsCiAgImFtb25nIiwKICAiYW1vdW50IiwKICAiYW11c2VkIiwKICAiYW5hbHlzdCIsCiAgImFuY2hvciIsCiAgImFuY2llbnQiLAogICJhbmdlciIsCiAgImFuZ2xlIiwKICAiYW5ncnkiLAogICJhbmltYWwiLAogICJhbmtsZSIsCiAgImFubm91bmNlIiwKICAiYW5udWFsIiwKICAiYW5vdGhlciIsCiAgImFuc3dlciIsCiAgImFudGVubmEiLAogICJhbnRpcXVlIiwKICAiYW54aWV0eSIsCiAgImFueSIsCiAgImFwYXJ0IiwKICAiYXBvbG9neSIsCiAgImFwcGVhciIsCiAgImFwcGxlIiwKICAiYXBwcm92ZSIsCiAgImFwcmlsIiwKICAiYXJjaCIsCiAgImFyY3RpYyIsCiAgImFyZWEiLAogICJhcmVuYSIsCiAgImFyZ3VlIiwKICAiYXJtIiwKICAiYXJtZWQiLAogICJhcm1vciIsCiAgImFybXkiLAogICJhcm91bmQiLAogICJhcnJhbmdlIiwKICAiYXJyZXN0IiwKICAiYXJyaXZlIiwKICAiYXJyb3ciLAogICJhcnQiLAogICJhcnRlZmFjdCIsCiAgImFydGlzdCIsCiAgImFydHdvcmsiLAogICJhc2siLAogICJhc3BlY3QiLAogICJhc3NhdWx0IiwKICAiYXNzZXQiLAogICJhc3Npc3QiLAogICJhc3N1bWUiLAogICJhc3RobWEiLAogICJhdGhsZXRlIiwKICAiYXRvbSIsCiAgImF0dGFjayIsCiAgImF0dGVuZCIsCiAgImF0dGl0dWRlIiwKICAiYXR0cmFjdCIsCiAgImF1Y3Rpb24iLAogICJhdWRpdCIsCiAgImF1Z3VzdCIsCiAgImF1bnQiLAogICJhdXRob3IiLAogICJhdXRvIiwKICAiYXV0dW1uIiwKICAiYXZlcmFnZSIsCiAgImF2b2NhZG8iLAogICJhdm9pZCIsCiAgImF3YWtlIiwKICAiYXdhcmUiLAogICJhd2F5IiwKICAiYXdlc29tZSIsCiAgImF3ZnVsIiwKICAiYXdrd2FyZCIsCiAgImF4aXMiLAogICJiYWJ5IiwKICAiYmFjaGVsb3IiLAogICJiYWNvbiIsCiAgImJhZGdlIiwKICAiYmFnIiwKICAiYmFsYW5jZSIsCiAgImJhbGNvbnkiLAogICJiYWxsIiwKICAiYmFtYm9vIiwKICAiYmFuYW5hIiwKICAiYmFubmVyIiwKICAiYmFyIiwKICAiYmFyZWx5IiwKICAiYmFyZ2FpbiIsCiAgImJhcnJlbCIsCiAgImJhc2UiLAogICJiYXNpYyIsCiAgImJhc2tldCIsCiAgImJhdHRsZSIsCiAgImJlYWNoIiwKICAiYmVhbiIsCiAgImJlYXV0eSIsCiAgImJlY2F1c2UiLAogICJiZWNvbWUiLAogICJiZWVmIiwKICAiYmVmb3JlIiwKICAiYmVnaW4iLAogICJiZWhhdmUiLAogICJiZWhpbmQiLAogICJiZWxpZXZlIiwKICAiYmVsb3ciLAogICJiZWx0IiwKICAiYmVuY2giLAogICJiZW5lZml0IiwKICAiYmVzdCIsCiAgImJldHJheSIsCiAgImJldHRlciIsCiAgImJldHdlZW4iLAogICJiZXlvbmQiLAogICJiaWN5Y2xlIiwKICAiYmlkIiwKICAiYmlrZSIsCiAgImJpbmQiLAogICJiaW9sb2d5IiwKICAiYmlyZCIsCiAgImJpcnRoIiwKICAiYml0dGVyIiwKICAiYmxhY2siLAogICJibGFkZSIsCiAgImJsYW1lIiwKICAiYmxhbmtldCIsCiAgImJsYXN0IiwKICAiYmxlYWsiLAogICJibGVzcyIsCiAgImJsaW5kIiwKICAiYmxvb2QiLAogICJibG9zc29tIiwKICAiYmxvdXNlIiwKICAiYmx1ZSIsCiAgImJsdXIiLAogICJibHVzaCIsCiAgImJvYXJkIiwKICAiYm9hdCIsCiAgImJvZHkiLAogICJib2lsIiwKICAiYm9tYiIsCiAgImJvbmUiLAogICJib251cyIsCiAgImJvb2siLAogICJib29zdCIsCiAgImJvcmRlciIsCiAgImJvcmluZyIsCiAgImJvcnJvdyIsCiAgImJvc3MiLAogICJib3R0b20iLAogICJib3VuY2UiLAogICJib3giLAogICJib3kiLAogICJicmFja2V0IiwKICAiYnJhaW4iLAogICJicmFuZCIsCiAgImJyYXNzIiwKICAiYnJhdmUiLAogICJicmVhZCIsCiAgImJyZWV6ZSIsCiAgImJyaWNrIiwKICAiYnJpZGdlIiwKICAiYnJpZWYiLAogICJicmlnaHQiLAogICJicmluZyIsCiAgImJyaXNrIiwKICAiYnJvY2NvbGkiLAogICJicm9rZW4iLAogICJicm9uemUiLAogICJicm9vbSIsCiAgImJyb3RoZXIiLAogICJicm93biIsCiAgImJydXNoIiwKICAiYnViYmxlIiwKICAiYnVkZHkiLAogICJidWRnZXQiLAogICJidWZmYWxvIiwKICAiYnVpbGQiLAogICJidWxiIiwKICAiYnVsayIsCiAgImJ1bGxldCIsCiAgImJ1bmRsZSIsCiAgImJ1bmtlciIsCiAgImJ1cmRlbiIsCiAgImJ1cmdlciIsCiAgImJ1cnN0IiwKICAiYnVzIiwKICAiYnVzaW5lc3MiLAogICJidXN5IiwKICAiYnV0dGVyIiwKICAiYnV5ZXIiLAogICJidXp6IiwKICAiY2FiYmFnZSIsCiAgImNhYmluIiwKICAiY2FibGUiLAogICJjYWN0dXMiLAogICJjYWdlIiwKICAiY2FrZSIsCiAgImNhbGwiLAogICJjYWxtIiwKICAiY2FtZXJhIiwKICAiY2FtcCIsCiAgImNhbiIsCiAgImNhbmFsIiwKICAiY2FuY2VsIiwKICAiY2FuZHkiLAogICJjYW5ub24iLAogICJjYW5vZSIsCiAgImNhbnZhcyIsCiAgImNhbnlvbiIsCiAgImNhcGFibGUiLAogICJjYXBpdGFsIiwKICAiY2FwdGFpbiIsCiAgImNhciIsCiAgImNhcmJvbiIsCiAgImNhcmQiLAogICJjYXJnbyIsCiAgImNhcnBldCIsCiAgImNhcnJ5IiwKICAiY2FydCIsCiAgImNhc2UiLAogICJjYXNoIiwKICAiY2FzaW5vIiwKICAiY2FzdGxlIiwKICAiY2FzdWFsIiwKICAiY2F0IiwKICAiY2F0YWxvZyIsCiAgImNhdGNoIiwKICAiY2F0ZWdvcnkiLAogICJjYXR0bGUiLAogICJjYXVnaHQiLAogICJjYXVzZSIsCiAgImNhdXRpb24iLAogICJjYXZlIiwKICAiY2VpbGluZyIsCiAgImNlbGVyeSIsCiAgImNlbWVudCIsCiAgImNlbnN1cyIsCiAgImNlbnR1cnkiLAogICJjZXJlYWwiLAogICJjZXJ0YWluIiwKICAiY2hhaXIiLAogICJjaGFsayIsCiAgImNoYW1waW9uIiwKICAiY2hhbmdlIiwKICAiY2hhb3MiLAogICJjaGFwdGVyIiwKICAiY2hhcmdlIiwKICAiY2hhc2UiLAogICJjaGF0IiwKICAiY2hlYXAiLAogICJjaGVjayIsCiAgImNoZWVzZSIsCiAgImNoZWYiLAogICJjaGVycnkiLAogICJjaGVzdCIsCiAgImNoaWNrZW4iLAogICJjaGllZiIsCiAgImNoaWxkIiwKICAiY2hpbW5leSIsCiAgImNob2ljZSIsCiAgImNob29zZSIsCiAgImNocm9uaWMiLAogICJjaHVja2xlIiwKICAiY2h1bmsiLAogICJjaHVybiIsCiAgImNpZ2FyIiwKICAiY2lubmFtb24iLAogICJjaXJjbGUiLAogICJjaXRpemVuIiwKICAiY2l0eSIsCiAgImNpdmlsIiwKICAiY2xhaW0iLAogICJjbGFwIiwKICAiY2xhcmlmeSIsCiAgImNsYXciLAogICJjbGF5IiwKICAiY2xlYW4iLAogICJjbGVyayIsCiAgImNsZXZlciIsCiAgImNsaWNrIiwKICAiY2xpZW50IiwKICAiY2xpZmYiLAogICJjbGltYiIsCiAgImNsaW5pYyIsCiAgImNsaXAiLAogICJjbG9jayIsCiAgImNsb2ciLAogICJjbG9zZSIsCiAgImNsb3RoIiwKICAiY2xvdWQiLAogICJjbG93biIsCiAgImNsdWIiLAogICJjbHVtcCIsCiAgImNsdXN0ZXIiLAogICJjbHV0Y2giLAogICJjb2FjaCIsCiAgImNvYXN0IiwKICAiY29jb251dCIsCiAgImNvZGUiLAogICJjb2ZmZWUiLAogICJjb2lsIiwKICAiY29pbiIsCiAgImNvbGxlY3QiLAogICJjb2xvciIsCiAgImNvbHVtbiIsCiAgImNvbWJpbmUiLAogICJjb21lIiwKICAiY29tZm9ydCIsCiAgImNvbWljIiwKICAiY29tbW9uIiwKICAiY29tcGFueSIsCiAgImNvbmNlcnQiLAogICJjb25kdWN0IiwKICAiY29uZmlybSIsCiAgImNvbmdyZXNzIiwKICAiY29ubmVjdCIsCiAgImNvbnNpZGVyIiwKICAiY29udHJvbCIsCiAgImNvbnZpbmNlIiwKICAiY29vayIsCiAgImNvb2wiLAogICJjb3BwZXIiLAogICJjb3B5IiwKICAiY29yYWwiLAogICJjb3JlIiwKICAiY29ybiIsCiAgImNvcnJlY3QiLAogICJjb3N0IiwKICAiY290dG9uIiwKICAiY291Y2giLAogICJjb3VudHJ5IiwKICAiY291cGxlIiwKICAiY291cnNlIiwKICAiY291c2luIiwKICAiY292ZXIiLAogICJjb3lvdGUiLAogICJjcmFjayIsCiAgImNyYWRsZSIsCiAgImNyYWZ0IiwKICAiY3JhbSIsCiAgImNyYW5lIiwKICAiY3Jhc2giLAogICJjcmF0ZXIiLAogICJjcmF3bCIsCiAgImNyYXp5IiwKICAiY3JlYW0iLAogICJjcmVkaXQiLAogICJjcmVlayIsCiAgImNyZXciLAogICJjcmlja2V0IiwKICAiY3JpbWUiLAogICJjcmlzcCIsCiAgImNyaXRpYyIsCiAgImNyb3AiLAogICJjcm9zcyIsCiAgImNyb3VjaCIsCiAgImNyb3dkIiwKICAiY3J1Y2lhbCIsCiAgImNydWVsIiwKICAiY3J1aXNlIiwKICAiY3J1bWJsZSIsCiAgImNydW5jaCIsCiAgImNydXNoIiwKICAiY3J5IiwKICAiY3J5c3RhbCIsCiAgImN1YmUiLAogICJjdWx0dXJlIiwKICAiY3VwIiwKICAiY3VwYm9hcmQiLAogICJjdXJpb3VzIiwKICAiY3VycmVudCIsCiAgImN1cnRhaW4iLAogICJjdXJ2ZSIsCiAgImN1c2hpb24iLAogICJjdXN0b20iLAogICJjdXRlIiwKICAiY3ljbGUiLAogICJkYWQiLAogICJkYW1hZ2UiLAogICJkYW1wIiwKICAiZGFuY2UiLAogICJkYW5nZXIiLAogICJkYXJpbmciLAogICJkYXNoIiwKICAiZGF1Z2h0ZXIiLAogICJkYXduIiwKICAiZGF5IiwKICAiZGVhbCIsCiAgImRlYmF0ZSIsCiAgImRlYnJpcyIsCiAgImRlY2FkZSIsCiAgImRlY2VtYmVyIiwKICAiZGVjaWRlIiwKICAiZGVjbGluZSIsCiAgImRlY29yYXRlIiwKICAiZGVjcmVhc2UiLAogICJkZWVyIiwKICAiZGVmZW5zZSIsCiAgImRlZmluZSIsCiAgImRlZnkiLAogICJkZWdyZWUiLAogICJkZWxheSIsCiAgImRlbGl2ZXIiLAogICJkZW1hbmQiLAogICJkZW1pc2UiLAogICJkZW5pYWwiLAogICJkZW50aXN0IiwKICAiZGVueSIsCiAgImRlcGFydCIsCiAgImRlcGVuZCIsCiAgImRlcG9zaXQiLAogICJkZXB0aCIsCiAgImRlcHV0eSIsCiAgImRlcml2ZSIsCiAgImRlc2NyaWJlIiwKICAiZGVzZXJ0IiwKICAiZGVzaWduIiwKICAiZGVzayIsCiAgImRlc3BhaXIiLAogICJkZXN0cm95IiwKICAiZGV0YWlsIiwKICAiZGV0ZWN0IiwKICAiZGV2ZWxvcCIsCiAgImRldmljZSIsCiAgImRldm90ZSIsCiAgImRpYWdyYW0iLAogICJkaWFsIiwKICAiZGlhbW9uZCIsCiAgImRpYXJ5IiwKICAiZGljZSIsCiAgImRpZXNlbCIsCiAgImRpZXQiLAogICJkaWZmZXIiLAogICJkaWdpdGFsIiwKICAiZGlnbml0eSIsCiAgImRpbGVtbWEiLAogICJkaW5uZXIiLAogICJkaW5vc2F1ciIsCiAgImRpcmVjdCIsCiAgImRpcnQiLAogICJkaXNhZ3JlZSIsCiAgImRpc2NvdmVyIiwKICAiZGlzZWFzZSIsCiAgImRpc2giLAogICJkaXNtaXNzIiwKICAiZGlzb3JkZXIiLAogICJkaXNwbGF5IiwKICAiZGlzdGFuY2UiLAogICJkaXZlcnQiLAogICJkaXZpZGUiLAogICJkaXZvcmNlIiwKICAiZGl6enkiLAogICJkb2N0b3IiLAogICJkb2N1bWVudCIsCiAgImRvZyIsCiAgImRvbGwiLAogICJkb2xwaGluIiwKICAiZG9tYWluIiwKICAiZG9uYXRlIiwKICAiZG9ua2V5IiwKICAiZG9ub3IiLAogICJkb29yIiwKICAiZG9zZSIsCiAgImRvdWJsZSIsCiAgImRvdmUiLAogICJkcmFmdCIsCiAgImRyYWdvbiIsCiAgImRyYW1hIiwKICAiZHJhc3RpYyIsCiAgImRyYXciLAogICJkcmVhbSIsCiAgImRyZXNzIiwKICAiZHJpZnQiLAogICJkcmlsbCIsCiAgImRyaW5rIiwKICAiZHJpcCIsCiAgImRyaXZlIiwKICAiZHJvcCIsCiAgImRydW0iLAogICJkcnkiLAogICJkdWNrIiwKICAiZHVtYiIsCiAgImR1bmUiLAogICJkdXJpbmciLAogICJkdXN0IiwKICAiZHV0Y2giLAogICJkdXR5IiwKICAiZHdhcmYiLAogICJkeW5hbWljIiwKICAiZWFnZXIiLAogICJlYWdsZSIsCiAgImVhcmx5IiwKICAiZWFybiIsCiAgImVhcnRoIiwKICAiZWFzaWx5IiwKICAiZWFzdCIsCiAgImVhc3kiLAogICJlY2hvIiwKICAiZWNvbG9neSIsCiAgImVjb25vbXkiLAogICJlZGdlIiwKICAiZWRpdCIsCiAgImVkdWNhdGUiLAogICJlZmZvcnQiLAogICJlZ2ciLAogICJlaWdodCIsCiAgImVpdGhlciIsCiAgImVsYm93IiwKICAiZWxkZXIiLAogICJlbGVjdHJpYyIsCiAgImVsZWdhbnQiLAogICJlbGVtZW50IiwKICAiZWxlcGhhbnQiLAogICJlbGV2YXRvciIsCiAgImVsaXRlIiwKICAiZWxzZSIsCiAgImVtYmFyayIsCiAgImVtYm9keSIsCiAgImVtYnJhY2UiLAogICJlbWVyZ2UiLAogICJlbW90aW9uIiwKICAiZW1wbG95IiwKICAiZW1wb3dlciIsCiAgImVtcHR5IiwKICAiZW5hYmxlIiwKICAiZW5hY3QiLAogICJlbmQiLAogICJlbmRsZXNzIiwKICAiZW5kb3JzZSIsCiAgImVuZW15IiwKICAiZW5lcmd5IiwKICAiZW5mb3JjZSIsCiAgImVuZ2FnZSIsCiAgImVuZ2luZSIsCiAgImVuaGFuY2UiLAogICJlbmpveSIsCiAgImVubGlzdCIsCiAgImVub3VnaCIsCiAgImVucmljaCIsCiAgImVucm9sbCIsCiAgImVuc3VyZSIsCiAgImVudGVyIiwKICAiZW50aXJlIiwKICAiZW50cnkiLAogICJlbnZlbG9wZSIsCiAgImVwaXNvZGUiLAogICJlcXVhbCIsCiAgImVxdWlwIiwKICAiZXJhIiwKICAiZXJhc2UiLAogICJlcm9kZSIsCiAgImVyb3Npb24iLAogICJlcnJvciIsCiAgImVydXB0IiwKICAiZXNjYXBlIiwKICAiZXNzYXkiLAogICJlc3NlbmNlIiwKICAiZXN0YXRlIiwKICAiZXRlcm5hbCIsCiAgImV0aGljcyIsCiAgImV2aWRlbmNlIiwKICAiZXZpbCIsCiAgImV2b2tlIiwKICAiZXZvbHZlIiwKICAiZXhhY3QiLAogICJleGFtcGxlIiwKICAiZXhjZXNzIiwKICAiZXhjaGFuZ2UiLAogICJleGNpdGUiLAogICJleGNsdWRlIiwKICAiZXhjdXNlIiwKICAiZXhlY3V0ZSIsCiAgImV4ZXJjaXNlIiwKICAiZXhoYXVzdCIsCiAgImV4aGliaXQiLAogICJleGlsZSIsCiAgImV4aXN0IiwKICAiZXhpdCIsCiAgImV4b3RpYyIsCiAgImV4cGFuZCIsCiAgImV4cGVjdCIsCiAgImV4cGlyZSIsCiAgImV4cGxhaW4iLAogICJleHBvc2UiLAogICJleHByZXNzIiwKICAiZXh0ZW5kIiwKICAiZXh0cmEiLAogICJleWUiLAogICJleWVicm93IiwKICAiZmFicmljIiwKICAiZmFjZSIsCiAgImZhY3VsdHkiLAogICJmYWRlIiwKICAiZmFpbnQiLAogICJmYWl0aCIsCiAgImZhbGwiLAogICJmYWxzZSIsCiAgImZhbWUiLAogICJmYW1pbHkiLAogICJmYW1vdXMiLAogICJmYW4iLAogICJmYW5jeSIsCiAgImZhbnRhc3kiLAogICJmYXJtIiwKICAiZmFzaGlvbiIsCiAgImZhdCIsCiAgImZhdGFsIiwKICAiZmF0aGVyIiwKICAiZmF0aWd1ZSIsCiAgImZhdWx0IiwKICAiZmF2b3JpdGUiLAogICJmZWF0dXJlIiwKICAiZmVicnVhcnkiLAogICJmZWRlcmFsIiwKICAiZmVlIiwKICAiZmVlZCIsCiAgImZlZWwiLAogICJmZW1hbGUiLAogICJmZW5jZSIsCiAgImZlc3RpdmFsIiwKICAiZmV0Y2giLAogICJmZXZlciIsCiAgImZldyIsCiAgImZpYmVyIiwKICAiZmljdGlvbiIsCiAgImZpZWxkIiwKICAiZmlndXJlIiwKICAiZmlsZSIsCiAgImZpbG0iLAogICJmaWx0ZXIiLAogICJmaW5hbCIsCiAgImZpbmQiLAogICJmaW5lIiwKICAiZmluZ2VyIiwKICAiZmluaXNoIiwKICAiZmlyZSIsCiAgImZpcm0iLAogICJmaXJzdCIsCiAgImZpc2NhbCIsCiAgImZpc2giLAogICJmaXQiLAogICJmaXRuZXNzIiwKICAiZml4IiwKICAiZmxhZyIsCiAgImZsYW1lIiwKICAiZmxhc2giLAogICJmbGF0IiwKICAiZmxhdm9yIiwKICAiZmxlZSIsCiAgImZsaWdodCIsCiAgImZsaXAiLAogICJmbG9hdCIsCiAgImZsb2NrIiwKICAiZmxvb3IiLAogICJmbG93ZXIiLAogICJmbHVpZCIsCiAgImZsdXNoIiwKICAiZmx5IiwKICAiZm9hbSIsCiAgImZvY3VzIiwKICAiZm9nIiwKICAiZm9pbCIsCiAgImZvbGQiLAogICJmb2xsb3ciLAogICJmb29kIiwKICAiZm9vdCIsCiAgImZvcmNlIiwKICAiZm9yZXN0IiwKICAiZm9yZ2V0IiwKICAiZm9yayIsCiAgImZvcnR1bmUiLAogICJmb3J1bSIsCiAgImZvcndhcmQiLAogICJmb3NzaWwiLAogICJmb3N0ZXIiLAogICJmb3VuZCIsCiAgImZveCIsCiAgImZyYWdpbGUiLAogICJmcmFtZSIsCiAgImZyZXF1ZW50IiwKICAiZnJlc2giLAogICJmcmllbmQiLAogICJmcmluZ2UiLAogICJmcm9nIiwKICAiZnJvbnQiLAogICJmcm9zdCIsCiAgImZyb3duIiwKICAiZnJvemVuIiwKICAiZnJ1aXQiLAogICJmdWVsIiwKICAiZnVuIiwKICAiZnVubnkiLAogICJmdXJuYWNlIiwKICAiZnVyeSIsCiAgImZ1dHVyZSIsCiAgImdhZGdldCIsCiAgImdhaW4iLAogICJnYWxheHkiLAogICJnYWxsZXJ5IiwKICAiZ2FtZSIsCiAgImdhcCIsCiAgImdhcmFnZSIsCiAgImdhcmJhZ2UiLAogICJnYXJkZW4iLAogICJnYXJsaWMiLAogICJnYXJtZW50IiwKICAiZ2FzIiwKICAiZ2FzcCIsCiAgImdhdGUiLAogICJnYXRoZXIiLAogICJnYXVnZSIsCiAgImdhemUiLAogICJnZW5lcmFsIiwKICAiZ2VuaXVzIiwKICAiZ2VucmUiLAogICJnZW50bGUiLAogICJnZW51aW5lIiwKICAiZ2VzdHVyZSIsCiAgImdob3N0IiwKICAiZ2lhbnQiLAogICJnaWZ0IiwKICAiZ2lnZ2xlIiwKICAiZ2luZ2VyIiwKICAiZ2lyYWZmZSIsCiAgImdpcmwiLAogICJnaXZlIiwKICAiZ2xhZCIsCiAgImdsYW5jZSIsCiAgImdsYXJlIiwKICAiZ2xhc3MiLAogICJnbGlkZSIsCiAgImdsaW1wc2UiLAogICJnbG9iZSIsCiAgImdsb29tIiwKICAiZ2xvcnkiLAogICJnbG92ZSIsCiAgImdsb3ciLAogICJnbHVlIiwKICAiZ29hdCIsCiAgImdvZGRlc3MiLAogICJnb2xkIiwKICAiZ29vZCIsCiAgImdvb3NlIiwKICAiZ29yaWxsYSIsCiAgImdvc3BlbCIsCiAgImdvc3NpcCIsCiAgImdvdmVybiIsCiAgImdvd24iLAogICJncmFiIiwKICAiZ3JhY2UiLAogICJncmFpbiIsCiAgImdyYW50IiwKICAiZ3JhcGUiLAogICJncmFzcyIsCiAgImdyYXZpdHkiLAogICJncmVhdCIsCiAgImdyZWVuIiwKICAiZ3JpZCIsCiAgImdyaWVmIiwKICAiZ3JpdCIsCiAgImdyb2NlcnkiLAogICJncm91cCIsCiAgImdyb3ciLAogICJncnVudCIsCiAgImd1YXJkIiwKICAiZ3Vlc3MiLAogICJndWlkZSIsCiAgImd1aWx0IiwKICAiZ3VpdGFyIiwKICAiZ3VuIiwKICAiZ3ltIiwKICAiaGFiaXQiLAogICJoYWlyIiwKICAiaGFsZiIsCiAgImhhbW1lciIsCiAgImhhbXN0ZXIiLAogICJoYW5kIiwKICAiaGFwcHkiLAogICJoYXJib3IiLAogICJoYXJkIiwKICAiaGFyc2giLAogICJoYXJ2ZXN0IiwKICAiaGF0IiwKICAiaGF2ZSIsCiAgImhhd2siLAogICJoYXphcmQiLAogICJoZWFkIiwKICAiaGVhbHRoIiwKICAiaGVhcnQiLAogICJoZWF2eSIsCiAgImhlZGdlaG9nIiwKICAiaGVpZ2h0IiwKICAiaGVsbG8iLAogICJoZWxtZXQiLAogICJoZWxwIiwKICAiaGVuIiwKICAiaGVybyIsCiAgImhpZGRlbiIsCiAgImhpZ2giLAogICJoaWxsIiwKICAiaGludCIsCiAgImhpcCIsCiAgImhpcmUiLAogICJoaXN0b3J5IiwKICAiaG9iYnkiLAogICJob2NrZXkiLAogICJob2xkIiwKICAiaG9sZSIsCiAgImhvbGlkYXkiLAogICJob2xsb3ciLAogICJob21lIiwKICAiaG9uZXkiLAogICJob29kIiwKICAiaG9wZSIsCiAgImhvcm4iLAogICJob3Jyb3IiLAogICJob3JzZSIsCiAgImhvc3BpdGFsIiwKICAiaG9zdCIsCiAgImhvdGVsIiwKICAiaG91ciIsCiAgImhvdmVyIiwKICAiaHViIiwKICAiaHVnZSIsCiAgImh1bWFuIiwKICAiaHVtYmxlIiwKICAiaHVtb3IiLAogICJodW5kcmVkIiwKICAiaHVuZ3J5IiwKICAiaHVudCIsCiAgImh1cmRsZSIsCiAgImh1cnJ5IiwKICAiaHVydCIsCiAgImh1c2JhbmQiLAogICJoeWJyaWQiLAogICJpY2UiLAogICJpY29uIiwKICAiaWRlYSIsCiAgImlkZW50aWZ5IiwKICAiaWRsZSIsCiAgImlnbm9yZSIsCiAgImlsbCIsCiAgImlsbGVnYWwiLAogICJpbGxuZXNzIiwKICAiaW1hZ2UiLAogICJpbWl0YXRlIiwKICAiaW1tZW5zZSIsCiAgImltbXVuZSIsCiAgImltcGFjdCIsCiAgImltcG9zZSIsCiAgImltcHJvdmUiLAogICJpbXB1bHNlIiwKICAiaW5jaCIsCiAgImluY2x1ZGUiLAogICJpbmNvbWUiLAogICJpbmNyZWFzZSIsCiAgImluZGV4IiwKICAiaW5kaWNhdGUiLAogICJpbmRvb3IiLAogICJpbmR1c3RyeSIsCiAgImluZmFudCIsCiAgImluZmxpY3QiLAogICJpbmZvcm0iLAogICJpbmhhbGUiLAogICJpbmhlcml0IiwKICAiaW5pdGlhbCIsCiAgImluamVjdCIsCiAgImluanVyeSIsCiAgImlubWF0ZSIsCiAgImlubmVyIiwKICAiaW5ub2NlbnQiLAogICJpbnB1dCIsCiAgImlucXVpcnkiLAogICJpbnNhbmUiLAogICJpbnNlY3QiLAogICJpbnNpZGUiLAogICJpbnNwaXJlIiwKICAiaW5zdGFsbCIsCiAgImludGFjdCIsCiAgImludGVyZXN0IiwKICAiaW50byIsCiAgImludmVzdCIsCiAgImludml0ZSIsCiAgImludm9sdmUiLAogICJpcm9uIiwKICAiaXNsYW5kIiwKICAiaXNvbGF0ZSIsCiAgImlzc3VlIiwKICAiaXRlbSIsCiAgIml2b3J5IiwKICAiamFja2V0IiwKICAiamFndWFyIiwKICAiamFyIiwKICAiamF6eiIsCiAgImplYWxvdXMiLAogICJqZWFucyIsCiAgImplbGx5IiwKICAiamV3ZWwiLAogICJqb2IiLAogICJqb2luIiwKICAiam9rZSIsCiAgImpvdXJuZXkiLAogICJqb3kiLAogICJqdWRnZSIsCiAgImp1aWNlIiwKICAianVtcCIsCiAgImp1bmdsZSIsCiAgImp1bmlvciIsCiAgImp1bmsiLAogICJqdXN0IiwKICAia2FuZ2Fyb28iLAogICJrZWVuIiwKICAia2VlcCIsCiAgImtldGNodXAiLAogICJrZXkiLAogICJraWNrIiwKICAia2lkIiwKICAia2lkbmV5IiwKICAia2luZCIsCiAgImtpbmdkb20iLAogICJraXNzIiwKICAia2l0IiwKICAia2l0Y2hlbiIsCiAgImtpdGUiLAogICJraXR0ZW4iLAogICJraXdpIiwKICAia25lZSIsCiAgImtuaWZlIiwKICAia25vY2siLAogICJrbm93IiwKICAibGFiIiwKICAibGFiZWwiLAogICJsYWJvciIsCiAgImxhZGRlciIsCiAgImxhZHkiLAogICJsYWtlIiwKICAibGFtcCIsCiAgImxhbmd1YWdlIiwKICAibGFwdG9wIiwKICAibGFyZ2UiLAogICJsYXRlciIsCiAgImxhdGluIiwKICAibGF1Z2giLAogICJsYXVuZHJ5IiwKICAibGF2YSIsCiAgImxhdyIsCiAgImxhd24iLAogICJsYXdzdWl0IiwKICAibGF5ZXIiLAogICJsYXp5IiwKICAibGVhZGVyIiwKICAibGVhZiIsCiAgImxlYXJuIiwKICAibGVhdmUiLAogICJsZWN0dXJlIiwKICAibGVmdCIsCiAgImxlZyIsCiAgImxlZ2FsIiwKICAibGVnZW5kIiwKICAibGVpc3VyZSIsCiAgImxlbW9uIiwKICAibGVuZCIsCiAgImxlbmd0aCIsCiAgImxlbnMiLAogICJsZW9wYXJkIiwKICAibGVzc29uIiwKICAibGV0dGVyIiwKICAibGV2ZWwiLAogICJsaWFyIiwKICAibGliZXJ0eSIsCiAgImxpYnJhcnkiLAogICJsaWNlbnNlIiwKICAibGlmZSIsCiAgImxpZnQiLAogICJsaWdodCIsCiAgImxpa2UiLAogICJsaW1iIiwKICAibGltaXQiLAogICJsaW5rIiwKICAibGlvbiIsCiAgImxpcXVpZCIsCiAgImxpc3QiLAogICJsaXR0bGUiLAogICJsaXZlIiwKICAibGl6YXJkIiwKICAibG9hZCIsCiAgImxvYW4iLAogICJsb2JzdGVyIiwKICAibG9jYWwiLAogICJsb2NrIiwKICAibG9naWMiLAogICJsb25lbHkiLAogICJsb25nIiwKICAibG9vcCIsCiAgImxvdHRlcnkiLAogICJsb3VkIiwKICAibG91bmdlIiwKICAibG92ZSIsCiAgImxveWFsIiwKICAibHVja3kiLAogICJsdWdnYWdlIiwKICAibHVtYmVyIiwKICAibHVuYXIiLAogICJsdW5jaCIsCiAgImx1eHVyeSIsCiAgImx5cmljcyIsCiAgIm1hY2hpbmUiLAogICJtYWQiLAogICJtYWdpYyIsCiAgIm1hZ25ldCIsCiAgIm1haWQiLAogICJtYWlsIiwKICAibWFpbiIsCiAgIm1ham9yIiwKICAibWFrZSIsCiAgIm1hbW1hbCIsCiAgIm1hbiIsCiAgIm1hbmFnZSIsCiAgIm1hbmRhdGUiLAogICJtYW5nbyIsCiAgIm1hbnNpb24iLAogICJtYW51YWwiLAogICJtYXBsZSIsCiAgIm1hcmJsZSIsCiAgIm1hcmNoIiwKICAibWFyZ2luIiwKICAibWFyaW5lIiwKICAibWFya2V0IiwKICAibWFycmlhZ2UiLAogICJtYXNrIiwKICAibWFzcyIsCiAgIm1hc3RlciIsCiAgIm1hdGNoIiwKICAibWF0ZXJpYWwiLAogICJtYXRoIiwKICAibWF0cml4IiwKICAibWF0dGVyIiwKICAibWF4aW11bSIsCiAgIm1hemUiLAogICJtZWFkb3ciLAogICJtZWFuIiwKICAibWVhc3VyZSIsCiAgIm1lYXQiLAogICJtZWNoYW5pYyIsCiAgIm1lZGFsIiwKICAibWVkaWEiLAogICJtZWxvZHkiLAogICJtZWx0IiwKICAibWVtYmVyIiwKICAibWVtb3J5IiwKICAibWVudGlvbiIsCiAgIm1lbnUiLAogICJtZXJjeSIsCiAgIm1lcmdlIiwKICAibWVyaXQiLAogICJtZXJyeSIsCiAgIm1lc2giLAogICJtZXNzYWdlIiwKICAibWV0YWwiLAogICJtZXRob2QiLAogICJtaWRkbGUiLAogICJtaWRuaWdodCIsCiAgIm1pbGsiLAogICJtaWxsaW9uIiwKICAibWltaWMiLAogICJtaW5kIiwKICAibWluaW11bSIsCiAgIm1pbm9yIiwKICAibWludXRlIiwKICAibWlyYWNsZSIsCiAgIm1pcnJvciIsCiAgIm1pc2VyeSIsCiAgIm1pc3MiLAogICJtaXN0YWtlIiwKICAibWl4IiwKICAibWl4ZWQiLAogICJtaXh0dXJlIiwKICAibW9iaWxlIiwKICAibW9kZWwiLAogICJtb2RpZnkiLAogICJtb20iLAogICJtb21lbnQiLAogICJtb25pdG9yIiwKICAibW9ua2V5IiwKICAibW9uc3RlciIsCiAgIm1vbnRoIiwKICAibW9vbiIsCiAgIm1vcmFsIiwKICAibW9yZSIsCiAgIm1vcm5pbmciLAogICJtb3NxdWl0byIsCiAgIm1vdGhlciIsCiAgIm1vdGlvbiIsCiAgIm1vdG9yIiwKICAibW91bnRhaW4iLAogICJtb3VzZSIsCiAgIm1vdmUiLAogICJtb3ZpZSIsCiAgIm11Y2giLAogICJtdWZmaW4iLAogICJtdWxlIiwKICAibXVsdGlwbHkiLAogICJtdXNjbGUiLAogICJtdXNldW0iLAogICJtdXNocm9vbSIsCiAgIm11c2ljIiwKICAibXVzdCIsCiAgIm11dHVhbCIsCiAgIm15c2VsZiIsCiAgIm15c3RlcnkiLAogICJteXRoIiwKICAibmFpdmUiLAogICJuYW1lIiwKICAibmFwa2luIiwKICAibmFycm93IiwKICAibmFzdHkiLAogICJuYXRpb24iLAogICJuYXR1cmUiLAogICJuZWFyIiwKICAibmVjayIsCiAgIm5lZWQiLAogICJuZWdhdGl2ZSIsCiAgIm5lZ2xlY3QiLAogICJuZWl0aGVyIiwKICAibmVwaGV3IiwKICAibmVydmUiLAogICJuZXN0IiwKICAibmV0IiwKICAibmV0d29yayIsCiAgIm5ldXRyYWwiLAogICJuZXZlciIsCiAgIm5ld3MiLAogICJuZXh0IiwKICAibmljZSIsCiAgIm5pZ2h0IiwKICAibm9ibGUiLAogICJub2lzZSIsCiAgIm5vbWluZWUiLAogICJub29kbGUiLAogICJub3JtYWwiLAogICJub3J0aCIsCiAgIm5vc2UiLAogICJub3RhYmxlIiwKICAibm90ZSIsCiAgIm5vdGhpbmciLAogICJub3RpY2UiLAogICJub3ZlbCIsCiAgIm5vdyIsCiAgIm51Y2xlYXIiLAogICJudW1iZXIiLAogICJudXJzZSIsCiAgIm51dCIsCiAgIm9hayIsCiAgIm9iZXkiLAogICJvYmplY3QiLAogICJvYmxpZ2UiLAogICJvYnNjdXJlIiwKICAib2JzZXJ2ZSIsCiAgIm9idGFpbiIsCiAgIm9idmlvdXMiLAogICJvY2N1ciIsCiAgIm9jZWFuIiwKICAib2N0b2JlciIsCiAgIm9kb3IiLAogICJvZmYiLAogICJvZmZlciIsCiAgIm9mZmljZSIsCiAgIm9mdGVuIiwKICAib2lsIiwKICAib2theSIsCiAgIm9sZCIsCiAgIm9saXZlIiwKICAib2x5bXBpYyIsCiAgIm9taXQiLAogICJvbmNlIiwKICAib25lIiwKICAib25pb24iLAogICJvbmxpbmUiLAogICJvbmx5IiwKICAib3BlbiIsCiAgIm9wZXJhIiwKICAib3BpbmlvbiIsCiAgIm9wcG9zZSIsCiAgIm9wdGlvbiIsCiAgIm9yYW5nZSIsCiAgIm9yYml0IiwKICAib3JjaGFyZCIsCiAgIm9yZGVyIiwKICAib3JkaW5hcnkiLAogICJvcmdhbiIsCiAgIm9yaWVudCIsCiAgIm9yaWdpbmFsIiwKICAib3JwaGFuIiwKICAib3N0cmljaCIsCiAgIm90aGVyIiwKICAib3V0ZG9vciIsCiAgIm91dGVyIiwKICAib3V0cHV0IiwKICAib3V0c2lkZSIsCiAgIm92YWwiLAogICJvdmVuIiwKICAib3ZlciIsCiAgIm93biIsCiAgIm93bmVyIiwKICAib3h5Z2VuIiwKICAib3lzdGVyIiwKICAib3pvbmUiLAogICJwYWN0IiwKICAicGFkZGxlIiwKICAicGFnZSIsCiAgInBhaXIiLAogICJwYWxhY2UiLAogICJwYWxtIiwKICAicGFuZGEiLAogICJwYW5lbCIsCiAgInBhbmljIiwKICAicGFudGhlciIsCiAgInBhcGVyIiwKICAicGFyYWRlIiwKICAicGFyZW50IiwKICAicGFyayIsCiAgInBhcnJvdCIsCiAgInBhcnR5IiwKICAicGFzcyIsCiAgInBhdGNoIiwKICAicGF0aCIsCiAgInBhdGllbnQiLAogICJwYXRyb2wiLAogICJwYXR0ZXJuIiwKICAicGF1c2UiLAogICJwYXZlIiwKICAicGF5bWVudCIsCiAgInBlYWNlIiwKICAicGVhbnV0IiwKICAicGVhciIsCiAgInBlYXNhbnQiLAogICJwZWxpY2FuIiwKICAicGVuIiwKICAicGVuYWx0eSIsCiAgInBlbmNpbCIsCiAgInBlb3BsZSIsCiAgInBlcHBlciIsCiAgInBlcmZlY3QiLAogICJwZXJtaXQiLAogICJwZXJzb24iLAogICJwZXQiLAogICJwaG9uZSIsCiAgInBob3RvIiwKICAicGhyYXNlIiwKICAicGh5c2ljYWwiLAogICJwaWFubyIsCiAgInBpY25pYyIsCiAgInBpY3R1cmUiLAogICJwaWVjZSIsCiAgInBpZyIsCiAgInBpZ2VvbiIsCiAgInBpbGwiLAogICJwaWxvdCIsCiAgInBpbmsiLAogICJwaW9uZWVyIiwKICAicGlwZSIsCiAgInBpc3RvbCIsCiAgInBpdGNoIiwKICAicGl6emEiLAogICJwbGFjZSIsCiAgInBsYW5ldCIsCiAgInBsYXN0aWMiLAogICJwbGF0ZSIsCiAgInBsYXkiLAogICJwbGVhc2UiLAogICJwbGVkZ2UiLAogICJwbHVjayIsCiAgInBsdWciLAogICJwbHVuZ2UiLAogICJwb2VtIiwKICAicG9ldCIsCiAgInBvaW50IiwKICAicG9sYXIiLAogICJwb2xlIiwKICAicG9saWNlIiwKICAicG9uZCIsCiAgInBvbnkiLAogICJwb29sIiwKICAicG9wdWxhciIsCiAgInBvcnRpb24iLAogICJwb3NpdGlvbiIsCiAgInBvc3NpYmxlIiwKICAicG9zdCIsCiAgInBvdGF0byIsCiAgInBvdHRlcnkiLAogICJwb3ZlcnR5IiwKICAicG93ZGVyIiwKICAicG93ZXIiLAogICJwcmFjdGljZSIsCiAgInByYWlzZSIsCiAgInByZWRpY3QiLAogICJwcmVmZXIiLAogICJwcmVwYXJlIiwKICAicHJlc2VudCIsCiAgInByZXR0eSIsCiAgInByZXZlbnQiLAogICJwcmljZSIsCiAgInByaWRlIiwKICAicHJpbWFyeSIsCiAgInByaW50IiwKICAicHJpb3JpdHkiLAogICJwcmlzb24iLAogICJwcml2YXRlIiwKICAicHJpemUiLAogICJwcm9ibGVtIiwKICAicHJvY2VzcyIsCiAgInByb2R1Y2UiLAogICJwcm9maXQiLAogICJwcm9ncmFtIiwKICAicHJvamVjdCIsCiAgInByb21vdGUiLAogICJwcm9vZiIsCiAgInByb3BlcnR5IiwKICAicHJvc3BlciIsCiAgInByb3RlY3QiLAogICJwcm91ZCIsCiAgInByb3ZpZGUiLAogICJwdWJsaWMiLAogICJwdWRkaW5nIiwKICAicHVsbCIsCiAgInB1bHAiLAogICJwdWxzZSIsCiAgInB1bXBraW4iLAogICJwdW5jaCIsCiAgInB1cGlsIiwKICAicHVwcHkiLAogICJwdXJjaGFzZSIsCiAgInB1cml0eSIsCiAgInB1cnBvc2UiLAogICJwdXJzZSIsCiAgInB1c2giLAogICJwdXQiLAogICJwdXp6bGUiLAogICJweXJhbWlkIiwKICAicXVhbGl0eSIsCiAgInF1YW50dW0iLAogICJxdWFydGVyIiwKICAicXVlc3Rpb24iLAogICJxdWljayIsCiAgInF1aXQiLAogICJxdWl6IiwKICAicXVvdGUiLAogICJyYWJiaXQiLAogICJyYWNjb29uIiwKICAicmFjZSIsCiAgInJhY2siLAogICJyYWRhciIsCiAgInJhZGlvIiwKICAicmFpbCIsCiAgInJhaW4iLAogICJyYWlzZSIsCiAgInJhbGx5IiwKICAicmFtcCIsCiAgInJhbmNoIiwKICAicmFuZG9tIiwKICAicmFuZ2UiLAogICJyYXBpZCIsCiAgInJhcmUiLAogICJyYXRlIiwKICAicmF0aGVyIiwKICAicmF2ZW4iLAogICJyYXciLAogICJyYXpvciIsCiAgInJlYWR5IiwKICAicmVhbCIsCiAgInJlYXNvbiIsCiAgInJlYmVsIiwKICAicmVidWlsZCIsCiAgInJlY2FsbCIsCiAgInJlY2VpdmUiLAogICJyZWNpcGUiLAogICJyZWNvcmQiLAogICJyZWN5Y2xlIiwKICAicmVkdWNlIiwKICAicmVmbGVjdCIsCiAgInJlZm9ybSIsCiAgInJlZnVzZSIsCiAgInJlZ2lvbiIsCiAgInJlZ3JldCIsCiAgInJlZ3VsYXIiLAogICJyZWplY3QiLAogICJyZWxheCIsCiAgInJlbGVhc2UiLAogICJyZWxpZWYiLAogICJyZWx5IiwKICAicmVtYWluIiwKICAicmVtZW1iZXIiLAogICJyZW1pbmQiLAogICJyZW1vdmUiLAogICJyZW5kZXIiLAogICJyZW5ldyIsCiAgInJlbnQiLAogICJyZW9wZW4iLAogICJyZXBhaXIiLAogICJyZXBlYXQiLAogICJyZXBsYWNlIiwKICAicmVwb3J0IiwKICAicmVxdWlyZSIsCiAgInJlc2N1ZSIsCiAgInJlc2VtYmxlIiwKICAicmVzaXN0IiwKICAicmVzb3VyY2UiLAogICJyZXNwb25zZSIsCiAgInJlc3VsdCIsCiAgInJldGlyZSIsCiAgInJldHJlYXQiLAogICJyZXR1cm4iLAogICJyZXVuaW9uIiwKICAicmV2ZWFsIiwKICAicmV2aWV3IiwKICAicmV3YXJkIiwKICAicmh5dGhtIiwKICAicmliIiwKICAicmliYm9uIiwKICAicmljZSIsCiAgInJpY2giLAogICJyaWRlIiwKICAicmlkZ2UiLAogICJyaWZsZSIsCiAgInJpZ2h0IiwKICAicmlnaWQiLAogICJyaW5nIiwKICAicmlvdCIsCiAgInJpcHBsZSIsCiAgInJpc2siLAogICJyaXR1YWwiLAogICJyaXZhbCIsCiAgInJpdmVyIiwKICAicm9hZCIsCiAgInJvYXN0IiwKICAicm9ib3QiLAogICJyb2J1c3QiLAogICJyb2NrZXQiLAogICJyb21hbmNlIiwKICAicm9vZiIsCiAgInJvb2tpZSIsCiAgInJvb20iLAogICJyb3NlIiwKICAicm90YXRlIiwKICAicm91Z2giLAogICJyb3VuZCIsCiAgInJvdXRlIiwKICAicm95YWwiLAogICJydWJiZXIiLAogICJydWRlIiwKICAicnVnIiwKICAicnVsZSIsCiAgInJ1biIsCiAgInJ1bndheSIsCiAgInJ1cmFsIiwKICAic2FkIiwKICAic2FkZGxlIiwKICAic2FkbmVzcyIsCiAgInNhZmUiLAogICJzYWlsIiwKICAic2FsYWQiLAogICJzYWxtb24iLAogICJzYWxvbiIsCiAgInNhbHQiLAogICJzYWx1dGUiLAogICJzYW1lIiwKICAic2FtcGxlIiwKICAic2FuZCIsCiAgInNhdGlzZnkiLAogICJzYXRvc2hpIiwKICAic2F1Y2UiLAogICJzYXVzYWdlIiwKICAic2F2ZSIsCiAgInNheSIsCiAgInNjYWxlIiwKICAic2NhbiIsCiAgInNjYXJlIiwKICAic2NhdHRlciIsCiAgInNjZW5lIiwKICAic2NoZW1lIiwKICAic2Nob29sIiwKICAic2NpZW5jZSIsCiAgInNjaXNzb3JzIiwKICAic2NvcnBpb24iLAogICJzY291dCIsCiAgInNjcmFwIiwKICAic2NyZWVuIiwKICAic2NyaXB0IiwKICAic2NydWIiLAogICJzZWEiLAogICJzZWFyY2giLAogICJzZWFzb24iLAogICJzZWF0IiwKICAic2Vjb25kIiwKICAic2VjcmV0IiwKICAic2VjdGlvbiIsCiAgInNlY3VyaXR5IiwKICAic2VlZCIsCiAgInNlZWsiLAogICJzZWdtZW50IiwKICAic2VsZWN0IiwKICAic2VsbCIsCiAgInNlbWluYXIiLAogICJzZW5pb3IiLAogICJzZW5zZSIsCiAgInNlbnRlbmNlIiwKICAic2VyaWVzIiwKICAic2VydmljZSIsCiAgInNlc3Npb24iLAogICJzZXR0bGUiLAogICJzZXR1cCIsCiAgInNldmVuIiwKICAic2hhZG93IiwKICAic2hhZnQiLAogICJzaGFsbG93IiwKICAic2hhcmUiLAogICJzaGVkIiwKICAic2hlbGwiLAogICJzaGVyaWZmIiwKICAic2hpZWxkIiwKICAic2hpZnQiLAogICJzaGluZSIsCiAgInNoaXAiLAogICJzaGl2ZXIiLAogICJzaG9jayIsCiAgInNob2UiLAogICJzaG9vdCIsCiAgInNob3AiLAogICJzaG9ydCIsCiAgInNob3VsZGVyIiwKICAic2hvdmUiLAogICJzaHJpbXAiLAogICJzaHJ1ZyIsCiAgInNodWZmbGUiLAogICJzaHkiLAogICJzaWJsaW5nIiwKICAic2ljayIsCiAgInNpZGUiLAogICJzaWVnZSIsCiAgInNpZ2h0IiwKICAic2lnbiIsCiAgInNpbGVudCIsCiAgInNpbGsiLAogICJzaWxseSIsCiAgInNpbHZlciIsCiAgInNpbWlsYXIiLAogICJzaW1wbGUiLAogICJzaW5jZSIsCiAgInNpbmciLAogICJzaXJlbiIsCiAgInNpc3RlciIsCiAgInNpdHVhdGUiLAogICJzaXgiLAogICJzaXplIiwKICAic2thdGUiLAogICJza2V0Y2giLAogICJza2kiLAogICJza2lsbCIsCiAgInNraW4iLAogICJza2lydCIsCiAgInNrdWxsIiwKICAic2xhYiIsCiAgInNsYW0iLAogICJzbGVlcCIsCiAgInNsZW5kZXIiLAogICJzbGljZSIsCiAgInNsaWRlIiwKICAic2xpZ2h0IiwKICAic2xpbSIsCiAgInNsb2dhbiIsCiAgInNsb3QiLAogICJzbG93IiwKICAic2x1c2giLAogICJzbWFsbCIsCiAgInNtYXJ0IiwKICAic21pbGUiLAogICJzbW9rZSIsCiAgInNtb290aCIsCiAgInNuYWNrIiwKICAic25ha2UiLAogICJzbmFwIiwKICAic25pZmYiLAogICJzbm93IiwKICAic29hcCIsCiAgInNvY2NlciIsCiAgInNvY2lhbCIsCiAgInNvY2siLAogICJzb2RhIiwKICAic29mdCIsCiAgInNvbGFyIiwKICAic29sZGllciIsCiAgInNvbGlkIiwKICAic29sdXRpb24iLAogICJzb2x2ZSIsCiAgInNvbWVvbmUiLAogICJzb25nIiwKICAic29vbiIsCiAgInNvcnJ5IiwKICAic29ydCIsCiAgInNvdWwiLAogICJzb3VuZCIsCiAgInNvdXAiLAogICJzb3VyY2UiLAogICJzb3V0aCIsCiAgInNwYWNlIiwKICAic3BhcmUiLAogICJzcGF0aWFsIiwKICAic3Bhd24iLAogICJzcGVhayIsCiAgInNwZWNpYWwiLAogICJzcGVlZCIsCiAgInNwZWxsIiwKICAic3BlbmQiLAogICJzcGhlcmUiLAogICJzcGljZSIsCiAgInNwaWRlciIsCiAgInNwaWtlIiwKICAic3BpbiIsCiAgInNwaXJpdCIsCiAgInNwbGl0IiwKICAic3BvaWwiLAogICJzcG9uc29yIiwKICAic3Bvb24iLAogICJzcG9ydCIsCiAgInNwb3QiLAogICJzcHJheSIsCiAgInNwcmVhZCIsCiAgInNwcmluZyIsCiAgInNweSIsCiAgInNxdWFyZSIsCiAgInNxdWVlemUiLAogICJzcXVpcnJlbCIsCiAgInN0YWJsZSIsCiAgInN0YWRpdW0iLAogICJzdGFmZiIsCiAgInN0YWdlIiwKICAic3RhaXJzIiwKICAic3RhbXAiLAogICJzdGFuZCIsCiAgInN0YXJ0IiwKICAic3RhdGUiLAogICJzdGF5IiwKICAic3RlYWsiLAogICJzdGVlbCIsCiAgInN0ZW0iLAogICJzdGVwIiwKICAic3RlcmVvIiwKICAic3RpY2siLAogICJzdGlsbCIsCiAgInN0aW5nIiwKICAic3RvY2siLAogICJzdG9tYWNoIiwKICAic3RvbmUiLAogICJzdG9vbCIsCiAgInN0b3J5IiwKICAic3RvdmUiLAogICJzdHJhdGVneSIsCiAgInN0cmVldCIsCiAgInN0cmlrZSIsCiAgInN0cm9uZyIsCiAgInN0cnVnZ2xlIiwKICAic3R1ZGVudCIsCiAgInN0dWZmIiwKICAic3R1bWJsZSIsCiAgInN0eWxlIiwKICAic3ViamVjdCIsCiAgInN1Ym1pdCIsCiAgInN1YndheSIsCiAgInN1Y2Nlc3MiLAogICJzdWNoIiwKICAic3VkZGVuIiwKICAic3VmZmVyIiwKICAic3VnYXIiLAogICJzdWdnZXN0IiwKICAic3VpdCIsCiAgInN1bW1lciIsCiAgInN1biIsCiAgInN1bm55IiwKICAic3Vuc2V0IiwKICAic3VwZXIiLAogICJzdXBwbHkiLAogICJzdXByZW1lIiwKICAic3VyZSIsCiAgInN1cmZhY2UiLAogICJzdXJnZSIsCiAgInN1cnByaXNlIiwKICAic3Vycm91bmQiLAogICJzdXJ2ZXkiLAogICJzdXNwZWN0IiwKICAic3VzdGFpbiIsCiAgInN3YWxsb3ciLAogICJzd2FtcCIsCiAgInN3YXAiLAogICJzd2FybSIsCiAgInN3ZWFyIiwKICAic3dlZXQiLAogICJzd2lmdCIsCiAgInN3aW0iLAogICJzd2luZyIsCiAgInN3aXRjaCIsCiAgInN3b3JkIiwKICAic3ltYm9sIiwKICAic3ltcHRvbSIsCiAgInN5cnVwIiwKICAic3lzdGVtIiwKICAidGFibGUiLAogICJ0YWNrbGUiLAogICJ0YWciLAogICJ0YWlsIiwKICAidGFsZW50IiwKICAidGFsayIsCiAgInRhbmsiLAogICJ0YXBlIiwKICAidGFyZ2V0IiwKICAidGFzayIsCiAgInRhc3RlIiwKICAidGF0dG9vIiwKICAidGF4aSIsCiAgInRlYWNoIiwKICAidGVhbSIsCiAgInRlbGwiLAogICJ0ZW4iLAogICJ0ZW5hbnQiLAogICJ0ZW5uaXMiLAogICJ0ZW50IiwKICAidGVybSIsCiAgInRlc3QiLAogICJ0ZXh0IiwKICAidGhhbmsiLAogICJ0aGF0IiwKICAidGhlbWUiLAogICJ0aGVuIiwKICAidGhlb3J5IiwKICAidGhlcmUiLAogICJ0aGV5IiwKICAidGhpbmciLAogICJ0aGlzIiwKICAidGhvdWdodCIsCiAgInRocmVlIiwKICAidGhyaXZlIiwKICAidGhyb3ciLAogICJ0aHVtYiIsCiAgInRodW5kZXIiLAogICJ0aWNrZXQiLAogICJ0aWRlIiwKICAidGlnZXIiLAogICJ0aWx0IiwKICAidGltYmVyIiwKICAidGltZSIsCiAgInRpbnkiLAogICJ0aXAiLAogICJ0aXJlZCIsCiAgInRpc3N1ZSIsCiAgInRpdGxlIiwKICAidG9hc3QiLAogICJ0b2JhY2NvIiwKICAidG9kYXkiLAogICJ0b2RkbGVyIiwKICAidG9lIiwKICAidG9nZXRoZXIiLAogICJ0b2lsZXQiLAogICJ0b2tlbiIsCiAgInRvbWF0byIsCiAgInRvbW9ycm93IiwKICAidG9uZSIsCiAgInRvbmd1ZSIsCiAgInRvbmlnaHQiLAogICJ0b29sIiwKICAidG9vdGgiLAogICJ0b3AiLAogICJ0b3BpYyIsCiAgInRvcHBsZSIsCiAgInRvcmNoIiwKICAidG9ybmFkbyIsCiAgInRvcnRvaXNlIiwKICAidG9zcyIsCiAgInRvdGFsIiwKICAidG91cmlzdCIsCiAgInRvd2FyZCIsCiAgInRvd2VyIiwKICAidG93biIsCiAgInRveSIsCiAgInRyYWNrIiwKICAidHJhZGUiLAogICJ0cmFmZmljIiwKICAidHJhZ2ljIiwKICAidHJhaW4iLAogICJ0cmFuc2ZlciIsCiAgInRyYXAiLAogICJ0cmFzaCIsCiAgInRyYXZlbCIsCiAgInRyYXkiLAogICJ0cmVhdCIsCiAgInRyZWUiLAogICJ0cmVuZCIsCiAgInRyaWFsIiwKICAidHJpYmUiLAogICJ0cmljayIsCiAgInRyaWdnZXIiLAogICJ0cmltIiwKICAidHJpcCIsCiAgInRyb3BoeSIsCiAgInRyb3VibGUiLAogICJ0cnVjayIsCiAgInRydWUiLAogICJ0cnVseSIsCiAgInRydW1wZXQiLAogICJ0cnVzdCIsCiAgInRydXRoIiwKICAidHJ5IiwKICAidHViZSIsCiAgInR1aXRpb24iLAogICJ0dW1ibGUiLAogICJ0dW5hIiwKICAidHVubmVsIiwKICAidHVya2V5IiwKICAidHVybiIsCiAgInR1cnRsZSIsCiAgInR3ZWx2ZSIsCiAgInR3ZW50eSIsCiAgInR3aWNlIiwKICAidHdpbiIsCiAgInR3aXN0IiwKICAidHdvIiwKICAidHlwZSIsCiAgInR5cGljYWwiLAogICJ1Z2x5IiwKICAidW1icmVsbGEiLAogICJ1bmFibGUiLAogICJ1bmF3YXJlIiwKICAidW5jbGUiLAogICJ1bmNvdmVyIiwKICAidW5kZXIiLAogICJ1bmRvIiwKICAidW5mYWlyIiwKICAidW5mb2xkIiwKICAidW5oYXBweSIsCiAgInVuaWZvcm0iLAogICJ1bmlxdWUiLAogICJ1bml0IiwKICAidW5pdmVyc2UiLAogICJ1bmtub3duIiwKICAidW5sb2NrIiwKICAidW50aWwiLAogICJ1bnVzdWFsIiwKICAidW52ZWlsIiwKICAidXBkYXRlIiwKICAidXBncmFkZSIsCiAgInVwaG9sZCIsCiAgInVwb24iLAogICJ1cHBlciIsCiAgInVwc2V0IiwKICAidXJiYW4iLAogICJ1cmdlIiwKICAidXNhZ2UiLAogICJ1c2UiLAogICJ1c2VkIiwKICAidXNlZnVsIiwKICAidXNlbGVzcyIsCiAgInVzdWFsIiwKICAidXRpbGl0eSIsCiAgInZhY2FudCIsCiAgInZhY3V1bSIsCiAgInZhZ3VlIiwKICAidmFsaWQiLAogICJ2YWxsZXkiLAogICJ2YWx2ZSIsCiAgInZhbiIsCiAgInZhbmlzaCIsCiAgInZhcG9yIiwKICAidmFyaW91cyIsCiAgInZhc3QiLAogICJ2YXVsdCIsCiAgInZlaGljbGUiLAogICJ2ZWx2ZXQiLAogICJ2ZW5kb3IiLAogICJ2ZW50dXJlIiwKICAidmVudWUiLAogICJ2ZXJiIiwKICAidmVyaWZ5IiwKICAidmVyc2lvbiIsCiAgInZlcnkiLAogICJ2ZXNzZWwiLAogICJ2ZXRlcmFuIiwKICAidmlhYmxlIiwKICAidmlicmFudCIsCiAgInZpY2lvdXMiLAogICJ2aWN0b3J5IiwKICAidmlkZW8iLAogICJ2aWV3IiwKICAidmlsbGFnZSIsCiAgInZpbnRhZ2UiLAogICJ2aW9saW4iLAogICJ2aXJ0dWFsIiwKICAidmlydXMiLAogICJ2aXNhIiwKICAidmlzaXQiLAogICJ2aXN1YWwiLAogICJ2aXRhbCIsCiAgInZpdmlkIiwKICAidm9jYWwiLAogICJ2b2ljZSIsCiAgInZvaWQiLAogICJ2b2xjYW5vIiwKICAidm9sdW1lIiwKICAidm90ZSIsCiAgInZveWFnZSIsCiAgIndhZ2UiLAogICJ3YWdvbiIsCiAgIndhaXQiLAogICJ3YWxrIiwKICAid2FsbCIsCiAgIndhbG51dCIsCiAgIndhbnQiLAogICJ3YXJmYXJlIiwKICAid2FybSIsCiAgIndhcnJpb3IiLAogICJ3YXNoIiwKICAid2FzcCIsCiAgIndhc3RlIiwKICAid2F0ZXIiLAogICJ3YXZlIiwKICAid2F5IiwKICAid2VhbHRoIiwKICAid2VhcG9uIiwKICAid2VhciIsCiAgIndlYXNlbCIsCiAgIndlYXRoZXIiLAogICJ3ZWIiLAogICJ3ZWRkaW5nIiwKICAid2Vla2VuZCIsCiAgIndlaXJkIiwKICAid2VsY29tZSIsCiAgIndlc3QiLAogICJ3ZXQiLAogICJ3aGFsZSIsCiAgIndoYXQiLAogICJ3aGVhdCIsCiAgIndoZWVsIiwKICAid2hlbiIsCiAgIndoZXJlIiwKICAid2hpcCIsCiAgIndoaXNwZXIiLAogICJ3aWRlIiwKICAid2lkdGgiLAogICJ3aWZlIiwKICAid2lsZCIsCiAgIndpbGwiLAogICJ3aW4iLAogICJ3aW5kb3ciLAogICJ3aW5lIiwKICAid2luZyIsCiAgIndpbmsiLAogICJ3aW5uZXIiLAogICJ3aW50ZXIiLAogICJ3aXJlIiwKICAid2lzZG9tIiwKICAid2lzZSIsCiAgIndpc2giLAogICJ3aXRuZXNzIiwKICAid29sZiIsCiAgIndvbWFuIiwKICAid29uZGVyIiwKICAid29vZCIsCiAgIndvb2wiLAogICJ3b3JkIiwKICAid29yayIsCiAgIndvcmxkIiwKICAid29ycnkiLAogICJ3b3J0aCIsCiAgIndyYXAiLAogICJ3cmVjayIsCiAgIndyZXN0bGUiLAogICJ3cmlzdCIsCiAgIndyaXRlIiwKICAid3JvbmciLAogICJ5YXJkIiwKICAieWVhciIsCiAgInllbGxvdyIsCiAgInlvdSIsCiAgInlvdW5nIiwKICAieW91dGgiLAogICJ6ZWJyYSIsCiAgInplcm8iLAogICJ6b25lIiwKICAiem9vIgpdCgp9LHt9XSwyNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKLy8gUmVmZXJlbmNlIGh0dHBzOi8vZ2l0aHViLmNvbS9iaXRjb2luL2JpcHMvYmxvYi9tYXN0ZXIvYmlwLTAwNjYubWVkaWF3aWtpCi8vIEZvcm1hdDogMHgzMCBbdG90YWwtbGVuZ3RoXSAweDAyIFtSLWxlbmd0aF0gW1JdIDB4MDIgW1MtbGVuZ3RoXSBbU10KLy8gTk9URTogU0lHSEFTSCBieXRlIGlnbm9yZWQgQU5EIHJlc3RyaWN0ZWQsIHRydW5jYXRlIGJlZm9yZSB1c2UKCmZ1bmN0aW9uIGNoZWNrIChidWZmZXIpIHsKICBpZiAoYnVmZmVyLmxlbmd0aCA8IDgpIHJldHVybiBmYWxzZQogIGlmIChidWZmZXIubGVuZ3RoID4gNzIpIHJldHVybiBmYWxzZQogIGlmIChidWZmZXJbMF0gIT09IDB4MzApIHJldHVybiBmYWxzZQogIGlmIChidWZmZXJbMV0gIT09IGJ1ZmZlci5sZW5ndGggLSAyKSByZXR1cm4gZmFsc2UKICBpZiAoYnVmZmVyWzJdICE9PSAweDAyKSByZXR1cm4gZmFsc2UKCiAgdmFyIGxlblIgPSBidWZmZXJbM10KICBpZiAobGVuUiA9PT0gMCkgcmV0dXJuIGZhbHNlCiAgaWYgKDUgKyBsZW5SID49IGJ1ZmZlci5sZW5ndGgpIHJldHVybiBmYWxzZQogIGlmIChidWZmZXJbNCArIGxlblJdICE9PSAweDAyKSByZXR1cm4gZmFsc2UKCiAgdmFyIGxlblMgPSBidWZmZXJbNSArIGxlblJdCiAgaWYgKGxlblMgPT09IDApIHJldHVybiBmYWxzZQogIGlmICgoNiArIGxlblIgKyBsZW5TKSAhPT0gYnVmZmVyLmxlbmd0aCkgcmV0dXJuIGZhbHNlCgogIGlmIChidWZmZXJbNF0gJiAweDgwKSByZXR1cm4gZmFsc2UKICBpZiAobGVuUiA+IDEgJiYgKGJ1ZmZlcls0XSA9PT0gMHgwMCkgJiYgIShidWZmZXJbNV0gJiAweDgwKSkgcmV0dXJuIGZhbHNlCgogIGlmIChidWZmZXJbbGVuUiArIDZdICYgMHg4MCkgcmV0dXJuIGZhbHNlCiAgaWYgKGxlblMgPiAxICYmIChidWZmZXJbbGVuUiArIDZdID09PSAweDAwKSAmJiAhKGJ1ZmZlcltsZW5SICsgN10gJiAweDgwKSkgcmV0dXJuIGZhbHNlCiAgcmV0dXJuIHRydWUKfQoKZnVuY3Rpb24gZGVjb2RlIChidWZmZXIpIHsKICBpZiAoYnVmZmVyLmxlbmd0aCA8IDgpIHRocm93IG5ldyBFcnJvcignREVSIHNlcXVlbmNlIGxlbmd0aCBpcyB0b28gc2hvcnQnKQogIGlmIChidWZmZXIubGVuZ3RoID4gNzIpIHRocm93IG5ldyBFcnJvcignREVSIHNlcXVlbmNlIGxlbmd0aCBpcyB0b28gbG9uZycpCiAgaWYgKGJ1ZmZlclswXSAhPT0gMHgzMCkgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBERVIgc2VxdWVuY2UnKQogIGlmIChidWZmZXJbMV0gIT09IGJ1ZmZlci5sZW5ndGggLSAyKSB0aHJvdyBuZXcgRXJyb3IoJ0RFUiBzZXF1ZW5jZSBsZW5ndGggaXMgaW52YWxpZCcpCiAgaWYgKGJ1ZmZlclsyXSAhPT0gMHgwMikgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBERVIgaW50ZWdlcicpCgogIHZhciBsZW5SID0gYnVmZmVyWzNdCiAgaWYgKGxlblIgPT09IDApIHRocm93IG5ldyBFcnJvcignUiBsZW5ndGggaXMgemVybycpCiAgaWYgKDUgKyBsZW5SID49IGJ1ZmZlci5sZW5ndGgpIHRocm93IG5ldyBFcnJvcignUiBsZW5ndGggaXMgdG9vIGxvbmcnKQogIGlmIChidWZmZXJbNCArIGxlblJdICE9PSAweDAyKSB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIERFUiBpbnRlZ2VyICgyKScpCgogIHZhciBsZW5TID0gYnVmZmVyWzUgKyBsZW5SXQogIGlmIChsZW5TID09PSAwKSB0aHJvdyBuZXcgRXJyb3IoJ1MgbGVuZ3RoIGlzIHplcm8nKQogIGlmICgoNiArIGxlblIgKyBsZW5TKSAhPT0gYnVmZmVyLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCdTIGxlbmd0aCBpcyBpbnZhbGlkJykKCiAgaWYgKGJ1ZmZlcls0XSAmIDB4ODApIHRocm93IG5ldyBFcnJvcignUiB2YWx1ZSBpcyBuZWdhdGl2ZScpCiAgaWYgKGxlblIgPiAxICYmIChidWZmZXJbNF0gPT09IDB4MDApICYmICEoYnVmZmVyWzVdICYgMHg4MCkpIHRocm93IG5ldyBFcnJvcignUiB2YWx1ZSBleGNlc3NpdmVseSBwYWRkZWQnKQoKICBpZiAoYnVmZmVyW2xlblIgKyA2XSAmIDB4ODApIHRocm93IG5ldyBFcnJvcignUyB2YWx1ZSBpcyBuZWdhdGl2ZScpCiAgaWYgKGxlblMgPiAxICYmIChidWZmZXJbbGVuUiArIDZdID09PSAweDAwKSAmJiAhKGJ1ZmZlcltsZW5SICsgN10gJiAweDgwKSkgdGhyb3cgbmV3IEVycm9yKCdTIHZhbHVlIGV4Y2Vzc2l2ZWx5IHBhZGRlZCcpCgogIC8vIG5vbi1CSVA2NiAtIGV4dHJhY3QgUiwgUyB2YWx1ZXMKICByZXR1cm4gewogICAgcjogYnVmZmVyLnNsaWNlKDQsIDQgKyBsZW5SKSwKICAgIHM6IGJ1ZmZlci5zbGljZSg2ICsgbGVuUikKICB9Cn0KCi8qCiAqIEV4cGVjdHMgciBhbmQgcyB0byBiZSBwb3NpdGl2ZSBERVIgaW50ZWdlcnMuCiAqCiAqIFRoZSBERVIgZm9ybWF0IHVzZXMgdGhlIG1vc3Qgc2lnbmlmaWNhbnQgYml0IGFzIGEgc2lnbiBiaXQgKCYgMHg4MCkuCiAqIElmIHRoZSBzaWduaWZpY2FudCBiaXQgaXMgc2V0IEFORCB0aGUgaW50ZWdlciBpcyBwb3NpdGl2ZSwgYSAweDAwIGlzIHByZXBlbmRlZC4KICoKICogRXhhbXBsZXM6CiAqCiAqICAgICAgMCA9PiAgICAgMHgwMAogKiAgICAgIDEgPT4gICAgIDB4MDEKICogICAgIC0xID0+ICAgICAweGZmCiAqICAgIDEyNyA9PiAgICAgMHg3ZgogKiAgIC0xMjcgPT4gICAgIDB4ODEKICogICAgMTI4ID0+ICAgMHgwMDgwCiAqICAgLTEyOCA9PiAgICAgMHg4MAogKiAgICAyNTUgPT4gICAweDAwZmYKICogICAtMjU1ID0+ICAgMHhmZjAxCiAqICAxNjMwMCA9PiAgIDB4M2ZhYwogKiAtMTYzMDAgPT4gICAweGMwNTQKICogIDYyMzAwID0+IDB4MDBmMzVjCiAqIC02MjMwMCA9PiAweGZmMGNhNAoqLwpmdW5jdGlvbiBlbmNvZGUgKHIsIHMpIHsKICB2YXIgbGVuUiA9IHIubGVuZ3RoCiAgdmFyIGxlblMgPSBzLmxlbmd0aAogIGlmIChsZW5SID09PSAwKSB0aHJvdyBuZXcgRXJyb3IoJ1IgbGVuZ3RoIGlzIHplcm8nKQogIGlmIChsZW5TID09PSAwKSB0aHJvdyBuZXcgRXJyb3IoJ1MgbGVuZ3RoIGlzIHplcm8nKQogIGlmIChsZW5SID4gMzMpIHRocm93IG5ldyBFcnJvcignUiBsZW5ndGggaXMgdG9vIGxvbmcnKQogIGlmIChsZW5TID4gMzMpIHRocm93IG5ldyBFcnJvcignUyBsZW5ndGggaXMgdG9vIGxvbmcnKQogIGlmIChyWzBdICYgMHg4MCkgdGhyb3cgbmV3IEVycm9yKCdSIHZhbHVlIGlzIG5lZ2F0aXZlJykKICBpZiAoc1swXSAmIDB4ODApIHRocm93IG5ldyBFcnJvcignUyB2YWx1ZSBpcyBuZWdhdGl2ZScpCiAgaWYgKGxlblIgPiAxICYmIChyWzBdID09PSAweDAwKSAmJiAhKHJbMV0gJiAweDgwKSkgdGhyb3cgbmV3IEVycm9yKCdSIHZhbHVlIGV4Y2Vzc2l2ZWx5IHBhZGRlZCcpCiAgaWYgKGxlblMgPiAxICYmIChzWzBdID09PSAweDAwKSAmJiAhKHNbMV0gJiAweDgwKSkgdGhyb3cgbmV3IEVycm9yKCdTIHZhbHVlIGV4Y2Vzc2l2ZWx5IHBhZGRlZCcpCgogIHZhciBzaWduYXR1cmUgPSBuZXcgQnVmZmVyKDYgKyBsZW5SICsgbGVuUykKCiAgLy8gMHgzMCBbdG90YWwtbGVuZ3RoXSAweDAyIFtSLWxlbmd0aF0gW1JdIDB4MDIgW1MtbGVuZ3RoXSBbU10KICBzaWduYXR1cmVbMF0gPSAweDMwCiAgc2lnbmF0dXJlWzFdID0gc2lnbmF0dXJlLmxlbmd0aCAtIDIKICBzaWduYXR1cmVbMl0gPSAweDAyCiAgc2lnbmF0dXJlWzNdID0gci5sZW5ndGgKICByLmNvcHkoc2lnbmF0dXJlLCA0KQogIHNpZ25hdHVyZVs0ICsgbGVuUl0gPSAweDAyCiAgc2lnbmF0dXJlWzUgKyBsZW5SXSA9IHMubGVuZ3RoCiAgcy5jb3B5KHNpZ25hdHVyZSwgNiArIGxlblIpCgogIHJldHVybiBzaWduYXR1cmUKfQoKbW9kdWxlLmV4cG9ydHMgPSB7CiAgY2hlY2s6IGNoZWNrLAogIGRlY29kZTogZGVjb2RlLAogIGVuY29kZTogZW5jb2RlCn0KCn0pLmNhbGwodGhpcyxyZXF1aXJlKCJidWZmZXIiKS5CdWZmZXIpCn0seyJidWZmZXIiOjc2fV0sMjU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7CnZhciBiczU4Y2hlY2sgPSByZXF1aXJlKCdiczU4Y2hlY2snKQp2YXIgYnNjcmlwdCA9IHJlcXVpcmUoJy4vc2NyaXB0JykKdmFyIG5ldHdvcmtzID0gcmVxdWlyZSgnLi9uZXR3b3JrcycpCnZhciB0eXBlZm9yY2UgPSByZXF1aXJlKCd0eXBlZm9yY2UnKQp2YXIgdHlwZXMgPSByZXF1aXJlKCcuL3R5cGVzJykKCmZ1bmN0aW9uIGZyb21CYXNlNThDaGVjayAoYWRkcmVzcykgewogIHZhciBwYXlsb2FkID0gYnM1OGNoZWNrLmRlY29kZShhZGRyZXNzKQogIGlmIChwYXlsb2FkLmxlbmd0aCA8IDIxKSB0aHJvdyBuZXcgVHlwZUVycm9yKGFkZHJlc3MgKyAnIGlzIHRvbyBzaG9ydCcpCiAgaWYgKHBheWxvYWQubGVuZ3RoID4gMjEpIHRocm93IG5ldyBUeXBlRXJyb3IoYWRkcmVzcyArICcgaXMgdG9vIGxvbmcnKQoKICB2YXIgdmVyc2lvbiA9IHBheWxvYWRbMF0KICB2YXIgaGFzaCA9IHBheWxvYWQuc2xpY2UoMSkKCiAgcmV0dXJuIHsgaGFzaDogaGFzaCwgdmVyc2lvbjogdmVyc2lvbiB9Cn0KCmZ1bmN0aW9uIGZyb21PdXRwdXRTY3JpcHQgKHNjcmlwdFB1YktleSwgbmV0d29yaykgewogIG5ldHdvcmsgPSBuZXR3b3JrIHx8IG5ldHdvcmtzLmJpdGNvaW4KCiAgaWYgKGJzY3JpcHQuaXNQdWJLZXlIYXNoT3V0cHV0KHNjcmlwdFB1YktleSkpIHJldHVybiB0b0Jhc2U1OENoZWNrKGJzY3JpcHQuY29tcGlsZShzY3JpcHRQdWJLZXkpLnNsaWNlKDMsIDIzKSwgbmV0d29yay5wdWJLZXlIYXNoKQogIGlmIChic2NyaXB0LmlzU2NyaXB0SGFzaE91dHB1dChzY3JpcHRQdWJLZXkpKSByZXR1cm4gdG9CYXNlNThDaGVjayhic2NyaXB0LmNvbXBpbGUoc2NyaXB0UHViS2V5KS5zbGljZSgyLCAyMiksIG5ldHdvcmsuc2NyaXB0SGFzaCkKCiAgdGhyb3cgbmV3IEVycm9yKGJzY3JpcHQudG9BU00oc2NyaXB0UHViS2V5KSArICcgaGFzIG5vIG1hdGNoaW5nIEFkZHJlc3MnKQp9CgpmdW5jdGlvbiB0b0Jhc2U1OENoZWNrIChoYXNoLCB2ZXJzaW9uKSB7CiAgdHlwZWZvcmNlKHR5cGVzLnR1cGxlKHR5cGVzLkhhc2gxNjBiaXQsIHR5cGVzLlVJbnQ4KSwgYXJndW1lbnRzKQoKICB2YXIgcGF5bG9hZCA9IG5ldyBCdWZmZXIoMjEpCiAgcGF5bG9hZC53cml0ZVVJbnQ4KHZlcnNpb24sIDApCiAgaGFzaC5jb3B5KHBheWxvYWQsIDEpCgogIHJldHVybiBiczU4Y2hlY2suZW5jb2RlKHBheWxvYWQpCn0KCmZ1bmN0aW9uIHRvT3V0cHV0U2NyaXB0IChhZGRyZXNzLCBuZXR3b3JrKSB7CiAgbmV0d29yayA9IG5ldHdvcmsgfHwgbmV0d29ya3MuYml0Y29pbgoKICB2YXIgZGVjb2RlID0gZnJvbUJhc2U1OENoZWNrKGFkZHJlc3MpCiAgaWYgKGRlY29kZS52ZXJzaW9uID09PSBuZXR3b3JrLnB1YktleUhhc2gpIHJldHVybiBic2NyaXB0LnB1YktleUhhc2hPdXRwdXQoZGVjb2RlLmhhc2gpCiAgaWYgKGRlY29kZS52ZXJzaW9uID09PSBuZXR3b3JrLnNjcmlwdEhhc2gpIHJldHVybiBic2NyaXB0LnNjcmlwdEhhc2hPdXRwdXQoZGVjb2RlLmhhc2gpCgogIHRocm93IG5ldyBFcnJvcihhZGRyZXNzICsgJyBoYXMgbm8gbWF0Y2hpbmcgU2NyaXB0JykKfQoKbW9kdWxlLmV4cG9ydHMgPSB7CiAgZnJvbUJhc2U1OENoZWNrOiBmcm9tQmFzZTU4Q2hlY2ssCiAgZnJvbU91dHB1dFNjcmlwdDogZnJvbU91dHB1dFNjcmlwdCwKICB0b0Jhc2U1OENoZWNrOiB0b0Jhc2U1OENoZWNrLAogIHRvT3V0cHV0U2NyaXB0OiB0b091dHB1dFNjcmlwdAp9Cgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiLi9uZXR3b3JrcyI6MzUsIi4vc2NyaXB0IjozNywiLi90eXBlcyI6NDEsImJzNThjaGVjayI6NzEsImJ1ZmZlciI6NzYsInR5cGVmb3JjZSI6MTcyfV0sMjY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7CnZhciBidWZmZXJ1dGlscyA9IHJlcXVpcmUoJy4vYnVmZmVydXRpbHMnKQp2YXIgYmNyeXB0byA9IHJlcXVpcmUoJy4vY3J5cHRvJykKdmFyIGNvbXBhcmUgPSByZXF1aXJlKCdidWZmZXItY29tcGFyZScpCgp2YXIgVHJhbnNhY3Rpb24gPSByZXF1aXJlKCcuL3RyYW5zYWN0aW9uJykKCmZ1bmN0aW9uIEJsb2NrICgpIHsKICB0aGlzLnZlcnNpb24gPSAxCiAgdGhpcy5wcmV2SGFzaCA9IG51bGwKICB0aGlzLm1lcmtsZVJvb3QgPSBudWxsCiAgdGhpcy50aW1lc3RhbXAgPSAwCiAgdGhpcy5iaXRzID0gMAogIHRoaXMubm9uY2UgPSAwCn0KCkJsb2NrLmZyb21CdWZmZXIgPSBmdW5jdGlvbiAoYnVmZmVyKSB7CiAgaWYgKGJ1ZmZlci5sZW5ndGggPCA4MCkgdGhyb3cgbmV3IEVycm9yKCdCdWZmZXIgdG9vIHNtYWxsICg8IDgwIGJ5dGVzKScpCgogIHZhciBvZmZzZXQgPSAwCiAgZnVuY3Rpb24gcmVhZFNsaWNlIChuKSB7CiAgICBvZmZzZXQgKz0gbgogICAgcmV0dXJuIGJ1ZmZlci5zbGljZShvZmZzZXQgLSBuLCBvZmZzZXQpCiAgfQoKICBmdW5jdGlvbiByZWFkVUludDMyICgpIHsKICAgIHZhciBpID0gYnVmZmVyLnJlYWRVSW50MzJMRShvZmZzZXQpCiAgICBvZmZzZXQgKz0gNAogICAgcmV0dXJuIGkKICB9CgogIHZhciBibG9jayA9IG5ldyBCbG9jaygpCiAgYmxvY2sudmVyc2lvbiA9IHJlYWRVSW50MzIoKQogIGJsb2NrLnByZXZIYXNoID0gcmVhZFNsaWNlKDMyKQogIGJsb2NrLm1lcmtsZVJvb3QgPSByZWFkU2xpY2UoMzIpCiAgYmxvY2sudGltZXN0YW1wID0gcmVhZFVJbnQzMigpCiAgYmxvY2suYml0cyA9IHJlYWRVSW50MzIoKQogIGJsb2NrLm5vbmNlID0gcmVhZFVJbnQzMigpCgogIGlmIChidWZmZXIubGVuZ3RoID09PSA4MCkgcmV0dXJuIGJsb2NrCgogIGZ1bmN0aW9uIHJlYWRWYXJJbnQgKCkgewogICAgdmFyIHZpID0gYnVmZmVydXRpbHMucmVhZFZhckludChidWZmZXIsIG9mZnNldCkKICAgIG9mZnNldCArPSB2aS5zaXplCiAgICByZXR1cm4gdmkubnVtYmVyCiAgfQoKICBmdW5jdGlvbiByZWFkVHJhbnNhY3Rpb24gKCkgewogICAgdmFyIHR4ID0gVHJhbnNhY3Rpb24uZnJvbUJ1ZmZlcihidWZmZXIuc2xpY2Uob2Zmc2V0KSwgdHJ1ZSkKCiAgICBvZmZzZXQgKz0gdHguYnl0ZUxlbmd0aCgpCiAgICByZXR1cm4gdHgKICB9CgogIHZhciBuVHJhbnNhY3Rpb25zID0gcmVhZFZhckludCgpCiAgYmxvY2sudHJhbnNhY3Rpb25zID0gW10KCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuVHJhbnNhY3Rpb25zOyArK2kpIHsKICAgIHZhciB0eCA9IHJlYWRUcmFuc2FjdGlvbigpCiAgICBibG9jay50cmFuc2FjdGlvbnMucHVzaCh0eCkKICB9CgogIHJldHVybiBibG9jawp9CgpCbG9jay5mcm9tSGV4ID0gZnVuY3Rpb24gKGhleCkgewogIHJldHVybiBCbG9jay5mcm9tQnVmZmVyKG5ldyBCdWZmZXIoaGV4LCAnaGV4JykpCn0KCkJsb2NrLnByb3RvdHlwZS5nZXRIYXNoID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBiY3J5cHRvLmhhc2gyNTYodGhpcy50b0J1ZmZlcih0cnVlKSkKfQoKQmxvY2sucHJvdG90eXBlLmdldElkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBbXS5yZXZlcnNlLmNhbGwodGhpcy5nZXRIYXNoKCkpLnRvU3RyaW5nKCdoZXgnKQp9CgpCbG9jay5wcm90b3R5cGUuZ2V0VVRDRGF0ZSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgZGF0ZSA9IG5ldyBEYXRlKDApIC8vIGVwb2NoCiAgZGF0ZS5zZXRVVENTZWNvbmRzKHRoaXMudGltZXN0YW1wKQoKICByZXR1cm4gZGF0ZQp9CgpCbG9jay5wcm90b3R5cGUudG9CdWZmZXIgPSBmdW5jdGlvbiAoaGVhZGVyc09ubHkpIHsKICB2YXIgYnVmZmVyID0gbmV3IEJ1ZmZlcig4MCkKCiAgdmFyIG9mZnNldCA9IDAKICBmdW5jdGlvbiB3cml0ZVNsaWNlIChzbGljZSkgewogICAgc2xpY2UuY29weShidWZmZXIsIG9mZnNldCkKICAgIG9mZnNldCArPSBzbGljZS5sZW5ndGgKICB9CgogIGZ1bmN0aW9uIHdyaXRlVUludDMyIChpKSB7CiAgICBidWZmZXIud3JpdGVVSW50MzJMRShpLCBvZmZzZXQpCiAgICBvZmZzZXQgKz0gNAogIH0KCiAgd3JpdGVVSW50MzIodGhpcy52ZXJzaW9uKQogIHdyaXRlU2xpY2UodGhpcy5wcmV2SGFzaCkKICB3cml0ZVNsaWNlKHRoaXMubWVya2xlUm9vdCkKICB3cml0ZVVJbnQzMih0aGlzLnRpbWVzdGFtcCkKICB3cml0ZVVJbnQzMih0aGlzLmJpdHMpCiAgd3JpdGVVSW50MzIodGhpcy5ub25jZSkKCiAgaWYgKGhlYWRlcnNPbmx5IHx8ICF0aGlzLnRyYW5zYWN0aW9ucykgcmV0dXJuIGJ1ZmZlcgoKICB2YXIgdHhMZW5CdWZmZXIgPSBidWZmZXJ1dGlscy52YXJJbnRCdWZmZXIodGhpcy50cmFuc2FjdGlvbnMubGVuZ3RoKQogIHZhciB0eEJ1ZmZlcnMgPSB0aGlzLnRyYW5zYWN0aW9ucy5tYXAoZnVuY3Rpb24gKHR4KSB7CiAgICByZXR1cm4gdHgudG9CdWZmZXIoKQogIH0pCgogIHJldHVybiBCdWZmZXIuY29uY2F0KFtidWZmZXIsIHR4TGVuQnVmZmVyXS5jb25jYXQodHhCdWZmZXJzKSkKfQoKQmxvY2sucHJvdG90eXBlLnRvSGV4ID0gZnVuY3Rpb24gKGhlYWRlcnNPbmx5KSB7CiAgcmV0dXJuIHRoaXMudG9CdWZmZXIoaGVhZGVyc09ubHkpLnRvU3RyaW5nKCdoZXgnKQp9CgpCbG9jay5jYWxjdWxhdGVUYXJnZXQgPSBmdW5jdGlvbiAoYml0cykgewogIHZhciBleHBvbmVudCA9ICgoYml0cyAmIDB4ZmYwMDAwMDApID4+IDI0KSAtIDMKICB2YXIgbWFudGlzc2EgPSBiaXRzICYgMHgwMDdmZmZmZgogIHZhciBpID0gMzEgLSBleHBvbmVudAoKICB2YXIgdGFyZ2V0ID0gbmV3IEJ1ZmZlcigzMikKICB0YXJnZXQuZmlsbCgwKQoKICB0YXJnZXRbaV0gPSBtYW50aXNzYSAmIDB4ZmYKICB0YXJnZXRbaSAtIDFdID0gbWFudGlzc2EgPj4gOAogIHRhcmdldFtpIC0gMl0gPSBtYW50aXNzYSA+PiAxNgogIHRhcmdldFtpIC0gM10gPSBtYW50aXNzYSA+PiAyNAoKICByZXR1cm4gdGFyZ2V0Cn0KCkJsb2NrLnByb3RvdHlwZS5jaGVja1Byb29mT2ZXb3JrID0gZnVuY3Rpb24gKCkgewogIHZhciBoYXNoID0gW10ucmV2ZXJzZS5jYWxsKHRoaXMuZ2V0SGFzaCgpKQogIHZhciB0YXJnZXQgPSBCbG9jay5jYWxjdWxhdGVUYXJnZXQodGhpcy5iaXRzKQoKICByZXR1cm4gY29tcGFyZShoYXNoLCB0YXJnZXQpIDw9IDAKfQoKbW9kdWxlLmV4cG9ydHMgPSBCbG9jawoKfSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcikKfSx7Ii4vYnVmZmVydXRpbHMiOjI3LCIuL2NyeXB0byI6MjgsIi4vdHJhbnNhY3Rpb24iOjM5LCJidWZmZXIiOjc2LCJidWZmZXItY29tcGFyZSI6NzJ9XSwyNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKdmFyIG9wY29kZXMgPSByZXF1aXJlKCcuL29wY29kZXMnKQoKLy8gaHR0cHM6Ly9naXRodWIuY29tL2Zlcm9zcy9idWZmZXIvYmxvYi9tYXN0ZXIvaW5kZXguanMjTDExMjcKZnVuY3Rpb24gdmVyaWZ1aW50ICh2YWx1ZSwgbWF4KSB7CiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ251bWJlcicpIHRocm93IG5ldyBFcnJvcignY2Fubm90IHdyaXRlIGEgbm9uLW51bWJlciBhcyBhIG51bWJlcicpCiAgaWYgKHZhbHVlIDwgMCkgdGhyb3cgbmV3IEVycm9yKCdzcGVjaWZpZWQgYSBuZWdhdGl2ZSB2YWx1ZSBmb3Igd3JpdGluZyBhbiB1bnNpZ25lZCB2YWx1ZScpCiAgaWYgKHZhbHVlID4gbWF4KSB0aHJvdyBuZXcgRXJyb3IoJ3ZhbHVlIGlzIGxhcmdlciB0aGFuIG1heGltdW0gdmFsdWUgZm9yIHR5cGUnKQogIGlmIChNYXRoLmZsb29yKHZhbHVlKSAhPT0gdmFsdWUpIHRocm93IG5ldyBFcnJvcigndmFsdWUgaGFzIGEgZnJhY3Rpb25hbCBjb21wb25lbnQnKQp9CgpmdW5jdGlvbiBwdXNoRGF0YVNpemUgKGkpIHsKICByZXR1cm4gaSA8IG9wY29kZXMuT1BfUFVTSERBVEExID8gMQogIDogaSA8IDB4ZmYgPyAyCiAgOiBpIDwgMHhmZmZmID8gMwogIDogNQp9CgpmdW5jdGlvbiByZWFkUHVzaERhdGFJbnQgKGJ1ZmZlciwgb2Zmc2V0KSB7CiAgdmFyIG9wY29kZSA9IGJ1ZmZlci5yZWFkVUludDgob2Zmc2V0KQogIHZhciBudW1iZXIsIHNpemUKCiAgLy8gfjYgYml0CiAgaWYgKG9wY29kZSA8IG9wY29kZXMuT1BfUFVTSERBVEExKSB7CiAgICBudW1iZXIgPSBvcGNvZGUKICAgIHNpemUgPSAxCgogIC8vIDggYml0CiAgfSBlbHNlIGlmIChvcGNvZGUgPT09IG9wY29kZXMuT1BfUFVTSERBVEExKSB7CiAgICBpZiAob2Zmc2V0ICsgMiA+IGJ1ZmZlci5sZW5ndGgpIHJldHVybiBudWxsCiAgICBudW1iZXIgPSBidWZmZXIucmVhZFVJbnQ4KG9mZnNldCArIDEpCiAgICBzaXplID0gMgoKICAvLyAxNiBiaXQKICB9IGVsc2UgaWYgKG9wY29kZSA9PT0gb3Bjb2Rlcy5PUF9QVVNIREFUQTIpIHsKICAgIGlmIChvZmZzZXQgKyAzID4gYnVmZmVyLmxlbmd0aCkgcmV0dXJuIG51bGwKICAgIG51bWJlciA9IGJ1ZmZlci5yZWFkVUludDE2TEUob2Zmc2V0ICsgMSkKICAgIHNpemUgPSAzCgogIC8vIDMyIGJpdAogIH0gZWxzZSB7CiAgICBpZiAob2Zmc2V0ICsgNSA+IGJ1ZmZlci5sZW5ndGgpIHJldHVybiBudWxsCiAgICBpZiAob3Bjb2RlICE9PSBvcGNvZGVzLk9QX1BVU0hEQVRBNCkgdGhyb3cgbmV3IEVycm9yKCdVbmV4cGVjdGVkIG9wY29kZScpCgogICAgbnVtYmVyID0gYnVmZmVyLnJlYWRVSW50MzJMRShvZmZzZXQgKyAxKQogICAgc2l6ZSA9IDUKICB9CgogIHJldHVybiB7CiAgICBvcGNvZGU6IG9wY29kZSwKICAgIG51bWJlcjogbnVtYmVyLAogICAgc2l6ZTogc2l6ZQogIH0KfQoKZnVuY3Rpb24gcmVhZFVJbnQ2NExFIChidWZmZXIsIG9mZnNldCkgewogIHZhciBhID0gYnVmZmVyLnJlYWRVSW50MzJMRShvZmZzZXQpCiAgdmFyIGIgPSBidWZmZXIucmVhZFVJbnQzMkxFKG9mZnNldCArIDQpCiAgYiAqPSAweDEwMDAwMDAwMAoKICB2ZXJpZnVpbnQoYiArIGEsIDB4MDAxZmZmZmZmZmZmZmZmZikKCiAgcmV0dXJuIGIgKyBhCn0KCmZ1bmN0aW9uIHJlYWRWYXJJbnQgKGJ1ZmZlciwgb2Zmc2V0KSB7CiAgdmFyIHQgPSBidWZmZXIucmVhZFVJbnQ4KG9mZnNldCkKICB2YXIgbnVtYmVyLCBzaXplCgogIC8vIDggYml0CiAgaWYgKHQgPCAyNTMpIHsKICAgIG51bWJlciA9IHQKICAgIHNpemUgPSAxCgogIC8vIDE2IGJpdAogIH0gZWxzZSBpZiAodCA8IDI1NCkgewogICAgbnVtYmVyID0gYnVmZmVyLnJlYWRVSW50MTZMRShvZmZzZXQgKyAxKQogICAgc2l6ZSA9IDMKCiAgLy8gMzIgYml0CiAgfSBlbHNlIGlmICh0IDwgMjU1KSB7CiAgICBudW1iZXIgPSBidWZmZXIucmVhZFVJbnQzMkxFKG9mZnNldCArIDEpCiAgICBzaXplID0gNQoKICAvLyA2NCBiaXQKICB9IGVsc2UgewogICAgbnVtYmVyID0gcmVhZFVJbnQ2NExFKGJ1ZmZlciwgb2Zmc2V0ICsgMSkKICAgIHNpemUgPSA5CiAgfQoKICByZXR1cm4gewogICAgbnVtYmVyOiBudW1iZXIsCiAgICBzaXplOiBzaXplCiAgfQp9CgpmdW5jdGlvbiB3cml0ZVB1c2hEYXRhSW50IChidWZmZXIsIG51bWJlciwgb2Zmc2V0KSB7CiAgdmFyIHNpemUgPSBwdXNoRGF0YVNpemUobnVtYmVyKQoKICAvLyB+NiBiaXQKICBpZiAoc2l6ZSA9PT0gMSkgewogICAgYnVmZmVyLndyaXRlVUludDgobnVtYmVyLCBvZmZzZXQpCgogIC8vIDggYml0CiAgfSBlbHNlIGlmIChzaXplID09PSAyKSB7CiAgICBidWZmZXIud3JpdGVVSW50OChvcGNvZGVzLk9QX1BVU0hEQVRBMSwgb2Zmc2V0KQogICAgYnVmZmVyLndyaXRlVUludDgobnVtYmVyLCBvZmZzZXQgKyAxKQoKICAvLyAxNiBiaXQKICB9IGVsc2UgaWYgKHNpemUgPT09IDMpIHsKICAgIGJ1ZmZlci53cml0ZVVJbnQ4KG9wY29kZXMuT1BfUFVTSERBVEEyLCBvZmZzZXQpCiAgICBidWZmZXIud3JpdGVVSW50MTZMRShudW1iZXIsIG9mZnNldCArIDEpCgogIC8vIDMyIGJpdAogIH0gZWxzZSB7CiAgICBidWZmZXIud3JpdGVVSW50OChvcGNvZGVzLk9QX1BVU0hEQVRBNCwgb2Zmc2V0KQogICAgYnVmZmVyLndyaXRlVUludDMyTEUobnVtYmVyLCBvZmZzZXQgKyAxKQogIH0KCiAgcmV0dXJuIHNpemUKfQoKZnVuY3Rpb24gd3JpdGVVSW50NjRMRSAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0KSB7CiAgdmVyaWZ1aW50KHZhbHVlLCAweDAwMWZmZmZmZmZmZmZmZmYpCgogIGJ1ZmZlci53cml0ZUludDMyTEUodmFsdWUgJiAtMSwgb2Zmc2V0KQogIGJ1ZmZlci53cml0ZVVJbnQzMkxFKE1hdGguZmxvb3IodmFsdWUgLyAweDEwMDAwMDAwMCksIG9mZnNldCArIDQpCn0KCmZ1bmN0aW9uIHZhckludFNpemUgKGkpIHsKICByZXR1cm4gaSA8IDI1MyA/IDEKICA6IGkgPCAweDEwMDAwID8gMwogIDogaSA8IDB4MTAwMDAwMDAwID8gNQogIDogOQp9CgpmdW5jdGlvbiB3cml0ZVZhckludCAoYnVmZmVyLCBudW1iZXIsIG9mZnNldCkgewogIHZhciBzaXplID0gdmFySW50U2l6ZShudW1iZXIpCgogIC8vIDggYml0CiAgaWYgKHNpemUgPT09IDEpIHsKICAgIGJ1ZmZlci53cml0ZVVJbnQ4KG51bWJlciwgb2Zmc2V0KQoKICAvLyAxNiBiaXQKICB9IGVsc2UgaWYgKHNpemUgPT09IDMpIHsKICAgIGJ1ZmZlci53cml0ZVVJbnQ4KDI1Mywgb2Zmc2V0KQogICAgYnVmZmVyLndyaXRlVUludDE2TEUobnVtYmVyLCBvZmZzZXQgKyAxKQoKICAvLyAzMiBiaXQKICB9IGVsc2UgaWYgKHNpemUgPT09IDUpIHsKICAgIGJ1ZmZlci53cml0ZVVJbnQ4KDI1NCwgb2Zmc2V0KQogICAgYnVmZmVyLndyaXRlVUludDMyTEUobnVtYmVyLCBvZmZzZXQgKyAxKQoKICAvLyA2NCBiaXQKICB9IGVsc2UgewogICAgYnVmZmVyLndyaXRlVUludDgoMjU1LCBvZmZzZXQpCiAgICB3cml0ZVVJbnQ2NExFKGJ1ZmZlciwgbnVtYmVyLCBvZmZzZXQgKyAxKQogIH0KCiAgcmV0dXJuIHNpemUKfQoKZnVuY3Rpb24gdmFySW50QnVmZmVyIChpKSB7CiAgdmFyIHNpemUgPSB2YXJJbnRTaXplKGkpCiAgdmFyIGJ1ZmZlciA9IG5ldyBCdWZmZXIoc2l6ZSkKICB3cml0ZVZhckludChidWZmZXIsIGksIDApCgogIHJldHVybiBidWZmZXIKfQoKbW9kdWxlLmV4cG9ydHMgPSB7CiAgZXF1YWw6IHJlcXVpcmUoJ2J1ZmZlci1lcXVhbHMnKSwKICBwdXNoRGF0YVNpemU6IHB1c2hEYXRhU2l6ZSwKICByZWFkUHVzaERhdGFJbnQ6IHJlYWRQdXNoRGF0YUludCwKICByZWFkVUludDY0TEU6IHJlYWRVSW50NjRMRSwKICByZWFkVmFySW50OiByZWFkVmFySW50LAogIHJldmVyc2U6IHJlcXVpcmUoJ2J1ZmZlci1yZXZlcnNlJyksCiAgdmFySW50QnVmZmVyOiB2YXJJbnRCdWZmZXIsCiAgdmFySW50U2l6ZTogdmFySW50U2l6ZSwKICB3cml0ZVB1c2hEYXRhSW50OiB3cml0ZVB1c2hEYXRhSW50LAogIHdyaXRlVUludDY0TEU6IHdyaXRlVUludDY0TEUsCiAgd3JpdGVWYXJJbnQ6IHdyaXRlVmFySW50Cn0KCn0pLmNhbGwodGhpcyxyZXF1aXJlKCJidWZmZXIiKS5CdWZmZXIpCn0seyIuL29wY29kZXMiOjM2LCJidWZmZXIiOjc2LCJidWZmZXItZXF1YWxzIjo3MywiYnVmZmVyLXJldmVyc2UiOjc0fV0sMjg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewp2YXIgY3JlYXRlSGFzaCA9IHJlcXVpcmUoJ2NyZWF0ZS1oYXNoJykKCmZ1bmN0aW9uIGhhc2gxNjAgKGJ1ZmZlcikgewogIHJldHVybiByaXBlbWQxNjAoc2hhMjU2KGJ1ZmZlcikpCn0KCmZ1bmN0aW9uIGhhc2gyNTYgKGJ1ZmZlcikgewogIHJldHVybiBzaGEyNTYoc2hhMjU2KGJ1ZmZlcikpCn0KCmZ1bmN0aW9uIHJpcGVtZDE2MCAoYnVmZmVyKSB7CiAgcmV0dXJuIGNyZWF0ZUhhc2goJ3JtZDE2MCcpLnVwZGF0ZShidWZmZXIpLmRpZ2VzdCgpCn0KCmZ1bmN0aW9uIHNoYTEgKGJ1ZmZlcikgewogIHJldHVybiBjcmVhdGVIYXNoKCdzaGExJykudXBkYXRlKGJ1ZmZlcikuZGlnZXN0KCkKfQoKZnVuY3Rpb24gc2hhMjU2IChidWZmZXIpIHsKICByZXR1cm4gY3JlYXRlSGFzaCgnc2hhMjU2JykudXBkYXRlKGJ1ZmZlcikuZGlnZXN0KCkKfQoKbW9kdWxlLmV4cG9ydHMgPSB7CiAgaGFzaDE2MDogaGFzaDE2MCwKICBoYXNoMjU2OiBoYXNoMjU2LAogIHJpcGVtZDE2MDogcmlwZW1kMTYwLAogIHNoYTE6IHNoYTEsCiAgc2hhMjU2OiBzaGEyNTYKfQoKfSx7ImNyZWF0ZS1oYXNoIjo4MX1dLDI5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChCdWZmZXIpewp2YXIgY3JlYXRlSG1hYyA9IHJlcXVpcmUoJ2NyZWF0ZS1obWFjJykKdmFyIHR5cGVmb3JjZSA9IHJlcXVpcmUoJ3R5cGVmb3JjZScpCnZhciB0eXBlcyA9IHJlcXVpcmUoJy4vdHlwZXMnKQoKdmFyIEJpZ0ludGVnZXIgPSByZXF1aXJlKCdiaWdpJykKdmFyIEVDU2lnbmF0dXJlID0gcmVxdWlyZSgnLi9lY3NpZ25hdHVyZScpCgp2YXIgWkVSTyA9IG5ldyBCdWZmZXIoWzBdKQp2YXIgT05FID0gbmV3IEJ1ZmZlcihbMV0pCgp2YXIgZWN1cnZlID0gcmVxdWlyZSgnZWN1cnZlJykKdmFyIHNlY3AyNTZrMSA9IGVjdXJ2ZS5nZXRDdXJ2ZUJ5TmFtZSgnc2VjcDI1NmsxJykKCi8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM2OTc5I3NlY3Rpb24tMy4yCmZ1bmN0aW9uIGRldGVybWluaXN0aWNHZW5lcmF0ZUsgKGhhc2gsIHgsIGNoZWNrU2lnKSB7CiAgdHlwZWZvcmNlKHR5cGVzLnR1cGxlKAogICAgdHlwZXMuSGFzaDI1NmJpdCwKICAgIHR5cGVzLkJ1ZmZlcjI1NmJpdCwKICAgIHR5cGVzLkZ1bmN0aW9uCiAgKSwgYXJndW1lbnRzKQoKICB2YXIgayA9IG5ldyBCdWZmZXIoMzIpCiAgdmFyIHYgPSBuZXcgQnVmZmVyKDMyKQoKICAvLyBTdGVwIEEsIGlnbm9yZWQgYXMgaGFzaCBhbHJlYWR5IHByb3ZpZGVkCiAgLy8gU3RlcCBCCiAgdi5maWxsKDEpCgogIC8vIFN0ZXAgQwogIGsuZmlsbCgwKQoKICAvLyBTdGVwIEQKICBrID0gY3JlYXRlSG1hYygnc2hhMjU2JywgaykKICAgIC51cGRhdGUodikKICAgIC51cGRhdGUoWkVSTykKICAgIC51cGRhdGUoeCkKICAgIC51cGRhdGUoaGFzaCkKICAgIC5kaWdlc3QoKQoKICAvLyBTdGVwIEUKICB2ID0gY3JlYXRlSG1hYygnc2hhMjU2JywgaykudXBkYXRlKHYpLmRpZ2VzdCgpCgogIC8vIFN0ZXAgRgogIGsgPSBjcmVhdGVIbWFjKCdzaGEyNTYnLCBrKQogICAgLnVwZGF0ZSh2KQogICAgLnVwZGF0ZShPTkUpCiAgICAudXBkYXRlKHgpCiAgICAudXBkYXRlKGhhc2gpCiAgICAuZGlnZXN0KCkKCiAgLy8gU3RlcCBHCiAgdiA9IGNyZWF0ZUhtYWMoJ3NoYTI1NicsIGspLnVwZGF0ZSh2KS5kaWdlc3QoKQoKICAvLyBTdGVwIEgxL0gyYSwgaWdub3JlZCBhcyB0bGVuID09PSBxbGVuICgyNTYgYml0KQogIC8vIFN0ZXAgSDJiCiAgdiA9IGNyZWF0ZUhtYWMoJ3NoYTI1NicsIGspLnVwZGF0ZSh2KS5kaWdlc3QoKQoKICB2YXIgVCA9IEJpZ0ludGVnZXIuZnJvbUJ1ZmZlcih2KQoKICAvLyBTdGVwIEgzLCByZXBlYXQgdW50aWwgVCBpcyB3aXRoaW4gdGhlIGludGVydmFsIFsxLCBuIC0gMV0gYW5kIGlzIHN1aXRhYmxlIGZvciBFQ0RTQQogIHdoaWxlIChULnNpZ251bSgpIDw9IDAgfHwgVC5jb21wYXJlVG8oc2VjcDI1NmsxLm4pID49IDAgfHwgIWNoZWNrU2lnKFQpKSB7CiAgICBrID0gY3JlYXRlSG1hYygnc2hhMjU2JywgaykKICAgICAgLnVwZGF0ZSh2KQogICAgICAudXBkYXRlKFpFUk8pCiAgICAgIC5kaWdlc3QoKQoKICAgIHYgPSBjcmVhdGVIbWFjKCdzaGEyNTYnLCBrKS51cGRhdGUodikuZGlnZXN0KCkKCiAgICAvLyBTdGVwIEgxL0gyYSwgYWdhaW4sIGlnbm9yZWQgYXMgdGxlbiA9PT0gcWxlbiAoMjU2IGJpdCkKICAgIC8vIFN0ZXAgSDJiIGFnYWluCiAgICB2ID0gY3JlYXRlSG1hYygnc2hhMjU2JywgaykudXBkYXRlKHYpLmRpZ2VzdCgpCiAgICBUID0gQmlnSW50ZWdlci5mcm9tQnVmZmVyKHYpCiAgfQoKICByZXR1cm4gVAp9Cgp2YXIgTl9PVkVSX1RXTyA9IHNlY3AyNTZrMS5uLnNoaWZ0UmlnaHQoMSkKCmZ1bmN0aW9uIHNpZ24gKGhhc2gsIGQpIHsKICB0eXBlZm9yY2UodHlwZXMudHVwbGUodHlwZXMuSGFzaDI1NmJpdCwgdHlwZXMuQmlnSW50KSwgYXJndW1lbnRzKQoKICB2YXIgeCA9IGQudG9CdWZmZXIoMzIpCiAgdmFyIGUgPSBCaWdJbnRlZ2VyLmZyb21CdWZmZXIoaGFzaCkKICB2YXIgbiA9IHNlY3AyNTZrMS5uCiAgdmFyIEcgPSBzZWNwMjU2azEuRwoKICB2YXIgciwgcwogIGRldGVybWluaXN0aWNHZW5lcmF0ZUsoaGFzaCwgeCwgZnVuY3Rpb24gKGspIHsKICAgIHZhciBRID0gRy5tdWx0aXBseShrKQoKICAgIGlmIChzZWNwMjU2azEuaXNJbmZpbml0eShRKSkgcmV0dXJuIGZhbHNlCgogICAgciA9IFEuYWZmaW5lWC5tb2QobikKICAgIGlmIChyLnNpZ251bSgpID09PSAwKSByZXR1cm4gZmFsc2UKCiAgICBzID0gay5tb2RJbnZlcnNlKG4pLm11bHRpcGx5KGUuYWRkKGQubXVsdGlwbHkocikpKS5tb2QobikKICAgIGlmIChzLnNpZ251bSgpID09PSAwKSByZXR1cm4gZmFsc2UKCiAgICByZXR1cm4gdHJ1ZQogIH0pCgogIC8vIGVuZm9yY2UgbG93IFMgdmFsdWVzLCBzZWUgYmlwNjI6ICdsb3cgcyB2YWx1ZXMgaW4gc2lnbmF0dXJlcycKICBpZiAocy5jb21wYXJlVG8oTl9PVkVSX1RXTykgPiAwKSB7CiAgICBzID0gbi5zdWJ0cmFjdChzKQogIH0KCiAgcmV0dXJuIG5ldyBFQ1NpZ25hdHVyZShyLCBzKQp9CgpmdW5jdGlvbiB2ZXJpZnkgKGhhc2gsIHNpZ25hdHVyZSwgUSkgewogIHR5cGVmb3JjZSh0eXBlcy50dXBsZSgKICAgIHR5cGVzLkhhc2gyNTZiaXQsCiAgICB0eXBlcy5FQ1NpZ25hdHVyZSwKICAgIHR5cGVzLkVDUG9pbnQKICApLCBhcmd1bWVudHMpCgogIHZhciBuID0gc2VjcDI1NmsxLm4KICB2YXIgRyA9IHNlY3AyNTZrMS5HCgogIHZhciByID0gc2lnbmF0dXJlLnIKICB2YXIgcyA9IHNpZ25hdHVyZS5zCgogIC8vIDEuNC4xIEVuZm9yY2UgciBhbmQgcyBhcmUgYm90aCBpbnRlZ2VycyBpbiB0aGUgaW50ZXJ2YWwgWzEsIG4g4oiSIDFdCiAgaWYgKHIuc2lnbnVtKCkgPD0gMCB8fCByLmNvbXBhcmVUbyhuKSA+PSAwKSByZXR1cm4gZmFsc2UKICBpZiAocy5zaWdudW0oKSA8PSAwIHx8IHMuY29tcGFyZVRvKG4pID49IDApIHJldHVybiBmYWxzZQoKICAvLyAxLjQuMiBIID0gSGFzaChNKSwgYWxyZWFkeSBkb25lIGJ5IHRoZSB1c2VyCiAgLy8gMS40LjMgZSA9IEgKICB2YXIgZSA9IEJpZ0ludGVnZXIuZnJvbUJ1ZmZlcihoYXNoKQoKICAvLyBDb21wdXRlIHNeLTEKICB2YXIgc0ludiA9IHMubW9kSW52ZXJzZShuKQoKICAvLyAxLjQuNCBDb21wdXRlIHUxID0gZXNe4oiSMSBtb2QgbgogIC8vICAgICAgICAgICAgICAgdTIgPSByc17iiJIxIG1vZCBuCiAgdmFyIHUxID0gZS5tdWx0aXBseShzSW52KS5tb2QobikKICB2YXIgdTIgPSByLm11bHRpcGx5KHNJbnYpLm1vZChuKQoKICAvLyAxLjQuNSBDb21wdXRlIFIgPSAoeFIsIHlSKQogIC8vICAgICAgICAgICAgICAgUiA9IHUxRyArIHUyUQogIHZhciBSID0gRy5tdWx0aXBseVR3byh1MSwgUSwgdTIpCgogIC8vIDEuNC41IChjb250LikgRW5mb3JjZSBSIGlzIG5vdCBhdCBpbmZpbml0eQogIGlmIChzZWNwMjU2azEuaXNJbmZpbml0eShSKSkgcmV0dXJuIGZhbHNlCgogIC8vIDEuNC42IENvbnZlcnQgdGhlIGZpZWxkIGVsZW1lbnQgUi54IHRvIGFuIGludGVnZXIKICB2YXIgeFIgPSBSLmFmZmluZVgKCiAgLy8gMS40LjcgU2V0IHYgPSB4UiBtb2QgbgogIHZhciB2ID0geFIubW9kKG4pCgogIC8vIDEuNC44IElmIHYgPSByLCBvdXRwdXQgInZhbGlkIiwgYW5kIGlmIHYgIT0gciwgb3V0cHV0ICJpbnZhbGlkIgogIHJldHVybiB2LmVxdWFscyhyKQp9CgovKioKICAqIFJlY292ZXIgYSBwdWJsaWMga2V5IGZyb20gYSBzaWduYXR1cmUuCiAgKgogICogU2VlIFNFQyAxOiBFbGxpcHRpYyBDdXJ2ZSBDcnlwdG9ncmFwaHksIHNlY3Rpb24gNC4xLjYsICJQdWJsaWMKICAqIEtleSBSZWNvdmVyeSBPcGVyYXRpb24iLgogICoKICAqIGh0dHA6Ly93d3cuc2VjZy5vcmcvZG93bmxvYWQvYWlkLTc4MC9zZWMxLXYyLnBkZgogICovCmZ1bmN0aW9uIHJlY292ZXJQdWJLZXkgKGUsIHNpZ25hdHVyZSwgaSkgewogIHR5cGVmb3JjZSh0eXBlcy50dXBsZSgKICAgIHR5cGVzLkJpZ0ludCwKICAgIHR5cGVzLkVDU2lnbmF0dXJlLAogICAgdHlwZXMuVUludDIKICApLCBhcmd1bWVudHMpCgogIHZhciBuID0gc2VjcDI1NmsxLm4KICB2YXIgRyA9IHNlY3AyNTZrMS5HCiAgdmFyIHIgPSBzaWduYXR1cmUucgogIHZhciBzID0gc2lnbmF0dXJlLnMKCiAgaWYgKHIuc2lnbnVtKCkgPD0gMCB8fCByLmNvbXBhcmVUbyhuKSA+PSAwKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgciB2YWx1ZScpCiAgaWYgKHMuc2lnbnVtKCkgPD0gMCB8fCBzLmNvbXBhcmVUbyhuKSA+PSAwKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcyB2YWx1ZScpCgogIC8vIEEgc2V0IExTQiBzaWduaWZpZXMgdGhhdCB0aGUgeS1jb29yZGluYXRlIGlzIG9kZAogIHZhciBpc1lPZGQgPSBpICYgMQoKICAvLyBUaGUgbW9yZSBzaWduaWZpY2FudCBiaXQgc3BlY2lmaWVzIHdoZXRoZXIgd2Ugc2hvdWxkIHVzZSB0aGUKICAvLyBmaXJzdCBvciBzZWNvbmQgY2FuZGlkYXRlIGtleS4KICB2YXIgaXNTZWNvbmRLZXkgPSBpID4+IDEKCiAgLy8gMS4xIExldCB4ID0gciArIGpuCiAgdmFyIHggPSBpc1NlY29uZEtleSA/IHIuYWRkKG4pIDogcgogIHZhciBSID0gc2VjcDI1NmsxLnBvaW50RnJvbVgoaXNZT2RkLCB4KQoKICAvLyAxLjQgQ2hlY2sgdGhhdCBuUiBpcyBhdCBpbmZpbml0eQogIHZhciBuUiA9IFIubXVsdGlwbHkobikKICBpZiAoIXNlY3AyNTZrMS5pc0luZmluaXR5KG5SKSkgdGhyb3cgbmV3IEVycm9yKCduUiBpcyBub3QgYSB2YWxpZCBjdXJ2ZSBwb2ludCcpCgogIC8vIENvbXB1dGUgcl4tMQogIHZhciBySW52ID0gci5tb2RJbnZlcnNlKG4pCgogIC8vIENvbXB1dGUgLWUgZnJvbSBlCiAgdmFyIGVOZWcgPSBlLm5lZ2F0ZSgpLm1vZChuKQoKICAvLyAxLjYuMSBDb21wdXRlIFEgPSByXi0xIChzUiAtICBlRykKICAvLyAgICAgICAgICAgICAgIFEgPSByXi0xIChzUiArIC1lRykKICB2YXIgUSA9IFIubXVsdGlwbHlUd28ocywgRywgZU5lZykubXVsdGlwbHkockludikKCiAgc2VjcDI1NmsxLnZhbGlkYXRlKFEpCgogIHJldHVybiBRCn0KCi8qKgogICogQ2FsY3VsYXRlIHB1YmtleSBleHRyYWN0aW9uIHBhcmFtZXRlci4KICAqCiAgKiBXaGVuIGV4dHJhY3RpbmcgYSBwdWJrZXkgZnJvbSBhIHNpZ25hdHVyZSwgd2UgaGF2ZSB0bwogICogZGlzdGluZ3Vpc2ggZm91ciBkaWZmZXJlbnQgY2FzZXMuIFJhdGhlciB0aGFuIHB1dHRpbmcgdGhpcwogICogYnVyZGVuIG9uIHRoZSB2ZXJpZmllciwgQml0Y29pbiBpbmNsdWRlcyBhIDItYml0IHZhbHVlIHdpdGggdGhlCiAgKiBzaWduYXR1cmUuCiAgKgogICogVGhpcyBmdW5jdGlvbiBzaW1wbHkgdHJpZXMgYWxsIGZvdXIgY2FzZXMgYW5kIHJldHVybnMgdGhlIHZhbHVlCiAgKiB0aGF0IHJlc3VsdGVkIGluIGEgc3VjY2Vzc2Z1bCBwdWJrZXkgcmVjb3ZlcnkuCiAgKi8KZnVuY3Rpb24gY2FsY1B1YktleVJlY292ZXJ5UGFyYW0gKGUsIHNpZ25hdHVyZSwgUSkgewogIHR5cGVmb3JjZSh0eXBlcy50dXBsZSgKICAgIHR5cGVzLkJpZ0ludCwKICAgIHR5cGVzLkVDU2lnbmF0dXJlLAogICAgdHlwZXMuRUNQb2ludAogICksIGFyZ3VtZW50cykKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHsKICAgIHZhciBRcHJpbWUgPSByZWNvdmVyUHViS2V5KGUsIHNpZ25hdHVyZSwgaSkKCiAgICAvLyAxLjYuMiBWZXJpZnkgUQogICAgaWYgKFFwcmltZS5lcXVhbHMoUSkpIHsKICAgICAgcmV0dXJuIGkKICAgIH0KICB9CgogIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGZpbmQgdmFsaWQgcmVjb3ZlcnkgZmFjdG9yJykKfQoKbW9kdWxlLmV4cG9ydHMgPSB7CiAgY2FsY1B1YktleVJlY292ZXJ5UGFyYW06IGNhbGNQdWJLZXlSZWNvdmVyeVBhcmFtLAogIGRldGVybWluaXN0aWNHZW5lcmF0ZUs6IGRldGVybWluaXN0aWNHZW5lcmF0ZUssCiAgcmVjb3ZlclB1YktleTogcmVjb3ZlclB1YktleSwKICBzaWduOiBzaWduLAogIHZlcmlmeTogdmVyaWZ5LAoKICAvLyBUT0RPOiByZW1vdmUKICBfX2N1cnZlOiBzZWNwMjU2azEKfQoKfSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcikKfSx7Ii4vZWNzaWduYXR1cmUiOjMxLCIuL3R5cGVzIjo0MSwiYmlnaSI6MjAsImJ1ZmZlciI6NzYsImNyZWF0ZS1obWFjIjo4NCwiZWN1cnZlIjo5OCwidHlwZWZvcmNlIjoxNzJ9XSwzMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKdmFyIGJjcnlwdG8gPSByZXF1aXJlKCcuL2NyeXB0bycpCnZhciBiczU4Y2hlY2sgPSByZXF1aXJlKCdiczU4Y2hlY2snKQp2YXIgZWNkc2EgPSByZXF1aXJlKCcuL2VjZHNhJykKdmFyIHJhbmRvbUJ5dGVzID0gcmVxdWlyZSgncmFuZG9tYnl0ZXMnKQp2YXIgdHlwZWZvcmNlID0gcmVxdWlyZSgndHlwZWZvcmNlJykKdmFyIHR5cGVzID0gcmVxdWlyZSgnLi90eXBlcycpCnZhciB3aWYgPSByZXF1aXJlKCd3aWYnKQoKdmFyIE5FVFdPUktTID0gcmVxdWlyZSgnLi9uZXR3b3JrcycpCnZhciBCaWdJbnRlZ2VyID0gcmVxdWlyZSgnYmlnaScpCgp2YXIgZWN1cnZlID0gcmVxdWlyZSgnZWN1cnZlJykKdmFyIHNlY3AyNTZrMSA9IGVjZHNhLl9fY3VydmUKCmZ1bmN0aW9uIEVDUGFpciAoZCwgUSwgb3B0aW9ucykgewogIGlmIChvcHRpb25zKSB7CiAgICB0eXBlZm9yY2UoewogICAgICBjb21wcmVzc2VkOiB0eXBlcy5tYXliZSh0eXBlcy5Cb29sZWFuKSwKICAgICAgbmV0d29yazogdHlwZXMubWF5YmUodHlwZXMuTmV0d29yaykKICAgIH0sIG9wdGlvbnMpCiAgfQoKICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fQoKICBpZiAoZCkgewogICAgaWYgKGQuc2lnbnVtKCkgPD0gMCkgdGhyb3cgbmV3IEVycm9yKCdQcml2YXRlIGtleSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJykKICAgIGlmIChkLmNvbXBhcmVUbyhzZWNwMjU2azEubikgPj0gMCkgdGhyb3cgbmV3IEVycm9yKCdQcml2YXRlIGtleSBtdXN0IGJlIGxlc3MgdGhhbiB0aGUgY3VydmUgb3JkZXInKQogICAgaWYgKFEpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VuZXhwZWN0ZWQgcHVibGljS2V5IHBhcmFtZXRlcicpCgogICAgdGhpcy5kID0gZAogIH0gZWxzZSB7CiAgICB0eXBlZm9yY2UodHlwZXMuRUNQb2ludCwgUSkKCiAgICB0aGlzLl9fUSA9IFEKICB9CgogIHRoaXMuY29tcHJlc3NlZCA9IG9wdGlvbnMuY29tcHJlc3NlZCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IG9wdGlvbnMuY29tcHJlc3NlZAogIHRoaXMubmV0d29yayA9IG9wdGlvbnMubmV0d29yayB8fCBORVRXT1JLUy5iaXRjb2luCn0KCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ1BhaXIucHJvdG90eXBlLCAnUScsIHsKICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgIGlmICghdGhpcy5fX1EgJiYgdGhpcy5kKSB7CiAgICAgIHRoaXMuX19RID0gc2VjcDI1NmsxLkcubXVsdGlwbHkodGhpcy5kKQogICAgfQoKICAgIHJldHVybiB0aGlzLl9fUQogIH0KfSkKCkVDUGFpci5mcm9tUHVibGljS2V5QnVmZmVyID0gZnVuY3Rpb24gKGJ1ZmZlciwgbmV0d29yaykgewogIHZhciBRID0gZWN1cnZlLlBvaW50LmRlY29kZUZyb20oc2VjcDI1NmsxLCBidWZmZXIpCgogIHJldHVybiBuZXcgRUNQYWlyKG51bGwsIFEsIHsKICAgIGNvbXByZXNzZWQ6IFEuY29tcHJlc3NlZCwKICAgIG5ldHdvcms6IG5ldHdvcmsKICB9KQp9CgpFQ1BhaXIuZnJvbVdJRiA9IGZ1bmN0aW9uIChzdHJpbmcsIG5ldHdvcmspIHsKICBuZXR3b3JrID0gbmV0d29yayB8fCBORVRXT1JLUy5iaXRjb2luCiAgdmFyIGJ1ZmZlciA9IGJzNThjaGVjay5kZWNvZGUoc3RyaW5nKQoKICBpZiAodHlwZXMuQXJyYXkobmV0d29yaykpIHsKICAgIHZhciB2ZXJzaW9uID0gYnVmZmVyWzBdCgogICAgbmV0d29yayA9IG5ldHdvcmsuZmlsdGVyKGZ1bmN0aW9uIChuZXR3b3JrKSB7CiAgICAgIHJldHVybiB2ZXJzaW9uID09PSBuZXR3b3JrLndpZgogICAgfSkucG9wKCkgfHwge30KICB9CgogIHZhciBkZWNvZGVkID0gd2lmLmRlY29kZVJhdyhuZXR3b3JrLndpZiwgYnVmZmVyKQogIHZhciBkID0gQmlnSW50ZWdlci5mcm9tQnVmZmVyKGRlY29kZWQuZCkKCiAgcmV0dXJuIG5ldyBFQ1BhaXIoZCwgbnVsbCwgewogICAgY29tcHJlc3NlZDogZGVjb2RlZC5jb21wcmVzc2VkLAogICAgbmV0d29yazogbmV0d29yawogIH0pCn0KCkVDUGFpci5tYWtlUmFuZG9tID0gZnVuY3Rpb24gKG9wdGlvbnMpIHsKICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fQoKICB2YXIgcm5nID0gb3B0aW9ucy5ybmcgfHwgcmFuZG9tQnl0ZXMKCiAgdmFyIGQKICBkbyB7CiAgICB2YXIgYnVmZmVyID0gcm5nKDMyKQogICAgdHlwZWZvcmNlKHR5cGVzLkJ1ZmZlcjI1NmJpdCwgYnVmZmVyKQoKICAgIGQgPSBCaWdJbnRlZ2VyLmZyb21CdWZmZXIoYnVmZmVyKQogIH0gd2hpbGUgKGQuc2lnbnVtKCkgPD0gMCB8fCBkLmNvbXBhcmVUbyhzZWNwMjU2azEubikgPj0gMCkKCiAgcmV0dXJuIG5ldyBFQ1BhaXIoZCwgbnVsbCwgb3B0aW9ucykKfQoKRUNQYWlyLnByb3RvdHlwZS5nZXRBZGRyZXNzID0gZnVuY3Rpb24gKCkgewogIHZhciBwdWJLZXkgPSB0aGlzLmdldFB1YmxpY0tleUJ1ZmZlcigpCiAgdmFyIHB1YktleUhhc2ggPSBiY3J5cHRvLmhhc2gxNjAocHViS2V5KQoKICB2YXIgcGF5bG9hZCA9IG5ldyBCdWZmZXIoMjEpCiAgcGF5bG9hZC53cml0ZVVJbnQ4KHRoaXMubmV0d29yay5wdWJLZXlIYXNoLCAwKQogIHB1YktleUhhc2guY29weShwYXlsb2FkLCAxKQoKICByZXR1cm4gYnM1OGNoZWNrLmVuY29kZShwYXlsb2FkKQp9CgpFQ1BhaXIucHJvdG90eXBlLmdldE5ldHdvcmsgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHRoaXMubmV0d29yawp9CgpFQ1BhaXIucHJvdG90eXBlLmdldFB1YmxpY0tleUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdGhpcy5RLmdldEVuY29kZWQodGhpcy5jb21wcmVzc2VkKQp9CgpFQ1BhaXIucHJvdG90eXBlLnNpZ24gPSBmdW5jdGlvbiAoaGFzaCkgewogIGlmICghdGhpcy5kKSB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgcHJpdmF0ZSBrZXknKQoKICByZXR1cm4gZWNkc2Euc2lnbihoYXNoLCB0aGlzLmQpCn0KCkVDUGFpci5wcm90b3R5cGUudG9XSUYgPSBmdW5jdGlvbiAoKSB7CiAgaWYgKCF0aGlzLmQpIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBwcml2YXRlIGtleScpCgogIHJldHVybiB3aWYuZW5jb2RlKHRoaXMubmV0d29yay53aWYsIHRoaXMuZC50b0J1ZmZlcigzMiksIHRoaXMuY29tcHJlc3NlZCkKfQoKRUNQYWlyLnByb3RvdHlwZS52ZXJpZnkgPSBmdW5jdGlvbiAoaGFzaCwgc2lnbmF0dXJlKSB7CiAgcmV0dXJuIGVjZHNhLnZlcmlmeShoYXNoLCBzaWduYXR1cmUsIHRoaXMuUSkKfQoKbW9kdWxlLmV4cG9ydHMgPSBFQ1BhaXIKCn0pLmNhbGwodGhpcyxyZXF1aXJlKCJidWZmZXIiKS5CdWZmZXIpCn0seyIuL2NyeXB0byI6MjgsIi4vZWNkc2EiOjI5LCIuL25ldHdvcmtzIjozNSwiLi90eXBlcyI6NDEsImJpZ2kiOjIwLCJiczU4Y2hlY2siOjcxLCJidWZmZXIiOjc2LCJlY3VydmUiOjk4LCJyYW5kb21ieXRlcyI6MTQ3LCJ0eXBlZm9yY2UiOjE3Miwid2lmIjoxNzh9XSwzMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKdmFyIGJpcDY2ID0gcmVxdWlyZSgnYmlwNjYnKQp2YXIgdHlwZWZvcmNlID0gcmVxdWlyZSgndHlwZWZvcmNlJykKdmFyIHR5cGVzID0gcmVxdWlyZSgnLi90eXBlcycpCgp2YXIgQmlnSW50ZWdlciA9IHJlcXVpcmUoJ2JpZ2knKQoKZnVuY3Rpb24gRUNTaWduYXR1cmUgKHIsIHMpIHsKICB0eXBlZm9yY2UodHlwZXMudHVwbGUodHlwZXMuQmlnSW50LCB0eXBlcy5CaWdJbnQpLCBhcmd1bWVudHMpCgogIHRoaXMuciA9IHIKICB0aGlzLnMgPSBzCn0KCkVDU2lnbmF0dXJlLnBhcnNlQ29tcGFjdCA9IGZ1bmN0aW9uIChidWZmZXIpIHsKICBpZiAoYnVmZmVyLmxlbmd0aCAhPT0gNjUpIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzaWduYXR1cmUgbGVuZ3RoJykKCiAgdmFyIGZsYWdCeXRlID0gYnVmZmVyLnJlYWRVSW50OCgwKSAtIDI3CiAgaWYgKGZsYWdCeXRlICE9PSAoZmxhZ0J5dGUgJiA3KSkgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNpZ25hdHVyZSBwYXJhbWV0ZXInKQoKICB2YXIgY29tcHJlc3NlZCA9ICEhKGZsYWdCeXRlICYgNCkKICB2YXIgcmVjb3ZlcnlQYXJhbSA9IGZsYWdCeXRlICYgMwoKICB2YXIgciA9IEJpZ0ludGVnZXIuZnJvbUJ1ZmZlcihidWZmZXIuc2xpY2UoMSwgMzMpKQogIHZhciBzID0gQmlnSW50ZWdlci5mcm9tQnVmZmVyKGJ1ZmZlci5zbGljZSgzMykpCgogIHJldHVybiB7CiAgICBjb21wcmVzc2VkOiBjb21wcmVzc2VkLAogICAgaTogcmVjb3ZlcnlQYXJhbSwKICAgIHNpZ25hdHVyZTogbmV3IEVDU2lnbmF0dXJlKHIsIHMpCiAgfQp9CgpFQ1NpZ25hdHVyZS5mcm9tREVSID0gZnVuY3Rpb24gKGJ1ZmZlcikgewogIHZhciBkZWNvZGUgPSBiaXA2Ni5kZWNvZGUoYnVmZmVyKQogIHZhciByID0gQmlnSW50ZWdlci5mcm9tREVSSW50ZWdlcihkZWNvZGUucikKICB2YXIgcyA9IEJpZ0ludGVnZXIuZnJvbURFUkludGVnZXIoZGVjb2RlLnMpCgogIHJldHVybiBuZXcgRUNTaWduYXR1cmUociwgcykKfQoKLy8gQklQNjI6IDEgYnl0ZSBoYXNoVHlwZSBmbGFnIChvbmx5IDB4MDEsIDB4MDIsIDB4MDMsIDB4ODEsIDB4ODIgYW5kIDB4ODMgYXJlIGFsbG93ZWQpCkVDU2lnbmF0dXJlLnBhcnNlU2NyaXB0U2lnbmF0dXJlID0gZnVuY3Rpb24gKGJ1ZmZlcikgewogIHZhciBoYXNoVHlwZSA9IGJ1ZmZlci5yZWFkVUludDgoYnVmZmVyLmxlbmd0aCAtIDEpCiAgdmFyIGhhc2hUeXBlTW9kID0gaGFzaFR5cGUgJiB+MHg4MAoKICBpZiAoaGFzaFR5cGVNb2QgPD0gMHgwMCB8fCBoYXNoVHlwZU1vZCA+PSAweDA0KSB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaGFzaFR5cGUgJyArIGhhc2hUeXBlKQoKICByZXR1cm4gewogICAgc2lnbmF0dXJlOiBFQ1NpZ25hdHVyZS5mcm9tREVSKGJ1ZmZlci5zbGljZSgwLCAtMSkpLAogICAgaGFzaFR5cGU6IGhhc2hUeXBlCiAgfQp9CgpFQ1NpZ25hdHVyZS5wcm90b3R5cGUudG9Db21wYWN0ID0gZnVuY3Rpb24gKGksIGNvbXByZXNzZWQpIHsKICBpZiAoY29tcHJlc3NlZCkgewogICAgaSArPSA0CiAgfQoKICBpICs9IDI3CgogIHZhciBidWZmZXIgPSBuZXcgQnVmZmVyKDY1KQogIGJ1ZmZlci53cml0ZVVJbnQ4KGksIDApCgogIHRoaXMuci50b0J1ZmZlcigzMikuY29weShidWZmZXIsIDEpCiAgdGhpcy5zLnRvQnVmZmVyKDMyKS5jb3B5KGJ1ZmZlciwgMzMpCgogIHJldHVybiBidWZmZXIKfQoKRUNTaWduYXR1cmUucHJvdG90eXBlLnRvREVSID0gZnVuY3Rpb24gKCkgewogIHZhciByID0gbmV3IEJ1ZmZlcih0aGlzLnIudG9ERVJJbnRlZ2VyKCkpCiAgdmFyIHMgPSBuZXcgQnVmZmVyKHRoaXMucy50b0RFUkludGVnZXIoKSkKCiAgcmV0dXJuIGJpcDY2LmVuY29kZShyLCBzKQp9CgpFQ1NpZ25hdHVyZS5wcm90b3R5cGUudG9TY3JpcHRTaWduYXR1cmUgPSBmdW5jdGlvbiAoaGFzaFR5cGUpIHsKICB2YXIgaGFzaFR5cGVNb2QgPSBoYXNoVHlwZSAmIH4weDgwCiAgaWYgKGhhc2hUeXBlTW9kIDw9IDAgfHwgaGFzaFR5cGVNb2QgPj0gNCkgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGhhc2hUeXBlICcgKyBoYXNoVHlwZSkKCiAgdmFyIGhhc2hUeXBlQnVmZmVyID0gbmV3IEJ1ZmZlcigxKQogIGhhc2hUeXBlQnVmZmVyLndyaXRlVUludDgoaGFzaFR5cGUsIDApCgogIHJldHVybiBCdWZmZXIuY29uY2F0KFt0aGlzLnRvREVSKCksIGhhc2hUeXBlQnVmZmVyXSkKfQoKbW9kdWxlLmV4cG9ydHMgPSBFQ1NpZ25hdHVyZQoKfSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcikKfSx7Ii4vdHlwZXMiOjQxLCJiaWdpIjoyMCwiYmlwNjYiOjI0LCJidWZmZXIiOjc2LCJ0eXBlZm9yY2UiOjE3Mn1dLDMyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChCdWZmZXIpewp2YXIgYmFzZTU4Y2hlY2sgPSByZXF1aXJlKCdiczU4Y2hlY2snKQp2YXIgYmNyeXB0byA9IHJlcXVpcmUoJy4vY3J5cHRvJykKdmFyIGNyZWF0ZUhtYWMgPSByZXF1aXJlKCdjcmVhdGUtaG1hYycpCnZhciB0eXBlZm9yY2UgPSByZXF1aXJlKCd0eXBlZm9yY2UnKQp2YXIgdHlwZXMgPSByZXF1aXJlKCcuL3R5cGVzJykKdmFyIE5FVFdPUktTID0gcmVxdWlyZSgnLi9uZXR3b3JrcycpCgp2YXIgQmlnSW50ZWdlciA9IHJlcXVpcmUoJ2JpZ2knKQp2YXIgRUNQYWlyID0gcmVxdWlyZSgnLi9lY3BhaXInKQoKdmFyIGVjdXJ2ZSA9IHJlcXVpcmUoJ2VjdXJ2ZScpCnZhciBjdXJ2ZSA9IGVjdXJ2ZS5nZXRDdXJ2ZUJ5TmFtZSgnc2VjcDI1NmsxJykKCmZ1bmN0aW9uIEhETm9kZSAoa2V5UGFpciwgY2hhaW5Db2RlKSB7CiAgdHlwZWZvcmNlKHR5cGVzLnR1cGxlKCdFQ1BhaXInLCB0eXBlcy5CdWZmZXIyNTZiaXQpLCBhcmd1bWVudHMpCgogIGlmICgha2V5UGFpci5jb21wcmVzc2VkKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdCSVAzMiBvbmx5IGFsbG93cyBjb21wcmVzc2VkIGtleVBhaXJzJykKCiAgdGhpcy5rZXlQYWlyID0ga2V5UGFpcgogIHRoaXMuY2hhaW5Db2RlID0gY2hhaW5Db2RlCiAgdGhpcy5kZXB0aCA9IDAKICB0aGlzLmluZGV4ID0gMAogIHRoaXMucGFyZW50RmluZ2VycHJpbnQgPSAweDAwMDAwMDAwCn0KCkhETm9kZS5ISUdIRVNUX0JJVCA9IDB4ODAwMDAwMDAKSEROb2RlLkxFTkdUSCA9IDc4CkhETm9kZS5NQVNURVJfU0VDUkVUID0gbmV3IEJ1ZmZlcignQml0Y29pbiBzZWVkJykKCkhETm9kZS5mcm9tU2VlZEJ1ZmZlciA9IGZ1bmN0aW9uIChzZWVkLCBuZXR3b3JrKSB7CiAgdHlwZWZvcmNlKHR5cGVzLnR1cGxlKHR5cGVzLkJ1ZmZlciwgdHlwZXMubWF5YmUodHlwZXMuTmV0d29yaykpLCBhcmd1bWVudHMpCgogIGlmIChzZWVkLmxlbmd0aCA8IDE2KSB0aHJvdyBuZXcgVHlwZUVycm9yKCdTZWVkIHNob3VsZCBiZSBhdCBsZWFzdCAxMjggYml0cycpCiAgaWYgKHNlZWQubGVuZ3RoID4gNjQpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1NlZWQgc2hvdWxkIGJlIGF0IG1vc3QgNTEyIGJpdHMnKQoKICB2YXIgSSA9IGNyZWF0ZUhtYWMoJ3NoYTUxMicsIEhETm9kZS5NQVNURVJfU0VDUkVUKS51cGRhdGUoc2VlZCkuZGlnZXN0KCkKICB2YXIgSUwgPSBJLnNsaWNlKDAsIDMyKQogIHZhciBJUiA9IEkuc2xpY2UoMzIpCgogIC8vIEluIGNhc2UgSUwgaXMgMCBvciA+PSBuLCB0aGUgbWFzdGVyIGtleSBpcyBpbnZhbGlkCiAgLy8gVGhpcyBpcyBoYW5kbGVkIGJ5IHRoZSBFQ1BhaXIgY29uc3RydWN0b3IKICB2YXIgcElMID0gQmlnSW50ZWdlci5mcm9tQnVmZmVyKElMKQogIHZhciBrZXlQYWlyID0gbmV3IEVDUGFpcihwSUwsIG51bGwsIHsKICAgIG5ldHdvcms6IG5ldHdvcmsKICB9KQoKICByZXR1cm4gbmV3IEhETm9kZShrZXlQYWlyLCBJUikKfQoKSEROb2RlLmZyb21TZWVkSGV4ID0gZnVuY3Rpb24gKGhleCwgbmV0d29yaykgewogIHJldHVybiBIRE5vZGUuZnJvbVNlZWRCdWZmZXIobmV3IEJ1ZmZlcihoZXgsICdoZXgnKSwgbmV0d29yaykKfQoKSEROb2RlLmZyb21CYXNlNTggPSBmdW5jdGlvbiAoc3RyaW5nLCBuZXR3b3JrcykgewogIHZhciBidWZmZXIgPSBiYXNlNThjaGVjay5kZWNvZGUoc3RyaW5nKQogIGlmIChidWZmZXIubGVuZ3RoICE9PSA3OCkgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGJ1ZmZlciBsZW5ndGgnKQoKICAvLyA0IGJ5dGVzOiB2ZXJzaW9uIGJ5dGVzCiAgdmFyIHZlcnNpb24gPSBidWZmZXIucmVhZFVJbnQzMkJFKDApCiAgdmFyIG5ldHdvcmsKCiAgLy8gbGlzdCBvZiBuZXR3b3Jrcz8KICBpZiAoQXJyYXkuaXNBcnJheShuZXR3b3JrcykpIHsKICAgIG5ldHdvcmsgPSBuZXR3b3Jrcy5maWx0ZXIoZnVuY3Rpb24gKG5ldHdvcmspIHsKICAgICAgcmV0dXJuIHZlcnNpb24gPT09IG5ldHdvcmsuYmlwMzIucHJpdmF0ZSB8fAogICAgICAgICAgICAgdmVyc2lvbiA9PT0gbmV0d29yay5iaXAzMi5wdWJsaWMKICAgIH0pLnBvcCgpIHx8IHt9CgogIC8vIG90aGVyd2lzZSwgYXNzdW1lIGEgbmV0d29yayBvYmplY3QgKG9yIGRlZmF1bHQgdG8gYml0Y29pbikKICB9IGVsc2UgewogICAgbmV0d29yayA9IG5ldHdvcmtzIHx8IE5FVFdPUktTLmJpdGNvaW4KICB9CgogIGlmICh2ZXJzaW9uICE9PSBuZXR3b3JrLmJpcDMyLnByaXZhdGUgJiYKICAgIHZlcnNpb24gIT09IG5ldHdvcmsuYmlwMzIucHVibGljKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbmV0d29yaycpCgogIC8vIDEgYnl0ZTogZGVwdGg6IDB4MDAgZm9yIG1hc3RlciBub2RlcywgMHgwMSBmb3IgbGV2ZWwtMSBkZXNjZW5kYW50cywgLi4uCiAgdmFyIGRlcHRoID0gYnVmZmVyWzRdCgogIC8vIDQgYnl0ZXM6IHRoZSBmaW5nZXJwcmludCBvZiB0aGUgcGFyZW50J3Mga2V5ICgweDAwMDAwMDAwIGlmIG1hc3RlciBrZXkpCiAgdmFyIHBhcmVudEZpbmdlcnByaW50ID0gYnVmZmVyLnJlYWRVSW50MzJCRSg1KQogIGlmIChkZXB0aCA9PT0gMCkgewogICAgaWYgKHBhcmVudEZpbmdlcnByaW50ICE9PSAweDAwMDAwMDAwKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcGFyZW50IGZpbmdlcnByaW50JykKICB9CgogIC8vIDQgYnl0ZXM6IGNoaWxkIG51bWJlci4gVGhpcyBpcyB0aGUgbnVtYmVyIGkgaW4geGkgPSB4cGFyL2ksIHdpdGggeGkgdGhlIGtleSBiZWluZyBzZXJpYWxpemVkLgogIC8vIFRoaXMgaXMgZW5jb2RlZCBpbiBNU0Igb3JkZXIuICgweDAwMDAwMDAwIGlmIG1hc3RlciBrZXkpCiAgdmFyIGluZGV4ID0gYnVmZmVyLnJlYWRVSW50MzJCRSg5KQogIGlmIChkZXB0aCA9PT0gMCAmJiBpbmRleCAhPT0gMCkgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGluZGV4JykKCiAgLy8gMzIgYnl0ZXM6IHRoZSBjaGFpbiBjb2RlCiAgdmFyIGNoYWluQ29kZSA9IGJ1ZmZlci5zbGljZSgxMywgNDUpCiAgdmFyIGtleVBhaXIKCiAgLy8gMzMgYnl0ZXM6IHByaXZhdGUga2V5IGRhdGEgKDB4MDAgKyBrKQogIGlmICh2ZXJzaW9uID09PSBuZXR3b3JrLmJpcDMyLnByaXZhdGUpIHsKICAgIGlmIChidWZmZXIucmVhZFVJbnQ4KDQ1KSAhPT0gMHgwMCkgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHByaXZhdGUga2V5JykKCiAgICB2YXIgZCA9IEJpZ0ludGVnZXIuZnJvbUJ1ZmZlcihidWZmZXIuc2xpY2UoNDYsIDc4KSkKCiAgICBrZXlQYWlyID0gbmV3IEVDUGFpcihkLCBudWxsLCB7CiAgICAgIG5ldHdvcms6IG5ldHdvcmsKICAgIH0pCgogIC8vIDMzIGJ5dGVzOiBwdWJsaWMga2V5IGRhdGEgKDB4MDIgKyBYIG9yIDB4MDMgKyBYKQogIH0gZWxzZSB7CiAgICB2YXIgUSA9IGVjdXJ2ZS5Qb2ludC5kZWNvZGVGcm9tKGN1cnZlLCBidWZmZXIuc2xpY2UoNDUsIDc4KSkKICAgIGlmICghUS5jb21wcmVzc2VkKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcHVibGljIGtleScpCgogICAgLy8gVmVyaWZ5IHRoYXQgdGhlIFggY29vcmRpbmF0ZSBpbiB0aGUgcHVibGljIHBvaW50IGNvcnJlc3BvbmRzIHRvIGEgcG9pbnQgb24gdGhlIGN1cnZlLgogICAgLy8gSWYgbm90LCB0aGUgZXh0ZW5kZWQgcHVibGljIGtleSBpcyBpbnZhbGlkLgogICAgY3VydmUudmFsaWRhdGUoUSkKCiAgICBrZXlQYWlyID0gbmV3IEVDUGFpcihudWxsLCBRLCB7CiAgICAgIG5ldHdvcms6IG5ldHdvcmsKICAgIH0pCiAgfQoKICB2YXIgaGQgPSBuZXcgSEROb2RlKGtleVBhaXIsIGNoYWluQ29kZSkKICBoZC5kZXB0aCA9IGRlcHRoCiAgaGQuaW5kZXggPSBpbmRleAogIGhkLnBhcmVudEZpbmdlcnByaW50ID0gcGFyZW50RmluZ2VycHJpbnQKCiAgcmV0dXJuIGhkCn0KCkhETm9kZS5wcm90b3R5cGUuZ2V0QWRkcmVzcyA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdGhpcy5rZXlQYWlyLmdldEFkZHJlc3MoKQp9CgpIRE5vZGUucHJvdG90eXBlLmdldElkZW50aWZpZXIgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGJjcnlwdG8uaGFzaDE2MCh0aGlzLmtleVBhaXIuZ2V0UHVibGljS2V5QnVmZmVyKCkpCn0KCkhETm9kZS5wcm90b3R5cGUuZ2V0RmluZ2VycHJpbnQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHRoaXMuZ2V0SWRlbnRpZmllcigpLnNsaWNlKDAsIDQpCn0KCkhETm9kZS5wcm90b3R5cGUuZ2V0TmV0d29yayA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdGhpcy5rZXlQYWlyLmdldE5ldHdvcmsoKQp9CgpIRE5vZGUucHJvdG90eXBlLmdldFB1YmxpY0tleUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdGhpcy5rZXlQYWlyLmdldFB1YmxpY0tleUJ1ZmZlcigpCn0KCkhETm9kZS5wcm90b3R5cGUubmV1dGVyZWQgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIG5ldXRlcmVkS2V5UGFpciA9IG5ldyBFQ1BhaXIobnVsbCwgdGhpcy5rZXlQYWlyLlEsIHsKICAgIG5ldHdvcms6IHRoaXMua2V5UGFpci5uZXR3b3JrCiAgfSkKCiAgdmFyIG5ldXRlcmVkID0gbmV3IEhETm9kZShuZXV0ZXJlZEtleVBhaXIsIHRoaXMuY2hhaW5Db2RlKQogIG5ldXRlcmVkLmRlcHRoID0gdGhpcy5kZXB0aAogIG5ldXRlcmVkLmluZGV4ID0gdGhpcy5pbmRleAogIG5ldXRlcmVkLnBhcmVudEZpbmdlcnByaW50ID0gdGhpcy5wYXJlbnRGaW5nZXJwcmludAoKICByZXR1cm4gbmV1dGVyZWQKfQoKSEROb2RlLnByb3RvdHlwZS5zaWduID0gZnVuY3Rpb24gKGhhc2gpIHsKICByZXR1cm4gdGhpcy5rZXlQYWlyLnNpZ24oaGFzaCkKfQoKSEROb2RlLnByb3RvdHlwZS52ZXJpZnkgPSBmdW5jdGlvbiAoaGFzaCwgc2lnbmF0dXJlKSB7CiAgcmV0dXJuIHRoaXMua2V5UGFpci52ZXJpZnkoaGFzaCwgc2lnbmF0dXJlKQp9CgpIRE5vZGUucHJvdG90eXBlLnRvQmFzZTU4ID0gZnVuY3Rpb24gKF9faXNQcml2YXRlKSB7CiAgaWYgKF9faXNQcml2YXRlICE9PSB1bmRlZmluZWQpIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Vuc3VwcG9ydGVkIGFyZ3VtZW50IGluIDIuMC4wJykKCiAgLy8gVmVyc2lvbgogIHZhciBuZXR3b3JrID0gdGhpcy5rZXlQYWlyLm5ldHdvcmsKICB2YXIgdmVyc2lvbiA9IHRoaXMua2V5UGFpci5kID8gbmV0d29yay5iaXAzMi5wcml2YXRlIDogbmV0d29yay5iaXAzMi5wdWJsaWMKICB2YXIgYnVmZmVyID0gbmV3IEJ1ZmZlcig3OCkKCiAgLy8gNCBieXRlczogdmVyc2lvbiBieXRlcwogIGJ1ZmZlci53cml0ZVVJbnQzMkJFKHZlcnNpb24sIDApCgogIC8vIDEgYnl0ZTogZGVwdGg6IDB4MDAgZm9yIG1hc3RlciBub2RlcywgMHgwMSBmb3IgbGV2ZWwtMSBkZXNjZW5kYW50cywgLi4uLgogIGJ1ZmZlci53cml0ZVVJbnQ4KHRoaXMuZGVwdGgsIDQpCgogIC8vIDQgYnl0ZXM6IHRoZSBmaW5nZXJwcmludCBvZiB0aGUgcGFyZW50J3Mga2V5ICgweDAwMDAwMDAwIGlmIG1hc3RlciBrZXkpCiAgYnVmZmVyLndyaXRlVUludDMyQkUodGhpcy5wYXJlbnRGaW5nZXJwcmludCwgNSkKCiAgLy8gNCBieXRlczogY2hpbGQgbnVtYmVyLiBUaGlzIGlzIHRoZSBudW1iZXIgaSBpbiB4aSA9IHhwYXIvaSwgd2l0aCB4aSB0aGUga2V5IGJlaW5nIHNlcmlhbGl6ZWQuCiAgLy8gVGhpcyBpcyBlbmNvZGVkIGluIGJpZyBlbmRpYW4uICgweDAwMDAwMDAwIGlmIG1hc3RlciBrZXkpCiAgYnVmZmVyLndyaXRlVUludDMyQkUodGhpcy5pbmRleCwgOSkKCiAgLy8gMzIgYnl0ZXM6IHRoZSBjaGFpbiBjb2RlCiAgdGhpcy5jaGFpbkNvZGUuY29weShidWZmZXIsIDEzKQoKICAvLyAzMyBieXRlczogdGhlIHB1YmxpYyBrZXkgb3IgcHJpdmF0ZSBrZXkgZGF0YQogIGlmICh0aGlzLmtleVBhaXIuZCkgewogICAgLy8gMHgwMCArIGsgZm9yIHByaXZhdGUga2V5cwogICAgYnVmZmVyLndyaXRlVUludDgoMCwgNDUpCiAgICB0aGlzLmtleVBhaXIuZC50b0J1ZmZlcigzMikuY29weShidWZmZXIsIDQ2KQoKICAvLyAzMyBieXRlczogdGhlIHB1YmxpYyBrZXkKICB9IGVsc2UgewogICAgLy8gWDkuNjIgZW5jb2RpbmcgZm9yIHB1YmxpYyBrZXlzCiAgICB0aGlzLmtleVBhaXIuZ2V0UHVibGljS2V5QnVmZmVyKCkuY29weShidWZmZXIsIDQ1KQogIH0KCiAgcmV0dXJuIGJhc2U1OGNoZWNrLmVuY29kZShidWZmZXIpCn0KCi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9iaXRjb2luL2JpcHMvYmxvYi9tYXN0ZXIvYmlwLTAwMzIubWVkaWF3aWtpI2NoaWxkLWtleS1kZXJpdmF0aW9uLWNrZC1mdW5jdGlvbnMKSEROb2RlLnByb3RvdHlwZS5kZXJpdmUgPSBmdW5jdGlvbiAoaW5kZXgpIHsKICB2YXIgaXNIYXJkZW5lZCA9IGluZGV4ID49IEhETm9kZS5ISUdIRVNUX0JJVAogIHZhciBkYXRhID0gbmV3IEJ1ZmZlcigzNykKCiAgLy8gSGFyZGVuZWQgY2hpbGQKICBpZiAoaXNIYXJkZW5lZCkgewogICAgaWYgKCF0aGlzLmtleVBhaXIuZCkgdGhyb3cgbmV3IFR5cGVFcnJvcignQ291bGQgbm90IGRlcml2ZSBoYXJkZW5lZCBjaGlsZCBrZXknKQoKICAgIC8vIGRhdGEgPSAweDAwIHx8IHNlcjI1NihrcGFyKSB8fCBzZXIzMihpbmRleCkKICAgIGRhdGFbMF0gPSAweDAwCiAgICB0aGlzLmtleVBhaXIuZC50b0J1ZmZlcigzMikuY29weShkYXRhLCAxKQogICAgZGF0YS53cml0ZVVJbnQzMkJFKGluZGV4LCAzMykKCiAgLy8gTm9ybWFsIGNoaWxkCiAgfSBlbHNlIHsKICAgIC8vIGRhdGEgPSBzZXJQKHBvaW50KGtwYXIpKSB8fCBzZXIzMihpbmRleCkKICAgIC8vICAgICAgPSBzZXJQKEtwYXIpIHx8IHNlcjMyKGluZGV4KQogICAgdGhpcy5rZXlQYWlyLmdldFB1YmxpY0tleUJ1ZmZlcigpLmNvcHkoZGF0YSwgMCkKICAgIGRhdGEud3JpdGVVSW50MzJCRShpbmRleCwgMzMpCiAgfQoKICB2YXIgSSA9IGNyZWF0ZUhtYWMoJ3NoYTUxMicsIHRoaXMuY2hhaW5Db2RlKS51cGRhdGUoZGF0YSkuZGlnZXN0KCkKICB2YXIgSUwgPSBJLnNsaWNlKDAsIDMyKQogIHZhciBJUiA9IEkuc2xpY2UoMzIpCgogIHZhciBwSUwgPSBCaWdJbnRlZ2VyLmZyb21CdWZmZXIoSUwpCgogIC8vIEluIGNhc2UgcGFyc2UyNTYoSUwpID49IG4sIHByb2NlZWQgd2l0aCB0aGUgbmV4dCB2YWx1ZSBmb3IgaQogIGlmIChwSUwuY29tcGFyZVRvKGN1cnZlLm4pID49IDApIHsKICAgIHJldHVybiB0aGlzLmRlcml2ZShpbmRleCArIDEpCiAgfQoKICAvLyBQcml2YXRlIHBhcmVudCBrZXkgLT4gcHJpdmF0ZSBjaGlsZCBrZXkKICB2YXIgZGVyaXZlZEtleVBhaXIKICBpZiAodGhpcy5rZXlQYWlyLmQpIHsKICAgIC8vIGtpID0gcGFyc2UyNTYoSUwpICsga3BhciAobW9kIG4pCiAgICB2YXIga2kgPSBwSUwuYWRkKHRoaXMua2V5UGFpci5kKS5tb2QoY3VydmUubikKCiAgICAvLyBJbiBjYXNlIGtpID09IDAsIHByb2NlZWQgd2l0aCB0aGUgbmV4dCB2YWx1ZSBmb3IgaQogICAgaWYgKGtpLnNpZ251bSgpID09PSAwKSB7CiAgICAgIHJldHVybiB0aGlzLmRlcml2ZShpbmRleCArIDEpCiAgICB9CgogICAgZGVyaXZlZEtleVBhaXIgPSBuZXcgRUNQYWlyKGtpLCBudWxsLCB7CiAgICAgIG5ldHdvcms6IHRoaXMua2V5UGFpci5uZXR3b3JrCiAgICB9KQoKICAvLyBQdWJsaWMgcGFyZW50IGtleSAtPiBwdWJsaWMgY2hpbGQga2V5CiAgfSBlbHNlIHsKICAgIC8vIEtpID0gcG9pbnQocGFyc2UyNTYoSUwpKSArIEtwYXIKICAgIC8vICAgID0gRypJTCArIEtwYXIKICAgIHZhciBLaSA9IGN1cnZlLkcubXVsdGlwbHkocElMKS5hZGQodGhpcy5rZXlQYWlyLlEpCgogICAgLy8gSW4gY2FzZSBLaSBpcyB0aGUgcG9pbnQgYXQgaW5maW5pdHksIHByb2NlZWQgd2l0aCB0aGUgbmV4dCB2YWx1ZSBmb3IgaQogICAgaWYgKGN1cnZlLmlzSW5maW5pdHkoS2kpKSB7CiAgICAgIHJldHVybiB0aGlzLmRlcml2ZShpbmRleCArIDEpCiAgICB9CgogICAgZGVyaXZlZEtleVBhaXIgPSBuZXcgRUNQYWlyKG51bGwsIEtpLCB7CiAgICAgIG5ldHdvcms6IHRoaXMua2V5UGFpci5uZXR3b3JrCiAgICB9KQogIH0KCiAgdmFyIGhkID0gbmV3IEhETm9kZShkZXJpdmVkS2V5UGFpciwgSVIpCiAgaGQuZGVwdGggPSB0aGlzLmRlcHRoICsgMQogIGhkLmluZGV4ID0gaW5kZXgKICBoZC5wYXJlbnRGaW5nZXJwcmludCA9IHRoaXMuZ2V0RmluZ2VycHJpbnQoKS5yZWFkVUludDMyQkUoMCkKCiAgcmV0dXJuIGhkCn0KCkhETm9kZS5wcm90b3R5cGUuZGVyaXZlSGFyZGVuZWQgPSBmdW5jdGlvbiAoaW5kZXgpIHsKICAvLyBPbmx5IGRlcml2ZXMgaGFyZGVuZWQgcHJpdmF0ZSBrZXlzIGJ5IGRlZmF1bHQKICByZXR1cm4gdGhpcy5kZXJpdmUoaW5kZXggKyBIRE5vZGUuSElHSEVTVF9CSVQpCn0KCkhETm9kZS5wcm90b3R5cGUudG9TdHJpbmcgPSBIRE5vZGUucHJvdG90eXBlLnRvQmFzZTU4Cgptb2R1bGUuZXhwb3J0cyA9IEhETm9kZQoKfSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcikKfSx7Ii4vY3J5cHRvIjoyOCwiLi9lY3BhaXIiOjMwLCIuL25ldHdvcmtzIjozNSwiLi90eXBlcyI6NDEsImJpZ2kiOjIwLCJiczU4Y2hlY2siOjcxLCJidWZmZXIiOjc2LCJjcmVhdGUtaG1hYyI6ODQsImVjdXJ2ZSI6OTgsInR5cGVmb3JjZSI6MTcyfV0sMzM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewptb2R1bGUuZXhwb3J0cyA9IHsKICBCbG9jazogcmVxdWlyZSgnLi9ibG9jaycpLAogIEVDUGFpcjogcmVxdWlyZSgnLi9lY3BhaXInKSwKICBFQ1NpZ25hdHVyZTogcmVxdWlyZSgnLi9lY3NpZ25hdHVyZScpLAogIEhETm9kZTogcmVxdWlyZSgnLi9oZG5vZGUnKSwKICBUcmFuc2FjdGlvbjogcmVxdWlyZSgnLi90cmFuc2FjdGlvbicpLAogIFRyYW5zYWN0aW9uQnVpbGRlcjogcmVxdWlyZSgnLi90cmFuc2FjdGlvbl9idWlsZGVyJyksCgogIGFkZHJlc3M6IHJlcXVpcmUoJy4vYWRkcmVzcycpLAogIGJ1ZmZlcnV0aWxzOiByZXF1aXJlKCcuL2J1ZmZlcnV0aWxzJyksCiAgY3J5cHRvOiByZXF1aXJlKCcuL2NyeXB0bycpLAogIG1lc3NhZ2U6IHJlcXVpcmUoJy4vbWVzc2FnZScpLAogIG5ldHdvcmtzOiByZXF1aXJlKCcuL25ldHdvcmtzJyksCiAgb3Bjb2RlczogcmVxdWlyZSgnLi9vcGNvZGVzJyksCiAgc2NyaXB0OiByZXF1aXJlKCcuL3NjcmlwdCcpCn0KCn0seyIuL2FkZHJlc3MiOjI1LCIuL2Jsb2NrIjoyNiwiLi9idWZmZXJ1dGlscyI6MjcsIi4vY3J5cHRvIjoyOCwiLi9lY3BhaXIiOjMwLCIuL2Vjc2lnbmF0dXJlIjozMSwiLi9oZG5vZGUiOjMyLCIuL21lc3NhZ2UiOjM0LCIuL25ldHdvcmtzIjozNSwiLi9vcGNvZGVzIjozNiwiLi9zY3JpcHQiOjM3LCIuL3RyYW5zYWN0aW9uIjozOSwiLi90cmFuc2FjdGlvbl9idWlsZGVyIjo0MH1dLDM0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChCdWZmZXIpewp2YXIgYnVmZmVydXRpbHMgPSByZXF1aXJlKCcuL2J1ZmZlcnV0aWxzJykKdmFyIGJjcnlwdG8gPSByZXF1aXJlKCcuL2NyeXB0bycpCnZhciBlY2RzYSA9IHJlcXVpcmUoJy4vZWNkc2EnKQp2YXIgbmV0d29ya3MgPSByZXF1aXJlKCcuL25ldHdvcmtzJykKCnZhciBCaWdJbnRlZ2VyID0gcmVxdWlyZSgnYmlnaScpCnZhciBFQ1BhaXIgPSByZXF1aXJlKCcuL2VjcGFpcicpCnZhciBFQ1NpZ25hdHVyZSA9IHJlcXVpcmUoJy4vZWNzaWduYXR1cmUnKQoKZnVuY3Rpb24gbWFnaWNIYXNoIChtZXNzYWdlLCBuZXR3b3JrKSB7CiAgdmFyIG1lc3NhZ2VQcmVmaXggPSBuZXcgQnVmZmVyKG5ldHdvcmsubWVzc2FnZVByZWZpeCkKICB2YXIgbWVzc2FnZUJ1ZmZlciA9IG5ldyBCdWZmZXIobWVzc2FnZSkKICB2YXIgbGVuZ3RoQnVmZmVyID0gYnVmZmVydXRpbHMudmFySW50QnVmZmVyKG1lc3NhZ2VCdWZmZXIubGVuZ3RoKQoKICB2YXIgYnVmZmVyID0gQnVmZmVyLmNvbmNhdChbbWVzc2FnZVByZWZpeCwgbGVuZ3RoQnVmZmVyLCBtZXNzYWdlQnVmZmVyXSkKICByZXR1cm4gYmNyeXB0by5oYXNoMjU2KGJ1ZmZlcikKfQoKZnVuY3Rpb24gc2lnbiAoa2V5UGFpciwgbWVzc2FnZSwgbmV0d29yaykgewogIG5ldHdvcmsgPSBuZXR3b3JrIHx8IG5ldHdvcmtzLmJpdGNvaW4KCiAgdmFyIGhhc2ggPSBtYWdpY0hhc2gobWVzc2FnZSwgbmV0d29yaykKICB2YXIgc2lnbmF0dXJlID0ga2V5UGFpci5zaWduKGhhc2gpCiAgdmFyIGUgPSBCaWdJbnRlZ2VyLmZyb21CdWZmZXIoaGFzaCkKICB2YXIgaSA9IGVjZHNhLmNhbGNQdWJLZXlSZWNvdmVyeVBhcmFtKGUsIHNpZ25hdHVyZSwga2V5UGFpci5RKQoKICByZXR1cm4gc2lnbmF0dXJlLnRvQ29tcGFjdChpLCBrZXlQYWlyLmNvbXByZXNzZWQpCn0KCmZ1bmN0aW9uIHZlcmlmeSAoYWRkcmVzcywgc2lnbmF0dXJlLCBtZXNzYWdlLCBuZXR3b3JrKSB7CiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoc2lnbmF0dXJlKSkgewogICAgc2lnbmF0dXJlID0gbmV3IEJ1ZmZlcihzaWduYXR1cmUsICdiYXNlNjQnKQogIH0KCiAgbmV0d29yayA9IG5ldHdvcmsgfHwgbmV0d29ya3MuYml0Y29pbgoKICB2YXIgaGFzaCA9IG1hZ2ljSGFzaChtZXNzYWdlLCBuZXR3b3JrKQogIHZhciBwYXJzZWQgPSBFQ1NpZ25hdHVyZS5wYXJzZUNvbXBhY3Qoc2lnbmF0dXJlKQogIHZhciBlID0gQmlnSW50ZWdlci5mcm9tQnVmZmVyKGhhc2gpCiAgdmFyIFEgPSBlY2RzYS5yZWNvdmVyUHViS2V5KGUsIHBhcnNlZC5zaWduYXR1cmUsIHBhcnNlZC5pKQoKICB2YXIga2V5UGFpciA9IG5ldyBFQ1BhaXIobnVsbCwgUSwgewogICAgY29tcHJlc3NlZDogcGFyc2VkLmNvbXByZXNzZWQsCiAgICBuZXR3b3JrOiBuZXR3b3JrCiAgfSkKCiAgcmV0dXJuIGtleVBhaXIuZ2V0QWRkcmVzcygpID09PSBhZGRyZXNzCn0KCm1vZHVsZS5leHBvcnRzID0gewogIG1hZ2ljSGFzaDogbWFnaWNIYXNoLAogIHNpZ246IHNpZ24sCiAgdmVyaWZ5OiB2ZXJpZnkKfQoKfSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcikKfSx7Ii4vYnVmZmVydXRpbHMiOjI3LCIuL2NyeXB0byI6MjgsIi4vZWNkc2EiOjI5LCIuL2VjcGFpciI6MzAsIi4vZWNzaWduYXR1cmUiOjMxLCIuL25ldHdvcmtzIjozNSwiYmlnaSI6MjAsImJ1ZmZlciI6NzZ9XSwzNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Ci8vIGh0dHBzOi8vZW4uYml0Y29pbi5pdC93aWtpL0xpc3Rfb2ZfYWRkcmVzc19wcmVmaXhlcwovLyBEb2dlY29pbiBCSVAzMiBpcyBhIHByb3Bvc2VkIHN0YW5kYXJkOiBodHRwczovL2JpdGNvaW50YWxrLm9yZy9pbmRleC5waHA/dG9waWM9NDA5NzMxCgptb2R1bGUuZXhwb3J0cyA9IHsKICBiaXRjb2luOiB7CiAgICBtZXNzYWdlUHJlZml4OiAnXHgxOEJpdGNvaW4gU2lnbmVkIE1lc3NhZ2U6XG4nLAogICAgYmlwMzI6IHsKICAgICAgcHVibGljOiAweDA0ODhiMjFlLAogICAgICBwcml2YXRlOiAweDA0ODhhZGU0CiAgICB9LAogICAgcHViS2V5SGFzaDogMHgwMCwKICAgIHNjcmlwdEhhc2g6IDB4MDUsCiAgICB3aWY6IDB4ODAsCiAgICBkdXN0VGhyZXNob2xkOiA1NDYgLy8gaHR0cHM6Ly9naXRodWIuY29tL2JpdGNvaW4vYml0Y29pbi9ibG9iL3YwLjkuMi9zcmMvY29yZS5oI0wxNTEtTDE2MgogIH0sCiAgdGVzdG5ldDogewogICAgbWVzc2FnZVByZWZpeDogJ1x4MThCaXRjb2luIFNpZ25lZCBNZXNzYWdlOlxuJywKICAgIGJpcDMyOiB7CiAgICAgIHB1YmxpYzogMHgwNDM1ODdjZiwKICAgICAgcHJpdmF0ZTogMHgwNDM1ODM5NAogICAgfSwKICAgIHB1YktleUhhc2g6IDB4NmYsCiAgICBzY3JpcHRIYXNoOiAweGM0LAogICAgd2lmOiAweGVmLAogICAgZHVzdFRocmVzaG9sZDogNTQ2CiAgfSwKICBsaXRlY29pbjogewogICAgbWVzc2FnZVByZWZpeDogJ1x4MTlMaXRlY29pbiBTaWduZWQgTWVzc2FnZTpcbicsCiAgICBiaXAzMjogewogICAgICBwdWJsaWM6IDB4MDE5ZGE0NjIsCiAgICAgIHByaXZhdGU6IDB4MDE5ZDljZmUKICAgIH0sCiAgICBwdWJLZXlIYXNoOiAweDMwLAogICAgc2NyaXB0SGFzaDogMHgwNSwKICAgIHdpZjogMHhiMCwKICAgIGR1c3RUaHJlc2hvbGQ6IDAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2xpdGVjb2luLXByb2plY3QvbGl0ZWNvaW4vYmxvYi92MC44LjcuMi9zcmMvbWFpbi5jcHAjTDM2MC1MMzY1CiAgfSwKICBkb2dlY29pbjogewogICAgbWVzc2FnZVByZWZpeDogJ1x4MTlEb2dlY29pbiBTaWduZWQgTWVzc2FnZTpcbicsCiAgICBiaXAzMjogewogICAgICBwdWJsaWM6IDB4MDJmYWNhZmQsCiAgICAgIHByaXZhdGU6IDB4MDJmYWMzOTgKICAgIH0sCiAgICBwdWJLZXlIYXNoOiAweDFlLAogICAgc2NyaXB0SGFzaDogMHgxNiwKICAgIHdpZjogMHg5ZSwKICAgIGR1c3RUaHJlc2hvbGQ6IDAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2RvZ2Vjb2luL2RvZ2Vjb2luL2Jsb2IvdjEuNy4xL3NyYy9jb3JlLmgjTDE1NS1MMTYwCiAgfQp9Cgp9LHt9XSwzNjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cm1vZHVsZS5leHBvcnRzPXsKICAiT1BfRkFMU0UiOiAwLAogICJPUF8wIjogMCwKICAiT1BfUFVTSERBVEExIjogNzYsCiAgIk9QX1BVU0hEQVRBMiI6IDc3LAogICJPUF9QVVNIREFUQTQiOiA3OCwKICAiT1BfMU5FR0FURSI6IDc5LAogICJPUF9SRVNFUlZFRCI6IDgwLAogICJPUF8xIjogODEsCiAgIk9QX1RSVUUiOiA4MSwKICAiT1BfMiI6IDgyLAogICJPUF8zIjogODMsCiAgIk9QXzQiOiA4NCwKICAiT1BfNSI6IDg1LAogICJPUF82IjogODYsCiAgIk9QXzciOiA4NywKICAiT1BfOCI6IDg4LAogICJPUF85IjogODksCiAgIk9QXzEwIjogOTAsCiAgIk9QXzExIjogOTEsCiAgIk9QXzEyIjogOTIsCiAgIk9QXzEzIjogOTMsCiAgIk9QXzE0IjogOTQsCiAgIk9QXzE1IjogOTUsCiAgIk9QXzE2IjogOTYsCgogICJPUF9OT1AiOiA5NywKICAiT1BfVkVSIjogOTgsCiAgIk9QX0lGIjogOTksCiAgIk9QX05PVElGIjogMTAwLAogICJPUF9WRVJJRiI6IDEwMSwKICAiT1BfVkVSTk9USUYiOiAxMDIsCiAgIk9QX0VMU0UiOiAxMDMsCiAgIk9QX0VORElGIjogMTA0LAogICJPUF9WRVJJRlkiOiAxMDUsCiAgIk9QX1JFVFVSTiI6IDEwNiwKCiAgIk9QX1RPQUxUU1RBQ0siOiAxMDcsCiAgIk9QX0ZST01BTFRTVEFDSyI6IDEwOCwKICAiT1BfMkRST1AiOiAxMDksCiAgIk9QXzJEVVAiOiAxMTAsCiAgIk9QXzNEVVAiOiAxMTEsCiAgIk9QXzJPVkVSIjogMTEyLAogICJPUF8yUk9UIjogMTEzLAogICJPUF8yU1dBUCI6IDExNCwKICAiT1BfSUZEVVAiOiAxMTUsCiAgIk9QX0RFUFRIIjogMTE2LAogICJPUF9EUk9QIjogMTE3LAogICJPUF9EVVAiOiAxMTgsCiAgIk9QX05JUCI6IDExOSwKICAiT1BfT1ZFUiI6IDEyMCwKICAiT1BfUElDSyI6IDEyMSwKICAiT1BfUk9MTCI6IDEyMiwKICAiT1BfUk9UIjogMTIzLAogICJPUF9TV0FQIjogMTI0LAogICJPUF9UVUNLIjogMTI1LAoKICAiT1BfQ0FUIjogMTI2LAogICJPUF9TVUJTVFIiOiAxMjcsCiAgIk9QX0xFRlQiOiAxMjgsCiAgIk9QX1JJR0hUIjogMTI5LAogICJPUF9TSVpFIjogMTMwLAoKICAiT1BfSU5WRVJUIjogMTMxLAogICJPUF9BTkQiOiAxMzIsCiAgIk9QX09SIjogMTMzLAogICJPUF9YT1IiOiAxMzQsCiAgIk9QX0VRVUFMIjogMTM1LAogICJPUF9FUVVBTFZFUklGWSI6IDEzNiwKICAiT1BfUkVTRVJWRUQxIjogMTM3LAogICJPUF9SRVNFUlZFRDIiOiAxMzgsCgogICJPUF8xQUREIjogMTM5LAogICJPUF8xU1VCIjogMTQwLAogICJPUF8yTVVMIjogMTQxLAogICJPUF8yRElWIjogMTQyLAogICJPUF9ORUdBVEUiOiAxNDMsCiAgIk9QX0FCUyI6IDE0NCwKICAiT1BfTk9UIjogMTQ1LAogICJPUF8wTk9URVFVQUwiOiAxNDYsCiAgIk9QX0FERCI6IDE0NywKICAiT1BfU1VCIjogMTQ4LAogICJPUF9NVUwiOiAxNDksCiAgIk9QX0RJViI6IDE1MCwKICAiT1BfTU9EIjogMTUxLAogICJPUF9MU0hJRlQiOiAxNTIsCiAgIk9QX1JTSElGVCI6IDE1MywKCiAgIk9QX0JPT0xBTkQiOiAxNTQsCiAgIk9QX0JPT0xPUiI6IDE1NSwKICAiT1BfTlVNRVFVQUwiOiAxNTYsCiAgIk9QX05VTUVRVUFMVkVSSUZZIjogMTU3LAogICJPUF9OVU1OT1RFUVVBTCI6IDE1OCwKICAiT1BfTEVTU1RIQU4iOiAxNTksCiAgIk9QX0dSRUFURVJUSEFOIjogMTYwLAogICJPUF9MRVNTVEhBTk9SRVFVQUwiOiAxNjEsCiAgIk9QX0dSRUFURVJUSEFOT1JFUVVBTCI6IDE2MiwKICAiT1BfTUlOIjogMTYzLAogICJPUF9NQVgiOiAxNjQsCgogICJPUF9XSVRISU4iOiAxNjUsCgogICJPUF9SSVBFTUQxNjAiOiAxNjYsCiAgIk9QX1NIQTEiOiAxNjcsCiAgIk9QX1NIQTI1NiI6IDE2OCwKICAiT1BfSEFTSDE2MCI6IDE2OSwKICAiT1BfSEFTSDI1NiI6IDE3MCwKICAiT1BfQ09ERVNFUEFSQVRPUiI6IDE3MSwKICAiT1BfQ0hFQ0tTSUciOiAxNzIsCiAgIk9QX0NIRUNLU0lHVkVSSUZZIjogMTczLAogICJPUF9DSEVDS01VTFRJU0lHIjogMTc0LAogICJPUF9DSEVDS01VTFRJU0lHVkVSSUZZIjogMTc1LAoKICAiT1BfTk9QMSI6IDE3NiwKICAiT1BfTk9QMiI6IDE3NywKICAiT1BfQ0hFQ0tMT0NLVElNRVZFUklGWSI6IDE3NywKCiAgIk9QX05PUDMiOiAxNzgsCiAgIk9QX05PUDQiOiAxNzksCiAgIk9QX05PUDUiOiAxODAsCiAgIk9QX05PUDYiOiAxODEsCiAgIk9QX05PUDciOiAxODIsCiAgIk9QX05PUDgiOiAxODMsCiAgIk9QX05PUDkiOiAxODQsCiAgIk9QX05PUDEwIjogMTg1LAoKICAiT1BfUFVCS0VZSEFTSCI6IDI1MywKICAiT1BfUFVCS0VZIjogMjU0LAogICJPUF9JTlZBTElET1BDT0RFIjogMjU1Cn0KCn0se31dLDM3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChCdWZmZXIpewp2YXIgYmlwNjYgPSByZXF1aXJlKCdiaXA2NicpCnZhciBidWZmZXJ1dGlscyA9IHJlcXVpcmUoJy4vYnVmZmVydXRpbHMnKQp2YXIgdHlwZWZvcmNlID0gcmVxdWlyZSgndHlwZWZvcmNlJykKdmFyIHR5cGVzID0gcmVxdWlyZSgnLi90eXBlcycpCgp2YXIgT1BTID0gcmVxdWlyZSgnLi9vcGNvZGVzJykKdmFyIFJFVkVSU0VfT1BTID0gKGZ1bmN0aW9uICgpIHsKICB2YXIgcmVzdWx0ID0ge30KICBmb3IgKHZhciBvcCBpbiBPUFMpIHsKICAgIHZhciBjb2RlID0gT1BTW29wXQogICAgcmVzdWx0W2NvZGVdID0gb3AKICB9CiAgcmV0dXJuIHJlc3VsdAp9KSgpCgp2YXIgT1BfSU5UX0JBU0UgPSBPUFMuT1BfUkVTRVJWRUQgLy8gT1BfMSAtIDEKCmZ1bmN0aW9uIHRvQVNNIChjaHVua3MpIHsKICBpZiAoQnVmZmVyLmlzQnVmZmVyKGNodW5rcykpIHsKICAgIGNodW5rcyA9IGRlY29tcGlsZShjaHVua3MpCiAgfQoKICByZXR1cm4gY2h1bmtzLm1hcChmdW5jdGlvbiAoY2h1bmspIHsKICAgIC8vIGRhdGE/CiAgICBpZiAoQnVmZmVyLmlzQnVmZmVyKGNodW5rKSkgcmV0dXJuIGNodW5rLnRvU3RyaW5nKCdoZXgnKQoKICAgIC8vIG9wY29kZSEKICAgIHJldHVybiBSRVZFUlNFX09QU1tjaHVua10KICB9KS5qb2luKCcgJykKfQoKZnVuY3Rpb24gZnJvbUFTTSAoYXNtKSB7CiAgdHlwZWZvcmNlKHR5cGVzLlN0cmluZywgYXNtKQoKICByZXR1cm4gY29tcGlsZShhc20uc3BsaXQoJyAnKS5tYXAoZnVuY3Rpb24gKGNodW5rU3RyKSB7CiAgICAvLyBvcGNvZGU/CiAgICBpZiAoT1BTW2NodW5rU3RyXSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gT1BTW2NodW5rU3RyXQoKICAgIC8vIGRhdGEhCiAgICByZXR1cm4gbmV3IEJ1ZmZlcihjaHVua1N0ciwgJ2hleCcpCiAgfSkpCn0KCmZ1bmN0aW9uIGNvbXBpbGUgKGNodW5rcykgewogIC8vIFRPRE86IHJlbW92ZSBtZQogIGlmIChCdWZmZXIuaXNCdWZmZXIoY2h1bmtzKSkgcmV0dXJuIGNodW5rcwoKICB0eXBlZm9yY2UodHlwZXMuQXJyYXksIGNodW5rcykKCiAgdmFyIGJ1ZmZlclNpemUgPSBjaHVua3MucmVkdWNlKGZ1bmN0aW9uIChhY2N1bSwgY2h1bmspIHsKICAgIC8vIGRhdGEgY2h1bmsKICAgIGlmIChCdWZmZXIuaXNCdWZmZXIoY2h1bmspKSB7CiAgICAgIHJldHVybiBhY2N1bSArIGJ1ZmZlcnV0aWxzLnB1c2hEYXRhU2l6ZShjaHVuay5sZW5ndGgpICsgY2h1bmsubGVuZ3RoCiAgICB9CgogICAgLy8gb3Bjb2RlCiAgICByZXR1cm4gYWNjdW0gKyAxCiAgfSwgMC4wKQoKICB2YXIgYnVmZmVyID0gbmV3IEJ1ZmZlcihidWZmZXJTaXplKQogIHZhciBvZmZzZXQgPSAwCgogIGNodW5rcy5mb3JFYWNoKGZ1bmN0aW9uIChjaHVuaykgewogICAgLy8gZGF0YSBjaHVuawogICAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihjaHVuaykpIHsKICAgICAgb2Zmc2V0ICs9IGJ1ZmZlcnV0aWxzLndyaXRlUHVzaERhdGFJbnQoYnVmZmVyLCBjaHVuay5sZW5ndGgsIG9mZnNldCkKCiAgICAgIGNodW5rLmNvcHkoYnVmZmVyLCBvZmZzZXQpCiAgICAgIG9mZnNldCArPSBjaHVuay5sZW5ndGgKCiAgICAvLyBvcGNvZGUKICAgIH0gZWxzZSB7CiAgICAgIGJ1ZmZlci53cml0ZVVJbnQ4KGNodW5rLCBvZmZzZXQpCiAgICAgIG9mZnNldCArPSAxCiAgICB9CiAgfSkKCiAgaWYgKG9mZnNldCAhPT0gYnVmZmVyLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZGVjb2RlIGNodW5rcycpCiAgcmV0dXJuIGJ1ZmZlcgp9CgpmdW5jdGlvbiBkZWNvbXBpbGUgKGJ1ZmZlcikgewogIC8vIFRPRE86IHJlbW92ZSBtZQogIGlmICh0eXBlcy5BcnJheShidWZmZXIpKSByZXR1cm4gYnVmZmVyCgogIHR5cGVmb3JjZSh0eXBlcy5CdWZmZXIsIGJ1ZmZlcikKCiAgdmFyIGNodW5rcyA9IFtdCiAgdmFyIGkgPSAwCgogIHdoaWxlIChpIDwgYnVmZmVyLmxlbmd0aCkgewogICAgdmFyIG9wY29kZSA9IGJ1ZmZlcltpXQoKICAgIC8vIGRhdGEgY2h1bmsKICAgIGlmICgob3Bjb2RlID4gT1BTLk9QXzApICYmIChvcGNvZGUgPD0gT1BTLk9QX1BVU0hEQVRBNCkpIHsKICAgICAgdmFyIGQgPSBidWZmZXJ1dGlscy5yZWFkUHVzaERhdGFJbnQoYnVmZmVyLCBpKQoKICAgICAgLy8gZGlkIHJlYWRpbmcgYSBwdXNoRGF0YUludCBmYWlsPyBlbXB0eSBzY3JpcHQKICAgICAgaWYgKGQgPT09IG51bGwpIHJldHVybiBbXQogICAgICBpICs9IGQuc2l6ZQoKICAgICAgLy8gYXR0ZW1wdCB0byByZWFkIHRvbyBtdWNoIGRhdGE/IGVtcHR5IHNjcmlwdAogICAgICBpZiAoaSArIGQubnVtYmVyID4gYnVmZmVyLmxlbmd0aCkgcmV0dXJuIFtdCgogICAgICB2YXIgZGF0YSA9IGJ1ZmZlci5zbGljZShpLCBpICsgZC5udW1iZXIpCiAgICAgIGkgKz0gZC5udW1iZXIKCiAgICAgIGNodW5rcy5wdXNoKGRhdGEpCgogICAgLy8gb3Bjb2RlCiAgICB9IGVsc2UgewogICAgICBjaHVua3MucHVzaChvcGNvZGUpCgogICAgICBpICs9IDEKICAgIH0KICB9CgogIHJldHVybiBjaHVua3MKfQoKZnVuY3Rpb24gaXNDYW5vbmljYWxQdWJLZXkgKGJ1ZmZlcikgewogIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZmZlcikpIHJldHVybiBmYWxzZQogIGlmIChidWZmZXIubGVuZ3RoIDwgMzMpIHJldHVybiBmYWxzZQoKICBzd2l0Y2ggKGJ1ZmZlclswXSkgewogICAgY2FzZSAweDAyOgogICAgY2FzZSAweDAzOgogICAgICByZXR1cm4gYnVmZmVyLmxlbmd0aCA9PT0gMzMKICAgIGNhc2UgMHgwNDoKICAgICAgcmV0dXJuIGJ1ZmZlci5sZW5ndGggPT09IDY1CiAgfQoKICByZXR1cm4gZmFsc2UKfQoKZnVuY3Rpb24gaXNDYW5vbmljYWxTaWduYXR1cmUgKGJ1ZmZlcikgewogIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZmZlcikpIHJldHVybiBmYWxzZQogIGlmICghaXNEZWZpbmVkSGFzaFR5cGUoYnVmZmVyW2J1ZmZlci5sZW5ndGggLSAxXSkpIHJldHVybiBmYWxzZQoKICByZXR1cm4gYmlwNjYuY2hlY2soYnVmZmVyLnNsaWNlKDAsIC0xKSkKfQoKZnVuY3Rpb24gaXNEZWZpbmVkSGFzaFR5cGUgKGhhc2hUeXBlKSB7CiAgdmFyIGhhc2hUeXBlTW9kID0gaGFzaFR5cGUgJiB+MHg4MAoKLy8gcmV0dXJuIGhhc2hUeXBlTW9kID4gU0lHSEFTSF9BTEwgJiYgaGFzaFR5cGVNb2QgPCBTSUdIQVNIX1NJTkdMRQogIHJldHVybiBoYXNoVHlwZU1vZCA+IDB4MDAgJiYgaGFzaFR5cGVNb2QgPCAweDA0Cn0KCmZ1bmN0aW9uIGlzUHViS2V5SGFzaElucHV0IChzY3JpcHQpIHsKICB2YXIgY2h1bmtzID0gZGVjb21waWxlKHNjcmlwdCkKCiAgcmV0dXJuIGNodW5rcy5sZW5ndGggPT09IDIgJiYKICAgIGlzQ2Fub25pY2FsU2lnbmF0dXJlKGNodW5rc1swXSkgJiYKICAgIGlzQ2Fub25pY2FsUHViS2V5KGNodW5rc1sxXSkKfQoKZnVuY3Rpb24gaXNQdWJLZXlIYXNoT3V0cHV0IChzY3JpcHQpIHsKICB2YXIgYnVmZmVyID0gY29tcGlsZShzY3JpcHQpCgogIHJldHVybiBidWZmZXIubGVuZ3RoID09PSAyNSAmJgogICAgYnVmZmVyWzBdID09PSBPUFMuT1BfRFVQICYmCiAgICBidWZmZXJbMV0gPT09IE9QUy5PUF9IQVNIMTYwICYmCiAgICBidWZmZXJbMl0gPT09IDB4MTQgJiYKICAgIGJ1ZmZlclsyM10gPT09IE9QUy5PUF9FUVVBTFZFUklGWSAmJgogICAgYnVmZmVyWzI0XSA9PT0gT1BTLk9QX0NIRUNLU0lHCn0KCmZ1bmN0aW9uIGlzUHViS2V5SW5wdXQgKHNjcmlwdCkgewogIHZhciBjaHVua3MgPSBkZWNvbXBpbGUoc2NyaXB0KQoKICByZXR1cm4gY2h1bmtzLmxlbmd0aCA9PT0gMSAmJgogICAgaXNDYW5vbmljYWxTaWduYXR1cmUoY2h1bmtzWzBdKQp9CgpmdW5jdGlvbiBpc1B1YktleU91dHB1dCAoc2NyaXB0KSB7CiAgdmFyIGNodW5rcyA9IGRlY29tcGlsZShzY3JpcHQpCgogIHJldHVybiBjaHVua3MubGVuZ3RoID09PSAyICYmCiAgICBpc0Nhbm9uaWNhbFB1YktleShjaHVua3NbMF0pICYmCiAgICBjaHVua3NbMV0gPT09IE9QUy5PUF9DSEVDS1NJRwp9CgpmdW5jdGlvbiBpc1NjcmlwdEhhc2hJbnB1dCAoc2NyaXB0LCBhbGxvd0luY29tcGxldGUpIHsKICB2YXIgY2h1bmtzID0gZGVjb21waWxlKHNjcmlwdCkKICBpZiAoY2h1bmtzLmxlbmd0aCA8IDIpIHJldHVybiBmYWxzZQoKICB2YXIgbGFzdENodW5rID0gY2h1bmtzW2NodW5rcy5sZW5ndGggLSAxXQogIGlmICghQnVmZmVyLmlzQnVmZmVyKGxhc3RDaHVuaykpIHJldHVybiBmYWxzZQoKICB2YXIgc2NyaXB0U2lnQ2h1bmtzID0gY2h1bmtzLnNsaWNlKDAsIC0xKQogIHZhciByZWRlZW1TY3JpcHRDaHVua3MgPSBkZWNvbXBpbGUobGFzdENodW5rKQoKICAvLyBpcyByZWRlZW1TY3JpcHQgYSB2YWxpZCBzY3JpcHQ/CiAgaWYgKHJlZGVlbVNjcmlwdENodW5rcy5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZQoKICByZXR1cm4gY2xhc3NpZnlJbnB1dChzY3JpcHRTaWdDaHVua3MsIGFsbG93SW5jb21wbGV0ZSkgPT09IGNsYXNzaWZ5T3V0cHV0KHJlZGVlbVNjcmlwdENodW5rcykKfQoKZnVuY3Rpb24gaXNTY3JpcHRIYXNoT3V0cHV0IChzY3JpcHQpIHsKICB2YXIgYnVmZmVyID0gY29tcGlsZShzY3JpcHQpCgogIHJldHVybiBidWZmZXIubGVuZ3RoID09PSAyMyAmJgogICAgYnVmZmVyWzBdID09PSBPUFMuT1BfSEFTSDE2MCAmJgogICAgYnVmZmVyWzFdID09PSAweDE0ICYmCiAgICBidWZmZXJbMjJdID09PSBPUFMuT1BfRVFVQUwKfQoKLy8gYWxsb3dJbmNvbXBsZXRlIGlzIHRvIGFjY291bnQgZm9yIGNvbWJpbmluZyBzaWduYXR1cmVzCi8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYml0Y29pbi9iaXRjb2luL2Jsb2IvZjQyNTA1MDU0NjY0NGEzNmIwYjhlMGViMmY2OTM0YTNlMGY2ZjgwZi9zcmMvc2NyaXB0L3NpZ24uY3BwI0wxOTUtTDE5NwpmdW5jdGlvbiBpc011bHRpc2lnSW5wdXQgKHNjcmlwdCwgYWxsb3dJbmNvbXBsZXRlKSB7CiAgdmFyIGNodW5rcyA9IGRlY29tcGlsZShzY3JpcHQpCiAgaWYgKGNodW5rcy5sZW5ndGggPCAyKSByZXR1cm4gZmFsc2UKICBpZiAoY2h1bmtzWzBdICE9PSBPUFMuT1BfMCkgcmV0dXJuIGZhbHNlCgogIGlmIChhbGxvd0luY29tcGxldGUpIHsKICAgIHJldHVybiBjaHVua3Muc2xpY2UoMSkuZXZlcnkoZnVuY3Rpb24gKGNodW5rKSB7CiAgICAgIHJldHVybiBjaHVuayA9PT0gT1BTLk9QXzAgfHwgaXNDYW5vbmljYWxTaWduYXR1cmUoY2h1bmspCiAgICB9KQogIH0KCiAgcmV0dXJuIGNodW5rcy5zbGljZSgxKS5ldmVyeShpc0Nhbm9uaWNhbFNpZ25hdHVyZSkKfQoKZnVuY3Rpb24gaXNNdWx0aXNpZ091dHB1dCAoc2NyaXB0KSB7CiAgdmFyIGNodW5rcyA9IGRlY29tcGlsZShzY3JpcHQpCiAgaWYgKGNodW5rcy5sZW5ndGggPCA0KSByZXR1cm4gZmFsc2UKICBpZiAoY2h1bmtzW2NodW5rcy5sZW5ndGggLSAxXSAhPT0gT1BTLk9QX0NIRUNLTVVMVElTSUcpIHJldHVybiBmYWxzZQoKICB2YXIgbU9wID0gY2h1bmtzWzBdCiAgdmFyIG5PcCA9IGNodW5rc1tjaHVua3MubGVuZ3RoIC0gMl0KCiAgaWYgKCF0eXBlcy5OdW1iZXIobU9wKSkgcmV0dXJuIGZhbHNlCiAgaWYgKCF0eXBlcy5OdW1iZXIobk9wKSkgcmV0dXJuIGZhbHNlCgogIHZhciBtID0gbU9wIC0gT1BfSU5UX0JBU0UKICB2YXIgbiA9IG5PcCAtIE9QX0lOVF9CQVNFCgogIC8vIDAgPCBtIDw9IG4gPD0gMTYKICBpZiAobSA8PSAwKSByZXR1cm4gZmFsc2UKICBpZiAobSA+IG4pIHJldHVybiBmYWxzZQogIGlmIChuID4gMTYpIHJldHVybiBmYWxzZQogIGlmIChuICE9PSBjaHVua3MubGVuZ3RoIC0gMykgcmV0dXJuIGZhbHNlCgogIHJldHVybiBjaHVua3Muc2xpY2UoMSwgLTIpLmV2ZXJ5KGlzQ2Fub25pY2FsUHViS2V5KQp9CgpmdW5jdGlvbiBpc051bGxEYXRhT3V0cHV0IChzY3JpcHQpIHsKICB2YXIgY2h1bmtzID0gZGVjb21waWxlKHNjcmlwdCkKICByZXR1cm4gY2h1bmtzWzBdID09PSBPUFMuT1BfUkVUVVJOCn0KCmZ1bmN0aW9uIGNsYXNzaWZ5T3V0cHV0IChzY3JpcHQpIHsKICB2YXIgY2h1bmtzID0gZGVjb21waWxlKHNjcmlwdCkKCiAgaWYgKGlzUHViS2V5SGFzaE91dHB1dChjaHVua3MpKSB7CiAgICByZXR1cm4gJ3B1YmtleWhhc2gnCiAgfSBlbHNlIGlmIChpc1NjcmlwdEhhc2hPdXRwdXQoY2h1bmtzKSkgewogICAgcmV0dXJuICdzY3JpcHRoYXNoJwogIH0gZWxzZSBpZiAoaXNNdWx0aXNpZ091dHB1dChjaHVua3MpKSB7CiAgICByZXR1cm4gJ211bHRpc2lnJwogIH0gZWxzZSBpZiAoaXNQdWJLZXlPdXRwdXQoY2h1bmtzKSkgewogICAgcmV0dXJuICdwdWJrZXknCiAgfSBlbHNlIGlmIChpc051bGxEYXRhT3V0cHV0KGNodW5rcykpIHsKICAgIHJldHVybiAnbnVsbGRhdGEnCiAgfQoKICByZXR1cm4gJ25vbnN0YW5kYXJkJwp9CgpmdW5jdGlvbiBjbGFzc2lmeUlucHV0IChzY3JpcHQsIGFsbG93SW5jb21wbGV0ZSkgewogIHZhciBjaHVua3MgPSBkZWNvbXBpbGUoc2NyaXB0KQoKICBpZiAoaXNQdWJLZXlIYXNoSW5wdXQoY2h1bmtzKSkgewogICAgcmV0dXJuICdwdWJrZXloYXNoJwogIH0gZWxzZSBpZiAoaXNNdWx0aXNpZ0lucHV0KGNodW5rcywgYWxsb3dJbmNvbXBsZXRlKSkgewogICAgcmV0dXJuICdtdWx0aXNpZycKICB9IGVsc2UgaWYgKGlzU2NyaXB0SGFzaElucHV0KGNodW5rcywgYWxsb3dJbmNvbXBsZXRlKSkgewogICAgcmV0dXJuICdzY3JpcHRoYXNoJwogIH0gZWxzZSBpZiAoaXNQdWJLZXlJbnB1dChjaHVua3MpKSB7CiAgICByZXR1cm4gJ3B1YmtleScKICB9CgogIHJldHVybiAnbm9uc3RhbmRhcmQnCn0KCi8vIFN0YW5kYXJkIFNjcmlwdCBUZW1wbGF0ZXMKLy8ge3B1YktleX0gT1BfQ0hFQ0tTSUcKZnVuY3Rpb24gcHViS2V5T3V0cHV0IChwdWJLZXkpIHsKICByZXR1cm4gY29tcGlsZShbcHViS2V5LCBPUFMuT1BfQ0hFQ0tTSUddKQp9CgovLyBPUF9EVVAgT1BfSEFTSDE2MCB7cHViS2V5SGFzaH0gT1BfRVFVQUxWRVJJRlkgT1BfQ0hFQ0tTSUcKZnVuY3Rpb24gcHViS2V5SGFzaE91dHB1dCAocHViS2V5SGFzaCkgewogIHR5cGVmb3JjZSh0eXBlcy5IYXNoMTYwYml0LCBwdWJLZXlIYXNoKQoKICByZXR1cm4gY29tcGlsZShbT1BTLk9QX0RVUCwgT1BTLk9QX0hBU0gxNjAsIHB1YktleUhhc2gsIE9QUy5PUF9FUVVBTFZFUklGWSwgT1BTLk9QX0NIRUNLU0lHXSkKfQoKLy8gT1BfSEFTSDE2MCB7c2NyaXB0SGFzaH0gT1BfRVFVQUwKZnVuY3Rpb24gc2NyaXB0SGFzaE91dHB1dCAoc2NyaXB0SGFzaCkgewogIHR5cGVmb3JjZSh0eXBlcy5IYXNoMTYwYml0LCBzY3JpcHRIYXNoKQoKICByZXR1cm4gY29tcGlsZShbT1BTLk9QX0hBU0gxNjAsIHNjcmlwdEhhc2gsIE9QUy5PUF9FUVVBTF0pCn0KCi8vIG0gW3B1YktleXMgLi4uXSBuIE9QX0NIRUNLTVVMVElTSUcKZnVuY3Rpb24gbXVsdGlzaWdPdXRwdXQgKG0sIHB1YktleXMpIHsKICB0eXBlZm9yY2UodHlwZXMudHVwbGUodHlwZXMuTnVtYmVyLCBbdHlwZXMuQnVmZmVyXSksIGFyZ3VtZW50cykKCiAgdmFyIG4gPSBwdWJLZXlzLmxlbmd0aAogIGlmIChuIDwgbSkgdGhyb3cgbmV3IEVycm9yKCdOb3QgZW5vdWdoIHB1YktleXMgcHJvdmlkZWQnKQoKICByZXR1cm4gY29tcGlsZShbXS5jb25jYXQoCiAgICBPUF9JTlRfQkFTRSArIG0sCiAgICBwdWJLZXlzLAogICAgT1BfSU5UX0JBU0UgKyBuLAogICAgT1BTLk9QX0NIRUNLTVVMVElTSUcKICApKQp9CgovLyB7c2lnbmF0dXJlfQpmdW5jdGlvbiBwdWJLZXlJbnB1dCAoc2lnbmF0dXJlKSB7CiAgdHlwZWZvcmNlKHR5cGVzLkJ1ZmZlciwgc2lnbmF0dXJlKQoKICByZXR1cm4gY29tcGlsZShbc2lnbmF0dXJlXSkKfQoKLy8ge3NpZ25hdHVyZX0ge3B1YktleX0KZnVuY3Rpb24gcHViS2V5SGFzaElucHV0IChzaWduYXR1cmUsIHB1YktleSkgewogIHR5cGVmb3JjZSh0eXBlcy50dXBsZSh0eXBlcy5CdWZmZXIsIHR5cGVzLkJ1ZmZlciksIGFyZ3VtZW50cykKCiAgcmV0dXJuIGNvbXBpbGUoW3NpZ25hdHVyZSwgcHViS2V5XSkKfQoKLy8gPHNjcmlwdFNpZz4ge3NlcmlhbGl6ZWQgc2NyaXB0UHViS2V5IHNjcmlwdH0KZnVuY3Rpb24gc2NyaXB0SGFzaElucHV0IChzY3JpcHRTaWcsIHNjcmlwdFB1YktleSkgewogIHZhciBzY3JpcHRTaWdDaHVua3MgPSBkZWNvbXBpbGUoc2NyaXB0U2lnKQogIHZhciBzZXJpYWxpemVkU2NyaXB0UHViS2V5ID0gY29tcGlsZShzY3JpcHRQdWJLZXkpCgogIHJldHVybiBjb21waWxlKFtdLmNvbmNhdCgKICAgIHNjcmlwdFNpZ0NodW5rcywKICAgIHNlcmlhbGl6ZWRTY3JpcHRQdWJLZXkKICApKQp9CgovLyBPUF8wIFtzaWduYXR1cmVzIC4uLl0KZnVuY3Rpb24gbXVsdGlzaWdJbnB1dCAoc2lnbmF0dXJlcywgc2NyaXB0UHViS2V5KSB7CiAgaWYgKHNjcmlwdFB1YktleSkgewogICAgdmFyIGNodW5rcyA9IGRlY29tcGlsZShzY3JpcHRQdWJLZXkpCiAgICBpZiAoIWlzTXVsdGlzaWdPdXRwdXQoY2h1bmtzKSkgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBtdWx0aXNpZyBzY3JpcHRQdWJLZXknKQoKICAgIHZhciBtT3AgPSBjaHVua3NbMF0KICAgIHZhciBuT3AgPSBjaHVua3NbY2h1bmtzLmxlbmd0aCAtIDJdCiAgICB2YXIgbSA9IG1PcCAtIE9QX0lOVF9CQVNFCiAgICB2YXIgbiA9IG5PcCAtIE9QX0lOVF9CQVNFCgogICAgaWYgKHNpZ25hdHVyZXMubGVuZ3RoIDwgbSkgdGhyb3cgbmV3IEVycm9yKCdOb3QgZW5vdWdoIHNpZ25hdHVyZXMgcHJvdmlkZWQnKQogICAgaWYgKHNpZ25hdHVyZXMubGVuZ3RoID4gbikgdGhyb3cgbmV3IEVycm9yKCdUb28gbWFueSBzaWduYXR1cmVzIHByb3ZpZGVkJykKICB9CgogIHJldHVybiBjb21waWxlKFtdLmNvbmNhdChPUFMuT1BfMCwgc2lnbmF0dXJlcykpCn0KCmZ1bmN0aW9uIG51bGxEYXRhT3V0cHV0IChkYXRhKSB7CiAgcmV0dXJuIGNvbXBpbGUoW09QUy5PUF9SRVRVUk4sIGRhdGFdKQp9Cgptb2R1bGUuZXhwb3J0cyA9IHsKICBjb21waWxlOiBjb21waWxlLAogIGRlY29tcGlsZTogZGVjb21waWxlLAogIGZyb21BU006IGZyb21BU00sCiAgdG9BU006IHRvQVNNLAoKICBudW1iZXI6IHJlcXVpcmUoJy4vc2NyaXB0X251bWJlcicpLAoKICBpc0Nhbm9uaWNhbFB1YktleTogaXNDYW5vbmljYWxQdWJLZXksCiAgaXNDYW5vbmljYWxTaWduYXR1cmU6IGlzQ2Fub25pY2FsU2lnbmF0dXJlLAogIGlzRGVmaW5lZEhhc2hUeXBlOiBpc0RlZmluZWRIYXNoVHlwZSwKICBpc1B1YktleUhhc2hJbnB1dDogaXNQdWJLZXlIYXNoSW5wdXQsCiAgaXNQdWJLZXlIYXNoT3V0cHV0OiBpc1B1YktleUhhc2hPdXRwdXQsCiAgaXNQdWJLZXlJbnB1dDogaXNQdWJLZXlJbnB1dCwKICBpc1B1YktleU91dHB1dDogaXNQdWJLZXlPdXRwdXQsCiAgaXNTY3JpcHRIYXNoSW5wdXQ6IGlzU2NyaXB0SGFzaElucHV0LAogIGlzU2NyaXB0SGFzaE91dHB1dDogaXNTY3JpcHRIYXNoT3V0cHV0LAogIGlzTXVsdGlzaWdJbnB1dDogaXNNdWx0aXNpZ0lucHV0LAogIGlzTXVsdGlzaWdPdXRwdXQ6IGlzTXVsdGlzaWdPdXRwdXQsCiAgaXNOdWxsRGF0YU91dHB1dDogaXNOdWxsRGF0YU91dHB1dCwKICBjbGFzc2lmeU91dHB1dDogY2xhc3NpZnlPdXRwdXQsCiAgY2xhc3NpZnlJbnB1dDogY2xhc3NpZnlJbnB1dCwKICBwdWJLZXlPdXRwdXQ6IHB1YktleU91dHB1dCwKICBwdWJLZXlIYXNoT3V0cHV0OiBwdWJLZXlIYXNoT3V0cHV0LAogIHNjcmlwdEhhc2hPdXRwdXQ6IHNjcmlwdEhhc2hPdXRwdXQsCiAgbXVsdGlzaWdPdXRwdXQ6IG11bHRpc2lnT3V0cHV0LAogIHB1YktleUlucHV0OiBwdWJLZXlJbnB1dCwKICBwdWJLZXlIYXNoSW5wdXQ6IHB1YktleUhhc2hJbnB1dCwKICBzY3JpcHRIYXNoSW5wdXQ6IHNjcmlwdEhhc2hJbnB1dCwKICBtdWx0aXNpZ0lucHV0OiBtdWx0aXNpZ0lucHV0LAogIG51bGxEYXRhT3V0cHV0OiBudWxsRGF0YU91dHB1dAp9Cgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiLi9idWZmZXJ1dGlscyI6MjcsIi4vb3Bjb2RlcyI6MzYsIi4vc2NyaXB0X251bWJlciI6MzgsIi4vdHlwZXMiOjQxLCJiaXA2NiI6MjQsImJ1ZmZlciI6NzYsInR5cGVmb3JjZSI6MTcyfV0sMzg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7CmZ1bmN0aW9uIGRlY29kZSAoYnVmZmVyLCBtYXhMZW5ndGgsIG1pbmltYWwpIHsKICBtYXhMZW5ndGggPSBtYXhMZW5ndGggfHwgNAogIG1pbmltYWwgPSBtaW5pbWFsID09PSB1bmRlZmluZWQgPyB0cnVlIDogbWluaW1hbAoKICB2YXIgbGVuZ3RoID0gYnVmZmVyLmxlbmd0aAogIGlmIChsZW5ndGggPT09IDApIHJldHVybiAwCiAgaWYgKGxlbmd0aCA+IG1heExlbmd0aCkgdGhyb3cgbmV3IFR5cGVFcnJvcignU2NyaXB0IG51bWJlciBvdmVyZmxvdycpCiAgaWYgKG1pbmltYWwpIHsKICAgIGlmICgoYnVmZmVyW2xlbmd0aCAtIDFdICYgMHg3ZikgPT09IDApIHsKICAgICAgaWYgKGxlbmd0aCA8PSAxIHx8IChidWZmZXJbbGVuZ3RoIC0gMl0gJiAweDgwKSA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKCdOb24tbWluaW1hbGx5IGVuY29kZWQgc2NyaXB0IG51bWJlcicpCiAgICB9CiAgfQoKICAvLyA0MC1iaXQKICBpZiAobGVuZ3RoID09PSA1KSB7CiAgICB2YXIgYSA9IGJ1ZmZlci5yZWFkVUludDMyTEUoMCkKICAgIHZhciBiID0gYnVmZmVyLnJlYWRVSW50OCg0KQoKICAgIGlmIChiICYgMHg4MCkgcmV0dXJuIC0oKGIgJiB+MHg4MCkgKiAweDEwMDAwMDAwMCArIGEpCiAgICByZXR1cm4gYiAqIDB4MTAwMDAwMDAwICsgYQogIH0KCiAgdmFyIHJlc3VsdCA9IDAKCiAgLy8gMzItYml0IC8gMjQtYml0IC8gMTYtYml0IC8gOC1iaXQKICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7CiAgICByZXN1bHQgfD0gYnVmZmVyW2ldIDw8ICg4ICogaSkKICB9CgogIGlmIChidWZmZXJbbGVuZ3RoIC0gMV0gJiAweDgwKSByZXR1cm4gLShyZXN1bHQgJiB+KDB4ODAgPDwgKDggKiAobGVuZ3RoIC0gMSkpKSkKICByZXR1cm4gcmVzdWx0Cn0KCmZ1bmN0aW9uIHNjcmlwdE51bVNpemUgKGkpIHsKICByZXR1cm4gaSA+IDB4N2ZmZmZmZmYgPyA1CiAgOiBpID4gMHg3ZmZmZmYgPyA0CiAgOiBpID4gMHg3ZmZmID8gMwogIDogaSA+IDB4N2YgPyAyCiAgOiBpID4gMHgwMCA/IDEKICA6IDAKfQoKZnVuY3Rpb24gZW5jb2RlIChudW1iZXIpIHsKICB2YXIgdmFsdWUgPSBNYXRoLmFicyhudW1iZXIpCiAgdmFyIHNpemUgPSBzY3JpcHROdW1TaXplKHZhbHVlKQogIHZhciBidWZmZXIgPSBuZXcgQnVmZmVyKHNpemUpCiAgdmFyIG5lZ2F0aXZlID0gbnVtYmVyIDwgMAoKICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7ICsraSkgewogICAgYnVmZmVyLndyaXRlVUludDgodmFsdWUgJiAweGZmLCBpKQogICAgdmFsdWUgPj49IDgKICB9CgogIGlmIChidWZmZXJbc2l6ZSAtIDFdICYgMHg4MCkgewogICAgYnVmZmVyLndyaXRlVUludDgobmVnYXRpdmUgPyAweDgwIDogMHgwMCwgc2l6ZSAtIDEpCiAgfSBlbHNlIGlmIChuZWdhdGl2ZSkgewogICAgYnVmZmVyW3NpemUgLSAxXSB8PSAweDgwCiAgfQoKICByZXR1cm4gYnVmZmVyCn0KCm1vZHVsZS5leHBvcnRzID0gewogIGRlY29kZTogZGVjb2RlLAogIGVuY29kZTogZW5jb2RlCn0KCn0pLmNhbGwodGhpcyxyZXF1aXJlKCJidWZmZXIiKS5CdWZmZXIpCn0seyJidWZmZXIiOjc2fV0sMzk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7CnZhciBiY3J5cHRvID0gcmVxdWlyZSgnLi9jcnlwdG8nKQp2YXIgYnNjcmlwdCA9IHJlcXVpcmUoJy4vc2NyaXB0JykKdmFyIGJ1ZmZlcnV0aWxzID0gcmVxdWlyZSgnLi9idWZmZXJ1dGlscycpCnZhciBvcGNvZGVzID0gcmVxdWlyZSgnLi9vcGNvZGVzJykKdmFyIHR5cGVmb3JjZSA9IHJlcXVpcmUoJ3R5cGVmb3JjZScpCnZhciB0eXBlcyA9IHJlcXVpcmUoJy4vdHlwZXMnKQoKZnVuY3Rpb24gVHJhbnNhY3Rpb24gKCkgewogIHRoaXMudmVyc2lvbiA9IDEKICB0aGlzLmxvY2t0aW1lID0gMAogIHRoaXMuaW5zID0gW10KICB0aGlzLm91dHMgPSBbXQp9CgpUcmFuc2FjdGlvbi5ERUZBVUxUX1NFUVVFTkNFID0gMHhmZmZmZmZmZgpUcmFuc2FjdGlvbi5TSUdIQVNIX0FMTCA9IDB4MDEKVHJhbnNhY3Rpb24uU0lHSEFTSF9OT05FID0gMHgwMgpUcmFuc2FjdGlvbi5TSUdIQVNIX1NJTkdMRSA9IDB4MDMKVHJhbnNhY3Rpb24uU0lHSEFTSF9BTllPTkVDQU5QQVkgPSAweDgwCgpUcmFuc2FjdGlvbi5mcm9tQnVmZmVyID0gZnVuY3Rpb24gKGJ1ZmZlciwgX19ub1N0cmljdCkgewogIHZhciBvZmZzZXQgPSAwCiAgZnVuY3Rpb24gcmVhZFNsaWNlIChuKSB7CiAgICBvZmZzZXQgKz0gbgogICAgcmV0dXJuIGJ1ZmZlci5zbGljZShvZmZzZXQgLSBuLCBvZmZzZXQpCiAgfQoKICBmdW5jdGlvbiByZWFkVUludDMyICgpIHsKICAgIHZhciBpID0gYnVmZmVyLnJlYWRVSW50MzJMRShvZmZzZXQpCiAgICBvZmZzZXQgKz0gNAogICAgcmV0dXJuIGkKICB9CgogIGZ1bmN0aW9uIHJlYWRVSW50NjQgKCkgewogICAgdmFyIGkgPSBidWZmZXJ1dGlscy5yZWFkVUludDY0TEUoYnVmZmVyLCBvZmZzZXQpCiAgICBvZmZzZXQgKz0gOAogICAgcmV0dXJuIGkKICB9CgogIGZ1bmN0aW9uIHJlYWRWYXJJbnQgKCkgewogICAgdmFyIHZpID0gYnVmZmVydXRpbHMucmVhZFZhckludChidWZmZXIsIG9mZnNldCkKICAgIG9mZnNldCArPSB2aS5zaXplCiAgICByZXR1cm4gdmkubnVtYmVyCiAgfQoKICBmdW5jdGlvbiByZWFkU2NyaXB0ICgpIHsKICAgIHJldHVybiByZWFkU2xpY2UocmVhZFZhckludCgpKQogIH0KCiAgdmFyIHR4ID0gbmV3IFRyYW5zYWN0aW9uKCkKICB0eC52ZXJzaW9uID0gcmVhZFVJbnQzMigpCgogIHZhciB2aW5MZW4gPSByZWFkVmFySW50KCkKICBmb3IgKHZhciBpID0gMDsgaSA8IHZpbkxlbjsgKytpKSB7CiAgICB0eC5pbnMucHVzaCh7CiAgICAgIGhhc2g6IHJlYWRTbGljZSgzMiksCiAgICAgIGluZGV4OiByZWFkVUludDMyKCksCiAgICAgIHNjcmlwdDogcmVhZFNjcmlwdCgpLAogICAgICBzZXF1ZW5jZTogcmVhZFVJbnQzMigpCiAgICB9KQogIH0KCiAgdmFyIHZvdXRMZW4gPSByZWFkVmFySW50KCkKICBmb3IgKGkgPSAwOyBpIDwgdm91dExlbjsgKytpKSB7CiAgICB0eC5vdXRzLnB1c2goewogICAgICB2YWx1ZTogcmVhZFVJbnQ2NCgpLAogICAgICBzY3JpcHQ6IHJlYWRTY3JpcHQoKQogICAgfSkKICB9CgogIHR4LmxvY2t0aW1lID0gcmVhZFVJbnQzMigpCgogIGlmIChfX25vU3RyaWN0KSByZXR1cm4gdHgKICBpZiAob2Zmc2V0ICE9PSBidWZmZXIubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ1RyYW5zYWN0aW9uIGhhcyB1bmV4cGVjdGVkIGRhdGEnKQoKICByZXR1cm4gdHgKfQoKVHJhbnNhY3Rpb24uZnJvbUhleCA9IGZ1bmN0aW9uIChoZXgpIHsKICByZXR1cm4gVHJhbnNhY3Rpb24uZnJvbUJ1ZmZlcihuZXcgQnVmZmVyKGhleCwgJ2hleCcpKQp9CgpUcmFuc2FjdGlvbi5pc0NvaW5iYXNlSGFzaCA9IGZ1bmN0aW9uIChidWZmZXIpIHsKICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmV2ZXJ5LmNhbGwoYnVmZmVyLCBmdW5jdGlvbiAoeCkgewogICAgcmV0dXJuIHggPT09IDAKICB9KQp9Cgp2YXIgRU1QVFlfU0NSSVBUID0gbmV3IEJ1ZmZlcigwKQoKVHJhbnNhY3Rpb24ucHJvdG90eXBlLmFkZElucHV0ID0gZnVuY3Rpb24gKGhhc2gsIGluZGV4LCBzZXF1ZW5jZSwgc2NyaXB0U2lnKSB7CiAgdHlwZWZvcmNlKHR5cGVzLnR1cGxlKAogICAgdHlwZXMuSGFzaDI1NmJpdCwKICAgIHR5cGVzLlVJbnQzMiwKICAgIHR5cGVzLm1heWJlKHR5cGVzLlVJbnQzMiksCiAgICB0eXBlcy5tYXliZSh0eXBlcy5CdWZmZXIpCiAgKSwgYXJndW1lbnRzKQoKICBpZiAodHlwZXMuTnVsbChzZXF1ZW5jZSkpIHsKICAgIHNlcXVlbmNlID0gVHJhbnNhY3Rpb24uREVGQVVMVF9TRVFVRU5DRQogIH0KCiAgLy8gQWRkIHRoZSBpbnB1dCBhbmQgcmV0dXJuIHRoZSBpbnB1dCdzIGluZGV4CiAgcmV0dXJuICh0aGlzLmlucy5wdXNoKHsKICAgIGhhc2g6IGhhc2gsCiAgICBpbmRleDogaW5kZXgsCiAgICBzY3JpcHQ6IHNjcmlwdFNpZyB8fCBFTVBUWV9TQ1JJUFQsCiAgICBzZXF1ZW5jZTogc2VxdWVuY2UKICB9KSAtIDEpCn0KClRyYW5zYWN0aW9uLnByb3RvdHlwZS5hZGRPdXRwdXQgPSBmdW5jdGlvbiAoc2NyaXB0UHViS2V5LCB2YWx1ZSkgewogIHR5cGVmb3JjZSh0eXBlcy50dXBsZSh0eXBlcy5CdWZmZXIsIHR5cGVzLlVJbnQ1MyksIGFyZ3VtZW50cykKCiAgLy8gQWRkIHRoZSBvdXRwdXQgYW5kIHJldHVybiB0aGUgb3V0cHV0J3MgaW5kZXgKICByZXR1cm4gKHRoaXMub3V0cy5wdXNoKHsKICAgIHNjcmlwdDogc2NyaXB0UHViS2V5LAogICAgdmFsdWU6IHZhbHVlCiAgfSkgLSAxKQp9CgpUcmFuc2FjdGlvbi5wcm90b3R5cGUuYnl0ZUxlbmd0aCA9IGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBzY3JpcHRTaXplIChzb21lU2NyaXB0KSB7CiAgICB2YXIgbGVuZ3RoID0gc29tZVNjcmlwdC5sZW5ndGgKCiAgICByZXR1cm4gYnVmZmVydXRpbHMudmFySW50U2l6ZShsZW5ndGgpICsgbGVuZ3RoCiAgfQoKICByZXR1cm4gKAogICAgOCArCiAgICBidWZmZXJ1dGlscy52YXJJbnRTaXplKHRoaXMuaW5zLmxlbmd0aCkgKwogICAgYnVmZmVydXRpbHMudmFySW50U2l6ZSh0aGlzLm91dHMubGVuZ3RoKSArCiAgICB0aGlzLmlucy5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgaW5wdXQpIHsgcmV0dXJuIHN1bSArIDQwICsgc2NyaXB0U2l6ZShpbnB1dC5zY3JpcHQpIH0sIDApICsKICAgIHRoaXMub3V0cy5yZWR1Y2UoZnVuY3Rpb24gKHN1bSwgb3V0cHV0KSB7IHJldHVybiBzdW0gKyA4ICsgc2NyaXB0U2l6ZShvdXRwdXQuc2NyaXB0KSB9LCAwKQogICkKfQoKVHJhbnNhY3Rpb24ucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkgewogIHZhciBuZXdUeCA9IG5ldyBUcmFuc2FjdGlvbigpCiAgbmV3VHgudmVyc2lvbiA9IHRoaXMudmVyc2lvbgogIG5ld1R4LmxvY2t0aW1lID0gdGhpcy5sb2NrdGltZQoKICBuZXdUeC5pbnMgPSB0aGlzLmlucy5tYXAoZnVuY3Rpb24gKHR4SW4pIHsKICAgIHJldHVybiB7CiAgICAgIGhhc2g6IHR4SW4uaGFzaCwKICAgICAgaW5kZXg6IHR4SW4uaW5kZXgsCiAgICAgIHNjcmlwdDogdHhJbi5zY3JpcHQsCiAgICAgIHNlcXVlbmNlOiB0eEluLnNlcXVlbmNlCiAgICB9CiAgfSkKCiAgbmV3VHgub3V0cyA9IHRoaXMub3V0cy5tYXAoZnVuY3Rpb24gKHR4T3V0KSB7CiAgICByZXR1cm4gewogICAgICBzY3JpcHQ6IHR4T3V0LnNjcmlwdCwKICAgICAgdmFsdWU6IHR4T3V0LnZhbHVlCiAgICB9CiAgfSkKCiAgcmV0dXJuIG5ld1R4Cn0KCnZhciBPTkUgPSBuZXcgQnVmZmVyKCcwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxJywgJ2hleCcpCnZhciBWQUxVRV9VSU5UNjRfTUFYID0gbmV3IEJ1ZmZlcignZmZmZmZmZmZmZmZmZmZmZicsICdoZXgnKQoKLyoqCiAqIEhhc2ggdHJhbnNhY3Rpb24gZm9yIHNpZ25pbmcgYSBzcGVjaWZpYyBpbnB1dC4KICoKICogQml0Y29pbiB1c2VzIGEgZGlmZmVyZW50IGhhc2ggZm9yIGVhY2ggc2lnbmVkIHRyYW5zYWN0aW9uIGlucHV0LgogKiBUaGlzIG1ldGhvZCBjb3BpZXMgdGhlIHRyYW5zYWN0aW9uLCBtYWtlcyB0aGUgbmVjZXNzYXJ5IGNoYW5nZXMgYmFzZWQgb24gdGhlCiAqIGhhc2hUeXBlLCBhbmQgdGhlbiBoYXNoZXMgdGhlIHJlc3VsdC4KICogVGhpcyBoYXNoIGNhbiB0aGVuIGJlIHVzZWQgdG8gc2lnbiB0aGUgcHJvdmlkZWQgdHJhbnNhY3Rpb24gaW5wdXQuCiAqLwpUcmFuc2FjdGlvbi5wcm90b3R5cGUuaGFzaEZvclNpZ25hdHVyZSA9IGZ1bmN0aW9uIChpbkluZGV4LCBwcmV2T3V0U2NyaXB0LCBoYXNoVHlwZSkgewogIHR5cGVmb3JjZSh0eXBlcy50dXBsZSh0eXBlcy5VSW50MzIsIHR5cGVzLkJ1ZmZlciwgLyogdHlwZXMuVUludDggKi8gdHlwZXMuTnVtYmVyKSwgYXJndW1lbnRzKQoKICAvLyBodHRwczovL2dpdGh1Yi5jb20vYml0Y29pbi9iaXRjb2luL2Jsb2IvbWFzdGVyL3NyYy90ZXN0L3NpZ2hhc2hfdGVzdHMuY3BwI0wyOQogIGlmIChpbkluZGV4ID49IHRoaXMuaW5zLmxlbmd0aCkgcmV0dXJuIE9ORQoKICB2YXIgdHhUbXAgPSB0aGlzLmNsb25lKCkKCiAgLy8gaW4gY2FzZSBjb25jYXRlbmF0aW5nIHR3byBzY3JpcHRzIGVuZHMgdXAgd2l0aCB0d28gY29kZXNlcGFyYXRvcnMsCiAgLy8gb3IgYW4gZXh0cmEgb25lIGF0IHRoZSBlbmQsIHRoaXMgcHJldmVudHMgYWxsIHRob3NlIHBvc3NpYmxlIGluY29tcGF0aWJpbGl0aWVzLgogIHZhciBoYXNoU2NyaXB0ID0gYnNjcmlwdC5jb21waWxlKGJzY3JpcHQuZGVjb21waWxlKHByZXZPdXRTY3JpcHQpLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgcmV0dXJuIHggIT09IG9wY29kZXMuT1BfQ09ERVNFUEFSQVRPUgogIH0pKQogIHZhciBpCgogIC8vIGJsYW5rIG91dCBvdGhlciBpbnB1dHMnIHNpZ25hdHVyZXMKICB0eFRtcC5pbnMuZm9yRWFjaChmdW5jdGlvbiAoaW5wdXQpIHsgaW5wdXQuc2NyaXB0ID0gRU1QVFlfU0NSSVBUIH0pCiAgdHhUbXAuaW5zW2luSW5kZXhdLnNjcmlwdCA9IGhhc2hTY3JpcHQKCiAgLy8gYmxhbmsgb3V0IHNvbWUgb2YgdGhlIGlucHV0cwogIGlmICgoaGFzaFR5cGUgJiAweDFmKSA9PT0gVHJhbnNhY3Rpb24uU0lHSEFTSF9OT05FKSB7CiAgICAvLyB3aWxkY2FyZCBwYXllZQogICAgdHhUbXAub3V0cyA9IFtdCgogICAgLy8gbGV0IHRoZSBvdGhlcnMgdXBkYXRlIGF0IHdpbGwKICAgIHR4VG1wLmlucy5mb3JFYWNoKGZ1bmN0aW9uIChpbnB1dCwgaSkgewogICAgICBpZiAoaSAhPT0gaW5JbmRleCkgewogICAgICAgIGlucHV0LnNlcXVlbmNlID0gMAogICAgICB9CiAgICB9KQogIH0gZWxzZSBpZiAoKGhhc2hUeXBlICYgMHgxZikgPT09IFRyYW5zYWN0aW9uLlNJR0hBU0hfU0lOR0xFKSB7CiAgICB2YXIgbk91dCA9IGluSW5kZXgKCiAgICAvLyBvbmx5IGxvY2staW4gdGhlIHR4T3V0IHBheWVlIGF0IHNhbWUgaW5kZXggYXMgdHhJbgogICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2JpdGNvaW4vYml0Y29pbi9ibG9iL21hc3Rlci9zcmMvdGVzdC9zaWdoYXNoX3Rlc3RzLmNwcCNMNjAKICAgIGlmIChuT3V0ID49IHRoaXMub3V0cy5sZW5ndGgpIHJldHVybiBPTkUKCiAgICB0eFRtcC5vdXRzID0gdHhUbXAub3V0cy5zbGljZSgwLCBuT3V0ICsgMSkKCiAgICAvLyBibGFuayBhbGwgb3RoZXIgb3V0cHV0cyAoY2xlYXIgc2NyaXB0UHViS2V5LCB2YWx1ZSA9PT0gLTEpCiAgICB2YXIgc3R1Yk91dCA9IHsKICAgICAgc2NyaXB0OiBFTVBUWV9TQ1JJUFQsCiAgICAgIHZhbHVlQnVmZmVyOiBWQUxVRV9VSU5UNjRfTUFYCiAgICB9CgogICAgZm9yIChpID0gMDsgaSA8IG5PdXQ7IGkrKykgewogICAgICB0eFRtcC5vdXRzW2ldID0gc3R1Yk91dAogICAgfQoKICAgIC8vIGxldCB0aGUgb3RoZXJzIHVwZGF0ZSBhdCB3aWxsCiAgICB0eFRtcC5pbnMuZm9yRWFjaChmdW5jdGlvbiAoaW5wdXQsIGkpIHsKICAgICAgaWYgKGkgIT09IGluSW5kZXgpIHsKICAgICAgICBpbnB1dC5zZXF1ZW5jZSA9IDAKICAgICAgfQogICAgfSkKICB9CgogIC8vIGJsYW5rIG91dCBvdGhlciBpbnB1dHMgY29tcGxldGVseSwgbm90IHJlY29tbWVuZGVkIGZvciBvcGVuIHRyYW5zYWN0aW9ucwogIGlmIChoYXNoVHlwZSAmIFRyYW5zYWN0aW9uLlNJR0hBU0hfQU5ZT05FQ0FOUEFZKSB7CiAgICB0eFRtcC5pbnNbMF0gPSB0eFRtcC5pbnNbaW5JbmRleF0KICAgIHR4VG1wLmlucyA9IHR4VG1wLmlucy5zbGljZSgwLCAxKQogIH0KCiAgLy8gc2VyaWFsaXplIGFuZCBoYXNoCiAgdmFyIGJ1ZmZlciA9IG5ldyBCdWZmZXIodHhUbXAuYnl0ZUxlbmd0aCgpICsgNCkKICBidWZmZXIud3JpdGVJbnQzMkxFKGhhc2hUeXBlLCBidWZmZXIubGVuZ3RoIC0gNCkKICB0eFRtcC50b0J1ZmZlcigpLmNvcHkoYnVmZmVyLCAwKQoKICByZXR1cm4gYmNyeXB0by5oYXNoMjU2KGJ1ZmZlcikKfQoKVHJhbnNhY3Rpb24ucHJvdG90eXBlLmdldEhhc2ggPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGJjcnlwdG8uaGFzaDI1Nih0aGlzLnRvQnVmZmVyKCkpCn0KClRyYW5zYWN0aW9uLnByb3RvdHlwZS5nZXRJZCA9IGZ1bmN0aW9uICgpIHsKICAvLyB0cmFuc2FjdGlvbiBoYXNoJ3MgYXJlIGRpc3BsYXllZCBpbiByZXZlcnNlIG9yZGVyCiAgcmV0dXJuIFtdLnJldmVyc2UuY2FsbCh0aGlzLmdldEhhc2goKSkudG9TdHJpbmcoJ2hleCcpCn0KClRyYW5zYWN0aW9uLnByb3RvdHlwZS50b0J1ZmZlciA9IGZ1bmN0aW9uICgpIHsKICB2YXIgYnVmZmVyID0gbmV3IEJ1ZmZlcih0aGlzLmJ5dGVMZW5ndGgoKSkKCiAgdmFyIG9mZnNldCA9IDAKICBmdW5jdGlvbiB3cml0ZVNsaWNlIChzbGljZSkgewogICAgc2xpY2UuY29weShidWZmZXIsIG9mZnNldCkKICAgIG9mZnNldCArPSBzbGljZS5sZW5ndGgKICB9CgogIGZ1bmN0aW9uIHdyaXRlVUludDMyIChpKSB7CiAgICBidWZmZXIud3JpdGVVSW50MzJMRShpLCBvZmZzZXQpCiAgICBvZmZzZXQgKz0gNAogIH0KCiAgZnVuY3Rpb24gd3JpdGVVSW50NjQgKGkpIHsKICAgIGJ1ZmZlcnV0aWxzLndyaXRlVUludDY0TEUoYnVmZmVyLCBpLCBvZmZzZXQpCiAgICBvZmZzZXQgKz0gOAogIH0KCiAgZnVuY3Rpb24gd3JpdGVWYXJJbnQgKGkpIHsKICAgIHZhciBuID0gYnVmZmVydXRpbHMud3JpdGVWYXJJbnQoYnVmZmVyLCBpLCBvZmZzZXQpCiAgICBvZmZzZXQgKz0gbgogIH0KCiAgd3JpdGVVSW50MzIodGhpcy52ZXJzaW9uKQogIHdyaXRlVmFySW50KHRoaXMuaW5zLmxlbmd0aCkKCiAgdGhpcy5pbnMuZm9yRWFjaChmdW5jdGlvbiAodHhJbikgewogICAgd3JpdGVTbGljZSh0eEluLmhhc2gpCiAgICB3cml0ZVVJbnQzMih0eEluLmluZGV4KQogICAgd3JpdGVWYXJJbnQodHhJbi5zY3JpcHQubGVuZ3RoKQogICAgd3JpdGVTbGljZSh0eEluLnNjcmlwdCkKICAgIHdyaXRlVUludDMyKHR4SW4uc2VxdWVuY2UpCiAgfSkKCiAgd3JpdGVWYXJJbnQodGhpcy5vdXRzLmxlbmd0aCkKICB0aGlzLm91dHMuZm9yRWFjaChmdW5jdGlvbiAodHhPdXQpIHsKICAgIGlmICghdHhPdXQudmFsdWVCdWZmZXIpIHsKICAgICAgd3JpdGVVSW50NjQodHhPdXQudmFsdWUpCiAgICB9IGVsc2UgewogICAgICB3cml0ZVNsaWNlKHR4T3V0LnZhbHVlQnVmZmVyKQogICAgfQoKICAgIHdyaXRlVmFySW50KHR4T3V0LnNjcmlwdC5sZW5ndGgpCiAgICB3cml0ZVNsaWNlKHR4T3V0LnNjcmlwdCkKICB9KQoKICB3cml0ZVVJbnQzMih0aGlzLmxvY2t0aW1lKQoKICByZXR1cm4gYnVmZmVyCn0KClRyYW5zYWN0aW9uLnByb3RvdHlwZS50b0hleCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdGhpcy50b0J1ZmZlcigpLnRvU3RyaW5nKCdoZXgnKQp9CgpUcmFuc2FjdGlvbi5wcm90b3R5cGUuc2V0SW5wdXRTY3JpcHQgPSBmdW5jdGlvbiAoaW5kZXgsIHNjcmlwdFNpZykgewogIHR5cGVmb3JjZSh0eXBlcy50dXBsZSh0eXBlcy5OdW1iZXIsIHR5cGVzLkJ1ZmZlciksIGFyZ3VtZW50cykKCiAgdGhpcy5pbnNbaW5kZXhdLnNjcmlwdCA9IHNjcmlwdFNpZwp9Cgptb2R1bGUuZXhwb3J0cyA9IFRyYW5zYWN0aW9uCgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiLi9idWZmZXJ1dGlscyI6MjcsIi4vY3J5cHRvIjoyOCwiLi9vcGNvZGVzIjozNiwiLi9zY3JpcHQiOjM3LCIuL3R5cGVzIjo0MSwiYnVmZmVyIjo3NiwidHlwZWZvcmNlIjoxNzJ9XSw0MDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKdmFyIGJhZGRyZXNzID0gcmVxdWlyZSgnLi9hZGRyZXNzJykKdmFyIGJjcnlwdG8gPSByZXF1aXJlKCcuL2NyeXB0bycpCnZhciBic2NyaXB0ID0gcmVxdWlyZSgnLi9zY3JpcHQnKQp2YXIgYnVmZmVyRXF1YWxzID0gcmVxdWlyZSgnYnVmZmVyLWVxdWFscycpCnZhciBuZXR3b3JrcyA9IHJlcXVpcmUoJy4vbmV0d29ya3MnKQp2YXIgb3BzID0gcmVxdWlyZSgnLi9vcGNvZGVzJykKdmFyIHR5cGVmb3JjZSA9IHJlcXVpcmUoJ3R5cGVmb3JjZScpCnZhciB0eXBlcyA9IHJlcXVpcmUoJy4vdHlwZXMnKQoKdmFyIEVDUGFpciA9IHJlcXVpcmUoJy4vZWNwYWlyJykKdmFyIEVDU2lnbmF0dXJlID0gcmVxdWlyZSgnLi9lY3NpZ25hdHVyZScpCnZhciBUcmFuc2FjdGlvbiA9IHJlcXVpcmUoJy4vdHJhbnNhY3Rpb24nKQoKLy8gcmUtb3JkZXJzIHNpZ25hdHVyZXMgdG8gbWF0Y2ggcHViS2V5cywgZmlsbHMgdW5kZWZpbmVkIG90aGVyd2lzZQpmdW5jdGlvbiBmaXhNU1NpZ25hdHVyZXMgKHRyYW5zYWN0aW9uLCB2aW4sIHB1YktleXMsIHNpZ25hdHVyZXMsIHByZXZPdXRTY3JpcHQsIGhhc2hUeXBlLCBza2lwUHViS2V5KSB7CiAgLy8gbWFpbnRhaW4gYSBsb2NhbCBjb3B5IG9mIHVubWF0Y2hlZCBzaWduYXR1cmVzCiAgdmFyIHVubWF0Y2hlZCA9IHNpZ25hdHVyZXMuc2xpY2UoKQogIHZhciBjYWNoZSA9IHt9CgogIHJldHVybiBwdWJLZXlzLm1hcChmdW5jdGlvbiAocHViS2V5KSB7CiAgICAvLyBza2lwIG9wdGlvbmFsbHkgcHJvdmlkZWQgcHViS2V5CiAgICBpZiAoc2tpcFB1YktleSAmJiBidWZmZXJFcXVhbHMoc2tpcFB1YktleSwgcHViS2V5KSkgcmV0dXJuIHVuZGVmaW5lZAoKICAgIHZhciBtYXRjaGVkCiAgICB2YXIga2V5UGFpcjIgPSBFQ1BhaXIuZnJvbVB1YmxpY0tleUJ1ZmZlcihwdWJLZXkpCgogICAgLy8gY2hlY2sgZm9yIGEgbWF0Y2hpbmcgc2lnbmF0dXJlCiAgICB1bm1hdGNoZWQuc29tZShmdW5jdGlvbiAoc2lnbmF0dXJlLCBpKSB7CiAgICAgIC8vIHNraXAgaWYgdW5kZWZpbmVkIHx8IE9QXzAKICAgICAgaWYgKCFzaWduYXR1cmUpIHJldHVybiBmYWxzZQoKICAgICAgdmFyIHNpZ25hdHVyZUhhc2ggPSBjYWNoZVtoYXNoVHlwZV0gPSBjYWNoZVtoYXNoVHlwZV0gfHwgdHJhbnNhY3Rpb24uaGFzaEZvclNpZ25hdHVyZSh2aW4sIHByZXZPdXRTY3JpcHQsIGhhc2hUeXBlKQogICAgICBpZiAoIWtleVBhaXIyLnZlcmlmeShzaWduYXR1cmVIYXNoLCBzaWduYXR1cmUpKSByZXR1cm4gZmFsc2UKCiAgICAgIC8vIHJlbW92ZSBtYXRjaGVkIHNpZ25hdHVyZSBmcm9tIHVubWF0Y2hlZAogICAgICB1bm1hdGNoZWRbaV0gPSB1bmRlZmluZWQKICAgICAgbWF0Y2hlZCA9IHNpZ25hdHVyZQoKICAgICAgcmV0dXJuIHRydWUKICAgIH0pCgogICAgcmV0dXJuIG1hdGNoZWQgfHwgdW5kZWZpbmVkCiAgfSkKfQoKZnVuY3Rpb24gZXh0cmFjdElucHV0ICh0cmFuc2FjdGlvbiwgdHhJbiwgdmluKSB7CiAgdmFyIHJlZGVlbVNjcmlwdAogIHZhciBzY3JpcHRTaWcgPSB0eEluLnNjcmlwdAogIHZhciBzY3JpcHRTaWdDaHVua3MgPSBic2NyaXB0LmRlY29tcGlsZShzY3JpcHRTaWcpCgogIHZhciBwcmV2T3V0U2NyaXB0CiAgdmFyIHByZXZPdXRUeXBlID0gYnNjcmlwdC5jbGFzc2lmeUlucHV0KHNjcmlwdFNpZywgdHJ1ZSkKICB2YXIgc2NyaXB0VHlwZQoKICAvLyBSZS1jbGFzc2lmeSBpZiBzY3JpcHRIYXNoCiAgaWYgKHByZXZPdXRUeXBlID09PSAnc2NyaXB0aGFzaCcpIHsKICAgIHJlZGVlbVNjcmlwdCA9IHNjcmlwdFNpZ0NodW5rcy5zbGljZSgtMSlbMF0KICAgIHByZXZPdXRTY3JpcHQgPSBic2NyaXB0LnNjcmlwdEhhc2hPdXRwdXQoYmNyeXB0by5oYXNoMTYwKHJlZGVlbVNjcmlwdCkpCgogICAgc2NyaXB0U2lnID0gYnNjcmlwdC5jb21waWxlKHNjcmlwdFNpZ0NodW5rcy5zbGljZSgwLCAtMSkpCiAgICBzY3JpcHRTaWdDaHVua3MgPSBzY3JpcHRTaWdDaHVua3Muc2xpY2UoMCwgLTEpCgogICAgc2NyaXB0VHlwZSA9IGJzY3JpcHQuY2xhc3NpZnlJbnB1dChzY3JpcHRTaWcsIHRydWUpCiAgfSBlbHNlIHsKICAgIHNjcmlwdFR5cGUgPSBwcmV2T3V0VHlwZQogIH0KCiAgLy8gcHJlLWVtcHQgcmVkZWVtU2NyaXB0IGRlY29tcGlsYXRpb24KICB2YXIgcmVkZWVtU2NyaXB0Q2h1bmtzCiAgaWYgKHJlZGVlbVNjcmlwdCkgewogICAgcmVkZWVtU2NyaXB0Q2h1bmtzID0gYnNjcmlwdC5kZWNvbXBpbGUocmVkZWVtU2NyaXB0KQogIH0KCiAgLy8gRXh0cmFjdCBoYXNoVHlwZSwgcHViS2V5cyBhbmQgc2lnbmF0dXJlcwogIHZhciBoYXNoVHlwZSwgcGFyc2VkLCBwdWJLZXlzLCBzaWduYXR1cmVzCgogIHN3aXRjaCAoc2NyaXB0VHlwZSkgewogICAgY2FzZSAncHVia2V5aGFzaCc6CiAgICAgIHBhcnNlZCA9IEVDU2lnbmF0dXJlLnBhcnNlU2NyaXB0U2lnbmF0dXJlKHNjcmlwdFNpZ0NodW5rc1swXSkKICAgICAgaGFzaFR5cGUgPSBwYXJzZWQuaGFzaFR5cGUKICAgICAgcHViS2V5cyA9IHNjcmlwdFNpZ0NodW5rcy5zbGljZSgxKQogICAgICBzaWduYXR1cmVzID0gW3BhcnNlZC5zaWduYXR1cmVdCiAgICAgIHByZXZPdXRTY3JpcHQgPSBic2NyaXB0LnB1YktleUhhc2hPdXRwdXQoYmNyeXB0by5oYXNoMTYwKHB1YktleXNbMF0pKQoKICAgICAgYnJlYWsKCiAgICBjYXNlICdwdWJrZXknOgogICAgICBwYXJzZWQgPSBFQ1NpZ25hdHVyZS5wYXJzZVNjcmlwdFNpZ25hdHVyZShzY3JpcHRTaWdDaHVua3NbMF0pCiAgICAgIGhhc2hUeXBlID0gcGFyc2VkLmhhc2hUeXBlCiAgICAgIHNpZ25hdHVyZXMgPSBbcGFyc2VkLnNpZ25hdHVyZV0KCiAgICAgIGlmIChyZWRlZW1TY3JpcHQpIHsKICAgICAgICBwdWJLZXlzID0gcmVkZWVtU2NyaXB0Q2h1bmtzLnNsaWNlKDAsIDEpCiAgICAgIH0KCiAgICAgIGJyZWFrCgogICAgY2FzZSAnbXVsdGlzaWcnOgogICAgICBzaWduYXR1cmVzID0gc2NyaXB0U2lnQ2h1bmtzLnNsaWNlKDEpLm1hcChmdW5jdGlvbiAoY2h1bmspIHsKICAgICAgICBpZiAoY2h1bmsgPT09IG9wcy5PUF8wKSByZXR1cm4gdW5kZWZpbmVkCgogICAgICAgIHZhciBwYXJzZWQgPSBFQ1NpZ25hdHVyZS5wYXJzZVNjcmlwdFNpZ25hdHVyZShjaHVuaykKICAgICAgICBoYXNoVHlwZSA9IHBhcnNlZC5oYXNoVHlwZQoKICAgICAgICByZXR1cm4gcGFyc2VkLnNpZ25hdHVyZQogICAgICB9KQoKICAgICAgaWYgKHJlZGVlbVNjcmlwdCkgewogICAgICAgIHB1YktleXMgPSByZWRlZW1TY3JpcHRDaHVua3Muc2xpY2UoMSwgLTIpCgogICAgICAgIGlmIChwdWJLZXlzLmxlbmd0aCAhPT0gc2lnbmF0dXJlcy5sZW5ndGgpIHsKICAgICAgICAgIHNpZ25hdHVyZXMgPSBmaXhNU1NpZ25hdHVyZXModHJhbnNhY3Rpb24sIHZpbiwgcHViS2V5cywgc2lnbmF0dXJlcywgcmVkZWVtU2NyaXB0LCBoYXNoVHlwZSwgcmVkZWVtU2NyaXB0KQogICAgICAgIH0KICAgICAgfQoKICAgICAgYnJlYWsKICB9CgogIHJldHVybiB7CiAgICBoYXNoVHlwZTogaGFzaFR5cGUsCiAgICBwcmV2T3V0U2NyaXB0OiBwcmV2T3V0U2NyaXB0LAogICAgcHJldk91dFR5cGU6IHByZXZPdXRUeXBlLAogICAgcHViS2V5czogcHViS2V5cywKICAgIHJlZGVlbVNjcmlwdDogcmVkZWVtU2NyaXB0LAogICAgc2NyaXB0VHlwZTogc2NyaXB0VHlwZSwKICAgIHNpZ25hdHVyZXM6IHNpZ25hdHVyZXMKICB9Cn0KCmZ1bmN0aW9uIFRyYW5zYWN0aW9uQnVpbGRlciAobmV0d29yaykgewogIHRoaXMucHJldlR4TWFwID0ge30KICB0aGlzLnByZXZPdXRTY3JpcHRzID0ge30KICB0aGlzLnByZXZPdXRUeXBlcyA9IHt9CiAgdGhpcy5uZXR3b3JrID0gbmV0d29yayB8fCBuZXR3b3Jrcy5iaXRjb2luCgogIHRoaXMuaW5wdXRzID0gW10KICB0aGlzLnR4ID0gbmV3IFRyYW5zYWN0aW9uKCkKfQoKVHJhbnNhY3Rpb25CdWlsZGVyLnByb3RvdHlwZS5zZXRMb2NrVGltZSA9IGZ1bmN0aW9uIChsb2NrdGltZSkgewogIHR5cGVmb3JjZSh0eXBlcy5VSW50MzIsIGxvY2t0aW1lKQoKICAvLyBpZiBhbnkgc2lnbmF0dXJlcyBleGlzdCwgdGhyb3cKICBpZiAodGhpcy5pbnB1dHMuc29tZShmdW5jdGlvbiAoaW5wdXQpIHsKICAgIGlmICghaW5wdXQuc2lnbmF0dXJlcykgcmV0dXJuIGZhbHNlCgogICAgcmV0dXJuIGlucHV0LnNpZ25hdHVyZXMuc29tZShmdW5jdGlvbiAocykgeyByZXR1cm4gcyB9KQogIH0pKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vLCB0aGlzIHdvdWxkIGludmFsaWRhdGUgc2lnbmF0dXJlcycpCiAgfQoKICB0aGlzLnR4LmxvY2t0aW1lID0gbG9ja3RpbWUKfQoKVHJhbnNhY3Rpb25CdWlsZGVyLmZyb21UcmFuc2FjdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2FjdGlvbiwgbmV0d29yaykgewogIHZhciB0eGIgPSBuZXcgVHJhbnNhY3Rpb25CdWlsZGVyKG5ldHdvcmspCgogIC8vIENvcHkgb3RoZXIgdHJhbnNhY3Rpb24gZmllbGRzCiAgdHhiLnR4LnZlcnNpb24gPSB0cmFuc2FjdGlvbi52ZXJzaW9uCiAgdHhiLnR4LmxvY2t0aW1lID0gdHJhbnNhY3Rpb24ubG9ja3RpbWUKCiAgLy8gRXh0cmFjdC9hZGQgaW5wdXRzCiAgdHJhbnNhY3Rpb24uaW5zLmZvckVhY2goZnVuY3Rpb24gKHR4SW4pIHsKICAgIHR4Yi5hZGRJbnB1dCh0eEluLmhhc2gsIHR4SW4uaW5kZXgsIHR4SW4uc2VxdWVuY2UpCiAgfSkKCiAgLy8gRXh0cmFjdC9hZGQgb3V0cHV0cwogIHRyYW5zYWN0aW9uLm91dHMuZm9yRWFjaChmdW5jdGlvbiAodHhPdXQpIHsKICAgIHR4Yi5hZGRPdXRwdXQodHhPdXQuc2NyaXB0LCB0eE91dC52YWx1ZSkKICB9KQoKICAvLyBFeHRyYWN0L2FkZCBzaWduYXR1cmVzCiAgdHhiLmlucHV0cyA9IHRyYW5zYWN0aW9uLmlucy5tYXAoZnVuY3Rpb24gKHR4SW4sIHZpbikgewogICAgLy8gVE9ETzogdmVyaWZ5IHdoZXRoZXIgZXh0cmFjdElucHV0IGlzIHNhbmUgd2l0aCBjb2luYmFzZSBzY3JpcHRzCiAgICBpZiAoVHJhbnNhY3Rpb24uaXNDb2luYmFzZUhhc2godHhJbi5oYXNoKSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvaW5iYXNlIGlucHV0cyBub3Qgc3VwcG9ydGVkJykKICAgIH0KCiAgICAvLyBJZ25vcmUgZW1wdHkgc2NyaXB0cwogICAgaWYgKHR4SW4uc2NyaXB0Lmxlbmd0aCA9PT0gMCkgcmV0dXJuIHt9CgogICAgcmV0dXJuIGV4dHJhY3RJbnB1dCh0cmFuc2FjdGlvbiwgdHhJbiwgdmluKQogIH0pCgogIHJldHVybiB0eGIKfQoKVHJhbnNhY3Rpb25CdWlsZGVyLnByb3RvdHlwZS5hZGRJbnB1dCA9IGZ1bmN0aW9uICh0eEhhc2gsIHZvdXQsIHNlcXVlbmNlLCBwcmV2T3V0U2NyaXB0KSB7CiAgLy8gaXMgaXQgYSBoZXggc3RyaW5nPwogIGlmICh0eXBlb2YgdHhIYXNoID09PSAnc3RyaW5nJykgewogICAgLy8gdHJhbnNhY3Rpb24gaGFzaHMncyBhcmUgZGlzcGxheWVkIGluIHJldmVyc2Ugb3JkZXIsIHVuLXJldmVyc2UgaXQKICAgIHR4SGFzaCA9IFtdLnJldmVyc2UuY2FsbChuZXcgQnVmZmVyKHR4SGFzaCwgJ2hleCcpKQoKICAvLyBpcyBpdCBhIFRyYW5zYWN0aW9uIG9iamVjdD8KICB9IGVsc2UgaWYgKHR4SGFzaCBpbnN0YW5jZW9mIFRyYW5zYWN0aW9uKSB7CiAgICBwcmV2T3V0U2NyaXB0ID0gdHhIYXNoLm91dHNbdm91dF0uc2NyaXB0CiAgICB0eEhhc2ggPSB0eEhhc2guZ2V0SGFzaCgpCiAgfQoKICB2YXIgaW5wdXQgPSB7fQogIGlmIChwcmV2T3V0U2NyaXB0KSB7CiAgICB2YXIgcHJldk91dFNjcmlwdENodW5rcyA9IGJzY3JpcHQuZGVjb21waWxlKHByZXZPdXRTY3JpcHQpCiAgICB2YXIgcHJldk91dFR5cGUgPSBic2NyaXB0LmNsYXNzaWZ5T3V0cHV0KHByZXZPdXRTY3JpcHRDaHVua3MpCgogICAgLy8gaWYgd2UgY2FuLCBleHRyYWN0IHB1YktleSBpbmZvcm1hdGlvbgogICAgc3dpdGNoIChwcmV2T3V0VHlwZSkgewogICAgICBjYXNlICdtdWx0aXNpZyc6CiAgICAgICAgaW5wdXQucHViS2V5cyA9IHByZXZPdXRTY3JpcHRDaHVua3Muc2xpY2UoMSwgLTIpCiAgICAgICAgaW5wdXQuc2lnbmF0dXJlcyA9IGlucHV0LnB1YktleXMubWFwKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZCB9KQoKICAgICAgICBicmVhawoKICAgICAgY2FzZSAncHVia2V5JzoKICAgICAgICBpbnB1dC5wdWJLZXlzID0gcHJldk91dFNjcmlwdENodW5rcy5zbGljZSgwLCAxKQogICAgICAgIGlucHV0LnNpZ25hdHVyZXMgPSBbdW5kZWZpbmVkXQoKICAgICAgICBicmVhawogICAgfQoKICAgIGlmIChwcmV2T3V0VHlwZSAhPT0gJ3NjcmlwdGhhc2gnKSB7CiAgICAgIGlucHV0LnNjcmlwdFR5cGUgPSBwcmV2T3V0VHlwZQogICAgfQoKICAgIGlucHV0LnByZXZPdXRTY3JpcHQgPSBwcmV2T3V0U2NyaXB0CiAgICBpbnB1dC5wcmV2T3V0VHlwZSA9IHByZXZPdXRUeXBlCiAgfQoKICAvLyBpZiBzaWduYXR1cmVzIGV4aXN0LCBhZGRpbmcgaW5wdXRzIGlzIG9ubHkgYWNjZXB0YWJsZSBpZiBTSUdIQVNIX0FOWU9ORUNBTlBBWSBpcyB1c2VkCiAgLy8gdGhyb3cgaWYgYW55IHNpZ25hdHVyZXMgKmRpZG4ndCogdXNlIFNJR0hBU0hfQU5ZT05FQ0FOUEFZCiAgaWYgKCF0aGlzLmlucHV0cy5ldmVyeShmdW5jdGlvbiAob3RoZXJJbnB1dCkgewogICAgLy8gbm8gc2lnbmF0dXJlCiAgICBpZiAob3RoZXJJbnB1dC5oYXNoVHlwZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdHJ1ZQoKICAgIHJldHVybiBvdGhlcklucHV0Lmhhc2hUeXBlICYgVHJhbnNhY3Rpb24uU0lHSEFTSF9BTllPTkVDQU5QQVkKICB9KSkgewogICAgdGhyb3cgbmV3IEVycm9yKCdObywgdGhpcyB3b3VsZCBpbnZhbGlkYXRlIHNpZ25hdHVyZXMnKQogIH0KCiAgdmFyIHByZXZPdXQgPSB0eEhhc2gudG9TdHJpbmcoJ2hleCcpICsgJzonICsgdm91dAogIGlmICh0aGlzLnByZXZUeE1hcFtwcmV2T3V0XSkgdGhyb3cgbmV3IEVycm9yKCdUcmFuc2FjdGlvbiBpcyBhbHJlYWR5IGFuIGlucHV0JykKCiAgdmFyIHZpbiA9IHRoaXMudHguYWRkSW5wdXQodHhIYXNoLCB2b3V0LCBzZXF1ZW5jZSkKICB0aGlzLmlucHV0c1t2aW5dID0gaW5wdXQKICB0aGlzLnByZXZUeE1hcFtwcmV2T3V0XSA9IHZpbgoKICByZXR1cm4gdmluCn0KClRyYW5zYWN0aW9uQnVpbGRlci5wcm90b3R5cGUuYWRkT3V0cHV0ID0gZnVuY3Rpb24gKHNjcmlwdFB1YktleSwgdmFsdWUpIHsKICB2YXIgbk91dHB1dHMgPSB0aGlzLnR4Lm91dHMubGVuZ3RoCgogIC8vIGlmIHNpZ25hdHVyZXMgZXhpc3QsIGFkZGluZyBvdXRwdXRzIGlzIG9ubHkgYWNjZXB0YWJsZSBpZiBTSUdIQVNIX05PTkUgb3IgU0lHSEFTSF9TSU5HTEUgaXMgdXNlZAogIC8vIHRocm93cyBpZiBhbnkgc2lnbmF0dXJlcyBkaWRuJ3QgdXNlIFNJR0hBU0hfTk9ORXxTSUdIQVNIX1NJTkdMRQogIGlmICghdGhpcy5pbnB1dHMuZXZlcnkoZnVuY3Rpb24gKGlucHV0LCBpbmRleCkgewogICAgLy8gbm8gc2lnbmF0dXJlCiAgICBpZiAoaW5wdXQuaGFzaFR5cGUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRydWUKCiAgICB2YXIgaGFzaFR5cGVNb2QgPSBpbnB1dC5oYXNoVHlwZSAmIDB4MWYKICAgIGlmIChoYXNoVHlwZU1vZCA9PT0gVHJhbnNhY3Rpb24uU0lHSEFTSF9OT05FKSByZXR1cm4gdHJ1ZQogICAgaWYgKGhhc2hUeXBlTW9kID09PSBUcmFuc2FjdGlvbi5TSUdIQVNIX1NJTkdMRSkgewogICAgICAvLyBhY2NvdW50IGZvciBTSUdIQVNIX1NJTkdMRSBzaWduaW5nIG9mIGEgbm9uLWV4aXN0aW5nIG91dHB1dCwgYWthIHRoZSAiU0lHSEFTSF9TSU5HTEUiIGJ1ZwogICAgICByZXR1cm4gaW5kZXggPCBuT3V0cHV0cwogICAgfQoKICAgIHJldHVybiBmYWxzZQogIH0pKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vLCB0aGlzIHdvdWxkIGludmFsaWRhdGUgc2lnbmF0dXJlcycpCiAgfQoKICAvLyBBdHRlbXB0IHRvIGdldCBhIHNjcmlwdCBpZiBpdCdzIGEgYmFzZTU4IGFkZHJlc3Mgc3RyaW5nCiAgaWYgKHR5cGVvZiBzY3JpcHRQdWJLZXkgPT09ICdzdHJpbmcnKSB7CiAgICBzY3JpcHRQdWJLZXkgPSBiYWRkcmVzcy50b091dHB1dFNjcmlwdChzY3JpcHRQdWJLZXksIHRoaXMubmV0d29yaykKICB9CgogIHJldHVybiB0aGlzLnR4LmFkZE91dHB1dChzY3JpcHRQdWJLZXksIHZhbHVlKQp9CgpUcmFuc2FjdGlvbkJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiB0aGlzLl9fYnVpbGQoZmFsc2UpCn0KVHJhbnNhY3Rpb25CdWlsZGVyLnByb3RvdHlwZS5idWlsZEluY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHRoaXMuX19idWlsZCh0cnVlKQp9Cgp2YXIgY2FuQnVpbGRUeXBlcyA9IHsKICAnbXVsdGlzaWcnOiB0cnVlLAogICdwdWJrZXknOiB0cnVlLAogICdwdWJrZXloYXNoJzogdHJ1ZQp9CgpUcmFuc2FjdGlvbkJ1aWxkZXIucHJvdG90eXBlLl9fYnVpbGQgPSBmdW5jdGlvbiAoYWxsb3dJbmNvbXBsZXRlKSB7CiAgaWYgKCFhbGxvd0luY29tcGxldGUpIHsKICAgIGlmICghdGhpcy50eC5pbnMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ1RyYW5zYWN0aW9uIGhhcyBubyBpbnB1dHMnKQogICAgaWYgKCF0aGlzLnR4Lm91dHMubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ1RyYW5zYWN0aW9uIGhhcyBubyBvdXRwdXRzJykKICB9CgogIHZhciB0eCA9IHRoaXMudHguY2xvbmUoKQoKICAvLyBDcmVhdGUgc2NyaXB0IHNpZ25hdHVyZXMgZnJvbSBpbnB1dHMKICB0aGlzLmlucHV0cy5mb3JFYWNoKGZ1bmN0aW9uIChpbnB1dCwgaW5kZXgpIHsKICAgIHZhciBzY3JpcHRUeXBlID0gaW5wdXQuc2NyaXB0VHlwZQogICAgdmFyIHNjcmlwdFNpZwoKICAgIGlmICghYWxsb3dJbmNvbXBsZXRlKSB7CiAgICAgIGlmICghc2NyaXB0VHlwZSkgdGhyb3cgbmV3IEVycm9yKCdUcmFuc2FjdGlvbiBpcyBub3QgY29tcGxldGUnKQogICAgICBpZiAoIWNhbkJ1aWxkVHlwZXNbc2NyaXB0VHlwZV0pIHRocm93IG5ldyBFcnJvcihzY3JpcHRUeXBlICsgJyBub3Qgc3VwcG9ydGVkJykKCiAgICAgIC8vIFhYWDogb25seSByZWxldmFudCB0byB0eXBlcyB0aGF0IG5lZWQgc2lnbmF0dXJlcwogICAgICBpZiAoIWlucHV0LnNpZ25hdHVyZXMpIHRocm93IG5ldyBFcnJvcignVHJhbnNhY3Rpb24gaXMgbWlzc2luZyBzaWduYXR1cmVzJykKICAgIH0KCiAgICBpZiAoaW5wdXQuc2lnbmF0dXJlcykgewogICAgICBzd2l0Y2ggKHNjcmlwdFR5cGUpIHsKICAgICAgICBjYXNlICdwdWJrZXloYXNoJzoKICAgICAgICAgIHZhciBwa2hTaWduYXR1cmUgPSBpbnB1dC5zaWduYXR1cmVzWzBdLnRvU2NyaXB0U2lnbmF0dXJlKGlucHV0Lmhhc2hUeXBlKQogICAgICAgICAgc2NyaXB0U2lnID0gYnNjcmlwdC5wdWJLZXlIYXNoSW5wdXQocGtoU2lnbmF0dXJlLCBpbnB1dC5wdWJLZXlzWzBdKQogICAgICAgICAgYnJlYWsKCiAgICAgICAgY2FzZSAnbXVsdGlzaWcnOgogICAgICAgICAgdmFyIG1zU2lnbmF0dXJlcyA9IGlucHV0LnNpZ25hdHVyZXMubWFwKGZ1bmN0aW9uIChzaWduYXR1cmUpIHsKICAgICAgICAgICAgcmV0dXJuIHNpZ25hdHVyZSAmJiBzaWduYXR1cmUudG9TY3JpcHRTaWduYXR1cmUoaW5wdXQuaGFzaFR5cGUpCiAgICAgICAgICB9KQoKICAgICAgICAgIC8vIGZpbGwgaW4gYmxhbmtzIHdpdGggT1BfMAogICAgICAgICAgaWYgKGFsbG93SW5jb21wbGV0ZSkgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zU2lnbmF0dXJlcy5sZW5ndGg7ICsraSkgewogICAgICAgICAgICAgIG1zU2lnbmF0dXJlc1tpXSA9IG1zU2lnbmF0dXJlc1tpXSB8fCBvcHMuT1BfMAogICAgICAgICAgICB9CgogICAgICAgICAgLy8gcmVtb3ZlIGJsYW5rIHNpZ25hdHVyZXMKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIG1zU2lnbmF0dXJlcyA9IG1zU2lnbmF0dXJlcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggfSkKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgcmVkZWVtU2NyaXB0ID0gYWxsb3dJbmNvbXBsZXRlID8gdW5kZWZpbmVkIDogaW5wdXQucmVkZWVtU2NyaXB0CiAgICAgICAgICBzY3JpcHRTaWcgPSBic2NyaXB0Lm11bHRpc2lnSW5wdXQobXNTaWduYXR1cmVzLCByZWRlZW1TY3JpcHQpCiAgICAgICAgICBicmVhawoKICAgICAgICBjYXNlICdwdWJrZXknOgogICAgICAgICAgdmFyIHBrU2lnbmF0dXJlID0gaW5wdXQuc2lnbmF0dXJlc1swXS50b1NjcmlwdFNpZ25hdHVyZShpbnB1dC5oYXNoVHlwZSkKICAgICAgICAgIHNjcmlwdFNpZyA9IGJzY3JpcHQucHViS2V5SW5wdXQocGtTaWduYXR1cmUpCiAgICAgICAgICBicmVhawogICAgICB9CiAgICB9CgogICAgLy8gZGlkIHdlIGJ1aWxkIGEgc2NyaXB0U2lnPwogICAgaWYgKHNjcmlwdFNpZykgewogICAgICAvLyB3cmFwIGFzIHNjcmlwdEhhc2ggaWYgbmVjZXNzYXJ5CiAgICAgIGlmIChpbnB1dC5wcmV2T3V0VHlwZSA9PT0gJ3NjcmlwdGhhc2gnKSB7CiAgICAgICAgc2NyaXB0U2lnID0gYnNjcmlwdC5zY3JpcHRIYXNoSW5wdXQoc2NyaXB0U2lnLCBpbnB1dC5yZWRlZW1TY3JpcHQpCiAgICAgIH0KCiAgICAgIHR4LnNldElucHV0U2NyaXB0KGluZGV4LCBzY3JpcHRTaWcpCiAgICB9CiAgfSkKCiAgcmV0dXJuIHR4Cn0KClRyYW5zYWN0aW9uQnVpbGRlci5wcm90b3R5cGUuc2lnbiA9IGZ1bmN0aW9uIChpbmRleCwga2V5UGFpciwgcmVkZWVtU2NyaXB0LCBoYXNoVHlwZSkgewogIGlmIChrZXlQYWlyLm5ldHdvcmsgIT09IHRoaXMubmV0d29yaykgdGhyb3cgbmV3IEVycm9yKCdJbmNvbnNpc3RlbnQgbmV0d29yaycpCiAgaWYgKCF0aGlzLmlucHV0c1tpbmRleF0pIHRocm93IG5ldyBFcnJvcignTm8gaW5wdXQgYXQgaW5kZXg6ICcgKyBpbmRleCkKICBoYXNoVHlwZSA9IGhhc2hUeXBlIHx8IFRyYW5zYWN0aW9uLlNJR0hBU0hfQUxMCgogIHZhciBpbnB1dCA9IHRoaXMuaW5wdXRzW2luZGV4XQogIHZhciBjYW5TaWduID0gaW5wdXQuaGFzaFR5cGUgJiYKICAgIGlucHV0LnByZXZPdXRTY3JpcHQgJiYKICAgIGlucHV0LnByZXZPdXRUeXBlICYmCiAgICBpbnB1dC5wdWJLZXlzICYmCiAgICBpbnB1dC5zY3JpcHRUeXBlICYmCiAgICBpbnB1dC5zaWduYXR1cmVzICYmCiAgICBpbnB1dC5zaWduYXR1cmVzLmxlbmd0aCA9PT0gaW5wdXQucHViS2V5cy5sZW5ndGgKCiAgdmFyIGtwUHViS2V5ID0ga2V5UGFpci5nZXRQdWJsaWNLZXlCdWZmZXIoKQoKICAvLyBhcmUgd2UgcmVhZHkgdG8gc2lnbj8KICBpZiAoY2FuU2lnbikgewogICAgLy8gaWYgcmVkZWVtU2NyaXB0IHdhcyBwcm92aWRlZCwgZW5mb3JjZSBjb25zaXN0ZW5jeQogICAgaWYgKHJlZGVlbVNjcmlwdCkgewogICAgICBpZiAoIWJ1ZmZlckVxdWFscyhpbnB1dC5yZWRlZW1TY3JpcHQsIHJlZGVlbVNjcmlwdCkpIHRocm93IG5ldyBFcnJvcignSW5jb25zaXN0ZW50IHJlZGVlbVNjcmlwdCcpCiAgICB9CgogICAgaWYgKGlucHV0Lmhhc2hUeXBlICE9PSBoYXNoVHlwZSkgdGhyb3cgbmV3IEVycm9yKCdJbmNvbnNpc3RlbnQgaGFzaFR5cGUnKQoKICAvLyBubz8gcHJlcGFyZQogIH0gZWxzZSB7CiAgICAvLyBtdXN0IGJlIHBheS10by1zY3JpcHRIYXNoPwogICAgaWYgKHJlZGVlbVNjcmlwdCkgewogICAgICAvLyBpZiB3ZSBoYXZlIGEgcHJldk91dFNjcmlwdCwgZW5mb3JjZSBzY3JpcHRIYXNoIGVxdWFsaXR5IHRvIHRoZSByZWRlZW1TY3JpcHQKICAgICAgaWYgKGlucHV0LnByZXZPdXRTY3JpcHQpIHsKICAgICAgICBpZiAoaW5wdXQucHJldk91dFR5cGUgIT09ICdzY3JpcHRoYXNoJykgdGhyb3cgbmV3IEVycm9yKCdQcmV2T3V0U2NyaXB0IG11c3QgYmUgUDJTSCcpCgogICAgICAgIHZhciBzY3JpcHRIYXNoID0gYnNjcmlwdC5kZWNvbXBpbGUoaW5wdXQucHJldk91dFNjcmlwdClbMV0KICAgICAgICBpZiAoIWJ1ZmZlckVxdWFscyhzY3JpcHRIYXNoLCBiY3J5cHRvLmhhc2gxNjAocmVkZWVtU2NyaXB0KSkpIHRocm93IG5ldyBFcnJvcignUmVkZWVtU2NyaXB0IGRvZXMgbm90IG1hdGNoICcgKyBzY3JpcHRIYXNoLnRvU3RyaW5nKCdoZXgnKSkKICAgICAgfQoKICAgICAgdmFyIHNjcmlwdFR5cGUgPSBic2NyaXB0LmNsYXNzaWZ5T3V0cHV0KHJlZGVlbVNjcmlwdCkKICAgICAgdmFyIHJlZGVlbVNjcmlwdENodW5rcyA9IGJzY3JpcHQuZGVjb21waWxlKHJlZGVlbVNjcmlwdCkKICAgICAgdmFyIHB1YktleXMKCiAgICAgIHN3aXRjaCAoc2NyaXB0VHlwZSkgewogICAgICAgIGNhc2UgJ211bHRpc2lnJzoKICAgICAgICAgIHB1YktleXMgPSByZWRlZW1TY3JpcHRDaHVua3Muc2xpY2UoMSwgLTIpCgogICAgICAgICAgYnJlYWsKCiAgICAgICAgY2FzZSAncHVia2V5aGFzaCc6CiAgICAgICAgICB2YXIgcGtoMSA9IHJlZGVlbVNjcmlwdENodW5rc1syXQogICAgICAgICAgdmFyIHBraDIgPSBiY3J5cHRvLmhhc2gxNjAoa2V5UGFpci5nZXRQdWJsaWNLZXlCdWZmZXIoKSkKCiAgICAgICAgICBpZiAoIWJ1ZmZlckVxdWFscyhwa2gxLCBwa2gyKSkgdGhyb3cgbmV3IEVycm9yKCdwcml2YXRlS2V5IGNhbm5vdCBzaWduIGZvciB0aGlzIGlucHV0JykKICAgICAgICAgIHB1YktleXMgPSBba3BQdWJLZXldCgogICAgICAgICAgYnJlYWsKCiAgICAgICAgY2FzZSAncHVia2V5JzoKICAgICAgICAgIHB1YktleXMgPSByZWRlZW1TY3JpcHRDaHVua3Muc2xpY2UoMCwgMSkKCiAgICAgICAgICBicmVhawoKICAgICAgICBkZWZhdWx0OgogICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWRlZW1TY3JpcHQgbm90IHN1cHBvcnRlZCAoJyArIHNjcmlwdFR5cGUgKyAnKScpCiAgICAgIH0KCiAgICAgIC8vIGlmIHdlIGRvbid0IGhhdmUgYSBwcmV2T3V0U2NyaXB0LCBnZW5lcmF0ZSBhIFAyU0ggc2NyaXB0CiAgICAgIGlmICghaW5wdXQucHJldk91dFNjcmlwdCkgewogICAgICAgIGlucHV0LnByZXZPdXRTY3JpcHQgPSBic2NyaXB0LnNjcmlwdEhhc2hPdXRwdXQoYmNyeXB0by5oYXNoMTYwKHJlZGVlbVNjcmlwdCkpCiAgICAgICAgaW5wdXQucHJldk91dFR5cGUgPSAnc2NyaXB0aGFzaCcKICAgICAgfQoKICAgICAgaW5wdXQucHViS2V5cyA9IHB1YktleXMKICAgICAgaW5wdXQucmVkZWVtU2NyaXB0ID0gcmVkZWVtU2NyaXB0CiAgICAgIGlucHV0LnNjcmlwdFR5cGUgPSBzY3JpcHRUeXBlCiAgICAgIGlucHV0LnNpZ25hdHVyZXMgPSBwdWJLZXlzLm1hcChmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQgfSkKICAgIH0gZWxzZSB7CiAgICAgIC8vIHBheS10by1zY3JpcHRIYXNoIGlzIG5vdCBwb3NzaWJsZSB3aXRob3V0IGEgcmVkZWVtU2NyaXB0CiAgICAgIGlmIChpbnB1dC5wcmV2T3V0VHlwZSA9PT0gJ3NjcmlwdGhhc2gnKSB0aHJvdyBuZXcgRXJyb3IoJ1ByZXZPdXRTY3JpcHQgaXMgUDJTSCwgbWlzc2luZyByZWRlZW1TY3JpcHQnKQoKICAgICAgLy8gaWYgd2UgZG9uJ3QgaGF2ZSBhIHNjcmlwdFR5cGUsIGFzc3VtZSBwdWJLZXlIYXNoIG90aGVyd2lzZQogICAgICBpZiAoIWlucHV0LnNjcmlwdFR5cGUpIHsKICAgICAgICBpbnB1dC5wcmV2T3V0U2NyaXB0ID0gYnNjcmlwdC5wdWJLZXlIYXNoT3V0cHV0KGJjcnlwdG8uaGFzaDE2MChrZXlQYWlyLmdldFB1YmxpY0tleUJ1ZmZlcigpKSkKICAgICAgICBpbnB1dC5wcmV2T3V0VHlwZSA9ICdwdWJrZXloYXNoJwogICAgICAgIGlucHV0LnB1YktleXMgPSBba3BQdWJLZXldCiAgICAgICAgaW5wdXQuc2NyaXB0VHlwZSA9IGlucHV0LnByZXZPdXRUeXBlCiAgICAgICAgaW5wdXQuc2lnbmF0dXJlcyA9IFt1bmRlZmluZWRdCiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gdGhyb3cgaWYgd2UgY2FuJ3Qgc2lnbiB3aXRoIGl0CiAgICAgICAgaWYgKCFpbnB1dC5wdWJLZXlzIHx8ICFpbnB1dC5zaWduYXR1cmVzKSB0aHJvdyBuZXcgRXJyb3IoaW5wdXQuc2NyaXB0VHlwZSArICcgbm90IHN1cHBvcnRlZCcpCiAgICAgIH0KICAgIH0KCiAgICBpbnB1dC5oYXNoVHlwZSA9IGhhc2hUeXBlCiAgfQoKICAvLyByZWFkeSB0byBzaWduPwogIHZhciBzaWduYXR1cmVTY3JpcHQgPSBpbnB1dC5yZWRlZW1TY3JpcHQgfHwgaW5wdXQucHJldk91dFNjcmlwdAogIHZhciBzaWduYXR1cmVIYXNoID0gdGhpcy50eC5oYXNoRm9yU2lnbmF0dXJlKGluZGV4LCBzaWduYXR1cmVTY3JpcHQsIGhhc2hUeXBlKQoKICAvLyBlbmZvcmNlIGluIG9yZGVyIHNpZ25pbmcgb2YgcHVibGljIGtleXMKICB2YXIgdmFsaWQgPSBpbnB1dC5wdWJLZXlzLnNvbWUoZnVuY3Rpb24gKHB1YktleSwgaSkgewogICAgaWYgKCFidWZmZXJFcXVhbHMoa3BQdWJLZXksIHB1YktleSkpIHJldHVybiBmYWxzZQogICAgaWYgKGlucHV0LnNpZ25hdHVyZXNbaV0pIHRocm93IG5ldyBFcnJvcignU2lnbmF0dXJlIGFscmVhZHkgZXhpc3RzJykKCiAgICB2YXIgc2lnbmF0dXJlID0ga2V5UGFpci5zaWduKHNpZ25hdHVyZUhhc2gpCiAgICBpbnB1dC5zaWduYXR1cmVzW2ldID0gc2lnbmF0dXJlCgogICAgcmV0dXJuIHRydWUKICB9KQoKICBpZiAoIXZhbGlkKSB0aHJvdyBuZXcgRXJyb3IoJ0tleSBwYWlyIGNhbm5vdCBzaWduIGZvciB0aGlzIGlucHV0JykKfQoKbW9kdWxlLmV4cG9ydHMgPSBUcmFuc2FjdGlvbkJ1aWxkZXIKCn0pLmNhbGwodGhpcyxyZXF1aXJlKCJidWZmZXIiKS5CdWZmZXIpCn0seyIuL2FkZHJlc3MiOjI1LCIuL2NyeXB0byI6MjgsIi4vZWNwYWlyIjozMCwiLi9lY3NpZ25hdHVyZSI6MzEsIi4vbmV0d29ya3MiOjM1LCIuL29wY29kZXMiOjM2LCIuL3NjcmlwdCI6MzcsIi4vdHJhbnNhY3Rpb24iOjM5LCIuL3R5cGVzIjo0MSwiYnVmZmVyIjo3NiwiYnVmZmVyLWVxdWFscyI6NzMsInR5cGVmb3JjZSI6MTcyfV0sNDE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewp2YXIgdHlwZWZvcmNlID0gcmVxdWlyZSgndHlwZWZvcmNlJykKCmZ1bmN0aW9uIG5CdWZmZXIgKHZhbHVlLCBuKSB7CiAgdHlwZWZvcmNlKHR5cGVzLkJ1ZmZlciwgdmFsdWUpCiAgaWYgKHZhbHVlLmxlbmd0aCAhPT0gbikgdGhyb3cgbmV3IHR5cGVmb3JjZS5UZlR5cGVFcnJvcignRXhwZWN0ZWQgJyArIChuICogOCkgKyAnLWJpdCBCdWZmZXIsIGdvdCAnICsgKHZhbHVlLmxlbmd0aCAqIDgpICsgJy1iaXQgQnVmZmVyJykKCiAgcmV0dXJuIHRydWUKfQoKZnVuY3Rpb24gSGFzaDE2MGJpdCAodmFsdWUpIHsgcmV0dXJuIG5CdWZmZXIodmFsdWUsIDIwKSB9CmZ1bmN0aW9uIEhhc2gyNTZiaXQgKHZhbHVlKSB7IHJldHVybiBuQnVmZmVyKHZhbHVlLCAzMikgfQpmdW5jdGlvbiBCdWZmZXIyNTZiaXQgKHZhbHVlKSB7IHJldHVybiBuQnVmZmVyKHZhbHVlLCAzMikgfQoKdmFyIFVJTlQ1M19NQVggPSBNYXRoLnBvdygyLCA1MykgLSAxCmZ1bmN0aW9uIFVJbnQyICh2YWx1ZSkgeyByZXR1cm4gKHZhbHVlICYgMykgPT09IHZhbHVlIH0KZnVuY3Rpb24gVUludDggKHZhbHVlKSB7IHJldHVybiAodmFsdWUgJiAweGZmKSA9PT0gdmFsdWUgfQpmdW5jdGlvbiBVSW50MzIgKHZhbHVlKSB7IHJldHVybiAodmFsdWUgPj4+IDApID09PSB2YWx1ZSB9CmZ1bmN0aW9uIFVJbnQ1MyAodmFsdWUpIHsKICByZXR1cm4gdHlwZWZvcmNlLk51bWJlcih2YWx1ZSkgJiYKICAgIHZhbHVlID49IDAgJiYKICAgIHZhbHVlIDw9IFVJTlQ1M19NQVggJiYKICAgIE1hdGguZmxvb3IodmFsdWUpID09PSB2YWx1ZQp9CgovLyBleHRlcm5hbCBkZXBlbmRlbnQgdHlwZXMKdmFyIEJpZ0ludCA9IHR5cGVmb3JjZS5xdWFja3NMaWtlKCdCaWdJbnRlZ2VyJykKdmFyIEVDUG9pbnQgPSB0eXBlZm9yY2UucXVhY2tzTGlrZSgnUG9pbnQnKQoKLy8gZXhwb3NlZCwgZXh0ZXJuYWwgQVBJCnZhciBFQ1NpZ25hdHVyZSA9IHR5cGVmb3JjZS5jb21waWxlKHsgcjogQmlnSW50LCBzOiBCaWdJbnQgfSkKdmFyIE5ldHdvcmsgPSB0eXBlZm9yY2UuY29tcGlsZSh7CiAgbWVzc2FnZVByZWZpeDogdHlwZWZvcmNlLm9uZU9mKHR5cGVmb3JjZS5CdWZmZXIsIHR5cGVmb3JjZS5TdHJpbmcpLAogIGJpcDMyOiB7CiAgICBwdWJsaWM6IFVJbnQzMiwKICAgIHByaXZhdGU6IFVJbnQzMgogIH0sCiAgcHViS2V5SGFzaDogVUludDgsCiAgc2NyaXB0SGFzaDogVUludDgsCiAgd2lmOiBVSW50OCwKICBkdXN0VGhyZXNob2xkOiBVSW50NTMKfSkKCi8vIGV4dGVuZCB0eXBlZm9yY2UgdHlwZXMgd2l0aCBvdXJzCnZhciB0eXBlcyA9IHsKICBCaWdJbnQ6IEJpZ0ludCwKICBCdWZmZXIyNTZiaXQ6IEJ1ZmZlcjI1NmJpdCwKICBFQ1BvaW50OiBFQ1BvaW50LAogIEVDU2lnbmF0dXJlOiBFQ1NpZ25hdHVyZSwKICBIYXNoMTYwYml0OiBIYXNoMTYwYml0LAogIEhhc2gyNTZiaXQ6IEhhc2gyNTZiaXQsCiAgTmV0d29yazogTmV0d29yaywKICBVSW50MjogVUludDIsCiAgVUludDg6IFVJbnQ4LAogIFVJbnQzMjogVUludDMyLAogIFVJbnQ1MzogVUludDUzCn0KCmZvciAodmFyIHR5cGVOYW1lIGluIHR5cGVmb3JjZSkgewogIHR5cGVzW3R5cGVOYW1lXSA9IHR5cGVmb3JjZVt0eXBlTmFtZV0KfQoKbW9kdWxlLmV4cG9ydHMgPSB0eXBlcwoKfSx7InR5cGVmb3JjZSI6MTcyfV0sNDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKG1vZHVsZSwgZXhwb3J0cykgewogICd1c2Ugc3RyaWN0JzsKCiAgLy8gVXRpbHMKICBmdW5jdGlvbiBhc3NlcnQgKHZhbCwgbXNnKSB7CiAgICBpZiAoIXZhbCkgdGhyb3cgbmV3IEVycm9yKG1zZyB8fCAnQXNzZXJ0aW9uIGZhaWxlZCcpOwogIH0KCiAgLy8gQ291bGQgdXNlIGBpbmhlcml0c2AgbW9kdWxlLCBidXQgZG9uJ3Qgd2FudCB0byBtb3ZlIGZyb20gc2luZ2xlIGZpbGUKICAvLyBhcmNoaXRlY3R1cmUgeWV0LgogIGZ1bmN0aW9uIGluaGVyaXRzIChjdG9yLCBzdXBlckN0b3IpIHsKICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yOwogICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge307CiAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlOwogICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKTsKICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvcjsKICB9CgogIC8vIEJOCgogIGZ1bmN0aW9uIEJOIChudW1iZXIsIGJhc2UsIGVuZGlhbikgewogICAgaWYgKEJOLmlzQk4obnVtYmVyKSkgewogICAgICByZXR1cm4gbnVtYmVyOwogICAgfQoKICAgIHRoaXMubmVnYXRpdmUgPSAwOwogICAgdGhpcy53b3JkcyA9IG51bGw7CiAgICB0aGlzLmxlbmd0aCA9IDA7CgogICAgLy8gUmVkdWN0aW9uIGNvbnRleHQKICAgIHRoaXMucmVkID0gbnVsbDsKCiAgICBpZiAobnVtYmVyICE9PSBudWxsKSB7CiAgICAgIGlmIChiYXNlID09PSAnbGUnIHx8IGJhc2UgPT09ICdiZScpIHsKICAgICAgICBlbmRpYW4gPSBiYXNlOwogICAgICAgIGJhc2UgPSAxMDsKICAgICAgfQoKICAgICAgdGhpcy5faW5pdChudW1iZXIgfHwgMCwgYmFzZSB8fCAxMCwgZW5kaWFuIHx8ICdiZScpOwogICAgfQogIH0KICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpIHsKICAgIG1vZHVsZS5leHBvcnRzID0gQk47CiAgfSBlbHNlIHsKICAgIGV4cG9ydHMuQk4gPSBCTjsKICB9CgogIEJOLkJOID0gQk47CiAgQk4ud29yZFNpemUgPSAyNjsKCiAgdmFyIEJ1ZmZlcjsKICB0cnkgewogICAgQnVmZmVyID0gcmVxdWlyZSgnYnVmJyArICdmZXInKS5CdWZmZXI7CiAgfSBjYXRjaCAoZSkgewogIH0KCiAgQk4uaXNCTiA9IGZ1bmN0aW9uIGlzQk4gKG51bSkgewogICAgcmV0dXJuIG51bSAhPT0gbnVsbCAmJiB0eXBlb2YgbnVtID09PSAnb2JqZWN0JyAmJgogICAgICBudW0uY29uc3RydWN0b3IubmFtZSA9PT0gJ0JOJyAmJiBBcnJheS5pc0FycmF5KG51bS53b3Jkcyk7CiAgfTsKCiAgQk4ubWF4ID0gZnVuY3Rpb24gbWF4IChsZWZ0LCByaWdodCkgewogICAgaWYgKGxlZnQuY21wKHJpZ2h0KSA+IDApIHJldHVybiBsZWZ0OwogICAgcmV0dXJuIHJpZ2h0OwogIH07CgogIEJOLm1pbiA9IGZ1bmN0aW9uIG1pbiAobGVmdCwgcmlnaHQpIHsKICAgIGlmIChsZWZ0LmNtcChyaWdodCkgPCAwKSByZXR1cm4gbGVmdDsKICAgIHJldHVybiByaWdodDsKICB9OwoKICBCTi5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiBpbml0IChudW1iZXIsIGJhc2UsIGVuZGlhbikgewogICAgaWYgKHR5cGVvZiBudW1iZXIgPT09ICdudW1iZXInKSB7CiAgICAgIHJldHVybiB0aGlzLl9pbml0TnVtYmVyKG51bWJlciwgYmFzZSwgZW5kaWFuKTsKICAgIH0KCiAgICBpZiAodHlwZW9mIG51bWJlciA9PT0gJ29iamVjdCcpIHsKICAgICAgcmV0dXJuIHRoaXMuX2luaXRBcnJheShudW1iZXIsIGJhc2UsIGVuZGlhbik7CiAgICB9CgogICAgaWYgKGJhc2UgPT09ICdoZXgnKSB7CiAgICAgIGJhc2UgPSAxNjsKICAgIH0KICAgIGFzc2VydChiYXNlID09PSAoYmFzZSB8IDApICYmIGJhc2UgPj0gMiAmJiBiYXNlIDw9IDM2KTsKCiAgICBudW1iZXIgPSBudW1iZXIudG9TdHJpbmcoKS5yZXBsYWNlKC9ccysvZywgJycpOwogICAgdmFyIHN0YXJ0ID0gMDsKICAgIGlmIChudW1iZXJbMF0gPT09ICctJykgewogICAgICBzdGFydCsrOwogICAgfQoKICAgIGlmIChiYXNlID09PSAxNikgewogICAgICB0aGlzLl9wYXJzZUhleChudW1iZXIsIHN0YXJ0KTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuX3BhcnNlQmFzZShudW1iZXIsIGJhc2UsIHN0YXJ0KTsKICAgIH0KCiAgICBpZiAobnVtYmVyWzBdID09PSAnLScpIHsKICAgICAgdGhpcy5uZWdhdGl2ZSA9IDE7CiAgICB9CgogICAgdGhpcy5zdHJpcCgpOwoKICAgIGlmIChlbmRpYW4gIT09ICdsZScpIHJldHVybjsKCiAgICB0aGlzLl9pbml0QXJyYXkodGhpcy50b0FycmF5KCksIGJhc2UsIGVuZGlhbik7CiAgfTsKCiAgQk4ucHJvdG90eXBlLl9pbml0TnVtYmVyID0gZnVuY3Rpb24gX2luaXROdW1iZXIgKG51bWJlciwgYmFzZSwgZW5kaWFuKSB7CiAgICBpZiAobnVtYmVyIDwgMCkgewogICAgICB0aGlzLm5lZ2F0aXZlID0gMTsKICAgICAgbnVtYmVyID0gLW51bWJlcjsKICAgIH0KICAgIGlmIChudW1iZXIgPCAweDQwMDAwMDApIHsKICAgICAgdGhpcy53b3JkcyA9IFsgbnVtYmVyICYgMHgzZmZmZmZmIF07CiAgICAgIHRoaXMubGVuZ3RoID0gMTsKICAgIH0gZWxzZSBpZiAobnVtYmVyIDwgMHgxMDAwMDAwMDAwMDAwMCkgewogICAgICB0aGlzLndvcmRzID0gWwogICAgICAgIG51bWJlciAmIDB4M2ZmZmZmZiwKICAgICAgICAobnVtYmVyIC8gMHg0MDAwMDAwKSAmIDB4M2ZmZmZmZgogICAgICBdOwogICAgICB0aGlzLmxlbmd0aCA9IDI7CiAgICB9IGVsc2UgewogICAgICBhc3NlcnQobnVtYmVyIDwgMHgyMDAwMDAwMDAwMDAwMCk7IC8vIDIgXiA1MyAodW5zYWZlKQogICAgICB0aGlzLndvcmRzID0gWwogICAgICAgIG51bWJlciAmIDB4M2ZmZmZmZiwKICAgICAgICAobnVtYmVyIC8gMHg0MDAwMDAwKSAmIDB4M2ZmZmZmZiwKICAgICAgICAxCiAgICAgIF07CiAgICAgIHRoaXMubGVuZ3RoID0gMzsKICAgIH0KCiAgICBpZiAoZW5kaWFuICE9PSAnbGUnKSByZXR1cm47CgogICAgLy8gUmV2ZXJzZSB0aGUgYnl0ZXMKICAgIHRoaXMuX2luaXRBcnJheSh0aGlzLnRvQXJyYXkoKSwgYmFzZSwgZW5kaWFuKTsKICB9OwoKICBCTi5wcm90b3R5cGUuX2luaXRBcnJheSA9IGZ1bmN0aW9uIF9pbml0QXJyYXkgKG51bWJlciwgYmFzZSwgZW5kaWFuKSB7CiAgICAvLyBQZXJoYXBzIGEgVWludDhBcnJheQogICAgYXNzZXJ0KHR5cGVvZiBudW1iZXIubGVuZ3RoID09PSAnbnVtYmVyJyk7CiAgICBpZiAobnVtYmVyLmxlbmd0aCA8PSAwKSB7CiAgICAgIHRoaXMud29yZHMgPSBbIDAgXTsKICAgICAgdGhpcy5sZW5ndGggPSAxOwogICAgICByZXR1cm4gdGhpczsKICAgIH0KCiAgICB0aGlzLmxlbmd0aCA9IE1hdGguY2VpbChudW1iZXIubGVuZ3RoIC8gMyk7CiAgICB0aGlzLndvcmRzID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewogICAgICB0aGlzLndvcmRzW2ldID0gMDsKICAgIH0KCiAgICB2YXIgaiwgdzsKICAgIHZhciBvZmYgPSAwOwogICAgaWYgKGVuZGlhbiA9PT0gJ2JlJykgewogICAgICBmb3IgKGkgPSBudW1iZXIubGVuZ3RoIC0gMSwgaiA9IDA7IGkgPj0gMDsgaSAtPSAzKSB7CiAgICAgICAgdyA9IG51bWJlcltpXSB8IChudW1iZXJbaSAtIDFdIDw8IDgpIHwgKG51bWJlcltpIC0gMl0gPDwgMTYpOwogICAgICAgIHRoaXMud29yZHNbal0gfD0gKHcgPDwgb2ZmKSAmIDB4M2ZmZmZmZjsKICAgICAgICB0aGlzLndvcmRzW2ogKyAxXSA9ICh3ID4+PiAoMjYgLSBvZmYpKSAmIDB4M2ZmZmZmZjsKICAgICAgICBvZmYgKz0gMjQ7CiAgICAgICAgaWYgKG9mZiA+PSAyNikgewogICAgICAgICAgb2ZmIC09IDI2OwogICAgICAgICAgaisrOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGlmIChlbmRpYW4gPT09ICdsZScpIHsKICAgICAgZm9yIChpID0gMCwgaiA9IDA7IGkgPCBudW1iZXIubGVuZ3RoOyBpICs9IDMpIHsKICAgICAgICB3ID0gbnVtYmVyW2ldIHwgKG51bWJlcltpICsgMV0gPDwgOCkgfCAobnVtYmVyW2kgKyAyXSA8PCAxNik7CiAgICAgICAgdGhpcy53b3Jkc1tqXSB8PSAodyA8PCBvZmYpICYgMHgzZmZmZmZmOwogICAgICAgIHRoaXMud29yZHNbaiArIDFdID0gKHcgPj4+ICgyNiAtIG9mZikpICYgMHgzZmZmZmZmOwogICAgICAgIG9mZiArPSAyNDsKICAgICAgICBpZiAob2ZmID49IDI2KSB7CiAgICAgICAgICBvZmYgLT0gMjY7CiAgICAgICAgICBqKys7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICByZXR1cm4gdGhpcy5zdHJpcCgpOwogIH07CgogIGZ1bmN0aW9uIHBhcnNlSGV4IChzdHIsIHN0YXJ0LCBlbmQpIHsKICAgIHZhciByID0gMDsKICAgIHZhciBsZW4gPSBNYXRoLm1pbihzdHIubGVuZ3RoLCBlbmQpOwogICAgZm9yICh2YXIgaSA9IHN0YXJ0OyBpIDwgbGVuOyBpKyspIHsKICAgICAgdmFyIGMgPSBzdHIuY2hhckNvZGVBdChpKSAtIDQ4OwoKICAgICAgciA8PD0gNDsKCiAgICAgIC8vICdhJyAtICdmJwogICAgICBpZiAoYyA+PSA0OSAmJiBjIDw9IDU0KSB7CiAgICAgICAgciB8PSBjIC0gNDkgKyAweGE7CgogICAgICAvLyAnQScgLSAnRicKICAgICAgfSBlbHNlIGlmIChjID49IDE3ICYmIGMgPD0gMjIpIHsKICAgICAgICByIHw9IGMgLSAxNyArIDB4YTsKCiAgICAgIC8vICcwJyAtICc5JwogICAgICB9IGVsc2UgewogICAgICAgIHIgfD0gYyAmIDB4ZjsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHI7CiAgfQoKICBCTi5wcm90b3R5cGUuX3BhcnNlSGV4ID0gZnVuY3Rpb24gX3BhcnNlSGV4IChudW1iZXIsIHN0YXJ0KSB7CiAgICAvLyBDcmVhdGUgcG9zc2libHkgYmlnZ2VyIGFycmF5IHRvIGVuc3VyZSB0aGF0IGl0IGZpdHMgdGhlIG51bWJlcgogICAgdGhpcy5sZW5ndGggPSBNYXRoLmNlaWwoKG51bWJlci5sZW5ndGggLSBzdGFydCkgLyA2KTsKICAgIHRoaXMud29yZHMgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRoaXMud29yZHNbaV0gPSAwOwogICAgfQoKICAgIHZhciBqLCB3OwogICAgLy8gU2NhbiAyNC1iaXQgY2h1bmtzIGFuZCBhZGQgdGhlbSB0byB0aGUgbnVtYmVyCiAgICB2YXIgb2ZmID0gMDsKICAgIGZvciAoaSA9IG51bWJlci5sZW5ndGggLSA2LCBqID0gMDsgaSA+PSBzdGFydDsgaSAtPSA2KSB7CiAgICAgIHcgPSBwYXJzZUhleChudW1iZXIsIGksIGkgKyA2KTsKICAgICAgdGhpcy53b3Jkc1tqXSB8PSAodyA8PCBvZmYpICYgMHgzZmZmZmZmOwogICAgICB0aGlzLndvcmRzW2ogKyAxXSB8PSB3ID4+PiAoMjYgLSBvZmYpICYgMHgzZmZmZmY7CiAgICAgIG9mZiArPSAyNDsKICAgICAgaWYgKG9mZiA+PSAyNikgewogICAgICAgIG9mZiAtPSAyNjsKICAgICAgICBqKys7CiAgICAgIH0KICAgIH0KICAgIGlmIChpICsgNiAhPT0gc3RhcnQpIHsKICAgICAgdyA9IHBhcnNlSGV4KG51bWJlciwgc3RhcnQsIGkgKyA2KTsKICAgICAgdGhpcy53b3Jkc1tqXSB8PSAodyA8PCBvZmYpICYgMHgzZmZmZmZmOwogICAgICB0aGlzLndvcmRzW2ogKyAxXSB8PSB3ID4+PiAoMjYgLSBvZmYpICYgMHgzZmZmZmY7CiAgICB9CiAgICB0aGlzLnN0cmlwKCk7CiAgfTsKCiAgZnVuY3Rpb24gcGFyc2VCYXNlIChzdHIsIHN0YXJ0LCBlbmQsIG11bCkgewogICAgdmFyIHIgPSAwOwogICAgdmFyIGxlbiA9IE1hdGgubWluKHN0ci5sZW5ndGgsIGVuZCk7CiAgICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBsZW47IGkrKykgewogICAgICB2YXIgYyA9IHN0ci5jaGFyQ29kZUF0KGkpIC0gNDg7CgogICAgICByICo9IG11bDsKCiAgICAgIC8vICdhJwogICAgICBpZiAoYyA+PSA0OSkgewogICAgICAgIHIgKz0gYyAtIDQ5ICsgMHhhOwoKICAgICAgLy8gJ0EnCiAgICAgIH0gZWxzZSBpZiAoYyA+PSAxNykgewogICAgICAgIHIgKz0gYyAtIDE3ICsgMHhhOwoKICAgICAgLy8gJzAnIC0gJzknCiAgICAgIH0gZWxzZSB7CiAgICAgICAgciArPSBjOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gcjsKICB9CgogIEJOLnByb3RvdHlwZS5fcGFyc2VCYXNlID0gZnVuY3Rpb24gX3BhcnNlQmFzZSAobnVtYmVyLCBiYXNlLCBzdGFydCkgewogICAgLy8gSW5pdGlhbGl6ZSBhcyB6ZXJvCiAgICB0aGlzLndvcmRzID0gWyAwIF07CiAgICB0aGlzLmxlbmd0aCA9IDE7CgogICAgLy8gRmluZCBsZW5ndGggb2YgbGltYiBpbiBiYXNlCiAgICBmb3IgKHZhciBsaW1iTGVuID0gMCwgbGltYlBvdyA9IDE7IGxpbWJQb3cgPD0gMHgzZmZmZmZmOyBsaW1iUG93ICo9IGJhc2UpIHsKICAgICAgbGltYkxlbisrOwogICAgfQogICAgbGltYkxlbi0tOwogICAgbGltYlBvdyA9IChsaW1iUG93IC8gYmFzZSkgfCAwOwoKICAgIHZhciB0b3RhbCA9IG51bWJlci5sZW5ndGggLSBzdGFydDsKICAgIHZhciBtb2QgPSB0b3RhbCAlIGxpbWJMZW47CiAgICB2YXIgZW5kID0gTWF0aC5taW4odG90YWwsIHRvdGFsIC0gbW9kKSArIHN0YXJ0OwoKICAgIHZhciB3b3JkID0gMDsKICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSArPSBsaW1iTGVuKSB7CiAgICAgIHdvcmQgPSBwYXJzZUJhc2UobnVtYmVyLCBpLCBpICsgbGltYkxlbiwgYmFzZSk7CgogICAgICB0aGlzLmltdWxuKGxpbWJQb3cpOwogICAgICBpZiAodGhpcy53b3Jkc1swXSArIHdvcmQgPCAweDQwMDAwMDApIHsKICAgICAgICB0aGlzLndvcmRzWzBdICs9IHdvcmQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5faWFkZG4od29yZCk7CiAgICAgIH0KICAgIH0KCiAgICBpZiAobW9kICE9PSAwKSB7CiAgICAgIHZhciBwb3cgPSAxOwogICAgICB3b3JkID0gcGFyc2VCYXNlKG51bWJlciwgaSwgbnVtYmVyLmxlbmd0aCwgYmFzZSk7CgogICAgICBmb3IgKGkgPSAwOyBpIDwgbW9kOyBpKyspIHsKICAgICAgICBwb3cgKj0gYmFzZTsKICAgICAgfQoKICAgICAgdGhpcy5pbXVsbihwb3cpOwogICAgICBpZiAodGhpcy53b3Jkc1swXSArIHdvcmQgPCAweDQwMDAwMDApIHsKICAgICAgICB0aGlzLndvcmRzWzBdICs9IHdvcmQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5faWFkZG4od29yZCk7CiAgICAgIH0KICAgIH0KICB9OwoKICBCTi5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIGNvcHkgKGRlc3QpIHsKICAgIGRlc3Qud29yZHMgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgIGRlc3Qud29yZHNbaV0gPSB0aGlzLndvcmRzW2ldOwogICAgfQogICAgZGVzdC5sZW5ndGggPSB0aGlzLmxlbmd0aDsKICAgIGRlc3QubmVnYXRpdmUgPSB0aGlzLm5lZ2F0aXZlOwogICAgZGVzdC5yZWQgPSB0aGlzLnJlZDsKICB9OwoKICBCTi5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiBjbG9uZSAoKSB7CiAgICB2YXIgciA9IG5ldyBCTihudWxsKTsKICAgIHRoaXMuY29weShyKTsKICAgIHJldHVybiByOwogIH07CgogIEJOLnByb3RvdHlwZS5fZXhwYW5kID0gZnVuY3Rpb24gX2V4cGFuZCAoc2l6ZSkgewogICAgd2hpbGUgKHRoaXMubGVuZ3RoIDwgc2l6ZSkgewogICAgICB0aGlzLndvcmRzW3RoaXMubGVuZ3RoKytdID0gMDsKICAgIH0KICAgIHJldHVybiB0aGlzOwogIH07CgogIC8vIFJlbW92ZSBsZWFkaW5nIGAwYCBmcm9tIGB0aGlzYAogIEJOLnByb3RvdHlwZS5zdHJpcCA9IGZ1bmN0aW9uIHN0cmlwICgpIHsKICAgIHdoaWxlICh0aGlzLmxlbmd0aCA+IDEgJiYgdGhpcy53b3Jkc1t0aGlzLmxlbmd0aCAtIDFdID09PSAwKSB7CiAgICAgIHRoaXMubGVuZ3RoLS07CiAgICB9CiAgICByZXR1cm4gdGhpcy5fbm9ybVNpZ24oKTsKICB9OwoKICBCTi5wcm90b3R5cGUuX25vcm1TaWduID0gZnVuY3Rpb24gX25vcm1TaWduICgpIHsKICAgIC8vIC0wID0gMAogICAgaWYgKHRoaXMubGVuZ3RoID09PSAxICYmIHRoaXMud29yZHNbMF0gPT09IDApIHsKICAgICAgdGhpcy5uZWdhdGl2ZSA9IDA7CiAgICB9CiAgICByZXR1cm4gdGhpczsKICB9OwoKICBCTi5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uIGluc3BlY3QgKCkgewogICAgcmV0dXJuICh0aGlzLnJlZCA/ICc8Qk4tUjogJyA6ICc8Qk46ICcpICsgdGhpcy50b1N0cmluZygxNikgKyAnPic7CiAgfTsKCiAgLyoKCiAgdmFyIHplcm9zID0gW107CiAgdmFyIGdyb3VwU2l6ZXMgPSBbXTsKICB2YXIgZ3JvdXBCYXNlcyA9IFtdOwoKICB2YXIgcyA9ICcnOwogIHZhciBpID0gLTE7CiAgd2hpbGUgKCsraSA8IEJOLndvcmRTaXplKSB7CiAgICB6ZXJvc1tpXSA9IHM7CiAgICBzICs9ICcwJzsKICB9CiAgZ3JvdXBTaXplc1swXSA9IDA7CiAgZ3JvdXBTaXplc1sxXSA9IDA7CiAgZ3JvdXBCYXNlc1swXSA9IDA7CiAgZ3JvdXBCYXNlc1sxXSA9IDA7CiAgdmFyIGJhc2UgPSAyIC0gMTsKICB3aGlsZSAoKytiYXNlIDwgMzYgKyAxKSB7CiAgICB2YXIgZ3JvdXBTaXplID0gMDsKICAgIHZhciBncm91cEJhc2UgPSAxOwogICAgd2hpbGUgKGdyb3VwQmFzZSA8ICgxIDw8IEJOLndvcmRTaXplKSAvIGJhc2UpIHsKICAgICAgZ3JvdXBCYXNlICo9IGJhc2U7CiAgICAgIGdyb3VwU2l6ZSArPSAxOwogICAgfQogICAgZ3JvdXBTaXplc1tiYXNlXSA9IGdyb3VwU2l6ZTsKICAgIGdyb3VwQmFzZXNbYmFzZV0gPSBncm91cEJhc2U7CiAgfQoKICAqLwoKICB2YXIgemVyb3MgPSBbCiAgICAnJywKICAgICcwJywKICAgICcwMCcsCiAgICAnMDAwJywKICAgICcwMDAwJywKICAgICcwMDAwMCcsCiAgICAnMDAwMDAwJywKICAgICcwMDAwMDAwJywKICAgICcwMDAwMDAwMCcsCiAgICAnMDAwMDAwMDAwJywKICAgICcwMDAwMDAwMDAwJywKICAgICcwMDAwMDAwMDAwMCcsCiAgICAnMDAwMDAwMDAwMDAwJywKICAgICcwMDAwMDAwMDAwMDAwJywKICAgICcwMDAwMDAwMDAwMDAwMCcsCiAgICAnMDAwMDAwMDAwMDAwMDAwJywKICAgICcwMDAwMDAwMDAwMDAwMDAwJywKICAgICcwMDAwMDAwMDAwMDAwMDAwMCcsCiAgICAnMDAwMDAwMDAwMDAwMDAwMDAwJywKICAgICcwMDAwMDAwMDAwMDAwMDAwMDAwJywKICAgICcwMDAwMDAwMDAwMDAwMDAwMDAwMCcsCiAgICAnMDAwMDAwMDAwMDAwMDAwMDAwMDAwJywKICAgICcwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJywKICAgICcwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcsCiAgICAnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJywKICAgICcwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJwogIF07CgogIHZhciBncm91cFNpemVzID0gWwogICAgMCwgMCwKICAgIDI1LCAxNiwgMTIsIDExLCAxMCwgOSwgOCwKICAgIDgsIDcsIDcsIDcsIDcsIDYsIDYsCiAgICA2LCA2LCA2LCA2LCA2LCA1LCA1LAogICAgNSwgNSwgNSwgNSwgNSwgNSwgNSwKICAgIDUsIDUsIDUsIDUsIDUsIDUsIDUKICBdOwoKICB2YXIgZ3JvdXBCYXNlcyA9IFsKICAgIDAsIDAsCiAgICAzMzU1NDQzMiwgNDMwNDY3MjEsIDE2Nzc3MjE2LCA0ODgyODEyNSwgNjA0NjYxNzYsIDQwMzUzNjA3LCAxNjc3NzIxNiwKICAgIDQzMDQ2NzIxLCAxMDAwMDAwMCwgMTk0ODcxNzEsIDM1ODMxODA4LCA2Mjc0ODUxNywgNzUyOTUzNiwgMTEzOTA2MjUsCiAgICAxNjc3NzIxNiwgMjQxMzc1NjksIDM0MDEyMjI0LCA0NzA0NTg4MSwgNjQwMDAwMDAsIDQwODQxMDEsIDUxNTM2MzIsCiAgICA2NDM2MzQzLCA3OTYyNjI0LCA5NzY1NjI1LCAxMTg4MTM3NiwgMTQzNDg5MDcsIDE3MjEwMzY4LCAyMDUxMTE0OSwKICAgIDI0MzAwMDAwLCAyODYyOTE1MSwgMzM1NTQ0MzIsIDM5MTM1MzkzLCA0NTQzNTQyNCwgNTI1MjE4NzUsIDYwNDY2MTc2CiAgXTsKCiAgQk4ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcgKGJhc2UsIHBhZGRpbmcpIHsKICAgIGJhc2UgPSBiYXNlIHx8IDEwOwogICAgcGFkZGluZyA9IHBhZGRpbmcgfCAwIHx8IDE7CgogICAgdmFyIG91dDsKICAgIGlmIChiYXNlID09PSAxNiB8fCBiYXNlID09PSAnaGV4JykgewogICAgICBvdXQgPSAnJzsKICAgICAgdmFyIG9mZiA9IDA7CiAgICAgIHZhciBjYXJyeSA9IDA7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciB3ID0gdGhpcy53b3Jkc1tpXTsKICAgICAgICB2YXIgd29yZCA9ICgoKHcgPDwgb2ZmKSB8IGNhcnJ5KSAmIDB4ZmZmZmZmKS50b1N0cmluZygxNik7CiAgICAgICAgY2FycnkgPSAodyA+Pj4gKDI0IC0gb2ZmKSkgJiAweGZmZmZmZjsKICAgICAgICBpZiAoY2FycnkgIT09IDAgfHwgaSAhPT0gdGhpcy5sZW5ndGggLSAxKSB7CiAgICAgICAgICBvdXQgPSB6ZXJvc1s2IC0gd29yZC5sZW5ndGhdICsgd29yZCArIG91dDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb3V0ID0gd29yZCArIG91dDsKICAgICAgICB9CiAgICAgICAgb2ZmICs9IDI7CiAgICAgICAgaWYgKG9mZiA+PSAyNikgewogICAgICAgICAgb2ZmIC09IDI2OwogICAgICAgICAgaS0tOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoY2FycnkgIT09IDApIHsKICAgICAgICBvdXQgPSBjYXJyeS50b1N0cmluZygxNikgKyBvdXQ7CiAgICAgIH0KICAgICAgd2hpbGUgKG91dC5sZW5ndGggJSBwYWRkaW5nICE9PSAwKSB7CiAgICAgICAgb3V0ID0gJzAnICsgb3V0OwogICAgICB9CiAgICAgIGlmICh0aGlzLm5lZ2F0aXZlICE9PSAwKSB7CiAgICAgICAgb3V0ID0gJy0nICsgb3V0OwogICAgICB9CiAgICAgIHJldHVybiBvdXQ7CiAgICB9CgogICAgaWYgKGJhc2UgPT09IChiYXNlIHwgMCkgJiYgYmFzZSA+PSAyICYmIGJhc2UgPD0gMzYpIHsKICAgICAgLy8gdmFyIGdyb3VwU2l6ZSA9IE1hdGguZmxvb3IoQk4ud29yZFNpemUgKiBNYXRoLkxOMiAvIE1hdGgubG9nKGJhc2UpKTsKICAgICAgdmFyIGdyb3VwU2l6ZSA9IGdyb3VwU2l6ZXNbYmFzZV07CiAgICAgIC8vIHZhciBncm91cEJhc2UgPSBNYXRoLnBvdyhiYXNlLCBncm91cFNpemUpOwogICAgICB2YXIgZ3JvdXBCYXNlID0gZ3JvdXBCYXNlc1tiYXNlXTsKICAgICAgb3V0ID0gJyc7CiAgICAgIHZhciBjID0gdGhpcy5jbG9uZSgpOwogICAgICBjLm5lZ2F0aXZlID0gMDsKICAgICAgd2hpbGUgKCFjLmlzWmVybygpKSB7CiAgICAgICAgdmFyIHIgPSBjLm1vZG4oZ3JvdXBCYXNlKS50b1N0cmluZyhiYXNlKTsKICAgICAgICBjID0gYy5pZGl2bihncm91cEJhc2UpOwoKICAgICAgICBpZiAoIWMuaXNaZXJvKCkpIHsKICAgICAgICAgIG91dCA9IHplcm9zW2dyb3VwU2l6ZSAtIHIubGVuZ3RoXSArIHIgKyBvdXQ7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG91dCA9IHIgKyBvdXQ7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh0aGlzLmlzWmVybygpKSB7CiAgICAgICAgb3V0ID0gJzAnICsgb3V0OwogICAgICB9CiAgICAgIHdoaWxlIChvdXQubGVuZ3RoICUgcGFkZGluZyAhPT0gMCkgewogICAgICAgIG91dCA9ICcwJyArIG91dDsKICAgICAgfQogICAgICBpZiAodGhpcy5uZWdhdGl2ZSAhPT0gMCkgewogICAgICAgIG91dCA9ICctJyArIG91dDsKICAgICAgfQogICAgICByZXR1cm4gb3V0OwogICAgfQoKICAgIGFzc2VydChmYWxzZSwgJ0Jhc2Ugc2hvdWxkIGJlIGJldHdlZW4gMiBhbmQgMzYnKTsKICB9OwoKICBCTi5wcm90b3R5cGUudG9OdW1iZXIgPSBmdW5jdGlvbiB0b051bWJlciAoKSB7CiAgICB2YXIgbGVuZ3RoID0gdGhpcy5iaXRMZW5ndGgoKTsKICAgIHZhciByZXQ7CiAgICBpZiAobGVuZ3RoIDw9IDI2KSB7CiAgICAgIHJldCA9IHRoaXMud29yZHNbMF07CiAgICB9IGVsc2UgaWYgKGxlbmd0aCA8PSA1MikgewogICAgICByZXQgPSAodGhpcy53b3Jkc1sxXSAqIDB4NDAwMDAwMCkgKyB0aGlzLndvcmRzWzBdOwogICAgfSBlbHNlIGlmIChsZW5ndGggPT09IDUzKSB7CiAgICAgIC8vIE5PVEU6IGF0IHRoaXMgc3RhZ2UgaXQgaXMga25vd24gdGhhdCB0aGUgdG9wIGJpdCBpcyBzZXQKICAgICAgcmV0ID0gMHgxMDAwMDAwMDAwMDAwMCArICh0aGlzLndvcmRzWzFdICogMHg0MDAwMDAwKSArIHRoaXMud29yZHNbMF07CiAgICB9IGVsc2UgewogICAgICBhc3NlcnQoZmFsc2UsICdOdW1iZXIgY2FuIG9ubHkgc2FmZWx5IHN0b3JlIHVwIHRvIDUzIGJpdHMnKTsKICAgIH0KICAgIHJldHVybiAodGhpcy5uZWdhdGl2ZSAhPT0gMCkgPyAtcmV0IDogcmV0OwogIH07CgogIEJOLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkgewogICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoMTYpOwogIH07CgogIEJOLnByb3RvdHlwZS50b0J1ZmZlciA9IGZ1bmN0aW9uIHRvQnVmZmVyIChlbmRpYW4sIGxlbmd0aCkgewogICAgYXNzZXJ0KHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnKTsKICAgIHJldHVybiB0aGlzLnRvQXJyYXlMaWtlKEJ1ZmZlciwgZW5kaWFuLCBsZW5ndGgpOwogIH07CgogIEJOLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24gdG9BcnJheSAoZW5kaWFuLCBsZW5ndGgpIHsKICAgIHJldHVybiB0aGlzLnRvQXJyYXlMaWtlKEFycmF5LCBlbmRpYW4sIGxlbmd0aCk7CiAgfTsKCiAgQk4ucHJvdG90eXBlLnRvQXJyYXlMaWtlID0gZnVuY3Rpb24gdG9BcnJheUxpa2UgKEFycmF5VHlwZSwgZW5kaWFuLCBsZW5ndGgpIHsKICAgIHZhciBieXRlTGVuZ3RoID0gdGhpcy5ieXRlTGVuZ3RoKCk7CiAgICB2YXIgcmVxTGVuZ3RoID0gbGVuZ3RoIHx8IE1hdGgubWF4KDEsIGJ5dGVMZW5ndGgpOwogICAgYXNzZXJ0KGJ5dGVMZW5ndGggPD0gcmVxTGVuZ3RoLCAnYnl0ZSBhcnJheSBsb25nZXIgdGhhbiBkZXNpcmVkIGxlbmd0aCcpOwogICAgYXNzZXJ0KHJlcUxlbmd0aCA+IDAsICdSZXF1ZXN0ZWQgYXJyYXkgbGVuZ3RoIDw9IDAnKTsKCiAgICB0aGlzLnN0cmlwKCk7CiAgICB2YXIgbGl0dGxlRW5kaWFuID0gZW5kaWFuID09PSAnbGUnOwogICAgdmFyIHJlcyA9IG5ldyBBcnJheVR5cGUocmVxTGVuZ3RoKTsKCiAgICB2YXIgYiwgaTsKICAgIHZhciBxID0gdGhpcy5jbG9uZSgpOwogICAgaWYgKCFsaXR0bGVFbmRpYW4pIHsKICAgICAgLy8gQXNzdW1lIGJpZy1lbmRpYW4KICAgICAgZm9yIChpID0gMDsgaSA8IHJlcUxlbmd0aCAtIGJ5dGVMZW5ndGg7IGkrKykgewogICAgICAgIHJlc1tpXSA9IDA7CiAgICAgIH0KCiAgICAgIGZvciAoaSA9IDA7ICFxLmlzWmVybygpOyBpKyspIHsKICAgICAgICBiID0gcS5hbmRsbigweGZmKTsKICAgICAgICBxLml1c2hybig4KTsKCiAgICAgICAgcmVzW3JlcUxlbmd0aCAtIGkgLSAxXSA9IGI7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGZvciAoaSA9IDA7ICFxLmlzWmVybygpOyBpKyspIHsKICAgICAgICBiID0gcS5hbmRsbigweGZmKTsKICAgICAgICBxLml1c2hybig4KTsKCiAgICAgICAgcmVzW2ldID0gYjsKICAgICAgfQoKICAgICAgZm9yICg7IGkgPCByZXFMZW5ndGg7IGkrKykgewogICAgICAgIHJlc1tpXSA9IDA7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gcmVzOwogIH07CgogIGlmIChNYXRoLmNsejMyKSB7CiAgICBCTi5wcm90b3R5cGUuX2NvdW50Qml0cyA9IGZ1bmN0aW9uIF9jb3VudEJpdHMgKHcpIHsKICAgICAgcmV0dXJuIDMyIC0gTWF0aC5jbHozMih3KTsKICAgIH07CiAgfSBlbHNlIHsKICAgIEJOLnByb3RvdHlwZS5fY291bnRCaXRzID0gZnVuY3Rpb24gX2NvdW50Qml0cyAodykgewogICAgICB2YXIgdCA9IHc7CiAgICAgIHZhciByID0gMDsKICAgICAgaWYgKHQgPj0gMHgxMDAwKSB7CiAgICAgICAgciArPSAxMzsKICAgICAgICB0ID4+Pj0gMTM7CiAgICAgIH0KICAgICAgaWYgKHQgPj0gMHg0MCkgewogICAgICAgIHIgKz0gNzsKICAgICAgICB0ID4+Pj0gNzsKICAgICAgfQogICAgICBpZiAodCA+PSAweDgpIHsKICAgICAgICByICs9IDQ7CiAgICAgICAgdCA+Pj49IDQ7CiAgICAgIH0KICAgICAgaWYgKHQgPj0gMHgwMikgewogICAgICAgIHIgKz0gMjsKICAgICAgICB0ID4+Pj0gMjsKICAgICAgfQogICAgICByZXR1cm4gciArIHQ7CiAgICB9OwogIH0KCiAgQk4ucHJvdG90eXBlLl96ZXJvQml0cyA9IGZ1bmN0aW9uIF96ZXJvQml0cyAodykgewogICAgLy8gU2hvcnQtY3V0CiAgICBpZiAodyA9PT0gMCkgcmV0dXJuIDI2OwoKICAgIHZhciB0ID0gdzsKICAgIHZhciByID0gMDsKICAgIGlmICgodCAmIDB4MWZmZikgPT09IDApIHsKICAgICAgciArPSAxMzsKICAgICAgdCA+Pj49IDEzOwogICAgfQogICAgaWYgKCh0ICYgMHg3ZikgPT09IDApIHsKICAgICAgciArPSA3OwogICAgICB0ID4+Pj0gNzsKICAgIH0KICAgIGlmICgodCAmIDB4ZikgPT09IDApIHsKICAgICAgciArPSA0OwogICAgICB0ID4+Pj0gNDsKICAgIH0KICAgIGlmICgodCAmIDB4MykgPT09IDApIHsKICAgICAgciArPSAyOwogICAgICB0ID4+Pj0gMjsKICAgIH0KICAgIGlmICgodCAmIDB4MSkgPT09IDApIHsKICAgICAgcisrOwogICAgfQogICAgcmV0dXJuIHI7CiAgfTsKCiAgLy8gUmV0dXJuIG51bWJlciBvZiB1c2VkIGJpdHMgaW4gYSBCTgogIEJOLnByb3RvdHlwZS5iaXRMZW5ndGggPSBmdW5jdGlvbiBiaXRMZW5ndGggKCkgewogICAgdmFyIHcgPSB0aGlzLndvcmRzW3RoaXMubGVuZ3RoIC0gMV07CiAgICB2YXIgaGkgPSB0aGlzLl9jb3VudEJpdHModyk7CiAgICByZXR1cm4gKHRoaXMubGVuZ3RoIC0gMSkgKiAyNiArIGhpOwogIH07CgogIGZ1bmN0aW9uIHRvQml0QXJyYXkgKG51bSkgewogICAgdmFyIHcgPSBuZXcgQXJyYXkobnVtLmJpdExlbmd0aCgpKTsKCiAgICBmb3IgKHZhciBiaXQgPSAwOyBiaXQgPCB3Lmxlbmd0aDsgYml0KyspIHsKICAgICAgdmFyIG9mZiA9IChiaXQgLyAyNikgfCAwOwogICAgICB2YXIgd2JpdCA9IGJpdCAlIDI2OwoKICAgICAgd1tiaXRdID0gKG51bS53b3Jkc1tvZmZdICYgKDEgPDwgd2JpdCkpID4+PiB3Yml0OwogICAgfQoKICAgIHJldHVybiB3OwogIH0KCiAgLy8gTnVtYmVyIG9mIHRyYWlsaW5nIHplcm8gYml0cwogIEJOLnByb3RvdHlwZS56ZXJvQml0cyA9IGZ1bmN0aW9uIHplcm9CaXRzICgpIHsKICAgIGlmICh0aGlzLmlzWmVybygpKSByZXR1cm4gMDsKCiAgICB2YXIgciA9IDA7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIGIgPSB0aGlzLl96ZXJvQml0cyh0aGlzLndvcmRzW2ldKTsKICAgICAgciArPSBiOwogICAgICBpZiAoYiAhPT0gMjYpIGJyZWFrOwogICAgfQogICAgcmV0dXJuIHI7CiAgfTsKCiAgQk4ucHJvdG90eXBlLmJ5dGVMZW5ndGggPSBmdW5jdGlvbiBieXRlTGVuZ3RoICgpIHsKICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy5iaXRMZW5ndGgoKSAvIDgpOwogIH07CgogIEJOLnByb3RvdHlwZS50b1R3b3MgPSBmdW5jdGlvbiB0b1R3b3MgKHdpZHRoKSB7CiAgICBpZiAodGhpcy5uZWdhdGl2ZSAhPT0gMCkgewogICAgICByZXR1cm4gdGhpcy5hYnMoKS5pbm90bih3aWR0aCkuaWFkZG4oMSk7CiAgICB9CiAgICByZXR1cm4gdGhpcy5jbG9uZSgpOwogIH07CgogIEJOLnByb3RvdHlwZS5mcm9tVHdvcyA9IGZ1bmN0aW9uIGZyb21Ud29zICh3aWR0aCkgewogICAgaWYgKHRoaXMudGVzdG4od2lkdGggLSAxKSkgewogICAgICByZXR1cm4gdGhpcy5ub3RuKHdpZHRoKS5pYWRkbigxKS5pbmVnKCk7CiAgICB9CiAgICByZXR1cm4gdGhpcy5jbG9uZSgpOwogIH07CgogIEJOLnByb3RvdHlwZS5pc05lZyA9IGZ1bmN0aW9uIGlzTmVnICgpIHsKICAgIHJldHVybiB0aGlzLm5lZ2F0aXZlICE9PSAwOwogIH07CgogIC8vIFJldHVybiBuZWdhdGl2ZSBjbG9uZSBvZiBgdGhpc2AKICBCTi5wcm90b3R5cGUubmVnID0gZnVuY3Rpb24gbmVnICgpIHsKICAgIHJldHVybiB0aGlzLmNsb25lKCkuaW5lZygpOwogIH07CgogIEJOLnByb3RvdHlwZS5pbmVnID0gZnVuY3Rpb24gaW5lZyAoKSB7CiAgICBpZiAoIXRoaXMuaXNaZXJvKCkpIHsKICAgICAgdGhpcy5uZWdhdGl2ZSBePSAxOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CgogIC8vIE9yIGBudW1gIHdpdGggYHRoaXNgIGluLXBsYWNlCiAgQk4ucHJvdG90eXBlLml1b3IgPSBmdW5jdGlvbiBpdW9yIChudW0pIHsKICAgIHdoaWxlICh0aGlzLmxlbmd0aCA8IG51bS5sZW5ndGgpIHsKICAgICAgdGhpcy53b3Jkc1t0aGlzLmxlbmd0aCsrXSA9IDA7CiAgICB9CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW0ubGVuZ3RoOyBpKyspIHsKICAgICAgdGhpcy53b3Jkc1tpXSA9IHRoaXMud29yZHNbaV0gfCBudW0ud29yZHNbaV07CiAgICB9CgogICAgcmV0dXJuIHRoaXMuc3RyaXAoKTsKICB9OwoKICBCTi5wcm90b3R5cGUuaW9yID0gZnVuY3Rpb24gaW9yIChudW0pIHsKICAgIGFzc2VydCgodGhpcy5uZWdhdGl2ZSB8IG51bS5uZWdhdGl2ZSkgPT09IDApOwogICAgcmV0dXJuIHRoaXMuaXVvcihudW0pOwogIH07CgogIC8vIE9yIGBudW1gIHdpdGggYHRoaXNgCiAgQk4ucHJvdG90eXBlLm9yID0gZnVuY3Rpb24gb3IgKG51bSkgewogICAgaWYgKHRoaXMubGVuZ3RoID4gbnVtLmxlbmd0aCkgcmV0dXJuIHRoaXMuY2xvbmUoKS5pb3IobnVtKTsKICAgIHJldHVybiBudW0uY2xvbmUoKS5pb3IodGhpcyk7CiAgfTsKCiAgQk4ucHJvdG90eXBlLnVvciA9IGZ1bmN0aW9uIHVvciAobnVtKSB7CiAgICBpZiAodGhpcy5sZW5ndGggPiBudW0ubGVuZ3RoKSByZXR1cm4gdGhpcy5jbG9uZSgpLml1b3IobnVtKTsKICAgIHJldHVybiBudW0uY2xvbmUoKS5pdW9yKHRoaXMpOwogIH07CgogIC8vIEFuZCBgbnVtYCB3aXRoIGB0aGlzYCBpbi1wbGFjZQogIEJOLnByb3RvdHlwZS5pdWFuZCA9IGZ1bmN0aW9uIGl1YW5kIChudW0pIHsKICAgIC8vIGIgPSBtaW4tbGVuZ3RoKG51bSwgdGhpcykKICAgIHZhciBiOwogICAgaWYgKHRoaXMubGVuZ3RoID4gbnVtLmxlbmd0aCkgewogICAgICBiID0gbnVtOwogICAgfSBlbHNlIHsKICAgICAgYiA9IHRoaXM7CiAgICB9CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRoaXMud29yZHNbaV0gPSB0aGlzLndvcmRzW2ldICYgbnVtLndvcmRzW2ldOwogICAgfQoKICAgIHRoaXMubGVuZ3RoID0gYi5sZW5ndGg7CgogICAgcmV0dXJuIHRoaXMuc3RyaXAoKTsKICB9OwoKICBCTi5wcm90b3R5cGUuaWFuZCA9IGZ1bmN0aW9uIGlhbmQgKG51bSkgewogICAgYXNzZXJ0KCh0aGlzLm5lZ2F0aXZlIHwgbnVtLm5lZ2F0aXZlKSA9PT0gMCk7CiAgICByZXR1cm4gdGhpcy5pdWFuZChudW0pOwogIH07CgogIC8vIEFuZCBgbnVtYCB3aXRoIGB0aGlzYAogIEJOLnByb3RvdHlwZS5hbmQgPSBmdW5jdGlvbiBhbmQgKG51bSkgewogICAgaWYgKHRoaXMubGVuZ3RoID4gbnVtLmxlbmd0aCkgcmV0dXJuIHRoaXMuY2xvbmUoKS5pYW5kKG51bSk7CiAgICByZXR1cm4gbnVtLmNsb25lKCkuaWFuZCh0aGlzKTsKICB9OwoKICBCTi5wcm90b3R5cGUudWFuZCA9IGZ1bmN0aW9uIHVhbmQgKG51bSkgewogICAgaWYgKHRoaXMubGVuZ3RoID4gbnVtLmxlbmd0aCkgcmV0dXJuIHRoaXMuY2xvbmUoKS5pdWFuZChudW0pOwogICAgcmV0dXJuIG51bS5jbG9uZSgpLml1YW5kKHRoaXMpOwogIH07CgogIC8vIFhvciBgbnVtYCB3aXRoIGB0aGlzYCBpbi1wbGFjZQogIEJOLnByb3RvdHlwZS5pdXhvciA9IGZ1bmN0aW9uIGl1eG9yIChudW0pIHsKICAgIC8vIGEubGVuZ3RoID4gYi5sZW5ndGgKICAgIHZhciBhOwogICAgdmFyIGI7CiAgICBpZiAodGhpcy5sZW5ndGggPiBudW0ubGVuZ3RoKSB7CiAgICAgIGEgPSB0aGlzOwogICAgICBiID0gbnVtOwogICAgfSBlbHNlIHsKICAgICAgYSA9IG51bTsKICAgICAgYiA9IHRoaXM7CiAgICB9CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRoaXMud29yZHNbaV0gPSBhLndvcmRzW2ldIF4gYi53b3Jkc1tpXTsKICAgIH0KCiAgICBpZiAodGhpcyAhPT0gYSkgewogICAgICBmb3IgKDsgaSA8IGEubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLndvcmRzW2ldID0gYS53b3Jkc1tpXTsKICAgICAgfQogICAgfQoKICAgIHRoaXMubGVuZ3RoID0gYS5sZW5ndGg7CgogICAgcmV0dXJuIHRoaXMuc3RyaXAoKTsKICB9OwoKICBCTi5wcm90b3R5cGUuaXhvciA9IGZ1bmN0aW9uIGl4b3IgKG51bSkgewogICAgYXNzZXJ0KCh0aGlzLm5lZ2F0aXZlIHwgbnVtLm5lZ2F0aXZlKSA9PT0gMCk7CiAgICByZXR1cm4gdGhpcy5pdXhvcihudW0pOwogIH07CgogIC8vIFhvciBgbnVtYCB3aXRoIGB0aGlzYAogIEJOLnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiB4b3IgKG51bSkgewogICAgaWYgKHRoaXMubGVuZ3RoID4gbnVtLmxlbmd0aCkgcmV0dXJuIHRoaXMuY2xvbmUoKS5peG9yKG51bSk7CiAgICByZXR1cm4gbnVtLmNsb25lKCkuaXhvcih0aGlzKTsKICB9OwoKICBCTi5wcm90b3R5cGUudXhvciA9IGZ1bmN0aW9uIHV4b3IgKG51bSkgewogICAgaWYgKHRoaXMubGVuZ3RoID4gbnVtLmxlbmd0aCkgcmV0dXJuIHRoaXMuY2xvbmUoKS5pdXhvcihudW0pOwogICAgcmV0dXJuIG51bS5jbG9uZSgpLml1eG9yKHRoaXMpOwogIH07CgogIC8vIE5vdCBgYHRoaXNgYCB3aXRoIGBgd2lkdGhgYCBiaXR3aWR0aAogIEJOLnByb3RvdHlwZS5pbm90biA9IGZ1bmN0aW9uIGlub3RuICh3aWR0aCkgewogICAgYXNzZXJ0KHR5cGVvZiB3aWR0aCA9PT0gJ251bWJlcicgJiYgd2lkdGggPj0gMCk7CgogICAgdmFyIGJ5dGVzTmVlZGVkID0gTWF0aC5jZWlsKHdpZHRoIC8gMjYpIHwgMDsKICAgIHZhciBiaXRzTGVmdCA9IHdpZHRoICUgMjY7CgogICAgLy8gRXh0ZW5kIHRoZSBidWZmZXIgd2l0aCBsZWFkaW5nIHplcm9lcwogICAgdGhpcy5fZXhwYW5kKGJ5dGVzTmVlZGVkKTsKCiAgICBpZiAoYml0c0xlZnQgPiAwKSB7CiAgICAgIGJ5dGVzTmVlZGVkLS07CiAgICB9CgogICAgLy8gSGFuZGxlIGNvbXBsZXRlIHdvcmRzCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVzTmVlZGVkOyBpKyspIHsKICAgICAgdGhpcy53b3Jkc1tpXSA9IH50aGlzLndvcmRzW2ldICYgMHgzZmZmZmZmOwogICAgfQoKICAgIC8vIEhhbmRsZSB0aGUgcmVzaWR1ZQogICAgaWYgKGJpdHNMZWZ0ID4gMCkgewogICAgICB0aGlzLndvcmRzW2ldID0gfnRoaXMud29yZHNbaV0gJiAoMHgzZmZmZmZmID4+ICgyNiAtIGJpdHNMZWZ0KSk7CiAgICB9CgogICAgLy8gQW5kIHJlbW92ZSBsZWFkaW5nIHplcm9lcwogICAgcmV0dXJuIHRoaXMuc3RyaXAoKTsKICB9OwoKICBCTi5wcm90b3R5cGUubm90biA9IGZ1bmN0aW9uIG5vdG4gKHdpZHRoKSB7CiAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmlub3RuKHdpZHRoKTsKICB9OwoKICAvLyBTZXQgYGJpdGAgb2YgYHRoaXNgCiAgQk4ucHJvdG90eXBlLnNldG4gPSBmdW5jdGlvbiBzZXRuIChiaXQsIHZhbCkgewogICAgYXNzZXJ0KHR5cGVvZiBiaXQgPT09ICdudW1iZXInICYmIGJpdCA+PSAwKTsKCiAgICB2YXIgb2ZmID0gKGJpdCAvIDI2KSB8IDA7CiAgICB2YXIgd2JpdCA9IGJpdCAlIDI2OwoKICAgIHRoaXMuX2V4cGFuZChvZmYgKyAxKTsKCiAgICBpZiAodmFsKSB7CiAgICAgIHRoaXMud29yZHNbb2ZmXSA9IHRoaXMud29yZHNbb2ZmXSB8ICgxIDw8IHdiaXQpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy53b3Jkc1tvZmZdID0gdGhpcy53b3Jkc1tvZmZdICYgfigxIDw8IHdiaXQpOwogICAgfQoKICAgIHJldHVybiB0aGlzLnN0cmlwKCk7CiAgfTsKCiAgLy8gQWRkIGBudW1gIHRvIGB0aGlzYCBpbi1wbGFjZQogIEJOLnByb3RvdHlwZS5pYWRkID0gZnVuY3Rpb24gaWFkZCAobnVtKSB7CiAgICB2YXIgcjsKCiAgICAvLyBuZWdhdGl2ZSArIHBvc2l0aXZlCiAgICBpZiAodGhpcy5uZWdhdGl2ZSAhPT0gMCAmJiBudW0ubmVnYXRpdmUgPT09IDApIHsKICAgICAgdGhpcy5uZWdhdGl2ZSA9IDA7CiAgICAgIHIgPSB0aGlzLmlzdWIobnVtKTsKICAgICAgdGhpcy5uZWdhdGl2ZSBePSAxOwogICAgICByZXR1cm4gdGhpcy5fbm9ybVNpZ24oKTsKCiAgICAvLyBwb3NpdGl2ZSArIG5lZ2F0aXZlCiAgICB9IGVsc2UgaWYgKHRoaXMubmVnYXRpdmUgPT09IDAgJiYgbnVtLm5lZ2F0aXZlICE9PSAwKSB7CiAgICAgIG51bS5uZWdhdGl2ZSA9IDA7CiAgICAgIHIgPSB0aGlzLmlzdWIobnVtKTsKICAgICAgbnVtLm5lZ2F0aXZlID0gMTsKICAgICAgcmV0dXJuIHIuX25vcm1TaWduKCk7CiAgICB9CgogICAgLy8gYS5sZW5ndGggPiBiLmxlbmd0aAogICAgdmFyIGEsIGI7CiAgICBpZiAodGhpcy5sZW5ndGggPiBudW0ubGVuZ3RoKSB7CiAgICAgIGEgPSB0aGlzOwogICAgICBiID0gbnVtOwogICAgfSBlbHNlIHsKICAgICAgYSA9IG51bTsKICAgICAgYiA9IHRoaXM7CiAgICB9CgogICAgdmFyIGNhcnJ5ID0gMDsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykgewogICAgICByID0gKGEud29yZHNbaV0gfCAwKSArIChiLndvcmRzW2ldIHwgMCkgKyBjYXJyeTsKICAgICAgdGhpcy53b3Jkc1tpXSA9IHIgJiAweDNmZmZmZmY7CiAgICAgIGNhcnJ5ID0gciA+Pj4gMjY7CiAgICB9CiAgICBmb3IgKDsgY2FycnkgIT09IDAgJiYgaSA8IGEubGVuZ3RoOyBpKyspIHsKICAgICAgciA9IChhLndvcmRzW2ldIHwgMCkgKyBjYXJyeTsKICAgICAgdGhpcy53b3Jkc1tpXSA9IHIgJiAweDNmZmZmZmY7CiAgICAgIGNhcnJ5ID0gciA+Pj4gMjY7CiAgICB9CgogICAgdGhpcy5sZW5ndGggPSBhLmxlbmd0aDsKICAgIGlmIChjYXJyeSAhPT0gMCkgewogICAgICB0aGlzLndvcmRzW3RoaXMubGVuZ3RoXSA9IGNhcnJ5OwogICAgICB0aGlzLmxlbmd0aCsrOwogICAgLy8gQ29weSB0aGUgcmVzdCBvZiB0aGUgd29yZHMKICAgIH0gZWxzZSBpZiAoYSAhPT0gdGhpcykgewogICAgICBmb3IgKDsgaSA8IGEubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLndvcmRzW2ldID0gYS53b3Jkc1tpXTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CgogIC8vIEFkZCBgbnVtYCB0byBgdGhpc2AKICBCTi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkIChudW0pIHsKICAgIHZhciByZXM7CiAgICBpZiAobnVtLm5lZ2F0aXZlICE9PSAwICYmIHRoaXMubmVnYXRpdmUgPT09IDApIHsKICAgICAgbnVtLm5lZ2F0aXZlID0gMDsKICAgICAgcmVzID0gdGhpcy5zdWIobnVtKTsKICAgICAgbnVtLm5lZ2F0aXZlIF49IDE7CiAgICAgIHJldHVybiByZXM7CiAgICB9IGVsc2UgaWYgKG51bS5uZWdhdGl2ZSA9PT0gMCAmJiB0aGlzLm5lZ2F0aXZlICE9PSAwKSB7CiAgICAgIHRoaXMubmVnYXRpdmUgPSAwOwogICAgICByZXMgPSBudW0uc3ViKHRoaXMpOwogICAgICB0aGlzLm5lZ2F0aXZlID0gMTsKICAgICAgcmV0dXJuIHJlczsKICAgIH0KCiAgICBpZiAodGhpcy5sZW5ndGggPiBudW0ubGVuZ3RoKSByZXR1cm4gdGhpcy5jbG9uZSgpLmlhZGQobnVtKTsKCiAgICByZXR1cm4gbnVtLmNsb25lKCkuaWFkZCh0aGlzKTsKICB9OwoKICAvLyBTdWJ0cmFjdCBgbnVtYCBmcm9tIGB0aGlzYCBpbi1wbGFjZQogIEJOLnByb3RvdHlwZS5pc3ViID0gZnVuY3Rpb24gaXN1YiAobnVtKSB7CiAgICAvLyB0aGlzIC0gKC1udW0pID0gdGhpcyArIG51bQogICAgaWYgKG51bS5uZWdhdGl2ZSAhPT0gMCkgewogICAgICBudW0ubmVnYXRpdmUgPSAwOwogICAgICB2YXIgciA9IHRoaXMuaWFkZChudW0pOwogICAgICBudW0ubmVnYXRpdmUgPSAxOwogICAgICByZXR1cm4gci5fbm9ybVNpZ24oKTsKCiAgICAvLyAtdGhpcyAtIG51bSA9IC0odGhpcyArIG51bSkKICAgIH0gZWxzZSBpZiAodGhpcy5uZWdhdGl2ZSAhPT0gMCkgewogICAgICB0aGlzLm5lZ2F0aXZlID0gMDsKICAgICAgdGhpcy5pYWRkKG51bSk7CiAgICAgIHRoaXMubmVnYXRpdmUgPSAxOwogICAgICByZXR1cm4gdGhpcy5fbm9ybVNpZ24oKTsKICAgIH0KCiAgICAvLyBBdCB0aGlzIHBvaW50IGJvdGggbnVtYmVycyBhcmUgcG9zaXRpdmUKICAgIHZhciBjbXAgPSB0aGlzLmNtcChudW0pOwoKICAgIC8vIE9wdGltaXphdGlvbiAtIHplcm9pZnkKICAgIGlmIChjbXAgPT09IDApIHsKICAgICAgdGhpcy5uZWdhdGl2ZSA9IDA7CiAgICAgIHRoaXMubGVuZ3RoID0gMTsKICAgICAgdGhpcy53b3Jkc1swXSA9IDA7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8vIGEgPiBiCiAgICB2YXIgYSwgYjsKICAgIGlmIChjbXAgPiAwKSB7CiAgICAgIGEgPSB0aGlzOwogICAgICBiID0gbnVtOwogICAgfSBlbHNlIHsKICAgICAgYSA9IG51bTsKICAgICAgYiA9IHRoaXM7CiAgICB9CgogICAgdmFyIGNhcnJ5ID0gMDsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkrKykgewogICAgICByID0gKGEud29yZHNbaV0gfCAwKSAtIChiLndvcmRzW2ldIHwgMCkgKyBjYXJyeTsKICAgICAgY2FycnkgPSByID4+IDI2OwogICAgICB0aGlzLndvcmRzW2ldID0gciAmIDB4M2ZmZmZmZjsKICAgIH0KICAgIGZvciAoOyBjYXJyeSAhPT0gMCAmJiBpIDwgYS5sZW5ndGg7IGkrKykgewogICAgICByID0gKGEud29yZHNbaV0gfCAwKSArIGNhcnJ5OwogICAgICBjYXJyeSA9IHIgPj4gMjY7CiAgICAgIHRoaXMud29yZHNbaV0gPSByICYgMHgzZmZmZmZmOwogICAgfQoKICAgIC8vIENvcHkgcmVzdCBvZiB0aGUgd29yZHMKICAgIGlmIChjYXJyeSA9PT0gMCAmJiBpIDwgYS5sZW5ndGggJiYgYSAhPT0gdGhpcykgewogICAgICBmb3IgKDsgaSA8IGEubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLndvcmRzW2ldID0gYS53b3Jkc1tpXTsKICAgICAgfQogICAgfQoKICAgIHRoaXMubGVuZ3RoID0gTWF0aC5tYXgodGhpcy5sZW5ndGgsIGkpOwoKICAgIGlmIChhICE9PSB0aGlzKSB7CiAgICAgIHRoaXMubmVnYXRpdmUgPSAxOwogICAgfQoKICAgIHJldHVybiB0aGlzLnN0cmlwKCk7CiAgfTsKCiAgLy8gU3VidHJhY3QgYG51bWAgZnJvbSBgdGhpc2AKICBCTi5wcm90b3R5cGUuc3ViID0gZnVuY3Rpb24gc3ViIChudW0pIHsKICAgIHJldHVybiB0aGlzLmNsb25lKCkuaXN1YihudW0pOwogIH07CgogIGZ1bmN0aW9uIHNtYWxsTXVsVG8gKHNlbGYsIG51bSwgb3V0KSB7CiAgICBvdXQubmVnYXRpdmUgPSBudW0ubmVnYXRpdmUgXiBzZWxmLm5lZ2F0aXZlOwogICAgdmFyIGxlbiA9IChzZWxmLmxlbmd0aCArIG51bS5sZW5ndGgpIHwgMDsKICAgIG91dC5sZW5ndGggPSBsZW47CiAgICBsZW4gPSAobGVuIC0gMSkgfCAwOwoKICAgIC8vIFBlZWwgb25lIGl0ZXJhdGlvbiAoY29tcGlsZXIgY2FuJ3QgZG8gaXQsIGJlY2F1c2Ugb2YgY29kZSBjb21wbGV4aXR5KQogICAgdmFyIGEgPSBzZWxmLndvcmRzWzBdIHwgMDsKICAgIHZhciBiID0gbnVtLndvcmRzWzBdIHwgMDsKICAgIHZhciByID0gYSAqIGI7CgogICAgdmFyIGxvID0gciAmIDB4M2ZmZmZmZjsKICAgIHZhciBjYXJyeSA9IChyIC8gMHg0MDAwMDAwKSB8IDA7CiAgICBvdXQud29yZHNbMF0gPSBsbzsKCiAgICBmb3IgKHZhciBrID0gMTsgayA8IGxlbjsgaysrKSB7CiAgICAgIC8vIFN1bSBhbGwgd29yZHMgd2l0aCB0aGUgc2FtZSBgaSArIGogPSBrYCBhbmQgYWNjdW11bGF0ZSBgbmNhcnJ5YCwKICAgICAgLy8gbm90ZSB0aGF0IG5jYXJyeSBjb3VsZCBiZSA+PSAweDNmZmZmZmYKICAgICAgdmFyIG5jYXJyeSA9IGNhcnJ5ID4+PiAyNjsKICAgICAgdmFyIHJ3b3JkID0gY2FycnkgJiAweDNmZmZmZmY7CiAgICAgIHZhciBtYXhKID0gTWF0aC5taW4oaywgbnVtLmxlbmd0aCAtIDEpOwogICAgICBmb3IgKHZhciBqID0gTWF0aC5tYXgoMCwgayAtIHNlbGYubGVuZ3RoICsgMSk7IGogPD0gbWF4SjsgaisrKSB7CiAgICAgICAgdmFyIGkgPSAoayAtIGopIHwgMDsKICAgICAgICBhID0gc2VsZi53b3Jkc1tpXSB8IDA7CiAgICAgICAgYiA9IG51bS53b3Jkc1tqXSB8IDA7CiAgICAgICAgciA9IGEgKiBiICsgcndvcmQ7CiAgICAgICAgbmNhcnJ5ICs9IChyIC8gMHg0MDAwMDAwKSB8IDA7CiAgICAgICAgcndvcmQgPSByICYgMHgzZmZmZmZmOwogICAgICB9CiAgICAgIG91dC53b3Jkc1trXSA9IHJ3b3JkIHwgMDsKICAgICAgY2FycnkgPSBuY2FycnkgfCAwOwogICAgfQogICAgaWYgKGNhcnJ5ICE9PSAwKSB7CiAgICAgIG91dC53b3Jkc1trXSA9IGNhcnJ5IHwgMDsKICAgIH0gZWxzZSB7CiAgICAgIG91dC5sZW5ndGgtLTsKICAgIH0KCiAgICByZXR1cm4gb3V0LnN0cmlwKCk7CiAgfQoKICAvLyBUT0RPKGluZHV0bnkpOiBpdCBtYXkgYmUgcmVhc29uYWJsZSB0byBvbWl0IGl0IGZvciB1c2VycyB3aG8gZG9uJ3QgbmVlZAogIC8vIHRvIHdvcmsgd2l0aCAyNTYtYml0IG51bWJlcnMsIG90aGVyd2lzZSBpdCBnaXZlcyAyMCUgaW1wcm92ZW1lbnQgZm9yIDI1Ni1iaXQKICAvLyBtdWx0aXBsaWNhdGlvbiAobGlrZSBlbGxpcHRpYyBzZWNwMjU2azEpLgogIHZhciBjb21iMTBNdWxUbyA9IGZ1bmN0aW9uIGNvbWIxME11bFRvIChzZWxmLCBudW0sIG91dCkgewogICAgdmFyIGEgPSBzZWxmLndvcmRzOwogICAgdmFyIGIgPSBudW0ud29yZHM7CiAgICB2YXIgbyA9IG91dC53b3JkczsKICAgIHZhciBjID0gMDsKICAgIHZhciBsbzsKICAgIHZhciBtaWQ7CiAgICB2YXIgaGk7CiAgICB2YXIgYTAgPSBhWzBdIHwgMDsKICAgIHZhciBhbDAgPSBhMCAmIDB4MWZmZjsKICAgIHZhciBhaDAgPSBhMCA+Pj4gMTM7CiAgICB2YXIgYTEgPSBhWzFdIHwgMDsKICAgIHZhciBhbDEgPSBhMSAmIDB4MWZmZjsKICAgIHZhciBhaDEgPSBhMSA+Pj4gMTM7CiAgICB2YXIgYTIgPSBhWzJdIHwgMDsKICAgIHZhciBhbDIgPSBhMiAmIDB4MWZmZjsKICAgIHZhciBhaDIgPSBhMiA+Pj4gMTM7CiAgICB2YXIgYTMgPSBhWzNdIHwgMDsKICAgIHZhciBhbDMgPSBhMyAmIDB4MWZmZjsKICAgIHZhciBhaDMgPSBhMyA+Pj4gMTM7CiAgICB2YXIgYTQgPSBhWzRdIHwgMDsKICAgIHZhciBhbDQgPSBhNCAmIDB4MWZmZjsKICAgIHZhciBhaDQgPSBhNCA+Pj4gMTM7CiAgICB2YXIgYTUgPSBhWzVdIHwgMDsKICAgIHZhciBhbDUgPSBhNSAmIDB4MWZmZjsKICAgIHZhciBhaDUgPSBhNSA+Pj4gMTM7CiAgICB2YXIgYTYgPSBhWzZdIHwgMDsKICAgIHZhciBhbDYgPSBhNiAmIDB4MWZmZjsKICAgIHZhciBhaDYgPSBhNiA+Pj4gMTM7CiAgICB2YXIgYTcgPSBhWzddIHwgMDsKICAgIHZhciBhbDcgPSBhNyAmIDB4MWZmZjsKICAgIHZhciBhaDcgPSBhNyA+Pj4gMTM7CiAgICB2YXIgYTggPSBhWzhdIHwgMDsKICAgIHZhciBhbDggPSBhOCAmIDB4MWZmZjsKICAgIHZhciBhaDggPSBhOCA+Pj4gMTM7CiAgICB2YXIgYTkgPSBhWzldIHwgMDsKICAgIHZhciBhbDkgPSBhOSAmIDB4MWZmZjsKICAgIHZhciBhaDkgPSBhOSA+Pj4gMTM7CiAgICB2YXIgYjAgPSBiWzBdIHwgMDsKICAgIHZhciBibDAgPSBiMCAmIDB4MWZmZjsKICAgIHZhciBiaDAgPSBiMCA+Pj4gMTM7CiAgICB2YXIgYjEgPSBiWzFdIHwgMDsKICAgIHZhciBibDEgPSBiMSAmIDB4MWZmZjsKICAgIHZhciBiaDEgPSBiMSA+Pj4gMTM7CiAgICB2YXIgYjIgPSBiWzJdIHwgMDsKICAgIHZhciBibDIgPSBiMiAmIDB4MWZmZjsKICAgIHZhciBiaDIgPSBiMiA+Pj4gMTM7CiAgICB2YXIgYjMgPSBiWzNdIHwgMDsKICAgIHZhciBibDMgPSBiMyAmIDB4MWZmZjsKICAgIHZhciBiaDMgPSBiMyA+Pj4gMTM7CiAgICB2YXIgYjQgPSBiWzRdIHwgMDsKICAgIHZhciBibDQgPSBiNCAmIDB4MWZmZjsKICAgIHZhciBiaDQgPSBiNCA+Pj4gMTM7CiAgICB2YXIgYjUgPSBiWzVdIHwgMDsKICAgIHZhciBibDUgPSBiNSAmIDB4MWZmZjsKICAgIHZhciBiaDUgPSBiNSA+Pj4gMTM7CiAgICB2YXIgYjYgPSBiWzZdIHwgMDsKICAgIHZhciBibDYgPSBiNiAmIDB4MWZmZjsKICAgIHZhciBiaDYgPSBiNiA+Pj4gMTM7CiAgICB2YXIgYjcgPSBiWzddIHwgMDsKICAgIHZhciBibDcgPSBiNyAmIDB4MWZmZjsKICAgIHZhciBiaDcgPSBiNyA+Pj4gMTM7CiAgICB2YXIgYjggPSBiWzhdIHwgMDsKICAgIHZhciBibDggPSBiOCAmIDB4MWZmZjsKICAgIHZhciBiaDggPSBiOCA+Pj4gMTM7CiAgICB2YXIgYjkgPSBiWzldIHwgMDsKICAgIHZhciBibDkgPSBiOSAmIDB4MWZmZjsKICAgIHZhciBiaDkgPSBiOSA+Pj4gMTM7CgogICAgb3V0Lm5lZ2F0aXZlID0gc2VsZi5uZWdhdGl2ZSBeIG51bS5uZWdhdGl2ZTsKICAgIG91dC5sZW5ndGggPSAxOTsKICAgIC8qIGsgPSAwICovCiAgICBsbyA9IE1hdGguaW11bChhbDAsIGJsMCk7CiAgICBtaWQgPSBNYXRoLmltdWwoYWwwLCBiaDApOwogICAgbWlkICs9IE1hdGguaW11bChhaDAsIGJsMCk7CiAgICBoaSA9IE1hdGguaW11bChhaDAsIGJoMCk7CiAgICB2YXIgdzAgPSBjICsgbG8gKyAoKG1pZCAmIDB4MWZmZikgPDwgMTMpOwogICAgYyA9IGhpICsgKG1pZCA+Pj4gMTMpICsgKHcwID4+PiAyNik7CiAgICB3MCAmPSAweDNmZmZmZmY7CiAgICAvKiBrID0gMSAqLwogICAgbG8gPSBNYXRoLmltdWwoYWwxLCBibDApOwogICAgbWlkID0gTWF0aC5pbXVsKGFsMSwgYmgwKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWgxLCBibDApOwogICAgaGkgPSBNYXRoLmltdWwoYWgxLCBiaDApOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsMCwgYmwxKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWwwLCBiaDEpOwogICAgbWlkICs9IE1hdGguaW11bChhaDAsIGJsMSk7CiAgICBoaSArPSBNYXRoLmltdWwoYWgwLCBiaDEpOwogICAgdmFyIHcxID0gYyArIGxvICsgKChtaWQgJiAweDFmZmYpIDw8IDEzKTsKICAgIGMgPSBoaSArIChtaWQgPj4+IDEzKSArICh3MSA+Pj4gMjYpOwogICAgdzEgJj0gMHgzZmZmZmZmOwogICAgLyogayA9IDIgKi8KICAgIGxvID0gTWF0aC5pbXVsKGFsMiwgYmwwKTsKICAgIG1pZCA9IE1hdGguaW11bChhbDIsIGJoMCk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoMiwgYmwwKTsKICAgIGhpID0gTWF0aC5pbXVsKGFoMiwgYmgwKTsKICAgIGxvICs9IE1hdGguaW11bChhbDEsIGJsMSk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsMSwgYmgxKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWgxLCBibDEpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoMSwgYmgxKTsKICAgIGxvICs9IE1hdGguaW11bChhbDAsIGJsMik7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsMCwgYmgyKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWgwLCBibDIpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoMCwgYmgyKTsKICAgIHZhciB3MiA9IGMgKyBsbyArICgobWlkICYgMHgxZmZmKSA8PCAxMyk7CiAgICBjID0gaGkgKyAobWlkID4+PiAxMykgKyAodzIgPj4+IDI2KTsKICAgIHcyICY9IDB4M2ZmZmZmZjsKICAgIC8qIGsgPSAzICovCiAgICBsbyA9IE1hdGguaW11bChhbDMsIGJsMCk7CiAgICBtaWQgPSBNYXRoLmltdWwoYWwzLCBiaDApOwogICAgbWlkICs9IE1hdGguaW11bChhaDMsIGJsMCk7CiAgICBoaSA9IE1hdGguaW11bChhaDMsIGJoMCk7CiAgICBsbyArPSBNYXRoLmltdWwoYWwyLCBibDEpOwogICAgbWlkICs9IE1hdGguaW11bChhbDIsIGJoMSk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoMiwgYmwxKTsKICAgIGhpICs9IE1hdGguaW11bChhaDIsIGJoMSk7CiAgICBsbyArPSBNYXRoLmltdWwoYWwxLCBibDIpOwogICAgbWlkICs9IE1hdGguaW11bChhbDEsIGJoMik7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoMSwgYmwyKTsKICAgIGhpICs9IE1hdGguaW11bChhaDEsIGJoMik7CiAgICBsbyArPSBNYXRoLmltdWwoYWwwLCBibDMpOwogICAgbWlkICs9IE1hdGguaW11bChhbDAsIGJoMyk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoMCwgYmwzKTsKICAgIGhpICs9IE1hdGguaW11bChhaDAsIGJoMyk7CiAgICB2YXIgdzMgPSBjICsgbG8gKyAoKG1pZCAmIDB4MWZmZikgPDwgMTMpOwogICAgYyA9IGhpICsgKG1pZCA+Pj4gMTMpICsgKHczID4+PiAyNik7CiAgICB3MyAmPSAweDNmZmZmZmY7CiAgICAvKiBrID0gNCAqLwogICAgbG8gPSBNYXRoLmltdWwoYWw0LCBibDApOwogICAgbWlkID0gTWF0aC5pbXVsKGFsNCwgYmgwKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg0LCBibDApOwogICAgaGkgPSBNYXRoLmltdWwoYWg0LCBiaDApOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsMywgYmwxKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWwzLCBiaDEpOwogICAgbWlkICs9IE1hdGguaW11bChhaDMsIGJsMSk7CiAgICBoaSArPSBNYXRoLmltdWwoYWgzLCBiaDEpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsMiwgYmwyKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWwyLCBiaDIpOwogICAgbWlkICs9IE1hdGguaW11bChhaDIsIGJsMik7CiAgICBoaSArPSBNYXRoLmltdWwoYWgyLCBiaDIpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsMSwgYmwzKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWwxLCBiaDMpOwogICAgbWlkICs9IE1hdGguaW11bChhaDEsIGJsMyk7CiAgICBoaSArPSBNYXRoLmltdWwoYWgxLCBiaDMpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsMCwgYmw0KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWwwLCBiaDQpOwogICAgbWlkICs9IE1hdGguaW11bChhaDAsIGJsNCk7CiAgICBoaSArPSBNYXRoLmltdWwoYWgwLCBiaDQpOwogICAgdmFyIHc0ID0gYyArIGxvICsgKChtaWQgJiAweDFmZmYpIDw8IDEzKTsKICAgIGMgPSBoaSArIChtaWQgPj4+IDEzKSArICh3NCA+Pj4gMjYpOwogICAgdzQgJj0gMHgzZmZmZmZmOwogICAgLyogayA9IDUgKi8KICAgIGxvID0gTWF0aC5pbXVsKGFsNSwgYmwwKTsKICAgIG1pZCA9IE1hdGguaW11bChhbDUsIGJoMCk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoNSwgYmwwKTsKICAgIGhpID0gTWF0aC5pbXVsKGFoNSwgYmgwKTsKICAgIGxvICs9IE1hdGguaW11bChhbDQsIGJsMSk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsNCwgYmgxKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg0LCBibDEpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoNCwgYmgxKTsKICAgIGxvICs9IE1hdGguaW11bChhbDMsIGJsMik7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsMywgYmgyKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWgzLCBibDIpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoMywgYmgyKTsKICAgIGxvICs9IE1hdGguaW11bChhbDIsIGJsMyk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsMiwgYmgzKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWgyLCBibDMpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoMiwgYmgzKTsKICAgIGxvICs9IE1hdGguaW11bChhbDEsIGJsNCk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsMSwgYmg0KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWgxLCBibDQpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoMSwgYmg0KTsKICAgIGxvICs9IE1hdGguaW11bChhbDAsIGJsNSk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsMCwgYmg1KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWgwLCBibDUpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoMCwgYmg1KTsKICAgIHZhciB3NSA9IGMgKyBsbyArICgobWlkICYgMHgxZmZmKSA8PCAxMyk7CiAgICBjID0gaGkgKyAobWlkID4+PiAxMykgKyAodzUgPj4+IDI2KTsKICAgIHc1ICY9IDB4M2ZmZmZmZjsKICAgIC8qIGsgPSA2ICovCiAgICBsbyA9IE1hdGguaW11bChhbDYsIGJsMCk7CiAgICBtaWQgPSBNYXRoLmltdWwoYWw2LCBiaDApOwogICAgbWlkICs9IE1hdGguaW11bChhaDYsIGJsMCk7CiAgICBoaSA9IE1hdGguaW11bChhaDYsIGJoMCk7CiAgICBsbyArPSBNYXRoLmltdWwoYWw1LCBibDEpOwogICAgbWlkICs9IE1hdGguaW11bChhbDUsIGJoMSk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoNSwgYmwxKTsKICAgIGhpICs9IE1hdGguaW11bChhaDUsIGJoMSk7CiAgICBsbyArPSBNYXRoLmltdWwoYWw0LCBibDIpOwogICAgbWlkICs9IE1hdGguaW11bChhbDQsIGJoMik7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoNCwgYmwyKTsKICAgIGhpICs9IE1hdGguaW11bChhaDQsIGJoMik7CiAgICBsbyArPSBNYXRoLmltdWwoYWwzLCBibDMpOwogICAgbWlkICs9IE1hdGguaW11bChhbDMsIGJoMyk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoMywgYmwzKTsKICAgIGhpICs9IE1hdGguaW11bChhaDMsIGJoMyk7CiAgICBsbyArPSBNYXRoLmltdWwoYWwyLCBibDQpOwogICAgbWlkICs9IE1hdGguaW11bChhbDIsIGJoNCk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoMiwgYmw0KTsKICAgIGhpICs9IE1hdGguaW11bChhaDIsIGJoNCk7CiAgICBsbyArPSBNYXRoLmltdWwoYWwxLCBibDUpOwogICAgbWlkICs9IE1hdGguaW11bChhbDEsIGJoNSk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoMSwgYmw1KTsKICAgIGhpICs9IE1hdGguaW11bChhaDEsIGJoNSk7CiAgICBsbyArPSBNYXRoLmltdWwoYWwwLCBibDYpOwogICAgbWlkICs9IE1hdGguaW11bChhbDAsIGJoNik7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoMCwgYmw2KTsKICAgIGhpICs9IE1hdGguaW11bChhaDAsIGJoNik7CiAgICB2YXIgdzYgPSBjICsgbG8gKyAoKG1pZCAmIDB4MWZmZikgPDwgMTMpOwogICAgYyA9IGhpICsgKG1pZCA+Pj4gMTMpICsgKHc2ID4+PiAyNik7CiAgICB3NiAmPSAweDNmZmZmZmY7CiAgICAvKiBrID0gNyAqLwogICAgbG8gPSBNYXRoLmltdWwoYWw3LCBibDApOwogICAgbWlkID0gTWF0aC5pbXVsKGFsNywgYmgwKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg3LCBibDApOwogICAgaGkgPSBNYXRoLmltdWwoYWg3LCBiaDApOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsNiwgYmwxKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWw2LCBiaDEpOwogICAgbWlkICs9IE1hdGguaW11bChhaDYsIGJsMSk7CiAgICBoaSArPSBNYXRoLmltdWwoYWg2LCBiaDEpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsNSwgYmwyKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWw1LCBiaDIpOwogICAgbWlkICs9IE1hdGguaW11bChhaDUsIGJsMik7CiAgICBoaSArPSBNYXRoLmltdWwoYWg1LCBiaDIpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsNCwgYmwzKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWw0LCBiaDMpOwogICAgbWlkICs9IE1hdGguaW11bChhaDQsIGJsMyk7CiAgICBoaSArPSBNYXRoLmltdWwoYWg0LCBiaDMpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsMywgYmw0KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWwzLCBiaDQpOwogICAgbWlkICs9IE1hdGguaW11bChhaDMsIGJsNCk7CiAgICBoaSArPSBNYXRoLmltdWwoYWgzLCBiaDQpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsMiwgYmw1KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWwyLCBiaDUpOwogICAgbWlkICs9IE1hdGguaW11bChhaDIsIGJsNSk7CiAgICBoaSArPSBNYXRoLmltdWwoYWgyLCBiaDUpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsMSwgYmw2KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWwxLCBiaDYpOwogICAgbWlkICs9IE1hdGguaW11bChhaDEsIGJsNik7CiAgICBoaSArPSBNYXRoLmltdWwoYWgxLCBiaDYpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsMCwgYmw3KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWwwLCBiaDcpOwogICAgbWlkICs9IE1hdGguaW11bChhaDAsIGJsNyk7CiAgICBoaSArPSBNYXRoLmltdWwoYWgwLCBiaDcpOwogICAgdmFyIHc3ID0gYyArIGxvICsgKChtaWQgJiAweDFmZmYpIDw8IDEzKTsKICAgIGMgPSBoaSArIChtaWQgPj4+IDEzKSArICh3NyA+Pj4gMjYpOwogICAgdzcgJj0gMHgzZmZmZmZmOwogICAgLyogayA9IDggKi8KICAgIGxvID0gTWF0aC5pbXVsKGFsOCwgYmwwKTsKICAgIG1pZCA9IE1hdGguaW11bChhbDgsIGJoMCk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoOCwgYmwwKTsKICAgIGhpID0gTWF0aC5pbXVsKGFoOCwgYmgwKTsKICAgIGxvICs9IE1hdGguaW11bChhbDcsIGJsMSk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsNywgYmgxKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg3LCBibDEpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoNywgYmgxKTsKICAgIGxvICs9IE1hdGguaW11bChhbDYsIGJsMik7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsNiwgYmgyKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg2LCBibDIpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoNiwgYmgyKTsKICAgIGxvICs9IE1hdGguaW11bChhbDUsIGJsMyk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsNSwgYmgzKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg1LCBibDMpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoNSwgYmgzKTsKICAgIGxvICs9IE1hdGguaW11bChhbDQsIGJsNCk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsNCwgYmg0KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg0LCBibDQpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoNCwgYmg0KTsKICAgIGxvICs9IE1hdGguaW11bChhbDMsIGJsNSk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsMywgYmg1KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWgzLCBibDUpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoMywgYmg1KTsKICAgIGxvICs9IE1hdGguaW11bChhbDIsIGJsNik7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsMiwgYmg2KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWgyLCBibDYpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoMiwgYmg2KTsKICAgIGxvICs9IE1hdGguaW11bChhbDEsIGJsNyk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsMSwgYmg3KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWgxLCBibDcpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoMSwgYmg3KTsKICAgIGxvICs9IE1hdGguaW11bChhbDAsIGJsOCk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsMCwgYmg4KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWgwLCBibDgpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoMCwgYmg4KTsKICAgIHZhciB3OCA9IGMgKyBsbyArICgobWlkICYgMHgxZmZmKSA8PCAxMyk7CiAgICBjID0gaGkgKyAobWlkID4+PiAxMykgKyAodzggPj4+IDI2KTsKICAgIHc4ICY9IDB4M2ZmZmZmZjsKICAgIC8qIGsgPSA5ICovCiAgICBsbyA9IE1hdGguaW11bChhbDksIGJsMCk7CiAgICBtaWQgPSBNYXRoLmltdWwoYWw5LCBiaDApOwogICAgbWlkICs9IE1hdGguaW11bChhaDksIGJsMCk7CiAgICBoaSA9IE1hdGguaW11bChhaDksIGJoMCk7CiAgICBsbyArPSBNYXRoLmltdWwoYWw4LCBibDEpOwogICAgbWlkICs9IE1hdGguaW11bChhbDgsIGJoMSk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoOCwgYmwxKTsKICAgIGhpICs9IE1hdGguaW11bChhaDgsIGJoMSk7CiAgICBsbyArPSBNYXRoLmltdWwoYWw3LCBibDIpOwogICAgbWlkICs9IE1hdGguaW11bChhbDcsIGJoMik7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoNywgYmwyKTsKICAgIGhpICs9IE1hdGguaW11bChhaDcsIGJoMik7CiAgICBsbyArPSBNYXRoLmltdWwoYWw2LCBibDMpOwogICAgbWlkICs9IE1hdGguaW11bChhbDYsIGJoMyk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoNiwgYmwzKTsKICAgIGhpICs9IE1hdGguaW11bChhaDYsIGJoMyk7CiAgICBsbyArPSBNYXRoLmltdWwoYWw1LCBibDQpOwogICAgbWlkICs9IE1hdGguaW11bChhbDUsIGJoNCk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoNSwgYmw0KTsKICAgIGhpICs9IE1hdGguaW11bChhaDUsIGJoNCk7CiAgICBsbyArPSBNYXRoLmltdWwoYWw0LCBibDUpOwogICAgbWlkICs9IE1hdGguaW11bChhbDQsIGJoNSk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoNCwgYmw1KTsKICAgIGhpICs9IE1hdGguaW11bChhaDQsIGJoNSk7CiAgICBsbyArPSBNYXRoLmltdWwoYWwzLCBibDYpOwogICAgbWlkICs9IE1hdGguaW11bChhbDMsIGJoNik7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoMywgYmw2KTsKICAgIGhpICs9IE1hdGguaW11bChhaDMsIGJoNik7CiAgICBsbyArPSBNYXRoLmltdWwoYWwyLCBibDcpOwogICAgbWlkICs9IE1hdGguaW11bChhbDIsIGJoNyk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoMiwgYmw3KTsKICAgIGhpICs9IE1hdGguaW11bChhaDIsIGJoNyk7CiAgICBsbyArPSBNYXRoLmltdWwoYWwxLCBibDgpOwogICAgbWlkICs9IE1hdGguaW11bChhbDEsIGJoOCk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoMSwgYmw4KTsKICAgIGhpICs9IE1hdGguaW11bChhaDEsIGJoOCk7CiAgICBsbyArPSBNYXRoLmltdWwoYWwwLCBibDkpOwogICAgbWlkICs9IE1hdGguaW11bChhbDAsIGJoOSk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoMCwgYmw5KTsKICAgIGhpICs9IE1hdGguaW11bChhaDAsIGJoOSk7CiAgICB2YXIgdzkgPSBjICsgbG8gKyAoKG1pZCAmIDB4MWZmZikgPDwgMTMpOwogICAgYyA9IGhpICsgKG1pZCA+Pj4gMTMpICsgKHc5ID4+PiAyNik7CiAgICB3OSAmPSAweDNmZmZmZmY7CiAgICAvKiBrID0gMTAgKi8KICAgIGxvID0gTWF0aC5pbXVsKGFsOSwgYmwxKTsKICAgIG1pZCA9IE1hdGguaW11bChhbDksIGJoMSk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoOSwgYmwxKTsKICAgIGhpID0gTWF0aC5pbXVsKGFoOSwgYmgxKTsKICAgIGxvICs9IE1hdGguaW11bChhbDgsIGJsMik7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsOCwgYmgyKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg4LCBibDIpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoOCwgYmgyKTsKICAgIGxvICs9IE1hdGguaW11bChhbDcsIGJsMyk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsNywgYmgzKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg3LCBibDMpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoNywgYmgzKTsKICAgIGxvICs9IE1hdGguaW11bChhbDYsIGJsNCk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsNiwgYmg0KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg2LCBibDQpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoNiwgYmg0KTsKICAgIGxvICs9IE1hdGguaW11bChhbDUsIGJsNSk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsNSwgYmg1KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg1LCBibDUpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoNSwgYmg1KTsKICAgIGxvICs9IE1hdGguaW11bChhbDQsIGJsNik7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsNCwgYmg2KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg0LCBibDYpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoNCwgYmg2KTsKICAgIGxvICs9IE1hdGguaW11bChhbDMsIGJsNyk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsMywgYmg3KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWgzLCBibDcpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoMywgYmg3KTsKICAgIGxvICs9IE1hdGguaW11bChhbDIsIGJsOCk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsMiwgYmg4KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWgyLCBibDgpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoMiwgYmg4KTsKICAgIGxvICs9IE1hdGguaW11bChhbDEsIGJsOSk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsMSwgYmg5KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWgxLCBibDkpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoMSwgYmg5KTsKICAgIHZhciB3MTAgPSBjICsgbG8gKyAoKG1pZCAmIDB4MWZmZikgPDwgMTMpOwogICAgYyA9IGhpICsgKG1pZCA+Pj4gMTMpICsgKHcxMCA+Pj4gMjYpOwogICAgdzEwICY9IDB4M2ZmZmZmZjsKICAgIC8qIGsgPSAxMSAqLwogICAgbG8gPSBNYXRoLmltdWwoYWw5LCBibDIpOwogICAgbWlkID0gTWF0aC5pbXVsKGFsOSwgYmgyKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg5LCBibDIpOwogICAgaGkgPSBNYXRoLmltdWwoYWg5LCBiaDIpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsOCwgYmwzKTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWw4LCBiaDMpOwogICAgbWlkICs9IE1hdGguaW11bChhaDgsIGJsMyk7CiAgICBoaSArPSBNYXRoLmltdWwoYWg4LCBiaDMpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsNywgYmw0KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWw3LCBiaDQpOwogICAgbWlkICs9IE1hdGguaW11bChhaDcsIGJsNCk7CiAgICBoaSArPSBNYXRoLmltdWwoYWg3LCBiaDQpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsNiwgYmw1KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWw2LCBiaDUpOwogICAgbWlkICs9IE1hdGguaW11bChhaDYsIGJsNSk7CiAgICBoaSArPSBNYXRoLmltdWwoYWg2LCBiaDUpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsNSwgYmw2KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWw1LCBiaDYpOwogICAgbWlkICs9IE1hdGguaW11bChhaDUsIGJsNik7CiAgICBoaSArPSBNYXRoLmltdWwoYWg1LCBiaDYpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsNCwgYmw3KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWw0LCBiaDcpOwogICAgbWlkICs9IE1hdGguaW11bChhaDQsIGJsNyk7CiAgICBoaSArPSBNYXRoLmltdWwoYWg0LCBiaDcpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsMywgYmw4KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWwzLCBiaDgpOwogICAgbWlkICs9IE1hdGguaW11bChhaDMsIGJsOCk7CiAgICBoaSArPSBNYXRoLmltdWwoYWgzLCBiaDgpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsMiwgYmw5KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWwyLCBiaDkpOwogICAgbWlkICs9IE1hdGguaW11bChhaDIsIGJsOSk7CiAgICBoaSArPSBNYXRoLmltdWwoYWgyLCBiaDkpOwogICAgdmFyIHcxMSA9IGMgKyBsbyArICgobWlkICYgMHgxZmZmKSA8PCAxMyk7CiAgICBjID0gaGkgKyAobWlkID4+PiAxMykgKyAodzExID4+PiAyNik7CiAgICB3MTEgJj0gMHgzZmZmZmZmOwogICAgLyogayA9IDEyICovCiAgICBsbyA9IE1hdGguaW11bChhbDksIGJsMyk7CiAgICBtaWQgPSBNYXRoLmltdWwoYWw5LCBiaDMpOwogICAgbWlkICs9IE1hdGguaW11bChhaDksIGJsMyk7CiAgICBoaSA9IE1hdGguaW11bChhaDksIGJoMyk7CiAgICBsbyArPSBNYXRoLmltdWwoYWw4LCBibDQpOwogICAgbWlkICs9IE1hdGguaW11bChhbDgsIGJoNCk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoOCwgYmw0KTsKICAgIGhpICs9IE1hdGguaW11bChhaDgsIGJoNCk7CiAgICBsbyArPSBNYXRoLmltdWwoYWw3LCBibDUpOwogICAgbWlkICs9IE1hdGguaW11bChhbDcsIGJoNSk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoNywgYmw1KTsKICAgIGhpICs9IE1hdGguaW11bChhaDcsIGJoNSk7CiAgICBsbyArPSBNYXRoLmltdWwoYWw2LCBibDYpOwogICAgbWlkICs9IE1hdGguaW11bChhbDYsIGJoNik7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoNiwgYmw2KTsKICAgIGhpICs9IE1hdGguaW11bChhaDYsIGJoNik7CiAgICBsbyArPSBNYXRoLmltdWwoYWw1LCBibDcpOwogICAgbWlkICs9IE1hdGguaW11bChhbDUsIGJoNyk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoNSwgYmw3KTsKICAgIGhpICs9IE1hdGguaW11bChhaDUsIGJoNyk7CiAgICBsbyArPSBNYXRoLmltdWwoYWw0LCBibDgpOwogICAgbWlkICs9IE1hdGguaW11bChhbDQsIGJoOCk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoNCwgYmw4KTsKICAgIGhpICs9IE1hdGguaW11bChhaDQsIGJoOCk7CiAgICBsbyArPSBNYXRoLmltdWwoYWwzLCBibDkpOwogICAgbWlkICs9IE1hdGguaW11bChhbDMsIGJoOSk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoMywgYmw5KTsKICAgIGhpICs9IE1hdGguaW11bChhaDMsIGJoOSk7CiAgICB2YXIgdzEyID0gYyArIGxvICsgKChtaWQgJiAweDFmZmYpIDw8IDEzKTsKICAgIGMgPSBoaSArIChtaWQgPj4+IDEzKSArICh3MTIgPj4+IDI2KTsKICAgIHcxMiAmPSAweDNmZmZmZmY7CiAgICAvKiBrID0gMTMgKi8KICAgIGxvID0gTWF0aC5pbXVsKGFsOSwgYmw0KTsKICAgIG1pZCA9IE1hdGguaW11bChhbDksIGJoNCk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoOSwgYmw0KTsKICAgIGhpID0gTWF0aC5pbXVsKGFoOSwgYmg0KTsKICAgIGxvICs9IE1hdGguaW11bChhbDgsIGJsNSk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsOCwgYmg1KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg4LCBibDUpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoOCwgYmg1KTsKICAgIGxvICs9IE1hdGguaW11bChhbDcsIGJsNik7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsNywgYmg2KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg3LCBibDYpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoNywgYmg2KTsKICAgIGxvICs9IE1hdGguaW11bChhbDYsIGJsNyk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsNiwgYmg3KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg2LCBibDcpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoNiwgYmg3KTsKICAgIGxvICs9IE1hdGguaW11bChhbDUsIGJsOCk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsNSwgYmg4KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg1LCBibDgpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoNSwgYmg4KTsKICAgIGxvICs9IE1hdGguaW11bChhbDQsIGJsOSk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsNCwgYmg5KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg0LCBibDkpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoNCwgYmg5KTsKICAgIHZhciB3MTMgPSBjICsgbG8gKyAoKG1pZCAmIDB4MWZmZikgPDwgMTMpOwogICAgYyA9IGhpICsgKG1pZCA+Pj4gMTMpICsgKHcxMyA+Pj4gMjYpOwogICAgdzEzICY9IDB4M2ZmZmZmZjsKICAgIC8qIGsgPSAxNCAqLwogICAgbG8gPSBNYXRoLmltdWwoYWw5LCBibDUpOwogICAgbWlkID0gTWF0aC5pbXVsKGFsOSwgYmg1KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg5LCBibDUpOwogICAgaGkgPSBNYXRoLmltdWwoYWg5LCBiaDUpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsOCwgYmw2KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWw4LCBiaDYpOwogICAgbWlkICs9IE1hdGguaW11bChhaDgsIGJsNik7CiAgICBoaSArPSBNYXRoLmltdWwoYWg4LCBiaDYpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsNywgYmw3KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWw3LCBiaDcpOwogICAgbWlkICs9IE1hdGguaW11bChhaDcsIGJsNyk7CiAgICBoaSArPSBNYXRoLmltdWwoYWg3LCBiaDcpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsNiwgYmw4KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWw2LCBiaDgpOwogICAgbWlkICs9IE1hdGguaW11bChhaDYsIGJsOCk7CiAgICBoaSArPSBNYXRoLmltdWwoYWg2LCBiaDgpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsNSwgYmw5KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWw1LCBiaDkpOwogICAgbWlkICs9IE1hdGguaW11bChhaDUsIGJsOSk7CiAgICBoaSArPSBNYXRoLmltdWwoYWg1LCBiaDkpOwogICAgdmFyIHcxNCA9IGMgKyBsbyArICgobWlkICYgMHgxZmZmKSA8PCAxMyk7CiAgICBjID0gaGkgKyAobWlkID4+PiAxMykgKyAodzE0ID4+PiAyNik7CiAgICB3MTQgJj0gMHgzZmZmZmZmOwogICAgLyogayA9IDE1ICovCiAgICBsbyA9IE1hdGguaW11bChhbDksIGJsNik7CiAgICBtaWQgPSBNYXRoLmltdWwoYWw5LCBiaDYpOwogICAgbWlkICs9IE1hdGguaW11bChhaDksIGJsNik7CiAgICBoaSA9IE1hdGguaW11bChhaDksIGJoNik7CiAgICBsbyArPSBNYXRoLmltdWwoYWw4LCBibDcpOwogICAgbWlkICs9IE1hdGguaW11bChhbDgsIGJoNyk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoOCwgYmw3KTsKICAgIGhpICs9IE1hdGguaW11bChhaDgsIGJoNyk7CiAgICBsbyArPSBNYXRoLmltdWwoYWw3LCBibDgpOwogICAgbWlkICs9IE1hdGguaW11bChhbDcsIGJoOCk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoNywgYmw4KTsKICAgIGhpICs9IE1hdGguaW11bChhaDcsIGJoOCk7CiAgICBsbyArPSBNYXRoLmltdWwoYWw2LCBibDkpOwogICAgbWlkICs9IE1hdGguaW11bChhbDYsIGJoOSk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoNiwgYmw5KTsKICAgIGhpICs9IE1hdGguaW11bChhaDYsIGJoOSk7CiAgICB2YXIgdzE1ID0gYyArIGxvICsgKChtaWQgJiAweDFmZmYpIDw8IDEzKTsKICAgIGMgPSBoaSArIChtaWQgPj4+IDEzKSArICh3MTUgPj4+IDI2KTsKICAgIHcxNSAmPSAweDNmZmZmZmY7CiAgICAvKiBrID0gMTYgKi8KICAgIGxvID0gTWF0aC5pbXVsKGFsOSwgYmw3KTsKICAgIG1pZCA9IE1hdGguaW11bChhbDksIGJoNyk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFoOSwgYmw3KTsKICAgIGhpID0gTWF0aC5pbXVsKGFoOSwgYmg3KTsKICAgIGxvICs9IE1hdGguaW11bChhbDgsIGJsOCk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsOCwgYmg4KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg4LCBibDgpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoOCwgYmg4KTsKICAgIGxvICs9IE1hdGguaW11bChhbDcsIGJsOSk7CiAgICBtaWQgKz0gTWF0aC5pbXVsKGFsNywgYmg5KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg3LCBibDkpOwogICAgaGkgKz0gTWF0aC5pbXVsKGFoNywgYmg5KTsKICAgIHZhciB3MTYgPSBjICsgbG8gKyAoKG1pZCAmIDB4MWZmZikgPDwgMTMpOwogICAgYyA9IGhpICsgKG1pZCA+Pj4gMTMpICsgKHcxNiA+Pj4gMjYpOwogICAgdzE2ICY9IDB4M2ZmZmZmZjsKICAgIC8qIGsgPSAxNyAqLwogICAgbG8gPSBNYXRoLmltdWwoYWw5LCBibDgpOwogICAgbWlkID0gTWF0aC5pbXVsKGFsOSwgYmg4KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWg5LCBibDgpOwogICAgaGkgPSBNYXRoLmltdWwoYWg5LCBiaDgpOwogICAgbG8gKz0gTWF0aC5pbXVsKGFsOCwgYmw5KTsKICAgIG1pZCArPSBNYXRoLmltdWwoYWw4LCBiaDkpOwogICAgbWlkICs9IE1hdGguaW11bChhaDgsIGJsOSk7CiAgICBoaSArPSBNYXRoLmltdWwoYWg4LCBiaDkpOwogICAgdmFyIHcxNyA9IGMgKyBsbyArICgobWlkICYgMHgxZmZmKSA8PCAxMyk7CiAgICBjID0gaGkgKyAobWlkID4+PiAxMykgKyAodzE3ID4+PiAyNik7CiAgICB3MTcgJj0gMHgzZmZmZmZmOwogICAgLyogayA9IDE4ICovCiAgICBsbyA9IE1hdGguaW11bChhbDksIGJsOSk7CiAgICBtaWQgPSBNYXRoLmltdWwoYWw5LCBiaDkpOwogICAgbWlkICs9IE1hdGguaW11bChhaDksIGJsOSk7CiAgICBoaSA9IE1hdGguaW11bChhaDksIGJoOSk7CiAgICB2YXIgdzE4ID0gYyArIGxvICsgKChtaWQgJiAweDFmZmYpIDw8IDEzKTsKICAgIGMgPSBoaSArIChtaWQgPj4+IDEzKSArICh3MTggPj4+IDI2KTsKICAgIHcxOCAmPSAweDNmZmZmZmY7CiAgICBvWzBdID0gdzA7CiAgICBvWzFdID0gdzE7CiAgICBvWzJdID0gdzI7CiAgICBvWzNdID0gdzM7CiAgICBvWzRdID0gdzQ7CiAgICBvWzVdID0gdzU7CiAgICBvWzZdID0gdzY7CiAgICBvWzddID0gdzc7CiAgICBvWzhdID0gdzg7CiAgICBvWzldID0gdzk7CiAgICBvWzEwXSA9IHcxMDsKICAgIG9bMTFdID0gdzExOwogICAgb1sxMl0gPSB3MTI7CiAgICBvWzEzXSA9IHcxMzsKICAgIG9bMTRdID0gdzE0OwogICAgb1sxNV0gPSB3MTU7CiAgICBvWzE2XSA9IHcxNjsKICAgIG9bMTddID0gdzE3OwogICAgb1sxOF0gPSB3MTg7CiAgICBpZiAoYyAhPT0gMCkgewogICAgICBvWzE5XSA9IGM7CiAgICAgIG91dC5sZW5ndGgrKzsKICAgIH0KICAgIHJldHVybiBvdXQ7CiAgfTsKCiAgLy8gUG9seWZpbGwgY29tYgogIGlmICghTWF0aC5pbXVsKSB7CiAgICBjb21iMTBNdWxUbyA9IHNtYWxsTXVsVG87CiAgfQoKICBmdW5jdGlvbiBiaWdNdWxUbyAoc2VsZiwgbnVtLCBvdXQpIHsKICAgIG91dC5uZWdhdGl2ZSA9IG51bS5uZWdhdGl2ZSBeIHNlbGYubmVnYXRpdmU7CiAgICBvdXQubGVuZ3RoID0gc2VsZi5sZW5ndGggKyBudW0ubGVuZ3RoOwoKICAgIHZhciBjYXJyeSA9IDA7CiAgICB2YXIgaG5jYXJyeSA9IDA7CiAgICBmb3IgKHZhciBrID0gMDsgayA8IG91dC5sZW5ndGggLSAxOyBrKyspIHsKICAgICAgLy8gU3VtIGFsbCB3b3JkcyB3aXRoIHRoZSBzYW1lIGBpICsgaiA9IGtgIGFuZCBhY2N1bXVsYXRlIGBuY2FycnlgLAogICAgICAvLyBub3RlIHRoYXQgbmNhcnJ5IGNvdWxkIGJlID49IDB4M2ZmZmZmZgogICAgICB2YXIgbmNhcnJ5ID0gaG5jYXJyeTsKICAgICAgaG5jYXJyeSA9IDA7CiAgICAgIHZhciByd29yZCA9IGNhcnJ5ICYgMHgzZmZmZmZmOwogICAgICB2YXIgbWF4SiA9IE1hdGgubWluKGssIG51bS5sZW5ndGggLSAxKTsKICAgICAgZm9yICh2YXIgaiA9IE1hdGgubWF4KDAsIGsgLSBzZWxmLmxlbmd0aCArIDEpOyBqIDw9IG1heEo7IGorKykgewogICAgICAgIHZhciBpID0gayAtIGo7CiAgICAgICAgdmFyIGEgPSBzZWxmLndvcmRzW2ldIHwgMDsKICAgICAgICB2YXIgYiA9IG51bS53b3Jkc1tqXSB8IDA7CiAgICAgICAgdmFyIHIgPSBhICogYjsKCiAgICAgICAgdmFyIGxvID0gciAmIDB4M2ZmZmZmZjsKICAgICAgICBuY2FycnkgPSAobmNhcnJ5ICsgKChyIC8gMHg0MDAwMDAwKSB8IDApKSB8IDA7CiAgICAgICAgbG8gPSAobG8gKyByd29yZCkgfCAwOwogICAgICAgIHJ3b3JkID0gbG8gJiAweDNmZmZmZmY7CiAgICAgICAgbmNhcnJ5ID0gKG5jYXJyeSArIChsbyA+Pj4gMjYpKSB8IDA7CgogICAgICAgIGhuY2FycnkgKz0gbmNhcnJ5ID4+PiAyNjsKICAgICAgICBuY2FycnkgJj0gMHgzZmZmZmZmOwogICAgICB9CiAgICAgIG91dC53b3Jkc1trXSA9IHJ3b3JkOwogICAgICBjYXJyeSA9IG5jYXJyeTsKICAgICAgbmNhcnJ5ID0gaG5jYXJyeTsKICAgIH0KICAgIGlmIChjYXJyeSAhPT0gMCkgewogICAgICBvdXQud29yZHNba10gPSBjYXJyeTsKICAgIH0gZWxzZSB7CiAgICAgIG91dC5sZW5ndGgtLTsKICAgIH0KCiAgICByZXR1cm4gb3V0LnN0cmlwKCk7CiAgfQoKICBmdW5jdGlvbiBqdW1ib011bFRvIChzZWxmLCBudW0sIG91dCkgewogICAgdmFyIGZmdG0gPSBuZXcgRkZUTSgpOwogICAgcmV0dXJuIGZmdG0ubXVscChzZWxmLCBudW0sIG91dCk7CiAgfQoKICBCTi5wcm90b3R5cGUubXVsVG8gPSBmdW5jdGlvbiBtdWxUbyAobnVtLCBvdXQpIHsKICAgIHZhciByZXM7CiAgICB2YXIgbGVuID0gdGhpcy5sZW5ndGggKyBudW0ubGVuZ3RoOwogICAgaWYgKHRoaXMubGVuZ3RoID09PSAxMCAmJiBudW0ubGVuZ3RoID09PSAxMCkgewogICAgICByZXMgPSBjb21iMTBNdWxUbyh0aGlzLCBudW0sIG91dCk7CiAgICB9IGVsc2UgaWYgKGxlbiA8IDYzKSB7CiAgICAgIHJlcyA9IHNtYWxsTXVsVG8odGhpcywgbnVtLCBvdXQpOwogICAgfSBlbHNlIGlmIChsZW4gPCAxMDI0KSB7CiAgICAgIHJlcyA9IGJpZ011bFRvKHRoaXMsIG51bSwgb3V0KTsKICAgIH0gZWxzZSB7CiAgICAgIHJlcyA9IGp1bWJvTXVsVG8odGhpcywgbnVtLCBvdXQpOwogICAgfQoKICAgIHJldHVybiByZXM7CiAgfTsKCiAgLy8gQ29vbGV5LVR1a2V5IGFsZ29yaXRobSBmb3IgRkZUCiAgLy8gc2xpZ2h0bHkgcmV2aXNpdGVkIHRvIHJlbHkgb24gbG9vcGluZyBpbnN0ZWFkIG9mIHJlY3Vyc2lvbgoKICBmdW5jdGlvbiBGRlRNICh4LCB5KSB7CiAgICB0aGlzLnggPSB4OwogICAgdGhpcy55ID0geTsKICB9CgogIEZGVE0ucHJvdG90eXBlLm1ha2VSQlQgPSBmdW5jdGlvbiBtYWtlUkJUIChOKSB7CiAgICB2YXIgdCA9IG5ldyBBcnJheShOKTsKICAgIHZhciBsID0gQk4ucHJvdG90eXBlLl9jb3VudEJpdHMoTikgLSAxOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOOyBpKyspIHsKICAgICAgdFtpXSA9IHRoaXMucmV2QmluKGksIGwsIE4pOwogICAgfQoKICAgIHJldHVybiB0OwogIH07CgogIC8vIFJldHVybnMgYmluYXJ5LXJldmVyc2VkIHJlcHJlc2VudGF0aW9uIG9mIGB4YAogIEZGVE0ucHJvdG90eXBlLnJldkJpbiA9IGZ1bmN0aW9uIHJldkJpbiAoeCwgbCwgTikgewogICAgaWYgKHggPT09IDAgfHwgeCA9PT0gTiAtIDEpIHJldHVybiB4OwoKICAgIHZhciByYiA9IDA7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkrKykgewogICAgICByYiB8PSAoeCAmIDEpIDw8IChsIC0gaSAtIDEpOwogICAgICB4ID4+PSAxOwogICAgfQoKICAgIHJldHVybiByYjsKICB9OwoKICAvLyBQZXJmb3JtcyAidHdlZWRsaW5nIiBwaGFzZSwgdGhlcmVmb3JlICdlbXVsYXRpbmcnCiAgLy8gYmVoYXZpb3VyIG9mIHRoZSByZWN1cnNpdmUgYWxnb3JpdGhtCiAgRkZUTS5wcm90b3R5cGUucGVybXV0ZSA9IGZ1bmN0aW9uIHBlcm11dGUgKHJidCwgcndzLCBpd3MsIHJ0d3MsIGl0d3MsIE4pIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTjsgaSsrKSB7CiAgICAgIHJ0d3NbaV0gPSByd3NbcmJ0W2ldXTsKICAgICAgaXR3c1tpXSA9IGl3c1tyYnRbaV1dOwogICAgfQogIH07CgogIEZGVE0ucHJvdG90eXBlLnRyYW5zZm9ybSA9IGZ1bmN0aW9uIHRyYW5zZm9ybSAocndzLCBpd3MsIHJ0d3MsIGl0d3MsIE4sIHJidCkgewogICAgdGhpcy5wZXJtdXRlKHJidCwgcndzLCBpd3MsIHJ0d3MsIGl0d3MsIE4pOwoKICAgIGZvciAodmFyIHMgPSAxOyBzIDwgTjsgcyA8PD0gMSkgewogICAgICB2YXIgbCA9IHMgPDwgMTsKCiAgICAgIHZhciBydHdkZiA9IE1hdGguY29zKDIgKiBNYXRoLlBJIC8gbCk7CiAgICAgIHZhciBpdHdkZiA9IE1hdGguc2luKDIgKiBNYXRoLlBJIC8gbCk7CgogICAgICBmb3IgKHZhciBwID0gMDsgcCA8IE47IHAgKz0gbCkgewogICAgICAgIHZhciBydHdkZl8gPSBydHdkZjsKICAgICAgICB2YXIgaXR3ZGZfID0gaXR3ZGY7CgogICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgczsgaisrKSB7CiAgICAgICAgICB2YXIgcmUgPSBydHdzW3AgKyBqXTsKICAgICAgICAgIHZhciBpZSA9IGl0d3NbcCArIGpdOwoKICAgICAgICAgIHZhciBybyA9IHJ0d3NbcCArIGogKyBzXTsKICAgICAgICAgIHZhciBpbyA9IGl0d3NbcCArIGogKyBzXTsKCiAgICAgICAgICB2YXIgcnggPSBydHdkZl8gKiBybyAtIGl0d2RmXyAqIGlvOwoKICAgICAgICAgIGlvID0gcnR3ZGZfICogaW8gKyBpdHdkZl8gKiBybzsKICAgICAgICAgIHJvID0gcng7CgogICAgICAgICAgcnR3c1twICsgal0gPSByZSArIHJvOwogICAgICAgICAgaXR3c1twICsgal0gPSBpZSArIGlvOwoKICAgICAgICAgIHJ0d3NbcCArIGogKyBzXSA9IHJlIC0gcm87CiAgICAgICAgICBpdHdzW3AgKyBqICsgc10gPSBpZSAtIGlvOwoKICAgICAgICAgIC8qIGpzaGludCBtYXhkZXB0aCA6IGZhbHNlICovCiAgICAgICAgICBpZiAoaiAhPT0gbCkgewogICAgICAgICAgICByeCA9IHJ0d2RmICogcnR3ZGZfIC0gaXR3ZGYgKiBpdHdkZl87CgogICAgICAgICAgICBpdHdkZl8gPSBydHdkZiAqIGl0d2RmXyArIGl0d2RmICogcnR3ZGZfOwogICAgICAgICAgICBydHdkZl8gPSByeDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICBGRlRNLnByb3RvdHlwZS5ndWVzc0xlbjEzYiA9IGZ1bmN0aW9uIGd1ZXNzTGVuMTNiIChuLCBtKSB7CiAgICB2YXIgTiA9IE1hdGgubWF4KG0sIG4pIHwgMTsKICAgIHZhciBvZGQgPSBOICYgMTsKICAgIHZhciBpID0gMDsKICAgIGZvciAoTiA9IE4gLyAyIHwgMDsgTjsgTiA9IE4gPj4+IDEpIHsKICAgICAgaSsrOwogICAgfQoKICAgIHJldHVybiAxIDw8IGkgKyAxICsgb2RkOwogIH07CgogIEZGVE0ucHJvdG90eXBlLmNvbmp1Z2F0ZSA9IGZ1bmN0aW9uIGNvbmp1Z2F0ZSAocndzLCBpd3MsIE4pIHsKICAgIGlmIChOIDw9IDEpIHJldHVybjsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE4gLyAyOyBpKyspIHsKICAgICAgdmFyIHQgPSByd3NbaV07CgogICAgICByd3NbaV0gPSByd3NbTiAtIGkgLSAxXTsKICAgICAgcndzW04gLSBpIC0gMV0gPSB0OwoKICAgICAgdCA9IGl3c1tpXTsKCiAgICAgIGl3c1tpXSA9IC1pd3NbTiAtIGkgLSAxXTsKICAgICAgaXdzW04gLSBpIC0gMV0gPSAtdDsKICAgIH0KICB9OwoKICBGRlRNLnByb3RvdHlwZS5ub3JtYWxpemUxM2IgPSBmdW5jdGlvbiBub3JtYWxpemUxM2IgKHdzLCBOKSB7CiAgICB2YXIgY2FycnkgPSAwOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOIC8gMjsgaSsrKSB7CiAgICAgIHZhciB3ID0gTWF0aC5yb3VuZCh3c1syICogaSArIDFdIC8gTikgKiAweDIwMDAgKwogICAgICAgIE1hdGgucm91bmQod3NbMiAqIGldIC8gTikgKwogICAgICAgIGNhcnJ5OwoKICAgICAgd3NbaV0gPSB3ICYgMHgzZmZmZmZmOwoKICAgICAgaWYgKHcgPCAweDQwMDAwMDApIHsKICAgICAgICBjYXJyeSA9IDA7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FycnkgPSB3IC8gMHg0MDAwMDAwIHwgMDsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB3czsKICB9OwoKICBGRlRNLnByb3RvdHlwZS5jb252ZXJ0MTNiID0gZnVuY3Rpb24gY29udmVydDEzYiAod3MsIGxlbiwgcndzLCBOKSB7CiAgICB2YXIgY2FycnkgPSAwOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICBjYXJyeSA9IGNhcnJ5ICsgKHdzW2ldIHwgMCk7CgogICAgICByd3NbMiAqIGldID0gY2FycnkgJiAweDFmZmY7IGNhcnJ5ID0gY2FycnkgPj4+IDEzOwogICAgICByd3NbMiAqIGkgKyAxXSA9IGNhcnJ5ICYgMHgxZmZmOyBjYXJyeSA9IGNhcnJ5ID4+PiAxMzsKICAgIH0KCiAgICAvLyBQYWQgd2l0aCB6ZXJvZXMKICAgIGZvciAoaSA9IDIgKiBsZW47IGkgPCBOOyArK2kpIHsKICAgICAgcndzW2ldID0gMDsKICAgIH0KCiAgICBhc3NlcnQoY2FycnkgPT09IDApOwogICAgYXNzZXJ0KChjYXJyeSAmIH4weDFmZmYpID09PSAwKTsKICB9OwoKICBGRlRNLnByb3RvdHlwZS5zdHViID0gZnVuY3Rpb24gc3R1YiAoTikgewogICAgdmFyIHBoID0gbmV3IEFycmF5KE4pOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOOyBpKyspIHsKICAgICAgcGhbaV0gPSAwOwogICAgfQoKICAgIHJldHVybiBwaDsKICB9OwoKICBGRlRNLnByb3RvdHlwZS5tdWxwID0gZnVuY3Rpb24gbXVscCAoeCwgeSwgb3V0KSB7CiAgICB2YXIgTiA9IDIgKiB0aGlzLmd1ZXNzTGVuMTNiKHgubGVuZ3RoLCB5Lmxlbmd0aCk7CgogICAgdmFyIHJidCA9IHRoaXMubWFrZVJCVChOKTsKCiAgICB2YXIgXyA9IHRoaXMuc3R1YihOKTsKCiAgICB2YXIgcndzID0gbmV3IEFycmF5KE4pOwogICAgdmFyIHJ3c3QgPSBuZXcgQXJyYXkoTik7CiAgICB2YXIgaXdzdCA9IG5ldyBBcnJheShOKTsKCiAgICB2YXIgbnJ3cyA9IG5ldyBBcnJheShOKTsKICAgIHZhciBucndzdCA9IG5ldyBBcnJheShOKTsKICAgIHZhciBuaXdzdCA9IG5ldyBBcnJheShOKTsKCiAgICB2YXIgcm13cyA9IG91dC53b3JkczsKICAgIHJtd3MubGVuZ3RoID0gTjsKCiAgICB0aGlzLmNvbnZlcnQxM2IoeC53b3JkcywgeC5sZW5ndGgsIHJ3cywgTik7CiAgICB0aGlzLmNvbnZlcnQxM2IoeS53b3JkcywgeS5sZW5ndGgsIG5yd3MsIE4pOwoKICAgIHRoaXMudHJhbnNmb3JtKHJ3cywgXywgcndzdCwgaXdzdCwgTiwgcmJ0KTsKICAgIHRoaXMudHJhbnNmb3JtKG5yd3MsIF8sIG5yd3N0LCBuaXdzdCwgTiwgcmJ0KTsKCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IE47IGkrKykgewogICAgICB2YXIgcnggPSByd3N0W2ldICogbnJ3c3RbaV0gLSBpd3N0W2ldICogbml3c3RbaV07CiAgICAgIGl3c3RbaV0gPSByd3N0W2ldICogbml3c3RbaV0gKyBpd3N0W2ldICogbnJ3c3RbaV07CiAgICAgIHJ3c3RbaV0gPSByeDsKICAgIH0KCiAgICB0aGlzLmNvbmp1Z2F0ZShyd3N0LCBpd3N0LCBOKTsKICAgIHRoaXMudHJhbnNmb3JtKHJ3c3QsIGl3c3QsIHJtd3MsIF8sIE4sIHJidCk7CiAgICB0aGlzLmNvbmp1Z2F0ZShybXdzLCBfLCBOKTsKICAgIHRoaXMubm9ybWFsaXplMTNiKHJtd3MsIE4pOwoKICAgIG91dC5uZWdhdGl2ZSA9IHgubmVnYXRpdmUgXiB5Lm5lZ2F0aXZlOwogICAgb3V0Lmxlbmd0aCA9IHgubGVuZ3RoICsgeS5sZW5ndGg7CiAgICByZXR1cm4gb3V0LnN0cmlwKCk7CiAgfTsKCiAgLy8gTXVsdGlwbHkgYHRoaXNgIGJ5IGBudW1gCiAgQk4ucHJvdG90eXBlLm11bCA9IGZ1bmN0aW9uIG11bCAobnVtKSB7CiAgICB2YXIgb3V0ID0gbmV3IEJOKG51bGwpOwogICAgb3V0LndvcmRzID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoICsgbnVtLmxlbmd0aCk7CiAgICByZXR1cm4gdGhpcy5tdWxUbyhudW0sIG91dCk7CiAgfTsKCiAgLy8gTXVsdGlwbHkgZW1wbG95aW5nIEZGVAogIEJOLnByb3RvdHlwZS5tdWxmID0gZnVuY3Rpb24gbXVsZiAobnVtKSB7CiAgICB2YXIgb3V0ID0gbmV3IEJOKG51bGwpOwogICAgb3V0LndvcmRzID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoICsgbnVtLmxlbmd0aCk7CiAgICByZXR1cm4ganVtYm9NdWxUbyh0aGlzLCBudW0sIG91dCk7CiAgfTsKCiAgLy8gSW4tcGxhY2UgTXVsdGlwbGljYXRpb24KICBCTi5wcm90b3R5cGUuaW11bCA9IGZ1bmN0aW9uIGltdWwgKG51bSkgewogICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5tdWxUbyhudW0sIHRoaXMpOwogIH07CgogIEJOLnByb3RvdHlwZS5pbXVsbiA9IGZ1bmN0aW9uIGltdWxuIChudW0pIHsKICAgIGFzc2VydCh0eXBlb2YgbnVtID09PSAnbnVtYmVyJyk7CiAgICBhc3NlcnQobnVtIDwgMHg0MDAwMDAwKTsKCiAgICAvLyBDYXJyeQogICAgdmFyIGNhcnJ5ID0gMDsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgdyA9ICh0aGlzLndvcmRzW2ldIHwgMCkgKiBudW07CiAgICAgIHZhciBsbyA9ICh3ICYgMHgzZmZmZmZmKSArIChjYXJyeSAmIDB4M2ZmZmZmZik7CiAgICAgIGNhcnJ5ID4+PSAyNjsKICAgICAgY2FycnkgKz0gKHcgLyAweDQwMDAwMDApIHwgMDsKICAgICAgLy8gTk9URTogbG8gaXMgMjdiaXQgbWF4aW11bQogICAgICBjYXJyeSArPSBsbyA+Pj4gMjY7CiAgICAgIHRoaXMud29yZHNbaV0gPSBsbyAmIDB4M2ZmZmZmZjsKICAgIH0KCiAgICBpZiAoY2FycnkgIT09IDApIHsKICAgICAgdGhpcy53b3Jkc1tpXSA9IGNhcnJ5OwogICAgICB0aGlzLmxlbmd0aCsrOwogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH07CgogIEJOLnByb3RvdHlwZS5tdWxuID0gZnVuY3Rpb24gbXVsbiAobnVtKSB7CiAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmltdWxuKG51bSk7CiAgfTsKCiAgLy8gYHRoaXNgICogYHRoaXNgCiAgQk4ucHJvdG90eXBlLnNxciA9IGZ1bmN0aW9uIHNxciAoKSB7CiAgICByZXR1cm4gdGhpcy5tdWwodGhpcyk7CiAgfTsKCiAgLy8gYHRoaXNgICogYHRoaXNgIGluLXBsYWNlCiAgQk4ucHJvdG90eXBlLmlzcXIgPSBmdW5jdGlvbiBpc3FyICgpIHsKICAgIHJldHVybiB0aGlzLmltdWwodGhpcy5jbG9uZSgpKTsKICB9OwoKICAvLyBNYXRoLnBvdyhgdGhpc2AsIGBudW1gKQogIEJOLnByb3RvdHlwZS5wb3cgPSBmdW5jdGlvbiBwb3cgKG51bSkgewogICAgdmFyIHcgPSB0b0JpdEFycmF5KG51bSk7CiAgICBpZiAody5sZW5ndGggPT09IDApIHJldHVybiBuZXcgQk4oMSk7CgogICAgLy8gU2tpcCBsZWFkaW5nIHplcm9lcwogICAgdmFyIHJlcyA9IHRoaXM7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHcubGVuZ3RoOyBpKyssIHJlcyA9IHJlcy5zcXIoKSkgewogICAgICBpZiAod1tpXSAhPT0gMCkgYnJlYWs7CiAgICB9CgogICAgaWYgKCsraSA8IHcubGVuZ3RoKSB7CiAgICAgIGZvciAodmFyIHEgPSByZXMuc3FyKCk7IGkgPCB3Lmxlbmd0aDsgaSsrLCBxID0gcS5zcXIoKSkgewogICAgICAgIGlmICh3W2ldID09PSAwKSBjb250aW51ZTsKCiAgICAgICAgcmVzID0gcmVzLm11bChxKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiByZXM7CiAgfTsKCiAgLy8gU2hpZnQtbGVmdCBpbi1wbGFjZQogIEJOLnByb3RvdHlwZS5pdXNobG4gPSBmdW5jdGlvbiBpdXNobG4gKGJpdHMpIHsKICAgIGFzc2VydCh0eXBlb2YgYml0cyA9PT0gJ251bWJlcicgJiYgYml0cyA+PSAwKTsKICAgIHZhciByID0gYml0cyAlIDI2OwogICAgdmFyIHMgPSAoYml0cyAtIHIpIC8gMjY7CiAgICB2YXIgY2FycnlNYXNrID0gKDB4M2ZmZmZmZiA+Pj4gKDI2IC0gcikpIDw8ICgyNiAtIHIpOwogICAgdmFyIGk7CgogICAgaWYgKHIgIT09IDApIHsKICAgICAgdmFyIGNhcnJ5ID0gMDsKCiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIG5ld0NhcnJ5ID0gdGhpcy53b3Jkc1tpXSAmIGNhcnJ5TWFzazsKICAgICAgICB2YXIgYyA9ICgodGhpcy53b3Jkc1tpXSB8IDApIC0gbmV3Q2FycnkpIDw8IHI7CiAgICAgICAgdGhpcy53b3Jkc1tpXSA9IGMgfCBjYXJyeTsKICAgICAgICBjYXJyeSA9IG5ld0NhcnJ5ID4+PiAoMjYgLSByKTsKICAgICAgfQoKICAgICAgaWYgKGNhcnJ5KSB7CiAgICAgICAgdGhpcy53b3Jkc1tpXSA9IGNhcnJ5OwogICAgICAgIHRoaXMubGVuZ3RoKys7CiAgICAgIH0KICAgIH0KCiAgICBpZiAocyAhPT0gMCkgewogICAgICBmb3IgKGkgPSB0aGlzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgdGhpcy53b3Jkc1tpICsgc10gPSB0aGlzLndvcmRzW2ldOwogICAgICB9CgogICAgICBmb3IgKGkgPSAwOyBpIDwgczsgaSsrKSB7CiAgICAgICAgdGhpcy53b3Jkc1tpXSA9IDA7CiAgICAgIH0KCiAgICAgIHRoaXMubGVuZ3RoICs9IHM7CiAgICB9CgogICAgcmV0dXJuIHRoaXMuc3RyaXAoKTsKICB9OwoKICBCTi5wcm90b3R5cGUuaXNobG4gPSBmdW5jdGlvbiBpc2hsbiAoYml0cykgewogICAgLy8gVE9ETyhpbmR1dG55KTogaW1wbGVtZW50IG1lCiAgICBhc3NlcnQodGhpcy5uZWdhdGl2ZSA9PT0gMCk7CiAgICByZXR1cm4gdGhpcy5pdXNobG4oYml0cyk7CiAgfTsKCiAgLy8gU2hpZnQtcmlnaHQgaW4tcGxhY2UKICAvLyBOT1RFOiBgaGludGAgaXMgYSBsb3dlc3QgYml0IGJlZm9yZSB0cmFpbGluZyB6ZXJvZXMKICAvLyBOT1RFOiBpZiBgZXh0ZW5kZWRgIGlzIHByZXNlbnQgLSBpdCB3aWxsIGJlIGZpbGxlZCB3aXRoIGRlc3Ryb3llZCBiaXRzCiAgQk4ucHJvdG90eXBlLml1c2hybiA9IGZ1bmN0aW9uIGl1c2hybiAoYml0cywgaGludCwgZXh0ZW5kZWQpIHsKICAgIGFzc2VydCh0eXBlb2YgYml0cyA9PT0gJ251bWJlcicgJiYgYml0cyA+PSAwKTsKICAgIHZhciBoOwogICAgaWYgKGhpbnQpIHsKICAgICAgaCA9IChoaW50IC0gKGhpbnQgJSAyNikpIC8gMjY7CiAgICB9IGVsc2UgewogICAgICBoID0gMDsKICAgIH0KCiAgICB2YXIgciA9IGJpdHMgJSAyNjsKICAgIHZhciBzID0gTWF0aC5taW4oKGJpdHMgLSByKSAvIDI2LCB0aGlzLmxlbmd0aCk7CiAgICB2YXIgbWFzayA9IDB4M2ZmZmZmZiBeICgoMHgzZmZmZmZmID4+PiByKSA8PCByKTsKICAgIHZhciBtYXNrZWRXb3JkcyA9IGV4dGVuZGVkOwoKICAgIGggLT0gczsKICAgIGggPSBNYXRoLm1heCgwLCBoKTsKCiAgICAvLyBFeHRlbmRlZCBtb2RlLCBjb3B5IG1hc2tlZCBwYXJ0CiAgICBpZiAobWFza2VkV29yZHMpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzOyBpKyspIHsKICAgICAgICBtYXNrZWRXb3Jkcy53b3Jkc1tpXSA9IHRoaXMud29yZHNbaV07CiAgICAgIH0KICAgICAgbWFza2VkV29yZHMubGVuZ3RoID0gczsKICAgIH0KCiAgICBpZiAocyA9PT0gMCkgewogICAgICAvLyBOby1vcCwgd2Ugc2hvdWxkIG5vdCBtb3ZlIGFueXRoaW5nIGF0IGFsbAogICAgfSBlbHNlIGlmICh0aGlzLmxlbmd0aCA+IHMpIHsKICAgICAgdGhpcy5sZW5ndGggLT0gczsKICAgICAgZm9yIChpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLndvcmRzW2ldID0gdGhpcy53b3Jkc1tpICsgc107CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHRoaXMud29yZHNbMF0gPSAwOwogICAgICB0aGlzLmxlbmd0aCA9IDE7CiAgICB9CgogICAgdmFyIGNhcnJ5ID0gMDsKICAgIGZvciAoaSA9IHRoaXMubGVuZ3RoIC0gMTsgaSA+PSAwICYmIChjYXJyeSAhPT0gMCB8fCBpID49IGgpOyBpLS0pIHsKICAgICAgdmFyIHdvcmQgPSB0aGlzLndvcmRzW2ldIHwgMDsKICAgICAgdGhpcy53b3Jkc1tpXSA9IChjYXJyeSA8PCAoMjYgLSByKSkgfCAod29yZCA+Pj4gcik7CiAgICAgIGNhcnJ5ID0gd29yZCAmIG1hc2s7CiAgICB9CgogICAgLy8gUHVzaCBjYXJyaWVkIGJpdHMgYXMgYSBtYXNrCiAgICBpZiAobWFza2VkV29yZHMgJiYgY2FycnkgIT09IDApIHsKICAgICAgbWFza2VkV29yZHMud29yZHNbbWFza2VkV29yZHMubGVuZ3RoKytdID0gY2Fycnk7CiAgICB9CgogICAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSB7CiAgICAgIHRoaXMud29yZHNbMF0gPSAwOwogICAgICB0aGlzLmxlbmd0aCA9IDE7CiAgICB9CgogICAgcmV0dXJuIHRoaXMuc3RyaXAoKTsKICB9OwoKICBCTi5wcm90b3R5cGUuaXNocm4gPSBmdW5jdGlvbiBpc2hybiAoYml0cywgaGludCwgZXh0ZW5kZWQpIHsKICAgIC8vIFRPRE8oaW5kdXRueSk6IGltcGxlbWVudCBtZQogICAgYXNzZXJ0KHRoaXMubmVnYXRpdmUgPT09IDApOwogICAgcmV0dXJuIHRoaXMuaXVzaHJuKGJpdHMsIGhpbnQsIGV4dGVuZGVkKTsKICB9OwoKICAvLyBTaGlmdC1sZWZ0CiAgQk4ucHJvdG90eXBlLnNobG4gPSBmdW5jdGlvbiBzaGxuIChiaXRzKSB7CiAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmlzaGxuKGJpdHMpOwogIH07CgogIEJOLnByb3RvdHlwZS51c2hsbiA9IGZ1bmN0aW9uIHVzaGxuIChiaXRzKSB7CiAgICByZXR1cm4gdGhpcy5jbG9uZSgpLml1c2hsbihiaXRzKTsKICB9OwoKICAvLyBTaGlmdC1yaWdodAogIEJOLnByb3RvdHlwZS5zaHJuID0gZnVuY3Rpb24gc2hybiAoYml0cykgewogICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pc2hybihiaXRzKTsKICB9OwoKICBCTi5wcm90b3R5cGUudXNocm4gPSBmdW5jdGlvbiB1c2hybiAoYml0cykgewogICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pdXNocm4oYml0cyk7CiAgfTsKCiAgLy8gVGVzdCBpZiBuIGJpdCBpcyBzZXQKICBCTi5wcm90b3R5cGUudGVzdG4gPSBmdW5jdGlvbiB0ZXN0biAoYml0KSB7CiAgICBhc3NlcnQodHlwZW9mIGJpdCA9PT0gJ251bWJlcicgJiYgYml0ID49IDApOwogICAgdmFyIHIgPSBiaXQgJSAyNjsKICAgIHZhciBzID0gKGJpdCAtIHIpIC8gMjY7CiAgICB2YXIgcSA9IDEgPDwgcjsKCiAgICAvLyBGYXN0IGNhc2U6IGJpdCBpcyBtdWNoIGhpZ2hlciB0aGFuIGFsbCBleGlzdGluZyB3b3JkcwogICAgaWYgKHRoaXMubGVuZ3RoIDw9IHMpIHJldHVybiBmYWxzZTsKCiAgICAvLyBDaGVjayBiaXQgYW5kIHJldHVybgogICAgdmFyIHcgPSB0aGlzLndvcmRzW3NdOwoKICAgIHJldHVybiAhISh3ICYgcSk7CiAgfTsKCiAgLy8gUmV0dXJuIG9ubHkgbG93ZXJzIGJpdHMgb2YgbnVtYmVyIChpbi1wbGFjZSkKICBCTi5wcm90b3R5cGUuaW1hc2tuID0gZnVuY3Rpb24gaW1hc2tuIChiaXRzKSB7CiAgICBhc3NlcnQodHlwZW9mIGJpdHMgPT09ICdudW1iZXInICYmIGJpdHMgPj0gMCk7CiAgICB2YXIgciA9IGJpdHMgJSAyNjsKICAgIHZhciBzID0gKGJpdHMgLSByKSAvIDI2OwoKICAgIGFzc2VydCh0aGlzLm5lZ2F0aXZlID09PSAwLCAnaW1hc2tuIHdvcmtzIG9ubHkgd2l0aCBwb3NpdGl2ZSBudW1iZXJzJyk7CgogICAgaWYgKHIgIT09IDApIHsKICAgICAgcysrOwogICAgfQogICAgdGhpcy5sZW5ndGggPSBNYXRoLm1pbihzLCB0aGlzLmxlbmd0aCk7CgogICAgaWYgKHIgIT09IDApIHsKICAgICAgdmFyIG1hc2sgPSAweDNmZmZmZmYgXiAoKDB4M2ZmZmZmZiA+Pj4gcikgPDwgcik7CiAgICAgIHRoaXMud29yZHNbdGhpcy5sZW5ndGggLSAxXSAmPSBtYXNrOwogICAgfQoKICAgIHJldHVybiB0aGlzLnN0cmlwKCk7CiAgfTsKCiAgLy8gUmV0dXJuIG9ubHkgbG93ZXJzIGJpdHMgb2YgbnVtYmVyCiAgQk4ucHJvdG90eXBlLm1hc2tuID0gZnVuY3Rpb24gbWFza24gKGJpdHMpIHsKICAgIHJldHVybiB0aGlzLmNsb25lKCkuaW1hc2tuKGJpdHMpOwogIH07CgogIC8vIEFkZCBwbGFpbiBudW1iZXIgYG51bWAgdG8gYHRoaXNgCiAgQk4ucHJvdG90eXBlLmlhZGRuID0gZnVuY3Rpb24gaWFkZG4gKG51bSkgewogICAgYXNzZXJ0KHR5cGVvZiBudW0gPT09ICdudW1iZXInKTsKICAgIGFzc2VydChudW0gPCAweDQwMDAwMDApOwogICAgaWYgKG51bSA8IDApIHJldHVybiB0aGlzLmlzdWJuKC1udW0pOwoKICAgIC8vIFBvc3NpYmxlIHNpZ24gY2hhbmdlCiAgICBpZiAodGhpcy5uZWdhdGl2ZSAhPT0gMCkgewogICAgICBpZiAodGhpcy5sZW5ndGggPT09IDEgJiYgKHRoaXMud29yZHNbMF0gfCAwKSA8IG51bSkgewogICAgICAgIHRoaXMud29yZHNbMF0gPSBudW0gLSAodGhpcy53b3Jkc1swXSB8IDApOwogICAgICAgIHRoaXMubmVnYXRpdmUgPSAwOwogICAgICAgIHJldHVybiB0aGlzOwogICAgICB9CgogICAgICB0aGlzLm5lZ2F0aXZlID0gMDsKICAgICAgdGhpcy5pc3VibihudW0pOwogICAgICB0aGlzLm5lZ2F0aXZlID0gMTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgLy8gQWRkIHdpdGhvdXQgY2hlY2tzCiAgICByZXR1cm4gdGhpcy5faWFkZG4obnVtKTsKICB9OwoKICBCTi5wcm90b3R5cGUuX2lhZGRuID0gZnVuY3Rpb24gX2lhZGRuIChudW0pIHsKICAgIHRoaXMud29yZHNbMF0gKz0gbnVtOwoKICAgIC8vIENhcnJ5CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoICYmIHRoaXMud29yZHNbaV0gPj0gMHg0MDAwMDAwOyBpKyspIHsKICAgICAgdGhpcy53b3Jkc1tpXSAtPSAweDQwMDAwMDA7CiAgICAgIGlmIChpID09PSB0aGlzLmxlbmd0aCAtIDEpIHsKICAgICAgICB0aGlzLndvcmRzW2kgKyAxXSA9IDE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy53b3Jkc1tpICsgMV0rKzsKICAgICAgfQogICAgfQogICAgdGhpcy5sZW5ndGggPSBNYXRoLm1heCh0aGlzLmxlbmd0aCwgaSArIDEpOwoKICAgIHJldHVybiB0aGlzOwogIH07CgogIC8vIFN1YnRyYWN0IHBsYWluIG51bWJlciBgbnVtYCBmcm9tIGB0aGlzYAogIEJOLnByb3RvdHlwZS5pc3VibiA9IGZ1bmN0aW9uIGlzdWJuIChudW0pIHsKICAgIGFzc2VydCh0eXBlb2YgbnVtID09PSAnbnVtYmVyJyk7CiAgICBhc3NlcnQobnVtIDwgMHg0MDAwMDAwKTsKICAgIGlmIChudW0gPCAwKSByZXR1cm4gdGhpcy5pYWRkbigtbnVtKTsKCiAgICBpZiAodGhpcy5uZWdhdGl2ZSAhPT0gMCkgewogICAgICB0aGlzLm5lZ2F0aXZlID0gMDsKICAgICAgdGhpcy5pYWRkbihudW0pOwogICAgICB0aGlzLm5lZ2F0aXZlID0gMTsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgdGhpcy53b3Jkc1swXSAtPSBudW07CgogICAgaWYgKHRoaXMubGVuZ3RoID09PSAxICYmIHRoaXMud29yZHNbMF0gPCAwKSB7CiAgICAgIHRoaXMud29yZHNbMF0gPSAtdGhpcy53b3Jkc1swXTsKICAgICAgdGhpcy5uZWdhdGl2ZSA9IDE7CiAgICB9IGVsc2UgewogICAgICAvLyBDYXJyeQogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoICYmIHRoaXMud29yZHNbaV0gPCAwOyBpKyspIHsKICAgICAgICB0aGlzLndvcmRzW2ldICs9IDB4NDAwMDAwMDsKICAgICAgICB0aGlzLndvcmRzW2kgKyAxXSAtPSAxOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHRoaXMuc3RyaXAoKTsKICB9OwoKICBCTi5wcm90b3R5cGUuYWRkbiA9IGZ1bmN0aW9uIGFkZG4gKG51bSkgewogICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pYWRkbihudW0pOwogIH07CgogIEJOLnByb3RvdHlwZS5zdWJuID0gZnVuY3Rpb24gc3VibiAobnVtKSB7CiAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmlzdWJuKG51bSk7CiAgfTsKCiAgQk4ucHJvdG90eXBlLmlhYnMgPSBmdW5jdGlvbiBpYWJzICgpIHsKICAgIHRoaXMubmVnYXRpdmUgPSAwOwoKICAgIHJldHVybiB0aGlzOwogIH07CgogIEJOLnByb3RvdHlwZS5hYnMgPSBmdW5jdGlvbiBhYnMgKCkgewogICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pYWJzKCk7CiAgfTsKCiAgQk4ucHJvdG90eXBlLl9pc2hsbnN1Ym11bCA9IGZ1bmN0aW9uIF9pc2hsbnN1Ym11bCAobnVtLCBtdWwsIHNoaWZ0KSB7CiAgICB2YXIgbGVuID0gbnVtLmxlbmd0aCArIHNoaWZ0OwogICAgdmFyIGk7CgogICAgdGhpcy5fZXhwYW5kKGxlbik7CgogICAgdmFyIHc7CiAgICB2YXIgY2FycnkgPSAwOwogICAgZm9yIChpID0gMDsgaSA8IG51bS5sZW5ndGg7IGkrKykgewogICAgICB3ID0gKHRoaXMud29yZHNbaSArIHNoaWZ0XSB8IDApICsgY2Fycnk7CiAgICAgIHZhciByaWdodCA9IChudW0ud29yZHNbaV0gfCAwKSAqIG11bDsKICAgICAgdyAtPSByaWdodCAmIDB4M2ZmZmZmZjsKICAgICAgY2FycnkgPSAodyA+PiAyNikgLSAoKHJpZ2h0IC8gMHg0MDAwMDAwKSB8IDApOwogICAgICB0aGlzLndvcmRzW2kgKyBzaGlmdF0gPSB3ICYgMHgzZmZmZmZmOwogICAgfQogICAgZm9yICg7IGkgPCB0aGlzLmxlbmd0aCAtIHNoaWZ0OyBpKyspIHsKICAgICAgdyA9ICh0aGlzLndvcmRzW2kgKyBzaGlmdF0gfCAwKSArIGNhcnJ5OwogICAgICBjYXJyeSA9IHcgPj4gMjY7CiAgICAgIHRoaXMud29yZHNbaSArIHNoaWZ0XSA9IHcgJiAweDNmZmZmZmY7CiAgICB9CgogICAgaWYgKGNhcnJ5ID09PSAwKSByZXR1cm4gdGhpcy5zdHJpcCgpOwoKICAgIC8vIFN1YnRyYWN0aW9uIG92ZXJmbG93CiAgICBhc3NlcnQoY2FycnkgPT09IC0xKTsKICAgIGNhcnJ5ID0gMDsKICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHcgPSAtKHRoaXMud29yZHNbaV0gfCAwKSArIGNhcnJ5OwogICAgICBjYXJyeSA9IHcgPj4gMjY7CiAgICAgIHRoaXMud29yZHNbaV0gPSB3ICYgMHgzZmZmZmZmOwogICAgfQogICAgdGhpcy5uZWdhdGl2ZSA9IDE7CgogICAgcmV0dXJuIHRoaXMuc3RyaXAoKTsKICB9OwoKICBCTi5wcm90b3R5cGUuX3dvcmREaXYgPSBmdW5jdGlvbiBfd29yZERpdiAobnVtLCBtb2RlKSB7CiAgICB2YXIgc2hpZnQgPSB0aGlzLmxlbmd0aCAtIG51bS5sZW5ndGg7CgogICAgdmFyIGEgPSB0aGlzLmNsb25lKCk7CiAgICB2YXIgYiA9IG51bTsKCiAgICAvLyBOb3JtYWxpemUKICAgIHZhciBiaGkgPSBiLndvcmRzW2IubGVuZ3RoIC0gMV0gfCAwOwogICAgdmFyIGJoaUJpdHMgPSB0aGlzLl9jb3VudEJpdHMoYmhpKTsKICAgIHNoaWZ0ID0gMjYgLSBiaGlCaXRzOwogICAgaWYgKHNoaWZ0ICE9PSAwKSB7CiAgICAgIGIgPSBiLnVzaGxuKHNoaWZ0KTsKICAgICAgYS5pdXNobG4oc2hpZnQpOwogICAgICBiaGkgPSBiLndvcmRzW2IubGVuZ3RoIC0gMV0gfCAwOwogICAgfQoKICAgIC8vIEluaXRpYWxpemUgcXVvdGllbnQKICAgIHZhciBtID0gYS5sZW5ndGggLSBiLmxlbmd0aDsKICAgIHZhciBxOwoKICAgIGlmIChtb2RlICE9PSAnbW9kJykgewogICAgICBxID0gbmV3IEJOKG51bGwpOwogICAgICBxLmxlbmd0aCA9IG0gKyAxOwogICAgICBxLndvcmRzID0gbmV3IEFycmF5KHEubGVuZ3RoKTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgcS53b3Jkc1tpXSA9IDA7CiAgICAgIH0KICAgIH0KCiAgICB2YXIgZGlmZiA9IGEuY2xvbmUoKS5faXNobG5zdWJtdWwoYiwgMSwgbSk7CiAgICBpZiAoZGlmZi5uZWdhdGl2ZSA9PT0gMCkgewogICAgICBhID0gZGlmZjsKICAgICAgaWYgKHEpIHsKICAgICAgICBxLndvcmRzW21dID0gMTsKICAgICAgfQogICAgfQoKICAgIGZvciAodmFyIGogPSBtIC0gMTsgaiA+PSAwOyBqLS0pIHsKICAgICAgdmFyIHFqID0gKGEud29yZHNbYi5sZW5ndGggKyBqXSB8IDApICogMHg0MDAwMDAwICsKICAgICAgICAoYS53b3Jkc1tiLmxlbmd0aCArIGogLSAxXSB8IDApOwoKICAgICAgLy8gTk9URTogKHFqIC8gYmhpKSBpcyAoMHgzZmZmZmZmICogMHg0MDAwMDAwICsgMHgzZmZmZmZmKSAvIDB4MjAwMDAwMCBtYXgKICAgICAgLy8gKDB4N2ZmZmZmZikKICAgICAgcWogPSBNYXRoLm1pbigocWogLyBiaGkpIHwgMCwgMHgzZmZmZmZmKTsKCiAgICAgIGEuX2lzaGxuc3VibXVsKGIsIHFqLCBqKTsKICAgICAgd2hpbGUgKGEubmVnYXRpdmUgIT09IDApIHsKICAgICAgICBxai0tOwogICAgICAgIGEubmVnYXRpdmUgPSAwOwogICAgICAgIGEuX2lzaGxuc3VibXVsKGIsIDEsIGopOwogICAgICAgIGlmICghYS5pc1plcm8oKSkgewogICAgICAgICAgYS5uZWdhdGl2ZSBePSAxOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAocSkgewogICAgICAgIHEud29yZHNbal0gPSBxajsKICAgICAgfQogICAgfQogICAgaWYgKHEpIHsKICAgICAgcS5zdHJpcCgpOwogICAgfQogICAgYS5zdHJpcCgpOwoKICAgIC8vIERlbm9ybWFsaXplCiAgICBpZiAobW9kZSAhPT0gJ2RpdicgJiYgc2hpZnQgIT09IDApIHsKICAgICAgYS5pdXNocm4oc2hpZnQpOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIGRpdjogcSB8fCBudWxsLAogICAgICBtb2Q6IGEKICAgIH07CiAgfTsKCiAgLy8gTk9URTogMSkgYG1vZGVgIGNhbiBiZSBzZXQgdG8gYG1vZGAgdG8gcmVxdWVzdCBtb2Qgb25seSwKICAvLyAgICAgICB0byBgZGl2YCB0byByZXF1ZXN0IGRpdiBvbmx5LCBvciBiZSBhYnNlbnQgdG8KICAvLyAgICAgICByZXF1ZXN0IGJvdGggZGl2ICYgbW9kCiAgLy8gICAgICAgMikgYHBvc2l0aXZlYCBpcyB0cnVlIGlmIHVuc2lnbmVkIG1vZCBpcyByZXF1ZXN0ZWQKICBCTi5wcm90b3R5cGUuZGl2bW9kID0gZnVuY3Rpb24gZGl2bW9kIChudW0sIG1vZGUsIHBvc2l0aXZlKSB7CiAgICBhc3NlcnQoIW51bS5pc1plcm8oKSk7CgogICAgaWYgKHRoaXMuaXNaZXJvKCkpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBkaXY6IG5ldyBCTigwKSwKICAgICAgICBtb2Q6IG5ldyBCTigwKQogICAgICB9OwogICAgfQoKICAgIHZhciBkaXYsIG1vZCwgcmVzOwogICAgaWYgKHRoaXMubmVnYXRpdmUgIT09IDAgJiYgbnVtLm5lZ2F0aXZlID09PSAwKSB7CiAgICAgIHJlcyA9IHRoaXMubmVnKCkuZGl2bW9kKG51bSwgbW9kZSk7CgogICAgICBpZiAobW9kZSAhPT0gJ21vZCcpIHsKICAgICAgICBkaXYgPSByZXMuZGl2Lm5lZygpOwogICAgICB9CgogICAgICBpZiAobW9kZSAhPT0gJ2RpdicpIHsKICAgICAgICBtb2QgPSByZXMubW9kLm5lZygpOwogICAgICAgIGlmIChwb3NpdGl2ZSAmJiBtb2QubmVnYXRpdmUgIT09IDApIHsKICAgICAgICAgIG1vZC5pYWRkKG51bSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGRpdjogZGl2LAogICAgICAgIG1vZDogbW9kCiAgICAgIH07CiAgICB9CgogICAgaWYgKHRoaXMubmVnYXRpdmUgPT09IDAgJiYgbnVtLm5lZ2F0aXZlICE9PSAwKSB7CiAgICAgIHJlcyA9IHRoaXMuZGl2bW9kKG51bS5uZWcoKSwgbW9kZSk7CgogICAgICBpZiAobW9kZSAhPT0gJ21vZCcpIHsKICAgICAgICBkaXYgPSByZXMuZGl2Lm5lZygpOwogICAgICB9CgogICAgICByZXR1cm4gewogICAgICAgIGRpdjogZGl2LAogICAgICAgIG1vZDogcmVzLm1vZAogICAgICB9OwogICAgfQoKICAgIGlmICgodGhpcy5uZWdhdGl2ZSAmIG51bS5uZWdhdGl2ZSkgIT09IDApIHsKICAgICAgcmVzID0gdGhpcy5uZWcoKS5kaXZtb2QobnVtLm5lZygpLCBtb2RlKTsKCiAgICAgIGlmIChtb2RlICE9PSAnZGl2JykgewogICAgICAgIG1vZCA9IHJlcy5tb2QubmVnKCk7CiAgICAgICAgaWYgKHBvc2l0aXZlICYmIG1vZC5uZWdhdGl2ZSAhPT0gMCkgewogICAgICAgICAgbW9kLmlzdWIobnVtKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgZGl2OiByZXMuZGl2LAogICAgICAgIG1vZDogbW9kCiAgICAgIH07CiAgICB9CgogICAgLy8gQm90aCBudW1iZXJzIGFyZSBwb3NpdGl2ZSBhdCB0aGlzIHBvaW50CgogICAgLy8gU3RyaXAgYm90aCBudW1iZXJzIHRvIGFwcHJveGltYXRlIHNoaWZ0IHZhbHVlCiAgICBpZiAobnVtLmxlbmd0aCA+IHRoaXMubGVuZ3RoIHx8IHRoaXMuY21wKG51bSkgPCAwKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZGl2OiBuZXcgQk4oMCksCiAgICAgICAgbW9kOiB0aGlzCiAgICAgIH07CiAgICB9CgogICAgLy8gVmVyeSBzaG9ydCByZWR1Y3Rpb24KICAgIGlmIChudW0ubGVuZ3RoID09PSAxKSB7CiAgICAgIGlmIChtb2RlID09PSAnZGl2JykgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBkaXY6IHRoaXMuZGl2bihudW0ud29yZHNbMF0pLAogICAgICAgICAgbW9kOiBudWxsCiAgICAgICAgfTsKICAgICAgfQoKICAgICAgaWYgKG1vZGUgPT09ICdtb2QnKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGRpdjogbnVsbCwKICAgICAgICAgIG1vZDogbmV3IEJOKHRoaXMubW9kbihudW0ud29yZHNbMF0pKQogICAgICAgIH07CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgZGl2OiB0aGlzLmRpdm4obnVtLndvcmRzWzBdKSwKICAgICAgICBtb2Q6IG5ldyBCTih0aGlzLm1vZG4obnVtLndvcmRzWzBdKSkKICAgICAgfTsKICAgIH0KCiAgICByZXR1cm4gdGhpcy5fd29yZERpdihudW0sIG1vZGUpOwogIH07CgogIC8vIEZpbmQgYHRoaXNgIC8gYG51bWAKICBCTi5wcm90b3R5cGUuZGl2ID0gZnVuY3Rpb24gZGl2IChudW0pIHsKICAgIHJldHVybiB0aGlzLmRpdm1vZChudW0sICdkaXYnLCBmYWxzZSkuZGl2OwogIH07CgogIC8vIEZpbmQgYHRoaXNgICUgYG51bWAKICBCTi5wcm90b3R5cGUubW9kID0gZnVuY3Rpb24gbW9kIChudW0pIHsKICAgIHJldHVybiB0aGlzLmRpdm1vZChudW0sICdtb2QnLCBmYWxzZSkubW9kOwogIH07CgogIEJOLnByb3RvdHlwZS51bW9kID0gZnVuY3Rpb24gdW1vZCAobnVtKSB7CiAgICByZXR1cm4gdGhpcy5kaXZtb2QobnVtLCAnbW9kJywgdHJ1ZSkubW9kOwogIH07CgogIC8vIEZpbmQgUm91bmQoYHRoaXNgIC8gYG51bWApCiAgQk4ucHJvdG90eXBlLmRpdlJvdW5kID0gZnVuY3Rpb24gZGl2Um91bmQgKG51bSkgewogICAgdmFyIGRtID0gdGhpcy5kaXZtb2QobnVtKTsKCiAgICAvLyBGYXN0IGNhc2UgLSBleGFjdCBkaXZpc2lvbgogICAgaWYgKGRtLm1vZC5pc1plcm8oKSkgcmV0dXJuIGRtLmRpdjsKCiAgICB2YXIgbW9kID0gZG0uZGl2Lm5lZ2F0aXZlICE9PSAwID8gZG0ubW9kLmlzdWIobnVtKSA6IGRtLm1vZDsKCiAgICB2YXIgaGFsZiA9IG51bS51c2hybigxKTsKICAgIHZhciByMiA9IG51bS5hbmRsbigxKTsKICAgIHZhciBjbXAgPSBtb2QuY21wKGhhbGYpOwoKICAgIC8vIFJvdW5kIGRvd24KICAgIGlmIChjbXAgPCAwIHx8IHIyID09PSAxICYmIGNtcCA9PT0gMCkgcmV0dXJuIGRtLmRpdjsKCiAgICAvLyBSb3VuZCB1cAogICAgcmV0dXJuIGRtLmRpdi5uZWdhdGl2ZSAhPT0gMCA/IGRtLmRpdi5pc3VibigxKSA6IGRtLmRpdi5pYWRkbigxKTsKICB9OwoKICBCTi5wcm90b3R5cGUubW9kbiA9IGZ1bmN0aW9uIG1vZG4gKG51bSkgewogICAgYXNzZXJ0KG51bSA8PSAweDNmZmZmZmYpOwogICAgdmFyIHAgPSAoMSA8PCAyNikgJSBudW07CgogICAgdmFyIGFjYyA9IDA7CiAgICBmb3IgKHZhciBpID0gdGhpcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICBhY2MgPSAocCAqIGFjYyArICh0aGlzLndvcmRzW2ldIHwgMCkpICUgbnVtOwogICAgfQoKICAgIHJldHVybiBhY2M7CiAgfTsKCiAgLy8gSW4tcGxhY2UgZGl2aXNpb24gYnkgbnVtYmVyCiAgQk4ucHJvdG90eXBlLmlkaXZuID0gZnVuY3Rpb24gaWRpdm4gKG51bSkgewogICAgYXNzZXJ0KG51bSA8PSAweDNmZmZmZmYpOwoKICAgIHZhciBjYXJyeSA9IDA7CiAgICBmb3IgKHZhciBpID0gdGhpcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICB2YXIgdyA9ICh0aGlzLndvcmRzW2ldIHwgMCkgKyBjYXJyeSAqIDB4NDAwMDAwMDsKICAgICAgdGhpcy53b3Jkc1tpXSA9ICh3IC8gbnVtKSB8IDA7CiAgICAgIGNhcnJ5ID0gdyAlIG51bTsKICAgIH0KCiAgICByZXR1cm4gdGhpcy5zdHJpcCgpOwogIH07CgogIEJOLnByb3RvdHlwZS5kaXZuID0gZnVuY3Rpb24gZGl2biAobnVtKSB7CiAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmlkaXZuKG51bSk7CiAgfTsKCiAgQk4ucHJvdG90eXBlLmVnY2QgPSBmdW5jdGlvbiBlZ2NkIChwKSB7CiAgICBhc3NlcnQocC5uZWdhdGl2ZSA9PT0gMCk7CiAgICBhc3NlcnQoIXAuaXNaZXJvKCkpOwoKICAgIHZhciB4ID0gdGhpczsKICAgIHZhciB5ID0gcC5jbG9uZSgpOwoKICAgIGlmICh4Lm5lZ2F0aXZlICE9PSAwKSB7CiAgICAgIHggPSB4LnVtb2QocCk7CiAgICB9IGVsc2UgewogICAgICB4ID0geC5jbG9uZSgpOwogICAgfQoKICAgIC8vIEEgKiB4ICsgQiAqIHkgPSB4CiAgICB2YXIgQSA9IG5ldyBCTigxKTsKICAgIHZhciBCID0gbmV3IEJOKDApOwoKICAgIC8vIEMgKiB4ICsgRCAqIHkgPSB5CiAgICB2YXIgQyA9IG5ldyBCTigwKTsKICAgIHZhciBEID0gbmV3IEJOKDEpOwoKICAgIHZhciBnID0gMDsKCiAgICB3aGlsZSAoeC5pc0V2ZW4oKSAmJiB5LmlzRXZlbigpKSB7CiAgICAgIHguaXVzaHJuKDEpOwogICAgICB5Lml1c2hybigxKTsKICAgICAgKytnOwogICAgfQoKICAgIHZhciB5cCA9IHkuY2xvbmUoKTsKICAgIHZhciB4cCA9IHguY2xvbmUoKTsKCiAgICB3aGlsZSAoIXguaXNaZXJvKCkpIHsKICAgICAgZm9yICh2YXIgaSA9IDAsIGltID0gMTsgKHgud29yZHNbMF0gJiBpbSkgPT09IDAgJiYgaSA8IDI2OyArK2ksIGltIDw8PSAxKTsKICAgICAgaWYgKGkgPiAwKSB7CiAgICAgICAgeC5pdXNocm4oaSk7CiAgICAgICAgd2hpbGUgKGktLSA+IDApIHsKICAgICAgICAgIGlmIChBLmlzT2RkKCkgfHwgQi5pc09kZCgpKSB7CiAgICAgICAgICAgIEEuaWFkZCh5cCk7CiAgICAgICAgICAgIEIuaXN1Yih4cCk7CiAgICAgICAgICB9CgogICAgICAgICAgQS5pdXNocm4oMSk7CiAgICAgICAgICBCLml1c2hybigxKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGZvciAodmFyIGogPSAwLCBqbSA9IDE7ICh5LndvcmRzWzBdICYgam0pID09PSAwICYmIGogPCAyNjsgKytqLCBqbSA8PD0gMSk7CiAgICAgIGlmIChqID4gMCkgewogICAgICAgIHkuaXVzaHJuKGopOwogICAgICAgIHdoaWxlIChqLS0gPiAwKSB7CiAgICAgICAgICBpZiAoQy5pc09kZCgpIHx8IEQuaXNPZGQoKSkgewogICAgICAgICAgICBDLmlhZGQoeXApOwogICAgICAgICAgICBELmlzdWIoeHApOwogICAgICAgICAgfQoKICAgICAgICAgIEMuaXVzaHJuKDEpOwogICAgICAgICAgRC5pdXNocm4oMSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoeC5jbXAoeSkgPj0gMCkgewogICAgICAgIHguaXN1Yih5KTsKICAgICAgICBBLmlzdWIoQyk7CiAgICAgICAgQi5pc3ViKEQpOwogICAgICB9IGVsc2UgewogICAgICAgIHkuaXN1Yih4KTsKICAgICAgICBDLmlzdWIoQSk7CiAgICAgICAgRC5pc3ViKEIpOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgYTogQywKICAgICAgYjogRCwKICAgICAgZ2NkOiB5Lml1c2hsbihnKQogICAgfTsKICB9OwoKICAvLyBUaGlzIGlzIHJlZHVjZWQgaW5jYXJuYXRpb24gb2YgdGhlIGJpbmFyeSBFRUEKICAvLyBhYm92ZSwgZGVzaWduYXRlZCB0byBpbnZlcnQgbWVtYmVycyBvZiB0aGUKICAvLyBfcHJpbWVfIGZpZWxkcyBGKHApIGF0IGEgbWF4aW1hbCBzcGVlZAogIEJOLnByb3RvdHlwZS5faW52bXAgPSBmdW5jdGlvbiBfaW52bXAgKHApIHsKICAgIGFzc2VydChwLm5lZ2F0aXZlID09PSAwKTsKICAgIGFzc2VydCghcC5pc1plcm8oKSk7CgogICAgdmFyIGEgPSB0aGlzOwogICAgdmFyIGIgPSBwLmNsb25lKCk7CgogICAgaWYgKGEubmVnYXRpdmUgIT09IDApIHsKICAgICAgYSA9IGEudW1vZChwKTsKICAgIH0gZWxzZSB7CiAgICAgIGEgPSBhLmNsb25lKCk7CiAgICB9CgogICAgdmFyIHgxID0gbmV3IEJOKDEpOwogICAgdmFyIHgyID0gbmV3IEJOKDApOwoKICAgIHZhciBkZWx0YSA9IGIuY2xvbmUoKTsKCiAgICB3aGlsZSAoYS5jbXBuKDEpID4gMCAmJiBiLmNtcG4oMSkgPiAwKSB7CiAgICAgIGZvciAodmFyIGkgPSAwLCBpbSA9IDE7IChhLndvcmRzWzBdICYgaW0pID09PSAwICYmIGkgPCAyNjsgKytpLCBpbSA8PD0gMSk7CiAgICAgIGlmIChpID4gMCkgewogICAgICAgIGEuaXVzaHJuKGkpOwogICAgICAgIHdoaWxlIChpLS0gPiAwKSB7CiAgICAgICAgICBpZiAoeDEuaXNPZGQoKSkgewogICAgICAgICAgICB4MS5pYWRkKGRlbHRhKTsKICAgICAgICAgIH0KCiAgICAgICAgICB4MS5pdXNocm4oMSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBmb3IgKHZhciBqID0gMCwgam0gPSAxOyAoYi53b3Jkc1swXSAmIGptKSA9PT0gMCAmJiBqIDwgMjY7ICsraiwgam0gPDw9IDEpOwogICAgICBpZiAoaiA+IDApIHsKICAgICAgICBiLml1c2hybihqKTsKICAgICAgICB3aGlsZSAoai0tID4gMCkgewogICAgICAgICAgaWYgKHgyLmlzT2RkKCkpIHsKICAgICAgICAgICAgeDIuaWFkZChkZWx0YSk7CiAgICAgICAgICB9CgogICAgICAgICAgeDIuaXVzaHJuKDEpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGEuY21wKGIpID49IDApIHsKICAgICAgICBhLmlzdWIoYik7CiAgICAgICAgeDEuaXN1Yih4Mik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYi5pc3ViKGEpOwogICAgICAgIHgyLmlzdWIoeDEpOwogICAgICB9CiAgICB9CgogICAgdmFyIHJlczsKICAgIGlmIChhLmNtcG4oMSkgPT09IDApIHsKICAgICAgcmVzID0geDE7CiAgICB9IGVsc2UgewogICAgICByZXMgPSB4MjsKICAgIH0KCiAgICBpZiAocmVzLmNtcG4oMCkgPCAwKSB7CiAgICAgIHJlcy5pYWRkKHApOwogICAgfQoKICAgIHJldHVybiByZXM7CiAgfTsKCiAgQk4ucHJvdG90eXBlLmdjZCA9IGZ1bmN0aW9uIGdjZCAobnVtKSB7CiAgICBpZiAodGhpcy5pc1plcm8oKSkgcmV0dXJuIG51bS5hYnMoKTsKICAgIGlmIChudW0uaXNaZXJvKCkpIHJldHVybiB0aGlzLmFicygpOwoKICAgIHZhciBhID0gdGhpcy5jbG9uZSgpOwogICAgdmFyIGIgPSBudW0uY2xvbmUoKTsKICAgIGEubmVnYXRpdmUgPSAwOwogICAgYi5uZWdhdGl2ZSA9IDA7CgogICAgLy8gUmVtb3ZlIGNvbW1vbiBmYWN0b3Igb2YgdHdvCiAgICBmb3IgKHZhciBzaGlmdCA9IDA7IGEuaXNFdmVuKCkgJiYgYi5pc0V2ZW4oKTsgc2hpZnQrKykgewogICAgICBhLml1c2hybigxKTsKICAgICAgYi5pdXNocm4oMSk7CiAgICB9CgogICAgZG8gewogICAgICB3aGlsZSAoYS5pc0V2ZW4oKSkgewogICAgICAgIGEuaXVzaHJuKDEpOwogICAgICB9CiAgICAgIHdoaWxlIChiLmlzRXZlbigpKSB7CiAgICAgICAgYi5pdXNocm4oMSk7CiAgICAgIH0KCiAgICAgIHZhciByID0gYS5jbXAoYik7CiAgICAgIGlmIChyIDwgMCkgewogICAgICAgIC8vIFN3YXAgYGFgIGFuZCBgYmAgdG8gbWFrZSBgYWAgYWx3YXlzIGJpZ2dlciB0aGFuIGBiYAogICAgICAgIHZhciB0ID0gYTsKICAgICAgICBhID0gYjsKICAgICAgICBiID0gdDsKICAgICAgfSBlbHNlIGlmIChyID09PSAwIHx8IGIuY21wbigxKSA9PT0gMCkgewogICAgICAgIGJyZWFrOwogICAgICB9CgogICAgICBhLmlzdWIoYik7CiAgICB9IHdoaWxlICh0cnVlKTsKCiAgICByZXR1cm4gYi5pdXNobG4oc2hpZnQpOwogIH07CgogIC8vIEludmVydCBudW1iZXIgaW4gdGhlIGZpZWxkIEYobnVtKQogIEJOLnByb3RvdHlwZS5pbnZtID0gZnVuY3Rpb24gaW52bSAobnVtKSB7CiAgICByZXR1cm4gdGhpcy5lZ2NkKG51bSkuYS51bW9kKG51bSk7CiAgfTsKCiAgQk4ucHJvdG90eXBlLmlzRXZlbiA9IGZ1bmN0aW9uIGlzRXZlbiAoKSB7CiAgICByZXR1cm4gKHRoaXMud29yZHNbMF0gJiAxKSA9PT0gMDsKICB9OwoKICBCTi5wcm90b3R5cGUuaXNPZGQgPSBmdW5jdGlvbiBpc09kZCAoKSB7CiAgICByZXR1cm4gKHRoaXMud29yZHNbMF0gJiAxKSA9PT0gMTsKICB9OwoKICAvLyBBbmQgZmlyc3Qgd29yZCBhbmQgbnVtCiAgQk4ucHJvdG90eXBlLmFuZGxuID0gZnVuY3Rpb24gYW5kbG4gKG51bSkgewogICAgcmV0dXJuIHRoaXMud29yZHNbMF0gJiBudW07CiAgfTsKCiAgLy8gSW5jcmVtZW50IGF0IHRoZSBiaXQgcG9zaXRpb24gaW4tbGluZQogIEJOLnByb3RvdHlwZS5iaW5jbiA9IGZ1bmN0aW9uIGJpbmNuIChiaXQpIHsKICAgIGFzc2VydCh0eXBlb2YgYml0ID09PSAnbnVtYmVyJyk7CiAgICB2YXIgciA9IGJpdCAlIDI2OwogICAgdmFyIHMgPSAoYml0IC0gcikgLyAyNjsKICAgIHZhciBxID0gMSA8PCByOwoKICAgIC8vIEZhc3QgY2FzZTogYml0IGlzIG11Y2ggaGlnaGVyIHRoYW4gYWxsIGV4aXN0aW5nIHdvcmRzCiAgICBpZiAodGhpcy5sZW5ndGggPD0gcykgewogICAgICB0aGlzLl9leHBhbmQocyArIDEpOwogICAgICB0aGlzLndvcmRzW3NdIHw9IHE7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQoKICAgIC8vIEFkZCBiaXQgYW5kIHByb3BhZ2F0ZSwgaWYgbmVlZGVkCiAgICB2YXIgY2FycnkgPSBxOwogICAgZm9yICh2YXIgaSA9IHM7IGNhcnJ5ICE9PSAwICYmIGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHZhciB3ID0gdGhpcy53b3Jkc1tpXSB8IDA7CiAgICAgIHcgKz0gY2Fycnk7CiAgICAgIGNhcnJ5ID0gdyA+Pj4gMjY7CiAgICAgIHcgJj0gMHgzZmZmZmZmOwogICAgICB0aGlzLndvcmRzW2ldID0gdzsKICAgIH0KICAgIGlmIChjYXJyeSAhPT0gMCkgewogICAgICB0aGlzLndvcmRzW2ldID0gY2Fycnk7CiAgICAgIHRoaXMubGVuZ3RoKys7CiAgICB9CiAgICByZXR1cm4gdGhpczsKICB9OwoKICBCTi5wcm90b3R5cGUuaXNaZXJvID0gZnVuY3Rpb24gaXNaZXJvICgpIHsKICAgIHJldHVybiB0aGlzLmxlbmd0aCA9PT0gMSAmJiB0aGlzLndvcmRzWzBdID09PSAwOwogIH07CgogIEJOLnByb3RvdHlwZS5jbXBuID0gZnVuY3Rpb24gY21wbiAobnVtKSB7CiAgICB2YXIgbmVnYXRpdmUgPSBudW0gPCAwOwoKICAgIGlmICh0aGlzLm5lZ2F0aXZlICE9PSAwICYmICFuZWdhdGl2ZSkgcmV0dXJuIC0xOwogICAgaWYgKHRoaXMubmVnYXRpdmUgPT09IDAgJiYgbmVnYXRpdmUpIHJldHVybiAxOwoKICAgIHRoaXMuc3RyaXAoKTsKCiAgICB2YXIgcmVzOwogICAgaWYgKHRoaXMubGVuZ3RoID4gMSkgewogICAgICByZXMgPSAxOwogICAgfSBlbHNlIHsKICAgICAgaWYgKG5lZ2F0aXZlKSB7CiAgICAgICAgbnVtID0gLW51bTsKICAgICAgfQoKICAgICAgYXNzZXJ0KG51bSA8PSAweDNmZmZmZmYsICdOdW1iZXIgaXMgdG9vIGJpZycpOwoKICAgICAgdmFyIHcgPSB0aGlzLndvcmRzWzBdIHwgMDsKICAgICAgcmVzID0gdyA9PT0gbnVtID8gMCA6IHcgPCBudW0gPyAtMSA6IDE7CiAgICB9CiAgICBpZiAodGhpcy5uZWdhdGl2ZSAhPT0gMCkgcmV0dXJuIC1yZXMgfCAwOwogICAgcmV0dXJuIHJlczsKICB9OwoKICAvLyBDb21wYXJlIHR3byBudW1iZXJzIGFuZCByZXR1cm46CiAgLy8gMSAtIGlmIGB0aGlzYCA+IGBudW1gCiAgLy8gMCAtIGlmIGB0aGlzYCA9PSBgbnVtYAogIC8vIC0xIC0gaWYgYHRoaXNgIDwgYG51bWAKICBCTi5wcm90b3R5cGUuY21wID0gZnVuY3Rpb24gY21wIChudW0pIHsKICAgIGlmICh0aGlzLm5lZ2F0aXZlICE9PSAwICYmIG51bS5uZWdhdGl2ZSA9PT0gMCkgcmV0dXJuIC0xOwogICAgaWYgKHRoaXMubmVnYXRpdmUgPT09IDAgJiYgbnVtLm5lZ2F0aXZlICE9PSAwKSByZXR1cm4gMTsKCiAgICB2YXIgcmVzID0gdGhpcy51Y21wKG51bSk7CiAgICBpZiAodGhpcy5uZWdhdGl2ZSAhPT0gMCkgcmV0dXJuIC1yZXMgfCAwOwogICAgcmV0dXJuIHJlczsKICB9OwoKICAvLyBVbnNpZ25lZCBjb21wYXJpc29uCiAgQk4ucHJvdG90eXBlLnVjbXAgPSBmdW5jdGlvbiB1Y21wIChudW0pIHsKICAgIC8vIEF0IHRoaXMgcG9pbnQgYm90aCBudW1iZXJzIGhhdmUgdGhlIHNhbWUgc2lnbgogICAgaWYgKHRoaXMubGVuZ3RoID4gbnVtLmxlbmd0aCkgcmV0dXJuIDE7CiAgICBpZiAodGhpcy5sZW5ndGggPCBudW0ubGVuZ3RoKSByZXR1cm4gLTE7CgogICAgdmFyIHJlcyA9IDA7CiAgICBmb3IgKHZhciBpID0gdGhpcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICB2YXIgYSA9IHRoaXMud29yZHNbaV0gfCAwOwogICAgICB2YXIgYiA9IG51bS53b3Jkc1tpXSB8IDA7CgogICAgICBpZiAoYSA9PT0gYikgY29udGludWU7CiAgICAgIGlmIChhIDwgYikgewogICAgICAgIHJlcyA9IC0xOwogICAgICB9IGVsc2UgaWYgKGEgPiBiKSB7CiAgICAgICAgcmVzID0gMTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIHJldHVybiByZXM7CiAgfTsKCiAgQk4ucHJvdG90eXBlLmd0biA9IGZ1bmN0aW9uIGd0biAobnVtKSB7CiAgICByZXR1cm4gdGhpcy5jbXBuKG51bSkgPT09IDE7CiAgfTsKCiAgQk4ucHJvdG90eXBlLmd0ID0gZnVuY3Rpb24gZ3QgKG51bSkgewogICAgcmV0dXJuIHRoaXMuY21wKG51bSkgPT09IDE7CiAgfTsKCiAgQk4ucHJvdG90eXBlLmd0ZW4gPSBmdW5jdGlvbiBndGVuIChudW0pIHsKICAgIHJldHVybiB0aGlzLmNtcG4obnVtKSA+PSAwOwogIH07CgogIEJOLnByb3RvdHlwZS5ndGUgPSBmdW5jdGlvbiBndGUgKG51bSkgewogICAgcmV0dXJuIHRoaXMuY21wKG51bSkgPj0gMDsKICB9OwoKICBCTi5wcm90b3R5cGUubHRuID0gZnVuY3Rpb24gbHRuIChudW0pIHsKICAgIHJldHVybiB0aGlzLmNtcG4obnVtKSA9PT0gLTE7CiAgfTsKCiAgQk4ucHJvdG90eXBlLmx0ID0gZnVuY3Rpb24gbHQgKG51bSkgewogICAgcmV0dXJuIHRoaXMuY21wKG51bSkgPT09IC0xOwogIH07CgogIEJOLnByb3RvdHlwZS5sdGVuID0gZnVuY3Rpb24gbHRlbiAobnVtKSB7CiAgICByZXR1cm4gdGhpcy5jbXBuKG51bSkgPD0gMDsKICB9OwoKICBCTi5wcm90b3R5cGUubHRlID0gZnVuY3Rpb24gbHRlIChudW0pIHsKICAgIHJldHVybiB0aGlzLmNtcChudW0pIDw9IDA7CiAgfTsKCiAgQk4ucHJvdG90eXBlLmVxbiA9IGZ1bmN0aW9uIGVxbiAobnVtKSB7CiAgICByZXR1cm4gdGhpcy5jbXBuKG51bSkgPT09IDA7CiAgfTsKCiAgQk4ucHJvdG90eXBlLmVxID0gZnVuY3Rpb24gZXEgKG51bSkgewogICAgcmV0dXJuIHRoaXMuY21wKG51bSkgPT09IDA7CiAgfTsKCiAgLy8KICAvLyBBIHJlZHVjZSBjb250ZXh0LCBjb3VsZCBiZSB1c2luZyBtb250Z29tZXJ5IG9yIHNvbWV0aGluZyBiZXR0ZXIsIGRlcGVuZGluZwogIC8vIG9uIHRoZSBgbWAgaXRzZWxmLgogIC8vCiAgQk4ucmVkID0gZnVuY3Rpb24gcmVkIChudW0pIHsKICAgIHJldHVybiBuZXcgUmVkKG51bSk7CiAgfTsKCiAgQk4ucHJvdG90eXBlLnRvUmVkID0gZnVuY3Rpb24gdG9SZWQgKGN0eCkgewogICAgYXNzZXJ0KCF0aGlzLnJlZCwgJ0FscmVhZHkgYSBudW1iZXIgaW4gcmVkdWN0aW9uIGNvbnRleHQnKTsKICAgIGFzc2VydCh0aGlzLm5lZ2F0aXZlID09PSAwLCAncmVkIHdvcmtzIG9ubHkgd2l0aCBwb3NpdGl2ZXMnKTsKICAgIHJldHVybiBjdHguY29udmVydFRvKHRoaXMpLl9mb3JjZVJlZChjdHgpOwogIH07CgogIEJOLnByb3RvdHlwZS5mcm9tUmVkID0gZnVuY3Rpb24gZnJvbVJlZCAoKSB7CiAgICBhc3NlcnQodGhpcy5yZWQsICdmcm9tUmVkIHdvcmtzIG9ubHkgd2l0aCBudW1iZXJzIGluIHJlZHVjdGlvbiBjb250ZXh0Jyk7CiAgICByZXR1cm4gdGhpcy5yZWQuY29udmVydEZyb20odGhpcyk7CiAgfTsKCiAgQk4ucHJvdG90eXBlLl9mb3JjZVJlZCA9IGZ1bmN0aW9uIF9mb3JjZVJlZCAoY3R4KSB7CiAgICB0aGlzLnJlZCA9IGN0eDsKICAgIHJldHVybiB0aGlzOwogIH07CgogIEJOLnByb3RvdHlwZS5mb3JjZVJlZCA9IGZ1bmN0aW9uIGZvcmNlUmVkIChjdHgpIHsKICAgIGFzc2VydCghdGhpcy5yZWQsICdBbHJlYWR5IGEgbnVtYmVyIGluIHJlZHVjdGlvbiBjb250ZXh0Jyk7CiAgICByZXR1cm4gdGhpcy5fZm9yY2VSZWQoY3R4KTsKICB9OwoKICBCTi5wcm90b3R5cGUucmVkQWRkID0gZnVuY3Rpb24gcmVkQWRkIChudW0pIHsKICAgIGFzc2VydCh0aGlzLnJlZCwgJ3JlZEFkZCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMnKTsKICAgIHJldHVybiB0aGlzLnJlZC5hZGQodGhpcywgbnVtKTsKICB9OwoKICBCTi5wcm90b3R5cGUucmVkSUFkZCA9IGZ1bmN0aW9uIHJlZElBZGQgKG51bSkgewogICAgYXNzZXJ0KHRoaXMucmVkLCAncmVkSUFkZCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMnKTsKICAgIHJldHVybiB0aGlzLnJlZC5pYWRkKHRoaXMsIG51bSk7CiAgfTsKCiAgQk4ucHJvdG90eXBlLnJlZFN1YiA9IGZ1bmN0aW9uIHJlZFN1YiAobnVtKSB7CiAgICBhc3NlcnQodGhpcy5yZWQsICdyZWRTdWIgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzJyk7CiAgICByZXR1cm4gdGhpcy5yZWQuc3ViKHRoaXMsIG51bSk7CiAgfTsKCiAgQk4ucHJvdG90eXBlLnJlZElTdWIgPSBmdW5jdGlvbiByZWRJU3ViIChudW0pIHsKICAgIGFzc2VydCh0aGlzLnJlZCwgJ3JlZElTdWIgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzJyk7CiAgICByZXR1cm4gdGhpcy5yZWQuaXN1Yih0aGlzLCBudW0pOwogIH07CgogIEJOLnByb3RvdHlwZS5yZWRTaGwgPSBmdW5jdGlvbiByZWRTaGwgKG51bSkgewogICAgYXNzZXJ0KHRoaXMucmVkLCAncmVkU2hsIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycycpOwogICAgcmV0dXJuIHRoaXMucmVkLnVzaGwodGhpcywgbnVtKTsKICB9OwoKICBCTi5wcm90b3R5cGUucmVkTXVsID0gZnVuY3Rpb24gcmVkTXVsIChudW0pIHsKICAgIGFzc2VydCh0aGlzLnJlZCwgJ3JlZE11bCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMnKTsKICAgIHRoaXMucmVkLl92ZXJpZnkyKHRoaXMsIG51bSk7CiAgICByZXR1cm4gdGhpcy5yZWQubXVsKHRoaXMsIG51bSk7CiAgfTsKCiAgQk4ucHJvdG90eXBlLnJlZElNdWwgPSBmdW5jdGlvbiByZWRJTXVsIChudW0pIHsKICAgIGFzc2VydCh0aGlzLnJlZCwgJ3JlZE11bCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMnKTsKICAgIHRoaXMucmVkLl92ZXJpZnkyKHRoaXMsIG51bSk7CiAgICByZXR1cm4gdGhpcy5yZWQuaW11bCh0aGlzLCBudW0pOwogIH07CgogIEJOLnByb3RvdHlwZS5yZWRTcXIgPSBmdW5jdGlvbiByZWRTcXIgKCkgewogICAgYXNzZXJ0KHRoaXMucmVkLCAncmVkU3FyIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycycpOwogICAgdGhpcy5yZWQuX3ZlcmlmeTEodGhpcyk7CiAgICByZXR1cm4gdGhpcy5yZWQuc3FyKHRoaXMpOwogIH07CgogIEJOLnByb3RvdHlwZS5yZWRJU3FyID0gZnVuY3Rpb24gcmVkSVNxciAoKSB7CiAgICBhc3NlcnQodGhpcy5yZWQsICdyZWRJU3FyIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycycpOwogICAgdGhpcy5yZWQuX3ZlcmlmeTEodGhpcyk7CiAgICByZXR1cm4gdGhpcy5yZWQuaXNxcih0aGlzKTsKICB9OwoKICAvLyBTcXVhcmUgcm9vdCBvdmVyIHAKICBCTi5wcm90b3R5cGUucmVkU3FydCA9IGZ1bmN0aW9uIHJlZFNxcnQgKCkgewogICAgYXNzZXJ0KHRoaXMucmVkLCAncmVkU3FydCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMnKTsKICAgIHRoaXMucmVkLl92ZXJpZnkxKHRoaXMpOwogICAgcmV0dXJuIHRoaXMucmVkLnNxcnQodGhpcyk7CiAgfTsKCiAgQk4ucHJvdG90eXBlLnJlZEludm0gPSBmdW5jdGlvbiByZWRJbnZtICgpIHsKICAgIGFzc2VydCh0aGlzLnJlZCwgJ3JlZEludm0gd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzJyk7CiAgICB0aGlzLnJlZC5fdmVyaWZ5MSh0aGlzKTsKICAgIHJldHVybiB0aGlzLnJlZC5pbnZtKHRoaXMpOwogIH07CgogIC8vIFJldHVybiBuZWdhdGl2ZSBjbG9uZSBvZiBgdGhpc2AgJSBgcmVkIG1vZHVsb2AKICBCTi5wcm90b3R5cGUucmVkTmVnID0gZnVuY3Rpb24gcmVkTmVnICgpIHsKICAgIGFzc2VydCh0aGlzLnJlZCwgJ3JlZE5lZyB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMnKTsKICAgIHRoaXMucmVkLl92ZXJpZnkxKHRoaXMpOwogICAgcmV0dXJuIHRoaXMucmVkLm5lZyh0aGlzKTsKICB9OwoKICBCTi5wcm90b3R5cGUucmVkUG93ID0gZnVuY3Rpb24gcmVkUG93IChudW0pIHsKICAgIGFzc2VydCh0aGlzLnJlZCAmJiAhbnVtLnJlZCwgJ3JlZFBvdyhub3JtYWxOdW0pJyk7CiAgICB0aGlzLnJlZC5fdmVyaWZ5MSh0aGlzKTsKICAgIHJldHVybiB0aGlzLnJlZC5wb3codGhpcywgbnVtKTsKICB9OwoKICAvLyBQcmltZSBudW1iZXJzIHdpdGggZWZmaWNpZW50IHJlZHVjdGlvbgogIHZhciBwcmltZXMgPSB7CiAgICBrMjU2OiBudWxsLAogICAgcDIyNDogbnVsbCwKICAgIHAxOTI6IG51bGwsCiAgICBwMjU1MTk6IG51bGwKICB9OwoKICAvLyBQc2V1ZG8tTWVyc2VubmUgcHJpbWUKICBmdW5jdGlvbiBNUHJpbWUgKG5hbWUsIHApIHsKICAgIC8vIFAgPSAyIF4gTiAtIEsKICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICB0aGlzLnAgPSBuZXcgQk4ocCwgMTYpOwogICAgdGhpcy5uID0gdGhpcy5wLmJpdExlbmd0aCgpOwogICAgdGhpcy5rID0gbmV3IEJOKDEpLml1c2hsbih0aGlzLm4pLmlzdWIodGhpcy5wKTsKCiAgICB0aGlzLnRtcCA9IHRoaXMuX3RtcCgpOwogIH0KCiAgTVByaW1lLnByb3RvdHlwZS5fdG1wID0gZnVuY3Rpb24gX3RtcCAoKSB7CiAgICB2YXIgdG1wID0gbmV3IEJOKG51bGwpOwogICAgdG1wLndvcmRzID0gbmV3IEFycmF5KE1hdGguY2VpbCh0aGlzLm4gLyAxMykpOwogICAgcmV0dXJuIHRtcDsKICB9OwoKICBNUHJpbWUucHJvdG90eXBlLmlyZWR1Y2UgPSBmdW5jdGlvbiBpcmVkdWNlIChudW0pIHsKICAgIC8vIEFzc3VtZXMgdGhhdCBgbnVtYCBpcyBsZXNzIHRoYW4gYFBeMmAKICAgIC8vIG51bSA9IEhJICogKDIgXiBOIC0gSykgKyBISSAqIEsgKyBMTyA9IEhJICogSyArIExPIChtb2QgUCkKICAgIHZhciByID0gbnVtOwogICAgdmFyIHJsZW47CgogICAgZG8gewogICAgICB0aGlzLnNwbGl0KHIsIHRoaXMudG1wKTsKICAgICAgciA9IHRoaXMuaW11bEsocik7CiAgICAgIHIgPSByLmlhZGQodGhpcy50bXApOwogICAgICBybGVuID0gci5iaXRMZW5ndGgoKTsKICAgIH0gd2hpbGUgKHJsZW4gPiB0aGlzLm4pOwoKICAgIHZhciBjbXAgPSBybGVuIDwgdGhpcy5uID8gLTEgOiByLnVjbXAodGhpcy5wKTsKICAgIGlmIChjbXAgPT09IDApIHsKICAgICAgci53b3Jkc1swXSA9IDA7CiAgICAgIHIubGVuZ3RoID0gMTsKICAgIH0gZWxzZSBpZiAoY21wID4gMCkgewogICAgICByLmlzdWIodGhpcy5wKTsKICAgIH0gZWxzZSB7CiAgICAgIHIuc3RyaXAoKTsKICAgIH0KCiAgICByZXR1cm4gcjsKICB9OwoKICBNUHJpbWUucHJvdG90eXBlLnNwbGl0ID0gZnVuY3Rpb24gc3BsaXQgKGlucHV0LCBvdXQpIHsKICAgIGlucHV0Lml1c2hybih0aGlzLm4sIDAsIG91dCk7CiAgfTsKCiAgTVByaW1lLnByb3RvdHlwZS5pbXVsSyA9IGZ1bmN0aW9uIGltdWxLIChudW0pIHsKICAgIHJldHVybiBudW0uaW11bCh0aGlzLmspOwogIH07CgogIGZ1bmN0aW9uIEsyNTYgKCkgewogICAgTVByaW1lLmNhbGwoCiAgICAgIHRoaXMsCiAgICAgICdrMjU2JywKICAgICAgJ2ZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZlIGZmZmZmYzJmJyk7CiAgfQogIGluaGVyaXRzKEsyNTYsIE1QcmltZSk7CgogIEsyNTYucHJvdG90eXBlLnNwbGl0ID0gZnVuY3Rpb24gc3BsaXQgKGlucHV0LCBvdXRwdXQpIHsKICAgIC8vIDI1NiA9IDkgKiAyNiArIDIyCiAgICB2YXIgbWFzayA9IDB4M2ZmZmZmOwoKICAgIHZhciBvdXRMZW4gPSBNYXRoLm1pbihpbnB1dC5sZW5ndGgsIDkpOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvdXRMZW47IGkrKykgewogICAgICBvdXRwdXQud29yZHNbaV0gPSBpbnB1dC53b3Jkc1tpXTsKICAgIH0KICAgIG91dHB1dC5sZW5ndGggPSBvdXRMZW47CgogICAgaWYgKGlucHV0Lmxlbmd0aCA8PSA5KSB7CiAgICAgIGlucHV0LndvcmRzWzBdID0gMDsKICAgICAgaW5wdXQubGVuZ3RoID0gMTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIC8vIFNoaWZ0IGJ5IDkgbGltYnMKICAgIHZhciBwcmV2ID0gaW5wdXQud29yZHNbOV07CiAgICBvdXRwdXQud29yZHNbb3V0cHV0Lmxlbmd0aCsrXSA9IHByZXYgJiBtYXNrOwoKICAgIGZvciAoaSA9IDEwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIG5leHQgPSBpbnB1dC53b3Jkc1tpXSB8IDA7CiAgICAgIGlucHV0LndvcmRzW2kgLSAxMF0gPSAoKG5leHQgJiBtYXNrKSA8PCA0KSB8IChwcmV2ID4+PiAyMik7CiAgICAgIHByZXYgPSBuZXh0OwogICAgfQogICAgcHJldiA+Pj49IDIyOwogICAgaW5wdXQud29yZHNbaSAtIDEwXSA9IHByZXY7CiAgICBpZiAocHJldiA9PT0gMCAmJiBpbnB1dC5sZW5ndGggPiAxMCkgewogICAgICBpbnB1dC5sZW5ndGggLT0gMTA7CiAgICB9IGVsc2UgewogICAgICBpbnB1dC5sZW5ndGggLT0gOTsKICAgIH0KICB9OwoKICBLMjU2LnByb3RvdHlwZS5pbXVsSyA9IGZ1bmN0aW9uIGltdWxLIChudW0pIHsKICAgIC8vIEsgPSAweDEwMDAwMDNkMSA9IFsgMHg0MCwgMHgzZDEgXQogICAgbnVtLndvcmRzW251bS5sZW5ndGhdID0gMDsKICAgIG51bS53b3Jkc1tudW0ubGVuZ3RoICsgMV0gPSAwOwogICAgbnVtLmxlbmd0aCArPSAyOwoKICAgIC8vIGJvdW5kZWQgYXQ6IDB4NDAgKiAweDNmZmZmZmYgKyAweDNkMCA9IDB4MTAwMDAwMzkwCiAgICB2YXIgbG8gPSAwOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW0ubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIHcgPSBudW0ud29yZHNbaV0gfCAwOwogICAgICBsbyArPSB3ICogMHgzZDE7CiAgICAgIG51bS53b3Jkc1tpXSA9IGxvICYgMHgzZmZmZmZmOwogICAgICBsbyA9IHcgKiAweDQwICsgKChsbyAvIDB4NDAwMDAwMCkgfCAwKTsKICAgIH0KCiAgICAvLyBGYXN0IGxlbmd0aCByZWR1Y3Rpb24KICAgIGlmIChudW0ud29yZHNbbnVtLmxlbmd0aCAtIDFdID09PSAwKSB7CiAgICAgIG51bS5sZW5ndGgtLTsKICAgICAgaWYgKG51bS53b3Jkc1tudW0ubGVuZ3RoIC0gMV0gPT09IDApIHsKICAgICAgICBudW0ubGVuZ3RoLS07CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBudW07CiAgfTsKCiAgZnVuY3Rpb24gUDIyNCAoKSB7CiAgICBNUHJpbWUuY2FsbCgKICAgICAgdGhpcywKICAgICAgJ3AyMjQnLAogICAgICAnZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgMDAwMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDEnKTsKICB9CiAgaW5oZXJpdHMoUDIyNCwgTVByaW1lKTsKCiAgZnVuY3Rpb24gUDE5MiAoKSB7CiAgICBNUHJpbWUuY2FsbCgKICAgICAgdGhpcywKICAgICAgJ3AxOTInLAogICAgICAnZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmUgZmZmZmZmZmYgZmZmZmZmZmYnKTsKICB9CiAgaW5oZXJpdHMoUDE5MiwgTVByaW1lKTsKCiAgZnVuY3Rpb24gUDI1NTE5ICgpIHsKICAgIC8vIDIgXiAyNTUgLSAxOQogICAgTVByaW1lLmNhbGwoCiAgICAgIHRoaXMsCiAgICAgICcyNTUxOScsCiAgICAgICc3ZmZmZmZmZmZmZmZmZmZmIGZmZmZmZmZmZmZmZmZmZmYgZmZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmVkJyk7CiAgfQogIGluaGVyaXRzKFAyNTUxOSwgTVByaW1lKTsKCiAgUDI1NTE5LnByb3RvdHlwZS5pbXVsSyA9IGZ1bmN0aW9uIGltdWxLIChudW0pIHsKICAgIC8vIEsgPSAweDEzCiAgICB2YXIgY2FycnkgPSAwOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW0ubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIGhpID0gKG51bS53b3Jkc1tpXSB8IDApICogMHgxMyArIGNhcnJ5OwogICAgICB2YXIgbG8gPSBoaSAmIDB4M2ZmZmZmZjsKICAgICAgaGkgPj4+PSAyNjsKCiAgICAgIG51bS53b3Jkc1tpXSA9IGxvOwogICAgICBjYXJyeSA9IGhpOwogICAgfQogICAgaWYgKGNhcnJ5ICE9PSAwKSB7CiAgICAgIG51bS53b3Jkc1tudW0ubGVuZ3RoKytdID0gY2Fycnk7CiAgICB9CiAgICByZXR1cm4gbnVtOwogIH07CgogIC8vIEV4cG9ydGVkIG1vc3RseSBmb3IgdGVzdGluZyBwdXJwb3NlcywgdXNlIHBsYWluIG5hbWUgaW5zdGVhZAogIEJOLl9wcmltZSA9IGZ1bmN0aW9uIHByaW1lIChuYW1lKSB7CiAgICAvLyBDYWNoZWQgdmVyc2lvbiBvZiBwcmltZQogICAgaWYgKHByaW1lc1tuYW1lXSkgcmV0dXJuIHByaW1lc1tuYW1lXTsKCiAgICB2YXIgcHJpbWU7CiAgICBpZiAobmFtZSA9PT0gJ2syNTYnKSB7CiAgICAgIHByaW1lID0gbmV3IEsyNTYoKTsKICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ3AyMjQnKSB7CiAgICAgIHByaW1lID0gbmV3IFAyMjQoKTsKICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ3AxOTInKSB7CiAgICAgIHByaW1lID0gbmV3IFAxOTIoKTsKICAgIH0gZWxzZSBpZiAobmFtZSA9PT0gJ3AyNTUxOScpIHsKICAgICAgcHJpbWUgPSBuZXcgUDI1NTE5KCk7CiAgICB9IGVsc2UgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gcHJpbWUgJyArIG5hbWUpOwogICAgfQogICAgcHJpbWVzW25hbWVdID0gcHJpbWU7CgogICAgcmV0dXJuIHByaW1lOwogIH07CgogIC8vCiAgLy8gQmFzZSByZWR1Y3Rpb24gZW5naW5lCiAgLy8KICBmdW5jdGlvbiBSZWQgKG0pIHsKICAgIGlmICh0eXBlb2YgbSA9PT0gJ3N0cmluZycpIHsKICAgICAgdmFyIHByaW1lID0gQk4uX3ByaW1lKG0pOwogICAgICB0aGlzLm0gPSBwcmltZS5wOwogICAgICB0aGlzLnByaW1lID0gcHJpbWU7CiAgICB9IGVsc2UgewogICAgICB0aGlzLm0gPSBtOwogICAgICB0aGlzLnByaW1lID0gbnVsbDsKICAgIH0KICB9CgogIFJlZC5wcm90b3R5cGUuX3ZlcmlmeTEgPSBmdW5jdGlvbiBfdmVyaWZ5MSAoYSkgewogICAgYXNzZXJ0KGEubmVnYXRpdmUgPT09IDAsICdyZWQgd29ya3Mgb25seSB3aXRoIHBvc2l0aXZlcycpOwogICAgYXNzZXJ0KGEucmVkLCAncmVkIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVycycpOwogIH07CgogIFJlZC5wcm90b3R5cGUuX3ZlcmlmeTIgPSBmdW5jdGlvbiBfdmVyaWZ5MiAoYSwgYikgewogICAgYXNzZXJ0KChhLm5lZ2F0aXZlIHwgYi5uZWdhdGl2ZSkgPT09IDAsICdyZWQgd29ya3Mgb25seSB3aXRoIHBvc2l0aXZlcycpOwogICAgYXNzZXJ0KGEucmVkICYmIGEucmVkID09PSBiLnJlZCwKICAgICAgJ3JlZCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnMnKTsKICB9OwoKICBSZWQucHJvdG90eXBlLmltb2QgPSBmdW5jdGlvbiBpbW9kIChhKSB7CiAgICBpZiAodGhpcy5wcmltZSkgcmV0dXJuIHRoaXMucHJpbWUuaXJlZHVjZShhKS5fZm9yY2VSZWQodGhpcyk7CiAgICByZXR1cm4gYS51bW9kKHRoaXMubSkuX2ZvcmNlUmVkKHRoaXMpOwogIH07CgogIFJlZC5wcm90b3R5cGUubmVnID0gZnVuY3Rpb24gbmVnIChhKSB7CiAgICBpZiAoYS5pc1plcm8oKSkgewogICAgICByZXR1cm4gYS5jbG9uZSgpOwogICAgfQoKICAgIHJldHVybiB0aGlzLm0uc3ViKGEpLl9mb3JjZVJlZCh0aGlzKTsKICB9OwoKICBSZWQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZCAoYSwgYikgewogICAgdGhpcy5fdmVyaWZ5MihhLCBiKTsKCiAgICB2YXIgcmVzID0gYS5hZGQoYik7CiAgICBpZiAocmVzLmNtcCh0aGlzLm0pID49IDApIHsKICAgICAgcmVzLmlzdWIodGhpcy5tKTsKICAgIH0KICAgIHJldHVybiByZXMuX2ZvcmNlUmVkKHRoaXMpOwogIH07CgogIFJlZC5wcm90b3R5cGUuaWFkZCA9IGZ1bmN0aW9uIGlhZGQgKGEsIGIpIHsKICAgIHRoaXMuX3ZlcmlmeTIoYSwgYik7CgogICAgdmFyIHJlcyA9IGEuaWFkZChiKTsKICAgIGlmIChyZXMuY21wKHRoaXMubSkgPj0gMCkgewogICAgICByZXMuaXN1Yih0aGlzLm0pOwogICAgfQogICAgcmV0dXJuIHJlczsKICB9OwoKICBSZWQucHJvdG90eXBlLnN1YiA9IGZ1bmN0aW9uIHN1YiAoYSwgYikgewogICAgdGhpcy5fdmVyaWZ5MihhLCBiKTsKCiAgICB2YXIgcmVzID0gYS5zdWIoYik7CiAgICBpZiAocmVzLmNtcG4oMCkgPCAwKSB7CiAgICAgIHJlcy5pYWRkKHRoaXMubSk7CiAgICB9CiAgICByZXR1cm4gcmVzLl9mb3JjZVJlZCh0aGlzKTsKICB9OwoKICBSZWQucHJvdG90eXBlLmlzdWIgPSBmdW5jdGlvbiBpc3ViIChhLCBiKSB7CiAgICB0aGlzLl92ZXJpZnkyKGEsIGIpOwoKICAgIHZhciByZXMgPSBhLmlzdWIoYik7CiAgICBpZiAocmVzLmNtcG4oMCkgPCAwKSB7CiAgICAgIHJlcy5pYWRkKHRoaXMubSk7CiAgICB9CiAgICByZXR1cm4gcmVzOwogIH07CgogIFJlZC5wcm90b3R5cGUuc2hsID0gZnVuY3Rpb24gc2hsIChhLCBudW0pIHsKICAgIHRoaXMuX3ZlcmlmeTEoYSk7CiAgICByZXR1cm4gdGhpcy5pbW9kKGEudXNobG4obnVtKSk7CiAgfTsKCiAgUmVkLnByb3RvdHlwZS5pbXVsID0gZnVuY3Rpb24gaW11bCAoYSwgYikgewogICAgdGhpcy5fdmVyaWZ5MihhLCBiKTsKICAgIHJldHVybiB0aGlzLmltb2QoYS5pbXVsKGIpKTsKICB9OwoKICBSZWQucHJvdG90eXBlLm11bCA9IGZ1bmN0aW9uIG11bCAoYSwgYikgewogICAgdGhpcy5fdmVyaWZ5MihhLCBiKTsKICAgIHJldHVybiB0aGlzLmltb2QoYS5tdWwoYikpOwogIH07CgogIFJlZC5wcm90b3R5cGUuaXNxciA9IGZ1bmN0aW9uIGlzcXIgKGEpIHsKICAgIHJldHVybiB0aGlzLmltdWwoYSwgYS5jbG9uZSgpKTsKICB9OwoKICBSZWQucHJvdG90eXBlLnNxciA9IGZ1bmN0aW9uIHNxciAoYSkgewogICAgcmV0dXJuIHRoaXMubXVsKGEsIGEpOwogIH07CgogIFJlZC5wcm90b3R5cGUuc3FydCA9IGZ1bmN0aW9uIHNxcnQgKGEpIHsKICAgIGlmIChhLmlzWmVybygpKSByZXR1cm4gYS5jbG9uZSgpOwoKICAgIHZhciBtb2QzID0gdGhpcy5tLmFuZGxuKDMpOwogICAgYXNzZXJ0KG1vZDMgJSAyID09PSAxKTsKCiAgICAvLyBGYXN0IGNhc2UKICAgIGlmIChtb2QzID09PSAzKSB7CiAgICAgIHZhciBwb3cgPSB0aGlzLm0uYWRkKG5ldyBCTigxKSkuaXVzaHJuKDIpOwogICAgICByZXR1cm4gdGhpcy5wb3coYSwgcG93KTsKICAgIH0KCiAgICAvLyBUb25lbGxpLVNoYW5rcyBhbGdvcml0aG0gKFRvdGFsbHkgdW5vcHRpbWl6ZWQgYW5kIHNsb3cpCiAgICAvLwogICAgLy8gRmluZCBRIGFuZCBTLCB0aGF0IFEgKiAyIF4gUyA9IChQIC0gMSkKICAgIHZhciBxID0gdGhpcy5tLnN1Ym4oMSk7CiAgICB2YXIgcyA9IDA7CiAgICB3aGlsZSAoIXEuaXNaZXJvKCkgJiYgcS5hbmRsbigxKSA9PT0gMCkgewogICAgICBzKys7CiAgICAgIHEuaXVzaHJuKDEpOwogICAgfQogICAgYXNzZXJ0KCFxLmlzWmVybygpKTsKCiAgICB2YXIgb25lID0gbmV3IEJOKDEpLnRvUmVkKHRoaXMpOwogICAgdmFyIG5PbmUgPSBvbmUucmVkTmVnKCk7CgogICAgLy8gRmluZCBxdWFkcmF0aWMgbm9uLXJlc2lkdWUKICAgIC8vIE5PVEU6IE1heCBpcyBzdWNoIGJlY2F1c2Ugb2YgZ2VuZXJhbGl6ZWQgUmllbWFubiBoeXBvdGhlc2lzLgogICAgdmFyIGxwb3cgPSB0aGlzLm0uc3VibigxKS5pdXNocm4oMSk7CiAgICB2YXIgeiA9IHRoaXMubS5iaXRMZW5ndGgoKTsKICAgIHogPSBuZXcgQk4oMiAqIHogKiB6KS50b1JlZCh0aGlzKTsKCiAgICB3aGlsZSAodGhpcy5wb3coeiwgbHBvdykuY21wKG5PbmUpICE9PSAwKSB7CiAgICAgIHoucmVkSUFkZChuT25lKTsKICAgIH0KCiAgICB2YXIgYyA9IHRoaXMucG93KHosIHEpOwogICAgdmFyIHIgPSB0aGlzLnBvdyhhLCBxLmFkZG4oMSkuaXVzaHJuKDEpKTsKICAgIHZhciB0ID0gdGhpcy5wb3coYSwgcSk7CiAgICB2YXIgbSA9IHM7CiAgICB3aGlsZSAodC5jbXAob25lKSAhPT0gMCkgewogICAgICB2YXIgdG1wID0gdDsKICAgICAgZm9yICh2YXIgaSA9IDA7IHRtcC5jbXAob25lKSAhPT0gMDsgaSsrKSB7CiAgICAgICAgdG1wID0gdG1wLnJlZFNxcigpOwogICAgICB9CiAgICAgIGFzc2VydChpIDwgbSk7CiAgICAgIHZhciBiID0gdGhpcy5wb3coYywgbmV3IEJOKDEpLml1c2hsbihtIC0gaSAtIDEpKTsKCiAgICAgIHIgPSByLnJlZE11bChiKTsKICAgICAgYyA9IGIucmVkU3FyKCk7CiAgICAgIHQgPSB0LnJlZE11bChjKTsKICAgICAgbSA9IGk7CiAgICB9CgogICAgcmV0dXJuIHI7CiAgfTsKCiAgUmVkLnByb3RvdHlwZS5pbnZtID0gZnVuY3Rpb24gaW52bSAoYSkgewogICAgdmFyIGludiA9IGEuX2ludm1wKHRoaXMubSk7CiAgICBpZiAoaW52Lm5lZ2F0aXZlICE9PSAwKSB7CiAgICAgIGludi5uZWdhdGl2ZSA9IDA7CiAgICAgIHJldHVybiB0aGlzLmltb2QoaW52KS5yZWROZWcoKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB0aGlzLmltb2QoaW52KTsKICAgIH0KICB9OwoKICBSZWQucHJvdG90eXBlLnBvdyA9IGZ1bmN0aW9uIHBvdyAoYSwgbnVtKSB7CiAgICBpZiAobnVtLmlzWmVybygpKSByZXR1cm4gbmV3IEJOKDEpOwogICAgaWYgKG51bS5jbXBuKDEpID09PSAwKSByZXR1cm4gYS5jbG9uZSgpOwoKICAgIHZhciB3aW5kb3dTaXplID0gNDsKICAgIHZhciB3bmQgPSBuZXcgQXJyYXkoMSA8PCB3aW5kb3dTaXplKTsKICAgIHduZFswXSA9IG5ldyBCTigxKS50b1JlZCh0aGlzKTsKICAgIHduZFsxXSA9IGE7CiAgICBmb3IgKHZhciBpID0gMjsgaSA8IHduZC5sZW5ndGg7IGkrKykgewogICAgICB3bmRbaV0gPSB0aGlzLm11bCh3bmRbaSAtIDFdLCBhKTsKICAgIH0KCiAgICB2YXIgcmVzID0gd25kWzBdOwogICAgdmFyIGN1cnJlbnQgPSAwOwogICAgdmFyIGN1cnJlbnRMZW4gPSAwOwogICAgdmFyIHN0YXJ0ID0gbnVtLmJpdExlbmd0aCgpICUgMjY7CiAgICBpZiAoc3RhcnQgPT09IDApIHsKICAgICAgc3RhcnQgPSAyNjsKICAgIH0KCiAgICBmb3IgKGkgPSBudW0ubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgdmFyIHdvcmQgPSBudW0ud29yZHNbaV07CiAgICAgIGZvciAodmFyIGogPSBzdGFydCAtIDE7IGogPj0gMDsgai0tKSB7CiAgICAgICAgdmFyIGJpdCA9ICh3b3JkID4+IGopICYgMTsKICAgICAgICBpZiAocmVzICE9PSB3bmRbMF0pIHsKICAgICAgICAgIHJlcyA9IHRoaXMuc3FyKHJlcyk7CiAgICAgICAgfQoKICAgICAgICBpZiAoYml0ID09PSAwICYmIGN1cnJlbnQgPT09IDApIHsKICAgICAgICAgIGN1cnJlbnRMZW4gPSAwOwogICAgICAgICAgY29udGludWU7CiAgICAgICAgfQoKICAgICAgICBjdXJyZW50IDw8PSAxOwogICAgICAgIGN1cnJlbnQgfD0gYml0OwogICAgICAgIGN1cnJlbnRMZW4rKzsKICAgICAgICBpZiAoY3VycmVudExlbiAhPT0gd2luZG93U2l6ZSAmJiAoaSAhPT0gMCB8fCBqICE9PSAwKSkgY29udGludWU7CgogICAgICAgIHJlcyA9IHRoaXMubXVsKHJlcywgd25kW2N1cnJlbnRdKTsKICAgICAgICBjdXJyZW50TGVuID0gMDsKICAgICAgICBjdXJyZW50ID0gMDsKICAgICAgfQogICAgICBzdGFydCA9IDI2OwogICAgfQoKICAgIHJldHVybiByZXM7CiAgfTsKCiAgUmVkLnByb3RvdHlwZS5jb252ZXJ0VG8gPSBmdW5jdGlvbiBjb252ZXJ0VG8gKG51bSkgewogICAgdmFyIHIgPSBudW0udW1vZCh0aGlzLm0pOwoKICAgIHJldHVybiByID09PSBudW0gPyByLmNsb25lKCkgOiByOwogIH07CgogIFJlZC5wcm90b3R5cGUuY29udmVydEZyb20gPSBmdW5jdGlvbiBjb252ZXJ0RnJvbSAobnVtKSB7CiAgICB2YXIgcmVzID0gbnVtLmNsb25lKCk7CiAgICByZXMucmVkID0gbnVsbDsKICAgIHJldHVybiByZXM7CiAgfTsKCiAgLy8KICAvLyBNb250Z29tZXJ5IG1ldGhvZCBlbmdpbmUKICAvLwoKICBCTi5tb250ID0gZnVuY3Rpb24gbW9udCAobnVtKSB7CiAgICByZXR1cm4gbmV3IE1vbnQobnVtKTsKICB9OwoKICBmdW5jdGlvbiBNb250IChtKSB7CiAgICBSZWQuY2FsbCh0aGlzLCBtKTsKCiAgICB0aGlzLnNoaWZ0ID0gdGhpcy5tLmJpdExlbmd0aCgpOwogICAgaWYgKHRoaXMuc2hpZnQgJSAyNiAhPT0gMCkgewogICAgICB0aGlzLnNoaWZ0ICs9IDI2IC0gKHRoaXMuc2hpZnQgJSAyNik7CiAgICB9CgogICAgdGhpcy5yID0gbmV3IEJOKDEpLml1c2hsbih0aGlzLnNoaWZ0KTsKICAgIHRoaXMucjIgPSB0aGlzLmltb2QodGhpcy5yLnNxcigpKTsKICAgIHRoaXMucmludiA9IHRoaXMuci5faW52bXAodGhpcy5tKTsKCiAgICB0aGlzLm1pbnYgPSB0aGlzLnJpbnYubXVsKHRoaXMucikuaXN1Ym4oMSkuZGl2KHRoaXMubSk7CiAgICB0aGlzLm1pbnYgPSB0aGlzLm1pbnYudW1vZCh0aGlzLnIpOwogICAgdGhpcy5taW52ID0gdGhpcy5yLnN1Yih0aGlzLm1pbnYpOwogIH0KICBpbmhlcml0cyhNb250LCBSZWQpOwoKICBNb250LnByb3RvdHlwZS5jb252ZXJ0VG8gPSBmdW5jdGlvbiBjb252ZXJ0VG8gKG51bSkgewogICAgcmV0dXJuIHRoaXMuaW1vZChudW0udXNobG4odGhpcy5zaGlmdCkpOwogIH07CgogIE1vbnQucHJvdG90eXBlLmNvbnZlcnRGcm9tID0gZnVuY3Rpb24gY29udmVydEZyb20gKG51bSkgewogICAgdmFyIHIgPSB0aGlzLmltb2QobnVtLm11bCh0aGlzLnJpbnYpKTsKICAgIHIucmVkID0gbnVsbDsKICAgIHJldHVybiByOwogIH07CgogIE1vbnQucHJvdG90eXBlLmltdWwgPSBmdW5jdGlvbiBpbXVsIChhLCBiKSB7CiAgICBpZiAoYS5pc1plcm8oKSB8fCBiLmlzWmVybygpKSB7CiAgICAgIGEud29yZHNbMF0gPSAwOwogICAgICBhLmxlbmd0aCA9IDE7CiAgICAgIHJldHVybiBhOwogICAgfQoKICAgIHZhciB0ID0gYS5pbXVsKGIpOwogICAgdmFyIGMgPSB0Lm1hc2tuKHRoaXMuc2hpZnQpLm11bCh0aGlzLm1pbnYpLmltYXNrbih0aGlzLnNoaWZ0KS5tdWwodGhpcy5tKTsKICAgIHZhciB1ID0gdC5pc3ViKGMpLml1c2hybih0aGlzLnNoaWZ0KTsKICAgIHZhciByZXMgPSB1OwoKICAgIGlmICh1LmNtcCh0aGlzLm0pID49IDApIHsKICAgICAgcmVzID0gdS5pc3ViKHRoaXMubSk7CiAgICB9IGVsc2UgaWYgKHUuY21wbigwKSA8IDApIHsKICAgICAgcmVzID0gdS5pYWRkKHRoaXMubSk7CiAgICB9CgogICAgcmV0dXJuIHJlcy5fZm9yY2VSZWQodGhpcyk7CiAgfTsKCiAgTW9udC5wcm90b3R5cGUubXVsID0gZnVuY3Rpb24gbXVsIChhLCBiKSB7CiAgICBpZiAoYS5pc1plcm8oKSB8fCBiLmlzWmVybygpKSByZXR1cm4gbmV3IEJOKDApLl9mb3JjZVJlZCh0aGlzKTsKCiAgICB2YXIgdCA9IGEubXVsKGIpOwogICAgdmFyIGMgPSB0Lm1hc2tuKHRoaXMuc2hpZnQpLm11bCh0aGlzLm1pbnYpLmltYXNrbih0aGlzLnNoaWZ0KS5tdWwodGhpcy5tKTsKICAgIHZhciB1ID0gdC5pc3ViKGMpLml1c2hybih0aGlzLnNoaWZ0KTsKICAgIHZhciByZXMgPSB1OwogICAgaWYgKHUuY21wKHRoaXMubSkgPj0gMCkgewogICAgICByZXMgPSB1LmlzdWIodGhpcy5tKTsKICAgIH0gZWxzZSBpZiAodS5jbXBuKDApIDwgMCkgewogICAgICByZXMgPSB1LmlhZGQodGhpcy5tKTsKICAgIH0KCiAgICByZXR1cm4gcmVzLl9mb3JjZVJlZCh0aGlzKTsKICB9OwoKICBNb250LnByb3RvdHlwZS5pbnZtID0gZnVuY3Rpb24gaW52bSAoYSkgewogICAgLy8gKEFSKV4tMSAqIFJeMiA9IChBXi0xICogUl4tMSkgKiBSXjIgPSBBXi0xICogUgogICAgdmFyIHJlcyA9IHRoaXMuaW1vZChhLl9pbnZtcCh0aGlzLm0pLm11bCh0aGlzLnIyKSk7CiAgICByZXR1cm4gcmVzLl9mb3JjZVJlZCh0aGlzKTsKICB9Owp9KSh0eXBlb2YgbW9kdWxlID09PSAndW5kZWZpbmVkJyB8fCBtb2R1bGUsIHRoaXMpOwoKfSx7fV0sNDM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewp2YXIgcjsKCm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmFuZChsZW4pIHsKICBpZiAoIXIpCiAgICByID0gbmV3IFJhbmQobnVsbCk7CgogIHJldHVybiByLmdlbmVyYXRlKGxlbik7Cn07CgpmdW5jdGlvbiBSYW5kKHJhbmQpIHsKICB0aGlzLnJhbmQgPSByYW5kOwp9Cm1vZHVsZS5leHBvcnRzLlJhbmQgPSBSYW5kOwoKUmFuZC5wcm90b3R5cGUuZ2VuZXJhdGUgPSBmdW5jdGlvbiBnZW5lcmF0ZShsZW4pIHsKICByZXR1cm4gdGhpcy5fcmFuZChsZW4pOwp9OwoKaWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSB7CiAgaWYgKHdpbmRvdy5jcnlwdG8gJiYgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHsKICAgIC8vIE1vZGVybiBicm93c2VycwogICAgUmFuZC5wcm90b3R5cGUuX3JhbmQgPSBmdW5jdGlvbiBfcmFuZChuKSB7CiAgICAgIHZhciBhcnIgPSBuZXcgVWludDhBcnJheShuKTsKICAgICAgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXJyKTsKICAgICAgcmV0dXJuIGFycjsKICAgIH07CiAgfSBlbHNlIGlmICh3aW5kb3cubXNDcnlwdG8gJiYgd2luZG93Lm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcykgewogICAgLy8gSUUKICAgIFJhbmQucHJvdG90eXBlLl9yYW5kID0gZnVuY3Rpb24gX3JhbmQobikgewogICAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkobik7CiAgICAgIHdpbmRvdy5tc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMoYXJyKTsKICAgICAgcmV0dXJuIGFycjsKICAgIH07CiAgfSBlbHNlIHsKICAgIC8vIE9sZCBqdW5rCiAgICBSYW5kLnByb3RvdHlwZS5fcmFuZCA9IGZ1bmN0aW9uKCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCB5ZXQnKTsKICAgIH07CiAgfQp9IGVsc2UgewogIC8vIE5vZGUuanMgb3IgV2ViIHdvcmtlcgogIHRyeSB7CiAgICB2YXIgY3J5cHRvID0gcmVxdWlyZSgnY3J5JyArICdwdG8nKTsKCiAgICBSYW5kLnByb3RvdHlwZS5fcmFuZCA9IGZ1bmN0aW9uIF9yYW5kKG4pIHsKICAgICAgcmV0dXJuIGNyeXB0by5yYW5kb21CeXRlcyhuKTsKICAgIH07CiAgfSBjYXRjaCAoZSkgewogICAgLy8gRW11bGF0ZSBjcnlwdG8gQVBJIHVzaW5nIHJhbmR5CiAgICBSYW5kLnByb3RvdHlwZS5fcmFuZCA9IGZ1bmN0aW9uIF9yYW5kKG4pIHsKICAgICAgdmFyIHJlcyA9IG5ldyBVaW50OEFycmF5KG4pOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlcy5sZW5ndGg7IGkrKykKICAgICAgICByZXNbaV0gPSB0aGlzLnJhbmQuZ2V0Qnl0ZSgpOwogICAgICByZXR1cm4gcmVzOwogICAgfTsKICB9Cn0KCn0se31dLDQ0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKCn0se31dLDQ1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChCdWZmZXIpewovLyBiYXNlZCBvbiB0aGUgYWVzIGltcGxpbWVudGF0aW9uIGluIHRyaXBsZSBzZWMKLy8gaHR0cHM6Ly9naXRodWIuY29tL2tleWJhc2UvdHJpcGxlc2VjCgovLyB3aGljaCBpcyBpbiB0dXJuIGJhc2VkIG9uIHRoZSBvbmUgZnJvbSBjcnlwdG8tanMKLy8gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvCgp2YXIgdWludF9tYXggPSBNYXRoLnBvdygyLCAzMikKZnVuY3Rpb24gZml4dXBfdWludDMyICh4KSB7CiAgdmFyIHJldCwgeF9wb3MKICByZXQgPSB4ID4gdWludF9tYXggfHwgeCA8IDAgPyAoeF9wb3MgPSBNYXRoLmFicyh4KSAlIHVpbnRfbWF4LCB4IDwgMCA/IHVpbnRfbWF4IC0geF9wb3MgOiB4X3BvcykgOiB4CiAgcmV0dXJuIHJldAp9CmZ1bmN0aW9uIHNjcnViX3ZlYyAodikgewogIGZvciAodmFyIGkgPSAwOyBpIDwgdi5sZW5ndGg7IHYrKykgewogICAgdltpXSA9IDAKICB9CiAgcmV0dXJuIGZhbHNlCn0KCmZ1bmN0aW9uIEdsb2JhbCAoKSB7CiAgdGhpcy5TQk9YID0gW10KICB0aGlzLklOVl9TQk9YID0gW10KICB0aGlzLlNVQl9NSVggPSBbW10sIFtdLCBbXSwgW11dCiAgdGhpcy5JTlZfU1VCX01JWCA9IFtbXSwgW10sIFtdLCBbXV0KICB0aGlzLmluaXQoKQogIHRoaXMuUkNPTiA9IFsweDAwLCAweDAxLCAweDAyLCAweDA0LCAweDA4LCAweDEwLCAweDIwLCAweDQwLCAweDgwLCAweDFiLCAweDM2XQp9CgpHbG9iYWwucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIGQsIGksIHN4LCB0LCB4LCB4MiwgeDQsIHg4LCB4aSwgX2kKICBkID0gKGZ1bmN0aW9uICgpIHsKICAgIHZhciBfaSwgX3Jlc3VsdHMKICAgIF9yZXN1bHRzID0gW10KICAgIGZvciAoaSA9IF9pID0gMDsgX2kgPCAyNTY7IGkgPSArK19pKSB7CiAgICAgIGlmIChpIDwgMTI4KSB7CiAgICAgICAgX3Jlc3VsdHMucHVzaChpIDw8IDEpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgX3Jlc3VsdHMucHVzaCgoaSA8PCAxKSBeIDB4MTFiKQogICAgICB9CiAgICB9CiAgICByZXR1cm4gX3Jlc3VsdHMKICB9KSgpCiAgeCA9IDAKICB4aSA9IDAKICBmb3IgKGkgPSBfaSA9IDA7IF9pIDwgMjU2OyBpID0gKytfaSkgewogICAgc3ggPSB4aSBeICh4aSA8PCAxKSBeICh4aSA8PCAyKSBeICh4aSA8PCAzKSBeICh4aSA8PCA0KQogICAgc3ggPSAoc3ggPj4+IDgpIF4gKHN4ICYgMHhmZikgXiAweDYzCiAgICB0aGlzLlNCT1hbeF0gPSBzeAogICAgdGhpcy5JTlZfU0JPWFtzeF0gPSB4CiAgICB4MiA9IGRbeF0KICAgIHg0ID0gZFt4Ml0KICAgIHg4ID0gZFt4NF0KICAgIHQgPSAoZFtzeF0gKiAweDEwMSkgXiAoc3ggKiAweDEwMTAxMDApCiAgICB0aGlzLlNVQl9NSVhbMF1beF0gPSAodCA8PCAyNCkgfCAodCA+Pj4gOCkKICAgIHRoaXMuU1VCX01JWFsxXVt4XSA9ICh0IDw8IDE2KSB8ICh0ID4+PiAxNikKICAgIHRoaXMuU1VCX01JWFsyXVt4XSA9ICh0IDw8IDgpIHwgKHQgPj4+IDI0KQogICAgdGhpcy5TVUJfTUlYWzNdW3hdID0gdAogICAgdCA9ICh4OCAqIDB4MTAxMDEwMSkgXiAoeDQgKiAweDEwMDAxKSBeICh4MiAqIDB4MTAxKSBeICh4ICogMHgxMDEwMTAwKQogICAgdGhpcy5JTlZfU1VCX01JWFswXVtzeF0gPSAodCA8PCAyNCkgfCAodCA+Pj4gOCkKICAgIHRoaXMuSU5WX1NVQl9NSVhbMV1bc3hdID0gKHQgPDwgMTYpIHwgKHQgPj4+IDE2KQogICAgdGhpcy5JTlZfU1VCX01JWFsyXVtzeF0gPSAodCA8PCA4KSB8ICh0ID4+PiAyNCkKICAgIHRoaXMuSU5WX1NVQl9NSVhbM11bc3hdID0gdAogICAgaWYgKHggPT09IDApIHsKICAgICAgeCA9IHhpID0gMQogICAgfSBlbHNlIHsKICAgICAgeCA9IHgyIF4gZFtkW2RbeDggXiB4Ml1dXQogICAgICB4aSBePSBkW2RbeGldXQogICAgfQogIH0KICByZXR1cm4gdHJ1ZQp9Cgp2YXIgRyA9IG5ldyBHbG9iYWwoKQoKQUVTLmJsb2NrU2l6ZSA9IDQgKiA0CgpBRVMucHJvdG90eXBlLmJsb2NrU2l6ZSA9IEFFUy5ibG9ja1NpemUKCkFFUy5rZXlTaXplID0gMjU2IC8gOAoKQUVTLnByb3RvdHlwZS5rZXlTaXplID0gQUVTLmtleVNpemUKCmZ1bmN0aW9uIGJ1ZmZlclRvQXJyYXkgKGJ1ZikgewogIHZhciBsZW4gPSBidWYubGVuZ3RoIC8gNAogIHZhciBvdXQgPSBuZXcgQXJyYXkobGVuKQogIHZhciBpID0gLTEKICB3aGlsZSAoKytpIDwgbGVuKSB7CiAgICBvdXRbaV0gPSBidWYucmVhZFVJbnQzMkJFKGkgKiA0KQogIH0KICByZXR1cm4gb3V0Cn0KZnVuY3Rpb24gQUVTIChrZXkpIHsKICB0aGlzLl9rZXkgPSBidWZmZXJUb0FycmF5KGtleSkKICB0aGlzLl9kb1Jlc2V0KCkKfQoKQUVTLnByb3RvdHlwZS5fZG9SZXNldCA9IGZ1bmN0aW9uICgpIHsKICB2YXIgaW52S3NSb3csIGtleVNpemUsIGtleVdvcmRzLCBrc1Jvdywga3NSb3dzLCB0CiAga2V5V29yZHMgPSB0aGlzLl9rZXkKICBrZXlTaXplID0ga2V5V29yZHMubGVuZ3RoCiAgdGhpcy5fblJvdW5kcyA9IGtleVNpemUgKyA2CiAga3NSb3dzID0gKHRoaXMuX25Sb3VuZHMgKyAxKSAqIDQKICB0aGlzLl9rZXlTY2hlZHVsZSA9IFtdCiAgZm9yIChrc1JvdyA9IDA7IGtzUm93IDwga3NSb3dzOyBrc1JvdysrKSB7CiAgICB0aGlzLl9rZXlTY2hlZHVsZVtrc1Jvd10gPSBrc1JvdyA8IGtleVNpemUgPyBrZXlXb3Jkc1trc1Jvd10gOiAodCA9IHRoaXMuX2tleVNjaGVkdWxlW2tzUm93IC0gMV0sIChrc1JvdyAlIGtleVNpemUpID09PSAwID8gKHQgPSAodCA8PCA4KSB8ICh0ID4+PiAyNCksIHQgPSAoRy5TQk9YW3QgPj4+IDI0XSA8PCAyNCkgfCAoRy5TQk9YWyh0ID4+PiAxNikgJiAweGZmXSA8PCAxNikgfCAoRy5TQk9YWyh0ID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgRy5TQk9YW3QgJiAweGZmXSwgdCBePSBHLlJDT05bKGtzUm93IC8ga2V5U2l6ZSkgfCAwXSA8PCAyNCkgOiBrZXlTaXplID4gNiAmJiBrc1JvdyAlIGtleVNpemUgPT09IDQgPyB0ID0gKEcuU0JPWFt0ID4+PiAyNF0gPDwgMjQpIHwgKEcuU0JPWFsodCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKEcuU0JPWFsodCA+Pj4gOCkgJiAweGZmXSA8PCA4KSB8IEcuU0JPWFt0ICYgMHhmZl0gOiB2b2lkIDAsIHRoaXMuX2tleVNjaGVkdWxlW2tzUm93IC0ga2V5U2l6ZV0gXiB0KQogIH0KICB0aGlzLl9pbnZLZXlTY2hlZHVsZSA9IFtdCiAgZm9yIChpbnZLc1JvdyA9IDA7IGludktzUm93IDwga3NSb3dzOyBpbnZLc1JvdysrKSB7CiAgICBrc1JvdyA9IGtzUm93cyAtIGludktzUm93CiAgICB0ID0gdGhpcy5fa2V5U2NoZWR1bGVba3NSb3cgLSAoaW52S3NSb3cgJSA0ID8gMCA6IDQpXQogICAgdGhpcy5faW52S2V5U2NoZWR1bGVbaW52S3NSb3ddID0gaW52S3NSb3cgPCA0IHx8IGtzUm93IDw9IDQgPyB0IDogRy5JTlZfU1VCX01JWFswXVtHLlNCT1hbdCA+Pj4gMjRdXSBeIEcuSU5WX1NVQl9NSVhbMV1bRy5TQk9YWyh0ID4+PiAxNikgJiAweGZmXV0gXiBHLklOVl9TVUJfTUlYWzJdW0cuU0JPWFsodCA+Pj4gOCkgJiAweGZmXV0gXiBHLklOVl9TVUJfTUlYWzNdW0cuU0JPWFt0ICYgMHhmZl1dCiAgfQogIHJldHVybiB0cnVlCn0KCkFFUy5wcm90b3R5cGUuZW5jcnlwdEJsb2NrID0gZnVuY3Rpb24gKE0pIHsKICBNID0gYnVmZmVyVG9BcnJheShuZXcgQnVmZmVyKE0pKQogIHZhciBvdXQgPSB0aGlzLl9kb0NyeXB0QmxvY2soTSwgdGhpcy5fa2V5U2NoZWR1bGUsIEcuU1VCX01JWCwgRy5TQk9YKQogIHZhciBidWYgPSBuZXcgQnVmZmVyKDE2KQogIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFswXSwgMCkKICBidWYud3JpdGVVSW50MzJCRShvdXRbMV0sIDQpCiAgYnVmLndyaXRlVUludDMyQkUob3V0WzJdLCA4KQogIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFszXSwgMTIpCiAgcmV0dXJuIGJ1Zgp9CgpBRVMucHJvdG90eXBlLmRlY3J5cHRCbG9jayA9IGZ1bmN0aW9uIChNKSB7CiAgTSA9IGJ1ZmZlclRvQXJyYXkobmV3IEJ1ZmZlcihNKSkKICB2YXIgdGVtcCA9IFtNWzNdLCBNWzFdXQogIE1bMV0gPSB0ZW1wWzBdCiAgTVszXSA9IHRlbXBbMV0KICB2YXIgb3V0ID0gdGhpcy5fZG9DcnlwdEJsb2NrKE0sIHRoaXMuX2ludktleVNjaGVkdWxlLCBHLklOVl9TVUJfTUlYLCBHLklOVl9TQk9YKQogIHZhciBidWYgPSBuZXcgQnVmZmVyKDE2KQogIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFswXSwgMCkKICBidWYud3JpdGVVSW50MzJCRShvdXRbM10sIDQpCiAgYnVmLndyaXRlVUludDMyQkUob3V0WzJdLCA4KQogIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFsxXSwgMTIpCiAgcmV0dXJuIGJ1Zgp9CgpBRVMucHJvdG90eXBlLnNjcnViID0gZnVuY3Rpb24gKCkgewogIHNjcnViX3ZlYyh0aGlzLl9rZXlTY2hlZHVsZSkKICBzY3J1Yl92ZWModGhpcy5faW52S2V5U2NoZWR1bGUpCiAgc2NydWJfdmVjKHRoaXMuX2tleSkKfQoKQUVTLnByb3RvdHlwZS5fZG9DcnlwdEJsb2NrID0gZnVuY3Rpb24gKE0sIGtleVNjaGVkdWxlLCBTVUJfTUlYLCBTQk9YKSB7CiAgdmFyIGtzUm93LCBzMCwgczEsIHMyLCBzMywgdDAsIHQxLCB0MiwgdDMKCiAgczAgPSBNWzBdIF4ga2V5U2NoZWR1bGVbMF0KICBzMSA9IE1bMV0gXiBrZXlTY2hlZHVsZVsxXQogIHMyID0gTVsyXSBeIGtleVNjaGVkdWxlWzJdCiAgczMgPSBNWzNdIF4ga2V5U2NoZWR1bGVbM10KICBrc1JvdyA9IDQKICBmb3IgKHZhciByb3VuZCA9IDE7IHJvdW5kIDwgdGhpcy5fblJvdW5kczsgcm91bmQrKykgewogICAgdDAgPSBTVUJfTUlYWzBdW3MwID4+PiAyNF0gXiBTVUJfTUlYWzFdWyhzMSA+Pj4gMTYpICYgMHhmZl0gXiBTVUJfTUlYWzJdWyhzMiA+Pj4gOCkgJiAweGZmXSBeIFNVQl9NSVhbM11bczMgJiAweGZmXSBeIGtleVNjaGVkdWxlW2tzUm93KytdCiAgICB0MSA9IFNVQl9NSVhbMF1bczEgPj4+IDI0XSBeIFNVQl9NSVhbMV1bKHMyID4+PiAxNikgJiAweGZmXSBeIFNVQl9NSVhbMl1bKHMzID4+PiA4KSAmIDB4ZmZdIF4gU1VCX01JWFszXVtzMCAmIDB4ZmZdIF4ga2V5U2NoZWR1bGVba3NSb3crK10KICAgIHQyID0gU1VCX01JWFswXVtzMiA+Pj4gMjRdIF4gU1VCX01JWFsxXVsoczMgPj4+IDE2KSAmIDB4ZmZdIF4gU1VCX01JWFsyXVsoczAgPj4+IDgpICYgMHhmZl0gXiBTVUJfTUlYWzNdW3MxICYgMHhmZl0gXiBrZXlTY2hlZHVsZVtrc1JvdysrXQogICAgdDMgPSBTVUJfTUlYWzBdW3MzID4+PiAyNF0gXiBTVUJfTUlYWzFdWyhzMCA+Pj4gMTYpICYgMHhmZl0gXiBTVUJfTUlYWzJdWyhzMSA+Pj4gOCkgJiAweGZmXSBeIFNVQl9NSVhbM11bczIgJiAweGZmXSBeIGtleVNjaGVkdWxlW2tzUm93KytdCiAgICBzMCA9IHQwCiAgICBzMSA9IHQxCiAgICBzMiA9IHQyCiAgICBzMyA9IHQzCiAgfQogIHQwID0gKChTQk9YW3MwID4+PiAyNF0gPDwgMjQpIHwgKFNCT1hbKHMxID4+PiAxNikgJiAweGZmXSA8PCAxNikgfCAoU0JPWFsoczIgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBTQk9YW3MzICYgMHhmZl0pIF4ga2V5U2NoZWR1bGVba3NSb3crK10KICB0MSA9ICgoU0JPWFtzMSA+Pj4gMjRdIDw8IDI0KSB8IChTQk9YWyhzMiA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKFNCT1hbKHMzID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgU0JPWFtzMCAmIDB4ZmZdKSBeIGtleVNjaGVkdWxlW2tzUm93KytdCiAgdDIgPSAoKFNCT1hbczIgPj4+IDI0XSA8PCAyNCkgfCAoU0JPWFsoczMgPj4+IDE2KSAmIDB4ZmZdIDw8IDE2KSB8IChTQk9YWyhzMCA+Pj4gOCkgJiAweGZmXSA8PCA4KSB8IFNCT1hbczEgJiAweGZmXSkgXiBrZXlTY2hlZHVsZVtrc1JvdysrXQogIHQzID0gKChTQk9YW3MzID4+PiAyNF0gPDwgMjQpIHwgKFNCT1hbKHMwID4+PiAxNikgJiAweGZmXSA8PCAxNikgfCAoU0JPWFsoczEgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBTQk9YW3MyICYgMHhmZl0pIF4ga2V5U2NoZWR1bGVba3NSb3crK10KICByZXR1cm4gWwogICAgZml4dXBfdWludDMyKHQwKSwKICAgIGZpeHVwX3VpbnQzMih0MSksCiAgICBmaXh1cF91aW50MzIodDIpLAogICAgZml4dXBfdWludDMyKHQzKQogIF0KfQoKZXhwb3J0cy5BRVMgPSBBRVMKCn0pLmNhbGwodGhpcyxyZXF1aXJlKCJidWZmZXIiKS5CdWZmZXIpCn0seyJidWZmZXIiOjc2fV0sNDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7CnZhciBhZXMgPSByZXF1aXJlKCcuL2FlcycpCnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCdjaXBoZXItYmFzZScpCnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJykKdmFyIEdIQVNIID0gcmVxdWlyZSgnLi9naGFzaCcpCnZhciB4b3IgPSByZXF1aXJlKCdidWZmZXIteG9yJykKaW5oZXJpdHMoU3RyZWFtQ2lwaGVyLCBUcmFuc2Zvcm0pCm1vZHVsZS5leHBvcnRzID0gU3RyZWFtQ2lwaGVyCgpmdW5jdGlvbiBTdHJlYW1DaXBoZXIgKG1vZGUsIGtleSwgaXYsIGRlY3J5cHQpIHsKICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3RyZWFtQ2lwaGVyKSkgewogICAgcmV0dXJuIG5ldyBTdHJlYW1DaXBoZXIobW9kZSwga2V5LCBpdikKICB9CiAgVHJhbnNmb3JtLmNhbGwodGhpcykKICB0aGlzLl9maW5JRCA9IEJ1ZmZlci5jb25jYXQoW2l2LCBuZXcgQnVmZmVyKFswLCAwLCAwLCAxXSldKQogIGl2ID0gQnVmZmVyLmNvbmNhdChbaXYsIG5ldyBCdWZmZXIoWzAsIDAsIDAsIDJdKV0pCiAgdGhpcy5fY2lwaGVyID0gbmV3IGFlcy5BRVMoa2V5KQogIHRoaXMuX3ByZXYgPSBuZXcgQnVmZmVyKGl2Lmxlbmd0aCkKICB0aGlzLl9jYWNoZSA9IG5ldyBCdWZmZXIoJycpCiAgdGhpcy5fc2VjQ2FjaGUgPSBuZXcgQnVmZmVyKCcnKQogIHRoaXMuX2RlY3J5cHQgPSBkZWNyeXB0CiAgdGhpcy5fYWxlbiA9IDAKICB0aGlzLl9sZW4gPSAwCiAgaXYuY29weSh0aGlzLl9wcmV2KQogIHRoaXMuX21vZGUgPSBtb2RlCiAgdmFyIGggPSBuZXcgQnVmZmVyKDQpCiAgaC5maWxsKDApCiAgdGhpcy5fZ2hhc2ggPSBuZXcgR0hBU0godGhpcy5fY2lwaGVyLmVuY3J5cHRCbG9jayhoKSkKICB0aGlzLl9hdXRoVGFnID0gbnVsbAogIHRoaXMuX2NhbGxlZCA9IGZhbHNlCn0KU3RyZWFtQ2lwaGVyLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKGNodW5rKSB7CiAgaWYgKCF0aGlzLl9jYWxsZWQgJiYgdGhpcy5fYWxlbikgewogICAgdmFyIHJ1bXAgPSAxNiAtICh0aGlzLl9hbGVuICUgMTYpCiAgICBpZiAocnVtcCA8IDE2KSB7CiAgICAgIHJ1bXAgPSBuZXcgQnVmZmVyKHJ1bXApCiAgICAgIHJ1bXAuZmlsbCgwKQogICAgICB0aGlzLl9naGFzaC51cGRhdGUocnVtcCkKICAgIH0KICB9CiAgdGhpcy5fY2FsbGVkID0gdHJ1ZQogIHZhciBvdXQgPSB0aGlzLl9tb2RlLmVuY3J5cHQodGhpcywgY2h1bmspCiAgaWYgKHRoaXMuX2RlY3J5cHQpIHsKICAgIHRoaXMuX2doYXNoLnVwZGF0ZShjaHVuaykKICB9IGVsc2UgewogICAgdGhpcy5fZ2hhc2gudXBkYXRlKG91dCkKICB9CiAgdGhpcy5fbGVuICs9IGNodW5rLmxlbmd0aAogIHJldHVybiBvdXQKfQpTdHJlYW1DaXBoZXIucHJvdG90eXBlLl9maW5hbCA9IGZ1bmN0aW9uICgpIHsKICBpZiAodGhpcy5fZGVjcnlwdCAmJiAhdGhpcy5fYXV0aFRhZykgewogICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBzdGF0ZSBvciB1bmFibGUgdG8gYXV0aGVudGljYXRlIGRhdGEnKQogIH0KICB2YXIgdGFnID0geG9yKHRoaXMuX2doYXNoLmZpbmFsKHRoaXMuX2FsZW4gKiA4LCB0aGlzLl9sZW4gKiA4KSwgdGhpcy5fY2lwaGVyLmVuY3J5cHRCbG9jayh0aGlzLl9maW5JRCkpCiAgaWYgKHRoaXMuX2RlY3J5cHQpIHsKICAgIGlmICh4b3JUZXN0KHRhZywgdGhpcy5fYXV0aFRhZykpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBzdGF0ZSBvciB1bmFibGUgdG8gYXV0aGVudGljYXRlIGRhdGEnKQogICAgfQogIH0gZWxzZSB7CiAgICB0aGlzLl9hdXRoVGFnID0gdGFnCiAgfQogIHRoaXMuX2NpcGhlci5zY3J1YigpCn0KU3RyZWFtQ2lwaGVyLnByb3RvdHlwZS5nZXRBdXRoVGFnID0gZnVuY3Rpb24gZ2V0QXV0aFRhZyAoKSB7CiAgaWYgKCF0aGlzLl9kZWNyeXB0ICYmIEJ1ZmZlci5pc0J1ZmZlcih0aGlzLl9hdXRoVGFnKSkgewogICAgcmV0dXJuIHRoaXMuX2F1dGhUYWcKICB9IGVsc2UgewogICAgdGhyb3cgbmV3IEVycm9yKCdBdHRlbXB0aW5nIHRvIGdldCBhdXRoIHRhZyBpbiB1bnN1cHBvcnRlZCBzdGF0ZScpCiAgfQp9ClN0cmVhbUNpcGhlci5wcm90b3R5cGUuc2V0QXV0aFRhZyA9IGZ1bmN0aW9uIHNldEF1dGhUYWcgKHRhZykgewogIGlmICh0aGlzLl9kZWNyeXB0KSB7CiAgICB0aGlzLl9hdXRoVGFnID0gdGFnCiAgfSBlbHNlIHsKICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGluZyB0byBzZXQgYXV0aCB0YWcgaW4gdW5zdXBwb3J0ZWQgc3RhdGUnKQogIH0KfQpTdHJlYW1DaXBoZXIucHJvdG90eXBlLnNldEFBRCA9IGZ1bmN0aW9uIHNldEFBRCAoYnVmKSB7CiAgaWYgKCF0aGlzLl9jYWxsZWQpIHsKICAgIHRoaXMuX2doYXNoLnVwZGF0ZShidWYpCiAgICB0aGlzLl9hbGVuICs9IGJ1Zi5sZW5ndGgKICB9IGVsc2UgewogICAgdGhyb3cgbmV3IEVycm9yKCdBdHRlbXB0aW5nIHRvIHNldCBBQUQgaW4gdW5zdXBwb3J0ZWQgc3RhdGUnKQogIH0KfQpmdW5jdGlvbiB4b3JUZXN0IChhLCBiKSB7CiAgdmFyIG91dCA9IDAKICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7CiAgICBvdXQrKwogIH0KICB2YXIgbGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKQogIHZhciBpID0gLTEKICB3aGlsZSAoKytpIDwgbGVuKSB7CiAgICBvdXQgKz0gKGFbaV0gXiBiW2ldKQogIH0KICByZXR1cm4gb3V0Cn0KCn0pLmNhbGwodGhpcyxyZXF1aXJlKCJidWZmZXIiKS5CdWZmZXIpCn0seyIuL2FlcyI6NDUsIi4vZ2hhc2giOjUwLCJidWZmZXIiOjc2LCJidWZmZXIteG9yIjo3NSwiY2lwaGVyLWJhc2UiOjc4LCJpbmhlcml0cyI6MTI4fV0sNDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewp2YXIgY2lwaGVycyA9IHJlcXVpcmUoJy4vZW5jcnlwdGVyJykKZXhwb3J0cy5jcmVhdGVDaXBoZXIgPSBleHBvcnRzLkNpcGhlciA9IGNpcGhlcnMuY3JlYXRlQ2lwaGVyCmV4cG9ydHMuY3JlYXRlQ2lwaGVyaXYgPSBleHBvcnRzLkNpcGhlcml2ID0gY2lwaGVycy5jcmVhdGVDaXBoZXJpdgp2YXIgZGVjaXBoZXJzID0gcmVxdWlyZSgnLi9kZWNyeXB0ZXInKQpleHBvcnRzLmNyZWF0ZURlY2lwaGVyID0gZXhwb3J0cy5EZWNpcGhlciA9IGRlY2lwaGVycy5jcmVhdGVEZWNpcGhlcgpleHBvcnRzLmNyZWF0ZURlY2lwaGVyaXYgPSBleHBvcnRzLkRlY2lwaGVyaXYgPSBkZWNpcGhlcnMuY3JlYXRlRGVjaXBoZXJpdgp2YXIgbW9kZXMgPSByZXF1aXJlKCcuL21vZGVzJykKZnVuY3Rpb24gZ2V0Q2lwaGVycyAoKSB7CiAgcmV0dXJuIE9iamVjdC5rZXlzKG1vZGVzKQp9CmV4cG9ydHMubGlzdENpcGhlcnMgPSBleHBvcnRzLmdldENpcGhlcnMgPSBnZXRDaXBoZXJzCgp9LHsiLi9kZWNyeXB0ZXIiOjQ4LCIuL2VuY3J5cHRlciI6NDksIi4vbW9kZXMiOjUxfV0sNDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7CnZhciBhZXMgPSByZXF1aXJlKCcuL2FlcycpCnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCdjaXBoZXItYmFzZScpCnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJykKdmFyIG1vZGVzID0gcmVxdWlyZSgnLi9tb2RlcycpCnZhciBTdHJlYW1DaXBoZXIgPSByZXF1aXJlKCcuL3N0cmVhbUNpcGhlcicpCnZhciBBdXRoQ2lwaGVyID0gcmVxdWlyZSgnLi9hdXRoQ2lwaGVyJykKdmFyIGVidGsgPSByZXF1aXJlKCdldnBfYnl0ZXN0b2tleScpCgppbmhlcml0cyhEZWNpcGhlciwgVHJhbnNmb3JtKQpmdW5jdGlvbiBEZWNpcGhlciAobW9kZSwga2V5LCBpdikgewogIGlmICghKHRoaXMgaW5zdGFuY2VvZiBEZWNpcGhlcikpIHsKICAgIHJldHVybiBuZXcgRGVjaXBoZXIobW9kZSwga2V5LCBpdikKICB9CiAgVHJhbnNmb3JtLmNhbGwodGhpcykKICB0aGlzLl9jYWNoZSA9IG5ldyBTcGxpdHRlcigpCiAgdGhpcy5fbGFzdCA9IHZvaWQgMAogIHRoaXMuX2NpcGhlciA9IG5ldyBhZXMuQUVTKGtleSkKICB0aGlzLl9wcmV2ID0gbmV3IEJ1ZmZlcihpdi5sZW5ndGgpCiAgaXYuY29weSh0aGlzLl9wcmV2KQogIHRoaXMuX21vZGUgPSBtb2RlCiAgdGhpcy5fYXV0b3BhZGRpbmcgPSB0cnVlCn0KRGVjaXBoZXIucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkgewogIHRoaXMuX2NhY2hlLmFkZChkYXRhKQogIHZhciBjaHVuawogIHZhciB0aGluZwogIHZhciBvdXQgPSBbXQogIHdoaWxlICgoY2h1bmsgPSB0aGlzLl9jYWNoZS5nZXQodGhpcy5fYXV0b3BhZGRpbmcpKSkgewogICAgdGhpbmcgPSB0aGlzLl9tb2RlLmRlY3J5cHQodGhpcywgY2h1bmspCiAgICBvdXQucHVzaCh0aGluZykKICB9CiAgcmV0dXJuIEJ1ZmZlci5jb25jYXQob3V0KQp9CkRlY2lwaGVyLnByb3RvdHlwZS5fZmluYWwgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIGNodW5rID0gdGhpcy5fY2FjaGUuZmx1c2goKQogIGlmICh0aGlzLl9hdXRvcGFkZGluZykgewogICAgcmV0dXJuIHVucGFkKHRoaXMuX21vZGUuZGVjcnlwdCh0aGlzLCBjaHVuaykpCiAgfSBlbHNlIGlmIChjaHVuaykgewogICAgdGhyb3cgbmV3IEVycm9yKCdkYXRhIG5vdCBtdWx0aXBsZSBvZiBibG9jayBsZW5ndGgnKQogIH0KfQpEZWNpcGhlci5wcm90b3R5cGUuc2V0QXV0b1BhZGRpbmcgPSBmdW5jdGlvbiAoc2V0VG8pIHsKICB0aGlzLl9hdXRvcGFkZGluZyA9ICEhc2V0VG8KICByZXR1cm4gdGhpcwp9CmZ1bmN0aW9uIFNwbGl0dGVyICgpIHsKICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU3BsaXR0ZXIpKSB7CiAgICByZXR1cm4gbmV3IFNwbGl0dGVyKCkKICB9CiAgdGhpcy5jYWNoZSA9IG5ldyBCdWZmZXIoJycpCn0KU3BsaXR0ZXIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgdGhpcy5jYWNoZSA9IEJ1ZmZlci5jb25jYXQoW3RoaXMuY2FjaGUsIGRhdGFdKQp9CgpTcGxpdHRlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGF1dG9QYWRkaW5nKSB7CiAgdmFyIG91dAogIGlmIChhdXRvUGFkZGluZykgewogICAgaWYgKHRoaXMuY2FjaGUubGVuZ3RoID4gMTYpIHsKICAgICAgb3V0ID0gdGhpcy5jYWNoZS5zbGljZSgwLCAxNikKICAgICAgdGhpcy5jYWNoZSA9IHRoaXMuY2FjaGUuc2xpY2UoMTYpCiAgICAgIHJldHVybiBvdXQKICAgIH0KICB9IGVsc2UgewogICAgaWYgKHRoaXMuY2FjaGUubGVuZ3RoID49IDE2KSB7CiAgICAgIG91dCA9IHRoaXMuY2FjaGUuc2xpY2UoMCwgMTYpCiAgICAgIHRoaXMuY2FjaGUgPSB0aGlzLmNhY2hlLnNsaWNlKDE2KQogICAgICByZXR1cm4gb3V0CiAgICB9CiAgfQogIHJldHVybiBudWxsCn0KU3BsaXR0ZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkgewogIGlmICh0aGlzLmNhY2hlLmxlbmd0aCkgewogICAgcmV0dXJuIHRoaXMuY2FjaGUKICB9Cn0KZnVuY3Rpb24gdW5wYWQgKGxhc3QpIHsKICB2YXIgcGFkZGVkID0gbGFzdFsxNV0KICB2YXIgaSA9IC0xCiAgd2hpbGUgKCsraSA8IHBhZGRlZCkgewogICAgaWYgKGxhc3RbKGkgKyAoMTYgLSBwYWRkZWQpKV0gIT09IHBhZGRlZCkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VuYWJsZSB0byBkZWNyeXB0IGRhdGEnKQogICAgfQogIH0KICBpZiAocGFkZGVkID09PSAxNikgewogICAgcmV0dXJuCiAgfQogIHJldHVybiBsYXN0LnNsaWNlKDAsIDE2IC0gcGFkZGVkKQp9Cgp2YXIgbW9kZWxpc3QgPSB7CiAgRUNCOiByZXF1aXJlKCcuL21vZGVzL2VjYicpLAogIENCQzogcmVxdWlyZSgnLi9tb2Rlcy9jYmMnKSwKICBDRkI6IHJlcXVpcmUoJy4vbW9kZXMvY2ZiJyksCiAgQ0ZCODogcmVxdWlyZSgnLi9tb2Rlcy9jZmI4JyksCiAgQ0ZCMTogcmVxdWlyZSgnLi9tb2Rlcy9jZmIxJyksCiAgT0ZCOiByZXF1aXJlKCcuL21vZGVzL29mYicpLAogIENUUjogcmVxdWlyZSgnLi9tb2Rlcy9jdHInKSwKICBHQ006IHJlcXVpcmUoJy4vbW9kZXMvY3RyJykKfQoKZnVuY3Rpb24gY3JlYXRlRGVjaXBoZXJpdiAoc3VpdGUsIHBhc3N3b3JkLCBpdikgewogIHZhciBjb25maWcgPSBtb2Rlc1tzdWl0ZS50b0xvd2VyQ2FzZSgpXQogIGlmICghY29uZmlnKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIHN1aXRlIHR5cGUnKQogIH0KICBpZiAodHlwZW9mIGl2ID09PSAnc3RyaW5nJykgewogICAgaXYgPSBuZXcgQnVmZmVyKGl2KQogIH0KICBpZiAodHlwZW9mIHBhc3N3b3JkID09PSAnc3RyaW5nJykgewogICAgcGFzc3dvcmQgPSBuZXcgQnVmZmVyKHBhc3N3b3JkKQogIH0KICBpZiAocGFzc3dvcmQubGVuZ3RoICE9PSBjb25maWcua2V5IC8gOCkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBrZXkgbGVuZ3RoICcgKyBwYXNzd29yZC5sZW5ndGgpCiAgfQogIGlmIChpdi5sZW5ndGggIT09IGNvbmZpZy5pdikgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBpdiBsZW5ndGggJyArIGl2Lmxlbmd0aCkKICB9CiAgaWYgKGNvbmZpZy50eXBlID09PSAnc3RyZWFtJykgewogICAgcmV0dXJuIG5ldyBTdHJlYW1DaXBoZXIobW9kZWxpc3RbY29uZmlnLm1vZGVdLCBwYXNzd29yZCwgaXYsIHRydWUpCiAgfSBlbHNlIGlmIChjb25maWcudHlwZSA9PT0gJ2F1dGgnKSB7CiAgICByZXR1cm4gbmV3IEF1dGhDaXBoZXIobW9kZWxpc3RbY29uZmlnLm1vZGVdLCBwYXNzd29yZCwgaXYsIHRydWUpCiAgfQogIHJldHVybiBuZXcgRGVjaXBoZXIobW9kZWxpc3RbY29uZmlnLm1vZGVdLCBwYXNzd29yZCwgaXYpCn0KCmZ1bmN0aW9uIGNyZWF0ZURlY2lwaGVyIChzdWl0ZSwgcGFzc3dvcmQpIHsKICB2YXIgY29uZmlnID0gbW9kZXNbc3VpdGUudG9Mb3dlckNhc2UoKV0KICBpZiAoIWNvbmZpZykgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBzdWl0ZSB0eXBlJykKICB9CiAgdmFyIGtleXMgPSBlYnRrKHBhc3N3b3JkLCBmYWxzZSwgY29uZmlnLmtleSwgY29uZmlnLml2KQogIHJldHVybiBjcmVhdGVEZWNpcGhlcml2KHN1aXRlLCBrZXlzLmtleSwga2V5cy5pdikKfQpleHBvcnRzLmNyZWF0ZURlY2lwaGVyID0gY3JlYXRlRGVjaXBoZXIKZXhwb3J0cy5jcmVhdGVEZWNpcGhlcml2ID0gY3JlYXRlRGVjaXBoZXJpdgoKfSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcikKfSx7Ii4vYWVzIjo0NSwiLi9hdXRoQ2lwaGVyIjo0NiwiLi9tb2RlcyI6NTEsIi4vbW9kZXMvY2JjIjo1MiwiLi9tb2Rlcy9jZmIiOjUzLCIuL21vZGVzL2NmYjEiOjU0LCIuL21vZGVzL2NmYjgiOjU1LCIuL21vZGVzL2N0ciI6NTYsIi4vbW9kZXMvZWNiIjo1NywiLi9tb2Rlcy9vZmIiOjU4LCIuL3N0cmVhbUNpcGhlciI6NTksImJ1ZmZlciI6NzYsImNpcGhlci1iYXNlIjo3OCwiZXZwX2J5dGVzdG9rZXkiOjExOSwiaW5oZXJpdHMiOjEyOH1dLDQ5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChCdWZmZXIpewp2YXIgYWVzID0gcmVxdWlyZSgnLi9hZXMnKQp2YXIgVHJhbnNmb3JtID0gcmVxdWlyZSgnY2lwaGVyLWJhc2UnKQp2YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpCnZhciBtb2RlcyA9IHJlcXVpcmUoJy4vbW9kZXMnKQp2YXIgZWJ0ayA9IHJlcXVpcmUoJ2V2cF9ieXRlc3Rva2V5JykKdmFyIFN0cmVhbUNpcGhlciA9IHJlcXVpcmUoJy4vc3RyZWFtQ2lwaGVyJykKdmFyIEF1dGhDaXBoZXIgPSByZXF1aXJlKCcuL2F1dGhDaXBoZXInKQppbmhlcml0cyhDaXBoZXIsIFRyYW5zZm9ybSkKZnVuY3Rpb24gQ2lwaGVyIChtb2RlLCBrZXksIGl2KSB7CiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIENpcGhlcikpIHsKICAgIHJldHVybiBuZXcgQ2lwaGVyKG1vZGUsIGtleSwgaXYpCiAgfQogIFRyYW5zZm9ybS5jYWxsKHRoaXMpCiAgdGhpcy5fY2FjaGUgPSBuZXcgU3BsaXR0ZXIoKQogIHRoaXMuX2NpcGhlciA9IG5ldyBhZXMuQUVTKGtleSkKICB0aGlzLl9wcmV2ID0gbmV3IEJ1ZmZlcihpdi5sZW5ndGgpCiAgaXYuY29weSh0aGlzLl9wcmV2KQogIHRoaXMuX21vZGUgPSBtb2RlCiAgdGhpcy5fYXV0b3BhZGRpbmcgPSB0cnVlCn0KQ2lwaGVyLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKGRhdGEpIHsKICB0aGlzLl9jYWNoZS5hZGQoZGF0YSkKICB2YXIgY2h1bmsKICB2YXIgdGhpbmcKICB2YXIgb3V0ID0gW10KICB3aGlsZSAoKGNodW5rID0gdGhpcy5fY2FjaGUuZ2V0KCkpKSB7CiAgICB0aGluZyA9IHRoaXMuX21vZGUuZW5jcnlwdCh0aGlzLCBjaHVuaykKICAgIG91dC5wdXNoKHRoaW5nKQogIH0KICByZXR1cm4gQnVmZmVyLmNvbmNhdChvdXQpCn0KQ2lwaGVyLnByb3RvdHlwZS5fZmluYWwgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIGNodW5rID0gdGhpcy5fY2FjaGUuZmx1c2goKQogIGlmICh0aGlzLl9hdXRvcGFkZGluZykgewogICAgY2h1bmsgPSB0aGlzLl9tb2RlLmVuY3J5cHQodGhpcywgY2h1bmspCiAgICB0aGlzLl9jaXBoZXIuc2NydWIoKQogICAgcmV0dXJuIGNodW5rCiAgfSBlbHNlIGlmIChjaHVuay50b1N0cmluZygnaGV4JykgIT09ICcxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMCcpIHsKICAgIHRoaXMuX2NpcGhlci5zY3J1YigpCiAgICB0aHJvdyBuZXcgRXJyb3IoJ2RhdGEgbm90IG11bHRpcGxlIG9mIGJsb2NrIGxlbmd0aCcpCiAgfQp9CkNpcGhlci5wcm90b3R5cGUuc2V0QXV0b1BhZGRpbmcgPSBmdW5jdGlvbiAoc2V0VG8pIHsKICB0aGlzLl9hdXRvcGFkZGluZyA9ICEhc2V0VG8KICByZXR1cm4gdGhpcwp9CgpmdW5jdGlvbiBTcGxpdHRlciAoKSB7CiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNwbGl0dGVyKSkgewogICAgcmV0dXJuIG5ldyBTcGxpdHRlcigpCiAgfQogIHRoaXMuY2FjaGUgPSBuZXcgQnVmZmVyKCcnKQp9ClNwbGl0dGVyLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZGF0YSkgewogIHRoaXMuY2FjaGUgPSBCdWZmZXIuY29uY2F0KFt0aGlzLmNhY2hlLCBkYXRhXSkKfQoKU3BsaXR0ZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uICgpIHsKICBpZiAodGhpcy5jYWNoZS5sZW5ndGggPiAxNSkgewogICAgdmFyIG91dCA9IHRoaXMuY2FjaGUuc2xpY2UoMCwgMTYpCiAgICB0aGlzLmNhY2hlID0gdGhpcy5jYWNoZS5zbGljZSgxNikKICAgIHJldHVybiBvdXQKICB9CiAgcmV0dXJuIG51bGwKfQpTcGxpdHRlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7CiAgdmFyIGxlbiA9IDE2IC0gdGhpcy5jYWNoZS5sZW5ndGgKICB2YXIgcGFkQnVmZiA9IG5ldyBCdWZmZXIobGVuKQoKICB2YXIgaSA9IC0xCiAgd2hpbGUgKCsraSA8IGxlbikgewogICAgcGFkQnVmZi53cml0ZVVJbnQ4KGxlbiwgaSkKICB9CiAgdmFyIG91dCA9IEJ1ZmZlci5jb25jYXQoW3RoaXMuY2FjaGUsIHBhZEJ1ZmZdKQogIHJldHVybiBvdXQKfQp2YXIgbW9kZWxpc3QgPSB7CiAgRUNCOiByZXF1aXJlKCcuL21vZGVzL2VjYicpLAogIENCQzogcmVxdWlyZSgnLi9tb2Rlcy9jYmMnKSwKICBDRkI6IHJlcXVpcmUoJy4vbW9kZXMvY2ZiJyksCiAgQ0ZCODogcmVxdWlyZSgnLi9tb2Rlcy9jZmI4JyksCiAgQ0ZCMTogcmVxdWlyZSgnLi9tb2Rlcy9jZmIxJyksCiAgT0ZCOiByZXF1aXJlKCcuL21vZGVzL29mYicpLAogIENUUjogcmVxdWlyZSgnLi9tb2Rlcy9jdHInKSwKICBHQ006IHJlcXVpcmUoJy4vbW9kZXMvY3RyJykKfQoKZnVuY3Rpb24gY3JlYXRlQ2lwaGVyaXYgKHN1aXRlLCBwYXNzd29yZCwgaXYpIHsKICB2YXIgY29uZmlnID0gbW9kZXNbc3VpdGUudG9Mb3dlckNhc2UoKV0KICBpZiAoIWNvbmZpZykgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBzdWl0ZSB0eXBlJykKICB9CiAgaWYgKHR5cGVvZiBpdiA9PT0gJ3N0cmluZycpIHsKICAgIGl2ID0gbmV3IEJ1ZmZlcihpdikKICB9CiAgaWYgKHR5cGVvZiBwYXNzd29yZCA9PT0gJ3N0cmluZycpIHsKICAgIHBhc3N3b3JkID0gbmV3IEJ1ZmZlcihwYXNzd29yZCkKICB9CiAgaWYgKHBhc3N3b3JkLmxlbmd0aCAhPT0gY29uZmlnLmtleSAvIDgpIHsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQga2V5IGxlbmd0aCAnICsgcGFzc3dvcmQubGVuZ3RoKQogIH0KICBpZiAoaXYubGVuZ3RoICE9PSBjb25maWcuaXYpIHsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgaXYgbGVuZ3RoICcgKyBpdi5sZW5ndGgpCiAgfQogIGlmIChjb25maWcudHlwZSA9PT0gJ3N0cmVhbScpIHsKICAgIHJldHVybiBuZXcgU3RyZWFtQ2lwaGVyKG1vZGVsaXN0W2NvbmZpZy5tb2RlXSwgcGFzc3dvcmQsIGl2KQogIH0gZWxzZSBpZiAoY29uZmlnLnR5cGUgPT09ICdhdXRoJykgewogICAgcmV0dXJuIG5ldyBBdXRoQ2lwaGVyKG1vZGVsaXN0W2NvbmZpZy5tb2RlXSwgcGFzc3dvcmQsIGl2KQogIH0KICByZXR1cm4gbmV3IENpcGhlcihtb2RlbGlzdFtjb25maWcubW9kZV0sIHBhc3N3b3JkLCBpdikKfQpmdW5jdGlvbiBjcmVhdGVDaXBoZXIgKHN1aXRlLCBwYXNzd29yZCkgewogIHZhciBjb25maWcgPSBtb2Rlc1tzdWl0ZS50b0xvd2VyQ2FzZSgpXQogIGlmICghY29uZmlnKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIHN1aXRlIHR5cGUnKQogIH0KICB2YXIga2V5cyA9IGVidGsocGFzc3dvcmQsIGZhbHNlLCBjb25maWcua2V5LCBjb25maWcuaXYpCiAgcmV0dXJuIGNyZWF0ZUNpcGhlcml2KHN1aXRlLCBrZXlzLmtleSwga2V5cy5pdikKfQoKZXhwb3J0cy5jcmVhdGVDaXBoZXJpdiA9IGNyZWF0ZUNpcGhlcml2CmV4cG9ydHMuY3JlYXRlQ2lwaGVyID0gY3JlYXRlQ2lwaGVyCgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiLi9hZXMiOjQ1LCIuL2F1dGhDaXBoZXIiOjQ2LCIuL21vZGVzIjo1MSwiLi9tb2Rlcy9jYmMiOjUyLCIuL21vZGVzL2NmYiI6NTMsIi4vbW9kZXMvY2ZiMSI6NTQsIi4vbW9kZXMvY2ZiOCI6NTUsIi4vbW9kZXMvY3RyIjo1NiwiLi9tb2Rlcy9lY2IiOjU3LCIuL21vZGVzL29mYiI6NTgsIi4vc3RyZWFtQ2lwaGVyIjo1OSwiYnVmZmVyIjo3NiwiY2lwaGVyLWJhc2UiOjc4LCJldnBfYnl0ZXN0b2tleSI6MTE5LCJpbmhlcml0cyI6MTI4fV0sNTA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7CnZhciB6ZXJvcyA9IG5ldyBCdWZmZXIoMTYpCnplcm9zLmZpbGwoMCkKbW9kdWxlLmV4cG9ydHMgPSBHSEFTSApmdW5jdGlvbiBHSEFTSCAoa2V5KSB7CiAgdGhpcy5oID0ga2V5CiAgdGhpcy5zdGF0ZSA9IG5ldyBCdWZmZXIoMTYpCiAgdGhpcy5zdGF0ZS5maWxsKDApCiAgdGhpcy5jYWNoZSA9IG5ldyBCdWZmZXIoJycpCn0KLy8gZnJvbSBodHRwOi8vYml0d2lzZXNoaWZ0bGVmdC5naXRodWIuaW8vc2pjbC9kb2Mvc3ltYm9scy9zcmMvY29yZV9nY20uanMuaHRtbAovLyBieSBKdWhvIFbDpGjDpC1IZXJ0dHVhCkdIQVNILnByb3RvdHlwZS5naGFzaCA9IGZ1bmN0aW9uIChibG9jaykgewogIHZhciBpID0gLTEKICB3aGlsZSAoKytpIDwgYmxvY2subGVuZ3RoKSB7CiAgICB0aGlzLnN0YXRlW2ldIF49IGJsb2NrW2ldCiAgfQogIHRoaXMuX211bHRpcGx5KCkKfQoKR0hBU0gucHJvdG90eXBlLl9tdWx0aXBseSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgVmkgPSB0b0FycmF5KHRoaXMuaCkKICB2YXIgWmkgPSBbMCwgMCwgMCwgMF0KICB2YXIgaiwgeGksIGxzYl9WaQogIHZhciBpID0gLTEKICB3aGlsZSAoKytpIDwgMTI4KSB7CiAgICB4aSA9ICh0aGlzLnN0YXRlW35+KGkgLyA4KV0gJiAoMSA8PCAoNyAtIGkgJSA4KSkpICE9PSAwCiAgICBpZiAoeGkpIHsKICAgICAgLy8gWl9pKzEgPSBaX2kgXiBWX2kKICAgICAgWmkgPSB4b3IoWmksIFZpKQogICAgfQoKICAgIC8vIFN0b3JlIHRoZSB2YWx1ZSBvZiBMU0IoVl9pKQogICAgbHNiX1ZpID0gKFZpWzNdICYgMSkgIT09IDAKCiAgICAvLyBWX2krMSA9IFZfaSA+PiAxCiAgICBmb3IgKGogPSAzOyBqID4gMDsgai0tKSB7CiAgICAgIFZpW2pdID0gKFZpW2pdID4+PiAxKSB8ICgoVmlbaiAtIDFdICYgMSkgPDwgMzEpCiAgICB9CiAgICBWaVswXSA9IFZpWzBdID4+PiAxCgogICAgLy8gSWYgTFNCKFZfaSkgaXMgMSwgVl9pKzEgPSAoVl9pID4+IDEpIF4gUgogICAgaWYgKGxzYl9WaSkgewogICAgICBWaVswXSA9IFZpWzBdIF4gKDB4ZTEgPDwgMjQpCiAgICB9CiAgfQogIHRoaXMuc3RhdGUgPSBmcm9tQXJyYXkoWmkpCn0KR0hBU0gucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChidWYpIHsKICB0aGlzLmNhY2hlID0gQnVmZmVyLmNvbmNhdChbdGhpcy5jYWNoZSwgYnVmXSkKICB2YXIgY2h1bmsKICB3aGlsZSAodGhpcy5jYWNoZS5sZW5ndGggPj0gMTYpIHsKICAgIGNodW5rID0gdGhpcy5jYWNoZS5zbGljZSgwLCAxNikKICAgIHRoaXMuY2FjaGUgPSB0aGlzLmNhY2hlLnNsaWNlKDE2KQogICAgdGhpcy5naGFzaChjaHVuaykKICB9Cn0KR0hBU0gucHJvdG90eXBlLmZpbmFsID0gZnVuY3Rpb24gKGFibCwgYmwpIHsKICBpZiAodGhpcy5jYWNoZS5sZW5ndGgpIHsKICAgIHRoaXMuZ2hhc2goQnVmZmVyLmNvbmNhdChbdGhpcy5jYWNoZSwgemVyb3NdLCAxNikpCiAgfQogIHRoaXMuZ2hhc2goZnJvbUFycmF5KFsKICAgIDAsIGFibCwKICAgIDAsIGJsCiAgXSkpCiAgcmV0dXJuIHRoaXMuc3RhdGUKfQoKZnVuY3Rpb24gdG9BcnJheSAoYnVmKSB7CiAgcmV0dXJuIFsKICAgIGJ1Zi5yZWFkVUludDMyQkUoMCksCiAgICBidWYucmVhZFVJbnQzMkJFKDQpLAogICAgYnVmLnJlYWRVSW50MzJCRSg4KSwKICAgIGJ1Zi5yZWFkVUludDMyQkUoMTIpCiAgXQp9CmZ1bmN0aW9uIGZyb21BcnJheSAob3V0KSB7CiAgb3V0ID0gb3V0Lm1hcChmaXh1cF91aW50MzIpCiAgdmFyIGJ1ZiA9IG5ldyBCdWZmZXIoMTYpCiAgYnVmLndyaXRlVUludDMyQkUob3V0WzBdLCAwKQogIGJ1Zi53cml0ZVVJbnQzMkJFKG91dFsxXSwgNCkKICBidWYud3JpdGVVSW50MzJCRShvdXRbMl0sIDgpCiAgYnVmLndyaXRlVUludDMyQkUob3V0WzNdLCAxMikKICByZXR1cm4gYnVmCn0KdmFyIHVpbnRfbWF4ID0gTWF0aC5wb3coMiwgMzIpCmZ1bmN0aW9uIGZpeHVwX3VpbnQzMiAoeCkgewogIHZhciByZXQsIHhfcG9zCiAgcmV0ID0geCA+IHVpbnRfbWF4IHx8IHggPCAwID8gKHhfcG9zID0gTWF0aC5hYnMoeCkgJSB1aW50X21heCwgeCA8IDAgPyB1aW50X21heCAtIHhfcG9zIDogeF9wb3MpIDogeAogIHJldHVybiByZXQKfQpmdW5jdGlvbiB4b3IgKGEsIGIpIHsKICByZXR1cm4gWwogICAgYVswXSBeIGJbMF0sCiAgICBhWzFdIF4gYlsxXSwKICAgIGFbMl0gXiBiWzJdLAogICAgYVszXSBeIGJbM10KICBdCn0KCn0pLmNhbGwodGhpcyxyZXF1aXJlKCJidWZmZXIiKS5CdWZmZXIpCn0seyJidWZmZXIiOjc2fV0sNTE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewpleHBvcnRzWydhZXMtMTI4LWVjYiddID0gewogIGNpcGhlcjogJ0FFUycsCiAga2V5OiAxMjgsCiAgaXY6IDAsCiAgbW9kZTogJ0VDQicsCiAgdHlwZTogJ2Jsb2NrJwp9CmV4cG9ydHNbJ2Flcy0xOTItZWNiJ10gPSB7CiAgY2lwaGVyOiAnQUVTJywKICBrZXk6IDE5MiwKICBpdjogMCwKICBtb2RlOiAnRUNCJywKICB0eXBlOiAnYmxvY2snCn0KZXhwb3J0c1snYWVzLTI1Ni1lY2InXSA9IHsKICBjaXBoZXI6ICdBRVMnLAogIGtleTogMjU2LAogIGl2OiAwLAogIG1vZGU6ICdFQ0InLAogIHR5cGU6ICdibG9jaycKfQpleHBvcnRzWydhZXMtMTI4LWNiYyddID0gewogIGNpcGhlcjogJ0FFUycsCiAga2V5OiAxMjgsCiAgaXY6IDE2LAogIG1vZGU6ICdDQkMnLAogIHR5cGU6ICdibG9jaycKfQpleHBvcnRzWydhZXMtMTkyLWNiYyddID0gewogIGNpcGhlcjogJ0FFUycsCiAga2V5OiAxOTIsCiAgaXY6IDE2LAogIG1vZGU6ICdDQkMnLAogIHR5cGU6ICdibG9jaycKfQpleHBvcnRzWydhZXMtMjU2LWNiYyddID0gewogIGNpcGhlcjogJ0FFUycsCiAga2V5OiAyNTYsCiAgaXY6IDE2LAogIG1vZGU6ICdDQkMnLAogIHR5cGU6ICdibG9jaycKfQpleHBvcnRzWydhZXMxMjgnXSA9IGV4cG9ydHNbJ2Flcy0xMjgtY2JjJ10KZXhwb3J0c1snYWVzMTkyJ10gPSBleHBvcnRzWydhZXMtMTkyLWNiYyddCmV4cG9ydHNbJ2FlczI1NiddID0gZXhwb3J0c1snYWVzLTI1Ni1jYmMnXQpleHBvcnRzWydhZXMtMTI4LWNmYiddID0gewogIGNpcGhlcjogJ0FFUycsCiAga2V5OiAxMjgsCiAgaXY6IDE2LAogIG1vZGU6ICdDRkInLAogIHR5cGU6ICdzdHJlYW0nCn0KZXhwb3J0c1snYWVzLTE5Mi1jZmInXSA9IHsKICBjaXBoZXI6ICdBRVMnLAogIGtleTogMTkyLAogIGl2OiAxNiwKICBtb2RlOiAnQ0ZCJywKICB0eXBlOiAnc3RyZWFtJwp9CmV4cG9ydHNbJ2Flcy0yNTYtY2ZiJ10gPSB7CiAgY2lwaGVyOiAnQUVTJywKICBrZXk6IDI1NiwKICBpdjogMTYsCiAgbW9kZTogJ0NGQicsCiAgdHlwZTogJ3N0cmVhbScKfQpleHBvcnRzWydhZXMtMTI4LWNmYjgnXSA9IHsKICBjaXBoZXI6ICdBRVMnLAogIGtleTogMTI4LAogIGl2OiAxNiwKICBtb2RlOiAnQ0ZCOCcsCiAgdHlwZTogJ3N0cmVhbScKfQpleHBvcnRzWydhZXMtMTkyLWNmYjgnXSA9IHsKICBjaXBoZXI6ICdBRVMnLAogIGtleTogMTkyLAogIGl2OiAxNiwKICBtb2RlOiAnQ0ZCOCcsCiAgdHlwZTogJ3N0cmVhbScKfQpleHBvcnRzWydhZXMtMjU2LWNmYjgnXSA9IHsKICBjaXBoZXI6ICdBRVMnLAogIGtleTogMjU2LAogIGl2OiAxNiwKICBtb2RlOiAnQ0ZCOCcsCiAgdHlwZTogJ3N0cmVhbScKfQpleHBvcnRzWydhZXMtMTI4LWNmYjEnXSA9IHsKICBjaXBoZXI6ICdBRVMnLAogIGtleTogMTI4LAogIGl2OiAxNiwKICBtb2RlOiAnQ0ZCMScsCiAgdHlwZTogJ3N0cmVhbScKfQpleHBvcnRzWydhZXMtMTkyLWNmYjEnXSA9IHsKICBjaXBoZXI6ICdBRVMnLAogIGtleTogMTkyLAogIGl2OiAxNiwKICBtb2RlOiAnQ0ZCMScsCiAgdHlwZTogJ3N0cmVhbScKfQpleHBvcnRzWydhZXMtMjU2LWNmYjEnXSA9IHsKICBjaXBoZXI6ICdBRVMnLAogIGtleTogMjU2LAogIGl2OiAxNiwKICBtb2RlOiAnQ0ZCMScsCiAgdHlwZTogJ3N0cmVhbScKfQpleHBvcnRzWydhZXMtMTI4LW9mYiddID0gewogIGNpcGhlcjogJ0FFUycsCiAga2V5OiAxMjgsCiAgaXY6IDE2LAogIG1vZGU6ICdPRkInLAogIHR5cGU6ICdzdHJlYW0nCn0KZXhwb3J0c1snYWVzLTE5Mi1vZmInXSA9IHsKICBjaXBoZXI6ICdBRVMnLAogIGtleTogMTkyLAogIGl2OiAxNiwKICBtb2RlOiAnT0ZCJywKICB0eXBlOiAnc3RyZWFtJwp9CmV4cG9ydHNbJ2Flcy0yNTYtb2ZiJ10gPSB7CiAgY2lwaGVyOiAnQUVTJywKICBrZXk6IDI1NiwKICBpdjogMTYsCiAgbW9kZTogJ09GQicsCiAgdHlwZTogJ3N0cmVhbScKfQpleHBvcnRzWydhZXMtMTI4LWN0ciddID0gewogIGNpcGhlcjogJ0FFUycsCiAga2V5OiAxMjgsCiAgaXY6IDE2LAogIG1vZGU6ICdDVFInLAogIHR5cGU6ICdzdHJlYW0nCn0KZXhwb3J0c1snYWVzLTE5Mi1jdHInXSA9IHsKICBjaXBoZXI6ICdBRVMnLAogIGtleTogMTkyLAogIGl2OiAxNiwKICBtb2RlOiAnQ1RSJywKICB0eXBlOiAnc3RyZWFtJwp9CmV4cG9ydHNbJ2Flcy0yNTYtY3RyJ10gPSB7CiAgY2lwaGVyOiAnQUVTJywKICBrZXk6IDI1NiwKICBpdjogMTYsCiAgbW9kZTogJ0NUUicsCiAgdHlwZTogJ3N0cmVhbScKfQpleHBvcnRzWydhZXMtMTI4LWdjbSddID0gewogIGNpcGhlcjogJ0FFUycsCiAga2V5OiAxMjgsCiAgaXY6IDEyLAogIG1vZGU6ICdHQ00nLAogIHR5cGU6ICdhdXRoJwp9CmV4cG9ydHNbJ2Flcy0xOTItZ2NtJ10gPSB7CiAgY2lwaGVyOiAnQUVTJywKICBrZXk6IDE5MiwKICBpdjogMTIsCiAgbW9kZTogJ0dDTScsCiAgdHlwZTogJ2F1dGgnCn0KZXhwb3J0c1snYWVzLTI1Ni1nY20nXSA9IHsKICBjaXBoZXI6ICdBRVMnLAogIGtleTogMjU2LAogIGl2OiAxMiwKICBtb2RlOiAnR0NNJywKICB0eXBlOiAnYXV0aCcKfQoKfSx7fV0sNTI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewp2YXIgeG9yID0gcmVxdWlyZSgnYnVmZmVyLXhvcicpCgpleHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgYmxvY2spIHsKICB2YXIgZGF0YSA9IHhvcihibG9jaywgc2VsZi5fcHJldikKCiAgc2VsZi5fcHJldiA9IHNlbGYuX2NpcGhlci5lbmNyeXB0QmxvY2soZGF0YSkKICByZXR1cm4gc2VsZi5fcHJldgp9CgpleHBvcnRzLmRlY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgYmxvY2spIHsKICB2YXIgcGFkID0gc2VsZi5fcHJldgoKICBzZWxmLl9wcmV2ID0gYmxvY2sKICB2YXIgb3V0ID0gc2VsZi5fY2lwaGVyLmRlY3J5cHRCbG9jayhibG9jaykKCiAgcmV0dXJuIHhvcihvdXQsIHBhZCkKfQoKfSx7ImJ1ZmZlci14b3IiOjc1fV0sNTM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7CnZhciB4b3IgPSByZXF1aXJlKCdidWZmZXIteG9yJykKCmV4cG9ydHMuZW5jcnlwdCA9IGZ1bmN0aW9uIChzZWxmLCBkYXRhLCBkZWNyeXB0KSB7CiAgdmFyIG91dCA9IG5ldyBCdWZmZXIoJycpCiAgdmFyIGxlbgoKICB3aGlsZSAoZGF0YS5sZW5ndGgpIHsKICAgIGlmIChzZWxmLl9jYWNoZS5sZW5ndGggPT09IDApIHsKICAgICAgc2VsZi5fY2FjaGUgPSBzZWxmLl9jaXBoZXIuZW5jcnlwdEJsb2NrKHNlbGYuX3ByZXYpCiAgICAgIHNlbGYuX3ByZXYgPSBuZXcgQnVmZmVyKCcnKQogICAgfQoKICAgIGlmIChzZWxmLl9jYWNoZS5sZW5ndGggPD0gZGF0YS5sZW5ndGgpIHsKICAgICAgbGVuID0gc2VsZi5fY2FjaGUubGVuZ3RoCiAgICAgIG91dCA9IEJ1ZmZlci5jb25jYXQoW291dCwgZW5jcnlwdFN0YXJ0KHNlbGYsIGRhdGEuc2xpY2UoMCwgbGVuKSwgZGVjcnlwdCldKQogICAgICBkYXRhID0gZGF0YS5zbGljZShsZW4pCiAgICB9IGVsc2UgewogICAgICBvdXQgPSBCdWZmZXIuY29uY2F0KFtvdXQsIGVuY3J5cHRTdGFydChzZWxmLCBkYXRhLCBkZWNyeXB0KV0pCiAgICAgIGJyZWFrCiAgICB9CiAgfQoKICByZXR1cm4gb3V0Cn0KZnVuY3Rpb24gZW5jcnlwdFN0YXJ0IChzZWxmLCBkYXRhLCBkZWNyeXB0KSB7CiAgdmFyIGxlbiA9IGRhdGEubGVuZ3RoCiAgdmFyIG91dCA9IHhvcihkYXRhLCBzZWxmLl9jYWNoZSkKICBzZWxmLl9jYWNoZSA9IHNlbGYuX2NhY2hlLnNsaWNlKGxlbikKICBzZWxmLl9wcmV2ID0gQnVmZmVyLmNvbmNhdChbc2VsZi5fcHJldiwgZGVjcnlwdCA/IGRhdGEgOiBvdXRdKQogIHJldHVybiBvdXQKfQoKfSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcikKfSx7ImJ1ZmZlciI6NzYsImJ1ZmZlci14b3IiOjc1fV0sNTQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7CmZ1bmN0aW9uIGVuY3J5cHRCeXRlIChzZWxmLCBieXRlUGFyYW0sIGRlY3J5cHQpIHsKICB2YXIgcGFkCiAgdmFyIGkgPSAtMQogIHZhciBsZW4gPSA4CiAgdmFyIG91dCA9IDAKICB2YXIgYml0LCB2YWx1ZQogIHdoaWxlICgrK2kgPCBsZW4pIHsKICAgIHBhZCA9IHNlbGYuX2NpcGhlci5lbmNyeXB0QmxvY2soc2VsZi5fcHJldikKICAgIGJpdCA9IChieXRlUGFyYW0gJiAoMSA8PCAoNyAtIGkpKSkgPyAweDgwIDogMAogICAgdmFsdWUgPSBwYWRbMF0gXiBiaXQKICAgIG91dCArPSAoKHZhbHVlICYgMHg4MCkgPj4gKGkgJSA4KSkKICAgIHNlbGYuX3ByZXYgPSBzaGlmdEluKHNlbGYuX3ByZXYsIGRlY3J5cHQgPyBiaXQgOiB2YWx1ZSkKICB9CiAgcmV0dXJuIG91dAp9CmV4cG9ydHMuZW5jcnlwdCA9IGZ1bmN0aW9uIChzZWxmLCBjaHVuaywgZGVjcnlwdCkgewogIHZhciBsZW4gPSBjaHVuay5sZW5ndGgKICB2YXIgb3V0ID0gbmV3IEJ1ZmZlcihsZW4pCiAgdmFyIGkgPSAtMQogIHdoaWxlICgrK2kgPCBsZW4pIHsKICAgIG91dFtpXSA9IGVuY3J5cHRCeXRlKHNlbGYsIGNodW5rW2ldLCBkZWNyeXB0KQogIH0KICByZXR1cm4gb3V0Cn0KZnVuY3Rpb24gc2hpZnRJbiAoYnVmZmVyLCB2YWx1ZSkgewogIHZhciBsZW4gPSBidWZmZXIubGVuZ3RoCiAgdmFyIGkgPSAtMQogIHZhciBvdXQgPSBuZXcgQnVmZmVyKGJ1ZmZlci5sZW5ndGgpCiAgYnVmZmVyID0gQnVmZmVyLmNvbmNhdChbYnVmZmVyLCBuZXcgQnVmZmVyKFt2YWx1ZV0pXSkKICB3aGlsZSAoKytpIDwgbGVuKSB7CiAgICBvdXRbaV0gPSBidWZmZXJbaV0gPDwgMSB8IGJ1ZmZlcltpICsgMV0gPj4gKDcpCiAgfQogIHJldHVybiBvdXQKfQoKfSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcikKfSx7ImJ1ZmZlciI6NzZ9XSw1NTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKZnVuY3Rpb24gZW5jcnlwdEJ5dGUgKHNlbGYsIGJ5dGVQYXJhbSwgZGVjcnlwdCkgewogIHZhciBwYWQgPSBzZWxmLl9jaXBoZXIuZW5jcnlwdEJsb2NrKHNlbGYuX3ByZXYpCiAgdmFyIG91dCA9IHBhZFswXSBeIGJ5dGVQYXJhbQogIHNlbGYuX3ByZXYgPSBCdWZmZXIuY29uY2F0KFtzZWxmLl9wcmV2LnNsaWNlKDEpLCBuZXcgQnVmZmVyKFtkZWNyeXB0ID8gYnl0ZVBhcmFtIDogb3V0XSldKQogIHJldHVybiBvdXQKfQpleHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgY2h1bmssIGRlY3J5cHQpIHsKICB2YXIgbGVuID0gY2h1bmsubGVuZ3RoCiAgdmFyIG91dCA9IG5ldyBCdWZmZXIobGVuKQogIHZhciBpID0gLTEKICB3aGlsZSAoKytpIDwgbGVuKSB7CiAgICBvdXRbaV0gPSBlbmNyeXB0Qnl0ZShzZWxmLCBjaHVua1tpXSwgZGVjcnlwdCkKICB9CiAgcmV0dXJuIG91dAp9Cgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiYnVmZmVyIjo3Nn1dLDU2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChCdWZmZXIpewp2YXIgeG9yID0gcmVxdWlyZSgnYnVmZmVyLXhvcicpCgpmdW5jdGlvbiBpbmNyMzIgKGl2KSB7CiAgdmFyIGxlbiA9IGl2Lmxlbmd0aAogIHZhciBpdGVtCiAgd2hpbGUgKGxlbi0tKSB7CiAgICBpdGVtID0gaXYucmVhZFVJbnQ4KGxlbikKICAgIGlmIChpdGVtID09PSAyNTUpIHsKICAgICAgaXYud3JpdGVVSW50OCgwLCBsZW4pCiAgICB9IGVsc2UgewogICAgICBpdGVtKysKICAgICAgaXYud3JpdGVVSW50OChpdGVtLCBsZW4pCiAgICAgIGJyZWFrCiAgICB9CiAgfQp9CgpmdW5jdGlvbiBnZXRCbG9jayAoc2VsZikgewogIHZhciBvdXQgPSBzZWxmLl9jaXBoZXIuZW5jcnlwdEJsb2NrKHNlbGYuX3ByZXYpCiAgaW5jcjMyKHNlbGYuX3ByZXYpCiAgcmV0dXJuIG91dAp9CgpleHBvcnRzLmVuY3J5cHQgPSBmdW5jdGlvbiAoc2VsZiwgY2h1bmspIHsKICB3aGlsZSAoc2VsZi5fY2FjaGUubGVuZ3RoIDwgY2h1bmsubGVuZ3RoKSB7CiAgICBzZWxmLl9jYWNoZSA9IEJ1ZmZlci5jb25jYXQoW3NlbGYuX2NhY2hlLCBnZXRCbG9jayhzZWxmKV0pCiAgfQogIHZhciBwYWQgPSBzZWxmLl9jYWNoZS5zbGljZSgwLCBjaHVuay5sZW5ndGgpCiAgc2VsZi5fY2FjaGUgPSBzZWxmLl9jYWNoZS5zbGljZShjaHVuay5sZW5ndGgpCiAgcmV0dXJuIHhvcihjaHVuaywgcGFkKQp9Cgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiYnVmZmVyIjo3NiwiYnVmZmVyLXhvciI6NzV9XSw1NzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CmV4cG9ydHMuZW5jcnlwdCA9IGZ1bmN0aW9uIChzZWxmLCBibG9jaykgewogIHJldHVybiBzZWxmLl9jaXBoZXIuZW5jcnlwdEJsb2NrKGJsb2NrKQp9CmV4cG9ydHMuZGVjcnlwdCA9IGZ1bmN0aW9uIChzZWxmLCBibG9jaykgewogIHJldHVybiBzZWxmLl9jaXBoZXIuZGVjcnlwdEJsb2NrKGJsb2NrKQp9Cgp9LHt9XSw1ODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKdmFyIHhvciA9IHJlcXVpcmUoJ2J1ZmZlci14b3InKQoKZnVuY3Rpb24gZ2V0QmxvY2sgKHNlbGYpIHsKICBzZWxmLl9wcmV2ID0gc2VsZi5fY2lwaGVyLmVuY3J5cHRCbG9jayhzZWxmLl9wcmV2KQogIHJldHVybiBzZWxmLl9wcmV2Cn0KCmV4cG9ydHMuZW5jcnlwdCA9IGZ1bmN0aW9uIChzZWxmLCBjaHVuaykgewogIHdoaWxlIChzZWxmLl9jYWNoZS5sZW5ndGggPCBjaHVuay5sZW5ndGgpIHsKICAgIHNlbGYuX2NhY2hlID0gQnVmZmVyLmNvbmNhdChbc2VsZi5fY2FjaGUsIGdldEJsb2NrKHNlbGYpXSkKICB9CgogIHZhciBwYWQgPSBzZWxmLl9jYWNoZS5zbGljZSgwLCBjaHVuay5sZW5ndGgpCiAgc2VsZi5fY2FjaGUgPSBzZWxmLl9jYWNoZS5zbGljZShjaHVuay5sZW5ndGgpCiAgcmV0dXJuIHhvcihjaHVuaywgcGFkKQp9Cgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiYnVmZmVyIjo3NiwiYnVmZmVyLXhvciI6NzV9XSw1OTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKdmFyIGFlcyA9IHJlcXVpcmUoJy4vYWVzJykKdmFyIFRyYW5zZm9ybSA9IHJlcXVpcmUoJ2NpcGhlci1iYXNlJykKdmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKQoKaW5oZXJpdHMoU3RyZWFtQ2lwaGVyLCBUcmFuc2Zvcm0pCm1vZHVsZS5leHBvcnRzID0gU3RyZWFtQ2lwaGVyCmZ1bmN0aW9uIFN0cmVhbUNpcGhlciAobW9kZSwga2V5LCBpdiwgZGVjcnlwdCkgewogIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTdHJlYW1DaXBoZXIpKSB7CiAgICByZXR1cm4gbmV3IFN0cmVhbUNpcGhlcihtb2RlLCBrZXksIGl2KQogIH0KICBUcmFuc2Zvcm0uY2FsbCh0aGlzKQogIHRoaXMuX2NpcGhlciA9IG5ldyBhZXMuQUVTKGtleSkKICB0aGlzLl9wcmV2ID0gbmV3IEJ1ZmZlcihpdi5sZW5ndGgpCiAgdGhpcy5fY2FjaGUgPSBuZXcgQnVmZmVyKCcnKQogIHRoaXMuX3NlY0NhY2hlID0gbmV3IEJ1ZmZlcignJykKICB0aGlzLl9kZWNyeXB0ID0gZGVjcnlwdAogIGl2LmNvcHkodGhpcy5fcHJldikKICB0aGlzLl9tb2RlID0gbW9kZQp9ClN0cmVhbUNpcGhlci5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIChjaHVuaykgewogIHJldHVybiB0aGlzLl9tb2RlLmVuY3J5cHQodGhpcywgY2h1bmssIHRoaXMuX2RlY3J5cHQpCn0KU3RyZWFtQ2lwaGVyLnByb3RvdHlwZS5fZmluYWwgPSBmdW5jdGlvbiAoKSB7CiAgdGhpcy5fY2lwaGVyLnNjcnViKCkKfQoKfSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcikKfSx7Ii4vYWVzIjo0NSwiYnVmZmVyIjo3NiwiY2lwaGVyLWJhc2UiOjc4LCJpbmhlcml0cyI6MTI4fV0sNjA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewp2YXIgZWJ0ayA9IHJlcXVpcmUoJ2V2cF9ieXRlc3Rva2V5JykKdmFyIGFlcyA9IHJlcXVpcmUoJ2Jyb3dzZXJpZnktYWVzL2Jyb3dzZXInKQp2YXIgREVTID0gcmVxdWlyZSgnYnJvd3NlcmlmeS1kZXMnKQp2YXIgZGVzTW9kZXMgPSByZXF1aXJlKCdicm93c2VyaWZ5LWRlcy9tb2RlcycpCnZhciBhZXNNb2RlcyA9IHJlcXVpcmUoJ2Jyb3dzZXJpZnktYWVzL21vZGVzJykKZnVuY3Rpb24gY3JlYXRlQ2lwaGVyIChzdWl0ZSwgcGFzc3dvcmQpIHsKICB2YXIga2V5TGVuLCBpdkxlbgogIHN1aXRlID0gc3VpdGUudG9Mb3dlckNhc2UoKQogIGlmIChhZXNNb2Rlc1tzdWl0ZV0pIHsKICAgIGtleUxlbiA9IGFlc01vZGVzW3N1aXRlXS5rZXkKICAgIGl2TGVuID0gYWVzTW9kZXNbc3VpdGVdLml2CiAgfSBlbHNlIGlmIChkZXNNb2Rlc1tzdWl0ZV0pIHsKICAgIGtleUxlbiA9IGRlc01vZGVzW3N1aXRlXS5rZXkgKiA4CiAgICBpdkxlbiA9IGRlc01vZGVzW3N1aXRlXS5pdgogIH0gZWxzZSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIHN1aXRlIHR5cGUnKQogIH0KICB2YXIga2V5cyA9IGVidGsocGFzc3dvcmQsIGZhbHNlLCBrZXlMZW4sIGl2TGVuKQogIHJldHVybiBjcmVhdGVDaXBoZXJpdihzdWl0ZSwga2V5cy5rZXksIGtleXMuaXYpCn0KZnVuY3Rpb24gY3JlYXRlRGVjaXBoZXIgKHN1aXRlLCBwYXNzd29yZCkgewogIHZhciBrZXlMZW4sIGl2TGVuCiAgc3VpdGUgPSBzdWl0ZS50b0xvd2VyQ2FzZSgpCiAgaWYgKGFlc01vZGVzW3N1aXRlXSkgewogICAga2V5TGVuID0gYWVzTW9kZXNbc3VpdGVdLmtleQogICAgaXZMZW4gPSBhZXNNb2Rlc1tzdWl0ZV0uaXYKICB9IGVsc2UgaWYgKGRlc01vZGVzW3N1aXRlXSkgewogICAga2V5TGVuID0gZGVzTW9kZXNbc3VpdGVdLmtleSAqIDgKICAgIGl2TGVuID0gZGVzTW9kZXNbc3VpdGVdLml2CiAgfSBlbHNlIHsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgc3VpdGUgdHlwZScpCiAgfQogIHZhciBrZXlzID0gZWJ0ayhwYXNzd29yZCwgZmFsc2UsIGtleUxlbiwgaXZMZW4pCiAgcmV0dXJuIGNyZWF0ZURlY2lwaGVyaXYoc3VpdGUsIGtleXMua2V5LCBrZXlzLml2KQp9CgpmdW5jdGlvbiBjcmVhdGVDaXBoZXJpdiAoc3VpdGUsIGtleSwgaXYpIHsKICBzdWl0ZSA9IHN1aXRlLnRvTG93ZXJDYXNlKCkKICBpZiAoYWVzTW9kZXNbc3VpdGVdKSB7CiAgICByZXR1cm4gYWVzLmNyZWF0ZUNpcGhlcml2KHN1aXRlLCBrZXksIGl2KQogIH0gZWxzZSBpZiAoZGVzTW9kZXNbc3VpdGVdKSB7CiAgICByZXR1cm4gbmV3IERFUyh7CiAgICAgIGtleToga2V5LAogICAgICBpdjogaXYsCiAgICAgIG1vZGU6IHN1aXRlCiAgICB9KQogIH0gZWxzZSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpbnZhbGlkIHN1aXRlIHR5cGUnKQogIH0KfQpmdW5jdGlvbiBjcmVhdGVEZWNpcGhlcml2IChzdWl0ZSwga2V5LCBpdikgewogIHN1aXRlID0gc3VpdGUudG9Mb3dlckNhc2UoKQogIGlmIChhZXNNb2Rlc1tzdWl0ZV0pIHsKICAgIHJldHVybiBhZXMuY3JlYXRlRGVjaXBoZXJpdihzdWl0ZSwga2V5LCBpdikKICB9IGVsc2UgaWYgKGRlc01vZGVzW3N1aXRlXSkgewogICAgcmV0dXJuIG5ldyBERVMoewogICAgICBrZXk6IGtleSwKICAgICAgaXY6IGl2LAogICAgICBtb2RlOiBzdWl0ZSwKICAgICAgZGVjcnlwdDogdHJ1ZQogICAgfSkKICB9IGVsc2UgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBzdWl0ZSB0eXBlJykKICB9Cn0KZXhwb3J0cy5jcmVhdGVDaXBoZXIgPSBleHBvcnRzLkNpcGhlciA9IGNyZWF0ZUNpcGhlcgpleHBvcnRzLmNyZWF0ZUNpcGhlcml2ID0gZXhwb3J0cy5DaXBoZXJpdiA9IGNyZWF0ZUNpcGhlcml2CmV4cG9ydHMuY3JlYXRlRGVjaXBoZXIgPSBleHBvcnRzLkRlY2lwaGVyID0gY3JlYXRlRGVjaXBoZXIKZXhwb3J0cy5jcmVhdGVEZWNpcGhlcml2ID0gZXhwb3J0cy5EZWNpcGhlcml2ID0gY3JlYXRlRGVjaXBoZXJpdgpmdW5jdGlvbiBnZXRDaXBoZXJzICgpIHsKICByZXR1cm4gT2JqZWN0LmtleXMoZGVzTW9kZXMpLmNvbmNhdChhZXMuZ2V0Q2lwaGVycygpKQp9CmV4cG9ydHMubGlzdENpcGhlcnMgPSBleHBvcnRzLmdldENpcGhlcnMgPSBnZXRDaXBoZXJzCgp9LHsiYnJvd3NlcmlmeS1hZXMvYnJvd3NlciI6NDcsImJyb3dzZXJpZnktYWVzL21vZGVzIjo1MSwiYnJvd3NlcmlmeS1kZXMiOjYxLCJicm93c2VyaWZ5LWRlcy9tb2RlcyI6NjIsImV2cF9ieXRlc3Rva2V5IjoxMTl9XSw2MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKdmFyIENpcGhlckJhc2UgPSByZXF1aXJlKCdjaXBoZXItYmFzZScpCnZhciBkZXMgPSByZXF1aXJlKCdkZXMuanMnKQp2YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpCgp2YXIgbW9kZXMgPSB7CiAgJ2Rlcy1lZGUzLWNiYyc6IGRlcy5DQkMuaW5zdGFudGlhdGUoZGVzLkVERSksCiAgJ2Rlcy1lZGUzJzogZGVzLkVERSwKICAnZGVzLWVkZS1jYmMnOiBkZXMuQ0JDLmluc3RhbnRpYXRlKGRlcy5FREUpLAogICdkZXMtZWRlJzogZGVzLkVERSwKICAnZGVzLWNiYyc6IGRlcy5DQkMuaW5zdGFudGlhdGUoZGVzLkRFUyksCiAgJ2Rlcy1lY2InOiBkZXMuREVTCn0KbW9kZXMuZGVzID0gbW9kZXNbJ2Rlcy1jYmMnXQptb2Rlcy5kZXMzID0gbW9kZXNbJ2Rlcy1lZGUzLWNiYyddCm1vZHVsZS5leHBvcnRzID0gREVTCmluaGVyaXRzKERFUywgQ2lwaGVyQmFzZSkKZnVuY3Rpb24gREVTIChvcHRzKSB7CiAgQ2lwaGVyQmFzZS5jYWxsKHRoaXMpCiAgdmFyIG1vZGVOYW1lID0gb3B0cy5tb2RlLnRvTG93ZXJDYXNlKCkKICB2YXIgbW9kZSA9IG1vZGVzW21vZGVOYW1lXQogIHZhciB0eXBlCiAgaWYgKG9wdHMuZGVjcnlwdCkgewogICAgdHlwZSA9ICdkZWNyeXB0JwogIH0gZWxzZSB7CiAgICB0eXBlID0gJ2VuY3J5cHQnCiAgfQogIHZhciBrZXkgPSBvcHRzLmtleQogIGlmIChtb2RlTmFtZSA9PT0gJ2Rlcy1lZGUnIHx8IG1vZGVOYW1lID09PSAnZGVzLWVkZS1jYmMnKSB7CiAgICBrZXkgPSBCdWZmZXIuY29uY2F0KFtrZXksIGtleS5zbGljZSgwLCA4KV0pCiAgfQogIHZhciBpdiA9IG9wdHMuaXYKICB0aGlzLl9kZXMgPSBtb2RlLmNyZWF0ZSh7CiAgICBrZXk6IGtleSwKICAgIGl2OiBpdiwKICAgIHR5cGU6IHR5cGUKICB9KQp9CkRFUy5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgcmV0dXJuIG5ldyBCdWZmZXIodGhpcy5fZGVzLnVwZGF0ZShkYXRhKSkKfQpERVMucHJvdG90eXBlLl9maW5hbCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gbmV3IEJ1ZmZlcih0aGlzLl9kZXMuZmluYWwoKSkKfQoKfSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcikKfSx7ImJ1ZmZlciI6NzYsImNpcGhlci1iYXNlIjo3OCwiZGVzLmpzIjo4NiwiaW5oZXJpdHMiOjEyOH1dLDYyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKZXhwb3J0c1snZGVzLWVjYiddID0gewogIGtleTogOCwKICBpdjogMAp9CmV4cG9ydHNbJ2Rlcy1jYmMnXSA9IGV4cG9ydHMuZGVzID0gewogIGtleTogOCwKICBpdjogOAp9CmV4cG9ydHNbJ2Rlcy1lZGUzLWNiYyddID0gZXhwb3J0cy5kZXMzID0gewogIGtleTogMjQsCiAgaXY6IDgKfQpleHBvcnRzWydkZXMtZWRlMyddID0gewogIGtleTogMjQsCiAgaXY6IDAKfQpleHBvcnRzWydkZXMtZWRlLWNiYyddID0gewogIGtleTogMTYsCiAgaXY6IDgKfQpleHBvcnRzWydkZXMtZWRlJ10gPSB7CiAga2V5OiAxNiwKICBpdjogMAp9Cgp9LHt9XSw2MzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKdmFyIGJuID0gcmVxdWlyZSgnYm4uanMnKTsKdmFyIHJhbmRvbUJ5dGVzID0gcmVxdWlyZSgncmFuZG9tYnl0ZXMnKTsKbW9kdWxlLmV4cG9ydHMgPSBjcnQ7CmZ1bmN0aW9uIGJsaW5kKHByaXYpIHsKICB2YXIgciA9IGdldHIocHJpdik7CiAgdmFyIGJsaW5kZXIgPSByLnRvUmVkKGJuLm1vbnQocHJpdi5tb2R1bHVzKSkKICAucmVkUG93KG5ldyBibihwcml2LnB1YmxpY0V4cG9uZW50KSkuZnJvbVJlZCgpOwogIHJldHVybiB7CiAgICBibGluZGVyOiBibGluZGVyLAogICAgdW5ibGluZGVyOnIuaW52bShwcml2Lm1vZHVsdXMpCiAgfTsKfQpmdW5jdGlvbiBjcnQobXNnLCBwcml2KSB7CiAgdmFyIGJsaW5kcyA9IGJsaW5kKHByaXYpOwogIHZhciBsZW4gPSBwcml2Lm1vZHVsdXMuYnl0ZUxlbmd0aCgpOwogIHZhciBtb2QgPSBibi5tb250KHByaXYubW9kdWx1cyk7CiAgdmFyIGJsaW5kZWQgPSBuZXcgYm4obXNnKS5tdWwoYmxpbmRzLmJsaW5kZXIpLnVtb2QocHJpdi5tb2R1bHVzKTsKICB2YXIgYzEgPSBibGluZGVkLnRvUmVkKGJuLm1vbnQocHJpdi5wcmltZTEpKTsKICB2YXIgYzIgPSBibGluZGVkLnRvUmVkKGJuLm1vbnQocHJpdi5wcmltZTIpKTsKICB2YXIgcWludiA9IHByaXYuY29lZmZpY2llbnQ7CiAgdmFyIHAgPSBwcml2LnByaW1lMTsKICB2YXIgcSA9IHByaXYucHJpbWUyOwogIHZhciBtMSA9IGMxLnJlZFBvdyhwcml2LmV4cG9uZW50MSk7CiAgdmFyIG0yID0gYzIucmVkUG93KHByaXYuZXhwb25lbnQyKTsKICBtMSA9IG0xLmZyb21SZWQoKTsKICBtMiA9IG0yLmZyb21SZWQoKTsKICB2YXIgaCA9IG0xLmlzdWIobTIpLmltdWwocWludikudW1vZChwKTsKICBoLmltdWwocSk7CiAgbTIuaWFkZChoKTsKICByZXR1cm4gbmV3IEJ1ZmZlcihtMi5pbXVsKGJsaW5kcy51bmJsaW5kZXIpLnVtb2QocHJpdi5tb2R1bHVzKS50b0FycmF5KGZhbHNlLCBsZW4pKTsKfQpjcnQuZ2V0ciA9IGdldHI7CmZ1bmN0aW9uIGdldHIocHJpdikgewogIHZhciBsZW4gPSBwcml2Lm1vZHVsdXMuYnl0ZUxlbmd0aCgpOwogIHZhciByID0gbmV3IGJuKHJhbmRvbUJ5dGVzKGxlbikpOwogIHdoaWxlIChyLmNtcChwcml2Lm1vZHVsdXMpID49ICAwIHx8ICFyLnVtb2QocHJpdi5wcmltZTEpIHx8ICFyLnVtb2QocHJpdi5wcmltZTIpKSB7CiAgICByID0gbmV3IGJuKHJhbmRvbUJ5dGVzKGxlbikpOwogIH0KICByZXR1cm4gcjsKfQoKfSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcikKfSx7ImJuLmpzIjo0MiwiYnVmZmVyIjo3NiwicmFuZG9tYnl0ZXMiOjE0N31dLDY0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChCdWZmZXIpewondXNlIHN0cmljdCcKZXhwb3J0c1snUlNBLVNIQTIyNCddID0gZXhwb3J0cy5zaGEyMjRXaXRoUlNBRW5jcnlwdGlvbiA9IHsKICBzaWduOiAncnNhJywKICBoYXNoOiAnc2hhMjI0JywKICBpZDogbmV3IEJ1ZmZlcignMzAyZDMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjA0MDUwMDA0MWMnLCAnaGV4JykKfQpleHBvcnRzWydSU0EtU0hBMjU2J10gPSBleHBvcnRzLnNoYTI1NldpdGhSU0FFbmNyeXB0aW9uID0gewogIHNpZ246ICdyc2EnLAogIGhhc2g6ICdzaGEyNTYnLAogIGlkOiBuZXcgQnVmZmVyKCczMDMxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDEwNTAwMDQyMCcsICdoZXgnKQp9CmV4cG9ydHNbJ1JTQS1TSEEzODQnXSA9IGV4cG9ydHMuc2hhMzg0V2l0aFJTQUVuY3J5cHRpb24gPSB7CiAgc2lnbjogJ3JzYScsCiAgaGFzaDogJ3NoYTM4NCcsCiAgaWQ6IG5ldyBCdWZmZXIoJzMwNDEzMDBkMDYwOTYwODY0ODAxNjUwMzA0MDIwMjA1MDAwNDMwJywgJ2hleCcpCn0KZXhwb3J0c1snUlNBLVNIQTUxMiddID0gZXhwb3J0cy5zaGE1MTJXaXRoUlNBRW5jcnlwdGlvbiA9IHsKICBzaWduOiAncnNhJywKICBoYXNoOiAnc2hhNTEyJywKICBpZDogbmV3IEJ1ZmZlcignMzA1MTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAzMDUwMDA0NDAnLCAnaGV4JykKfQpleHBvcnRzWydSU0EtU0hBMSddID0gewogIHNpZ246ICdyc2EnLAogIGhhc2g6ICdzaGExJywKICBpZDogbmV3IEJ1ZmZlcignMzAyMTMwMDkwNjA1MmIwZTAzMDIxYTA1MDAwNDE0JywgJ2hleCcpCn0KZXhwb3J0c1snZWNkc2Etd2l0aC1TSEExJ10gPSB7CiAgc2lnbjogJ2VjZHNhJywKICBoYXNoOiAnc2hhMScsCiAgaWQ6IG5ldyBCdWZmZXIoJycsICdoZXgnKQp9CgpleHBvcnRzLkRTQSA9IGV4cG9ydHNbJ0RTQS1TSEExJ10gPSBleHBvcnRzWydEU0EtU0hBJ10gPSB7CiAgc2lnbjogJ2RzYScsCiAgaGFzaDogJ3NoYTEnLAogIGlkOiBuZXcgQnVmZmVyKCcnLCAnaGV4JykKfQpleHBvcnRzWydEU0EtU0hBMjI0J10gPSBleHBvcnRzWydEU0EtV0lUSC1TSEEyMjQnXSA9IHsKICBzaWduOiAnZHNhJywKICBoYXNoOiAnc2hhMjI0JywKICBpZDogbmV3IEJ1ZmZlcignJywgJ2hleCcpCn0KZXhwb3J0c1snRFNBLVNIQTI1NiddID0gZXhwb3J0c1snRFNBLVdJVEgtU0hBMjU2J10gPSB7CiAgc2lnbjogJ2RzYScsCiAgaGFzaDogJ3NoYTI1NicsCiAgaWQ6IG5ldyBCdWZmZXIoJycsICdoZXgnKQp9CmV4cG9ydHNbJ0RTQS1TSEEzODQnXSA9IGV4cG9ydHNbJ0RTQS1XSVRILVNIQTM4NCddID0gewogIHNpZ246ICdkc2EnLAogIGhhc2g6ICdzaGEzODQnLAogIGlkOiBuZXcgQnVmZmVyKCcnLCAnaGV4JykKfQpleHBvcnRzWydEU0EtU0hBNTEyJ10gPSBleHBvcnRzWydEU0EtV0lUSC1TSEE1MTInXSA9IHsKICBzaWduOiAnZHNhJywKICBoYXNoOiAnc2hhNTEyJywKICBpZDogbmV3IEJ1ZmZlcignJywgJ2hleCcpCn0KZXhwb3J0c1snRFNBLVJJUEVNRDE2MCddID0gewogIHNpZ246ICdkc2EnLAogIGhhc2g6ICdybWQxNjAnLAogIGlkOiBuZXcgQnVmZmVyKCcnLCAnaGV4JykKfQpleHBvcnRzWydSU0EtUklQRU1EMTYwJ10gPSBleHBvcnRzLnJpcGVtZDE2MFdpdGhSU0EgPSB7CiAgc2lnbjogJ3JzYScsCiAgaGFzaDogJ3JtZDE2MCcsCiAgaWQ6IG5ldyBCdWZmZXIoJzMwMjEzMDA5MDYwNTJiMjQwMzAyMDEwNTAwMDQxNCcsICdoZXgnKQp9CmV4cG9ydHNbJ1JTQS1NRDUnXSA9IGV4cG9ydHMubWQ1V2l0aFJTQUVuY3J5cHRpb24gPSB7CiAgc2lnbjogJ3JzYScsCiAgaGFzaDogJ21kNScsCiAgaWQ6IG5ldyBCdWZmZXIoJzMwMjAzMDBjMDYwODJhODY0ODg2ZjcwZDAyMDUwNTAwMDQxMCcsICdoZXgnKQp9Cgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiYnVmZmVyIjo3Nn1dLDY1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChCdWZmZXIpewp2YXIgX2FsZ29zID0gcmVxdWlyZSgnLi9hbGdvcycpCnZhciBjcmVhdGVIYXNoID0gcmVxdWlyZSgnY3JlYXRlLWhhc2gnKQp2YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpCnZhciBzaWduID0gcmVxdWlyZSgnLi9zaWduJykKdmFyIHN0cmVhbSA9IHJlcXVpcmUoJ3N0cmVhbScpCnZhciB2ZXJpZnkgPSByZXF1aXJlKCcuL3ZlcmlmeScpCgp2YXIgYWxnb3MgPSB7fQpPYmplY3Qua2V5cyhfYWxnb3MpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogIGFsZ29zW2tleV0gPSBhbGdvc1trZXkudG9Mb3dlckNhc2UoKV0gPSBfYWxnb3Nba2V5XQp9KQoKZnVuY3Rpb24gU2lnbiAoYWxnb3JpdGhtKSB7CiAgc3RyZWFtLldyaXRhYmxlLmNhbGwodGhpcykKCiAgdmFyIGRhdGEgPSBhbGdvc1thbGdvcml0aG1dCiAgaWYgKCFkYXRhKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gbWVzc2FnZSBkaWdlc3QnKQogIH0KCiAgdGhpcy5faGFzaFR5cGUgPSBkYXRhLmhhc2gKICB0aGlzLl9oYXNoID0gY3JlYXRlSGFzaChkYXRhLmhhc2gpCiAgdGhpcy5fdGFnID0gZGF0YS5pZAogIHRoaXMuX3NpZ25UeXBlID0gZGF0YS5zaWduCn0KaW5oZXJpdHMoU2lnbiwgc3RyZWFtLldyaXRhYmxlKQoKU2lnbi5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gX3dyaXRlIChkYXRhLCBfLCBkb25lKSB7CiAgdGhpcy5faGFzaC51cGRhdGUoZGF0YSkKICBkb25lKCkKfQoKU2lnbi5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChkYXRhLCBlbmMpIHsKICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7CiAgICBkYXRhID0gbmV3IEJ1ZmZlcihkYXRhLCBlbmMpCiAgfQoKICB0aGlzLl9oYXNoLnVwZGF0ZShkYXRhKQogIHJldHVybiB0aGlzCn0KClNpZ24ucHJvdG90eXBlLnNpZ24gPSBmdW5jdGlvbiBzaWduTWV0aG9kIChrZXksIGVuYykgewogIHRoaXMuZW5kKCkKICB2YXIgaGFzaCA9IHRoaXMuX2hhc2guZGlnZXN0KCkKICB2YXIgc2lnID0gc2lnbihCdWZmZXIuY29uY2F0KFt0aGlzLl90YWcsIGhhc2hdKSwga2V5LCB0aGlzLl9oYXNoVHlwZSwgdGhpcy5fc2lnblR5cGUpCgogIHJldHVybiBlbmMgPyBzaWcudG9TdHJpbmcoZW5jKSA6IHNpZwp9CgpmdW5jdGlvbiBWZXJpZnkgKGFsZ29yaXRobSkgewogIHN0cmVhbS5Xcml0YWJsZS5jYWxsKHRoaXMpCgogIHZhciBkYXRhID0gYWxnb3NbYWxnb3JpdGhtXQogIGlmICghZGF0YSkgewogICAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIG1lc3NhZ2UgZGlnZXN0JykKICB9CgogIHRoaXMuX2hhc2ggPSBjcmVhdGVIYXNoKGRhdGEuaGFzaCkKICB0aGlzLl90YWcgPSBkYXRhLmlkCiAgdGhpcy5fc2lnblR5cGUgPSBkYXRhLnNpZ24KfQppbmhlcml0cyhWZXJpZnksIHN0cmVhbS5Xcml0YWJsZSkKClZlcmlmeS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gX3dyaXRlIChkYXRhLCBfLCBkb25lKSB7CiAgdGhpcy5faGFzaC51cGRhdGUoZGF0YSkKCiAgZG9uZSgpCn0KClZlcmlmeS5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlIChkYXRhLCBlbmMpIHsKICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7CiAgICBkYXRhID0gbmV3IEJ1ZmZlcihkYXRhLCBlbmMpCiAgfQoKICB0aGlzLl9oYXNoLnVwZGF0ZShkYXRhKQogIHJldHVybiB0aGlzCn0KClZlcmlmeS5wcm90b3R5cGUudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5TWV0aG9kIChrZXksIHNpZywgZW5jKSB7CiAgaWYgKHR5cGVvZiBzaWcgPT09ICdzdHJpbmcnKSB7CiAgICBzaWcgPSBuZXcgQnVmZmVyKHNpZywgZW5jKQogIH0KCiAgdGhpcy5lbmQoKQogIHZhciBoYXNoID0gdGhpcy5faGFzaC5kaWdlc3QoKQoKICByZXR1cm4gdmVyaWZ5KHNpZywgQnVmZmVyLmNvbmNhdChbdGhpcy5fdGFnLCBoYXNoXSksIGtleSwgdGhpcy5fc2lnblR5cGUpCn0KCmZ1bmN0aW9uIGNyZWF0ZVNpZ24gKGFsZ29yaXRobSkgewogIHJldHVybiBuZXcgU2lnbihhbGdvcml0aG0pCn0KCmZ1bmN0aW9uIGNyZWF0ZVZlcmlmeSAoYWxnb3JpdGhtKSB7CiAgcmV0dXJuIG5ldyBWZXJpZnkoYWxnb3JpdGhtKQp9Cgptb2R1bGUuZXhwb3J0cyA9IHsKICBTaWduOiBjcmVhdGVTaWduLAogIFZlcmlmeTogY3JlYXRlVmVyaWZ5LAogIGNyZWF0ZVNpZ246IGNyZWF0ZVNpZ24sCiAgY3JlYXRlVmVyaWZ5OiBjcmVhdGVWZXJpZnkKfQoKfSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcikKfSx7Ii4vYWxnb3MiOjY0LCIuL3NpZ24iOjY3LCIuL3ZlcmlmeSI6NjgsImJ1ZmZlciI6NzYsImNyZWF0ZS1oYXNoIjo4MSwiaW5oZXJpdHMiOjEyOCwic3RyZWFtIjoxNzB9XSw2NjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JwpleHBvcnRzWycxLjMuMTMyLjAuMTAnXSA9ICdzZWNwMjU2azEnCgpleHBvcnRzWycxLjMuMTMyLjAuMzMnXSA9ICdwMjI0JwoKZXhwb3J0c1snMS4yLjg0MC4xMDA0NS4zLjEuMSddID0gJ3AxOTInCgpleHBvcnRzWycxLjIuODQwLjEwMDQ1LjMuMS43J10gPSAncDI1NicKCmV4cG9ydHNbJzEuMy4xMzIuMC4zNCddID0gJ3AzODQnCgpleHBvcnRzWycxLjMuMTMyLjAuMzUnXSA9ICdwNTIxJwoKfSx7fV0sNjc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7Ci8vIG11Y2ggb2YgdGhpcyBiYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vaW5kdXRueS9zZWxmLXNpZ25lZC9ibG9iL2doLXBhZ2VzL2xpYi9yc2EuanMKdmFyIGNyZWF0ZUhtYWMgPSByZXF1aXJlKCdjcmVhdGUtaG1hYycpCnZhciBjcnQgPSByZXF1aXJlKCdicm93c2VyaWZ5LXJzYScpCnZhciBjdXJ2ZXMgPSByZXF1aXJlKCcuL2N1cnZlcycpCnZhciBlbGxpcHRpYyA9IHJlcXVpcmUoJ2VsbGlwdGljJykKdmFyIHBhcnNlS2V5cyA9IHJlcXVpcmUoJ3BhcnNlLWFzbjEnKQoKdmFyIEJOID0gcmVxdWlyZSgnYm4uanMnKQp2YXIgRUMgPSBlbGxpcHRpYy5lYwoKZnVuY3Rpb24gc2lnbiAoaGFzaCwga2V5LCBoYXNoVHlwZSwgc2lnblR5cGUpIHsKICB2YXIgcHJpdiA9IHBhcnNlS2V5cyhrZXkpCiAgaWYgKHByaXYuY3VydmUpIHsKICAgIGlmIChzaWduVHlwZSAhPT0gJ2VjZHNhJykgdGhyb3cgbmV3IEVycm9yKCd3cm9uZyBwcml2YXRlIGtleSB0eXBlJykKCiAgICByZXR1cm4gZWNTaWduKGhhc2gsIHByaXYpCiAgfSBlbHNlIGlmIChwcml2LnR5cGUgPT09ICdkc2EnKSB7CiAgICBpZiAoc2lnblR5cGUgIT09ICdkc2EnKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignd3JvbmcgcHJpdmF0ZSBrZXkgdHlwZScpCiAgICB9CiAgICByZXR1cm4gZHNhU2lnbihoYXNoLCBwcml2LCBoYXNoVHlwZSkKICB9IGVsc2UgewogICAgaWYgKHNpZ25UeXBlICE9PSAncnNhJykgdGhyb3cgbmV3IEVycm9yKCd3cm9uZyBwcml2YXRlIGtleSB0eXBlJykKICB9CgogIHZhciBsZW4gPSBwcml2Lm1vZHVsdXMuYnl0ZUxlbmd0aCgpCiAgdmFyIHBhZCA9IFsgMCwgMSBdCiAgd2hpbGUgKGhhc2gubGVuZ3RoICsgcGFkLmxlbmd0aCArIDEgPCBsZW4pIHsKICAgIHBhZC5wdXNoKDB4ZmYpCiAgfQogIHBhZC5wdXNoKDB4MDApCiAgdmFyIGkgPSAtMQogIHdoaWxlICgrK2kgPCBoYXNoLmxlbmd0aCkgewogICAgcGFkLnB1c2goaGFzaFtpXSkKICB9CgogIHZhciBvdXQgPSBjcnQocGFkLCBwcml2KQogIHJldHVybiBvdXQKfQoKZnVuY3Rpb24gZWNTaWduIChoYXNoLCBwcml2KSB7CiAgdmFyIGN1cnZlSWQgPSBjdXJ2ZXNbcHJpdi5jdXJ2ZS5qb2luKCcuJyldCiAgaWYgKCFjdXJ2ZUlkKSB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gY3VydmUgJyArIHByaXYuY3VydmUuam9pbignLicpKQoKICB2YXIgY3VydmUgPSBuZXcgRUMoY3VydmVJZCkKICB2YXIga2V5ID0gY3VydmUuZ2VuS2V5UGFpcigpCgogIGtleS5faW1wb3J0UHJpdmF0ZShwcml2LnByaXZhdGVLZXkpCiAgdmFyIG91dCA9IGtleS5zaWduKGhhc2gpCgogIHJldHVybiBuZXcgQnVmZmVyKG91dC50b0RFUigpKQp9CgpmdW5jdGlvbiBkc2FTaWduIChoYXNoLCBwcml2LCBhbGdvKSB7CiAgdmFyIHggPSBwcml2LnBhcmFtcy5wcml2X2tleQogIHZhciBwID0gcHJpdi5wYXJhbXMucAogIHZhciBxID0gcHJpdi5wYXJhbXMucQogIHZhciBnID0gcHJpdi5wYXJhbXMuZwogIHZhciByID0gbmV3IEJOKDApCiAgdmFyIGsKICB2YXIgSCA9IGJpdHMyaW50KGhhc2gsIHEpLm1vZChxKQogIHZhciBzID0gZmFsc2UKICB2YXIga3YgPSBnZXRLZXkoeCwgcSwgaGFzaCwgYWxnbykKICB3aGlsZSAocyA9PT0gZmFsc2UpIHsKICAgIGsgPSBtYWtlS2V5KHEsIGt2LCBhbGdvKQogICAgciA9IG1ha2VSKGcsIGssIHAsIHEpCiAgICBzID0gay5pbnZtKHEpLmltdWwoSC5hZGQoeC5tdWwocikpKS5tb2QocSkKICAgIGlmICghcy5jbXBuKDApKSB7CiAgICAgIHMgPSBmYWxzZQogICAgICByID0gbmV3IEJOKDApCiAgICB9CiAgfQogIHJldHVybiB0b0RFUihyLCBzKQp9CgpmdW5jdGlvbiB0b0RFUiAociwgcykgewogIHIgPSByLnRvQXJyYXkoKQogIHMgPSBzLnRvQXJyYXkoKQoKICAvLyBQYWQgdmFsdWVzCiAgaWYgKHJbMF0gJiAweDgwKSB7CiAgICByID0gWyAwIF0uY29uY2F0KHIpCiAgfQogIC8vIFBhZCB2YWx1ZXMKICBpZiAoc1swXSAmIDB4ODApIHsKICAgIHMgPSBbMF0uY29uY2F0KHMpCiAgfQoKICB2YXIgdG90YWwgPSByLmxlbmd0aCArIHMubGVuZ3RoICsgNAogIHZhciByZXMgPSBbIDB4MzAsIHRvdGFsLCAweDAyLCByLmxlbmd0aCBdCiAgcmVzID0gcmVzLmNvbmNhdChyLCBbIDB4MDIsIHMubGVuZ3RoIF0sIHMpCiAgcmV0dXJuIG5ldyBCdWZmZXIocmVzKQp9CgpmdW5jdGlvbiBnZXRLZXkgKHgsIHEsIGhhc2gsIGFsZ28pIHsKICB4ID0gbmV3IEJ1ZmZlcih4LnRvQXJyYXkoKSkKICBpZiAoeC5sZW5ndGggPCBxLmJ5dGVMZW5ndGgoKSkgewogICAgdmFyIHplcm9zID0gbmV3IEJ1ZmZlcihxLmJ5dGVMZW5ndGgoKSAtIHgubGVuZ3RoKQogICAgemVyb3MuZmlsbCgwKQogICAgeCA9IEJ1ZmZlci5jb25jYXQoW3plcm9zLCB4XSkKICB9CiAgdmFyIGhsZW4gPSBoYXNoLmxlbmd0aAogIHZhciBoYml0cyA9IGJpdHMyb2N0ZXRzKGhhc2gsIHEpCiAgdmFyIHYgPSBuZXcgQnVmZmVyKGhsZW4pCiAgdi5maWxsKDEpCiAgdmFyIGsgPSBuZXcgQnVmZmVyKGhsZW4pCiAgay5maWxsKDApCiAgayA9IGNyZWF0ZUhtYWMoYWxnbywgaykKICAgIC51cGRhdGUodikKICAgIC51cGRhdGUobmV3IEJ1ZmZlcihbMF0pKQogICAgLnVwZGF0ZSh4KQogICAgLnVwZGF0ZShoYml0cykKICAgIC5kaWdlc3QoKQogIHYgPSBjcmVhdGVIbWFjKGFsZ28sIGspCiAgICAudXBkYXRlKHYpCiAgICAuZGlnZXN0KCkKICBrID0gY3JlYXRlSG1hYyhhbGdvLCBrKQogICAgLnVwZGF0ZSh2KQogICAgLnVwZGF0ZShuZXcgQnVmZmVyKFsxXSkpCiAgICAudXBkYXRlKHgpCiAgICAudXBkYXRlKGhiaXRzKQogICAgLmRpZ2VzdCgpCiAgdiA9IGNyZWF0ZUhtYWMoYWxnbywgaykKICAgIC51cGRhdGUodikKICAgIC5kaWdlc3QoKQogIHJldHVybiB7CiAgICBrOiBrLAogICAgdjogdgogIH0KfQoKZnVuY3Rpb24gYml0czJpbnQgKG9iaXRzLCBxKSB7CiAgdmFyIGJpdHMgPSBuZXcgQk4ob2JpdHMpCiAgdmFyIHNoaWZ0ID0gKG9iaXRzLmxlbmd0aCA8PCAzKSAtIHEuYml0TGVuZ3RoKCkKICBpZiAoc2hpZnQgPiAwKSB7CiAgICBiaXRzLmlzaHJuKHNoaWZ0KQogIH0KICByZXR1cm4gYml0cwp9CgpmdW5jdGlvbiBiaXRzMm9jdGV0cyAoYml0cywgcSkgewogIGJpdHMgPSBiaXRzMmludChiaXRzLCBxKQogIGJpdHMgPSBiaXRzLm1vZChxKQogIHZhciBvdXQgPSBuZXcgQnVmZmVyKGJpdHMudG9BcnJheSgpKQogIGlmIChvdXQubGVuZ3RoIDwgcS5ieXRlTGVuZ3RoKCkpIHsKICAgIHZhciB6ZXJvcyA9IG5ldyBCdWZmZXIocS5ieXRlTGVuZ3RoKCkgLSBvdXQubGVuZ3RoKQogICAgemVyb3MuZmlsbCgwKQogICAgb3V0ID0gQnVmZmVyLmNvbmNhdChbemVyb3MsIG91dF0pCiAgfQogIHJldHVybiBvdXQKfQoKZnVuY3Rpb24gbWFrZUtleSAocSwga3YsIGFsZ28pIHsKICB2YXIgdCwgawoKICBkbyB7CiAgICB0ID0gbmV3IEJ1ZmZlcignJykKCiAgICB3aGlsZSAodC5sZW5ndGggKiA4IDwgcS5iaXRMZW5ndGgoKSkgewogICAgICBrdi52ID0gY3JlYXRlSG1hYyhhbGdvLCBrdi5rKQogICAgICAgIC51cGRhdGUoa3YudikKICAgICAgICAuZGlnZXN0KCkKICAgICAgdCA9IEJ1ZmZlci5jb25jYXQoW3QsIGt2LnZdKQogICAgfQoKICAgIGsgPSBiaXRzMmludCh0LCBxKQogICAga3YuayA9IGNyZWF0ZUhtYWMoYWxnbywga3YuaykKICAgICAgLnVwZGF0ZShrdi52KQogICAgICAudXBkYXRlKG5ldyBCdWZmZXIoWzBdKSkKICAgICAgLmRpZ2VzdCgpCiAgICBrdi52ID0gY3JlYXRlSG1hYyhhbGdvLCBrdi5rKQogICAgICAudXBkYXRlKGt2LnYpCiAgICAgIC5kaWdlc3QoKQogIH0gd2hpbGUgKGsuY21wKHEpICE9PSAtMSkKCiAgcmV0dXJuIGsKfQoKZnVuY3Rpb24gbWFrZVIgKGcsIGssIHAsIHEpIHsKICByZXR1cm4gZy50b1JlZChCTi5tb250KHApKS5yZWRQb3coaykuZnJvbVJlZCgpLm1vZChxKQp9Cgptb2R1bGUuZXhwb3J0cyA9IHNpZ24KbW9kdWxlLmV4cG9ydHMuZ2V0S2V5ID0gZ2V0S2V5Cm1vZHVsZS5leHBvcnRzLm1ha2VLZXkgPSBtYWtlS2V5Cgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiLi9jdXJ2ZXMiOjY2LCJibi5qcyI6NDIsImJyb3dzZXJpZnktcnNhIjo2MywiYnVmZmVyIjo3NiwiY3JlYXRlLWhtYWMiOjg0LCJlbGxpcHRpYyI6MTAxLCJwYXJzZS1hc24xIjoxMzd9XSw2ODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKLy8gbXVjaCBvZiB0aGlzIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9pbmR1dG55L3NlbGYtc2lnbmVkL2Jsb2IvZ2gtcGFnZXMvbGliL3JzYS5qcwp2YXIgY3VydmVzID0gcmVxdWlyZSgnLi9jdXJ2ZXMnKQp2YXIgZWxsaXB0aWMgPSByZXF1aXJlKCdlbGxpcHRpYycpCnZhciBwYXJzZUtleXMgPSByZXF1aXJlKCdwYXJzZS1hc24xJykKCnZhciBCTiA9IHJlcXVpcmUoJ2JuLmpzJykKdmFyIEVDID0gZWxsaXB0aWMuZWMKCmZ1bmN0aW9uIHZlcmlmeSAoc2lnLCBoYXNoLCBrZXksIHNpZ25UeXBlKSB7CiAgdmFyIHB1YiA9IHBhcnNlS2V5cyhrZXkpCiAgaWYgKHB1Yi50eXBlID09PSAnZWMnKSB7CiAgICBpZiAoc2lnblR5cGUgIT09ICdlY2RzYScpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCd3cm9uZyBwdWJsaWMga2V5IHR5cGUnKQogICAgfQogICAgcmV0dXJuIGVjVmVyaWZ5KHNpZywgaGFzaCwgcHViKQogIH0gZWxzZSBpZiAocHViLnR5cGUgPT09ICdkc2EnKSB7CiAgICBpZiAoc2lnblR5cGUgIT09ICdkc2EnKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignd3JvbmcgcHVibGljIGtleSB0eXBlJykKICAgIH0KICAgIHJldHVybiBkc2FWZXJpZnkoc2lnLCBoYXNoLCBwdWIpCiAgfSBlbHNlIHsKICAgIGlmIChzaWduVHlwZSAhPT0gJ3JzYScpIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCd3cm9uZyBwdWJsaWMga2V5IHR5cGUnKQogICAgfQogIH0KICB2YXIgbGVuID0gcHViLm1vZHVsdXMuYnl0ZUxlbmd0aCgpCiAgdmFyIHBhZCA9IFsgMSBdCiAgdmFyIHBhZE51bSA9IDAKICB3aGlsZSAoaGFzaC5sZW5ndGggKyBwYWQubGVuZ3RoICsgMiA8IGxlbikgewogICAgcGFkLnB1c2goMHhmZikKICAgIHBhZE51bSsrCiAgfQogIHBhZC5wdXNoKDB4MDApCiAgdmFyIGkgPSAtMQogIHdoaWxlICgrK2kgPCBoYXNoLmxlbmd0aCkgewogICAgcGFkLnB1c2goaGFzaFtpXSkKICB9CiAgcGFkID0gbmV3IEJ1ZmZlcihwYWQpCiAgdmFyIHJlZCA9IEJOLm1vbnQocHViLm1vZHVsdXMpCiAgc2lnID0gbmV3IEJOKHNpZykudG9SZWQocmVkKQoKICBzaWcgPSBzaWcucmVkUG93KG5ldyBCTihwdWIucHVibGljRXhwb25lbnQpKQoKICBzaWcgPSBuZXcgQnVmZmVyKHNpZy5mcm9tUmVkKCkudG9BcnJheSgpKQogIHZhciBvdXQgPSAwCiAgaWYgKHBhZE51bSA8IDgpIHsKICAgIG91dCA9IDEKICB9CiAgbGVuID0gTWF0aC5taW4oc2lnLmxlbmd0aCwgcGFkLmxlbmd0aCkKICBpZiAoc2lnLmxlbmd0aCAhPT0gcGFkLmxlbmd0aCkgewogICAgb3V0ID0gMQogIH0KCiAgaSA9IC0xCiAgd2hpbGUgKCsraSA8IGxlbikgewogICAgb3V0IHw9IChzaWdbaV0gXiBwYWRbaV0pCiAgfQogIHJldHVybiBvdXQgPT09IDAKfQoKZnVuY3Rpb24gZWNWZXJpZnkgKHNpZywgaGFzaCwgcHViKSB7CiAgdmFyIGN1cnZlSWQgPSBjdXJ2ZXNbcHViLmRhdGEuYWxnb3JpdGhtLmN1cnZlLmpvaW4oJy4nKV0KICBpZiAoIWN1cnZlSWQpIHRocm93IG5ldyBFcnJvcigndW5rbm93biBjdXJ2ZSAnICsgcHViLmRhdGEuYWxnb3JpdGhtLmN1cnZlLmpvaW4oJy4nKSkKCiAgdmFyIGN1cnZlID0gbmV3IEVDKGN1cnZlSWQpCiAgdmFyIHB1YmtleSA9IHB1Yi5kYXRhLnN1YmplY3RQcml2YXRlS2V5LmRhdGEKCiAgcmV0dXJuIGN1cnZlLnZlcmlmeShoYXNoLCBzaWcsIHB1YmtleSkKfQoKZnVuY3Rpb24gZHNhVmVyaWZ5IChzaWcsIGhhc2gsIHB1YikgewogIHZhciBwID0gcHViLmRhdGEucAogIHZhciBxID0gcHViLmRhdGEucQogIHZhciBnID0gcHViLmRhdGEuZwogIHZhciB5ID0gcHViLmRhdGEucHViX2tleQogIHZhciB1bnBhY2tlZCA9IHBhcnNlS2V5cy5zaWduYXR1cmUuZGVjb2RlKHNpZywgJ2RlcicpCiAgdmFyIHMgPSB1bnBhY2tlZC5zCiAgdmFyIHIgPSB1bnBhY2tlZC5yCiAgY2hlY2tWYWx1ZShzLCBxKQogIGNoZWNrVmFsdWUociwgcSkKICB2YXIgbW9udHAgPSBCTi5tb250KHApCiAgdmFyIHcgPSBzLmludm0ocSkKICB2YXIgdiA9IGcudG9SZWQobW9udHApCiAgICAucmVkUG93KG5ldyBCTihoYXNoKS5tdWwodykubW9kKHEpKQogICAgLmZyb21SZWQoKQogICAgLm11bCgKICAgICAgeS50b1JlZChtb250cCkKICAgICAgICAucmVkUG93KHIubXVsKHcpLm1vZChxKSkKICAgICAgICAuZnJvbVJlZCgpCiAgKS5tb2QocCkubW9kKHEpCiAgcmV0dXJuICF2LmNtcChyKQp9CgpmdW5jdGlvbiBjaGVja1ZhbHVlIChiLCBxKSB7CiAgaWYgKGIuY21wbigwKSA8PSAwKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgc2lnJykKICB9CiAgaWYgKGIuY21wKHEpID49IHEpIHsKICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBzaWcnKQogIH0KfQoKbW9kdWxlLmV4cG9ydHMgPSB2ZXJpZnkKCn0pLmNhbGwodGhpcyxyZXF1aXJlKCJidWZmZXIiKS5CdWZmZXIpCn0seyIuL2N1cnZlcyI6NjYsImJuLmpzIjo0MiwiYnVmZmVyIjo3NiwiZWxsaXB0aWMiOjEwMSwicGFyc2UtYXNuMSI6MTM3fV0sNjk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewphcmd1bWVudHNbNF1bNDRdWzBdLmFwcGx5KGV4cG9ydHMsYXJndW1lbnRzKQp9LHsiZHVwIjo0NH1dLDcwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKLy8gQmFzZTU4IGVuY29kaW5nL2RlY29kaW5nCi8vIE9yaWdpbmFsbHkgd3JpdHRlbiBieSBNaWtlIEhlYXJuIGZvciBCaXRjb2luSgovLyBDb3B5cmlnaHQgKGMpIDIwMTEgR29vZ2xlIEluYwovLyBQb3J0ZWQgdG8gSmF2YVNjcmlwdCBieSBTdGVmYW4gVGhvbWFzCi8vIE1lcmdlZCBCdWZmZXIgcmVmYWN0b3JpbmdzIGZyb20gYmFzZTU4LW5hdGl2ZSBieSBTdGVwaGVuIFBhaXIKLy8gQ29weXJpZ2h0IChjKSAyMDEzIEJpdFBheSBJbmMKCnZhciBBTFBIQUJFVCA9ICcxMjM0NTY3ODlBQkNERUZHSEpLTE1OUFFSU1RVVldYWVphYmNkZWZnaGlqa21ub3BxcnN0dXZ3eHl6Jwp2YXIgQUxQSEFCRVRfTUFQID0ge30KZm9yKHZhciBpID0gMDsgaSA8IEFMUEhBQkVULmxlbmd0aDsgaSsrKSB7CiAgQUxQSEFCRVRfTUFQW0FMUEhBQkVULmNoYXJBdChpKV0gPSBpCn0KdmFyIEJBU0UgPSA1OAoKZnVuY3Rpb24gZW5jb2RlKGJ1ZmZlcikgewogIGlmIChidWZmZXIubGVuZ3RoID09PSAwKSByZXR1cm4gJycKCiAgdmFyIGksIGosIGRpZ2l0cyA9IFswXQogIGZvciAoaSA9IDA7IGkgPCBidWZmZXIubGVuZ3RoOyBpKyspIHsKICAgIGZvciAoaiA9IDA7IGogPCBkaWdpdHMubGVuZ3RoOyBqKyspIGRpZ2l0c1tqXSA8PD0gOAoKICAgIGRpZ2l0c1swXSArPSBidWZmZXJbaV0KCiAgICB2YXIgY2FycnkgPSAwCiAgICBmb3IgKGogPSAwOyBqIDwgZGlnaXRzLmxlbmd0aDsgKytqKSB7CiAgICAgIGRpZ2l0c1tqXSArPSBjYXJyeQoKICAgICAgY2FycnkgPSAoZGlnaXRzW2pdIC8gQkFTRSkgfCAwCiAgICAgIGRpZ2l0c1tqXSAlPSBCQVNFCiAgICB9CgogICAgd2hpbGUgKGNhcnJ5KSB7CiAgICAgIGRpZ2l0cy5wdXNoKGNhcnJ5ICUgQkFTRSkKCiAgICAgIGNhcnJ5ID0gKGNhcnJ5IC8gQkFTRSkgfCAwCiAgICB9CiAgfQoKICAvLyBkZWFsIHdpdGggbGVhZGluZyB6ZXJvcwogIGZvciAoaSA9IDA7IGJ1ZmZlcltpXSA9PT0gMCAmJiBpIDwgYnVmZmVyLmxlbmd0aCAtIDE7IGkrKykgZGlnaXRzLnB1c2goMCkKCiAgLy8gY29udmVydCBkaWdpdHMgdG8gYSBzdHJpbmcKICB2YXIgc3RyaW5nT3V0cHV0ID0gIiIKICBmb3IgKHZhciBpID0gZGlnaXRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICBzdHJpbmdPdXRwdXQgPSBzdHJpbmdPdXRwdXQgKyBBTFBIQUJFVFtkaWdpdHNbaV1dCiAgfQogIHJldHVybiBzdHJpbmdPdXRwdXQKfQoKZnVuY3Rpb24gZGVjb2RlKHN0cmluZykgewogIGlmIChzdHJpbmcubGVuZ3RoID09PSAwKSByZXR1cm4gW10KCiAgdmFyIGksIGosIGJ5dGVzID0gWzBdCiAgZm9yIChpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7IGkrKykgewogICAgdmFyIGMgPSBzdHJpbmdbaV0KICAgIGlmICghKGMgaW4gQUxQSEFCRVRfTUFQKSkgdGhyb3cgbmV3IEVycm9yKCdOb24tYmFzZTU4IGNoYXJhY3RlcicpCgogICAgZm9yIChqID0gMDsgaiA8IGJ5dGVzLmxlbmd0aDsgaisrKSBieXRlc1tqXSAqPSBCQVNFCiAgICBieXRlc1swXSArPSBBTFBIQUJFVF9NQVBbY10KCiAgICB2YXIgY2FycnkgPSAwCiAgICBmb3IgKGogPSAwOyBqIDwgYnl0ZXMubGVuZ3RoOyArK2opIHsKICAgICAgYnl0ZXNbal0gKz0gY2FycnkKCiAgICAgIGNhcnJ5ID0gYnl0ZXNbal0gPj4gOAogICAgICBieXRlc1tqXSAmPSAweGZmCiAgICB9CgogICAgd2hpbGUgKGNhcnJ5KSB7CiAgICAgIGJ5dGVzLnB1c2goY2FycnkgJiAweGZmKQoKICAgICAgY2FycnkgPj49IDgKICAgIH0KICB9CgogIC8vIGRlYWwgd2l0aCBsZWFkaW5nIHplcm9zCiAgZm9yIChpID0gMDsgc3RyaW5nW2ldID09PSAnMScgJiYgaSA8IHN0cmluZy5sZW5ndGggLSAxOyBpKyspIGJ5dGVzLnB1c2goMCkKCiAgcmV0dXJuIGJ5dGVzLnJldmVyc2UoKQp9Cgptb2R1bGUuZXhwb3J0cyA9IHsKICBlbmNvZGU6IGVuY29kZSwKICBkZWNvZGU6IGRlY29kZQp9Cgp9LHt9XSw3MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKJ3VzZSBzdHJpY3QnCgp2YXIgYmFzZTU4ID0gcmVxdWlyZSgnYnM1OCcpCnZhciBjcmVhdGVIYXNoID0gcmVxdWlyZSgnY3JlYXRlLWhhc2gnKQoKLy8gU0hBMjU2KFNIQTI1NihidWZmZXIpKQpmdW5jdGlvbiBzaGEyNTZ4MiAoYnVmZmVyKSB7CiAgdmFyIHRtcCA9IGNyZWF0ZUhhc2goJ3NoYTI1NicpLnVwZGF0ZShidWZmZXIpLmRpZ2VzdCgpCiAgcmV0dXJuIGNyZWF0ZUhhc2goJ3NoYTI1NicpLnVwZGF0ZSh0bXApLmRpZ2VzdCgpCn0KCi8vIEVuY29kZSBhIGJ1ZmZlciBhcyBhIGJhc2U1OC1jaGVjayBlbmNvZGVkIHN0cmluZwpmdW5jdGlvbiBlbmNvZGUgKHBheWxvYWQpIHsKICB2YXIgY2hlY2tzdW0gPSBzaGEyNTZ4MihwYXlsb2FkKQoKICByZXR1cm4gYmFzZTU4LmVuY29kZShCdWZmZXIuY29uY2F0KFsKICAgIHBheWxvYWQsCiAgICBjaGVja3N1bQogIF0sIHBheWxvYWQubGVuZ3RoICsgNCkpCn0KCi8vIERlY29kZSBhIGJhc2U1OC1jaGVjayBlbmNvZGVkIHN0cmluZyB0byBhIGJ1ZmZlcgpmdW5jdGlvbiBkZWNvZGUgKHN0cmluZykgewogIHZhciBidWZmZXIgPSBuZXcgQnVmZmVyKGJhc2U1OC5kZWNvZGUoc3RyaW5nKSkKCiAgdmFyIHBheWxvYWQgPSBidWZmZXIuc2xpY2UoMCwgLTQpCiAgdmFyIGNoZWNrc3VtID0gYnVmZmVyLnNsaWNlKC00KQogIHZhciBuZXdDaGVja3N1bSA9IHNoYTI1NngyKHBheWxvYWQpCgogIGlmIChjaGVja3N1bVswXSBeIG5ld0NoZWNrc3VtWzBdIHwKICAgICAgY2hlY2tzdW1bMV0gXiBuZXdDaGVja3N1bVsxXSB8CiAgICAgIGNoZWNrc3VtWzJdIF4gbmV3Q2hlY2tzdW1bMl0gfAogICAgICBjaGVja3N1bVszXSBeIG5ld0NoZWNrc3VtWzNdKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY2hlY2tzdW0nKQoKICByZXR1cm4gcGF5bG9hZAp9Cgptb2R1bGUuZXhwb3J0cyA9IHsKICBlbmNvZGU6IGVuY29kZSwKICBkZWNvZGU6IGRlY29kZQp9Cgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiYnM1OCI6NzAsImJ1ZmZlciI6NzYsImNyZWF0ZS1oYXNoIjo4MX1dLDcyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihhLCBiKSB7CiAgaWYgKHR5cGVvZiBhLmNvbXBhcmUgPT09ICdmdW5jdGlvbicpIHJldHVybiBhLmNvbXBhcmUoYikKICBpZiAoYSA9PT0gYikgcmV0dXJuIDAKCiAgdmFyIHggPSBhLmxlbmd0aAogIHZhciB5ID0gYi5sZW5ndGgKCiAgdmFyIGkgPSAwCiAgdmFyIGxlbiA9IE1hdGgubWluKHgsIHkpCiAgd2hpbGUgKGkgPCBsZW4pIHsKICAgIGlmIChhW2ldICE9PSBiW2ldKSBicmVhawoKICAgICsraQogIH0KCiAgaWYgKGkgIT09IGxlbikgewogICAgeCA9IGFbaV0KICAgIHkgPSBiW2ldCiAgfQoKICBpZiAoeCA8IHkpIHJldHVybiAtMQogIGlmICh5IDwgeCkgcmV0dXJuIDEKICByZXR1cm4gMAp9CgoKfSx7fV0sNzM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7Cid1c2Ugc3RyaWN0JzsKbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYSwgYikgewoJaWYgKCFCdWZmZXIuaXNCdWZmZXIoYSkgfHwgIUJ1ZmZlci5pc0J1ZmZlcihiKSkgewoJCXRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnMnKTsKCX0KCglpZiAoYSA9PT0gYikgewoJCXJldHVybiB0cnVlOwoJfQoKCWlmICh0eXBlb2YgYS5lcXVhbHMgPT09ICdmdW5jdGlvbicpIHsKCQlyZXR1cm4gYS5lcXVhbHMoYik7Cgl9CgoJaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkgewoJCXJldHVybiBmYWxzZTsKCX0KCglmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHsKCQlpZiAoYVtpXSAhPT0gYltpXSkgewoJCQlyZXR1cm4gZmFsc2U7CgkJfQoJfQoKCXJldHVybiB0cnVlOwp9OwoKfSkuY2FsbCh0aGlzLHsiaXNCdWZmZXIiOnJlcXVpcmUoIi4uL2lzLWJ1ZmZlci9pbmRleC5qcyIpfSkKfSx7Ii4uL2lzLWJ1ZmZlci9pbmRleC5qcyI6MTI5fV0sNzQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7Cm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcmV2ZXJzZSAoYSkgewogIHZhciBsZW5ndGggPSBhLmxlbmd0aAogIHZhciBidWZmZXIgPSBuZXcgQnVmZmVyKGxlbmd0aCkKCiAgZm9yICh2YXIgaSA9IDAsIGogPSBsZW5ndGggLSAxOyBpIDwgbGVuZ3RoOyArK2ksIC0taikgewogICAgYnVmZmVyW2ldID0gYVtqXQogIH0KCiAgcmV0dXJuIGJ1ZmZlcgp9Cgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiYnVmZmVyIjo3Nn1dLDc1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChCdWZmZXIpewptb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHhvciAoYSwgYikgewogIHZhciBsZW5ndGggPSBNYXRoLm1pbihhLmxlbmd0aCwgYi5sZW5ndGgpCiAgdmFyIGJ1ZmZlciA9IG5ldyBCdWZmZXIobGVuZ3RoKQoKICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgKytpKSB7CiAgICBidWZmZXJbaV0gPSBhW2ldIF4gYltpXQogIH0KCiAgcmV0dXJuIGJ1ZmZlcgp9Cgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiYnVmZmVyIjo3Nn1dLDc2OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKiEKICogVGhlIGJ1ZmZlciBtb2R1bGUgZnJvbSBub2RlLmpzLCBmb3IgdGhlIGJyb3dzZXIuCiAqCiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxmZXJvc3NAZmVyb3NzLm9yZz4gPGh0dHA6Ly9mZXJvc3Mub3JnPgogKiBAbGljZW5zZSAgTUlUCiAqLwovKiBlc2xpbnQtZGlzYWJsZSBuby1wcm90byAqLwoKJ3VzZSBzdHJpY3QnCgp2YXIgYmFzZTY0ID0gcmVxdWlyZSgnYmFzZTY0LWpzJykKdmFyIGllZWU3NTQgPSByZXF1aXJlKCdpZWVlNzU0JykKdmFyIGlzQXJyYXkgPSByZXF1aXJlKCdpc2FycmF5JykKCmV4cG9ydHMuQnVmZmVyID0gQnVmZmVyCmV4cG9ydHMuU2xvd0J1ZmZlciA9IFNsb3dCdWZmZXIKZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUyA9IDUwCkJ1ZmZlci5wb29sU2l6ZSA9IDgxOTIgLy8gbm90IHVzZWQgYnkgdGhpcyBpbXBsZW1lbnRhdGlvbgoKdmFyIHJvb3RQYXJlbnQgPSB7fQoKLyoqCiAqIElmIGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGA6CiAqICAgPT09IHRydWUgICAgVXNlIFVpbnQ4QXJyYXkgaW1wbGVtZW50YXRpb24gKGZhc3Rlc3QpCiAqICAgPT09IGZhbHNlICAgVXNlIE9iamVjdCBpbXBsZW1lbnRhdGlvbiAobW9zdCBjb21wYXRpYmxlLCBldmVuIElFNikKICoKICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHR5cGVkIGFycmF5cyBhcmUgSUUgMTArLCBGaXJlZm94IDQrLCBDaHJvbWUgNyssIFNhZmFyaSA1LjErLAogKiBPcGVyYSAxMS42KywgaU9TIDQuMisuCiAqCiAqIER1ZSB0byB2YXJpb3VzIGJyb3dzZXIgYnVncywgc29tZXRpbWVzIHRoZSBPYmplY3QgaW1wbGVtZW50YXRpb24gd2lsbCBiZSB1c2VkIGV2ZW4KICogd2hlbiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0eXBlZCBhcnJheXMuCiAqCiAqIE5vdGU6CiAqCiAqICAgLSBGaXJlZm94IDQtMjkgbGFja3Mgc3VwcG9ydCBmb3IgYWRkaW5nIG5ldyBwcm9wZXJ0aWVzIHRvIGBVaW50OEFycmF5YCBpbnN0YW5jZXMsCiAqICAgICBTZWU6IGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTY5NTQzOC4KICoKICogICAtIENocm9tZSA5LTEwIGlzIG1pc3NpbmcgdGhlIGBUeXBlZEFycmF5LnByb3RvdHlwZS5zdWJhcnJheWAgZnVuY3Rpb24uCiAqCiAqICAgLSBJRTEwIGhhcyBhIGJyb2tlbiBgVHlwZWRBcnJheS5wcm90b3R5cGUuc3ViYXJyYXlgIGZ1bmN0aW9uIHdoaWNoIHJldHVybnMgYXJyYXlzIG9mCiAqICAgICBpbmNvcnJlY3QgbGVuZ3RoIGluIHNvbWUgc2l0dWF0aW9ucy4KCiAqIFdlIGRldGVjdCB0aGVzZSBidWdneSBicm93c2VycyBhbmQgc2V0IGBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVGAgdG8gYGZhbHNlYCBzbyB0aGV5CiAqIGdldCB0aGUgT2JqZWN0IGltcGxlbWVudGF0aW9uLCB3aGljaCBpcyBzbG93ZXIgYnV0IGJlaGF2ZXMgY29ycmVjdGx5LgogKi8KQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVCAhPT0gdW5kZWZpbmVkCiAgPyBnbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVAogIDogdHlwZWRBcnJheVN1cHBvcnQoKQoKZnVuY3Rpb24gdHlwZWRBcnJheVN1cHBvcnQgKCkgewogIHRyeSB7CiAgICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMSkKICAgIGFyci5mb28gPSBmdW5jdGlvbiAoKSB7IHJldHVybiA0MiB9CiAgICByZXR1cm4gYXJyLmZvbygpID09PSA0MiAmJiAvLyB0eXBlZCBhcnJheSBpbnN0YW5jZXMgY2FuIGJlIGF1Z21lbnRlZAogICAgICAgIHR5cGVvZiBhcnIuc3ViYXJyYXkgPT09ICdmdW5jdGlvbicgJiYgLy8gY2hyb21lIDktMTAgbGFjayBgc3ViYXJyYXlgCiAgICAgICAgYXJyLnN1YmFycmF5KDEsIDEpLmJ5dGVMZW5ndGggPT09IDAgLy8gaWUxMCBoYXMgYnJva2VuIGBzdWJhcnJheWAKICB9IGNhdGNoIChlKSB7CiAgICByZXR1cm4gZmFsc2UKICB9Cn0KCmZ1bmN0aW9uIGtNYXhMZW5ndGggKCkgewogIHJldHVybiBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVAogICAgPyAweDdmZmZmZmZmCiAgICA6IDB4M2ZmZmZmZmYKfQoKLyoqCiAqIFRoZSBCdWZmZXIgY29uc3RydWN0b3IgcmV0dXJucyBpbnN0YW5jZXMgb2YgYFVpbnQ4QXJyYXlgIHRoYXQgaGF2ZSB0aGVpcgogKiBwcm90b3R5cGUgY2hhbmdlZCB0byBgQnVmZmVyLnByb3RvdHlwZWAuIEZ1cnRoZXJtb3JlLCBgQnVmZmVyYCBpcyBhIHN1YmNsYXNzIG9mCiAqIGBVaW50OEFycmF5YCwgc28gdGhlIHJldHVybmVkIGluc3RhbmNlcyB3aWxsIGhhdmUgYWxsIHRoZSBub2RlIGBCdWZmZXJgIG1ldGhvZHMKICogYW5kIHRoZSBgVWludDhBcnJheWAgbWV0aG9kcy4gU3F1YXJlIGJyYWNrZXQgbm90YXRpb24gd29ya3MgYXMgZXhwZWN0ZWQgLS0gaXQKICogcmV0dXJucyBhIHNpbmdsZSBvY3RldC4KICoKICogVGhlIGBVaW50OEFycmF5YCBwcm90b3R5cGUgcmVtYWlucyB1bm1vZGlmaWVkLgogKi8KZnVuY3Rpb24gQnVmZmVyIChhcmcpIHsKICBpZiAoISh0aGlzIGluc3RhbmNlb2YgQnVmZmVyKSkgewogICAgLy8gQXZvaWQgZ29pbmcgdGhyb3VnaCBhbiBBcmd1bWVudHNBZGFwdG9yVHJhbXBvbGluZSBpbiB0aGUgY29tbW9uIGNhc2UuCiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHJldHVybiBuZXcgQnVmZmVyKGFyZywgYXJndW1lbnRzWzFdKQogICAgcmV0dXJuIG5ldyBCdWZmZXIoYXJnKQogIH0KCiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgewogICAgdGhpcy5sZW5ndGggPSAwCiAgICB0aGlzLnBhcmVudCA9IHVuZGVmaW5lZAogIH0KCiAgLy8gQ29tbW9uIGNhc2UuCiAgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInKSB7CiAgICByZXR1cm4gZnJvbU51bWJlcih0aGlzLCBhcmcpCiAgfQoKICAvLyBTbGlnaHRseSBsZXNzIGNvbW1vbiBjYXNlLgogIGlmICh0eXBlb2YgYXJnID09PSAnc3RyaW5nJykgewogICAgcmV0dXJuIGZyb21TdHJpbmcodGhpcywgYXJnLCBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6ICd1dGY4JykKICB9CgogIC8vIFVudXN1YWwuCiAgcmV0dXJuIGZyb21PYmplY3QodGhpcywgYXJnKQp9CgovLyBUT0RPOiBMZWdhY3ksIG5vdCBuZWVkZWQgYW55bW9yZS4gUmVtb3ZlIGluIG5leHQgbWFqb3IgdmVyc2lvbi4KQnVmZmVyLl9hdWdtZW50ID0gZnVuY3Rpb24gKGFycikgewogIGFyci5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlCiAgcmV0dXJuIGFycgp9CgpmdW5jdGlvbiBmcm9tTnVtYmVyICh0aGF0LCBsZW5ndGgpIHsKICB0aGF0ID0gYWxsb2NhdGUodGhhdCwgbGVuZ3RoIDwgMCA/IDAgOiBjaGVja2VkKGxlbmd0aCkgfCAwKQogIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgdGhhdFtpXSA9IDAKICAgIH0KICB9CiAgcmV0dXJuIHRoYXQKfQoKZnVuY3Rpb24gZnJvbVN0cmluZyAodGhhdCwgc3RyaW5nLCBlbmNvZGluZykgewogIGlmICh0eXBlb2YgZW5jb2RpbmcgIT09ICdzdHJpbmcnIHx8IGVuY29kaW5nID09PSAnJykgZW5jb2RpbmcgPSAndXRmOCcKCiAgLy8gQXNzdW1wdGlvbjogYnl0ZUxlbmd0aCgpIHJldHVybiB2YWx1ZSBpcyBhbHdheXMgPCBrTWF4TGVuZ3RoLgogIHZhciBsZW5ndGggPSBieXRlTGVuZ3RoKHN0cmluZywgZW5jb2RpbmcpIHwgMAogIHRoYXQgPSBhbGxvY2F0ZSh0aGF0LCBsZW5ndGgpCgogIHRoYXQud3JpdGUoc3RyaW5nLCBlbmNvZGluZykKICByZXR1cm4gdGhhdAp9CgpmdW5jdGlvbiBmcm9tT2JqZWN0ICh0aGF0LCBvYmplY3QpIHsKICBpZiAoQnVmZmVyLmlzQnVmZmVyKG9iamVjdCkpIHJldHVybiBmcm9tQnVmZmVyKHRoYXQsIG9iamVjdCkKCiAgaWYgKGlzQXJyYXkob2JqZWN0KSkgcmV0dXJuIGZyb21BcnJheSh0aGF0LCBvYmplY3QpCgogIGlmIChvYmplY3QgPT0gbnVsbCkgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcignbXVzdCBzdGFydCB3aXRoIG51bWJlciwgYnVmZmVyLCBhcnJheSBvciBzdHJpbmcnKQogIH0KCiAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgIGlmIChvYmplY3QuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHsKICAgICAgcmV0dXJuIGZyb21UeXBlZEFycmF5KHRoYXQsIG9iamVjdCkKICAgIH0KICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgewogICAgICByZXR1cm4gZnJvbUFycmF5QnVmZmVyKHRoYXQsIG9iamVjdCkKICAgIH0KICB9CgogIGlmIChvYmplY3QubGVuZ3RoKSByZXR1cm4gZnJvbUFycmF5TGlrZSh0aGF0LCBvYmplY3QpCgogIHJldHVybiBmcm9tSnNvbk9iamVjdCh0aGF0LCBvYmplY3QpCn0KCmZ1bmN0aW9uIGZyb21CdWZmZXIgKHRoYXQsIGJ1ZmZlcikgewogIHZhciBsZW5ndGggPSBjaGVja2VkKGJ1ZmZlci5sZW5ndGgpIHwgMAogIHRoYXQgPSBhbGxvY2F0ZSh0aGF0LCBsZW5ndGgpCiAgYnVmZmVyLmNvcHkodGhhdCwgMCwgMCwgbGVuZ3RoKQogIHJldHVybiB0aGF0Cn0KCmZ1bmN0aW9uIGZyb21BcnJheSAodGhhdCwgYXJyYXkpIHsKICB2YXIgbGVuZ3RoID0gY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMAogIHRoYXQgPSBhbGxvY2F0ZSh0aGF0LCBsZW5ndGgpCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkgewogICAgdGhhdFtpXSA9IGFycmF5W2ldICYgMjU1CiAgfQogIHJldHVybiB0aGF0Cn0KCi8vIER1cGxpY2F0ZSBvZiBmcm9tQXJyYXkoKSB0byBrZWVwIGZyb21BcnJheSgpIG1vbm9tb3JwaGljLgpmdW5jdGlvbiBmcm9tVHlwZWRBcnJheSAodGhhdCwgYXJyYXkpIHsKICB2YXIgbGVuZ3RoID0gY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMAogIHRoYXQgPSBhbGxvY2F0ZSh0aGF0LCBsZW5ndGgpCiAgLy8gVHJ1bmNhdGluZyB0aGUgZWxlbWVudHMgaXMgcHJvYmFibHkgbm90IHdoYXQgcGVvcGxlIGV4cGVjdCBmcm9tIHR5cGVkCiAgLy8gYXJyYXlzIHdpdGggQllURVNfUEVSX0VMRU1FTlQgPiAxIGJ1dCBpdCdzIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3IKICAvLyBvZiB0aGUgb2xkIEJ1ZmZlciBjb25zdHJ1Y3Rvci4KICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7CiAgICB0aGF0W2ldID0gYXJyYXlbaV0gJiAyNTUKICB9CiAgcmV0dXJuIHRoYXQKfQoKZnVuY3Rpb24gZnJvbUFycmF5QnVmZmVyICh0aGF0LCBhcnJheSkgewogIGFycmF5LmJ5dGVMZW5ndGggLy8gdGhpcyB0aHJvd3MgaWYgYGFycmF5YCBpcyBub3QgYSB2YWxpZCBBcnJheUJ1ZmZlcgoKICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHsKICAgIC8vIFJldHVybiBhbiBhdWdtZW50ZWQgYFVpbnQ4QXJyYXlgIGluc3RhbmNlLCBmb3IgYmVzdCBwZXJmb3JtYW5jZQogICAgdGhhdCA9IG5ldyBVaW50OEFycmF5KGFycmF5KQogICAgdGhhdC5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlCiAgfSBlbHNlIHsKICAgIC8vIEZhbGxiYWNrOiBSZXR1cm4gYW4gb2JqZWN0IGluc3RhbmNlIG9mIHRoZSBCdWZmZXIgY2xhc3MKICAgIHRoYXQgPSBmcm9tVHlwZWRBcnJheSh0aGF0LCBuZXcgVWludDhBcnJheShhcnJheSkpCiAgfQogIHJldHVybiB0aGF0Cn0KCmZ1bmN0aW9uIGZyb21BcnJheUxpa2UgKHRoYXQsIGFycmF5KSB7CiAgdmFyIGxlbmd0aCA9IGNoZWNrZWQoYXJyYXkubGVuZ3RoKSB8IDAKICB0aGF0ID0gYWxsb2NhdGUodGhhdCwgbGVuZ3RoKQogIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHsKICAgIHRoYXRbaV0gPSBhcnJheVtpXSAmIDI1NQogIH0KICByZXR1cm4gdGhhdAp9CgovLyBEZXNlcmlhbGl6ZSB7IHR5cGU6ICdCdWZmZXInLCBkYXRhOiBbMSwyLDMsLi4uXSB9IGludG8gYSBCdWZmZXIgb2JqZWN0LgovLyBSZXR1cm5zIGEgemVyby1sZW5ndGggYnVmZmVyIGZvciBpbnB1dHMgdGhhdCBkb24ndCBjb25mb3JtIHRvIHRoZSBzcGVjLgpmdW5jdGlvbiBmcm9tSnNvbk9iamVjdCAodGhhdCwgb2JqZWN0KSB7CiAgdmFyIGFycmF5CiAgdmFyIGxlbmd0aCA9IDAKCiAgaWYgKG9iamVjdC50eXBlID09PSAnQnVmZmVyJyAmJiBpc0FycmF5KG9iamVjdC5kYXRhKSkgewogICAgYXJyYXkgPSBvYmplY3QuZGF0YQogICAgbGVuZ3RoID0gY2hlY2tlZChhcnJheS5sZW5ndGgpIHwgMAogIH0KICB0aGF0ID0gYWxsb2NhdGUodGhhdCwgbGVuZ3RoKQoKICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7CiAgICB0aGF0W2ldID0gYXJyYXlbaV0gJiAyNTUKICB9CiAgcmV0dXJuIHRoYXQKfQoKaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7CiAgQnVmZmVyLnByb3RvdHlwZS5fX3Byb3RvX18gPSBVaW50OEFycmF5LnByb3RvdHlwZQogIEJ1ZmZlci5fX3Byb3RvX18gPSBVaW50OEFycmF5CiAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC5zcGVjaWVzICYmCiAgICAgIEJ1ZmZlcltTeW1ib2wuc3BlY2llc10gPT09IEJ1ZmZlcikgewogICAgLy8gRml4IHN1YmFycmF5KCkgaW4gRVMyMDE2LiBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mZXJvc3MvYnVmZmVyL3B1bGwvOTcKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIsIFN5bWJvbC5zcGVjaWVzLCB7CiAgICAgIHZhbHVlOiBudWxsLAogICAgICBjb25maWd1cmFibGU6IHRydWUKICAgIH0pCiAgfQp9IGVsc2UgewogIC8vIHByZS1zZXQgZm9yIHZhbHVlcyB0aGF0IG1heSBleGlzdCBpbiB0aGUgZnV0dXJlCiAgQnVmZmVyLnByb3RvdHlwZS5sZW5ndGggPSB1bmRlZmluZWQKICBCdWZmZXIucHJvdG90eXBlLnBhcmVudCA9IHVuZGVmaW5lZAp9CgpmdW5jdGlvbiBhbGxvY2F0ZSAodGhhdCwgbGVuZ3RoKSB7CiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7CiAgICAvLyBSZXR1cm4gYW4gYXVnbWVudGVkIGBVaW50OEFycmF5YCBpbnN0YW5jZSwgZm9yIGJlc3QgcGVyZm9ybWFuY2UKICAgIHRoYXQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpCiAgICB0aGF0Ll9fcHJvdG9fXyA9IEJ1ZmZlci5wcm90b3R5cGUKICB9IGVsc2UgewogICAgLy8gRmFsbGJhY2s6IFJldHVybiBhbiBvYmplY3QgaW5zdGFuY2Ugb2YgdGhlIEJ1ZmZlciBjbGFzcwogICAgdGhhdC5sZW5ndGggPSBsZW5ndGgKICB9CgogIHZhciBmcm9tUG9vbCA9IGxlbmd0aCAhPT0gMCAmJiBsZW5ndGggPD0gQnVmZmVyLnBvb2xTaXplID4+PiAxCiAgaWYgKGZyb21Qb29sKSB0aGF0LnBhcmVudCA9IHJvb3RQYXJlbnQKCiAgcmV0dXJuIHRoYXQKfQoKZnVuY3Rpb24gY2hlY2tlZCAobGVuZ3RoKSB7CiAgLy8gTm90ZTogY2Fubm90IHVzZSBgbGVuZ3RoIDwga01heExlbmd0aGAgaGVyZSBiZWNhdXNlIHRoYXQgZmFpbHMgd2hlbgogIC8vIGxlbmd0aCBpcyBOYU4gKHdoaWNoIGlzIG90aGVyd2lzZSBjb2VyY2VkIHRvIHplcm8uKQogIGlmIChsZW5ndGggPj0ga01heExlbmd0aCgpKSB7CiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSAnICsKICAgICAgICAgICAgICAgICAgICAgICAgICdzaXplOiAweCcgKyBrTWF4TGVuZ3RoKCkudG9TdHJpbmcoMTYpICsgJyBieXRlcycpCiAgfQogIHJldHVybiBsZW5ndGggfCAwCn0KCmZ1bmN0aW9uIFNsb3dCdWZmZXIgKHN1YmplY3QsIGVuY29kaW5nKSB7CiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNsb3dCdWZmZXIpKSByZXR1cm4gbmV3IFNsb3dCdWZmZXIoc3ViamVjdCwgZW5jb2RpbmcpCgogIHZhciBidWYgPSBuZXcgQnVmZmVyKHN1YmplY3QsIGVuY29kaW5nKQogIGRlbGV0ZSBidWYucGFyZW50CiAgcmV0dXJuIGJ1Zgp9CgpCdWZmZXIuaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlciAoYikgewogIHJldHVybiAhIShiICE9IG51bGwgJiYgYi5faXNCdWZmZXIpCn0KCkJ1ZmZlci5jb21wYXJlID0gZnVuY3Rpb24gY29tcGFyZSAoYSwgYikgewogIGlmICghQnVmZmVyLmlzQnVmZmVyKGEpIHx8ICFCdWZmZXIuaXNCdWZmZXIoYikpIHsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnMnKQogIH0KCiAgaWYgKGEgPT09IGIpIHJldHVybiAwCgogIHZhciB4ID0gYS5sZW5ndGgKICB2YXIgeSA9IGIubGVuZ3RoCgogIHZhciBpID0gMAogIHZhciBsZW4gPSBNYXRoLm1pbih4LCB5KQogIHdoaWxlIChpIDwgbGVuKSB7CiAgICBpZiAoYVtpXSAhPT0gYltpXSkgYnJlYWsKCiAgICArK2kKICB9CgogIGlmIChpICE9PSBsZW4pIHsKICAgIHggPSBhW2ldCiAgICB5ID0gYltpXQogIH0KCiAgaWYgKHggPCB5KSByZXR1cm4gLTEKICBpZiAoeSA8IHgpIHJldHVybiAxCiAgcmV0dXJuIDAKfQoKQnVmZmVyLmlzRW5jb2RpbmcgPSBmdW5jdGlvbiBpc0VuY29kaW5nIChlbmNvZGluZykgewogIHN3aXRjaCAoU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKSB7CiAgICBjYXNlICdoZXgnOgogICAgY2FzZSAndXRmOCc6CiAgICBjYXNlICd1dGYtOCc6CiAgICBjYXNlICdhc2NpaSc6CiAgICBjYXNlICdiaW5hcnknOgogICAgY2FzZSAnYmFzZTY0JzoKICAgIGNhc2UgJ3Jhdyc6CiAgICBjYXNlICd1Y3MyJzoKICAgIGNhc2UgJ3Vjcy0yJzoKICAgIGNhc2UgJ3V0ZjE2bGUnOgogICAgY2FzZSAndXRmLTE2bGUnOgogICAgICByZXR1cm4gdHJ1ZQogICAgZGVmYXVsdDoKICAgICAgcmV0dXJuIGZhbHNlCiAgfQp9CgpCdWZmZXIuY29uY2F0ID0gZnVuY3Rpb24gY29uY2F0IChsaXN0LCBsZW5ndGgpIHsKICBpZiAoIWlzQXJyYXkobGlzdCkpIHRocm93IG5ldyBUeXBlRXJyb3IoJ2xpc3QgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzLicpCgogIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkgewogICAgcmV0dXJuIG5ldyBCdWZmZXIoMCkKICB9CgogIHZhciBpCiAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7CiAgICBsZW5ndGggPSAwCiAgICBmb3IgKGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewogICAgICBsZW5ndGggKz0gbGlzdFtpXS5sZW5ndGgKICAgIH0KICB9CgogIHZhciBidWYgPSBuZXcgQnVmZmVyKGxlbmd0aCkKICB2YXIgcG9zID0gMAogIGZvciAoaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgaXRlbSA9IGxpc3RbaV0KICAgIGl0ZW0uY29weShidWYsIHBvcykKICAgIHBvcyArPSBpdGVtLmxlbmd0aAogIH0KICByZXR1cm4gYnVmCn0KCmZ1bmN0aW9uIGJ5dGVMZW5ndGggKHN0cmluZywgZW5jb2RpbmcpIHsKICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHN0cmluZyA9ICcnICsgc3RyaW5nCgogIHZhciBsZW4gPSBzdHJpbmcubGVuZ3RoCiAgaWYgKGxlbiA9PT0gMCkgcmV0dXJuIDAKCiAgLy8gVXNlIGEgZm9yIGxvb3AgdG8gYXZvaWQgcmVjdXJzaW9uCiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2UKICBmb3IgKDs7KSB7CiAgICBzd2l0Y2ggKGVuY29kaW5nKSB7CiAgICAgIGNhc2UgJ2FzY2lpJzoKICAgICAgY2FzZSAnYmluYXJ5JzoKICAgICAgLy8gRGVwcmVjYXRlZAogICAgICBjYXNlICdyYXcnOgogICAgICBjYXNlICdyYXdzJzoKICAgICAgICByZXR1cm4gbGVuCiAgICAgIGNhc2UgJ3V0ZjgnOgogICAgICBjYXNlICd1dGYtOCc6CiAgICAgICAgcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoCiAgICAgIGNhc2UgJ3VjczInOgogICAgICBjYXNlICd1Y3MtMic6CiAgICAgIGNhc2UgJ3V0ZjE2bGUnOgogICAgICBjYXNlICd1dGYtMTZsZSc6CiAgICAgICAgcmV0dXJuIGxlbiAqIDIKICAgICAgY2FzZSAnaGV4JzoKICAgICAgICByZXR1cm4gbGVuID4+PiAxCiAgICAgIGNhc2UgJ2Jhc2U2NCc6CiAgICAgICAgcmV0dXJuIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGgKICAgICAgZGVmYXVsdDoKICAgICAgICBpZiAobG93ZXJlZENhc2UpIHJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aCAvLyBhc3N1bWUgdXRmOAogICAgICAgIGVuY29kaW5nID0gKCcnICsgZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCkKICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWUKICAgIH0KICB9Cn0KQnVmZmVyLmJ5dGVMZW5ndGggPSBieXRlTGVuZ3RoCgpmdW5jdGlvbiBzbG93VG9TdHJpbmcgKGVuY29kaW5nLCBzdGFydCwgZW5kKSB7CiAgdmFyIGxvd2VyZWRDYXNlID0gZmFsc2UKCiAgc3RhcnQgPSBzdGFydCB8IDAKICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPT09IEluZmluaXR5ID8gdGhpcy5sZW5ndGggOiBlbmQgfCAwCgogIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnCiAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSAwCiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aAogIGlmIChlbmQgPD0gc3RhcnQpIHJldHVybiAnJwoKICB3aGlsZSAodHJ1ZSkgewogICAgc3dpdGNoIChlbmNvZGluZykgewogICAgICBjYXNlICdoZXgnOgogICAgICAgIHJldHVybiBoZXhTbGljZSh0aGlzLCBzdGFydCwgZW5kKQoKICAgICAgY2FzZSAndXRmOCc6CiAgICAgIGNhc2UgJ3V0Zi04JzoKICAgICAgICByZXR1cm4gdXRmOFNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpCgogICAgICBjYXNlICdhc2NpaSc6CiAgICAgICAgcmV0dXJuIGFzY2lpU2xpY2UodGhpcywgc3RhcnQsIGVuZCkKCiAgICAgIGNhc2UgJ2JpbmFyeSc6CiAgICAgICAgcmV0dXJuIGJpbmFyeVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpCgogICAgICBjYXNlICdiYXNlNjQnOgogICAgICAgIHJldHVybiBiYXNlNjRTbGljZSh0aGlzLCBzdGFydCwgZW5kKQoKICAgICAgY2FzZSAndWNzMic6CiAgICAgIGNhc2UgJ3Vjcy0yJzoKICAgICAgY2FzZSAndXRmMTZsZSc6CiAgICAgIGNhc2UgJ3V0Zi0xNmxlJzoKICAgICAgICByZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsIHN0YXJ0LCBlbmQpCgogICAgICBkZWZhdWx0OgogICAgICAgIGlmIChsb3dlcmVkQ2FzZSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKQogICAgICAgIGVuY29kaW5nID0gKGVuY29kaW5nICsgJycpLnRvTG93ZXJDYXNlKCkKICAgICAgICBsb3dlcmVkQ2FzZSA9IHRydWUKICAgIH0KICB9Cn0KCi8vIFRoZSBwcm9wZXJ0eSBpcyB1c2VkIGJ5IGBCdWZmZXIuaXNCdWZmZXJgIGFuZCBgaXMtYnVmZmVyYCAoaW4gU2FmYXJpIDUtNykgdG8gZGV0ZWN0Ci8vIEJ1ZmZlciBpbnN0YW5jZXMuCkJ1ZmZlci5wcm90b3R5cGUuX2lzQnVmZmVyID0gdHJ1ZQoKQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nICgpIHsKICB2YXIgbGVuZ3RoID0gdGhpcy5sZW5ndGggfCAwCiAgaWYgKGxlbmd0aCA9PT0gMCkgcmV0dXJuICcnCiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHJldHVybiB1dGY4U2xpY2UodGhpcywgMCwgbGVuZ3RoKQogIHJldHVybiBzbG93VG9TdHJpbmcuYXBwbHkodGhpcywgYXJndW1lbnRzKQp9CgpCdWZmZXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIGVxdWFscyAoYikgewogIGlmICghQnVmZmVyLmlzQnVmZmVyKGIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyJykKICBpZiAodGhpcyA9PT0gYikgcmV0dXJuIHRydWUKICByZXR1cm4gQnVmZmVyLmNvbXBhcmUodGhpcywgYikgPT09IDAKfQoKQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24gaW5zcGVjdCAoKSB7CiAgdmFyIHN0ciA9ICcnCiAgdmFyIG1heCA9IGV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVMKICBpZiAodGhpcy5sZW5ndGggPiAwKSB7CiAgICBzdHIgPSB0aGlzLnRvU3RyaW5nKCdoZXgnLCAwLCBtYXgpLm1hdGNoKC8uezJ9L2cpLmpvaW4oJyAnKQogICAgaWYgKHRoaXMubGVuZ3RoID4gbWF4KSBzdHIgKz0gJyAuLi4gJwogIH0KICByZXR1cm4gJzxCdWZmZXIgJyArIHN0ciArICc+Jwp9CgpCdWZmZXIucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiBjb21wYXJlIChiKSB7CiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoYikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0FyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXInKQogIGlmICh0aGlzID09PSBiKSByZXR1cm4gMAogIHJldHVybiBCdWZmZXIuY29tcGFyZSh0aGlzLCBiKQp9CgpCdWZmZXIucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbiBpbmRleE9mICh2YWwsIGJ5dGVPZmZzZXQpIHsKICBpZiAoYnl0ZU9mZnNldCA+IDB4N2ZmZmZmZmYpIGJ5dGVPZmZzZXQgPSAweDdmZmZmZmZmCiAgZWxzZSBpZiAoYnl0ZU9mZnNldCA8IC0weDgwMDAwMDAwKSBieXRlT2Zmc2V0ID0gLTB4ODAwMDAwMDAKICBieXRlT2Zmc2V0ID4+PSAwCgogIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIC0xCiAgaWYgKGJ5dGVPZmZzZXQgPj0gdGhpcy5sZW5ndGgpIHJldHVybiAtMQoKICAvLyBOZWdhdGl2ZSBvZmZzZXRzIHN0YXJ0IGZyb20gdGhlIGVuZCBvZiB0aGUgYnVmZmVyCiAgaWYgKGJ5dGVPZmZzZXQgPCAwKSBieXRlT2Zmc2V0ID0gTWF0aC5tYXgodGhpcy5sZW5ndGggKyBieXRlT2Zmc2V0LCAwKQoKICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHsKICAgIGlmICh2YWwubGVuZ3RoID09PSAwKSByZXR1cm4gLTEgLy8gc3BlY2lhbCBjYXNlOiBsb29raW5nIGZvciBlbXB0eSBzdHJpbmcgYWx3YXlzIGZhaWxzCiAgICByZXR1cm4gU3RyaW5nLnByb3RvdHlwZS5pbmRleE9mLmNhbGwodGhpcywgdmFsLCBieXRlT2Zmc2V0KQogIH0KICBpZiAoQnVmZmVyLmlzQnVmZmVyKHZhbCkpIHsKICAgIHJldHVybiBhcnJheUluZGV4T2YodGhpcywgdmFsLCBieXRlT2Zmc2V0KQogIH0KICBpZiAodHlwZW9mIHZhbCA9PT0gJ251bWJlcicpIHsKICAgIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCAmJiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIHJldHVybiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwodGhpcywgdmFsLCBieXRlT2Zmc2V0KQogICAgfQogICAgcmV0dXJuIGFycmF5SW5kZXhPZih0aGlzLCBbIHZhbCBdLCBieXRlT2Zmc2V0KQogIH0KCiAgZnVuY3Rpb24gYXJyYXlJbmRleE9mIChhcnIsIHZhbCwgYnl0ZU9mZnNldCkgewogICAgdmFyIGZvdW5kSW5kZXggPSAtMQogICAgZm9yICh2YXIgaSA9IDA7IGJ5dGVPZmZzZXQgKyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgIGlmIChhcnJbYnl0ZU9mZnNldCArIGldID09PSB2YWxbZm91bmRJbmRleCA9PT0gLTEgPyAwIDogaSAtIGZvdW5kSW5kZXhdKSB7CiAgICAgICAgaWYgKGZvdW5kSW5kZXggPT09IC0xKSBmb3VuZEluZGV4ID0gaQogICAgICAgIGlmIChpIC0gZm91bmRJbmRleCArIDEgPT09IHZhbC5sZW5ndGgpIHJldHVybiBieXRlT2Zmc2V0ICsgZm91bmRJbmRleAogICAgICB9IGVsc2UgewogICAgICAgIGZvdW5kSW5kZXggPSAtMQogICAgICB9CiAgICB9CiAgICByZXR1cm4gLTEKICB9CgogIHRocm93IG5ldyBUeXBlRXJyb3IoJ3ZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlcicpCn0KCmZ1bmN0aW9uIGhleFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHsKICBvZmZzZXQgPSBOdW1iZXIob2Zmc2V0KSB8fCAwCiAgdmFyIHJlbWFpbmluZyA9IGJ1Zi5sZW5ndGggLSBvZmZzZXQKICBpZiAoIWxlbmd0aCkgewogICAgbGVuZ3RoID0gcmVtYWluaW5nCiAgfSBlbHNlIHsKICAgIGxlbmd0aCA9IE51bWJlcihsZW5ndGgpCiAgICBpZiAobGVuZ3RoID4gcmVtYWluaW5nKSB7CiAgICAgIGxlbmd0aCA9IHJlbWFpbmluZwogICAgfQogIH0KCiAgLy8gbXVzdCBiZSBhbiBldmVuIG51bWJlciBvZiBkaWdpdHMKICB2YXIgc3RyTGVuID0gc3RyaW5nLmxlbmd0aAogIGlmIChzdHJMZW4gJSAyICE9PSAwKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgaGV4IHN0cmluZycpCgogIGlmIChsZW5ndGggPiBzdHJMZW4gLyAyKSB7CiAgICBsZW5ndGggPSBzdHJMZW4gLyAyCiAgfQogIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgIHZhciBwYXJzZWQgPSBwYXJzZUludChzdHJpbmcuc3Vic3RyKGkgKiAyLCAyKSwgMTYpCiAgICBpZiAoaXNOYU4ocGFyc2VkKSkgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGhleCBzdHJpbmcnKQogICAgYnVmW29mZnNldCArIGldID0gcGFyc2VkCiAgfQogIHJldHVybiBpCn0KCmZ1bmN0aW9uIHV0ZjhXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7CiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmOFRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aCkKfQoKZnVuY3Rpb24gYXNjaWlXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7CiAgcmV0dXJuIGJsaXRCdWZmZXIoYXNjaWlUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpCn0KCmZ1bmN0aW9uIGJpbmFyeVdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHsKICByZXR1cm4gYXNjaWlXcml0ZShidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpCn0KCmZ1bmN0aW9uIGJhc2U2NFdyaXRlIChidWYsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpIHsKICByZXR1cm4gYmxpdEJ1ZmZlcihiYXNlNjRUb0J5dGVzKHN0cmluZyksIGJ1Ziwgb2Zmc2V0LCBsZW5ndGgpCn0KCmZ1bmN0aW9uIHVjczJXcml0ZSAoYnVmLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKSB7CiAgcmV0dXJuIGJsaXRCdWZmZXIodXRmMTZsZVRvQnl0ZXMoc3RyaW5nLCBidWYubGVuZ3RoIC0gb2Zmc2V0KSwgYnVmLCBvZmZzZXQsIGxlbmd0aCkKfQoKQnVmZmVyLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIHdyaXRlIChzdHJpbmcsIG9mZnNldCwgbGVuZ3RoLCBlbmNvZGluZykgewogIC8vIEJ1ZmZlciN3cml0ZShzdHJpbmcpCiAgaWYgKG9mZnNldCA9PT0gdW5kZWZpbmVkKSB7CiAgICBlbmNvZGluZyA9ICd1dGY4JwogICAgbGVuZ3RoID0gdGhpcy5sZW5ndGgKICAgIG9mZnNldCA9IDAKICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBlbmNvZGluZykKICB9IGVsc2UgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvZmZzZXQgPT09ICdzdHJpbmcnKSB7CiAgICBlbmNvZGluZyA9IG9mZnNldAogICAgbGVuZ3RoID0gdGhpcy5sZW5ndGgKICAgIG9mZnNldCA9IDAKICAvLyBCdWZmZXIjd3JpdGUoc3RyaW5nLCBvZmZzZXRbLCBsZW5ndGhdWywgZW5jb2RpbmddKQogIH0gZWxzZSBpZiAoaXNGaW5pdGUob2Zmc2V0KSkgewogICAgb2Zmc2V0ID0gb2Zmc2V0IHwgMAogICAgaWYgKGlzRmluaXRlKGxlbmd0aCkpIHsKICAgICAgbGVuZ3RoID0gbGVuZ3RoIHwgMAogICAgICBpZiAoZW5jb2RpbmcgPT09IHVuZGVmaW5lZCkgZW5jb2RpbmcgPSAndXRmOCcKICAgIH0gZWxzZSB7CiAgICAgIGVuY29kaW5nID0gbGVuZ3RoCiAgICAgIGxlbmd0aCA9IHVuZGVmaW5lZAogICAgfQogIC8vIGxlZ2FjeSB3cml0ZShzdHJpbmcsIGVuY29kaW5nLCBvZmZzZXQsIGxlbmd0aCkgLSByZW1vdmUgaW4gdjAuMTMKICB9IGVsc2UgewogICAgdmFyIHN3YXAgPSBlbmNvZGluZwogICAgZW5jb2RpbmcgPSBvZmZzZXQKICAgIG9mZnNldCA9IGxlbmd0aCB8IDAKICAgIGxlbmd0aCA9IHN3YXAKICB9CgogIHZhciByZW1haW5pbmcgPSB0aGlzLmxlbmd0aCAtIG9mZnNldAogIGlmIChsZW5ndGggPT09IHVuZGVmaW5lZCB8fCBsZW5ndGggPiByZW1haW5pbmcpIGxlbmd0aCA9IHJlbWFpbmluZwoKICBpZiAoKHN0cmluZy5sZW5ndGggPiAwICYmIChsZW5ndGggPCAwIHx8IG9mZnNldCA8IDApKSB8fCBvZmZzZXQgPiB0aGlzLmxlbmd0aCkgewogICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2F0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzJykKICB9CgogIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gJ3V0ZjgnCgogIHZhciBsb3dlcmVkQ2FzZSA9IGZhbHNlCiAgZm9yICg7OykgewogICAgc3dpdGNoIChlbmNvZGluZykgewogICAgICBjYXNlICdoZXgnOgogICAgICAgIHJldHVybiBoZXhXcml0ZSh0aGlzLCBzdHJpbmcsIG9mZnNldCwgbGVuZ3RoKQoKICAgICAgY2FzZSAndXRmOCc6CiAgICAgIGNhc2UgJ3V0Zi04JzoKICAgICAgICByZXR1cm4gdXRmOFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpCgogICAgICBjYXNlICdhc2NpaSc6CiAgICAgICAgcmV0dXJuIGFzY2lpV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkKCiAgICAgIGNhc2UgJ2JpbmFyeSc6CiAgICAgICAgcmV0dXJuIGJpbmFyeVdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpCgogICAgICBjYXNlICdiYXNlNjQnOgogICAgICAgIC8vIFdhcm5pbmc6IG1heExlbmd0aCBub3QgdGFrZW4gaW50byBhY2NvdW50IGluIGJhc2U2NFdyaXRlCiAgICAgICAgcmV0dXJuIGJhc2U2NFdyaXRlKHRoaXMsIHN0cmluZywgb2Zmc2V0LCBsZW5ndGgpCgogICAgICBjYXNlICd1Y3MyJzoKICAgICAgY2FzZSAndWNzLTInOgogICAgICBjYXNlICd1dGYxNmxlJzoKICAgICAgY2FzZSAndXRmLTE2bGUnOgogICAgICAgIHJldHVybiB1Y3MyV3JpdGUodGhpcywgc3RyaW5nLCBvZmZzZXQsIGxlbmd0aCkKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgaWYgKGxvd2VyZWRDYXNlKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGVuY29kaW5nOiAnICsgZW5jb2RpbmcpCiAgICAgICAgZW5jb2RpbmcgPSAoJycgKyBlbmNvZGluZykudG9Mb3dlckNhc2UoKQogICAgICAgIGxvd2VyZWRDYXNlID0gdHJ1ZQogICAgfQogIH0KfQoKQnVmZmVyLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04gKCkgewogIHJldHVybiB7CiAgICB0eXBlOiAnQnVmZmVyJywKICAgIGRhdGE6IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2FyciB8fCB0aGlzLCAwKQogIH0KfQoKZnVuY3Rpb24gYmFzZTY0U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkgewogIGlmIChzdGFydCA9PT0gMCAmJiBlbmQgPT09IGJ1Zi5sZW5ndGgpIHsKICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpCiAgfSBlbHNlIHsKICAgIHJldHVybiBiYXNlNjQuZnJvbUJ5dGVBcnJheShidWYuc2xpY2Uoc3RhcnQsIGVuZCkpCiAgfQp9CgpmdW5jdGlvbiB1dGY4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkgewogIGVuZCA9IE1hdGgubWluKGJ1Zi5sZW5ndGgsIGVuZCkKICB2YXIgcmVzID0gW10KCiAgdmFyIGkgPSBzdGFydAogIHdoaWxlIChpIDwgZW5kKSB7CiAgICB2YXIgZmlyc3RCeXRlID0gYnVmW2ldCiAgICB2YXIgY29kZVBvaW50ID0gbnVsbAogICAgdmFyIGJ5dGVzUGVyU2VxdWVuY2UgPSAoZmlyc3RCeXRlID4gMHhFRikgPyA0CiAgICAgIDogKGZpcnN0Qnl0ZSA+IDB4REYpID8gMwogICAgICA6IChmaXJzdEJ5dGUgPiAweEJGKSA/IDIKICAgICAgOiAxCgogICAgaWYgKGkgKyBieXRlc1BlclNlcXVlbmNlIDw9IGVuZCkgewogICAgICB2YXIgc2Vjb25kQnl0ZSwgdGhpcmRCeXRlLCBmb3VydGhCeXRlLCB0ZW1wQ29kZVBvaW50CgogICAgICBzd2l0Y2ggKGJ5dGVzUGVyU2VxdWVuY2UpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICBpZiAoZmlyc3RCeXRlIDwgMHg4MCkgewogICAgICAgICAgICBjb2RlUG9pbnQgPSBmaXJzdEJ5dGUKICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV0KICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwKSB7CiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHgxRikgPDwgMHg2IHwgKHNlY29uZEJ5dGUgJiAweDNGKQogICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4N0YpIHsKICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgc2Vjb25kQnl0ZSA9IGJ1ZltpICsgMV0KICAgICAgICAgIHRoaXJkQnl0ZSA9IGJ1ZltpICsgMl0KICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCkgewogICAgICAgICAgICB0ZW1wQ29kZVBvaW50ID0gKGZpcnN0Qnl0ZSAmIDB4RikgPDwgMHhDIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweDYgfCAodGhpcmRCeXRlICYgMHgzRikKICAgICAgICAgICAgaWYgKHRlbXBDb2RlUG9pbnQgPiAweDdGRiAmJiAodGVtcENvZGVQb2ludCA8IDB4RDgwMCB8fCB0ZW1wQ29kZVBvaW50ID4gMHhERkZGKSkgewogICAgICAgICAgICAgIGNvZGVQb2ludCA9IHRlbXBDb2RlUG9pbnQKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgYnJlYWsKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICBzZWNvbmRCeXRlID0gYnVmW2kgKyAxXQogICAgICAgICAgdGhpcmRCeXRlID0gYnVmW2kgKyAyXQogICAgICAgICAgZm91cnRoQnl0ZSA9IGJ1ZltpICsgM10KICAgICAgICAgIGlmICgoc2Vjb25kQnl0ZSAmIDB4QzApID09PSAweDgwICYmICh0aGlyZEJ5dGUgJiAweEMwKSA9PT0gMHg4MCAmJiAoZm91cnRoQnl0ZSAmIDB4QzApID09PSAweDgwKSB7CiAgICAgICAgICAgIHRlbXBDb2RlUG9pbnQgPSAoZmlyc3RCeXRlICYgMHhGKSA8PCAweDEyIHwgKHNlY29uZEJ5dGUgJiAweDNGKSA8PCAweEMgfCAodGhpcmRCeXRlICYgMHgzRikgPDwgMHg2IHwgKGZvdXJ0aEJ5dGUgJiAweDNGKQogICAgICAgICAgICBpZiAodGVtcENvZGVQb2ludCA+IDB4RkZGRiAmJiB0ZW1wQ29kZVBvaW50IDwgMHgxMTAwMDApIHsKICAgICAgICAgICAgICBjb2RlUG9pbnQgPSB0ZW1wQ29kZVBvaW50CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIGlmIChjb2RlUG9pbnQgPT09IG51bGwpIHsKICAgICAgLy8gd2UgZGlkIG5vdCBnZW5lcmF0ZSBhIHZhbGlkIGNvZGVQb2ludCBzbyBpbnNlcnQgYQogICAgICAvLyByZXBsYWNlbWVudCBjaGFyIChVK0ZGRkQpIGFuZCBhZHZhbmNlIG9ubHkgMSBieXRlCiAgICAgIGNvZGVQb2ludCA9IDB4RkZGRAogICAgICBieXRlc1BlclNlcXVlbmNlID0gMQogICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPiAweEZGRkYpIHsKICAgICAgLy8gZW5jb2RlIHRvIHV0ZjE2IChzdXJyb2dhdGUgcGFpciBkYW5jZSkKICAgICAgY29kZVBvaW50IC09IDB4MTAwMDAKICAgICAgcmVzLnB1c2goY29kZVBvaW50ID4+PiAxMCAmIDB4M0ZGIHwgMHhEODAwKQogICAgICBjb2RlUG9pbnQgPSAweERDMDAgfCBjb2RlUG9pbnQgJiAweDNGRgogICAgfQoKICAgIHJlcy5wdXNoKGNvZGVQb2ludCkKICAgIGkgKz0gYnl0ZXNQZXJTZXF1ZW5jZQogIH0KCiAgcmV0dXJuIGRlY29kZUNvZGVQb2ludHNBcnJheShyZXMpCn0KCi8vIEJhc2VkIG9uIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIyNzQ3MjcyLzY4MDc0MiwgdGhlIGJyb3dzZXIgd2l0aAovLyB0aGUgbG93ZXN0IGxpbWl0IGlzIENocm9tZSwgd2l0aCAweDEwMDAwIGFyZ3MuCi8vIFdlIGdvIDEgbWFnbml0dWRlIGxlc3MsIGZvciBzYWZldHkKdmFyIE1BWF9BUkdVTUVOVFNfTEVOR1RIID0gMHgxMDAwCgpmdW5jdGlvbiBkZWNvZGVDb2RlUG9pbnRzQXJyYXkgKGNvZGVQb2ludHMpIHsKICB2YXIgbGVuID0gY29kZVBvaW50cy5sZW5ndGgKICBpZiAobGVuIDw9IE1BWF9BUkdVTUVOVFNfTEVOR1RIKSB7CiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGNvZGVQb2ludHMpIC8vIGF2b2lkIGV4dHJhIHNsaWNlKCkKICB9CgogIC8vIERlY29kZSBpbiBjaHVua3MgdG8gYXZvaWQgImNhbGwgc3RhY2sgc2l6ZSBleGNlZWRlZCIuCiAgdmFyIHJlcyA9ICcnCiAgdmFyIGkgPSAwCiAgd2hpbGUgKGkgPCBsZW4pIHsKICAgIHJlcyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KAogICAgICBTdHJpbmcsCiAgICAgIGNvZGVQb2ludHMuc2xpY2UoaSwgaSArPSBNQVhfQVJHVU1FTlRTX0xFTkdUSCkKICAgICkKICB9CiAgcmV0dXJuIHJlcwp9CgpmdW5jdGlvbiBhc2NpaVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHsKICB2YXIgcmV0ID0gJycKICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpCgogIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7CiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0gJiAweDdGKQogIH0KICByZXR1cm4gcmV0Cn0KCmZ1bmN0aW9uIGJpbmFyeVNsaWNlIChidWYsIHN0YXJ0LCBlbmQpIHsKICB2YXIgcmV0ID0gJycKICBlbmQgPSBNYXRoLm1pbihidWYubGVuZ3RoLCBlbmQpCgogIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7CiAgICByZXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pCiAgfQogIHJldHVybiByZXQKfQoKZnVuY3Rpb24gaGV4U2xpY2UgKGJ1Ziwgc3RhcnQsIGVuZCkgewogIHZhciBsZW4gPSBidWYubGVuZ3RoCgogIGlmICghc3RhcnQgfHwgc3RhcnQgPCAwKSBzdGFydCA9IDAKICBpZiAoIWVuZCB8fCBlbmQgPCAwIHx8IGVuZCA+IGxlbikgZW5kID0gbGVuCgogIHZhciBvdXQgPSAnJwogIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7CiAgICBvdXQgKz0gdG9IZXgoYnVmW2ldKQogIH0KICByZXR1cm4gb3V0Cn0KCmZ1bmN0aW9uIHV0ZjE2bGVTbGljZSAoYnVmLCBzdGFydCwgZW5kKSB7CiAgdmFyIGJ5dGVzID0gYnVmLnNsaWNlKHN0YXJ0LCBlbmQpCiAgdmFyIHJlcyA9ICcnCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkgKz0gMikgewogICAgcmVzICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0gKyBieXRlc1tpICsgMV0gKiAyNTYpCiAgfQogIHJldHVybiByZXMKfQoKQnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIHNsaWNlIChzdGFydCwgZW5kKSB7CiAgdmFyIGxlbiA9IHRoaXMubGVuZ3RoCiAgc3RhcnQgPSB+fnN0YXJ0CiAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW4gOiB+fmVuZAoKICBpZiAoc3RhcnQgPCAwKSB7CiAgICBzdGFydCArPSBsZW4KICAgIGlmIChzdGFydCA8IDApIHN0YXJ0ID0gMAogIH0gZWxzZSBpZiAoc3RhcnQgPiBsZW4pIHsKICAgIHN0YXJ0ID0gbGVuCiAgfQoKICBpZiAoZW5kIDwgMCkgewogICAgZW5kICs9IGxlbgogICAgaWYgKGVuZCA8IDApIGVuZCA9IDAKICB9IGVsc2UgaWYgKGVuZCA+IGxlbikgewogICAgZW5kID0gbGVuCiAgfQoKICBpZiAoZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0CgogIHZhciBuZXdCdWYKICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHsKICAgIG5ld0J1ZiA9IHRoaXMuc3ViYXJyYXkoc3RhcnQsIGVuZCkKICAgIG5ld0J1Zi5fX3Byb3RvX18gPSBCdWZmZXIucHJvdG90eXBlCiAgfSBlbHNlIHsKICAgIHZhciBzbGljZUxlbiA9IGVuZCAtIHN0YXJ0CiAgICBuZXdCdWYgPSBuZXcgQnVmZmVyKHNsaWNlTGVuLCB1bmRlZmluZWQpCiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWNlTGVuOyBpKyspIHsKICAgICAgbmV3QnVmW2ldID0gdGhpc1tpICsgc3RhcnRdCiAgICB9CiAgfQoKICBpZiAobmV3QnVmLmxlbmd0aCkgbmV3QnVmLnBhcmVudCA9IHRoaXMucGFyZW50IHx8IHRoaXMKCiAgcmV0dXJuIG5ld0J1Zgp9CgovKgogKiBOZWVkIHRvIG1ha2Ugc3VyZSB0aGF0IGJ1ZmZlciBpc24ndCB0cnlpbmcgdG8gd3JpdGUgb3V0IG9mIGJvdW5kcy4KICovCmZ1bmN0aW9uIGNoZWNrT2Zmc2V0IChvZmZzZXQsIGV4dCwgbGVuZ3RoKSB7CiAgaWYgKChvZmZzZXQgJSAxKSAhPT0gMCB8fCBvZmZzZXQgPCAwKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignb2Zmc2V0IGlzIG5vdCB1aW50JykKICBpZiAob2Zmc2V0ICsgZXh0ID4gbGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVHJ5aW5nIHRvIGFjY2VzcyBiZXlvbmQgYnVmZmVyIGxlbmd0aCcpCn0KCkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRSA9IGZ1bmN0aW9uIHJlYWRVSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHsKICBvZmZzZXQgPSBvZmZzZXQgfCAwCiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwCiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aCkKCiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XQogIHZhciBtdWwgPSAxCiAgdmFyIGkgPSAwCiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHsKICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsCiAgfQoKICByZXR1cm4gdmFsCn0KCkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRCRSA9IGZ1bmN0aW9uIHJlYWRVSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHsKICBvZmZzZXQgPSBvZmZzZXQgfCAwCiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwCiAgaWYgKCFub0Fzc2VydCkgewogICAgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aCkKICB9CgogIHZhciB2YWwgPSB0aGlzW29mZnNldCArIC0tYnl0ZUxlbmd0aF0KICB2YXIgbXVsID0gMQogIHdoaWxlIChieXRlTGVuZ3RoID4gMCAmJiAobXVsICo9IDB4MTAwKSkgewogICAgdmFsICs9IHRoaXNbb2Zmc2V0ICsgLS1ieXRlTGVuZ3RoXSAqIG11bAogIH0KCiAgcmV0dXJuIHZhbAp9CgpCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50OCA9IGZ1bmN0aW9uIHJlYWRVSW50OCAob2Zmc2V0LCBub0Fzc2VydCkgewogIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMSwgdGhpcy5sZW5ndGgpCiAgcmV0dXJuIHRoaXNbb2Zmc2V0XQp9CgpCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRSA9IGZ1bmN0aW9uIHJlYWRVSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkgewogIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpCiAgcmV0dXJuIHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpCn0KCkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkJFID0gZnVuY3Rpb24gcmVhZFVJbnQxNkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7CiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAyLCB0aGlzLmxlbmd0aCkKICByZXR1cm4gKHRoaXNbb2Zmc2V0XSA8PCA4KSB8IHRoaXNbb2Zmc2V0ICsgMV0KfQoKQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyTEUgPSBmdW5jdGlvbiByZWFkVUludDMyTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHsKICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDQsIHRoaXMubGVuZ3RoKQoKICByZXR1cm4gKCh0aGlzW29mZnNldF0pIHwKICAgICAgKHRoaXNbb2Zmc2V0ICsgMV0gPDwgOCkgfAogICAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCAxNikpICsKICAgICAgKHRoaXNbb2Zmc2V0ICsgM10gKiAweDEwMDAwMDApCn0KCkJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkJFID0gZnVuY3Rpb24gcmVhZFVJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7CiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aCkKCiAgcmV0dXJuICh0aGlzW29mZnNldF0gKiAweDEwMDAwMDApICsKICAgICgodGhpc1tvZmZzZXQgKyAxXSA8PCAxNikgfAogICAgKHRoaXNbb2Zmc2V0ICsgMl0gPDwgOCkgfAogICAgdGhpc1tvZmZzZXQgKyAzXSkKfQoKQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50TEUgPSBmdW5jdGlvbiByZWFkSW50TEUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHsKICBvZmZzZXQgPSBvZmZzZXQgfCAwCiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwCiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aCkKCiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XQogIHZhciBtdWwgPSAxCiAgdmFyIGkgPSAwCiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHsKICAgIHZhbCArPSB0aGlzW29mZnNldCArIGldICogbXVsCiAgfQogIG11bCAqPSAweDgwCgogIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpCgogIHJldHVybiB2YWwKfQoKQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50QkUgPSBmdW5jdGlvbiByZWFkSW50QkUgKG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHsKICBvZmZzZXQgPSBvZmZzZXQgfCAwCiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwCiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCBieXRlTGVuZ3RoLCB0aGlzLmxlbmd0aCkKCiAgdmFyIGkgPSBieXRlTGVuZ3RoCiAgdmFyIG11bCA9IDEKICB2YXIgdmFsID0gdGhpc1tvZmZzZXQgKyAtLWldCiAgd2hpbGUgKGkgPiAwICYmIChtdWwgKj0gMHgxMDApKSB7CiAgICB2YWwgKz0gdGhpc1tvZmZzZXQgKyAtLWldICogbXVsCiAgfQogIG11bCAqPSAweDgwCgogIGlmICh2YWwgPj0gbXVsKSB2YWwgLT0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpCgogIHJldHVybiB2YWwKfQoKQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50OCA9IGZ1bmN0aW9uIHJlYWRJbnQ4IChvZmZzZXQsIG5vQXNzZXJ0KSB7CiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCAxLCB0aGlzLmxlbmd0aCkKICBpZiAoISh0aGlzW29mZnNldF0gJiAweDgwKSkgcmV0dXJuICh0aGlzW29mZnNldF0pCiAgcmV0dXJuICgoMHhmZiAtIHRoaXNbb2Zmc2V0XSArIDEpICogLTEpCn0KCkJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEUgPSBmdW5jdGlvbiByZWFkSW50MTZMRSAob2Zmc2V0LCBub0Fzc2VydCkgewogIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgMiwgdGhpcy5sZW5ndGgpCiAgdmFyIHZhbCA9IHRoaXNbb2Zmc2V0XSB8ICh0aGlzW29mZnNldCArIDFdIDw8IDgpCiAgcmV0dXJuICh2YWwgJiAweDgwMDApID8gdmFsIHwgMHhGRkZGMDAwMCA6IHZhbAp9CgpCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFID0gZnVuY3Rpb24gcmVhZEludDE2QkUgKG9mZnNldCwgbm9Bc3NlcnQpIHsKICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDIsIHRoaXMubGVuZ3RoKQogIHZhciB2YWwgPSB0aGlzW29mZnNldCArIDFdIHwgKHRoaXNbb2Zmc2V0XSA8PCA4KQogIHJldHVybiAodmFsICYgMHg4MDAwKSA/IHZhbCB8IDB4RkZGRjAwMDAgOiB2YWwKfQoKQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJMRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkxFIChvZmZzZXQsIG5vQXNzZXJ0KSB7CiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aCkKCiAgcmV0dXJuICh0aGlzW29mZnNldF0pIHwKICAgICh0aGlzW29mZnNldCArIDFdIDw8IDgpIHwKICAgICh0aGlzW29mZnNldCArIDJdIDw8IDE2KSB8CiAgICAodGhpc1tvZmZzZXQgKyAzXSA8PCAyNCkKfQoKQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJCRSA9IGZ1bmN0aW9uIHJlYWRJbnQzMkJFIChvZmZzZXQsIG5vQXNzZXJ0KSB7CiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aCkKCiAgcmV0dXJuICh0aGlzW29mZnNldF0gPDwgMjQpIHwKICAgICh0aGlzW29mZnNldCArIDFdIDw8IDE2KSB8CiAgICAodGhpc1tvZmZzZXQgKyAyXSA8PCA4KSB8CiAgICAodGhpc1tvZmZzZXQgKyAzXSkKfQoKQnVmZmVyLnByb3RvdHlwZS5yZWFkRmxvYXRMRSA9IGZ1bmN0aW9uIHJlYWRGbG9hdExFIChvZmZzZXQsIG5vQXNzZXJ0KSB7CiAgaWYgKCFub0Fzc2VydCkgY2hlY2tPZmZzZXQob2Zmc2V0LCA0LCB0aGlzLmxlbmd0aCkKICByZXR1cm4gaWVlZTc1NC5yZWFkKHRoaXMsIG9mZnNldCwgdHJ1ZSwgMjMsIDQpCn0KCkJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkUgPSBmdW5jdGlvbiByZWFkRmxvYXRCRSAob2Zmc2V0LCBub0Fzc2VydCkgewogIGlmICghbm9Bc3NlcnQpIGNoZWNrT2Zmc2V0KG9mZnNldCwgNCwgdGhpcy5sZW5ndGgpCiAgcmV0dXJuIGllZWU3NTQucmVhZCh0aGlzLCBvZmZzZXQsIGZhbHNlLCAyMywgNCkKfQoKQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlTEUgPSBmdW5jdGlvbiByZWFkRG91YmxlTEUgKG9mZnNldCwgbm9Bc3NlcnQpIHsKICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKQogIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCB0cnVlLCA1MiwgOCkKfQoKQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkUgPSBmdW5jdGlvbiByZWFkRG91YmxlQkUgKG9mZnNldCwgbm9Bc3NlcnQpIHsKICBpZiAoIW5vQXNzZXJ0KSBjaGVja09mZnNldChvZmZzZXQsIDgsIHRoaXMubGVuZ3RoKQogIHJldHVybiBpZWVlNzU0LnJlYWQodGhpcywgb2Zmc2V0LCBmYWxzZSwgNTIsIDgpCn0KCmZ1bmN0aW9uIGNoZWNrSW50IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHsKICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdidWZmZXIgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpCiAgaWYgKHZhbHVlID4gbWF4IHx8IHZhbHVlIDwgbWluKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcigndmFsdWUgaXMgb3V0IG9mIGJvdW5kcycpCiAgaWYgKG9mZnNldCArIGV4dCA+IGJ1Zi5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdpbmRleCBvdXQgb2YgcmFuZ2UnKQp9CgpCdWZmZXIucHJvdG90eXBlLndyaXRlVUludExFID0gZnVuY3Rpb24gd3JpdGVVSW50TEUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7CiAgdmFsdWUgPSArdmFsdWUKICBvZmZzZXQgPSBvZmZzZXQgfCAwCiAgYnl0ZUxlbmd0aCA9IGJ5dGVMZW5ndGggfCAwCiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGgpLCAwKQoKICB2YXIgbXVsID0gMQogIHZhciBpID0gMAogIHRoaXNbb2Zmc2V0XSA9IHZhbHVlICYgMHhGRgogIHdoaWxlICgrK2kgPCBieXRlTGVuZ3RoICYmIChtdWwgKj0gMHgxMDApKSB7CiAgICB0aGlzW29mZnNldCArIGldID0gKHZhbHVlIC8gbXVsKSAmIDB4RkYKICB9CgogIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoCn0KCkJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnRCRSAodmFsdWUsIG9mZnNldCwgYnl0ZUxlbmd0aCwgbm9Bc3NlcnQpIHsKICB2YWx1ZSA9ICt2YWx1ZQogIG9mZnNldCA9IG9mZnNldCB8IDAKICBieXRlTGVuZ3RoID0gYnl0ZUxlbmd0aCB8IDAKICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBNYXRoLnBvdygyLCA4ICogYnl0ZUxlbmd0aCksIDApCgogIHZhciBpID0gYnl0ZUxlbmd0aCAtIDEKICB2YXIgbXVsID0gMQogIHRoaXNbb2Zmc2V0ICsgaV0gPSB2YWx1ZSAmIDB4RkYKICB3aGlsZSAoLS1pID49IDAgJiYgKG11bCAqPSAweDEwMCkpIHsKICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAodmFsdWUgLyBtdWwpICYgMHhGRgogIH0KCiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGgKfQoKQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQ4ID0gZnVuY3Rpb24gd3JpdGVVSW50OCAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHsKICB2YWx1ZSA9ICt2YWx1ZQogIG9mZnNldCA9IG9mZnNldCB8IDAKICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCAxLCAweGZmLCAwKQogIGlmICghQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHZhbHVlID0gTWF0aC5mbG9vcih2YWx1ZSkKICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKQogIHJldHVybiBvZmZzZXQgKyAxCn0KCmZ1bmN0aW9uIG9iamVjdFdyaXRlVUludDE2IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbikgewogIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmICsgdmFsdWUgKyAxCiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCAyKTsgaSA8IGo7IGkrKykgewogICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlICYgKDB4ZmYgPDwgKDggKiAobGl0dGxlRW5kaWFuID8gaSA6IDEgLSBpKSkpKSA+Pj4KICAgICAgKGxpdHRsZUVuZGlhbiA/IGkgOiAxIC0gaSkgKiA4CiAgfQp9CgpCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkxFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkgewogIHZhbHVlID0gK3ZhbHVlCiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMAogIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMCkKICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHsKICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpCiAgICB0aGlzW29mZnNldCArIDFdID0gKHZhbHVlID4+PiA4KQogIH0gZWxzZSB7CiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKQogIH0KICByZXR1cm4gb2Zmc2V0ICsgMgp9CgpCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2QkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkgewogIHZhbHVlID0gK3ZhbHVlCiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMAogIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4ZmZmZiwgMCkKICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHsKICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOCkKICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKQogIH0gZWxzZSB7CiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSkKICB9CiAgcmV0dXJuIG9mZnNldCArIDIKfQoKZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MzIgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuKSB7CiAgaWYgKHZhbHVlIDwgMCkgdmFsdWUgPSAweGZmZmZmZmZmICsgdmFsdWUgKyAxCiAgZm9yICh2YXIgaSA9IDAsIGogPSBNYXRoLm1pbihidWYubGVuZ3RoIC0gb2Zmc2V0LCA0KTsgaSA8IGo7IGkrKykgewogICAgYnVmW29mZnNldCArIGldID0gKHZhbHVlID4+PiAobGl0dGxlRW5kaWFuID8gaSA6IDMgLSBpKSAqIDgpICYgMHhmZgogIH0KfQoKQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkxFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJMRSAodmFsdWUsIG9mZnNldCwgbm9Bc3NlcnQpIHsKICB2YWx1ZSA9ICt2YWx1ZQogIG9mZnNldCA9IG9mZnNldCB8IDAKICBpZiAoIW5vQXNzZXJ0KSBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCA0LCAweGZmZmZmZmZmLCAwKQogIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgewogICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpCiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiAxNikKICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpCiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKQogIH0gZWxzZSB7CiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCB0cnVlKQogIH0KICByZXR1cm4gb2Zmc2V0ICsgNAp9CgpCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkUgPSBmdW5jdGlvbiB3cml0ZVVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkgewogIHZhbHVlID0gK3ZhbHVlCiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMAogIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4ZmZmZmZmZmYsIDApCiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7CiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgPj4+IDI0KQogICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gMTYpCiAgICB0aGlzW29mZnNldCArIDJdID0gKHZhbHVlID4+PiA4KQogICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSAmIDB4ZmYpCiAgfSBlbHNlIHsKICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlKQogIH0KICByZXR1cm4gb2Zmc2V0ICsgNAp9CgpCdWZmZXIucHJvdG90eXBlLndyaXRlSW50TEUgPSBmdW5jdGlvbiB3cml0ZUludExFICh2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBub0Fzc2VydCkgewogIHZhbHVlID0gK3ZhbHVlCiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMAogIGlmICghbm9Bc3NlcnQpIHsKICAgIHZhciBsaW1pdCA9IE1hdGgucG93KDIsIDggKiBieXRlTGVuZ3RoIC0gMSkKCiAgICBjaGVja0ludCh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBieXRlTGVuZ3RoLCBsaW1pdCAtIDEsIC1saW1pdCkKICB9CgogIHZhciBpID0gMAogIHZhciBtdWwgPSAxCiAgdmFyIHN1YiA9IHZhbHVlIDwgMCA/IDEgOiAwCiAgdGhpc1tvZmZzZXRdID0gdmFsdWUgJiAweEZGCiAgd2hpbGUgKCsraSA8IGJ5dGVMZW5ndGggJiYgKG11bCAqPSAweDEwMCkpIHsKICAgIHRoaXNbb2Zmc2V0ICsgaV0gPSAoKHZhbHVlIC8gbXVsKSA+PiAwKSAtIHN1YiAmIDB4RkYKICB9CgogIHJldHVybiBvZmZzZXQgKyBieXRlTGVuZ3RoCn0KCkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRCRSA9IGZ1bmN0aW9uIHdyaXRlSW50QkUgKHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIG5vQXNzZXJ0KSB7CiAgdmFsdWUgPSArdmFsdWUKICBvZmZzZXQgPSBvZmZzZXQgfCAwCiAgaWYgKCFub0Fzc2VydCkgewogICAgdmFyIGxpbWl0ID0gTWF0aC5wb3coMiwgOCAqIGJ5dGVMZW5ndGggLSAxKQoKICAgIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGJ5dGVMZW5ndGgsIGxpbWl0IC0gMSwgLWxpbWl0KQogIH0KCiAgdmFyIGkgPSBieXRlTGVuZ3RoIC0gMQogIHZhciBtdWwgPSAxCiAgdmFyIHN1YiA9IHZhbHVlIDwgMCA/IDEgOiAwCiAgdGhpc1tvZmZzZXQgKyBpXSA9IHZhbHVlICYgMHhGRgogIHdoaWxlICgtLWkgPj0gMCAmJiAobXVsICo9IDB4MTAwKSkgewogICAgdGhpc1tvZmZzZXQgKyBpXSA9ICgodmFsdWUgLyBtdWwpID4+IDApIC0gc3ViICYgMHhGRgogIH0KCiAgcmV0dXJuIG9mZnNldCArIGJ5dGVMZW5ndGgKfQoKQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDggPSBmdW5jdGlvbiB3cml0ZUludDggKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7CiAgdmFsdWUgPSArdmFsdWUKICBvZmZzZXQgPSBvZmZzZXQgfCAwCiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMSwgMHg3ZiwgLTB4ODApCiAgaWYgKCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgdmFsdWUgPSBNYXRoLmZsb29yKHZhbHVlKQogIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZiArIHZhbHVlICsgMQogIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSAmIDB4ZmYpCiAgcmV0dXJuIG9mZnNldCArIDEKfQoKQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEUgPSBmdW5jdGlvbiB3cml0ZUludDE2TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7CiAgdmFsdWUgPSArdmFsdWUKICBvZmZzZXQgPSBvZmZzZXQgfCAwCiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgMiwgMHg3ZmZmLCAtMHg4MDAwKQogIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgewogICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlICYgMHhmZikKICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDgpCiAgfSBlbHNlIHsKICAgIG9iamVjdFdyaXRlVUludDE2KHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpCiAgfQogIHJldHVybiBvZmZzZXQgKyAyCn0KCkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkJFID0gZnVuY3Rpb24gd3JpdGVJbnQxNkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkgewogIHZhbHVlID0gK3ZhbHVlCiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMAogIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDIsIDB4N2ZmZiwgLTB4ODAwMCkKICBpZiAoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHsKICAgIHRoaXNbb2Zmc2V0XSA9ICh2YWx1ZSA+Pj4gOCkKICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgJiAweGZmKQogIH0gZWxzZSB7CiAgICBvYmplY3RXcml0ZVVJbnQxNih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSkKICB9CiAgcmV0dXJuIG9mZnNldCArIDIKfQoKQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEUgPSBmdW5jdGlvbiB3cml0ZUludDMyTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7CiAgdmFsdWUgPSArdmFsdWUKICBvZmZzZXQgPSBvZmZzZXQgfCAwCiAgaWYgKCFub0Fzc2VydCkgY2hlY2tJbnQodGhpcywgdmFsdWUsIG9mZnNldCwgNCwgMHg3ZmZmZmZmZiwgLTB4ODAwMDAwMDApCiAgaWYgKEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKSB7CiAgICB0aGlzW29mZnNldF0gPSAodmFsdWUgJiAweGZmKQogICAgdGhpc1tvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+Pj4gOCkKICAgIHRoaXNbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4+IDE2KQogICAgdGhpc1tvZmZzZXQgKyAzXSA9ICh2YWx1ZSA+Pj4gMjQpCiAgfSBlbHNlIHsKICAgIG9iamVjdFdyaXRlVUludDMyKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUpCiAgfQogIHJldHVybiBvZmZzZXQgKyA0Cn0KCkJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVJbnQzMkJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkgewogIHZhbHVlID0gK3ZhbHVlCiAgb2Zmc2V0ID0gb2Zmc2V0IHwgMAogIGlmICghbm9Bc3NlcnQpIGNoZWNrSW50KHRoaXMsIHZhbHVlLCBvZmZzZXQsIDQsIDB4N2ZmZmZmZmYsIC0weDgwMDAwMDAwKQogIGlmICh2YWx1ZSA8IDApIHZhbHVlID0gMHhmZmZmZmZmZiArIHZhbHVlICsgMQogIGlmIChCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCkgewogICAgdGhpc1tvZmZzZXRdID0gKHZhbHVlID4+PiAyNCkKICAgIHRoaXNbb2Zmc2V0ICsgMV0gPSAodmFsdWUgPj4+IDE2KQogICAgdGhpc1tvZmZzZXQgKyAyXSA9ICh2YWx1ZSA+Pj4gOCkKICAgIHRoaXNbb2Zmc2V0ICsgM10gPSAodmFsdWUgJiAweGZmKQogIH0gZWxzZSB7CiAgICBvYmplY3RXcml0ZVVJbnQzMih0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSkKICB9CiAgcmV0dXJuIG9mZnNldCArIDQKfQoKZnVuY3Rpb24gY2hlY2tJRUVFNzU0IChidWYsIHZhbHVlLCBvZmZzZXQsIGV4dCwgbWF4LCBtaW4pIHsKICBpZiAob2Zmc2V0ICsgZXh0ID4gYnVmLmxlbmd0aCkgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ2luZGV4IG91dCBvZiByYW5nZScpCiAgaWYgKG9mZnNldCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdpbmRleCBvdXQgb2YgcmFuZ2UnKQp9CgpmdW5jdGlvbiB3cml0ZUZsb2F0IChidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgbm9Bc3NlcnQpIHsKICBpZiAoIW5vQXNzZXJ0KSB7CiAgICBjaGVja0lFRUU3NTQoYnVmLCB2YWx1ZSwgb2Zmc2V0LCA0LCAzLjQwMjgyMzQ2NjM4NTI4ODZlKzM4LCAtMy40MDI4MjM0NjYzODUyODg2ZSszOCkKICB9CiAgaWVlZTc1NC53cml0ZShidWYsIHZhbHVlLCBvZmZzZXQsIGxpdHRsZUVuZGlhbiwgMjMsIDQpCiAgcmV0dXJuIG9mZnNldCArIDQKfQoKQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0TEUgPSBmdW5jdGlvbiB3cml0ZUZsb2F0TEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7CiAgcmV0dXJuIHdyaXRlRmxvYXQodGhpcywgdmFsdWUsIG9mZnNldCwgdHJ1ZSwgbm9Bc3NlcnQpCn0KCkJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFID0gZnVuY3Rpb24gd3JpdGVGbG9hdEJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkgewogIHJldHVybiB3cml0ZUZsb2F0KHRoaXMsIHZhbHVlLCBvZmZzZXQsIGZhbHNlLCBub0Fzc2VydCkKfQoKZnVuY3Rpb24gd3JpdGVEb3VibGUgKGJ1ZiwgdmFsdWUsIG9mZnNldCwgbGl0dGxlRW5kaWFuLCBub0Fzc2VydCkgewogIGlmICghbm9Bc3NlcnQpIHsKICAgIGNoZWNrSUVFRTc1NChidWYsIHZhbHVlLCBvZmZzZXQsIDgsIDEuNzk3NjkzMTM0ODYyMzE1N0UrMzA4LCAtMS43OTc2OTMxMzQ4NjIzMTU3RSszMDgpCiAgfQogIGllZWU3NTQud3JpdGUoYnVmLCB2YWx1ZSwgb2Zmc2V0LCBsaXR0bGVFbmRpYW4sIDUyLCA4KQogIHJldHVybiBvZmZzZXQgKyA4Cn0KCkJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRSA9IGZ1bmN0aW9uIHdyaXRlRG91YmxlTEUgKHZhbHVlLCBvZmZzZXQsIG5vQXNzZXJ0KSB7CiAgcmV0dXJuIHdyaXRlRG91YmxlKHRoaXMsIHZhbHVlLCBvZmZzZXQsIHRydWUsIG5vQXNzZXJ0KQp9CgpCdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkUgPSBmdW5jdGlvbiB3cml0ZURvdWJsZUJFICh2YWx1ZSwgb2Zmc2V0LCBub0Fzc2VydCkgewogIHJldHVybiB3cml0ZURvdWJsZSh0aGlzLCB2YWx1ZSwgb2Zmc2V0LCBmYWxzZSwgbm9Bc3NlcnQpCn0KCi8vIGNvcHkodGFyZ2V0QnVmZmVyLCB0YXJnZXRTdGFydD0wLCBzb3VyY2VTdGFydD0wLCBzb3VyY2VFbmQ9YnVmZmVyLmxlbmd0aCkKQnVmZmVyLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gY29weSAodGFyZ2V0LCB0YXJnZXRTdGFydCwgc3RhcnQsIGVuZCkgewogIGlmICghc3RhcnQpIHN0YXJ0ID0gMAogIGlmICghZW5kICYmIGVuZCAhPT0gMCkgZW5kID0gdGhpcy5sZW5ndGgKICBpZiAodGFyZ2V0U3RhcnQgPj0gdGFyZ2V0Lmxlbmd0aCkgdGFyZ2V0U3RhcnQgPSB0YXJnZXQubGVuZ3RoCiAgaWYgKCF0YXJnZXRTdGFydCkgdGFyZ2V0U3RhcnQgPSAwCiAgaWYgKGVuZCA+IDAgJiYgZW5kIDwgc3RhcnQpIGVuZCA9IHN0YXJ0CgogIC8vIENvcHkgMCBieXRlczsgd2UncmUgZG9uZQogIGlmIChlbmQgPT09IHN0YXJ0KSByZXR1cm4gMAogIGlmICh0YXJnZXQubGVuZ3RoID09PSAwIHx8IHRoaXMubGVuZ3RoID09PSAwKSByZXR1cm4gMAoKICAvLyBGYXRhbCBlcnJvciBjb25kaXRpb25zCiAgaWYgKHRhcmdldFN0YXJ0IDwgMCkgewogICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ3RhcmdldFN0YXJ0IG91dCBvZiBib3VuZHMnKQogIH0KICBpZiAoc3RhcnQgPCAwIHx8IHN0YXJ0ID49IHRoaXMubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc291cmNlU3RhcnQgb3V0IG9mIGJvdW5kcycpCiAgaWYgKGVuZCA8IDApIHRocm93IG5ldyBSYW5nZUVycm9yKCdzb3VyY2VFbmQgb3V0IG9mIGJvdW5kcycpCgogIC8vIEFyZSB3ZSBvb2I/CiAgaWYgKGVuZCA+IHRoaXMubGVuZ3RoKSBlbmQgPSB0aGlzLmxlbmd0aAogIGlmICh0YXJnZXQubGVuZ3RoIC0gdGFyZ2V0U3RhcnQgPCBlbmQgLSBzdGFydCkgewogICAgZW5kID0gdGFyZ2V0Lmxlbmd0aCAtIHRhcmdldFN0YXJ0ICsgc3RhcnQKICB9CgogIHZhciBsZW4gPSBlbmQgLSBzdGFydAogIHZhciBpCgogIGlmICh0aGlzID09PSB0YXJnZXQgJiYgc3RhcnQgPCB0YXJnZXRTdGFydCAmJiB0YXJnZXRTdGFydCA8IGVuZCkgewogICAgLy8gZGVzY2VuZGluZyBjb3B5IGZyb20gZW5kCiAgICBmb3IgKGkgPSBsZW4gLSAxOyBpID49IDA7IGktLSkgewogICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XQogICAgfQogIH0gZWxzZSBpZiAobGVuIDwgMTAwMCB8fCAhQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpIHsKICAgIC8vIGFzY2VuZGluZyBjb3B5IGZyb20gc3RhcnQKICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICB0YXJnZXRbaSArIHRhcmdldFN0YXJ0XSA9IHRoaXNbaSArIHN0YXJ0XQogICAgfQogIH0gZWxzZSB7CiAgICBVaW50OEFycmF5LnByb3RvdHlwZS5zZXQuY2FsbCgKICAgICAgdGFyZ2V0LAogICAgICB0aGlzLnN1YmFycmF5KHN0YXJ0LCBzdGFydCArIGxlbiksCiAgICAgIHRhcmdldFN0YXJ0CiAgICApCiAgfQoKICByZXR1cm4gbGVuCn0KCi8vIGZpbGwodmFsdWUsIHN0YXJ0PTAsIGVuZD1idWZmZXIubGVuZ3RoKQpCdWZmZXIucHJvdG90eXBlLmZpbGwgPSBmdW5jdGlvbiBmaWxsICh2YWx1ZSwgc3RhcnQsIGVuZCkgewogIGlmICghdmFsdWUpIHZhbHVlID0gMAogIGlmICghc3RhcnQpIHN0YXJ0ID0gMAogIGlmICghZW5kKSBlbmQgPSB0aGlzLmxlbmd0aAoKICBpZiAoZW5kIDwgc3RhcnQpIHRocm93IG5ldyBSYW5nZUVycm9yKCdlbmQgPCBzdGFydCcpCgogIC8vIEZpbGwgMCBieXRlczsgd2UncmUgZG9uZQogIGlmIChlbmQgPT09IHN0YXJ0KSByZXR1cm4KICBpZiAodGhpcy5sZW5ndGggPT09IDApIHJldHVybgoKICBpZiAoc3RhcnQgPCAwIHx8IHN0YXJ0ID49IHRoaXMubGVuZ3RoKSB0aHJvdyBuZXcgUmFuZ2VFcnJvcignc3RhcnQgb3V0IG9mIGJvdW5kcycpCiAgaWYgKGVuZCA8IDAgfHwgZW5kID4gdGhpcy5sZW5ndGgpIHRocm93IG5ldyBSYW5nZUVycm9yKCdlbmQgb3V0IG9mIGJvdW5kcycpCgogIHZhciBpCiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHsKICAgIGZvciAoaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHsKICAgICAgdGhpc1tpXSA9IHZhbHVlCiAgICB9CiAgfSBlbHNlIHsKICAgIHZhciBieXRlcyA9IHV0ZjhUb0J5dGVzKHZhbHVlLnRvU3RyaW5nKCkpCiAgICB2YXIgbGVuID0gYnl0ZXMubGVuZ3RoCiAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7CiAgICAgIHRoaXNbaV0gPSBieXRlc1tpICUgbGVuXQogICAgfQogIH0KCiAgcmV0dXJuIHRoaXMKfQoKLy8gSEVMUEVSIEZVTkNUSU9OUwovLyA9PT09PT09PT09PT09PT09Cgp2YXIgSU5WQUxJRF9CQVNFNjRfUkUgPSAvW14rXC8wLTlBLVphLXotX10vZwoKZnVuY3Rpb24gYmFzZTY0Y2xlYW4gKHN0cikgewogIC8vIE5vZGUgc3RyaXBzIG91dCBpbnZhbGlkIGNoYXJhY3RlcnMgbGlrZSBcbiBhbmQgXHQgZnJvbSB0aGUgc3RyaW5nLCBiYXNlNjQtanMgZG9lcyBub3QKICBzdHIgPSBzdHJpbmd0cmltKHN0cikucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSwgJycpCiAgLy8gTm9kZSBjb252ZXJ0cyBzdHJpbmdzIHdpdGggbGVuZ3RoIDwgMiB0byAnJwogIGlmIChzdHIubGVuZ3RoIDwgMikgcmV0dXJuICcnCiAgLy8gTm9kZSBhbGxvd3MgZm9yIG5vbi1wYWRkZWQgYmFzZTY0IHN0cmluZ3MgKG1pc3NpbmcgdHJhaWxpbmcgPT09KSwgYmFzZTY0LWpzIGRvZXMgbm90CiAgd2hpbGUgKHN0ci5sZW5ndGggJSA0ICE9PSAwKSB7CiAgICBzdHIgPSBzdHIgKyAnPScKICB9CiAgcmV0dXJuIHN0cgp9CgpmdW5jdGlvbiBzdHJpbmd0cmltIChzdHIpIHsKICBpZiAoc3RyLnRyaW0pIHJldHVybiBzdHIudHJpbSgpCiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXHMrfFxzKyQvZywgJycpCn0KCmZ1bmN0aW9uIHRvSGV4IChuKSB7CiAgaWYgKG4gPCAxNikgcmV0dXJuICcwJyArIG4udG9TdHJpbmcoMTYpCiAgcmV0dXJuIG4udG9TdHJpbmcoMTYpCn0KCmZ1bmN0aW9uIHV0ZjhUb0J5dGVzIChzdHJpbmcsIHVuaXRzKSB7CiAgdW5pdHMgPSB1bml0cyB8fCBJbmZpbml0eQogIHZhciBjb2RlUG9pbnQKICB2YXIgbGVuZ3RoID0gc3RyaW5nLmxlbmd0aAogIHZhciBsZWFkU3Vycm9nYXRlID0gbnVsbAogIHZhciBieXRlcyA9IFtdCgogIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgIGNvZGVQb2ludCA9IHN0cmluZy5jaGFyQ29kZUF0KGkpCgogICAgLy8gaXMgc3Vycm9nYXRlIGNvbXBvbmVudAogICAgaWYgKGNvZGVQb2ludCA+IDB4RDdGRiAmJiBjb2RlUG9pbnQgPCAweEUwMDApIHsKICAgICAgLy8gbGFzdCBjaGFyIHdhcyBhIGxlYWQKICAgICAgaWYgKCFsZWFkU3Vycm9nYXRlKSB7CiAgICAgICAgLy8gbm8gbGVhZCB5ZXQKICAgICAgICBpZiAoY29kZVBvaW50ID4gMHhEQkZGKSB7CiAgICAgICAgICAvLyB1bmV4cGVjdGVkIHRyYWlsCiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRCkKICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgfSBlbHNlIGlmIChpICsgMSA9PT0gbGVuZ3RoKSB7CiAgICAgICAgICAvLyB1bnBhaXJlZCBsZWFkCiAgICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRCkKICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgfQoKICAgICAgICAvLyB2YWxpZCBsZWFkCiAgICAgICAgbGVhZFN1cnJvZ2F0ZSA9IGNvZGVQb2ludAoKICAgICAgICBjb250aW51ZQogICAgICB9CgogICAgICAvLyAyIGxlYWRzIGluIGEgcm93CiAgICAgIGlmIChjb2RlUG9pbnQgPCAweERDMDApIHsKICAgICAgICBpZiAoKHVuaXRzIC09IDMpID4gLTEpIGJ5dGVzLnB1c2goMHhFRiwgMHhCRiwgMHhCRCkKICAgICAgICBsZWFkU3Vycm9nYXRlID0gY29kZVBvaW50CiAgICAgICAgY29udGludWUKICAgICAgfQoKICAgICAgLy8gdmFsaWQgc3Vycm9nYXRlIHBhaXIKICAgICAgY29kZVBvaW50ID0gKGxlYWRTdXJyb2dhdGUgLSAweEQ4MDAgPDwgMTAgfCBjb2RlUG9pbnQgLSAweERDMDApICsgMHgxMDAwMAogICAgfSBlbHNlIGlmIChsZWFkU3Vycm9nYXRlKSB7CiAgICAgIC8vIHZhbGlkIGJtcCBjaGFyLCBidXQgbGFzdCBjaGFyIHdhcyBhIGxlYWQKICAgICAgaWYgKCh1bml0cyAtPSAzKSA+IC0xKSBieXRlcy5wdXNoKDB4RUYsIDB4QkYsIDB4QkQpCiAgICB9CgogICAgbGVhZFN1cnJvZ2F0ZSA9IG51bGwKCiAgICAvLyBlbmNvZGUgdXRmOAogICAgaWYgKGNvZGVQb2ludCA8IDB4ODApIHsKICAgICAgaWYgKCh1bml0cyAtPSAxKSA8IDApIGJyZWFrCiAgICAgIGJ5dGVzLnB1c2goY29kZVBvaW50KQogICAgfSBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDgwMCkgewogICAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWsKICAgICAgYnl0ZXMucHVzaCgKICAgICAgICBjb2RlUG9pbnQgPj4gMHg2IHwgMHhDMCwKICAgICAgICBjb2RlUG9pbnQgJiAweDNGIHwgMHg4MAogICAgICApCiAgICB9IGVsc2UgaWYgKGNvZGVQb2ludCA8IDB4MTAwMDApIHsKICAgICAgaWYgKCh1bml0cyAtPSAzKSA8IDApIGJyZWFrCiAgICAgIGJ5dGVzLnB1c2goCiAgICAgICAgY29kZVBvaW50ID4+IDB4QyB8IDB4RTAsCiAgICAgICAgY29kZVBvaW50ID4+IDB4NiAmIDB4M0YgfCAweDgwLAogICAgICAgIGNvZGVQb2ludCAmIDB4M0YgfCAweDgwCiAgICAgICkKICAgIH0gZWxzZSBpZiAoY29kZVBvaW50IDwgMHgxMTAwMDApIHsKICAgICAgaWYgKCh1bml0cyAtPSA0KSA8IDApIGJyZWFrCiAgICAgIGJ5dGVzLnB1c2goCiAgICAgICAgY29kZVBvaW50ID4+IDB4MTIgfCAweEYwLAogICAgICAgIGNvZGVQb2ludCA+PiAweEMgJiAweDNGIHwgMHg4MCwKICAgICAgICBjb2RlUG9pbnQgPj4gMHg2ICYgMHgzRiB8IDB4ODAsCiAgICAgICAgY29kZVBvaW50ICYgMHgzRiB8IDB4ODAKICAgICAgKQogICAgfSBlbHNlIHsKICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvZGUgcG9pbnQnKQogICAgfQogIH0KCiAgcmV0dXJuIGJ5dGVzCn0KCmZ1bmN0aW9uIGFzY2lpVG9CeXRlcyAoc3RyKSB7CiAgdmFyIGJ5dGVBcnJheSA9IFtdCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHsKICAgIC8vIE5vZGUncyBjb2RlIHNlZW1zIHRvIGJlIGRvaW5nIHRoaXMgYW5kIG5vdCAmIDB4N0YuLgogICAgYnl0ZUFycmF5LnB1c2goc3RyLmNoYXJDb2RlQXQoaSkgJiAweEZGKQogIH0KICByZXR1cm4gYnl0ZUFycmF5Cn0KCmZ1bmN0aW9uIHV0ZjE2bGVUb0J5dGVzIChzdHIsIHVuaXRzKSB7CiAgdmFyIGMsIGhpLCBsbwogIHZhciBieXRlQXJyYXkgPSBbXQogIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7CiAgICBpZiAoKHVuaXRzIC09IDIpIDwgMCkgYnJlYWsKCiAgICBjID0gc3RyLmNoYXJDb2RlQXQoaSkKICAgIGhpID0gYyA+PiA4CiAgICBsbyA9IGMgJSAyNTYKICAgIGJ5dGVBcnJheS5wdXNoKGxvKQogICAgYnl0ZUFycmF5LnB1c2goaGkpCiAgfQoKICByZXR1cm4gYnl0ZUFycmF5Cn0KCmZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMgKHN0cikgewogIHJldHVybiBiYXNlNjQudG9CeXRlQXJyYXkoYmFzZTY0Y2xlYW4oc3RyKSkKfQoKZnVuY3Rpb24gYmxpdEJ1ZmZlciAoc3JjLCBkc3QsIG9mZnNldCwgbGVuZ3RoKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgaWYgKChpICsgb2Zmc2V0ID49IGRzdC5sZW5ndGgpIHx8IChpID49IHNyYy5sZW5ndGgpKSBicmVhawogICAgZHN0W2kgKyBvZmZzZXRdID0gc3JjW2ldCiAgfQogIHJldHVybiBpCn0KCn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHsiYmFzZTY0LWpzIjoxNiwiaWVlZTc1NCI6MTI2LCJpc2FycmF5Ijo3N31dLDc3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKdmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7Cgptb2R1bGUuZXhwb3J0cyA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKGFycikgewogIHJldHVybiB0b1N0cmluZy5jYWxsKGFycikgPT0gJ1tvYmplY3QgQXJyYXldJzsKfTsKCn0se31dLDc4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChCdWZmZXIpewp2YXIgVHJhbnNmb3JtID0gcmVxdWlyZSgnc3RyZWFtJykuVHJhbnNmb3JtCnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJykKdmFyIFN0cmluZ0RlY29kZXIgPSByZXF1aXJlKCdzdHJpbmdfZGVjb2RlcicpLlN0cmluZ0RlY29kZXIKbW9kdWxlLmV4cG9ydHMgPSBDaXBoZXJCYXNlCmluaGVyaXRzKENpcGhlckJhc2UsIFRyYW5zZm9ybSkKZnVuY3Rpb24gQ2lwaGVyQmFzZSAoaGFzaE1vZGUpIHsKICBUcmFuc2Zvcm0uY2FsbCh0aGlzKQogIHRoaXMuaGFzaE1vZGUgPSB0eXBlb2YgaGFzaE1vZGUgPT09ICdzdHJpbmcnCiAgaWYgKHRoaXMuaGFzaE1vZGUpIHsKICAgIHRoaXNbaGFzaE1vZGVdID0gdGhpcy5fZmluYWxPckRpZ2VzdAogIH0gZWxzZSB7CiAgICB0aGlzLmZpbmFsID0gdGhpcy5fZmluYWxPckRpZ2VzdAogIH0KICB0aGlzLl9kZWNvZGVyID0gbnVsbAogIHRoaXMuX2VuY29kaW5nID0gbnVsbAp9CkNpcGhlckJhc2UucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uIChkYXRhLCBpbnB1dEVuYywgb3V0cHV0RW5jKSB7CiAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykgewogICAgZGF0YSA9IG5ldyBCdWZmZXIoZGF0YSwgaW5wdXRFbmMpCiAgfQogIHZhciBvdXREYXRhID0gdGhpcy5fdXBkYXRlKGRhdGEpCiAgaWYgKHRoaXMuaGFzaE1vZGUpIHsKICAgIHJldHVybiB0aGlzCiAgfQogIGlmIChvdXRwdXRFbmMpIHsKICAgIG91dERhdGEgPSB0aGlzLl90b1N0cmluZyhvdXREYXRhLCBvdXRwdXRFbmMpCiAgfQogIHJldHVybiBvdXREYXRhCn0KCkNpcGhlckJhc2UucHJvdG90eXBlLnNldEF1dG9QYWRkaW5nID0gZnVuY3Rpb24gKCkge30KCkNpcGhlckJhc2UucHJvdG90eXBlLmdldEF1dGhUYWcgPSBmdW5jdGlvbiAoKSB7CiAgdGhyb3cgbmV3IEVycm9yKCd0cnlpbmcgdG8gZ2V0IGF1dGggdGFnIGluIHVuc3VwcG9ydGVkIHN0YXRlJykKfQoKQ2lwaGVyQmFzZS5wcm90b3R5cGUuc2V0QXV0aFRhZyA9IGZ1bmN0aW9uICgpIHsKICB0aHJvdyBuZXcgRXJyb3IoJ3RyeWluZyB0byBzZXQgYXV0aCB0YWcgaW4gdW5zdXBwb3J0ZWQgc3RhdGUnKQp9CgpDaXBoZXJCYXNlLnByb3RvdHlwZS5zZXRBQUQgPSBmdW5jdGlvbiAoKSB7CiAgdGhyb3cgbmV3IEVycm9yKCd0cnlpbmcgdG8gc2V0IGFhZCBpbiB1bnN1cHBvcnRlZCBzdGF0ZScpCn0KCkNpcGhlckJhc2UucHJvdG90eXBlLl90cmFuc2Zvcm0gPSBmdW5jdGlvbiAoZGF0YSwgXywgbmV4dCkgewogIHZhciBlcnIKICB0cnkgewogICAgaWYgKHRoaXMuaGFzaE1vZGUpIHsKICAgICAgdGhpcy5fdXBkYXRlKGRhdGEpCiAgICB9IGVsc2UgewogICAgICB0aGlzLnB1c2godGhpcy5fdXBkYXRlKGRhdGEpKQogICAgfQogIH0gY2F0Y2ggKGUpIHsKICAgIGVyciA9IGUKICB9IGZpbmFsbHkgewogICAgbmV4dChlcnIpCiAgfQp9CkNpcGhlckJhc2UucHJvdG90eXBlLl9mbHVzaCA9IGZ1bmN0aW9uIChkb25lKSB7CiAgdmFyIGVycgogIHRyeSB7CiAgICB0aGlzLnB1c2godGhpcy5fZmluYWwoKSkKICB9IGNhdGNoIChlKSB7CiAgICBlcnIgPSBlCiAgfSBmaW5hbGx5IHsKICAgIGRvbmUoZXJyKQogIH0KfQpDaXBoZXJCYXNlLnByb3RvdHlwZS5fZmluYWxPckRpZ2VzdCA9IGZ1bmN0aW9uIChvdXRwdXRFbmMpIHsKICB2YXIgb3V0RGF0YSA9IHRoaXMuX2ZpbmFsKCkgfHwgbmV3IEJ1ZmZlcignJykKICBpZiAob3V0cHV0RW5jKSB7CiAgICBvdXREYXRhID0gdGhpcy5fdG9TdHJpbmcob3V0RGF0YSwgb3V0cHV0RW5jLCB0cnVlKQogIH0KICByZXR1cm4gb3V0RGF0YQp9CgpDaXBoZXJCYXNlLnByb3RvdHlwZS5fdG9TdHJpbmcgPSBmdW5jdGlvbiAodmFsdWUsIGVuYywgZmluYWwpIHsKICBpZiAoIXRoaXMuX2RlY29kZXIpIHsKICAgIHRoaXMuX2RlY29kZXIgPSBuZXcgU3RyaW5nRGVjb2RlcihlbmMpCiAgICB0aGlzLl9lbmNvZGluZyA9IGVuYwogIH0KICBpZiAodGhpcy5fZW5jb2RpbmcgIT09IGVuYykgewogICAgdGhyb3cgbmV3IEVycm9yKCdjYW5cJ3Qgc3dpdGNoIGVuY29kaW5ncycpCiAgfQogIHZhciBvdXQgPSB0aGlzLl9kZWNvZGVyLndyaXRlKHZhbHVlKQogIGlmIChmaW5hbCkgewogICAgb3V0ICs9IHRoaXMuX2RlY29kZXIuZW5kKCkKICB9CiAgcmV0dXJuIG91dAp9Cgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiYnVmZmVyIjo3NiwiaW5oZXJpdHMiOjEyOCwic3RyZWFtIjoxNzAsInN0cmluZ19kZWNvZGVyIjoxNzF9XSw3OTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuCi8vCi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhCi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUKLy8gIlNvZnR3YXJlIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZwovLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsCi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQKLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlCi8vIGZvbGxvd2luZyBjb25kaXRpb25zOgovLwovLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZAovLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KLy8KLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MKLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRgovLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOCi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLAovLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IKLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRQovLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLgoKLy8gTk9URTogVGhlc2UgdHlwZSBjaGVja2luZyBmdW5jdGlvbnMgaW50ZW50aW9uYWxseSBkb24ndCB1c2UgYGluc3RhbmNlb2ZgCi8vIGJlY2F1c2UgaXQgaXMgZnJhZ2lsZSBhbmQgY2FuIGJlIGVhc2lseSBmYWtlZCB3aXRoIGBPYmplY3QuY3JlYXRlKClgLgoKZnVuY3Rpb24gaXNBcnJheShhcmcpIHsKICBpZiAoQXJyYXkuaXNBcnJheSkgewogICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXJnKTsKICB9CiAgcmV0dXJuIG9iamVjdFRvU3RyaW5nKGFyZykgPT09ICdbb2JqZWN0IEFycmF5XSc7Cn0KZXhwb3J0cy5pc0FycmF5ID0gaXNBcnJheTsKCmZ1bmN0aW9uIGlzQm9vbGVhbihhcmcpIHsKICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nOwp9CmV4cG9ydHMuaXNCb29sZWFuID0gaXNCb29sZWFuOwoKZnVuY3Rpb24gaXNOdWxsKGFyZykgewogIHJldHVybiBhcmcgPT09IG51bGw7Cn0KZXhwb3J0cy5pc051bGwgPSBpc051bGw7CgpmdW5jdGlvbiBpc051bGxPclVuZGVmaW5lZChhcmcpIHsKICByZXR1cm4gYXJnID09IG51bGw7Cn0KZXhwb3J0cy5pc051bGxPclVuZGVmaW5lZCA9IGlzTnVsbE9yVW5kZWZpbmVkOwoKZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7CiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInOwp9CmV4cG9ydHMuaXNOdW1iZXIgPSBpc051bWJlcjsKCmZ1bmN0aW9uIGlzU3RyaW5nKGFyZykgewogIHJldHVybiB0eXBlb2YgYXJnID09PSAnc3RyaW5nJzsKfQpleHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7CgpmdW5jdGlvbiBpc1N5bWJvbChhcmcpIHsKICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCc7Cn0KZXhwb3J0cy5pc1N5bWJvbCA9IGlzU3ltYm9sOwoKZnVuY3Rpb24gaXNVbmRlZmluZWQoYXJnKSB7CiAgcmV0dXJuIGFyZyA9PT0gdm9pZCAwOwp9CmV4cG9ydHMuaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDsKCmZ1bmN0aW9uIGlzUmVnRXhwKHJlKSB7CiAgcmV0dXJuIG9iamVjdFRvU3RyaW5nKHJlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7Cn0KZXhwb3J0cy5pc1JlZ0V4cCA9IGlzUmVnRXhwOwoKZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7CiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmIGFyZyAhPT0gbnVsbDsKfQpleHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7CgpmdW5jdGlvbiBpc0RhdGUoZCkgewogIHJldHVybiBvYmplY3RUb1N0cmluZyhkKSA9PT0gJ1tvYmplY3QgRGF0ZV0nOwp9CmV4cG9ydHMuaXNEYXRlID0gaXNEYXRlOwoKZnVuY3Rpb24gaXNFcnJvcihlKSB7CiAgcmV0dXJuIChvYmplY3RUb1N0cmluZyhlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB8fCBlIGluc3RhbmNlb2YgRXJyb3IpOwp9CmV4cG9ydHMuaXNFcnJvciA9IGlzRXJyb3I7CgpmdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykgewogIHJldHVybiB0eXBlb2YgYXJnID09PSAnZnVuY3Rpb24nOwp9CmV4cG9ydHMuaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247CgpmdW5jdGlvbiBpc1ByaW1pdGl2ZShhcmcpIHsKICByZXR1cm4gYXJnID09PSBudWxsIHx8CiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJyB8fAogICAgICAgICB0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fAogICAgICAgICB0eXBlb2YgYXJnID09PSAnc3RyaW5nJyB8fAogICAgICAgICB0eXBlb2YgYXJnID09PSAnc3ltYm9sJyB8fCAgLy8gRVM2IHN5bWJvbAogICAgICAgICB0eXBlb2YgYXJnID09PSAndW5kZWZpbmVkJzsKfQpleHBvcnRzLmlzUHJpbWl0aXZlID0gaXNQcmltaXRpdmU7CgpleHBvcnRzLmlzQnVmZmVyID0gQnVmZmVyLmlzQnVmZmVyOwoKZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobykgewogIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7Cn0KCn0pLmNhbGwodGhpcyx7ImlzQnVmZmVyIjpyZXF1aXJlKCIuLi8uLi9pcy1idWZmZXIvaW5kZXguanMiKX0pCn0seyIuLi8uLi9pcy1idWZmZXIvaW5kZXguanMiOjEyOX1dLDgwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChCdWZmZXIpewp2YXIgZWxsaXB0aWMgPSByZXF1aXJlKCdlbGxpcHRpYycpOwp2YXIgQk4gPSByZXF1aXJlKCdibi5qcycpOwoKbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVFQ0RIKGN1cnZlKSB7CglyZXR1cm4gbmV3IEVDREgoY3VydmUpOwp9OwoKdmFyIGFsaWFzZXMgPSB7CglzZWNwMjU2azE6IHsKCQluYW1lOiAnc2VjcDI1NmsxJywKCQlieXRlTGVuZ3RoOiAzMgoJfSwKCXNlY3AyMjRyMTogewoJCW5hbWU6ICdwMjI0JywKCQlieXRlTGVuZ3RoOiAyOAoJfSwKCXByaW1lMjU2djE6IHsKCQluYW1lOiAncDI1NicsCgkJYnl0ZUxlbmd0aDogMzIKCX0sCglwcmltZTE5MnYxOiB7CgkJbmFtZTogJ3AxOTInLAoJCWJ5dGVMZW5ndGg6IDI0Cgl9LAoJZWQyNTUxOTogewoJCW5hbWU6ICdlZDI1NTE5JywKCQlieXRlTGVuZ3RoOiAzMgoJfSwKCXNlY3AzODRyMTogewoJCW5hbWU6ICdwMzg0JywKCQlieXRlTGVuZ3RoOiA0OAoJfSwKCXNlY3A1MjFyMTogewoJCW5hbWU6ICdwNTIxJywKCQlieXRlTGVuZ3RoOiA2NgoJfQp9OwoKYWxpYXNlcy5wMjI0ID0gYWxpYXNlcy5zZWNwMjI0cjE7CmFsaWFzZXMucDI1NiA9IGFsaWFzZXMuc2VjcDI1NnIxID0gYWxpYXNlcy5wcmltZTI1NnYxOwphbGlhc2VzLnAxOTIgPSBhbGlhc2VzLnNlY3AxOTJyMSA9IGFsaWFzZXMucHJpbWUxOTJ2MTsKYWxpYXNlcy5wMzg0ID0gYWxpYXNlcy5zZWNwMzg0cjE7CmFsaWFzZXMucDUyMSA9IGFsaWFzZXMuc2VjcDUyMXIxOwoKZnVuY3Rpb24gRUNESChjdXJ2ZSkgewoJdGhpcy5jdXJ2ZVR5cGUgPSBhbGlhc2VzW2N1cnZlXTsKCWlmICghdGhpcy5jdXJ2ZVR5cGUgKSB7CgkJdGhpcy5jdXJ2ZVR5cGUgPSB7CgkJCW5hbWU6IGN1cnZlCgkJfTsKCX0KCXRoaXMuY3VydmUgPSBuZXcgZWxsaXB0aWMuZWModGhpcy5jdXJ2ZVR5cGUubmFtZSk7Cgl0aGlzLmtleXMgPSB2b2lkIDA7Cn0KCkVDREgucHJvdG90eXBlLmdlbmVyYXRlS2V5cyA9IGZ1bmN0aW9uIChlbmMsIGZvcm1hdCkgewoJdGhpcy5rZXlzID0gdGhpcy5jdXJ2ZS5nZW5LZXlQYWlyKCk7CglyZXR1cm4gdGhpcy5nZXRQdWJsaWNLZXkoZW5jLCBmb3JtYXQpOwp9OwoKRUNESC5wcm90b3R5cGUuY29tcHV0ZVNlY3JldCA9IGZ1bmN0aW9uIChvdGhlciwgaW5lbmMsIGVuYykgewoJaW5lbmMgPSBpbmVuYyB8fCAndXRmOCc7CglpZiAoIUJ1ZmZlci5pc0J1ZmZlcihvdGhlcikpIHsKCQlvdGhlciA9IG5ldyBCdWZmZXIob3RoZXIsIGluZW5jKTsKCX0KCXZhciBvdGhlclB1YiA9IHRoaXMuY3VydmUua2V5RnJvbVB1YmxpYyhvdGhlcikuZ2V0UHVibGljKCk7Cgl2YXIgb3V0ID0gb3RoZXJQdWIubXVsKHRoaXMua2V5cy5nZXRQcml2YXRlKCkpLmdldFgoKTsKCXJldHVybiBmb3JtYXRSZXR1cm5WYWx1ZShvdXQsIGVuYywgdGhpcy5jdXJ2ZVR5cGUuYnl0ZUxlbmd0aCk7Cn07CgpFQ0RILnByb3RvdHlwZS5nZXRQdWJsaWNLZXkgPSBmdW5jdGlvbiAoZW5jLCBmb3JtYXQpIHsKCXZhciBrZXkgPSB0aGlzLmtleXMuZ2V0UHVibGljKGZvcm1hdCA9PT0gJ2NvbXByZXNzZWQnLCB0cnVlKTsKCWlmIChmb3JtYXQgPT09ICdoeWJyaWQnKSB7CgkJaWYgKGtleVtrZXkubGVuZ3RoIC0gMV0gJSAyKSB7CgkJCWtleVswXSA9IDc7CgkJfSBlbHNlIHsKCQkJa2V5IFswXSA9IDY7CgkJfQoJfQoJcmV0dXJuIGZvcm1hdFJldHVyblZhbHVlKGtleSwgZW5jKTsKfTsKCkVDREgucHJvdG90eXBlLmdldFByaXZhdGVLZXkgPSBmdW5jdGlvbiAoZW5jKSB7CglyZXR1cm4gZm9ybWF0UmV0dXJuVmFsdWUodGhpcy5rZXlzLmdldFByaXZhdGUoKSwgZW5jKTsKfTsKCkVDREgucHJvdG90eXBlLnNldFB1YmxpY0tleSA9IGZ1bmN0aW9uIChwdWIsIGVuYykgewoJZW5jID0gZW5jIHx8ICd1dGY4JzsKCWlmICghQnVmZmVyLmlzQnVmZmVyKHB1YikpIHsKCQlwdWIgPSBuZXcgQnVmZmVyKHB1YiwgZW5jKTsKCX0KCXRoaXMua2V5cy5faW1wb3J0UHVibGljKHB1Yik7CglyZXR1cm4gdGhpczsKfTsKCkVDREgucHJvdG90eXBlLnNldFByaXZhdGVLZXkgPSBmdW5jdGlvbiAocHJpdiwgZW5jKSB7CgllbmMgPSBlbmMgfHwgJ3V0ZjgnOwoJaWYgKCFCdWZmZXIuaXNCdWZmZXIocHJpdikpIHsKCQlwcml2ID0gbmV3IEJ1ZmZlcihwcml2LCBlbmMpOwoJfQoJdmFyIF9wcml2ID0gbmV3IEJOKHByaXYpOwoJX3ByaXYgPSBfcHJpdi50b1N0cmluZygxNik7Cgl0aGlzLmtleXMuX2ltcG9ydFByaXZhdGUoX3ByaXYpOwoJcmV0dXJuIHRoaXM7Cn07CgpmdW5jdGlvbiBmb3JtYXRSZXR1cm5WYWx1ZShibiwgZW5jLCBsZW4pIHsKCWlmICghQXJyYXkuaXNBcnJheShibikpIHsKCQlibiA9IGJuLnRvQXJyYXkoKTsKCX0KCXZhciBidWYgPSBuZXcgQnVmZmVyKGJuKTsKCWlmIChsZW4gJiYgYnVmLmxlbmd0aCA8IGxlbikgewoJCXZhciB6ZXJvcyA9IG5ldyBCdWZmZXIobGVuIC0gYnVmLmxlbmd0aCk7CgkJemVyb3MuZmlsbCgwKTsKCQlidWYgPSBCdWZmZXIuY29uY2F0KFt6ZXJvcywgYnVmXSk7Cgl9CglpZiAoIWVuYykgewoJCXJldHVybiBidWY7Cgl9IGVsc2UgewoJCXJldHVybiBidWYudG9TdHJpbmcoZW5jKTsKCX0KfQoKfSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcikKfSx7ImJuLmpzIjo0MiwiYnVmZmVyIjo3NiwiZWxsaXB0aWMiOjEwMX1dLDgxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChCdWZmZXIpewondXNlIHN0cmljdCc7CnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJykKdmFyIG1kNSA9IHJlcXVpcmUoJy4vbWQ1JykKdmFyIHJtZDE2MCA9IHJlcXVpcmUoJ3JpcGVtZDE2MCcpCnZhciBzaGEgPSByZXF1aXJlKCdzaGEuanMnKQoKdmFyIEJhc2UgPSByZXF1aXJlKCdjaXBoZXItYmFzZScpCgpmdW5jdGlvbiBIYXNoTm9Db25zdHJ1Y3RvcihoYXNoKSB7CiAgQmFzZS5jYWxsKHRoaXMsICdkaWdlc3QnKQoKICB0aGlzLl9oYXNoID0gaGFzaAogIHRoaXMuYnVmZmVycyA9IFtdCn0KCmluaGVyaXRzKEhhc2hOb0NvbnN0cnVjdG9yLCBCYXNlKQoKSGFzaE5vQ29uc3RydWN0b3IucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSkgewogIHRoaXMuYnVmZmVycy5wdXNoKGRhdGEpCn0KCkhhc2hOb0NvbnN0cnVjdG9yLnByb3RvdHlwZS5fZmluYWwgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIGJ1ZiA9IEJ1ZmZlci5jb25jYXQodGhpcy5idWZmZXJzKQogIHZhciByID0gdGhpcy5faGFzaChidWYpCiAgdGhpcy5idWZmZXJzID0gbnVsbAoKICByZXR1cm4gcgp9CgpmdW5jdGlvbiBIYXNoKGhhc2gpIHsKICBCYXNlLmNhbGwodGhpcywgJ2RpZ2VzdCcpCgogIHRoaXMuX2hhc2ggPSBoYXNoCn0KCmluaGVyaXRzKEhhc2gsIEJhc2UpCgpIYXNoLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKGRhdGEpIHsKICB0aGlzLl9oYXNoLnVwZGF0ZShkYXRhKQp9CgpIYXNoLnByb3RvdHlwZS5fZmluYWwgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHRoaXMuX2hhc2guZGlnZXN0KCkKfQoKbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVIYXNoIChhbGcpIHsKICBhbGcgPSBhbGcudG9Mb3dlckNhc2UoKQogIGlmICgnbWQ1JyA9PT0gYWxnKSByZXR1cm4gbmV3IEhhc2hOb0NvbnN0cnVjdG9yKG1kNSkKICBpZiAoJ3JtZDE2MCcgPT09IGFsZyB8fCAncmlwZW1kMTYwJyA9PT0gYWxnKSByZXR1cm4gbmV3IEhhc2hOb0NvbnN0cnVjdG9yKHJtZDE2MCkKCiAgcmV0dXJuIG5ldyBIYXNoKHNoYShhbGcpKQp9Cgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiLi9tZDUiOjgzLCJidWZmZXIiOjc2LCJjaXBoZXItYmFzZSI6NzgsImluaGVyaXRzIjoxMjgsInJpcGVtZDE2MCI6MTU4LCJzaGEuanMiOjE2Mn1dLDgyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChCdWZmZXIpewondXNlIHN0cmljdCc7CnZhciBpbnRTaXplID0gNDsKdmFyIHplcm9CdWZmZXIgPSBuZXcgQnVmZmVyKGludFNpemUpOyB6ZXJvQnVmZmVyLmZpbGwoMCk7CnZhciBjaHJzeiA9IDg7CgpmdW5jdGlvbiB0b0FycmF5KGJ1ZiwgYmlnRW5kaWFuKSB7CiAgaWYgKChidWYubGVuZ3RoICUgaW50U2l6ZSkgIT09IDApIHsKICAgIHZhciBsZW4gPSBidWYubGVuZ3RoICsgKGludFNpemUgLSAoYnVmLmxlbmd0aCAlIGludFNpemUpKTsKICAgIGJ1ZiA9IEJ1ZmZlci5jb25jYXQoW2J1ZiwgemVyb0J1ZmZlcl0sIGxlbik7CiAgfQoKICB2YXIgYXJyID0gW107CiAgdmFyIGZuID0gYmlnRW5kaWFuID8gYnVmLnJlYWRJbnQzMkJFIDogYnVmLnJlYWRJbnQzMkxFOwogIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmLmxlbmd0aDsgaSArPSBpbnRTaXplKSB7CiAgICBhcnIucHVzaChmbi5jYWxsKGJ1ZiwgaSkpOwogIH0KICByZXR1cm4gYXJyOwp9CgpmdW5jdGlvbiB0b0J1ZmZlcihhcnIsIHNpemUsIGJpZ0VuZGlhbikgewogIHZhciBidWYgPSBuZXcgQnVmZmVyKHNpemUpOwogIHZhciBmbiA9IGJpZ0VuZGlhbiA/IGJ1Zi53cml0ZUludDMyQkUgOiBidWYud3JpdGVJbnQzMkxFOwogIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICBmbi5jYWxsKGJ1ZiwgYXJyW2ldLCBpICogNCwgdHJ1ZSk7CiAgfQogIHJldHVybiBidWY7Cn0KCmZ1bmN0aW9uIGhhc2goYnVmLCBmbiwgaGFzaFNpemUsIGJpZ0VuZGlhbikgewogIGlmICghQnVmZmVyLmlzQnVmZmVyKGJ1ZikpIGJ1ZiA9IG5ldyBCdWZmZXIoYnVmKTsKICB2YXIgYXJyID0gZm4odG9BcnJheShidWYsIGJpZ0VuZGlhbiksIGJ1Zi5sZW5ndGggKiBjaHJzeik7CiAgcmV0dXJuIHRvQnVmZmVyKGFyciwgaGFzaFNpemUsIGJpZ0VuZGlhbik7Cn0KZXhwb3J0cy5oYXNoID0gaGFzaDsKfSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcikKfSx7ImJ1ZmZlciI6NzZ9XSw4MzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKLyoKICogQSBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBSU0EgRGF0YSBTZWN1cml0eSwgSW5jLiBNRDUgTWVzc2FnZQogKiBEaWdlc3QgQWxnb3JpdGhtLCBhcyBkZWZpbmVkIGluIFJGQyAxMzIxLgogKiBWZXJzaW9uIDIuMSBDb3B5cmlnaHQgKEMpIFBhdWwgSm9obnN0b24gMTk5OSAtIDIwMDIuCiAqIE90aGVyIGNvbnRyaWJ1dG9yczogR3JlZyBIb2x0LCBBbmRyZXcgS2VwZXJ0LCBZZG5hciwgTG9zdGluZXQKICogRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEJTRCBMaWNlbnNlCiAqIFNlZSBodHRwOi8vcGFqaG9tZS5vcmcudWsvY3J5cHQvbWQ1IGZvciBtb3JlIGluZm8uCiAqLwoKdmFyIGhlbHBlcnMgPSByZXF1aXJlKCcuL2hlbHBlcnMnKTsKCi8qCiAqIENhbGN1bGF0ZSB0aGUgTUQ1IG9mIGFuIGFycmF5IG9mIGxpdHRsZS1lbmRpYW4gd29yZHMsIGFuZCBhIGJpdCBsZW5ndGgKICovCmZ1bmN0aW9uIGNvcmVfbWQ1KHgsIGxlbikKewogIC8qIGFwcGVuZCBwYWRkaW5nICovCiAgeFtsZW4gPj4gNV0gfD0gMHg4MCA8PCAoKGxlbikgJSAzMik7CiAgeFsoKChsZW4gKyA2NCkgPj4+IDkpIDw8IDQpICsgMTRdID0gbGVuOwoKICB2YXIgYSA9ICAxNzMyNTg0MTkzOwogIHZhciBiID0gLTI3MTczMzg3OTsKICB2YXIgYyA9IC0xNzMyNTg0MTk0OwogIHZhciBkID0gIDI3MTczMzg3ODsKCiAgZm9yKHZhciBpID0gMDsgaSA8IHgubGVuZ3RoOyBpICs9IDE2KQogIHsKICAgIHZhciBvbGRhID0gYTsKICAgIHZhciBvbGRiID0gYjsKICAgIHZhciBvbGRjID0gYzsKICAgIHZhciBvbGRkID0gZDsKCiAgICBhID0gbWQ1X2ZmKGEsIGIsIGMsIGQsIHhbaSsgMF0sIDcgLCAtNjgwODc2OTM2KTsKICAgIGQgPSBtZDVfZmYoZCwgYSwgYiwgYywgeFtpKyAxXSwgMTIsIC0zODk1NjQ1ODYpOwogICAgYyA9IG1kNV9mZihjLCBkLCBhLCBiLCB4W2krIDJdLCAxNywgIDYwNjEwNTgxOSk7CiAgICBiID0gbWQ1X2ZmKGIsIGMsIGQsIGEsIHhbaSsgM10sIDIyLCAtMTA0NDUyNTMzMCk7CiAgICBhID0gbWQ1X2ZmKGEsIGIsIGMsIGQsIHhbaSsgNF0sIDcgLCAtMTc2NDE4ODk3KTsKICAgIGQgPSBtZDVfZmYoZCwgYSwgYiwgYywgeFtpKyA1XSwgMTIsICAxMjAwMDgwNDI2KTsKICAgIGMgPSBtZDVfZmYoYywgZCwgYSwgYiwgeFtpKyA2XSwgMTcsIC0xNDczMjMxMzQxKTsKICAgIGIgPSBtZDVfZmYoYiwgYywgZCwgYSwgeFtpKyA3XSwgMjIsIC00NTcwNTk4Myk7CiAgICBhID0gbWQ1X2ZmKGEsIGIsIGMsIGQsIHhbaSsgOF0sIDcgLCAgMTc3MDAzNTQxNik7CiAgICBkID0gbWQ1X2ZmKGQsIGEsIGIsIGMsIHhbaSsgOV0sIDEyLCAtMTk1ODQxNDQxNyk7CiAgICBjID0gbWQ1X2ZmKGMsIGQsIGEsIGIsIHhbaSsxMF0sIDE3LCAtNDIwNjMpOwogICAgYiA9IG1kNV9mZihiLCBjLCBkLCBhLCB4W2krMTFdLCAyMiwgLTE5OTA0MDQxNjIpOwogICAgYSA9IG1kNV9mZihhLCBiLCBjLCBkLCB4W2krMTJdLCA3ICwgIDE4MDQ2MDM2ODIpOwogICAgZCA9IG1kNV9mZihkLCBhLCBiLCBjLCB4W2krMTNdLCAxMiwgLTQwMzQxMTAxKTsKICAgIGMgPSBtZDVfZmYoYywgZCwgYSwgYiwgeFtpKzE0XSwgMTcsIC0xNTAyMDAyMjkwKTsKICAgIGIgPSBtZDVfZmYoYiwgYywgZCwgYSwgeFtpKzE1XSwgMjIsICAxMjM2NTM1MzI5KTsKCiAgICBhID0gbWQ1X2dnKGEsIGIsIGMsIGQsIHhbaSsgMV0sIDUgLCAtMTY1Nzk2NTEwKTsKICAgIGQgPSBtZDVfZ2coZCwgYSwgYiwgYywgeFtpKyA2XSwgOSAsIC0xMDY5NTAxNjMyKTsKICAgIGMgPSBtZDVfZ2coYywgZCwgYSwgYiwgeFtpKzExXSwgMTQsICA2NDM3MTc3MTMpOwogICAgYiA9IG1kNV9nZyhiLCBjLCBkLCBhLCB4W2krIDBdLCAyMCwgLTM3Mzg5NzMwMik7CiAgICBhID0gbWQ1X2dnKGEsIGIsIGMsIGQsIHhbaSsgNV0sIDUgLCAtNzAxNTU4NjkxKTsKICAgIGQgPSBtZDVfZ2coZCwgYSwgYiwgYywgeFtpKzEwXSwgOSAsICAzODAxNjA4Myk7CiAgICBjID0gbWQ1X2dnKGMsIGQsIGEsIGIsIHhbaSsxNV0sIDE0LCAtNjYwNDc4MzM1KTsKICAgIGIgPSBtZDVfZ2coYiwgYywgZCwgYSwgeFtpKyA0XSwgMjAsIC00MDU1Mzc4NDgpOwogICAgYSA9IG1kNV9nZyhhLCBiLCBjLCBkLCB4W2krIDldLCA1ICwgIDU2ODQ0NjQzOCk7CiAgICBkID0gbWQ1X2dnKGQsIGEsIGIsIGMsIHhbaSsxNF0sIDkgLCAtMTAxOTgwMzY5MCk7CiAgICBjID0gbWQ1X2dnKGMsIGQsIGEsIGIsIHhbaSsgM10sIDE0LCAtMTg3MzYzOTYxKTsKICAgIGIgPSBtZDVfZ2coYiwgYywgZCwgYSwgeFtpKyA4XSwgMjAsICAxMTYzNTMxNTAxKTsKICAgIGEgPSBtZDVfZ2coYSwgYiwgYywgZCwgeFtpKzEzXSwgNSAsIC0xNDQ0NjgxNDY3KTsKICAgIGQgPSBtZDVfZ2coZCwgYSwgYiwgYywgeFtpKyAyXSwgOSAsIC01MTQwMzc4NCk7CiAgICBjID0gbWQ1X2dnKGMsIGQsIGEsIGIsIHhbaSsgN10sIDE0LCAgMTczNTMyODQ3Myk7CiAgICBiID0gbWQ1X2dnKGIsIGMsIGQsIGEsIHhbaSsxMl0sIDIwLCAtMTkyNjYwNzczNCk7CgogICAgYSA9IG1kNV9oaChhLCBiLCBjLCBkLCB4W2krIDVdLCA0ICwgLTM3ODU1OCk7CiAgICBkID0gbWQ1X2hoKGQsIGEsIGIsIGMsIHhbaSsgOF0sIDExLCAtMjAyMjU3NDQ2Myk7CiAgICBjID0gbWQ1X2hoKGMsIGQsIGEsIGIsIHhbaSsxMV0sIDE2LCAgMTgzOTAzMDU2Mik7CiAgICBiID0gbWQ1X2hoKGIsIGMsIGQsIGEsIHhbaSsxNF0sIDIzLCAtMzUzMDk1NTYpOwogICAgYSA9IG1kNV9oaChhLCBiLCBjLCBkLCB4W2krIDFdLCA0ICwgLTE1MzA5OTIwNjApOwogICAgZCA9IG1kNV9oaChkLCBhLCBiLCBjLCB4W2krIDRdLCAxMSwgIDEyNzI4OTMzNTMpOwogICAgYyA9IG1kNV9oaChjLCBkLCBhLCBiLCB4W2krIDddLCAxNiwgLTE1NTQ5NzYzMik7CiAgICBiID0gbWQ1X2hoKGIsIGMsIGQsIGEsIHhbaSsxMF0sIDIzLCAtMTA5NDczMDY0MCk7CiAgICBhID0gbWQ1X2hoKGEsIGIsIGMsIGQsIHhbaSsxM10sIDQgLCAgNjgxMjc5MTc0KTsKICAgIGQgPSBtZDVfaGgoZCwgYSwgYiwgYywgeFtpKyAwXSwgMTEsIC0zNTg1MzcyMjIpOwogICAgYyA9IG1kNV9oaChjLCBkLCBhLCBiLCB4W2krIDNdLCAxNiwgLTcyMjUyMTk3OSk7CiAgICBiID0gbWQ1X2hoKGIsIGMsIGQsIGEsIHhbaSsgNl0sIDIzLCAgNzYwMjkxODkpOwogICAgYSA9IG1kNV9oaChhLCBiLCBjLCBkLCB4W2krIDldLCA0ICwgLTY0MDM2NDQ4Nyk7CiAgICBkID0gbWQ1X2hoKGQsIGEsIGIsIGMsIHhbaSsxMl0sIDExLCAtNDIxODE1ODM1KTsKICAgIGMgPSBtZDVfaGgoYywgZCwgYSwgYiwgeFtpKzE1XSwgMTYsICA1MzA3NDI1MjApOwogICAgYiA9IG1kNV9oaChiLCBjLCBkLCBhLCB4W2krIDJdLCAyMywgLTk5NTMzODY1MSk7CgogICAgYSA9IG1kNV9paShhLCBiLCBjLCBkLCB4W2krIDBdLCA2ICwgLTE5ODYzMDg0NCk7CiAgICBkID0gbWQ1X2lpKGQsIGEsIGIsIGMsIHhbaSsgN10sIDEwLCAgMTEyNjg5MTQxNSk7CiAgICBjID0gbWQ1X2lpKGMsIGQsIGEsIGIsIHhbaSsxNF0sIDE1LCAtMTQxNjM1NDkwNSk7CiAgICBiID0gbWQ1X2lpKGIsIGMsIGQsIGEsIHhbaSsgNV0sIDIxLCAtNTc0MzQwNTUpOwogICAgYSA9IG1kNV9paShhLCBiLCBjLCBkLCB4W2krMTJdLCA2ICwgIDE3MDA0ODU1NzEpOwogICAgZCA9IG1kNV9paShkLCBhLCBiLCBjLCB4W2krIDNdLCAxMCwgLTE4OTQ5ODY2MDYpOwogICAgYyA9IG1kNV9paShjLCBkLCBhLCBiLCB4W2krMTBdLCAxNSwgLTEwNTE1MjMpOwogICAgYiA9IG1kNV9paShiLCBjLCBkLCBhLCB4W2krIDFdLCAyMSwgLTIwNTQ5MjI3OTkpOwogICAgYSA9IG1kNV9paShhLCBiLCBjLCBkLCB4W2krIDhdLCA2ICwgIDE4NzMzMTMzNTkpOwogICAgZCA9IG1kNV9paShkLCBhLCBiLCBjLCB4W2krMTVdLCAxMCwgLTMwNjExNzQ0KTsKICAgIGMgPSBtZDVfaWkoYywgZCwgYSwgYiwgeFtpKyA2XSwgMTUsIC0xNTYwMTk4MzgwKTsKICAgIGIgPSBtZDVfaWkoYiwgYywgZCwgYSwgeFtpKzEzXSwgMjEsICAxMzA5MTUxNjQ5KTsKICAgIGEgPSBtZDVfaWkoYSwgYiwgYywgZCwgeFtpKyA0XSwgNiAsIC0xNDU1MjMwNzApOwogICAgZCA9IG1kNV9paShkLCBhLCBiLCBjLCB4W2krMTFdLCAxMCwgLTExMjAyMTAzNzkpOwogICAgYyA9IG1kNV9paShjLCBkLCBhLCBiLCB4W2krIDJdLCAxNSwgIDcxODc4NzI1OSk7CiAgICBiID0gbWQ1X2lpKGIsIGMsIGQsIGEsIHhbaSsgOV0sIDIxLCAtMzQzNDg1NTUxKTsKCiAgICBhID0gc2FmZV9hZGQoYSwgb2xkYSk7CiAgICBiID0gc2FmZV9hZGQoYiwgb2xkYik7CiAgICBjID0gc2FmZV9hZGQoYywgb2xkYyk7CiAgICBkID0gc2FmZV9hZGQoZCwgb2xkZCk7CiAgfQogIHJldHVybiBBcnJheShhLCBiLCBjLCBkKTsKCn0KCi8qCiAqIFRoZXNlIGZ1bmN0aW9ucyBpbXBsZW1lbnQgdGhlIGZvdXIgYmFzaWMgb3BlcmF0aW9ucyB0aGUgYWxnb3JpdGhtIHVzZXMuCiAqLwpmdW5jdGlvbiBtZDVfY21uKHEsIGEsIGIsIHgsIHMsIHQpCnsKICByZXR1cm4gc2FmZV9hZGQoYml0X3JvbChzYWZlX2FkZChzYWZlX2FkZChhLCBxKSwgc2FmZV9hZGQoeCwgdCkpLCBzKSxiKTsKfQpmdW5jdGlvbiBtZDVfZmYoYSwgYiwgYywgZCwgeCwgcywgdCkKewogIHJldHVybiBtZDVfY21uKChiICYgYykgfCAoKH5iKSAmIGQpLCBhLCBiLCB4LCBzLCB0KTsKfQpmdW5jdGlvbiBtZDVfZ2coYSwgYiwgYywgZCwgeCwgcywgdCkKewogIHJldHVybiBtZDVfY21uKChiICYgZCkgfCAoYyAmICh+ZCkpLCBhLCBiLCB4LCBzLCB0KTsKfQpmdW5jdGlvbiBtZDVfaGgoYSwgYiwgYywgZCwgeCwgcywgdCkKewogIHJldHVybiBtZDVfY21uKGIgXiBjIF4gZCwgYSwgYiwgeCwgcywgdCk7Cn0KZnVuY3Rpb24gbWQ1X2lpKGEsIGIsIGMsIGQsIHgsIHMsIHQpCnsKICByZXR1cm4gbWQ1X2NtbihjIF4gKGIgfCAofmQpKSwgYSwgYiwgeCwgcywgdCk7Cn0KCi8qCiAqIEFkZCBpbnRlZ2Vycywgd3JhcHBpbmcgYXQgMl4zMi4gVGhpcyB1c2VzIDE2LWJpdCBvcGVyYXRpb25zIGludGVybmFsbHkKICogdG8gd29yayBhcm91bmQgYnVncyBpbiBzb21lIEpTIGludGVycHJldGVycy4KICovCmZ1bmN0aW9uIHNhZmVfYWRkKHgsIHkpCnsKICB2YXIgbHN3ID0gKHggJiAweEZGRkYpICsgKHkgJiAweEZGRkYpOwogIHZhciBtc3cgPSAoeCA+PiAxNikgKyAoeSA+PiAxNikgKyAobHN3ID4+IDE2KTsKICByZXR1cm4gKG1zdyA8PCAxNikgfCAobHN3ICYgMHhGRkZGKTsKfQoKLyoKICogQml0d2lzZSByb3RhdGUgYSAzMi1iaXQgbnVtYmVyIHRvIHRoZSBsZWZ0LgogKi8KZnVuY3Rpb24gYml0X3JvbChudW0sIGNudCkKewogIHJldHVybiAobnVtIDw8IGNudCkgfCAobnVtID4+PiAoMzIgLSBjbnQpKTsKfQoKbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBtZDUoYnVmKSB7CiAgcmV0dXJuIGhlbHBlcnMuaGFzaChidWYsIGNvcmVfbWQ1LCAxNik7Cn07Cn0seyIuL2hlbHBlcnMiOjgyfV0sODQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7Cid1c2Ugc3RyaWN0JzsKdmFyIGNyZWF0ZUhhc2ggPSByZXF1aXJlKCdjcmVhdGUtaGFzaC9icm93c2VyJyk7CnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJykKCnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCdzdHJlYW0nKS5UcmFuc2Zvcm0KCnZhciBaRVJPUyA9IG5ldyBCdWZmZXIoMTI4KQpaRVJPUy5maWxsKDApCgpmdW5jdGlvbiBIbWFjKGFsZywga2V5KSB7CiAgVHJhbnNmb3JtLmNhbGwodGhpcykKICBhbGcgPSBhbGcudG9Mb3dlckNhc2UoKQogIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJykgewogICAga2V5ID0gbmV3IEJ1ZmZlcihrZXkpCiAgfQoKICB2YXIgYmxvY2tzaXplID0gKGFsZyA9PT0gJ3NoYTUxMicgfHwgYWxnID09PSAnc2hhMzg0JykgPyAxMjggOiA2NAoKICB0aGlzLl9hbGcgPSBhbGcKICB0aGlzLl9rZXkgPSBrZXkKCiAgaWYgKGtleS5sZW5ndGggPiBibG9ja3NpemUpIHsKICAgIGtleSA9IGNyZWF0ZUhhc2goYWxnKS51cGRhdGUoa2V5KS5kaWdlc3QoKQoKICB9IGVsc2UgaWYgKGtleS5sZW5ndGggPCBibG9ja3NpemUpIHsKICAgIGtleSA9IEJ1ZmZlci5jb25jYXQoW2tleSwgWkVST1NdLCBibG9ja3NpemUpCiAgfQoKICB2YXIgaXBhZCA9IHRoaXMuX2lwYWQgPSBuZXcgQnVmZmVyKGJsb2Nrc2l6ZSkKICB2YXIgb3BhZCA9IHRoaXMuX29wYWQgPSBuZXcgQnVmZmVyKGJsb2Nrc2l6ZSkKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBibG9ja3NpemU7IGkrKykgewogICAgaXBhZFtpXSA9IGtleVtpXSBeIDB4MzYKICAgIG9wYWRbaV0gPSBrZXlbaV0gXiAweDVDCiAgfQoKICB0aGlzLl9oYXNoID0gY3JlYXRlSGFzaChhbGcpLnVwZGF0ZShpcGFkKQp9Cgppbmhlcml0cyhIbWFjLCBUcmFuc2Zvcm0pCgpIbWFjLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSwgZW5jKSB7CiAgdGhpcy5faGFzaC51cGRhdGUoZGF0YSwgZW5jKQoKICByZXR1cm4gdGhpcwp9CgpIbWFjLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24gKGRhdGEsIF8sIG5leHQpIHsKICB0aGlzLl9oYXNoLnVwZGF0ZShkYXRhKQoKICBuZXh0KCkKfQoKSG1hYy5wcm90b3R5cGUuX2ZsdXNoID0gZnVuY3Rpb24gKG5leHQpIHsKICB0aGlzLnB1c2godGhpcy5kaWdlc3QoKSkKCiAgbmV4dCgpCn0KCkhtYWMucHJvdG90eXBlLmRpZ2VzdCA9IGZ1bmN0aW9uIChlbmMpIHsKICB2YXIgaCA9IHRoaXMuX2hhc2guZGlnZXN0KCkKCiAgcmV0dXJuIGNyZWF0ZUhhc2godGhpcy5fYWxnKS51cGRhdGUodGhpcy5fb3BhZCkudXBkYXRlKGgpLmRpZ2VzdChlbmMpCn0KCm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY3JlYXRlSG1hYyhhbGcsIGtleSkgewogIHJldHVybiBuZXcgSG1hYyhhbGcsIGtleSkKfQoKfSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcikKfSx7ImJ1ZmZlciI6NzYsImNyZWF0ZS1oYXNoL2Jyb3dzZXIiOjgxLCJpbmhlcml0cyI6MTI4LCJzdHJlYW0iOjE3MH1dLDg1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnCgpleHBvcnRzLnJhbmRvbUJ5dGVzID0gZXhwb3J0cy5ybmcgPSBleHBvcnRzLnBzZXVkb1JhbmRvbUJ5dGVzID0gZXhwb3J0cy5wcm5nID0gcmVxdWlyZSgncmFuZG9tYnl0ZXMnKQpleHBvcnRzLmNyZWF0ZUhhc2ggPSBleHBvcnRzLkhhc2ggPSByZXF1aXJlKCdjcmVhdGUtaGFzaCcpCmV4cG9ydHMuY3JlYXRlSG1hYyA9IGV4cG9ydHMuSG1hYyA9IHJlcXVpcmUoJ2NyZWF0ZS1obWFjJykKCnZhciBoYXNoZXMgPSBbJ3NoYTEnLCAnc2hhMjI0JywgJ3NoYTI1NicsICdzaGEzODQnLCAnc2hhNTEyJywgJ21kNScsICdybWQxNjAnXS5jb25jYXQoT2JqZWN0LmtleXMocmVxdWlyZSgnYnJvd3NlcmlmeS1zaWduL2FsZ29zJykpKQpleHBvcnRzLmdldEhhc2hlcyA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gaGFzaGVzCn0KCnZhciBwID0gcmVxdWlyZSgncGJrZGYyJykKZXhwb3J0cy5wYmtkZjIgPSBwLnBia2RmMgpleHBvcnRzLnBia2RmMlN5bmMgPSBwLnBia2RmMlN5bmMKCnZhciBhZXMgPSByZXF1aXJlKCdicm93c2VyaWZ5LWNpcGhlcicpCjtbCiAgJ0NpcGhlcicsCiAgJ2NyZWF0ZUNpcGhlcicsCiAgJ0NpcGhlcml2JywKICAnY3JlYXRlQ2lwaGVyaXYnLAogICdEZWNpcGhlcicsCiAgJ2NyZWF0ZURlY2lwaGVyJywKICAnRGVjaXBoZXJpdicsCiAgJ2NyZWF0ZURlY2lwaGVyaXYnLAogICdnZXRDaXBoZXJzJywKICAnbGlzdENpcGhlcnMnCl0uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgZXhwb3J0c1trZXldID0gYWVzW2tleV0KfSkKCnZhciBkaCA9IHJlcXVpcmUoJ2RpZmZpZS1oZWxsbWFuJykKO1sKICAnRGlmZmllSGVsbG1hbkdyb3VwJywKICAnY3JlYXRlRGlmZmllSGVsbG1hbkdyb3VwJywKICAnZ2V0RGlmZmllSGVsbG1hbicsCiAgJ2NyZWF0ZURpZmZpZUhlbGxtYW4nLAogICdEaWZmaWVIZWxsbWFuJwpdLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogIGV4cG9ydHNba2V5XSA9IGRoW2tleV0KfSkKCnZhciBzaWduID0gcmVxdWlyZSgnYnJvd3NlcmlmeS1zaWduJykKO1sKICAnY3JlYXRlU2lnbicsCiAgJ1NpZ24nLAogICdjcmVhdGVWZXJpZnknLAogICdWZXJpZnknCl0uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7CiAgZXhwb3J0c1trZXldID0gc2lnbltrZXldCn0pCgpleHBvcnRzLmNyZWF0ZUVDREggPSByZXF1aXJlKCdjcmVhdGUtZWNkaCcpCgp2YXIgcHVibGljRW5jcnlwdCA9IHJlcXVpcmUoJ3B1YmxpYy1lbmNyeXB0JykKCjtbCiAgJ3B1YmxpY0VuY3J5cHQnLAogICdwcml2YXRlRW5jcnlwdCcsCiAgJ3B1YmxpY0RlY3J5cHQnLAogICdwcml2YXRlRGVjcnlwdCcKXS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICBleHBvcnRzW2tleV0gPSBwdWJsaWNFbmNyeXB0W2tleV0KfSkKCi8vIHRoZSBsZWFzdCBJIGNhbiBkbyBpcyBtYWtlIGVycm9yIG1lc3NhZ2VzIGZvciB0aGUgcmVzdCBvZiB0aGUgbm9kZS5qcy9jcnlwdG8gYXBpLgo7WwogICdjcmVhdGVDcmVkZW50aWFscycKXS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7CiAgZXhwb3J0c1tuYW1lXSA9IGZ1bmN0aW9uICgpIHsKICAgIHRocm93IG5ldyBFcnJvcihbCiAgICAgICdzb3JyeSwgJyArIG5hbWUgKyAnIGlzIG5vdCBpbXBsZW1lbnRlZCB5ZXQnLAogICAgICAnd2UgYWNjZXB0IHB1bGwgcmVxdWVzdHMnLAogICAgICAnaHR0cHM6Ly9naXRodWIuY29tL2NyeXB0by1icm93c2VyaWZ5L2NyeXB0by1icm93c2VyaWZ5JwogICAgXS5qb2luKCdcbicpKQogIH0KfSkKCn0seyJicm93c2VyaWZ5LWNpcGhlciI6NjAsImJyb3dzZXJpZnktc2lnbiI6NjUsImJyb3dzZXJpZnktc2lnbi9hbGdvcyI6NjQsImNyZWF0ZS1lY2RoIjo4MCwiY3JlYXRlLWhhc2giOjgxLCJjcmVhdGUtaG1hYyI6ODQsImRpZmZpZS1oZWxsbWFuIjo5MiwicGJrZGYyIjoxMzgsInB1YmxpYy1lbmNyeXB0IjoxNDEsInJhbmRvbWJ5dGVzIjoxNDd9XSw4NjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCmV4cG9ydHMudXRpbHMgPSByZXF1aXJlKCcuL2Rlcy91dGlscycpOwpleHBvcnRzLkNpcGhlciA9IHJlcXVpcmUoJy4vZGVzL2NpcGhlcicpOwpleHBvcnRzLkRFUyA9IHJlcXVpcmUoJy4vZGVzL2RlcycpOwpleHBvcnRzLkNCQyA9IHJlcXVpcmUoJy4vZGVzL2NiYycpOwpleHBvcnRzLkVERSA9IHJlcXVpcmUoJy4vZGVzL2VkZScpOwoKfSx7Ii4vZGVzL2NiYyI6ODcsIi4vZGVzL2NpcGhlciI6ODgsIi4vZGVzL2RlcyI6ODksIi4vZGVzL2VkZSI6OTAsIi4vZGVzL3V0aWxzIjo5MX1dLDg3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKdmFyIGFzc2VydCA9IHJlcXVpcmUoJ21pbmltYWxpc3RpYy1hc3NlcnQnKTsKdmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKTsKCnZhciBwcm90byA9IHt9OwoKZnVuY3Rpb24gQ0JDU3RhdGUoaXYpIHsKICBhc3NlcnQuZXF1YWwoaXYubGVuZ3RoLCA4LCAnSW52YWxpZCBJViBsZW5ndGgnKTsKCiAgdGhpcy5pdiA9IG5ldyBBcnJheSg4KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaXYubGVuZ3RoOyBpKyspCiAgICB0aGlzLml2W2ldID0gaXZbaV07Cn0KCmZ1bmN0aW9uIGluc3RhbnRpYXRlKEJhc2UpIHsKICBmdW5jdGlvbiBDQkMob3B0aW9ucykgewogICAgQmFzZS5jYWxsKHRoaXMsIG9wdGlvbnMpOwogICAgdGhpcy5fY2JjSW5pdCgpOwogIH0KICBpbmhlcml0cyhDQkMsIEJhc2UpOwoKICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHByb3RvKTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBrZXkgPSBrZXlzW2ldOwogICAgQ0JDLnByb3RvdHlwZVtrZXldID0gcHJvdG9ba2V5XTsKICB9CgogIENCQy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUob3B0aW9ucykgewogICAgcmV0dXJuIG5ldyBDQkMob3B0aW9ucyk7CiAgfTsKCiAgcmV0dXJuIENCQzsKfQoKZXhwb3J0cy5pbnN0YW50aWF0ZSA9IGluc3RhbnRpYXRlOwoKcHJvdG8uX2NiY0luaXQgPSBmdW5jdGlvbiBfY2JjSW5pdCgpIHsKICB2YXIgc3RhdGUgPSBuZXcgQ0JDU3RhdGUodGhpcy5vcHRpb25zLml2KTsKICB0aGlzLl9jYmNTdGF0ZSA9IHN0YXRlOwp9OwoKcHJvdG8uX3VwZGF0ZSA9IGZ1bmN0aW9uIF91cGRhdGUoaW5wLCBpbk9mZiwgb3V0LCBvdXRPZmYpIHsKICB2YXIgc3RhdGUgPSB0aGlzLl9jYmNTdGF0ZTsKICB2YXIgc3VwZXJQcm90byA9IHRoaXMuY29uc3RydWN0b3Iuc3VwZXJfLnByb3RvdHlwZTsKCiAgdmFyIGl2ID0gc3RhdGUuaXY7CiAgaWYgKHRoaXMudHlwZSA9PT0gJ2VuY3J5cHQnKSB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuYmxvY2tTaXplOyBpKyspCiAgICAgIGl2W2ldIF49IGlucFtpbk9mZiArIGldOwoKICAgIHN1cGVyUHJvdG8uX3VwZGF0ZS5jYWxsKHRoaXMsIGl2LCAwLCBvdXQsIG91dE9mZik7CgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmJsb2NrU2l6ZTsgaSsrKQogICAgICBpdltpXSA9IG91dFtvdXRPZmYgKyBpXTsKICB9IGVsc2UgewogICAgc3VwZXJQcm90by5fdXBkYXRlLmNhbGwodGhpcywgaW5wLCBpbk9mZiwgb3V0LCBvdXRPZmYpOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ibG9ja1NpemU7IGkrKykKICAgICAgb3V0W291dE9mZiArIGldIF49IGl2W2ldOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ibG9ja1NpemU7IGkrKykKICAgICAgaXZbaV0gPSBpbnBbaW5PZmYgKyBpXTsKICB9Cn07Cgp9LHsiaW5oZXJpdHMiOjEyOCwibWluaW1hbGlzdGljLWFzc2VydCI6MTMzfV0sODg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7Cgp2YXIgYXNzZXJ0ID0gcmVxdWlyZSgnbWluaW1hbGlzdGljLWFzc2VydCcpOwoKZnVuY3Rpb24gQ2lwaGVyKG9wdGlvbnMpIHsKICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zOwoKICB0aGlzLnR5cGUgPSB0aGlzLm9wdGlvbnMudHlwZTsKICB0aGlzLmJsb2NrU2l6ZSA9IDg7CiAgdGhpcy5faW5pdCgpOwoKICB0aGlzLmJ1ZmZlciA9IG5ldyBBcnJheSh0aGlzLmJsb2NrU2l6ZSk7CiAgdGhpcy5idWZmZXJPZmYgPSAwOwp9Cm1vZHVsZS5leHBvcnRzID0gQ2lwaGVyOwoKQ2lwaGVyLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uIF9pbml0KCkgewogIC8vIE1pZ2h0IGJlIG92ZXJyaWRlZAp9OwoKQ2lwaGVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoZGF0YSkgewogIGlmIChkYXRhLmxlbmd0aCA9PT0gMCkKICAgIHJldHVybiBbXTsKCiAgaWYgKHRoaXMudHlwZSA9PT0gJ2RlY3J5cHQnKQogICAgcmV0dXJuIHRoaXMuX3VwZGF0ZURlY3J5cHQoZGF0YSk7CiAgZWxzZQogICAgcmV0dXJuIHRoaXMuX3VwZGF0ZUVuY3J5cHQoZGF0YSk7Cn07CgpDaXBoZXIucHJvdG90eXBlLl9idWZmZXIgPSBmdW5jdGlvbiBfYnVmZmVyKGRhdGEsIG9mZikgewogIC8vIEFwcGVuZCBkYXRhIHRvIGJ1ZmZlcgogIHZhciBtaW4gPSBNYXRoLm1pbih0aGlzLmJ1ZmZlci5sZW5ndGggLSB0aGlzLmJ1ZmZlck9mZiwgZGF0YS5sZW5ndGggLSBvZmYpOwogIGZvciAodmFyIGkgPSAwOyBpIDwgbWluOyBpKyspCiAgICB0aGlzLmJ1ZmZlclt0aGlzLmJ1ZmZlck9mZiArIGldID0gZGF0YVtvZmYgKyBpXTsKICB0aGlzLmJ1ZmZlck9mZiArPSBtaW47CgogIC8vIFNoaWZ0IG5leHQKICByZXR1cm4gbWluOwp9OwoKQ2lwaGVyLnByb3RvdHlwZS5fZmx1c2hCdWZmZXIgPSBmdW5jdGlvbiBfZmx1c2hCdWZmZXIob3V0LCBvZmYpIHsKICB0aGlzLl91cGRhdGUodGhpcy5idWZmZXIsIDAsIG91dCwgb2ZmKTsKICB0aGlzLmJ1ZmZlck9mZiA9IDA7CiAgcmV0dXJuIHRoaXMuYmxvY2tTaXplOwp9OwoKQ2lwaGVyLnByb3RvdHlwZS5fdXBkYXRlRW5jcnlwdCA9IGZ1bmN0aW9uIF91cGRhdGVFbmNyeXB0KGRhdGEpIHsKICB2YXIgaW5wdXRPZmYgPSAwOwogIHZhciBvdXRwdXRPZmYgPSAwOwoKICB2YXIgY291bnQgPSAoKHRoaXMuYnVmZmVyT2ZmICsgZGF0YS5sZW5ndGgpIC8gdGhpcy5ibG9ja1NpemUpIHwgMDsKICB2YXIgb3V0ID0gbmV3IEFycmF5KGNvdW50ICogdGhpcy5ibG9ja1NpemUpOwoKICBpZiAodGhpcy5idWZmZXJPZmYgIT09IDApIHsKICAgIGlucHV0T2ZmICs9IHRoaXMuX2J1ZmZlcihkYXRhLCBpbnB1dE9mZik7CgogICAgaWYgKHRoaXMuYnVmZmVyT2ZmID09PSB0aGlzLmJ1ZmZlci5sZW5ndGgpCiAgICAgIG91dHB1dE9mZiArPSB0aGlzLl9mbHVzaEJ1ZmZlcihvdXQsIG91dHB1dE9mZik7CiAgfQoKICAvLyBXcml0ZSBibG9ja3MKICB2YXIgbWF4ID0gZGF0YS5sZW5ndGggLSAoKGRhdGEubGVuZ3RoIC0gaW5wdXRPZmYpICUgdGhpcy5ibG9ja1NpemUpOwogIGZvciAoOyBpbnB1dE9mZiA8IG1heDsgaW5wdXRPZmYgKz0gdGhpcy5ibG9ja1NpemUpIHsKICAgIHRoaXMuX3VwZGF0ZShkYXRhLCBpbnB1dE9mZiwgb3V0LCBvdXRwdXRPZmYpOwogICAgb3V0cHV0T2ZmICs9IHRoaXMuYmxvY2tTaXplOwogIH0KCiAgLy8gUXVldWUgcmVzdAogIGZvciAoOyBpbnB1dE9mZiA8IGRhdGEubGVuZ3RoOyBpbnB1dE9mZisrLCB0aGlzLmJ1ZmZlck9mZisrKQogICAgdGhpcy5idWZmZXJbdGhpcy5idWZmZXJPZmZdID0gZGF0YVtpbnB1dE9mZl07CgogIHJldHVybiBvdXQ7Cn07CgpDaXBoZXIucHJvdG90eXBlLl91cGRhdGVEZWNyeXB0ID0gZnVuY3Rpb24gX3VwZGF0ZURlY3J5cHQoZGF0YSkgewogIHZhciBpbnB1dE9mZiA9IDA7CiAgdmFyIG91dHB1dE9mZiA9IDA7CgogIHZhciBjb3VudCA9IE1hdGguY2VpbCgodGhpcy5idWZmZXJPZmYgKyBkYXRhLmxlbmd0aCkgLyB0aGlzLmJsb2NrU2l6ZSkgLSAxOwogIHZhciBvdXQgPSBuZXcgQXJyYXkoY291bnQgKiB0aGlzLmJsb2NrU2l6ZSk7CgogIC8vIFRPRE8oaW5kdXRueSk6IG9wdGltaXplIGl0LCB0aGlzIGlzIGZhciBmcm9tIG9wdGltYWwKICBmb3IgKDsgY291bnQgPiAwOyBjb3VudC0tKSB7CiAgICBpbnB1dE9mZiArPSB0aGlzLl9idWZmZXIoZGF0YSwgaW5wdXRPZmYpOwogICAgb3V0cHV0T2ZmICs9IHRoaXMuX2ZsdXNoQnVmZmVyKG91dCwgb3V0cHV0T2ZmKTsKICB9CgogIC8vIEJ1ZmZlciByZXN0IG9mIHRoZSBpbnB1dAogIGlucHV0T2ZmICs9IHRoaXMuX2J1ZmZlcihkYXRhLCBpbnB1dE9mZik7CgogIHJldHVybiBvdXQ7Cn07CgpDaXBoZXIucHJvdG90eXBlLmZpbmFsID0gZnVuY3Rpb24gZmluYWwoYnVmZmVyKSB7CiAgdmFyIGZpcnN0OwogIGlmIChidWZmZXIpCiAgICBmaXJzdCA9IHRoaXMudXBkYXRlKGJ1ZmZlcik7CgogIHZhciBsYXN0OwogIGlmICh0aGlzLnR5cGUgPT09ICdlbmNyeXB0JykKICAgIGxhc3QgPSB0aGlzLl9maW5hbEVuY3J5cHQoKTsKICBlbHNlCiAgICBsYXN0ID0gdGhpcy5fZmluYWxEZWNyeXB0KCk7CgogIGlmIChmaXJzdCkKICAgIHJldHVybiBmaXJzdC5jb25jYXQobGFzdCk7CiAgZWxzZQogICAgcmV0dXJuIGxhc3Q7Cn07CgpDaXBoZXIucHJvdG90eXBlLl9wYWQgPSBmdW5jdGlvbiBfcGFkKGJ1ZmZlciwgb2ZmKSB7CiAgaWYgKG9mZiA9PT0gMCkKICAgIHJldHVybiBmYWxzZTsKCiAgd2hpbGUgKG9mZiA8IGJ1ZmZlci5sZW5ndGgpCiAgICBidWZmZXJbb2ZmKytdID0gMDsKCiAgcmV0dXJuIHRydWU7Cn07CgpDaXBoZXIucHJvdG90eXBlLl9maW5hbEVuY3J5cHQgPSBmdW5jdGlvbiBfZmluYWxFbmNyeXB0KCkgewogIGlmICghdGhpcy5fcGFkKHRoaXMuYnVmZmVyLCB0aGlzLmJ1ZmZlck9mZikpCiAgICByZXR1cm4gW107CgogIHZhciBvdXQgPSBuZXcgQXJyYXkodGhpcy5ibG9ja1NpemUpOwogIHRoaXMuX3VwZGF0ZSh0aGlzLmJ1ZmZlciwgMCwgb3V0LCAwKTsKICByZXR1cm4gb3V0Owp9OwoKQ2lwaGVyLnByb3RvdHlwZS5fdW5wYWQgPSBmdW5jdGlvbiBfdW5wYWQoYnVmZmVyKSB7CiAgcmV0dXJuIGJ1ZmZlcjsKfTsKCkNpcGhlci5wcm90b3R5cGUuX2ZpbmFsRGVjcnlwdCA9IGZ1bmN0aW9uIF9maW5hbERlY3J5cHQoKSB7CiAgYXNzZXJ0LmVxdWFsKHRoaXMuYnVmZmVyT2ZmLCB0aGlzLmJsb2NrU2l6ZSwgJ05vdCBlbm91Z2ggZGF0YSB0byBkZWNyeXB0Jyk7CiAgdmFyIG91dCA9IG5ldyBBcnJheSh0aGlzLmJsb2NrU2l6ZSk7CiAgdGhpcy5fZmx1c2hCdWZmZXIob3V0LCAwKTsKCiAgcmV0dXJuIHRoaXMuX3VucGFkKG91dCk7Cn07Cgp9LHsibWluaW1hbGlzdGljLWFzc2VydCI6MTMzfV0sODk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7Cgp2YXIgYXNzZXJ0ID0gcmVxdWlyZSgnbWluaW1hbGlzdGljLWFzc2VydCcpOwp2YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpOwoKdmFyIGRlcyA9IHJlcXVpcmUoJy4uL2RlcycpOwp2YXIgdXRpbHMgPSBkZXMudXRpbHM7CnZhciBDaXBoZXIgPSBkZXMuQ2lwaGVyOwoKZnVuY3Rpb24gREVTU3RhdGUoKSB7CiAgdGhpcy50bXAgPSBuZXcgQXJyYXkoMik7CiAgdGhpcy5rZXlzID0gbnVsbDsKfQoKZnVuY3Rpb24gREVTKG9wdGlvbnMpIHsKICBDaXBoZXIuY2FsbCh0aGlzLCBvcHRpb25zKTsKCiAgdmFyIHN0YXRlID0gbmV3IERFU1N0YXRlKCk7CiAgdGhpcy5fZGVzU3RhdGUgPSBzdGF0ZTsKCiAgdGhpcy5kZXJpdmVLZXlzKHN0YXRlLCBvcHRpb25zLmtleSk7Cn0KaW5oZXJpdHMoREVTLCBDaXBoZXIpOwptb2R1bGUuZXhwb3J0cyA9IERFUzsKCkRFUy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUob3B0aW9ucykgewogIHJldHVybiBuZXcgREVTKG9wdGlvbnMpOwp9OwoKdmFyIHNoaWZ0VGFibGUgPSBbCiAgMSwgMSwgMiwgMiwgMiwgMiwgMiwgMiwKICAxLCAyLCAyLCAyLCAyLCAyLCAyLCAxCl07CgpERVMucHJvdG90eXBlLmRlcml2ZUtleXMgPSBmdW5jdGlvbiBkZXJpdmVLZXlzKHN0YXRlLCBrZXkpIHsKICBzdGF0ZS5rZXlzID0gbmV3IEFycmF5KDE2ICogMik7CgogIGFzc2VydC5lcXVhbChrZXkubGVuZ3RoLCB0aGlzLmJsb2NrU2l6ZSwgJ0ludmFsaWQga2V5IGxlbmd0aCcpOwoKICB2YXIga0wgPSB1dGlscy5yZWFkVUludDMyQkUoa2V5LCAwKTsKICB2YXIga1IgPSB1dGlscy5yZWFkVUludDMyQkUoa2V5LCA0KTsKCiAgdXRpbHMucGMxKGtMLCBrUiwgc3RhdGUudG1wLCAwKTsKICBrTCA9IHN0YXRlLnRtcFswXTsKICBrUiA9IHN0YXRlLnRtcFsxXTsKICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlLmtleXMubGVuZ3RoOyBpICs9IDIpIHsKICAgIHZhciBzaGlmdCA9IHNoaWZ0VGFibGVbaSA+Pj4gMV07CiAgICBrTCA9IHV0aWxzLnIyOHNobChrTCwgc2hpZnQpOwogICAga1IgPSB1dGlscy5yMjhzaGwoa1IsIHNoaWZ0KTsKICAgIHV0aWxzLnBjMihrTCwga1IsIHN0YXRlLmtleXMsIGkpOwogIH0KfTsKCkRFUy5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIF91cGRhdGUoaW5wLCBpbk9mZiwgb3V0LCBvdXRPZmYpIHsKICB2YXIgc3RhdGUgPSB0aGlzLl9kZXNTdGF0ZTsKCiAgdmFyIGwgPSB1dGlscy5yZWFkVUludDMyQkUoaW5wLCBpbk9mZik7CiAgdmFyIHIgPSB1dGlscy5yZWFkVUludDMyQkUoaW5wLCBpbk9mZiArIDQpOwoKICAvLyBJbml0aWFsIFBlcm11dGF0aW9uCiAgdXRpbHMuaXAobCwgciwgc3RhdGUudG1wLCAwKTsKICBsID0gc3RhdGUudG1wWzBdOwogIHIgPSBzdGF0ZS50bXBbMV07CgogIGlmICh0aGlzLnR5cGUgPT09ICdlbmNyeXB0JykKICAgIHRoaXMuX2VuY3J5cHQoc3RhdGUsIGwsIHIsIHN0YXRlLnRtcCwgMCk7CiAgZWxzZQogICAgdGhpcy5fZGVjcnlwdChzdGF0ZSwgbCwgciwgc3RhdGUudG1wLCAwKTsKCiAgbCA9IHN0YXRlLnRtcFswXTsKICByID0gc3RhdGUudG1wWzFdOwoKICB1dGlscy53cml0ZVVJbnQzMkJFKG91dCwgbCwgb3V0T2ZmKTsKICB1dGlscy53cml0ZVVJbnQzMkJFKG91dCwgciwgb3V0T2ZmICsgNCk7Cn07CgpERVMucHJvdG90eXBlLl9wYWQgPSBmdW5jdGlvbiBfcGFkKGJ1ZmZlciwgb2ZmKSB7CiAgdmFyIHZhbHVlID0gYnVmZmVyLmxlbmd0aCAtIG9mZjsKICBmb3IgKHZhciBpID0gb2ZmOyBpIDwgYnVmZmVyLmxlbmd0aDsgaSsrKQogICAgYnVmZmVyW2ldID0gdmFsdWU7CgogIHJldHVybiB0cnVlOwp9OwoKREVTLnByb3RvdHlwZS5fdW5wYWQgPSBmdW5jdGlvbiBfdW5wYWQoYnVmZmVyKSB7CiAgdmFyIHBhZCA9IGJ1ZmZlcltidWZmZXIubGVuZ3RoIC0gMV07CiAgZm9yICh2YXIgaSA9IGJ1ZmZlci5sZW5ndGggLSBwYWQ7IGkgPCBidWZmZXIubGVuZ3RoOyBpKyspCiAgICBhc3NlcnQuZXF1YWwoYnVmZmVyW2ldLCBwYWQpOwoKICByZXR1cm4gYnVmZmVyLnNsaWNlKDAsIGJ1ZmZlci5sZW5ndGggLSBwYWQpOwp9OwoKREVTLnByb3RvdHlwZS5fZW5jcnlwdCA9IGZ1bmN0aW9uIF9lbmNyeXB0KHN0YXRlLCBsU3RhcnQsIHJTdGFydCwgb3V0LCBvZmYpIHsKICB2YXIgbCA9IGxTdGFydDsKICB2YXIgciA9IHJTdGFydDsKCiAgLy8gQXBwbHkgZigpIHgxNiB0aW1lcwogIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhdGUua2V5cy5sZW5ndGg7IGkgKz0gMikgewogICAgdmFyIGtleUwgPSBzdGF0ZS5rZXlzW2ldOwogICAgdmFyIGtleVIgPSBzdGF0ZS5rZXlzW2kgKyAxXTsKCiAgICAvLyBmKHIsIGspCiAgICB1dGlscy5leHBhbmQociwgc3RhdGUudG1wLCAwKTsKCiAgICBrZXlMIF49IHN0YXRlLnRtcFswXTsKICAgIGtleVIgXj0gc3RhdGUudG1wWzFdOwogICAgdmFyIHMgPSB1dGlscy5zdWJzdGl0dXRlKGtleUwsIGtleVIpOwogICAgdmFyIGYgPSB1dGlscy5wZXJtdXRlKHMpOwoKICAgIHZhciB0ID0gcjsKICAgIHIgPSAobCBeIGYpID4+PiAwOwogICAgbCA9IHQ7CiAgfQoKICAvLyBSZXZlcnNlIEluaXRpYWwgUGVybXV0YXRpb24KICB1dGlscy5yaXAociwgbCwgb3V0LCBvZmYpOwp9OwoKREVTLnByb3RvdHlwZS5fZGVjcnlwdCA9IGZ1bmN0aW9uIF9kZWNyeXB0KHN0YXRlLCBsU3RhcnQsIHJTdGFydCwgb3V0LCBvZmYpIHsKICB2YXIgbCA9IHJTdGFydDsKICB2YXIgciA9IGxTdGFydDsKCiAgLy8gQXBwbHkgZigpIHgxNiB0aW1lcwogIGZvciAodmFyIGkgPSBzdGF0ZS5rZXlzLmxlbmd0aCAtIDI7IGkgPj0gMDsgaSAtPSAyKSB7CiAgICB2YXIga2V5TCA9IHN0YXRlLmtleXNbaV07CiAgICB2YXIga2V5UiA9IHN0YXRlLmtleXNbaSArIDFdOwoKICAgIC8vIGYociwgaykKICAgIHV0aWxzLmV4cGFuZChsLCBzdGF0ZS50bXAsIDApOwoKICAgIGtleUwgXj0gc3RhdGUudG1wWzBdOwogICAga2V5UiBePSBzdGF0ZS50bXBbMV07CiAgICB2YXIgcyA9IHV0aWxzLnN1YnN0aXR1dGUoa2V5TCwga2V5Uik7CiAgICB2YXIgZiA9IHV0aWxzLnBlcm11dGUocyk7CgogICAgdmFyIHQgPSBsOwogICAgbCA9IChyIF4gZikgPj4+IDA7CiAgICByID0gdDsKICB9CgogIC8vIFJldmVyc2UgSW5pdGlhbCBQZXJtdXRhdGlvbgogIHV0aWxzLnJpcChsLCByLCBvdXQsIG9mZik7Cn07Cgp9LHsiLi4vZGVzIjo4NiwiaW5oZXJpdHMiOjEyOCwibWluaW1hbGlzdGljLWFzc2VydCI6MTMzfV0sOTA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7Cgp2YXIgYXNzZXJ0ID0gcmVxdWlyZSgnbWluaW1hbGlzdGljLWFzc2VydCcpOwp2YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpOwoKdmFyIGRlcyA9IHJlcXVpcmUoJy4uL2RlcycpOwp2YXIgQ2lwaGVyID0gZGVzLkNpcGhlcjsKdmFyIERFUyA9IGRlcy5ERVM7CgpmdW5jdGlvbiBFREVTdGF0ZSh0eXBlLCBrZXkpIHsKICBhc3NlcnQuZXF1YWwoa2V5Lmxlbmd0aCwgMjQsICdJbnZhbGlkIGtleSBsZW5ndGgnKTsKCiAgdmFyIGsxID0ga2V5LnNsaWNlKDAsIDgpOwogIHZhciBrMiA9IGtleS5zbGljZSg4LCAxNik7CiAgdmFyIGszID0ga2V5LnNsaWNlKDE2LCAyNCk7CgogIGlmICh0eXBlID09PSAnZW5jcnlwdCcpIHsKICAgIHRoaXMuY2lwaGVycyA9IFsKICAgICAgREVTLmNyZWF0ZSh7IHR5cGU6ICdlbmNyeXB0Jywga2V5OiBrMSB9KSwKICAgICAgREVTLmNyZWF0ZSh7IHR5cGU6ICdkZWNyeXB0Jywga2V5OiBrMiB9KSwKICAgICAgREVTLmNyZWF0ZSh7IHR5cGU6ICdlbmNyeXB0Jywga2V5OiBrMyB9KQogICAgXTsKICB9IGVsc2UgewogICAgdGhpcy5jaXBoZXJzID0gWwogICAgICBERVMuY3JlYXRlKHsgdHlwZTogJ2RlY3J5cHQnLCBrZXk6IGszIH0pLAogICAgICBERVMuY3JlYXRlKHsgdHlwZTogJ2VuY3J5cHQnLCBrZXk6IGsyIH0pLAogICAgICBERVMuY3JlYXRlKHsgdHlwZTogJ2RlY3J5cHQnLCBrZXk6IGsxIH0pCiAgICBdOwogIH0KfQoKZnVuY3Rpb24gRURFKG9wdGlvbnMpIHsKICBDaXBoZXIuY2FsbCh0aGlzLCBvcHRpb25zKTsKCiAgdmFyIHN0YXRlID0gbmV3IEVERVN0YXRlKHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLmtleSk7CiAgdGhpcy5fZWRlU3RhdGUgPSBzdGF0ZTsKfQppbmhlcml0cyhFREUsIENpcGhlcik7Cgptb2R1bGUuZXhwb3J0cyA9IEVERTsKCkVERS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUob3B0aW9ucykgewogIHJldHVybiBuZXcgRURFKG9wdGlvbnMpOwp9OwoKRURFLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gX3VwZGF0ZShpbnAsIGluT2ZmLCBvdXQsIG91dE9mZikgewogIHZhciBzdGF0ZSA9IHRoaXMuX2VkZVN0YXRlOwoKICBzdGF0ZS5jaXBoZXJzWzBdLl91cGRhdGUoaW5wLCBpbk9mZiwgb3V0LCBvdXRPZmYpOwogIHN0YXRlLmNpcGhlcnNbMV0uX3VwZGF0ZShvdXQsIG91dE9mZiwgb3V0LCBvdXRPZmYpOwogIHN0YXRlLmNpcGhlcnNbMl0uX3VwZGF0ZShvdXQsIG91dE9mZiwgb3V0LCBvdXRPZmYpOwp9OwoKRURFLnByb3RvdHlwZS5fcGFkID0gREVTLnByb3RvdHlwZS5fcGFkOwpFREUucHJvdG90eXBlLl91bnBhZCA9IERFUy5wcm90b3R5cGUuX3VucGFkOwoKfSx7Ii4uL2RlcyI6ODYsImluaGVyaXRzIjoxMjgsIm1pbmltYWxpc3RpYy1hc3NlcnQiOjEzM31dLDkxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKZXhwb3J0cy5yZWFkVUludDMyQkUgPSBmdW5jdGlvbiByZWFkVUludDMyQkUoYnl0ZXMsIG9mZikgewogIHZhciByZXMgPSAgKGJ5dGVzWzAgKyBvZmZdIDw8IDI0KSB8CiAgICAgICAgICAgICAoYnl0ZXNbMSArIG9mZl0gPDwgMTYpIHwKICAgICAgICAgICAgIChieXRlc1syICsgb2ZmXSA8PCA4KSB8CiAgICAgICAgICAgICBieXRlc1szICsgb2ZmXTsKICByZXR1cm4gcmVzID4+PiAwOwp9OwoKZXhwb3J0cy53cml0ZVVJbnQzMkJFID0gZnVuY3Rpb24gd3JpdGVVSW50MzJCRShieXRlcywgdmFsdWUsIG9mZikgewogIGJ5dGVzWzAgKyBvZmZdID0gdmFsdWUgPj4+IDI0OwogIGJ5dGVzWzEgKyBvZmZdID0gKHZhbHVlID4+PiAxNikgJiAweGZmOwogIGJ5dGVzWzIgKyBvZmZdID0gKHZhbHVlID4+PiA4KSAmIDB4ZmY7CiAgYnl0ZXNbMyArIG9mZl0gPSB2YWx1ZSAmIDB4ZmY7Cn07CgpleHBvcnRzLmlwID0gZnVuY3Rpb24gaXAoaW5MLCBpblIsIG91dCwgb2ZmKSB7CiAgdmFyIG91dEwgPSAwOwogIHZhciBvdXRSID0gMDsKCiAgZm9yICh2YXIgaSA9IDY7IGkgPj0gMDsgaSAtPSAyKSB7CiAgICBmb3IgKHZhciBqID0gMDsgaiA8PSAyNDsgaiArPSA4KSB7CiAgICAgIG91dEwgPDw9IDE7CiAgICAgIG91dEwgfD0gKGluUiA+Pj4gKGogKyBpKSkgJiAxOwogICAgfQogICAgZm9yICh2YXIgaiA9IDA7IGogPD0gMjQ7IGogKz0gOCkgewogICAgICBvdXRMIDw8PSAxOwogICAgICBvdXRMIHw9IChpbkwgPj4+IChqICsgaSkpICYgMTsKICAgIH0KICB9CgogIGZvciAodmFyIGkgPSA2OyBpID49IDA7IGkgLT0gMikgewogICAgZm9yICh2YXIgaiA9IDE7IGogPD0gMjU7IGogKz0gOCkgewogICAgICBvdXRSIDw8PSAxOwogICAgICBvdXRSIHw9IChpblIgPj4+IChqICsgaSkpICYgMTsKICAgIH0KICAgIGZvciAodmFyIGogPSAxOyBqIDw9IDI1OyBqICs9IDgpIHsKICAgICAgb3V0UiA8PD0gMTsKICAgICAgb3V0UiB8PSAoaW5MID4+PiAoaiArIGkpKSAmIDE7CiAgICB9CiAgfQoKICBvdXRbb2ZmICsgMF0gPSBvdXRMID4+PiAwOwogIG91dFtvZmYgKyAxXSA9IG91dFIgPj4+IDA7Cn07CgpleHBvcnRzLnJpcCA9IGZ1bmN0aW9uIHJpcChpbkwsIGluUiwgb3V0LCBvZmYpIHsKICB2YXIgb3V0TCA9IDA7CiAgdmFyIG91dFIgPSAwOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykgewogICAgZm9yICh2YXIgaiA9IDI0OyBqID49IDA7IGogLT0gOCkgewogICAgICBvdXRMIDw8PSAxOwogICAgICBvdXRMIHw9IChpblIgPj4+IChqICsgaSkpICYgMTsKICAgICAgb3V0TCA8PD0gMTsKICAgICAgb3V0TCB8PSAoaW5MID4+PiAoaiArIGkpKSAmIDE7CiAgICB9CiAgfQogIGZvciAodmFyIGkgPSA0OyBpIDwgODsgaSsrKSB7CiAgICBmb3IgKHZhciBqID0gMjQ7IGogPj0gMDsgaiAtPSA4KSB7CiAgICAgIG91dFIgPDw9IDE7CiAgICAgIG91dFIgfD0gKGluUiA+Pj4gKGogKyBpKSkgJiAxOwogICAgICBvdXRSIDw8PSAxOwogICAgICBvdXRSIHw9IChpbkwgPj4+IChqICsgaSkpICYgMTsKICAgIH0KICB9CgogIG91dFtvZmYgKyAwXSA9IG91dEwgPj4+IDA7CiAgb3V0W29mZiArIDFdID0gb3V0UiA+Pj4gMDsKfTsKCmV4cG9ydHMucGMxID0gZnVuY3Rpb24gcGMxKGluTCwgaW5SLCBvdXQsIG9mZikgewogIHZhciBvdXRMID0gMDsKICB2YXIgb3V0UiA9IDA7CgogIC8vIDcsIDE1LCAyMywgMzEsIDM5LCA0NywgNTUsIDYzCiAgLy8gNiwgMTQsIDIyLCAzMCwgMzksIDQ3LCA1NSwgNjMKICAvLyA1LCAxMywgMjEsIDI5LCAzOSwgNDcsIDU1LCA2MwogIC8vIDQsIDEyLCAyMCwgMjgKICBmb3IgKHZhciBpID0gNzsgaSA+PSA1OyBpLS0pIHsKICAgIGZvciAodmFyIGogPSAwOyBqIDw9IDI0OyBqICs9IDgpIHsKICAgICAgb3V0TCA8PD0gMTsKICAgICAgb3V0TCB8PSAoaW5SID4+IChqICsgaSkpICYgMTsKICAgIH0KICAgIGZvciAodmFyIGogPSAwOyBqIDw9IDI0OyBqICs9IDgpIHsKICAgICAgb3V0TCA8PD0gMTsKICAgICAgb3V0TCB8PSAoaW5MID4+IChqICsgaSkpICYgMTsKICAgIH0KICB9CiAgZm9yICh2YXIgaiA9IDA7IGogPD0gMjQ7IGogKz0gOCkgewogICAgb3V0TCA8PD0gMTsKICAgIG91dEwgfD0gKGluUiA+PiAoaiArIGkpKSAmIDE7CiAgfQoKICAvLyAxLCA5LCAxNywgMjUsIDMzLCA0MSwgNDksIDU3CiAgLy8gMiwgMTAsIDE4LCAyNiwgMzQsIDQyLCA1MCwgNTgKICAvLyAzLCAxMSwgMTksIDI3LCAzNSwgNDMsIDUxLCA1OQogIC8vIDM2LCA0NCwgNTIsIDYwCiAgZm9yICh2YXIgaSA9IDE7IGkgPD0gMzsgaSsrKSB7CiAgICBmb3IgKHZhciBqID0gMDsgaiA8PSAyNDsgaiArPSA4KSB7CiAgICAgIG91dFIgPDw9IDE7CiAgICAgIG91dFIgfD0gKGluUiA+PiAoaiArIGkpKSAmIDE7CiAgICB9CiAgICBmb3IgKHZhciBqID0gMDsgaiA8PSAyNDsgaiArPSA4KSB7CiAgICAgIG91dFIgPDw9IDE7CiAgICAgIG91dFIgfD0gKGluTCA+PiAoaiArIGkpKSAmIDE7CiAgICB9CiAgfQogIGZvciAodmFyIGogPSAwOyBqIDw9IDI0OyBqICs9IDgpIHsKICAgIG91dFIgPDw9IDE7CiAgICBvdXRSIHw9IChpbkwgPj4gKGogKyBpKSkgJiAxOwogIH0KCiAgb3V0W29mZiArIDBdID0gb3V0TCA+Pj4gMDsKICBvdXRbb2ZmICsgMV0gPSBvdXRSID4+PiAwOwp9OwoKZXhwb3J0cy5yMjhzaGwgPSBmdW5jdGlvbiByMjhzaGwobnVtLCBzaGlmdCkgewogIHJldHVybiAoKG51bSA8PCBzaGlmdCkgJiAweGZmZmZmZmYpIHwgKG51bSA+Pj4gKDI4IC0gc2hpZnQpKTsKfTsKCnZhciBwYzJ0YWJsZSA9IFsKICAvLyBpbkwgPT4gb3V0TAogIDE0LCAxMSwgMTcsIDQsIDI3LCAyMywgMjUsIDAsCiAgMTMsIDIyLCA3LCAxOCwgNSwgOSwgMTYsIDI0LAogIDIsIDIwLCAxMiwgMjEsIDEsIDgsIDE1LCAyNiwKCiAgLy8gaW5SID0+IG91dFIKICAxNSwgNCwgMjUsIDE5LCA5LCAxLCAyNiwgMTYsCiAgNSwgMTEsIDIzLCA4LCAxMiwgNywgMTcsIDAsCiAgMjIsIDMsIDEwLCAxNCwgNiwgMjAsIDI3LCAyNApdOwoKZXhwb3J0cy5wYzIgPSBmdW5jdGlvbiBwYzIoaW5MLCBpblIsIG91dCwgb2ZmKSB7CiAgdmFyIG91dEwgPSAwOwogIHZhciBvdXRSID0gMDsKCiAgdmFyIGxlbiA9IHBjMnRhYmxlLmxlbmd0aCA+Pj4gMTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7CiAgICBvdXRMIDw8PSAxOwogICAgb3V0TCB8PSAoaW5MID4+PiBwYzJ0YWJsZVtpXSkgJiAweDE7CiAgfQogIGZvciAodmFyIGkgPSBsZW47IGkgPCBwYzJ0YWJsZS5sZW5ndGg7IGkrKykgewogICAgb3V0UiA8PD0gMTsKICAgIG91dFIgfD0gKGluUiA+Pj4gcGMydGFibGVbaV0pICYgMHgxOwogIH0KCiAgb3V0W29mZiArIDBdID0gb3V0TCA+Pj4gMDsKICBvdXRbb2ZmICsgMV0gPSBvdXRSID4+PiAwOwp9OwoKZXhwb3J0cy5leHBhbmQgPSBmdW5jdGlvbiBleHBhbmQociwgb3V0LCBvZmYpIHsKICB2YXIgb3V0TCA9IDA7CiAgdmFyIG91dFIgPSAwOwoKICBvdXRMID0gKChyICYgMSkgPDwgNSkgfCAociA+Pj4gMjcpOwogIGZvciAodmFyIGkgPSAyMzsgaSA+PSAxNTsgaSAtPSA0KSB7CiAgICBvdXRMIDw8PSA2OwogICAgb3V0TCB8PSAociA+Pj4gaSkgJiAweDNmOwogIH0KICBmb3IgKHZhciBpID0gMTE7IGkgPj0gMzsgaSAtPSA0KSB7CiAgICBvdXRSIHw9IChyID4+PiBpKSAmIDB4M2Y7CiAgICBvdXRSIDw8PSA2OwogIH0KICBvdXRSIHw9ICgociAmIDB4MWYpIDw8IDEpIHwgKHIgPj4+IDMxKTsKCiAgb3V0W29mZiArIDBdID0gb3V0TCA+Pj4gMDsKICBvdXRbb2ZmICsgMV0gPSBvdXRSID4+PiAwOwp9OwoKdmFyIHNUYWJsZSA9IFsKICAxNCwgMCwgNCwgMTUsIDEzLCA3LCAxLCA0LCAyLCAxNCwgMTUsIDIsIDExLCAxMywgOCwgMSwKICAzLCAxMCwgMTAsIDYsIDYsIDEyLCAxMiwgMTEsIDUsIDksIDksIDUsIDAsIDMsIDcsIDgsCiAgNCwgMTUsIDEsIDEyLCAxNCwgOCwgOCwgMiwgMTMsIDQsIDYsIDksIDIsIDEsIDExLCA3LAogIDE1LCA1LCAxMiwgMTEsIDksIDMsIDcsIDE0LCAzLCAxMCwgMTAsIDAsIDUsIDYsIDAsIDEzLAoKICAxNSwgMywgMSwgMTMsIDgsIDQsIDE0LCA3LCA2LCAxNSwgMTEsIDIsIDMsIDgsIDQsIDE0LAogIDksIDEyLCA3LCAwLCAyLCAxLCAxMywgMTAsIDEyLCA2LCAwLCA5LCA1LCAxMSwgMTAsIDUsCiAgMCwgMTMsIDE0LCA4LCA3LCAxMCwgMTEsIDEsIDEwLCAzLCA0LCAxNSwgMTMsIDQsIDEsIDIsCiAgNSwgMTEsIDgsIDYsIDEyLCA3LCA2LCAxMiwgOSwgMCwgMywgNSwgMiwgMTQsIDE1LCA5LAoKICAxMCwgMTMsIDAsIDcsIDksIDAsIDE0LCA5LCA2LCAzLCAzLCA0LCAxNSwgNiwgNSwgMTAsCiAgMSwgMiwgMTMsIDgsIDEyLCA1LCA3LCAxNCwgMTEsIDEyLCA0LCAxMSwgMiwgMTUsIDgsIDEsCiAgMTMsIDEsIDYsIDEwLCA0LCAxMywgOSwgMCwgOCwgNiwgMTUsIDksIDMsIDgsIDAsIDcsCiAgMTEsIDQsIDEsIDE1LCAyLCAxNCwgMTIsIDMsIDUsIDExLCAxMCwgNSwgMTQsIDIsIDcsIDEyLAoKICA3LCAxMywgMTMsIDgsIDE0LCAxMSwgMywgNSwgMCwgNiwgNiwgMTUsIDksIDAsIDEwLCAzLAogIDEsIDQsIDIsIDcsIDgsIDIsIDUsIDEyLCAxMSwgMSwgMTIsIDEwLCA0LCAxNCwgMTUsIDksCiAgMTAsIDMsIDYsIDE1LCA5LCAwLCAwLCA2LCAxMiwgMTAsIDExLCAxLCA3LCAxMywgMTMsIDgsCiAgMTUsIDksIDEsIDQsIDMsIDUsIDE0LCAxMSwgNSwgMTIsIDIsIDcsIDgsIDIsIDQsIDE0LAoKICAyLCAxNCwgMTIsIDExLCA0LCAyLCAxLCAxMiwgNywgNCwgMTAsIDcsIDExLCAxMywgNiwgMSwKICA4LCA1LCA1LCAwLCAzLCAxNSwgMTUsIDEwLCAxMywgMywgMCwgOSwgMTQsIDgsIDksIDYsCiAgNCwgMTEsIDIsIDgsIDEsIDEyLCAxMSwgNywgMTAsIDEsIDEzLCAxNCwgNywgMiwgOCwgMTMsCiAgMTUsIDYsIDksIDE1LCAxMiwgMCwgNSwgOSwgNiwgMTAsIDMsIDQsIDAsIDUsIDE0LCAzLAoKICAxMiwgMTAsIDEsIDE1LCAxMCwgNCwgMTUsIDIsIDksIDcsIDIsIDEyLCA2LCA5LCA4LCA1LAogIDAsIDYsIDEzLCAxLCAzLCAxMywgNCwgMTQsIDE0LCAwLCA3LCAxMSwgNSwgMywgMTEsIDgsCiAgOSwgNCwgMTQsIDMsIDE1LCAyLCA1LCAxMiwgMiwgOSwgOCwgNSwgMTIsIDE1LCAzLCAxMCwKICA3LCAxMSwgMCwgMTQsIDQsIDEsIDEwLCA3LCAxLCA2LCAxMywgMCwgMTEsIDgsIDYsIDEzLAoKICA0LCAxMywgMTEsIDAsIDIsIDExLCAxNCwgNywgMTUsIDQsIDAsIDksIDgsIDEsIDEzLCAxMCwKICAzLCAxNCwgMTIsIDMsIDksIDUsIDcsIDEyLCA1LCAyLCAxMCwgMTUsIDYsIDgsIDEsIDYsCiAgMSwgNiwgNCwgMTEsIDExLCAxMywgMTMsIDgsIDEyLCAxLCAzLCA0LCA3LCAxMCwgMTQsIDcsCiAgMTAsIDksIDE1LCA1LCA2LCAwLCA4LCAxNSwgMCwgMTQsIDUsIDIsIDksIDMsIDIsIDEyLAoKICAxMywgMSwgMiwgMTUsIDgsIDEzLCA0LCA4LCA2LCAxMCwgMTUsIDMsIDExLCA3LCAxLCA0LAogIDEwLCAxMiwgOSwgNSwgMywgNiwgMTQsIDExLCA1LCAwLCAwLCAxNCwgMTIsIDksIDcsIDIsCiAgNywgMiwgMTEsIDEsIDQsIDE0LCAxLCA3LCA5LCA0LCAxMiwgMTAsIDE0LCA4LCAyLCAxMywKICAwLCAxNSwgNiwgMTIsIDEwLCA5LCAxMywgMCwgMTUsIDMsIDMsIDUsIDUsIDYsIDgsIDExCl07CgpleHBvcnRzLnN1YnN0aXR1dGUgPSBmdW5jdGlvbiBzdWJzdGl0dXRlKGluTCwgaW5SKSB7CiAgdmFyIG91dCA9IDA7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCA0OyBpKyspIHsKICAgIHZhciBiID0gKGluTCA+Pj4gKDE4IC0gaSAqIDYpKSAmIDB4M2Y7CiAgICB2YXIgc2IgPSBzVGFibGVbaSAqIDB4NDAgKyBiXTsKCiAgICBvdXQgPDw9IDQ7CiAgICBvdXQgfD0gc2I7CiAgfQogIGZvciAodmFyIGkgPSAwOyBpIDwgNDsgaSsrKSB7CiAgICB2YXIgYiA9IChpblIgPj4+ICgxOCAtIGkgKiA2KSkgJiAweDNmOwogICAgdmFyIHNiID0gc1RhYmxlWzQgKiAweDQwICsgaSAqIDB4NDAgKyBiXTsKCiAgICBvdXQgPDw9IDQ7CiAgICBvdXQgfD0gc2I7CiAgfQogIHJldHVybiBvdXQgPj4+IDA7Cn07Cgp2YXIgcGVybXV0ZVRhYmxlID0gWwogIDE2LCAyNSwgMTIsIDExLCAzLCAyMCwgNCwgMTUsIDMxLCAxNywgOSwgNiwgMjcsIDE0LCAxLCAyMiwKICAzMCwgMjQsIDgsIDE4LCAwLCA1LCAyOSwgMjMsIDEzLCAxOSwgMiwgMjYsIDEwLCAyMSwgMjgsIDcKXTsKCmV4cG9ydHMucGVybXV0ZSA9IGZ1bmN0aW9uIHBlcm11dGUobnVtKSB7CiAgdmFyIG91dCA9IDA7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwZXJtdXRlVGFibGUubGVuZ3RoOyBpKyspIHsKICAgIG91dCA8PD0gMTsKICAgIG91dCB8PSAobnVtID4+PiBwZXJtdXRlVGFibGVbaV0pICYgMHgxOwogIH0KICByZXR1cm4gb3V0ID4+PiAwOwp9OwoKZXhwb3J0cy5wYWRTcGxpdCA9IGZ1bmN0aW9uIHBhZFNwbGl0KG51bSwgc2l6ZSwgZ3JvdXApIHsKICB2YXIgc3RyID0gbnVtLnRvU3RyaW5nKDIpOwogIHdoaWxlIChzdHIubGVuZ3RoIDwgc2l6ZSkKICAgIHN0ciA9ICcwJyArIHN0cjsKCiAgdmFyIG91dCA9IFtdOwogIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSArPSBncm91cCkKICAgIG91dC5wdXNoKHN0ci5zbGljZShpLCBpICsgZ3JvdXApKTsKICByZXR1cm4gb3V0LmpvaW4oJyAnKTsKfTsKCn0se31dLDkyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChCdWZmZXIpewp2YXIgZ2VuZXJhdGVQcmltZSA9IHJlcXVpcmUoJy4vbGliL2dlbmVyYXRlUHJpbWUnKQp2YXIgcHJpbWVzID0gcmVxdWlyZSgnLi9saWIvcHJpbWVzLmpzb24nKQoKdmFyIERIID0gcmVxdWlyZSgnLi9saWIvZGgnKQoKZnVuY3Rpb24gZ2V0RGlmZmllSGVsbG1hbiAobW9kKSB7CiAgdmFyIHByaW1lID0gbmV3IEJ1ZmZlcihwcmltZXNbbW9kXS5wcmltZSwgJ2hleCcpCiAgdmFyIGdlbiA9IG5ldyBCdWZmZXIocHJpbWVzW21vZF0uZ2VuLCAnaGV4JykKCiAgcmV0dXJuIG5ldyBESChwcmltZSwgZ2VuKQp9Cgp2YXIgRU5DT0RJTkdTID0gewogICdiaW5hcnknOiB0cnVlLCAnaGV4JzogdHJ1ZSwgJ2Jhc2U2NCc6IHRydWUKfQoKZnVuY3Rpb24gY3JlYXRlRGlmZmllSGVsbG1hbiAocHJpbWUsIGVuYywgZ2VuZXJhdG9yLCBnZW5jKSB7CiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihlbmMpIHx8IEVOQ09ESU5HU1tlbmNdID09PSB1bmRlZmluZWQpIHsKICAgIHJldHVybiBjcmVhdGVEaWZmaWVIZWxsbWFuKHByaW1lLCAnYmluYXJ5JywgZW5jLCBnZW5lcmF0b3IpCiAgfQoKICBlbmMgPSBlbmMgfHwgJ2JpbmFyeScKICBnZW5jID0gZ2VuYyB8fCAnYmluYXJ5JwogIGdlbmVyYXRvciA9IGdlbmVyYXRvciB8fCBuZXcgQnVmZmVyKFsyXSkKCiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoZ2VuZXJhdG9yKSkgewogICAgZ2VuZXJhdG9yID0gbmV3IEJ1ZmZlcihnZW5lcmF0b3IsIGdlbmMpCiAgfQoKICBpZiAodHlwZW9mIHByaW1lID09PSAnbnVtYmVyJykgewogICAgcmV0dXJuIG5ldyBESChnZW5lcmF0ZVByaW1lKHByaW1lLCBnZW5lcmF0b3IpLCBnZW5lcmF0b3IsIHRydWUpCiAgfQoKICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihwcmltZSkpIHsKICAgIHByaW1lID0gbmV3IEJ1ZmZlcihwcmltZSwgZW5jKQogIH0KCiAgcmV0dXJuIG5ldyBESChwcmltZSwgZ2VuZXJhdG9yLCB0cnVlKQp9CgpleHBvcnRzLkRpZmZpZUhlbGxtYW5Hcm91cCA9IGV4cG9ydHMuY3JlYXRlRGlmZmllSGVsbG1hbkdyb3VwID0gZXhwb3J0cy5nZXREaWZmaWVIZWxsbWFuID0gZ2V0RGlmZmllSGVsbG1hbgpleHBvcnRzLmNyZWF0ZURpZmZpZUhlbGxtYW4gPSBleHBvcnRzLkRpZmZpZUhlbGxtYW4gPSBjcmVhdGVEaWZmaWVIZWxsbWFuCgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiLi9saWIvZGgiOjkzLCIuL2xpYi9nZW5lcmF0ZVByaW1lIjo5NCwiLi9saWIvcHJpbWVzLmpzb24iOjk1LCJidWZmZXIiOjc2fV0sOTM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7CnZhciBCTiA9IHJlcXVpcmUoJ2JuLmpzJyk7CnZhciBNaWxsZXJSYWJpbiA9IHJlcXVpcmUoJ21pbGxlci1yYWJpbicpOwp2YXIgbWlsbGVyUmFiaW4gPSBuZXcgTWlsbGVyUmFiaW4oKTsKdmFyIFRXRU5UWUZPVVIgPSBuZXcgQk4oMjQpOwp2YXIgRUxFVkVOID0gbmV3IEJOKDExKTsKdmFyIFRFTiA9IG5ldyBCTigxMCk7CnZhciBUSFJFRSA9IG5ldyBCTigzKTsKdmFyIFNFVkVOID0gbmV3IEJOKDcpOwp2YXIgcHJpbWVzID0gcmVxdWlyZSgnLi9nZW5lcmF0ZVByaW1lJyk7CnZhciByYW5kb21CeXRlcyA9IHJlcXVpcmUoJ3JhbmRvbWJ5dGVzJyk7Cm1vZHVsZS5leHBvcnRzID0gREg7CgpmdW5jdGlvbiBzZXRQdWJsaWNLZXkocHViLCBlbmMpIHsKICBlbmMgPSBlbmMgfHwgJ3V0ZjgnOwogIGlmICghQnVmZmVyLmlzQnVmZmVyKHB1YikpIHsKICAgIHB1YiA9IG5ldyBCdWZmZXIocHViLCBlbmMpOwogIH0KICB0aGlzLl9wdWIgPSBuZXcgQk4ocHViKTsKICByZXR1cm4gdGhpczsKfQoKZnVuY3Rpb24gc2V0UHJpdmF0ZUtleShwcml2LCBlbmMpIHsKICBlbmMgPSBlbmMgfHwgJ3V0ZjgnOwogIGlmICghQnVmZmVyLmlzQnVmZmVyKHByaXYpKSB7CiAgICBwcml2ID0gbmV3IEJ1ZmZlcihwcml2LCBlbmMpOwogIH0KICB0aGlzLl9wcml2ID0gbmV3IEJOKHByaXYpOwogIHJldHVybiB0aGlzOwp9Cgp2YXIgcHJpbWVDYWNoZSA9IHt9OwpmdW5jdGlvbiBjaGVja1ByaW1lKHByaW1lLCBnZW5lcmF0b3IpIHsKICB2YXIgZ2VuID0gZ2VuZXJhdG9yLnRvU3RyaW5nKCdoZXgnKTsKICB2YXIgaGV4ID0gW2dlbiwgcHJpbWUudG9TdHJpbmcoMTYpXS5qb2luKCdfJyk7CiAgaWYgKGhleCBpbiBwcmltZUNhY2hlKSB7CiAgICByZXR1cm4gcHJpbWVDYWNoZVtoZXhdOwogIH0KICB2YXIgZXJyb3IgPSAwOwoKICBpZiAocHJpbWUuaXNFdmVuKCkgfHwKICAgICFwcmltZXMuc2ltcGxlU2lldmUgfHwKICAgICFwcmltZXMuZmVybWF0VGVzdChwcmltZSkgfHwKICAgICFtaWxsZXJSYWJpbi50ZXN0KHByaW1lKSkgewogICAgLy9ub3QgYSBwcmltZSBzbyArMQogICAgZXJyb3IgKz0gMTsKCiAgICBpZiAoZ2VuID09PSAnMDInIHx8IGdlbiA9PT0gJzA1JykgewogICAgICAvLyB3ZSdkIGJlIGFibGUgdG8gY2hlY2sgdGhlIGdlbmVyYXRvcgogICAgICAvLyBpdCB3b3VsZCBmYWlsIHNvICs4CiAgICAgIGVycm9yICs9IDg7CiAgICB9IGVsc2UgewogICAgICAvL3dlIHdvdWxkbid0IGJlIGFibGUgdG8gdGVzdCB0aGUgZ2VuZXJhdG9yCiAgICAgIC8vIHNvICs0CiAgICAgIGVycm9yICs9IDQ7CiAgICB9CiAgICBwcmltZUNhY2hlW2hleF0gPSBlcnJvcjsKICAgIHJldHVybiBlcnJvcjsKICB9CiAgaWYgKCFtaWxsZXJSYWJpbi50ZXN0KHByaW1lLnNocm4oMSkpKSB7CiAgICAvL25vdCBhIHNhZmUgcHJpbWUKICAgIGVycm9yICs9IDI7CiAgfQogIHZhciByZW07CiAgc3dpdGNoIChnZW4pIHsKICAgIGNhc2UgJzAyJzoKICAgICAgaWYgKHByaW1lLm1vZChUV0VOVFlGT1VSKS5jbXAoRUxFVkVOKSkgewogICAgICAgIC8vIHVuc3VpZGFibGUgZ2VuZXJhdG9yCiAgICAgICAgZXJyb3IgKz0gODsKICAgICAgfQogICAgICBicmVhazsKICAgIGNhc2UgJzA1JzoKICAgICAgcmVtID0gcHJpbWUubW9kKFRFTik7CiAgICAgIGlmIChyZW0uY21wKFRIUkVFKSAmJiByZW0uY21wKFNFVkVOKSkgewogICAgICAgIC8vIHByaW1lIG1vZCAxMCBuZWVkcyB0byBlcXVhbCAzIG9yIDcKICAgICAgICBlcnJvciArPSA4OwogICAgICB9CiAgICAgIGJyZWFrOwogICAgZGVmYXVsdDoKICAgICAgZXJyb3IgKz0gNDsKICB9CiAgcHJpbWVDYWNoZVtoZXhdID0gZXJyb3I7CiAgcmV0dXJuIGVycm9yOwp9CgpmdW5jdGlvbiBESChwcmltZSwgZ2VuZXJhdG9yLCBtYWxsZWFibGUpIHsKICB0aGlzLnNldEdlbmVyYXRvcihnZW5lcmF0b3IpOwogIHRoaXMuX19wcmltZSA9IG5ldyBCTihwcmltZSk7CiAgdGhpcy5fcHJpbWUgPSBCTi5tb250KHRoaXMuX19wcmltZSk7CiAgdGhpcy5fcHJpbWVMZW4gPSBwcmltZS5sZW5ndGg7CiAgdGhpcy5fcHViID0gdW5kZWZpbmVkOwogIHRoaXMuX3ByaXYgPSB1bmRlZmluZWQ7CiAgdGhpcy5fcHJpbWVDb2RlID0gdW5kZWZpbmVkOwogIGlmIChtYWxsZWFibGUpIHsKICAgIHRoaXMuc2V0UHVibGljS2V5ID0gc2V0UHVibGljS2V5OwogICAgdGhpcy5zZXRQcml2YXRlS2V5ID0gc2V0UHJpdmF0ZUtleTsKICB9IGVsc2UgewogICAgdGhpcy5fcHJpbWVDb2RlID0gODsKICB9Cn0KT2JqZWN0LmRlZmluZVByb3BlcnR5KERILnByb3RvdHlwZSwgJ3ZlcmlmeUVycm9yJywgewogIGVudW1lcmFibGU6IHRydWUsCiAgZ2V0OiBmdW5jdGlvbiAoKSB7CiAgICBpZiAodHlwZW9mIHRoaXMuX3ByaW1lQ29kZSAhPT0gJ251bWJlcicpIHsKICAgICAgdGhpcy5fcHJpbWVDb2RlID0gY2hlY2tQcmltZSh0aGlzLl9fcHJpbWUsIHRoaXMuX19nZW4pOwogICAgfQogICAgcmV0dXJuIHRoaXMuX3ByaW1lQ29kZTsKICB9Cn0pOwpESC5wcm90b3R5cGUuZ2VuZXJhdGVLZXlzID0gZnVuY3Rpb24gKCkgewogIGlmICghdGhpcy5fcHJpdikgewogICAgdGhpcy5fcHJpdiA9IG5ldyBCTihyYW5kb21CeXRlcyh0aGlzLl9wcmltZUxlbikpOwogIH0KICB0aGlzLl9wdWIgPSB0aGlzLl9nZW4udG9SZWQodGhpcy5fcHJpbWUpLnJlZFBvdyh0aGlzLl9wcml2KS5mcm9tUmVkKCk7CiAgcmV0dXJuIHRoaXMuZ2V0UHVibGljS2V5KCk7Cn07CgpESC5wcm90b3R5cGUuY29tcHV0ZVNlY3JldCA9IGZ1bmN0aW9uIChvdGhlcikgewogIG90aGVyID0gbmV3IEJOKG90aGVyKTsKICBvdGhlciA9IG90aGVyLnRvUmVkKHRoaXMuX3ByaW1lKTsKICB2YXIgc2VjcmV0ID0gb3RoZXIucmVkUG93KHRoaXMuX3ByaXYpLmZyb21SZWQoKTsKICB2YXIgb3V0ID0gbmV3IEJ1ZmZlcihzZWNyZXQudG9BcnJheSgpKTsKICB2YXIgcHJpbWUgPSB0aGlzLmdldFByaW1lKCk7CiAgaWYgKG91dC5sZW5ndGggPCBwcmltZS5sZW5ndGgpIHsKICAgIHZhciBmcm9udCA9IG5ldyBCdWZmZXIocHJpbWUubGVuZ3RoIC0gb3V0Lmxlbmd0aCk7CiAgICBmcm9udC5maWxsKDApOwogICAgb3V0ID0gQnVmZmVyLmNvbmNhdChbZnJvbnQsIG91dF0pOwogIH0KICByZXR1cm4gb3V0Owp9OwoKREgucHJvdG90eXBlLmdldFB1YmxpY0tleSA9IGZ1bmN0aW9uIGdldFB1YmxpY0tleShlbmMpIHsKICByZXR1cm4gZm9ybWF0UmV0dXJuVmFsdWUodGhpcy5fcHViLCBlbmMpOwp9OwoKREgucHJvdG90eXBlLmdldFByaXZhdGVLZXkgPSBmdW5jdGlvbiBnZXRQcml2YXRlS2V5KGVuYykgewogIHJldHVybiBmb3JtYXRSZXR1cm5WYWx1ZSh0aGlzLl9wcml2LCBlbmMpOwp9OwoKREgucHJvdG90eXBlLmdldFByaW1lID0gZnVuY3Rpb24gKGVuYykgewogIHJldHVybiBmb3JtYXRSZXR1cm5WYWx1ZSh0aGlzLl9fcHJpbWUsIGVuYyk7Cn07CgpESC5wcm90b3R5cGUuZ2V0R2VuZXJhdG9yID0gZnVuY3Rpb24gKGVuYykgewogIHJldHVybiBmb3JtYXRSZXR1cm5WYWx1ZSh0aGlzLl9nZW4sIGVuYyk7Cn07CgpESC5wcm90b3R5cGUuc2V0R2VuZXJhdG9yID0gZnVuY3Rpb24gKGdlbiwgZW5jKSB7CiAgZW5jID0gZW5jIHx8ICd1dGY4JzsKICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihnZW4pKSB7CiAgICBnZW4gPSBuZXcgQnVmZmVyKGdlbiwgZW5jKTsKICB9CiAgdGhpcy5fX2dlbiA9IGdlbjsKICB0aGlzLl9nZW4gPSBuZXcgQk4oZ2VuKTsKICByZXR1cm4gdGhpczsKfTsKCmZ1bmN0aW9uIGZvcm1hdFJldHVyblZhbHVlKGJuLCBlbmMpIHsKICB2YXIgYnVmID0gbmV3IEJ1ZmZlcihibi50b0FycmF5KCkpOwogIGlmICghZW5jKSB7CiAgICByZXR1cm4gYnVmOwogIH0gZWxzZSB7CiAgICByZXR1cm4gYnVmLnRvU3RyaW5nKGVuYyk7CiAgfQp9Cgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiLi9nZW5lcmF0ZVByaW1lIjo5NCwiYm4uanMiOjQyLCJidWZmZXIiOjc2LCJtaWxsZXItcmFiaW4iOjEzMiwicmFuZG9tYnl0ZXMiOjE0N31dLDk0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKdmFyIHJhbmRvbUJ5dGVzID0gcmVxdWlyZSgncmFuZG9tYnl0ZXMnKTsKbW9kdWxlLmV4cG9ydHMgPSBmaW5kUHJpbWU7CmZpbmRQcmltZS5zaW1wbGVTaWV2ZSA9IHNpbXBsZVNpZXZlOwpmaW5kUHJpbWUuZmVybWF0VGVzdCA9IGZlcm1hdFRlc3Q7CnZhciBCTiA9IHJlcXVpcmUoJ2JuLmpzJyk7CnZhciBUV0VOVFlGT1VSID0gbmV3IEJOKDI0KTsKdmFyIE1pbGxlclJhYmluID0gcmVxdWlyZSgnbWlsbGVyLXJhYmluJyk7CnZhciBtaWxsZXJSYWJpbiA9IG5ldyBNaWxsZXJSYWJpbigpOwp2YXIgT05FID0gbmV3IEJOKDEpOwp2YXIgVFdPID0gbmV3IEJOKDIpOwp2YXIgRklWRSA9IG5ldyBCTig1KTsKdmFyIFNJWFRFRU4gPSBuZXcgQk4oMTYpOwp2YXIgRUlHSFQgPSBuZXcgQk4oOCk7CnZhciBURU4gPSBuZXcgQk4oMTApOwp2YXIgVEhSRUUgPSBuZXcgQk4oMyk7CnZhciBTRVZFTiA9IG5ldyBCTig3KTsKdmFyIEVMRVZFTiA9IG5ldyBCTigxMSk7CnZhciBGT1VSID0gbmV3IEJOKDQpOwp2YXIgVFdFTFZFID0gbmV3IEJOKDEyKTsKdmFyIHByaW1lcyA9IG51bGw7CgpmdW5jdGlvbiBfZ2V0UHJpbWVzKCkgewogIGlmIChwcmltZXMgIT09IG51bGwpCiAgICByZXR1cm4gcHJpbWVzOwoKICB2YXIgbGltaXQgPSAweDEwMDAwMDsKICB2YXIgcmVzID0gW107CiAgcmVzWzBdID0gMjsKICBmb3IgKHZhciBpID0gMSwgayA9IDM7IGsgPCBsaW1pdDsgayArPSAyKSB7CiAgICB2YXIgc3FydCA9IE1hdGguY2VpbChNYXRoLnNxcnQoaykpOwogICAgZm9yICh2YXIgaiA9IDA7IGogPCBpICYmIHJlc1tqXSA8PSBzcXJ0OyBqKyspCiAgICAgIGlmIChrICUgcmVzW2pdID09PSAwKQogICAgICAgIGJyZWFrOwoKICAgIGlmIChpICE9PSBqICYmIHJlc1tqXSA8PSBzcXJ0KQogICAgICBjb250aW51ZTsKCiAgICByZXNbaSsrXSA9IGs7CiAgfQogIHByaW1lcyA9IHJlczsKICByZXR1cm4gcmVzOwp9CgpmdW5jdGlvbiBzaW1wbGVTaWV2ZShwKSB7CiAgdmFyIHByaW1lcyA9IF9nZXRQcmltZXMoKTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmltZXMubGVuZ3RoOyBpKyspCiAgICBpZiAocC5tb2RuKHByaW1lc1tpXSkgPT09IDApIHsKICAgICAgaWYgKHAuY21wbihwcmltZXNbaV0pID09PSAwKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CgogIHJldHVybiB0cnVlOwp9CgpmdW5jdGlvbiBmZXJtYXRUZXN0KHApIHsKICB2YXIgcmVkID0gQk4ubW9udChwKTsKICByZXR1cm4gVFdPLnRvUmVkKHJlZCkucmVkUG93KHAuc3VibigxKSkuZnJvbVJlZCgpLmNtcG4oMSkgPT09IDA7Cn0KCmZ1bmN0aW9uIGZpbmRQcmltZShiaXRzLCBnZW4pIHsKICBpZiAoYml0cyA8IDE2KSB7CiAgICAvLyB0aGlzIGlzIHdoYXQgb3BlbnNzbCBkb2VzCiAgICBpZiAoZ2VuID09PSAyIHx8IGdlbiA9PT0gNSkgewogICAgICByZXR1cm4gbmV3IEJOKFsweDhjLCAweDdiXSk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gbmV3IEJOKFsweDhjLCAweDI3XSk7CiAgICB9CiAgfQogIGdlbiA9IG5ldyBCTihnZW4pOwoKICB2YXIgbnVtLCBuMjsKCiAgd2hpbGUgKHRydWUpIHsKICAgIG51bSA9IG5ldyBCTihyYW5kb21CeXRlcyhNYXRoLmNlaWwoYml0cyAvIDgpKSk7CiAgICB3aGlsZSAobnVtLmJpdExlbmd0aCgpID4gYml0cykgewogICAgICBudW0uaXNocm4oMSk7CiAgICB9CiAgICBpZiAobnVtLmlzRXZlbigpKSB7CiAgICAgIG51bS5pYWRkKE9ORSk7CiAgICB9CiAgICBpZiAoIW51bS50ZXN0bigxKSkgewogICAgICBudW0uaWFkZChUV08pOwogICAgfQogICAgaWYgKCFnZW4uY21wKFRXTykpIHsKICAgICAgd2hpbGUgKG51bS5tb2QoVFdFTlRZRk9VUikuY21wKEVMRVZFTikpIHsKICAgICAgICBudW0uaWFkZChGT1VSKTsKICAgICAgfQogICAgfSBlbHNlIGlmICghZ2VuLmNtcChGSVZFKSkgewogICAgICB3aGlsZSAobnVtLm1vZChURU4pLmNtcChUSFJFRSkpIHsKICAgICAgICBudW0uaWFkZChGT1VSKTsKICAgICAgfQogICAgfQogICAgbjIgPSBudW0uc2hybigxKTsKICAgIGlmIChzaW1wbGVTaWV2ZShuMikgJiYgc2ltcGxlU2lldmUobnVtKSAmJgogICAgICBmZXJtYXRUZXN0KG4yKSAmJiBmZXJtYXRUZXN0KG51bSkgJiYKICAgICAgbWlsbGVyUmFiaW4udGVzdChuMikgJiYgbWlsbGVyUmFiaW4udGVzdChudW0pKSB7CiAgICAgIHJldHVybiBudW07CiAgICB9CiAgfQoKfQoKfSx7ImJuLmpzIjo0MiwibWlsbGVyLXJhYmluIjoxMzIsInJhbmRvbWJ5dGVzIjoxNDd9XSw5NTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cm1vZHVsZS5leHBvcnRzPXsKICAgICJtb2RwMSI6IHsKICAgICAgICAiZ2VuIjogIjAyIiwKICAgICAgICAicHJpbWUiOiAiZmZmZmZmZmZmZmZmZmZmZmM5MGZkYWEyMjE2OGMyMzRjNGM2NjI4YjgwZGMxY2QxMjkwMjRlMDg4YTY3Y2M3NDAyMGJiZWE2M2IxMzliMjI1MTRhMDg3OThlMzQwNGRkZWY5NTE5YjNjZDNhNDMxYjMwMmIwYTZkZjI1ZjE0Mzc0ZmUxMzU2ZDZkNTFjMjQ1ZTQ4NWI1NzY2MjVlN2VjNmY0NGM0MmU5YTYzYTM2MjBmZmZmZmZmZmZmZmZmZmZmIgogICAgfSwKICAgICJtb2RwMiI6IHsKICAgICAgICAiZ2VuIjogIjAyIiwKICAgICAgICAicHJpbWUiOiAiZmZmZmZmZmZmZmZmZmZmZmM5MGZkYWEyMjE2OGMyMzRjNGM2NjI4YjgwZGMxY2QxMjkwMjRlMDg4YTY3Y2M3NDAyMGJiZWE2M2IxMzliMjI1MTRhMDg3OThlMzQwNGRkZWY5NTE5YjNjZDNhNDMxYjMwMmIwYTZkZjI1ZjE0Mzc0ZmUxMzU2ZDZkNTFjMjQ1ZTQ4NWI1NzY2MjVlN2VjNmY0NGM0MmU5YTYzN2VkNmIwYmZmNWNiNmY0MDZiN2VkZWUzODZiZmI1YTg5OWZhNWFlOWYyNDExN2M0YjFmZTY0OTI4NjY1MWVjZTY1MzgxZmZmZmZmZmZmZmZmZmZmZiIKICAgIH0sCiAgICAibW9kcDUiOiB7CiAgICAgICAgImdlbiI6ICIwMiIsCiAgICAgICAgInByaW1lIjogImZmZmZmZmZmZmZmZmZmZmZjOTBmZGFhMjIxNjhjMjM0YzRjNjYyOGI4MGRjMWNkMTI5MDI0ZTA4OGE2N2NjNzQwMjBiYmVhNjNiMTM5YjIyNTE0YTA4Nzk4ZTM0MDRkZGVmOTUxOWIzY2QzYTQzMWIzMDJiMGE2ZGYyNWYxNDM3NGZlMTM1NmQ2ZDUxYzI0NWU0ODViNTc2NjI1ZTdlYzZmNDRjNDJlOWE2MzdlZDZiMGJmZjVjYjZmNDA2YjdlZGVlMzg2YmZiNWE4OTlmYTVhZTlmMjQxMTdjNGIxZmU2NDkyODY2NTFlY2U0NWIzZGMyMDA3Y2I4YTE2M2JmMDU5OGRhNDgzNjFjNTVkMzlhNjkxNjNmYThmZDI0Y2Y1ZjgzNjU1ZDIzZGNhM2FkOTYxYzYyZjM1NjIwODU1MmJiOWVkNTI5MDc3MDk2OTY2ZDY3MGMzNTRlNGFiYzk4MDRmMTc0NmMwOGNhMjM3MzI3ZmZmZmZmZmZmZmZmZmZmZiIKICAgIH0sCiAgICAibW9kcDE0IjogewogICAgICAgICJnZW4iOiAiMDIiLAogICAgICAgICJwcmltZSI6ICJmZmZmZmZmZmZmZmZmZmZmYzkwZmRhYTIyMTY4YzIzNGM0YzY2MjhiODBkYzFjZDEyOTAyNGUwODhhNjdjYzc0MDIwYmJlYTYzYjEzOWIyMjUxNGEwODc5OGUzNDA0ZGRlZjk1MTliM2NkM2E0MzFiMzAyYjBhNmRmMjVmMTQzNzRmZTEzNTZkNmQ1MWMyNDVlNDg1YjU3NjYyNWU3ZWM2ZjQ0YzQyZTlhNjM3ZWQ2YjBiZmY1Y2I2ZjQwNmI3ZWRlZTM4NmJmYjVhODk5ZmE1YWU5ZjI0MTE3YzRiMWZlNjQ5Mjg2NjUxZWNlNDViM2RjMjAwN2NiOGExNjNiZjA1OThkYTQ4MzYxYzU1ZDM5YTY5MTYzZmE4ZmQyNGNmNWY4MzY1NWQyM2RjYTNhZDk2MWM2MmYzNTYyMDg1NTJiYjllZDUyOTA3NzA5Njk2NmQ2NzBjMzU0ZTRhYmM5ODA0ZjE3NDZjMDhjYTE4MjE3YzMyOTA1ZTQ2MmUzNmNlM2JlMzllNzcyYzE4MGU4NjAzOWIyNzgzYTJlYzA3YTI4ZmI1YzU1ZGYwNmY0YzUyYzlkZTJiY2JmNjk1NTgxNzE4Mzk5NTQ5N2NlYTk1NmFlNTE1ZDIyNjE4OThmYTA1MTAxNTcyOGU1YThhYWNhYTY4ZmZmZmZmZmZmZmZmZmZmZiIKICAgIH0sCiAgICAibW9kcDE1IjogewogICAgICAgICJnZW4iOiAiMDIiLAogICAgICAgICJwcmltZSI6ICJmZmZmZmZmZmZmZmZmZmZmYzkwZmRhYTIyMTY4YzIzNGM0YzY2MjhiODBkYzFjZDEyOTAyNGUwODhhNjdjYzc0MDIwYmJlYTYzYjEzOWIyMjUxNGEwODc5OGUzNDA0ZGRlZjk1MTliM2NkM2E0MzFiMzAyYjBhNmRmMjVmMTQzNzRmZTEzNTZkNmQ1MWMyNDVlNDg1YjU3NjYyNWU3ZWM2ZjQ0YzQyZTlhNjM3ZWQ2YjBiZmY1Y2I2ZjQwNmI3ZWRlZTM4NmJmYjVhODk5ZmE1YWU5ZjI0MTE3YzRiMWZlNjQ5Mjg2NjUxZWNlNDViM2RjMjAwN2NiOGExNjNiZjA1OThkYTQ4MzYxYzU1ZDM5YTY5MTYzZmE4ZmQyNGNmNWY4MzY1NWQyM2RjYTNhZDk2MWM2MmYzNTYyMDg1NTJiYjllZDUyOTA3NzA5Njk2NmQ2NzBjMzU0ZTRhYmM5ODA0ZjE3NDZjMDhjYTE4MjE3YzMyOTA1ZTQ2MmUzNmNlM2JlMzllNzcyYzE4MGU4NjAzOWIyNzgzYTJlYzA3YTI4ZmI1YzU1ZGYwNmY0YzUyYzlkZTJiY2JmNjk1NTgxNzE4Mzk5NTQ5N2NlYTk1NmFlNTE1ZDIyNjE4OThmYTA1MTAxNTcyOGU1YThhYWFjNDJkYWQzMzE3MGQwNDUwN2EzM2E4NTUyMWFiZGYxY2JhNjRlY2ZiODUwNDU4ZGJlZjBhOGFlYTcxNTc1ZDA2MGM3ZGIzOTcwZjg1YTZlMWU0YzdhYmY1YWU4Y2RiMDkzM2Q3MWU4Yzk0ZTA0YTI1NjE5ZGNlZTNkMjI2MWFkMmVlNmJmMTJmZmEwNmQ5OGEwODY0ZDg3NjAyNzMzZWM4NmE2NDUyMWYyYjE4MTc3YjIwMGNiYmUxMTc1NzdhNjE1ZDZjNzcwOTg4YzBiYWQ5NDZlMjA4ZTI0ZmEwNzRlNWFiMzE0M2RiNWJmY2UwZmQxMDhlNGI4MmQxMjBhOTNhZDJjYWZmZmZmZmZmZmZmZmZmZmYiCiAgICB9LAogICAgIm1vZHAxNiI6IHsKICAgICAgICAiZ2VuIjogIjAyIiwKICAgICAgICAicHJpbWUiOiAiZmZmZmZmZmZmZmZmZmZmZmM5MGZkYWEyMjE2OGMyMzRjNGM2NjI4YjgwZGMxY2QxMjkwMjRlMDg4YTY3Y2M3NDAyMGJiZWE2M2IxMzliMjI1MTRhMDg3OThlMzQwNGRkZWY5NTE5YjNjZDNhNDMxYjMwMmIwYTZkZjI1ZjE0Mzc0ZmUxMzU2ZDZkNTFjMjQ1ZTQ4NWI1NzY2MjVlN2VjNmY0NGM0MmU5YTYzN2VkNmIwYmZmNWNiNmY0MDZiN2VkZWUzODZiZmI1YTg5OWZhNWFlOWYyNDExN2M0YjFmZTY0OTI4NjY1MWVjZTQ1YjNkYzIwMDdjYjhhMTYzYmYwNTk4ZGE0ODM2MWM1NWQzOWE2OTE2M2ZhOGZkMjRjZjVmODM2NTVkMjNkY2EzYWQ5NjFjNjJmMzU2MjA4NTUyYmI5ZWQ1MjkwNzcwOTY5NjZkNjcwYzM1NGU0YWJjOTgwNGYxNzQ2YzA4Y2ExODIxN2MzMjkwNWU0NjJlMzZjZTNiZTM5ZTc3MmMxODBlODYwMzliMjc4M2EyZWMwN2EyOGZiNWM1NWRmMDZmNGM1MmM5ZGUyYmNiZjY5NTU4MTcxODM5OTU0OTdjZWE5NTZhZTUxNWQyMjYxODk4ZmEwNTEwMTU3MjhlNWE4YWFhYzQyZGFkMzMxNzBkMDQ1MDdhMzNhODU1MjFhYmRmMWNiYTY0ZWNmYjg1MDQ1OGRiZWYwYThhZWE3MTU3NWQwNjBjN2RiMzk3MGY4NWE2ZTFlNGM3YWJmNWFlOGNkYjA5MzNkNzFlOGM5NGUwNGEyNTYxOWRjZWUzZDIyNjFhZDJlZTZiZjEyZmZhMDZkOThhMDg2NGQ4NzYwMjczM2VjODZhNjQ1MjFmMmIxODE3N2IyMDBjYmJlMTE3NTc3YTYxNWQ2Yzc3MDk4OGMwYmFkOTQ2ZTIwOGUyNGZhMDc0ZTVhYjMxNDNkYjViZmNlMGZkMTA4ZTRiODJkMTIwYTkyMTA4MDExYTcyM2MxMmE3ODdlNmQ3ODg3MTlhMTBiZGJhNWIyNjk5YzMyNzE4NmFmNGUyM2MxYTk0NjgzNGI2MTUwYmRhMjU4M2U5Y2EyYWQ0NGNlOGRiYmJjMmRiMDRkZThlZjkyZThlZmMxNDFmYmVjYWE2Mjg3YzU5NDc0ZTZiYzA1ZDk5YjI5NjRmYTA5MGMzYTIyMzNiYTE4NjUxNWJlN2VkMWY2MTI5NzBjZWUyZDdhZmI4MWJkZDc2MjE3MDQ4MWNkMDA2OTEyN2Q1YjA1YWE5OTNiNGVhOTg4ZDhmZGRjMTg2ZmZiN2RjOTBhNmMwOGY0ZGY0MzVjOTM0MDYzMTk5ZmZmZmZmZmZmZmZmZmZmZiIKICAgIH0sCiAgICAibW9kcDE3IjogewogICAgICAgICJnZW4iOiAiMDIiLAogICAgICAgICJwcmltZSI6ICJmZmZmZmZmZmZmZmZmZmZmYzkwZmRhYTIyMTY4YzIzNGM0YzY2MjhiODBkYzFjZDEyOTAyNGUwODhhNjdjYzc0MDIwYmJlYTYzYjEzOWIyMjUxNGEwODc5OGUzNDA0ZGRlZjk1MTliM2NkM2E0MzFiMzAyYjBhNmRmMjVmMTQzNzRmZTEzNTZkNmQ1MWMyNDVlNDg1YjU3NjYyNWU3ZWM2ZjQ0YzQyZTlhNjM3ZWQ2YjBiZmY1Y2I2ZjQwNmI3ZWRlZTM4NmJmYjVhODk5ZmE1YWU5ZjI0MTE3YzRiMWZlNjQ5Mjg2NjUxZWNlNDViM2RjMjAwN2NiOGExNjNiZjA1OThkYTQ4MzYxYzU1ZDM5YTY5MTYzZmE4ZmQyNGNmNWY4MzY1NWQyM2RjYTNhZDk2MWM2MmYzNTYyMDg1NTJiYjllZDUyOTA3NzA5Njk2NmQ2NzBjMzU0ZTRhYmM5ODA0ZjE3NDZjMDhjYTE4MjE3YzMyOTA1ZTQ2MmUzNmNlM2JlMzllNzcyYzE4MGU4NjAzOWIyNzgzYTJlYzA3YTI4ZmI1YzU1ZGYwNmY0YzUyYzlkZTJiY2JmNjk1NTgxNzE4Mzk5NTQ5N2NlYTk1NmFlNTE1ZDIyNjE4OThmYTA1MTAxNTcyOGU1YThhYWFjNDJkYWQzMzE3MGQwNDUwN2EzM2E4NTUyMWFiZGYxY2JhNjRlY2ZiODUwNDU4ZGJlZjBhOGFlYTcxNTc1ZDA2MGM3ZGIzOTcwZjg1YTZlMWU0YzdhYmY1YWU4Y2RiMDkzM2Q3MWU4Yzk0ZTA0YTI1NjE5ZGNlZTNkMjI2MWFkMmVlNmJmMTJmZmEwNmQ5OGEwODY0ZDg3NjAyNzMzZWM4NmE2NDUyMWYyYjE4MTc3YjIwMGNiYmUxMTc1NzdhNjE1ZDZjNzcwOTg4YzBiYWQ5NDZlMjA4ZTI0ZmEwNzRlNWFiMzE0M2RiNWJmY2UwZmQxMDhlNGI4MmQxMjBhOTIxMDgwMTFhNzIzYzEyYTc4N2U2ZDc4ODcxOWExMGJkYmE1YjI2OTljMzI3MTg2YWY0ZTIzYzFhOTQ2ODM0YjYxNTBiZGEyNTgzZTljYTJhZDQ0Y2U4ZGJiYmMyZGIwNGRlOGVmOTJlOGVmYzE0MWZiZWNhYTYyODdjNTk0NzRlNmJjMDVkOTliMjk2NGZhMDkwYzNhMjIzM2JhMTg2NTE1YmU3ZWQxZjYxMjk3MGNlZTJkN2FmYjgxYmRkNzYyMTcwNDgxY2QwMDY5MTI3ZDViMDVhYTk5M2I0ZWE5ODhkOGZkZGMxODZmZmI3ZGM5MGE2YzA4ZjRkZjQzNWM5MzQwMjg0OTIzNmMzZmFiNGQyN2M3MDI2YzFkNGRjYjI2MDI2NDZkZWM5NzUxZTc2M2RiYTM3YmRmOGZmOTQwNmFkOWU1MzBlZTVkYjM4MmY0MTMwMDFhZWIwNmE1M2VkOTAyN2Q4MzExNzk3MjdiMDg2NWE4OTE4ZGEzZWRiZWJjZjliMTRlZDQ0Y2U2Y2JhY2VkNGJiMWJkYjdmMTQ0N2U2Y2MyNTRiMzMyMDUxNTEyYmQ3YWY0MjZmYjhmNDAxMzc4Y2QyYmY1OTgzY2EwMWM2NGI5MmVjZjAzMmVhMTVkMTcyMWQwM2Y0ODJkN2NlNmU3NGZlZjZkNTVlNzAyZjQ2OTgwYzgyYjVhODQwMzE5MDBiMWM5ZTU5ZTdjOTdmYmVjN2U4ZjMyM2E5N2E3ZTM2Y2M4OGJlMGYxZDQ1YjdmZjU4NWFjNTRiZDQwN2IyMmI0MTU0YWFjYzhmNmQ3ZWJmNDhlMWQ4MTRjYzVlZDIwZjgwMzdlMGE3OTcxNWVlZjI5YmUzMjgwNmExZDU4YmI3YzVkYTc2ZjU1MGFhM2Q4YTFmYmZmMGViMTljY2IxYTMxM2Q1NWNkYTU2YzllYzJlZjI5NjMyMzg3ZmU4ZDc2ZTNjMDQ2ODA0M2U4ZjY2M2Y0ODYwZWUxMmJmMmQ1YjBiNzQ3NGQ2ZTY5NGY5MWU2ZGNjNDAyNGZmZmZmZmZmZmZmZmZmZmYiCiAgICB9LAogICAgIm1vZHAxOCI6IHsKICAgICAgICAiZ2VuIjogIjAyIiwKICAgICAgICAicHJpbWUiOiAiZmZmZmZmZmZmZmZmZmZmZmM5MGZkYWEyMjE2OGMyMzRjNGM2NjI4YjgwZGMxY2QxMjkwMjRlMDg4YTY3Y2M3NDAyMGJiZWE2M2IxMzliMjI1MTRhMDg3OThlMzQwNGRkZWY5NTE5YjNjZDNhNDMxYjMwMmIwYTZkZjI1ZjE0Mzc0ZmUxMzU2ZDZkNTFjMjQ1ZTQ4NWI1NzY2MjVlN2VjNmY0NGM0MmU5YTYzN2VkNmIwYmZmNWNiNmY0MDZiN2VkZWUzODZiZmI1YTg5OWZhNWFlOWYyNDExN2M0YjFmZTY0OTI4NjY1MWVjZTQ1YjNkYzIwMDdjYjhhMTYzYmYwNTk4ZGE0ODM2MWM1NWQzOWE2OTE2M2ZhOGZkMjRjZjVmODM2NTVkMjNkY2EzYWQ5NjFjNjJmMzU2MjA4NTUyYmI5ZWQ1MjkwNzcwOTY5NjZkNjcwYzM1NGU0YWJjOTgwNGYxNzQ2YzA4Y2ExODIxN2MzMjkwNWU0NjJlMzZjZTNiZTM5ZTc3MmMxODBlODYwMzliMjc4M2EyZWMwN2EyOGZiNWM1NWRmMDZmNGM1MmM5ZGUyYmNiZjY5NTU4MTcxODM5OTU0OTdjZWE5NTZhZTUxNWQyMjYxODk4ZmEwNTEwMTU3MjhlNWE4YWFhYzQyZGFkMzMxNzBkMDQ1MDdhMzNhODU1MjFhYmRmMWNiYTY0ZWNmYjg1MDQ1OGRiZWYwYThhZWE3MTU3NWQwNjBjN2RiMzk3MGY4NWE2ZTFlNGM3YWJmNWFlOGNkYjA5MzNkNzFlOGM5NGUwNGEyNTYxOWRjZWUzZDIyNjFhZDJlZTZiZjEyZmZhMDZkOThhMDg2NGQ4NzYwMjczM2VjODZhNjQ1MjFmMmIxODE3N2IyMDBjYmJlMTE3NTc3YTYxNWQ2Yzc3MDk4OGMwYmFkOTQ2ZTIwOGUyNGZhMDc0ZTVhYjMxNDNkYjViZmNlMGZkMTA4ZTRiODJkMTIwYTkyMTA4MDExYTcyM2MxMmE3ODdlNmQ3ODg3MTlhMTBiZGJhNWIyNjk5YzMyNzE4NmFmNGUyM2MxYTk0NjgzNGI2MTUwYmRhMjU4M2U5Y2EyYWQ0NGNlOGRiYmJjMmRiMDRkZThlZjkyZThlZmMxNDFmYmVjYWE2Mjg3YzU5NDc0ZTZiYzA1ZDk5YjI5NjRmYTA5MGMzYTIyMzNiYTE4NjUxNWJlN2VkMWY2MTI5NzBjZWUyZDdhZmI4MWJkZDc2MjE3MDQ4MWNkMDA2OTEyN2Q1YjA1YWE5OTNiNGVhOTg4ZDhmZGRjMTg2ZmZiN2RjOTBhNmMwOGY0ZGY0MzVjOTM0MDI4NDkyMzZjM2ZhYjRkMjdjNzAyNmMxZDRkY2IyNjAyNjQ2ZGVjOTc1MWU3NjNkYmEzN2JkZjhmZjk0MDZhZDllNTMwZWU1ZGIzODJmNDEzMDAxYWViMDZhNTNlZDkwMjdkODMxMTc5NzI3YjA4NjVhODkxOGRhM2VkYmViY2Y5YjE0ZWQ0NGNlNmNiYWNlZDRiYjFiZGI3ZjE0NDdlNmNjMjU0YjMzMjA1MTUxMmJkN2FmNDI2ZmI4ZjQwMTM3OGNkMmJmNTk4M2NhMDFjNjRiOTJlY2YwMzJlYTE1ZDE3MjFkMDNmNDgyZDdjZTZlNzRmZWY2ZDU1ZTcwMmY0Njk4MGM4MmI1YTg0MDMxOTAwYjFjOWU1OWU3Yzk3ZmJlYzdlOGYzMjNhOTdhN2UzNmNjODhiZTBmMWQ0NWI3ZmY1ODVhYzU0YmQ0MDdiMjJiNDE1NGFhY2M4ZjZkN2ViZjQ4ZTFkODE0Y2M1ZWQyMGY4MDM3ZTBhNzk3MTVlZWYyOWJlMzI4MDZhMWQ1OGJiN2M1ZGE3NmY1NTBhYTNkOGExZmJmZjBlYjE5Y2NiMWEzMTNkNTVjZGE1NmM5ZWMyZWYyOTYzMjM4N2ZlOGQ3NmUzYzA0NjgwNDNlOGY2NjNmNDg2MGVlMTJiZjJkNWIwYjc0NzRkNmU2OTRmOTFlNmRiZTExNTk3NGEzOTI2ZjEyZmVlNWU0Mzg3NzdjYjZhOTMyZGY4Y2Q4YmVjNGQwNzNiOTMxYmEzYmM4MzJiNjhkOWRkMzAwNzQxZmE3YmY4YWZjNDdlZDI1NzZmNjkzNmJhNDI0NjYzYWFiNjM5YzVhZTRmNTY4MzQyM2I0NzQyYmYxYzk3ODIzOGYxNmNiZTM5ZDY1MmRlM2ZkYjhiZWZjODQ4YWQ5MjIyMjJlMDRhNDAzN2MwNzEzZWI1N2E4MWEyM2YwYzczNDczZmM2NDZjZWEzMDZiNGJjYmM4ODYyZjgzODVkZGZhOWQ0YjdmYTJjMDg3ZTg3OTY4MzMwM2VkNWJkZDNhMDYyYjNjZjViM2EyNzhhNjZkMmExM2Y4M2Y0NGY4MmRkZjMxMGVlMDc0YWI2YTM2NDU5N2U4OTlhMDI1NWRjMTY0ZjMxY2M1MDg0Njg1MWRmOWFiNDgxOTVkZWQ3ZWExYjFkNTEwYmQ3ZWU3NGQ3M2ZhZjM2YmMzMWVjZmEyNjgzNTkwNDZmNGViODc5ZjkyNDAwOTQzOGI0ODFjNmNkNzg4OWEwMDJlZDVlZTM4MmJjOTE5MGRhNmZjMDI2ZTQ3OTU1OGU0NDc1Njc3ZTlhYTllMzA1MGUyNzY1Njk0ZGZjODFmNTZlODgwYjk2ZTcxNjBjOTgwZGQ5OGVkZDNkZmZmZmZmZmZmZmZmZmZmZmYiCiAgICB9Cn0KfSx7fV0sOTY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewp2YXIgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0JykKdmFyIEJpZ0ludGVnZXIgPSByZXF1aXJlKCdiaWdpJykKCnZhciBQb2ludCA9IHJlcXVpcmUoJy4vcG9pbnQnKQoKZnVuY3Rpb24gQ3VydmUocCwgYSwgYiwgR3gsIEd5LCBuLCBoKSB7CiAgdGhpcy5wID0gcAogIHRoaXMuYSA9IGEKICB0aGlzLmIgPSBiCiAgdGhpcy5HID0gUG9pbnQuZnJvbUFmZmluZSh0aGlzLCBHeCwgR3kpCiAgdGhpcy5uID0gbgogIHRoaXMuaCA9IGgKCiAgdGhpcy5pbmZpbml0eSA9IG5ldyBQb2ludCh0aGlzLCBudWxsLCBudWxsLCBCaWdJbnRlZ2VyLlpFUk8pCgogIC8vIHJlc3VsdCBjYWNoaW5nCiAgdGhpcy5wT3ZlckZvdXIgPSBwLmFkZChCaWdJbnRlZ2VyLk9ORSkuc2hpZnRSaWdodCgyKQp9CgpDdXJ2ZS5wcm90b3R5cGUucG9pbnRGcm9tWCA9IGZ1bmN0aW9uKGlzT2RkLCB4KSB7CiAgdmFyIGFscGhhID0geC5wb3coMykuYWRkKHRoaXMuYS5tdWx0aXBseSh4KSkuYWRkKHRoaXMuYikubW9kKHRoaXMucCkKICB2YXIgYmV0YSA9IGFscGhhLm1vZFBvdyh0aGlzLnBPdmVyRm91ciwgdGhpcy5wKSAvLyBYWFg6IG5vdCBjb21wYXRpYmxlIHdpdGggYWxsIGN1cnZlcwoKICB2YXIgeSA9IGJldGEKICBpZiAoYmV0YS5pc0V2ZW4oKSBeICFpc09kZCkgewogICAgeSA9IHRoaXMucC5zdWJ0cmFjdCh5KSAvLyAteSAlIHAKICB9CgogIHJldHVybiBQb2ludC5mcm9tQWZmaW5lKHRoaXMsIHgsIHkpCn0KCkN1cnZlLnByb3RvdHlwZS5pc0luZmluaXR5ID0gZnVuY3Rpb24oUSkgewogIGlmIChRID09PSB0aGlzLmluZmluaXR5KSByZXR1cm4gdHJ1ZQoKICByZXR1cm4gUS56LnNpZ251bSgpID09PSAwICYmIFEueS5zaWdudW0oKSAhPT0gMAp9CgpDdXJ2ZS5wcm90b3R5cGUuaXNPbkN1cnZlID0gZnVuY3Rpb24oUSkgewogIGlmICh0aGlzLmlzSW5maW5pdHkoUSkpIHJldHVybiB0cnVlCgogIHZhciB4ID0gUS5hZmZpbmVYCiAgdmFyIHkgPSBRLmFmZmluZVkKICB2YXIgYSA9IHRoaXMuYQogIHZhciBiID0gdGhpcy5iCiAgdmFyIHAgPSB0aGlzLnAKCiAgLy8gQ2hlY2sgdGhhdCB4USBhbmQgeVEgYXJlIGludGVnZXJzIGluIHRoZSBpbnRlcnZhbCBbMCwgcCAtIDFdCiAgaWYgKHguc2lnbnVtKCkgPCAwIHx8IHguY29tcGFyZVRvKHApID49IDApIHJldHVybiBmYWxzZQogIGlmICh5LnNpZ251bSgpIDwgMCB8fCB5LmNvbXBhcmVUbyhwKSA+PSAwKSByZXR1cm4gZmFsc2UKCiAgLy8gYW5kIGNoZWNrIHRoYXQgeV4yID0geF4zICsgYXggKyBiIChtb2QgcCkKICB2YXIgbGhzID0geS5zcXVhcmUoKS5tb2QocCkKICB2YXIgcmhzID0geC5wb3coMykuYWRkKGEubXVsdGlwbHkoeCkpLmFkZChiKS5tb2QocCkKICByZXR1cm4gbGhzLmVxdWFscyhyaHMpCn0KCi8qKgogKiBWYWxpZGF0ZSBhbiBlbGxpcHRpYyBjdXJ2ZSBwb2ludC4KICoKICogU2VlIFNFQyAxLCBzZWN0aW9uIDMuMi4yLjE6IEVsbGlwdGljIEN1cnZlIFB1YmxpYyBLZXkgVmFsaWRhdGlvbiBQcmltaXRpdmUKICovCkN1cnZlLnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uKFEpIHsKICAvLyBDaGVjayBRICE9IE8KICBhc3NlcnQoIXRoaXMuaXNJbmZpbml0eShRKSwgJ1BvaW50IGlzIGF0IGluZmluaXR5JykKICBhc3NlcnQodGhpcy5pc09uQ3VydmUoUSksICdQb2ludCBpcyBub3Qgb24gdGhlIGN1cnZlJykKCiAgLy8gQ2hlY2sgblEgPSBPICh3aGVyZSBRIGlzIGEgc2NhbGFyIG11bHRpcGxlIG9mIEcpCiAgdmFyIG5RID0gUS5tdWx0aXBseSh0aGlzLm4pCiAgYXNzZXJ0KHRoaXMuaXNJbmZpbml0eShuUSksICdQb2ludCBpcyBub3QgYSBzY2FsYXIgbXVsdGlwbGUgb2YgRycpCgogIHJldHVybiB0cnVlCn0KCm1vZHVsZS5leHBvcnRzID0gQ3VydmUKCn0seyIuL3BvaW50IjoxMDAsImFzc2VydCI6MTUsImJpZ2kiOjIwfV0sOTc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewptb2R1bGUuZXhwb3J0cz17CiAgInNlY3AxMjhyMSI6IHsKICAgICJwIjogImZmZmZmZmZkZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmIiwKICAgICJhIjogImZmZmZmZmZkZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjIiwKICAgICJiIjogImU4NzU3OWMxMTA3OWY0M2RkODI0OTkzYzJjZWU1ZWQzIiwKICAgICJuIjogImZmZmZmZmZlMDAwMDAwMDA3NWEzMGQxYjkwMzhhMTE1IiwKICAgICJoIjogIjAxIiwKICAgICJHeCI6ICIxNjFmZjc1MjhiODk5YjJkMGMyODYwN2NhNTJjNWI4NiIsCiAgICAiR3kiOiAiY2Y1YWM4Mzk1YmFmZWIxM2MwMmRhMjkyZGRlZDdhODMiCiAgfSwKICAic2VjcDE2MGsxIjogewogICAgInAiOiAiZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmVmZmZmYWM3MyIsCiAgICAiYSI6ICIwMCIsCiAgICAiYiI6ICIwNyIsCiAgICAibiI6ICIwMTAwMDAwMDAwMDAwMDAwMDAwMDAxYjhmYTE2ZGZhYjlhY2ExNmI2YjMiLAogICAgImgiOiAiMDEiLAogICAgIkd4IjogIjNiNGMzODJjZTM3YWExOTJhNDAxOWU3NjMwMzZmNGY1ZGQ0ZDdlYmIiLAogICAgIkd5IjogIjkzOGNmOTM1MzE4ZmRjZWQ2YmMyODI4NjUzMTczM2MzZjAzYzRmZWUiCiAgfSwKICAic2VjcDE2MHIxIjogewogICAgInAiOiAiZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmY3ZmZmZmZmZiIsCiAgICAiYSI6ICJmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjdmZmZmZmZjIiwKICAgICJiIjogIjFjOTdiZWZjNTRiZDdhOGI2NWFjZjg5ZjgxZDRkNGFkYzU2NWZhNDUiLAogICAgIm4iOiAiMDEwMDAwMDAwMDAwMDAwMDAwMDAwMWY0YzhmOTI3YWVkM2NhNzUyMjU3IiwKICAgICJoIjogIjAxIiwKICAgICJHeCI6ICI0YTk2YjU2ODhlZjU3MzI4NDY2NDY5ODk2OGMzOGJiOTEzY2JmYzgyIiwKICAgICJHeSI6ICIyM2E2Mjg1NTMxNjg5NDdkNTlkY2M5MTIwNDIzNTEzNzdhYzVmYjMyIgogIH0sCiAgInNlY3AxOTJrMSI6IHsKICAgICJwIjogImZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmVmZmZmZWUzNyIsCiAgICAiYSI6ICIwMCIsCiAgICAiYiI6ICIwMyIsCiAgICAibiI6ICJmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmUyNmYyZmMxNzBmNjk0NjZhNzRkZWZkOGQiLAogICAgImgiOiAiMDEiLAogICAgIkd4IjogImRiNGZmMTBlYzA1N2U5YWUyNmIwN2QwMjgwYjdmNDM0MWRhNWQxYjFlYWUwNmM3ZCIsCiAgICAiR3kiOiAiOWIyZjJmNmQ5YzU2MjhhNzg0NDE2M2QwMTViZTg2MzQ0MDgyYWE4OGQ5NWUyZjlkIgogIH0sCiAgInNlY3AxOTJyMSI6IHsKICAgICJwIjogImZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZlZmZmZmZmZmZmZmZmZmZmZiIsCiAgICAiYSI6ICJmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZWZmZmZmZmZmZmZmZmZmZmMiLAogICAgImIiOiAiNjQyMTA1MTllNTljODBlNzBmYTdlOWFiNzIyNDMwNDlmZWI4ZGVlY2MxNDZiOWIxIiwKICAgICJuIjogImZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZjk5ZGVmODM2MTQ2YmM5YjFiNGQyMjgzMSIsCiAgICAiaCI6ICIwMSIsCiAgICAiR3giOiAiMTg4ZGE4MGViMDMwOTBmNjdjYmYyMGViNDNhMTg4MDBmNGZmMGFmZDgyZmYxMDEyIiwKICAgICJHeSI6ICIwNzE5MmI5NWZmYzhkYTc4NjMxMDExZWQ2YjI0Y2RkNTczZjk3N2ExMWU3OTQ4MTEiCiAgfSwKICAic2VjcDI1NmsxIjogewogICAgInAiOiAiZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmVmZmZmZmMyZiIsCiAgICAiYSI6ICIwMCIsCiAgICAiYiI6ICIwNyIsCiAgICAibiI6ICJmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZWJhYWVkY2U2YWY0OGEwM2JiZmQyNWU4Y2QwMzY0MTQxIiwKICAgICJoIjogIjAxIiwKICAgICJHeCI6ICI3OWJlNjY3ZWY5ZGNiYmFjNTVhMDYyOTVjZTg3MGIwNzAyOWJmY2RiMmRjZTI4ZDk1OWYyODE1YjE2ZjgxNzk4IiwKICAgICJHeSI6ICI0ODNhZGE3NzI2YTNjNDY1NWRhNGZiZmMwZTExMDhhOGZkMTdiNDQ4YTY4NTU0MTk5YzQ3ZDA4ZmZiMTBkNGI4IgogIH0sCiAgInNlY3AyNTZyMSI6IHsKICAgICJwIjogImZmZmZmZmZmMDAwMDAwMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYiLAogICAgImEiOiAiZmZmZmZmZmYwMDAwMDAwMTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMGZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmYyIsCiAgICAiYiI6ICI1YWM2MzVkOGFhM2E5M2U3YjNlYmJkNTU3Njk4ODZiYzY1MWQwNmIwY2M1M2IwZjYzYmNlM2MzZTI3ZDI2MDRiIiwKICAgICJuIjogImZmZmZmZmZmMDAwMDAwMDBmZmZmZmZmZmZmZmZmZmZmYmNlNmZhYWRhNzE3OWU4NGYzYjljYWMyZmM2MzI1NTEiLAogICAgImgiOiAiMDEiLAogICAgIkd4IjogIjZiMTdkMWYyZTEyYzQyNDdmOGJjZTZlNTYzYTQ0MGYyNzcwMzdkODEyZGViMzNhMGY0YTEzOTQ1ZDg5OGMyOTYiLAogICAgIkd5IjogIjRmZTM0MmUyZmUxYTdmOWI4ZWU3ZWI0YTdjMGY5ZTE2MmJjZTMzNTc2YjMxNWVjZWNiYjY0MDY4MzdiZjUxZjUiCiAgfQp9Cgp9LHt9XSw5ODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CnZhciBQb2ludCA9IHJlcXVpcmUoJy4vcG9pbnQnKQp2YXIgQ3VydmUgPSByZXF1aXJlKCcuL2N1cnZlJykKCnZhciBnZXRDdXJ2ZUJ5TmFtZSA9IHJlcXVpcmUoJy4vbmFtZXMnKQoKbW9kdWxlLmV4cG9ydHMgPSB7CiAgQ3VydmU6IEN1cnZlLAogIFBvaW50OiBQb2ludCwKICBnZXRDdXJ2ZUJ5TmFtZTogZ2V0Q3VydmVCeU5hbWUKfQoKfSx7Ii4vY3VydmUiOjk2LCIuL25hbWVzIjo5OSwiLi9wb2ludCI6MTAwfV0sOTk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewp2YXIgQmlnSW50ZWdlciA9IHJlcXVpcmUoJ2JpZ2knKQoKdmFyIGN1cnZlcyA9IHJlcXVpcmUoJy4vY3VydmVzJykKdmFyIEN1cnZlID0gcmVxdWlyZSgnLi9jdXJ2ZScpCgpmdW5jdGlvbiBnZXRDdXJ2ZUJ5TmFtZShuYW1lKSB7CiAgdmFyIGN1cnZlID0gY3VydmVzW25hbWVdCiAgaWYgKCFjdXJ2ZSkgcmV0dXJuIG51bGwKCiAgdmFyIHAgPSBuZXcgQmlnSW50ZWdlcihjdXJ2ZS5wLCAxNikKICB2YXIgYSA9IG5ldyBCaWdJbnRlZ2VyKGN1cnZlLmEsIDE2KQogIHZhciBiID0gbmV3IEJpZ0ludGVnZXIoY3VydmUuYiwgMTYpCiAgdmFyIG4gPSBuZXcgQmlnSW50ZWdlcihjdXJ2ZS5uLCAxNikKICB2YXIgaCA9IG5ldyBCaWdJbnRlZ2VyKGN1cnZlLmgsIDE2KQogIHZhciBHeCA9IG5ldyBCaWdJbnRlZ2VyKGN1cnZlLkd4LCAxNikKICB2YXIgR3kgPSBuZXcgQmlnSW50ZWdlcihjdXJ2ZS5HeSwgMTYpCgogIHJldHVybiBuZXcgQ3VydmUocCwgYSwgYiwgR3gsIEd5LCBuLCBoKQp9Cgptb2R1bGUuZXhwb3J0cyA9IGdldEN1cnZlQnlOYW1lCgp9LHsiLi9jdXJ2ZSI6OTYsIi4vY3VydmVzIjo5NywiYmlnaSI6MjB9XSwxMDA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7CnZhciBhc3NlcnQgPSByZXF1aXJlKCdhc3NlcnQnKQp2YXIgQmlnSW50ZWdlciA9IHJlcXVpcmUoJ2JpZ2knKQoKdmFyIFRIUkVFID0gQmlnSW50ZWdlci52YWx1ZU9mKDMpCgpmdW5jdGlvbiBQb2ludChjdXJ2ZSwgeCwgeSwgeikgewogIGFzc2VydC5ub3RTdHJpY3RFcXVhbCh6LCB1bmRlZmluZWQsICdNaXNzaW5nIFogY29vcmRpbmF0ZScpCgogIHRoaXMuY3VydmUgPSBjdXJ2ZQogIHRoaXMueCA9IHgKICB0aGlzLnkgPSB5CiAgdGhpcy56ID0gegogIHRoaXMuX3pJbnYgPSBudWxsCgogIHRoaXMuY29tcHJlc3NlZCA9IHRydWUKfQoKT2JqZWN0LmRlZmluZVByb3BlcnR5KFBvaW50LnByb3RvdHlwZSwgJ3pJbnYnLCB7CiAgZ2V0OiBmdW5jdGlvbigpIHsKICAgIGlmICh0aGlzLl96SW52ID09PSBudWxsKSB7CiAgICAgIHRoaXMuX3pJbnYgPSB0aGlzLnoubW9kSW52ZXJzZSh0aGlzLmN1cnZlLnApCiAgICB9CgogICAgcmV0dXJuIHRoaXMuX3pJbnYKICB9Cn0pCgpPYmplY3QuZGVmaW5lUHJvcGVydHkoUG9pbnQucHJvdG90eXBlLCAnYWZmaW5lWCcsIHsKICBnZXQ6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMueC5tdWx0aXBseSh0aGlzLnpJbnYpLm1vZCh0aGlzLmN1cnZlLnApCiAgfQp9KQoKT2JqZWN0LmRlZmluZVByb3BlcnR5KFBvaW50LnByb3RvdHlwZSwgJ2FmZmluZVknLCB7CiAgZ2V0OiBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzLnkubXVsdGlwbHkodGhpcy56SW52KS5tb2QodGhpcy5jdXJ2ZS5wKQogIH0KfSkKClBvaW50LmZyb21BZmZpbmUgPSBmdW5jdGlvbihjdXJ2ZSwgeCwgeSkgewogIHJldHVybiBuZXcgUG9pbnQoY3VydmUsIHgsIHksIEJpZ0ludGVnZXIuT05FKQp9CgpQb2ludC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24ob3RoZXIpIHsKICBpZiAob3RoZXIgPT09IHRoaXMpIHJldHVybiB0cnVlCiAgaWYgKHRoaXMuY3VydmUuaXNJbmZpbml0eSh0aGlzKSkgcmV0dXJuIHRoaXMuY3VydmUuaXNJbmZpbml0eShvdGhlcikKICBpZiAodGhpcy5jdXJ2ZS5pc0luZmluaXR5KG90aGVyKSkgcmV0dXJuIHRoaXMuY3VydmUuaXNJbmZpbml0eSh0aGlzKQoKICAvLyB1ID0gWTIgKiBaMSAtIFkxICogWjIKICB2YXIgdSA9IG90aGVyLnkubXVsdGlwbHkodGhpcy56KS5zdWJ0cmFjdCh0aGlzLnkubXVsdGlwbHkob3RoZXIueikpLm1vZCh0aGlzLmN1cnZlLnApCgogIGlmICh1LnNpZ251bSgpICE9PSAwKSByZXR1cm4gZmFsc2UKCiAgLy8gdiA9IFgyICogWjEgLSBYMSAqIFoyCiAgdmFyIHYgPSBvdGhlci54Lm11bHRpcGx5KHRoaXMueikuc3VidHJhY3QodGhpcy54Lm11bHRpcGx5KG90aGVyLnopKS5tb2QodGhpcy5jdXJ2ZS5wKQoKICByZXR1cm4gdi5zaWdudW0oKSA9PT0gMAp9CgpQb2ludC5wcm90b3R5cGUubmVnYXRlID0gZnVuY3Rpb24oKSB7CiAgdmFyIHkgPSB0aGlzLmN1cnZlLnAuc3VidHJhY3QodGhpcy55KQoKICByZXR1cm4gbmV3IFBvaW50KHRoaXMuY3VydmUsIHRoaXMueCwgeSwgdGhpcy56KQp9CgpQb2ludC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oYikgewogIGlmICh0aGlzLmN1cnZlLmlzSW5maW5pdHkodGhpcykpIHJldHVybiBiCiAgaWYgKHRoaXMuY3VydmUuaXNJbmZpbml0eShiKSkgcmV0dXJuIHRoaXMKCiAgdmFyIHgxID0gdGhpcy54CiAgdmFyIHkxID0gdGhpcy55CiAgdmFyIHgyID0gYi54CiAgdmFyIHkyID0gYi55CgogIC8vIHUgPSBZMiAqIFoxIC0gWTEgKiBaMgogIHZhciB1ID0geTIubXVsdGlwbHkodGhpcy56KS5zdWJ0cmFjdCh5MS5tdWx0aXBseShiLnopKS5tb2QodGhpcy5jdXJ2ZS5wKQogIC8vIHYgPSBYMiAqIFoxIC0gWDEgKiBaMgogIHZhciB2ID0geDIubXVsdGlwbHkodGhpcy56KS5zdWJ0cmFjdCh4MS5tdWx0aXBseShiLnopKS5tb2QodGhpcy5jdXJ2ZS5wKQoKICBpZiAodi5zaWdudW0oKSA9PT0gMCkgewogICAgaWYgKHUuc2lnbnVtKCkgPT09IDApIHsKICAgICAgcmV0dXJuIHRoaXMudHdpY2UoKSAvLyB0aGlzID09IGIsIHNvIGRvdWJsZQogICAgfQoKICAgIHJldHVybiB0aGlzLmN1cnZlLmluZmluaXR5IC8vIHRoaXMgPSAtYiwgc28gaW5maW5pdHkKICB9CgogIHZhciB2MiA9IHYuc3F1YXJlKCkKICB2YXIgdjMgPSB2Mi5tdWx0aXBseSh2KQogIHZhciB4MXYyID0geDEubXVsdGlwbHkodjIpCiAgdmFyIHp1MiA9IHUuc3F1YXJlKCkubXVsdGlwbHkodGhpcy56KQoKICAvLyB4MyA9IHYgKiAoejIgKiAoejEgKiB1XjIgLSAyICogeDEgKiB2XjIpIC0gdl4zKQogIHZhciB4MyA9IHp1Mi5zdWJ0cmFjdCh4MXYyLnNoaWZ0TGVmdCgxKSkubXVsdGlwbHkoYi56KS5zdWJ0cmFjdCh2MykubXVsdGlwbHkodikubW9kKHRoaXMuY3VydmUucCkKICAvLyB5MyA9IHoyICogKDMgKiB4MSAqIHUgKiB2XjIgLSB5MSAqIHZeMyAtIHoxICogdV4zKSArIHUgKiB2XjMKICB2YXIgeTMgPSB4MXYyLm11bHRpcGx5KFRIUkVFKS5tdWx0aXBseSh1KS5zdWJ0cmFjdCh5MS5tdWx0aXBseSh2MykpLnN1YnRyYWN0KHp1Mi5tdWx0aXBseSh1KSkubXVsdGlwbHkoYi56KS5hZGQodS5tdWx0aXBseSh2MykpLm1vZCh0aGlzLmN1cnZlLnApCiAgLy8gejMgPSB2XjMgKiB6MSAqIHoyCiAgdmFyIHozID0gdjMubXVsdGlwbHkodGhpcy56KS5tdWx0aXBseShiLnopLm1vZCh0aGlzLmN1cnZlLnApCgogIHJldHVybiBuZXcgUG9pbnQodGhpcy5jdXJ2ZSwgeDMsIHkzLCB6MykKfQoKUG9pbnQucHJvdG90eXBlLnR3aWNlID0gZnVuY3Rpb24oKSB7CiAgaWYgKHRoaXMuY3VydmUuaXNJbmZpbml0eSh0aGlzKSkgcmV0dXJuIHRoaXMKICBpZiAodGhpcy55LnNpZ251bSgpID09PSAwKSByZXR1cm4gdGhpcy5jdXJ2ZS5pbmZpbml0eQoKICB2YXIgeDEgPSB0aGlzLngKICB2YXIgeTEgPSB0aGlzLnkKCiAgdmFyIHkxejEgPSB5MS5tdWx0aXBseSh0aGlzLnopCiAgdmFyIHkxc3F6MSA9IHkxejEubXVsdGlwbHkoeTEpLm1vZCh0aGlzLmN1cnZlLnApCiAgdmFyIGEgPSB0aGlzLmN1cnZlLmEKCiAgLy8gdyA9IDMgKiB4MV4yICsgYSAqIHoxXjIKICB2YXIgdyA9IHgxLnNxdWFyZSgpLm11bHRpcGx5KFRIUkVFKQoKICBpZiAoYS5zaWdudW0oKSAhPT0gMCkgewogICAgdyA9IHcuYWRkKHRoaXMuei5zcXVhcmUoKS5tdWx0aXBseShhKSkKICB9CgogIHcgPSB3Lm1vZCh0aGlzLmN1cnZlLnApCiAgLy8geDMgPSAyICogeTEgKiB6MSAqICh3XjIgLSA4ICogeDEgKiB5MV4yICogejEpCiAgdmFyIHgzID0gdy5zcXVhcmUoKS5zdWJ0cmFjdCh4MS5zaGlmdExlZnQoMykubXVsdGlwbHkoeTFzcXoxKSkuc2hpZnRMZWZ0KDEpLm11bHRpcGx5KHkxejEpLm1vZCh0aGlzLmN1cnZlLnApCiAgLy8geTMgPSA0ICogeTFeMiAqIHoxICogKDMgKiB3ICogeDEgLSAyICogeTFeMiAqIHoxKSAtIHdeMwogIHZhciB5MyA9IHcubXVsdGlwbHkoVEhSRUUpLm11bHRpcGx5KHgxKS5zdWJ0cmFjdCh5MXNxejEuc2hpZnRMZWZ0KDEpKS5zaGlmdExlZnQoMikubXVsdGlwbHkoeTFzcXoxKS5zdWJ0cmFjdCh3LnBvdygzKSkubW9kKHRoaXMuY3VydmUucCkKICAvLyB6MyA9IDggKiAoeTEgKiB6MSleMwogIHZhciB6MyA9IHkxejEucG93KDMpLnNoaWZ0TGVmdCgzKS5tb2QodGhpcy5jdXJ2ZS5wKQoKICByZXR1cm4gbmV3IFBvaW50KHRoaXMuY3VydmUsIHgzLCB5MywgejMpCn0KCi8vIFNpbXBsZSBOQUYgKE5vbi1BZGphY2VudCBGb3JtKSBtdWx0aXBsaWNhdGlvbiBhbGdvcml0aG0KLy8gVE9ETzogbW9kdWxhcml6ZSB0aGUgbXVsdGlwbGljYXRpb24gYWxnb3JpdGhtClBvaW50LnByb3RvdHlwZS5tdWx0aXBseSA9IGZ1bmN0aW9uKGspIHsKICBpZiAodGhpcy5jdXJ2ZS5pc0luZmluaXR5KHRoaXMpKSByZXR1cm4gdGhpcwogIGlmIChrLnNpZ251bSgpID09PSAwKSByZXR1cm4gdGhpcy5jdXJ2ZS5pbmZpbml0eQoKICB2YXIgZSA9IGsKICB2YXIgaCA9IGUubXVsdGlwbHkoVEhSRUUpCgogIHZhciBuZWcgPSB0aGlzLm5lZ2F0ZSgpCiAgdmFyIFIgPSB0aGlzCgogIGZvciAodmFyIGkgPSBoLmJpdExlbmd0aCgpIC0gMjsgaSA+IDA7IC0taSkgewogICAgdmFyIGhCaXQgPSBoLnRlc3RCaXQoaSkKICAgIHZhciBlQml0ID0gZS50ZXN0Qml0KGkpCgogICAgUiA9IFIudHdpY2UoKQoKICAgIGlmIChoQml0ICE9PSBlQml0KSB7CiAgICAgIFIgPSBSLmFkZChoQml0ID8gdGhpcyA6IG5lZykKICAgIH0KICB9CgogIHJldHVybiBSCn0KCi8vIENvbXB1dGUgdGhpcypqICsgeCprIChzaW11bHRhbmVvdXMgbXVsdGlwbGljYXRpb24pClBvaW50LnByb3RvdHlwZS5tdWx0aXBseVR3byA9IGZ1bmN0aW9uKGosIHgsIGspIHsKICB2YXIgaSA9IE1hdGgubWF4KGouYml0TGVuZ3RoKCksIGsuYml0TGVuZ3RoKCkpIC0gMQogIHZhciBSID0gdGhpcy5jdXJ2ZS5pbmZpbml0eQogIHZhciBib3RoID0gdGhpcy5hZGQoeCkKCiAgd2hpbGUgKGkgPj0gMCkgewogICAgdmFyIGpCaXQgPSBqLnRlc3RCaXQoaSkKICAgIHZhciBrQml0ID0gay50ZXN0Qml0KGkpCgogICAgUiA9IFIudHdpY2UoKQoKICAgIGlmIChqQml0KSB7CiAgICAgIGlmIChrQml0KSB7CiAgICAgICAgUiA9IFIuYWRkKGJvdGgpCgogICAgICB9IGVsc2UgewogICAgICAgIFIgPSBSLmFkZCh0aGlzKQogICAgICB9CgogICAgfSBlbHNlIGlmIChrQml0KSB7CiAgICAgIFIgPSBSLmFkZCh4KQogICAgfQogICAgLS1pCiAgfQoKICByZXR1cm4gUgp9CgpQb2ludC5wcm90b3R5cGUuZ2V0RW5jb2RlZCA9IGZ1bmN0aW9uKGNvbXByZXNzZWQpIHsKICBpZiAoY29tcHJlc3NlZCA9PSB1bmRlZmluZWQpIGNvbXByZXNzZWQgPSB0aGlzLmNvbXByZXNzZWQKICBpZiAodGhpcy5jdXJ2ZS5pc0luZmluaXR5KHRoaXMpKSByZXR1cm4gbmV3IEJ1ZmZlcignMDAnLCAnaGV4JykgLy8gSW5maW5pdHkgcG9pbnQgZW5jb2RlZCBpcyBzaW1wbHkgJzAwJwoKICB2YXIgeCA9IHRoaXMuYWZmaW5lWAogIHZhciB5ID0gdGhpcy5hZmZpbmVZCgogIHZhciBidWZmZXIKCiAgLy8gRGV0ZXJtaW5lIHNpemUgb2YgcSBpbiBieXRlcwogIHZhciBieXRlTGVuZ3RoID0gTWF0aC5mbG9vcigodGhpcy5jdXJ2ZS5wLmJpdExlbmd0aCgpICsgNykgLyA4KQoKICAvLyAweDAyLzB4MDMgfCBYCiAgaWYgKGNvbXByZXNzZWQpIHsKICAgIGJ1ZmZlciA9IG5ldyBCdWZmZXIoMSArIGJ5dGVMZW5ndGgpCiAgICBidWZmZXIud3JpdGVVSW50OCh5LmlzRXZlbigpID8gMHgwMiA6IDB4MDMsIDApCgogIC8vIDB4MDQgfCBYIHwgWQogIH0gZWxzZSB7CiAgICBidWZmZXIgPSBuZXcgQnVmZmVyKDEgKyBieXRlTGVuZ3RoICsgYnl0ZUxlbmd0aCkKICAgIGJ1ZmZlci53cml0ZVVJbnQ4KDB4MDQsIDApCgogICAgeS50b0J1ZmZlcihieXRlTGVuZ3RoKS5jb3B5KGJ1ZmZlciwgMSArIGJ5dGVMZW5ndGgpCiAgfQoKICB4LnRvQnVmZmVyKGJ5dGVMZW5ndGgpLmNvcHkoYnVmZmVyLCAxKQoKICByZXR1cm4gYnVmZmVyCn0KClBvaW50LmRlY29kZUZyb20gPSBmdW5jdGlvbihjdXJ2ZSwgYnVmZmVyKSB7CiAgdmFyIHR5cGUgPSBidWZmZXIucmVhZFVJbnQ4KDApCiAgdmFyIGNvbXByZXNzZWQgPSAodHlwZSAhPT0gNCkKCiAgdmFyIGJ5dGVMZW5ndGggPSBNYXRoLmZsb29yKChjdXJ2ZS5wLmJpdExlbmd0aCgpICsgNykgLyA4KQogIHZhciB4ID0gQmlnSW50ZWdlci5mcm9tQnVmZmVyKGJ1ZmZlci5zbGljZSgxLCAxICsgYnl0ZUxlbmd0aCkpCgogIHZhciBRCiAgaWYgKGNvbXByZXNzZWQpIHsKICAgIGFzc2VydC5lcXVhbChidWZmZXIubGVuZ3RoLCBieXRlTGVuZ3RoICsgMSwgJ0ludmFsaWQgc2VxdWVuY2UgbGVuZ3RoJykKICAgIGFzc2VydCh0eXBlID09PSAweDAyIHx8IHR5cGUgPT09IDB4MDMsICdJbnZhbGlkIHNlcXVlbmNlIHRhZycpCgogICAgdmFyIGlzT2RkID0gKHR5cGUgPT09IDB4MDMpCiAgICBRID0gY3VydmUucG9pbnRGcm9tWChpc09kZCwgeCkKCiAgfSBlbHNlIHsKICAgIGFzc2VydC5lcXVhbChidWZmZXIubGVuZ3RoLCAxICsgYnl0ZUxlbmd0aCArIGJ5dGVMZW5ndGgsICdJbnZhbGlkIHNlcXVlbmNlIGxlbmd0aCcpCgogICAgdmFyIHkgPSBCaWdJbnRlZ2VyLmZyb21CdWZmZXIoYnVmZmVyLnNsaWNlKDEgKyBieXRlTGVuZ3RoKSkKICAgIFEgPSBQb2ludC5mcm9tQWZmaW5lKGN1cnZlLCB4LCB5KQogIH0KCiAgUS5jb21wcmVzc2VkID0gY29tcHJlc3NlZAogIHJldHVybiBRCn0KClBvaW50LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICBpZiAodGhpcy5jdXJ2ZS5pc0luZmluaXR5KHRoaXMpKSByZXR1cm4gJyhJTkZJTklUWSknCgogIHJldHVybiAnKCcgKyB0aGlzLmFmZmluZVgudG9TdHJpbmcoKSArICcsJyArIHRoaXMuYWZmaW5lWS50b1N0cmluZygpICsgJyknCn0KCm1vZHVsZS5leHBvcnRzID0gUG9pbnQKCn0pLmNhbGwodGhpcyxyZXF1aXJlKCJidWZmZXIiKS5CdWZmZXIpCn0seyJhc3NlcnQiOjE1LCJiaWdpIjoyMCwiYnVmZmVyIjo3Nn1dLDEwMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCnZhciBlbGxpcHRpYyA9IGV4cG9ydHM7CgplbGxpcHRpYy52ZXJzaW9uID0gcmVxdWlyZSgnLi4vcGFja2FnZS5qc29uJykudmVyc2lvbjsKZWxsaXB0aWMudXRpbHMgPSByZXF1aXJlKCcuL2VsbGlwdGljL3V0aWxzJyk7CmVsbGlwdGljLnJhbmQgPSByZXF1aXJlKCdicm9yYW5kJyk7CmVsbGlwdGljLmhtYWNEUkJHID0gcmVxdWlyZSgnLi9lbGxpcHRpYy9obWFjLWRyYmcnKTsKZWxsaXB0aWMuY3VydmUgPSByZXF1aXJlKCcuL2VsbGlwdGljL2N1cnZlJyk7CmVsbGlwdGljLmN1cnZlcyA9IHJlcXVpcmUoJy4vZWxsaXB0aWMvY3VydmVzJyk7CgovLyBQcm90b2NvbHMKZWxsaXB0aWMuZWMgPSByZXF1aXJlKCcuL2VsbGlwdGljL2VjJyk7CmVsbGlwdGljLmVkZHNhID0gcmVxdWlyZSgnLi9lbGxpcHRpYy9lZGRzYScpOwoKfSx7Ii4uL3BhY2thZ2UuanNvbiI6MTE3LCIuL2VsbGlwdGljL2N1cnZlIjoxMDQsIi4vZWxsaXB0aWMvY3VydmVzIjoxMDcsIi4vZWxsaXB0aWMvZWMiOjEwOCwiLi9lbGxpcHRpYy9lZGRzYSI6MTExLCIuL2VsbGlwdGljL2htYWMtZHJiZyI6MTE0LCIuL2VsbGlwdGljL3V0aWxzIjoxMTYsImJyb3JhbmQiOjQzfV0sMTAyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKdmFyIEJOID0gcmVxdWlyZSgnYm4uanMnKTsKdmFyIGVsbGlwdGljID0gcmVxdWlyZSgnLi4vLi4vZWxsaXB0aWMnKTsKdmFyIHV0aWxzID0gZWxsaXB0aWMudXRpbHM7CnZhciBnZXROQUYgPSB1dGlscy5nZXROQUY7CnZhciBnZXRKU0YgPSB1dGlscy5nZXRKU0Y7CnZhciBhc3NlcnQgPSB1dGlscy5hc3NlcnQ7CgpmdW5jdGlvbiBCYXNlQ3VydmUodHlwZSwgY29uZikgewogIHRoaXMudHlwZSA9IHR5cGU7CiAgdGhpcy5wID0gbmV3IEJOKGNvbmYucCwgMTYpOwoKICAvLyBVc2UgTW9udGdvbWVyeSwgd2hlbiB0aGVyZSBpcyBubyBmYXN0IHJlZHVjdGlvbiBmb3IgdGhlIHByaW1lCiAgdGhpcy5yZWQgPSBjb25mLnByaW1lID8gQk4ucmVkKGNvbmYucHJpbWUpIDogQk4ubW9udCh0aGlzLnApOwoKICAvLyBVc2VmdWwgZm9yIG1hbnkgY3VydmVzCiAgdGhpcy56ZXJvID0gbmV3IEJOKDApLnRvUmVkKHRoaXMucmVkKTsKICB0aGlzLm9uZSA9IG5ldyBCTigxKS50b1JlZCh0aGlzLnJlZCk7CiAgdGhpcy50d28gPSBuZXcgQk4oMikudG9SZWQodGhpcy5yZWQpOwoKICAvLyBDdXJ2ZSBjb25maWd1cmF0aW9uLCBvcHRpb25hbAogIHRoaXMubiA9IGNvbmYubiAmJiBuZXcgQk4oY29uZi5uLCAxNik7CiAgdGhpcy5nID0gY29uZi5nICYmIHRoaXMucG9pbnRGcm9tSlNPTihjb25mLmcsIGNvbmYuZ1JlZCk7CgogIC8vIFRlbXBvcmFyeSBhcnJheXMKICB0aGlzLl93bmFmVDEgPSBuZXcgQXJyYXkoNCk7CiAgdGhpcy5fd25hZlQyID0gbmV3IEFycmF5KDQpOwogIHRoaXMuX3duYWZUMyA9IG5ldyBBcnJheSg0KTsKICB0aGlzLl93bmFmVDQgPSBuZXcgQXJyYXkoNCk7Cn0KbW9kdWxlLmV4cG9ydHMgPSBCYXNlQ3VydmU7CgpCYXNlQ3VydmUucHJvdG90eXBlLnBvaW50ID0gZnVuY3Rpb24gcG9pbnQoKSB7CiAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTsKfTsKCkJhc2VDdXJ2ZS5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZSgpIHsKICB0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpOwp9OwoKQmFzZUN1cnZlLnByb3RvdHlwZS5fZml4ZWROYWZNdWwgPSBmdW5jdGlvbiBfZml4ZWROYWZNdWwocCwgaykgewogIGFzc2VydChwLnByZWNvbXB1dGVkKTsKICB2YXIgZG91YmxlcyA9IHAuX2dldERvdWJsZXMoKTsKCiAgdmFyIG5hZiA9IGdldE5BRihrLCAxKTsKICB2YXIgSSA9ICgxIDw8IChkb3VibGVzLnN0ZXAgKyAxKSkgLSAoZG91Ymxlcy5zdGVwICUgMiA9PT0gMCA/IDIgOiAxKTsKICBJIC89IDM7CgogIC8vIFRyYW5zbGF0ZSBpbnRvIG1vcmUgd2luZG93ZWQgZm9ybQogIHZhciByZXByID0gW107CiAgZm9yICh2YXIgaiA9IDA7IGogPCBuYWYubGVuZ3RoOyBqICs9IGRvdWJsZXMuc3RlcCkgewogICAgdmFyIG5hZlcgPSAwOwogICAgZm9yICh2YXIgayA9IGogKyBkb3VibGVzLnN0ZXAgLSAxOyBrID49IGo7IGstLSkKICAgICAgbmFmVyA9IChuYWZXIDw8IDEpICsgbmFmW2tdOwogICAgcmVwci5wdXNoKG5hZlcpOwogIH0KCiAgdmFyIGEgPSB0aGlzLmpwb2ludChudWxsLCBudWxsLCBudWxsKTsKICB2YXIgYiA9IHRoaXMuanBvaW50KG51bGwsIG51bGwsIG51bGwpOwogIGZvciAodmFyIGkgPSBJOyBpID4gMDsgaS0tKSB7CiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJlcHIubGVuZ3RoOyBqKyspIHsKICAgICAgdmFyIG5hZlcgPSByZXByW2pdOwogICAgICBpZiAobmFmVyA9PT0gaSkKICAgICAgICBiID0gYi5taXhlZEFkZChkb3VibGVzLnBvaW50c1tqXSk7CiAgICAgIGVsc2UgaWYgKG5hZlcgPT09IC1pKQogICAgICAgIGIgPSBiLm1peGVkQWRkKGRvdWJsZXMucG9pbnRzW2pdLm5lZygpKTsKICAgIH0KICAgIGEgPSBhLmFkZChiKTsKICB9CiAgcmV0dXJuIGEudG9QKCk7Cn07CgpCYXNlQ3VydmUucHJvdG90eXBlLl93bmFmTXVsID0gZnVuY3Rpb24gX3duYWZNdWwocCwgaykgewogIHZhciB3ID0gNDsKCiAgLy8gUHJlY29tcHV0ZSB3aW5kb3cKICB2YXIgbmFmUG9pbnRzID0gcC5fZ2V0TkFGUG9pbnRzKHcpOwogIHcgPSBuYWZQb2ludHMud25kOwogIHZhciB3bmQgPSBuYWZQb2ludHMucG9pbnRzOwoKICAvLyBHZXQgTkFGIGZvcm0KICB2YXIgbmFmID0gZ2V0TkFGKGssIHcpOwoKICAvLyBBZGQgYHRoaXNgKihOKzEpIGZvciBldmVyeSB3LU5BRiBpbmRleAogIHZhciBhY2MgPSB0aGlzLmpwb2ludChudWxsLCBudWxsLCBudWxsKTsKICBmb3IgKHZhciBpID0gbmFmLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAvLyBDb3VudCB6ZXJvZXMKICAgIGZvciAodmFyIGsgPSAwOyBpID49IDAgJiYgbmFmW2ldID09PSAwOyBpLS0pCiAgICAgIGsrKzsKICAgIGlmIChpID49IDApCiAgICAgIGsrKzsKICAgIGFjYyA9IGFjYy5kYmxwKGspOwoKICAgIGlmIChpIDwgMCkKICAgICAgYnJlYWs7CiAgICB2YXIgeiA9IG5hZltpXTsKICAgIGFzc2VydCh6ICE9PSAwKTsKICAgIGlmIChwLnR5cGUgPT09ICdhZmZpbmUnKSB7CiAgICAgIC8vIEogKy0gUAogICAgICBpZiAoeiA+IDApCiAgICAgICAgYWNjID0gYWNjLm1peGVkQWRkKHduZFsoeiAtIDEpID4+IDFdKTsKICAgICAgZWxzZQogICAgICAgIGFjYyA9IGFjYy5taXhlZEFkZCh3bmRbKC16IC0gMSkgPj4gMV0ubmVnKCkpOwogICAgfSBlbHNlIHsKICAgICAgLy8gSiArLSBKCiAgICAgIGlmICh6ID4gMCkKICAgICAgICBhY2MgPSBhY2MuYWRkKHduZFsoeiAtIDEpID4+IDFdKTsKICAgICAgZWxzZQogICAgICAgIGFjYyA9IGFjYy5hZGQod25kWygteiAtIDEpID4+IDFdLm5lZygpKTsKICAgIH0KICB9CiAgcmV0dXJuIHAudHlwZSA9PT0gJ2FmZmluZScgPyBhY2MudG9QKCkgOiBhY2M7Cn07CgpCYXNlQ3VydmUucHJvdG90eXBlLl93bmFmTXVsQWRkID0gZnVuY3Rpb24gX3duYWZNdWxBZGQoZGVmVywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZWZmcywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlbikgewogIHZhciB3bmRXaWR0aCA9IHRoaXMuX3duYWZUMTsKICB2YXIgd25kID0gdGhpcy5fd25hZlQyOwogIHZhciBuYWYgPSB0aGlzLl93bmFmVDM7CgogIC8vIEZpbGwgYWxsIGFycmF5cwogIHZhciBtYXggPSAwOwogIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgIHZhciBwID0gcG9pbnRzW2ldOwogICAgdmFyIG5hZlBvaW50cyA9IHAuX2dldE5BRlBvaW50cyhkZWZXKTsKICAgIHduZFdpZHRoW2ldID0gbmFmUG9pbnRzLnduZDsKICAgIHduZFtpXSA9IG5hZlBvaW50cy5wb2ludHM7CiAgfQoKICAvLyBDb21iIHNtYWxsIHdpbmRvdyBOQUZzCiAgZm9yICh2YXIgaSA9IGxlbiAtIDE7IGkgPj0gMTsgaSAtPSAyKSB7CiAgICB2YXIgYSA9IGkgLSAxOwogICAgdmFyIGIgPSBpOwogICAgaWYgKHduZFdpZHRoW2FdICE9PSAxIHx8IHduZFdpZHRoW2JdICE9PSAxKSB7CiAgICAgIG5hZlthXSA9IGdldE5BRihjb2VmZnNbYV0sIHduZFdpZHRoW2FdKTsKICAgICAgbmFmW2JdID0gZ2V0TkFGKGNvZWZmc1tiXSwgd25kV2lkdGhbYl0pOwogICAgICBtYXggPSBNYXRoLm1heChuYWZbYV0ubGVuZ3RoLCBtYXgpOwogICAgICBtYXggPSBNYXRoLm1heChuYWZbYl0ubGVuZ3RoLCBtYXgpOwogICAgICBjb250aW51ZTsKICAgIH0KCiAgICB2YXIgY29tYiA9IFsKICAgICAgcG9pbnRzW2FdLCAvKiAxICovCiAgICAgIG51bGwsIC8qIDMgKi8KICAgICAgbnVsbCwgLyogNSAqLwogICAgICBwb2ludHNbYl0gLyogNyAqLwogICAgXTsKCiAgICAvLyBUcnkgdG8gYXZvaWQgUHJvamVjdGl2ZSBwb2ludHMsIGlmIHBvc3NpYmxlCiAgICBpZiAocG9pbnRzW2FdLnkuY21wKHBvaW50c1tiXS55KSA9PT0gMCkgewogICAgICBjb21iWzFdID0gcG9pbnRzW2FdLmFkZChwb2ludHNbYl0pOwogICAgICBjb21iWzJdID0gcG9pbnRzW2FdLnRvSigpLm1peGVkQWRkKHBvaW50c1tiXS5uZWcoKSk7CiAgICB9IGVsc2UgaWYgKHBvaW50c1thXS55LmNtcChwb2ludHNbYl0ueS5yZWROZWcoKSkgPT09IDApIHsKICAgICAgY29tYlsxXSA9IHBvaW50c1thXS50b0ooKS5taXhlZEFkZChwb2ludHNbYl0pOwogICAgICBjb21iWzJdID0gcG9pbnRzW2FdLmFkZChwb2ludHNbYl0ubmVnKCkpOwogICAgfSBlbHNlIHsKICAgICAgY29tYlsxXSA9IHBvaW50c1thXS50b0ooKS5taXhlZEFkZChwb2ludHNbYl0pOwogICAgICBjb21iWzJdID0gcG9pbnRzW2FdLnRvSigpLm1peGVkQWRkKHBvaW50c1tiXS5uZWcoKSk7CiAgICB9CgogICAgdmFyIGluZGV4ID0gWwogICAgICAtMywgLyogLTEgLTEgKi8KICAgICAgLTEsIC8qIC0xIDAgKi8KICAgICAgLTUsIC8qIC0xIDEgKi8KICAgICAgLTcsIC8qIDAgLTEgKi8KICAgICAgMCwgLyogMCAwICovCiAgICAgIDcsIC8qIDAgMSAqLwogICAgICA1LCAvKiAxIC0xICovCiAgICAgIDEsIC8qIDEgMCAqLwogICAgICAzICAvKiAxIDEgKi8KICAgIF07CgogICAgdmFyIGpzZiA9IGdldEpTRihjb2VmZnNbYV0sIGNvZWZmc1tiXSk7CiAgICBtYXggPSBNYXRoLm1heChqc2ZbMF0ubGVuZ3RoLCBtYXgpOwogICAgbmFmW2FdID0gbmV3IEFycmF5KG1heCk7CiAgICBuYWZbYl0gPSBuZXcgQXJyYXkobWF4KTsKICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWF4OyBqKyspIHsKICAgICAgdmFyIGphID0ganNmWzBdW2pdIHwgMDsKICAgICAgdmFyIGpiID0ganNmWzFdW2pdIHwgMDsKCiAgICAgIG5hZlthXVtqXSA9IGluZGV4WyhqYSArIDEpICogMyArIChqYiArIDEpXTsKICAgICAgbmFmW2JdW2pdID0gMDsKICAgICAgd25kW2FdID0gY29tYjsKICAgIH0KICB9CgogIHZhciBhY2MgPSB0aGlzLmpwb2ludChudWxsLCBudWxsLCBudWxsKTsKICB2YXIgdG1wID0gdGhpcy5fd25hZlQ0OwogIGZvciAodmFyIGkgPSBtYXg7IGkgPj0gMDsgaS0tKSB7CiAgICB2YXIgayA9IDA7CgogICAgd2hpbGUgKGkgPj0gMCkgewogICAgICB2YXIgemVybyA9IHRydWU7CiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGVuOyBqKyspIHsKICAgICAgICB0bXBbal0gPSBuYWZbal1baV0gfCAwOwogICAgICAgIGlmICh0bXBbal0gIT09IDApCiAgICAgICAgICB6ZXJvID0gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKCF6ZXJvKQogICAgICAgIGJyZWFrOwogICAgICBrKys7CiAgICAgIGktLTsKICAgIH0KICAgIGlmIChpID49IDApCiAgICAgIGsrKzsKICAgIGFjYyA9IGFjYy5kYmxwKGspOwogICAgaWYgKGkgPCAwKQogICAgICBicmVhazsKCiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGxlbjsgaisrKSB7CiAgICAgIHZhciB6ID0gdG1wW2pdOwogICAgICB2YXIgcDsKICAgICAgaWYgKHogPT09IDApCiAgICAgICAgY29udGludWU7CiAgICAgIGVsc2UgaWYgKHogPiAwKQogICAgICAgIHAgPSB3bmRbal1bKHogLSAxKSA+PiAxXTsKICAgICAgZWxzZSBpZiAoeiA8IDApCiAgICAgICAgcCA9IHduZFtqXVsoLXogLSAxKSA+PiAxXS5uZWcoKTsKCiAgICAgIGlmIChwLnR5cGUgPT09ICdhZmZpbmUnKQogICAgICAgIGFjYyA9IGFjYy5taXhlZEFkZChwKTsKICAgICAgZWxzZQogICAgICAgIGFjYyA9IGFjYy5hZGQocCk7CiAgICB9CiAgfQogIC8vIFplcm9pZnkgcmVmZXJlbmNlcwogIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspCiAgICB3bmRbaV0gPSBudWxsOwogIHJldHVybiBhY2MudG9QKCk7Cn07CgpmdW5jdGlvbiBCYXNlUG9pbnQoY3VydmUsIHR5cGUpIHsKICB0aGlzLmN1cnZlID0gY3VydmU7CiAgdGhpcy50eXBlID0gdHlwZTsKICB0aGlzLnByZWNvbXB1dGVkID0gbnVsbDsKfQpCYXNlQ3VydmUuQmFzZVBvaW50ID0gQmFzZVBvaW50OwoKQmFzZVBvaW50LnByb3RvdHlwZS5lcSA9IGZ1bmN0aW9uIGVxKC8qb3RoZXIqLykgewogIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7Cn07CgpCYXNlUG9pbnQucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gdmFsaWRhdGUoKSB7CiAgcmV0dXJuIHRoaXMuY3VydmUudmFsaWRhdGUodGhpcyk7Cn07CgpCYXNlQ3VydmUucHJvdG90eXBlLmRlY29kZVBvaW50ID0gZnVuY3Rpb24gZGVjb2RlUG9pbnQoYnl0ZXMsIGVuYykgewogIGJ5dGVzID0gdXRpbHMudG9BcnJheShieXRlcywgZW5jKTsKCiAgdmFyIGxlbiA9IHRoaXMucC5ieXRlTGVuZ3RoKCk7CiAgaWYgKGJ5dGVzWzBdID09PSAweDA0ICYmIGJ5dGVzLmxlbmd0aCAtIDEgPT09IDIgKiBsZW4pIHsKICAgIHJldHVybiB0aGlzLnBvaW50KGJ5dGVzLnNsaWNlKDEsIDEgKyBsZW4pLAogICAgICAgICAgICAgICAgICAgICAgYnl0ZXMuc2xpY2UoMSArIGxlbiwgMSArIDIgKiBsZW4pKTsKICB9IGVsc2UgaWYgKChieXRlc1swXSA9PT0gMHgwMiB8fCBieXRlc1swXSA9PT0gMHgwMykgJiYKICAgICAgICAgICAgICBieXRlcy5sZW5ndGggLSAxID09PSBsZW4pIHsKICAgIHJldHVybiB0aGlzLnBvaW50RnJvbVgoYnl0ZXMuc2xpY2UoMSwgMSArIGxlbiksIGJ5dGVzWzBdID09PSAweDAzKTsKICB9CiAgdGhyb3cgbmV3IEVycm9yKCdVbmtub3duIHBvaW50IGZvcm1hdCcpOwp9OwoKQmFzZVBvaW50LnByb3RvdHlwZS5lbmNvZGVDb21wcmVzc2VkID0gZnVuY3Rpb24gZW5jb2RlQ29tcHJlc3NlZChlbmMpIHsKICByZXR1cm4gdGhpcy5lbmNvZGUoZW5jLCB0cnVlKTsKfTsKCkJhc2VQb2ludC5wcm90b3R5cGUuX2VuY29kZSA9IGZ1bmN0aW9uIF9lbmNvZGUoY29tcGFjdCkgewogIHZhciBsZW4gPSB0aGlzLmN1cnZlLnAuYnl0ZUxlbmd0aCgpOwogIHZhciB4ID0gdGhpcy5nZXRYKCkudG9BcnJheSgnYmUnLCBsZW4pOwoKICBpZiAoY29tcGFjdCkKICAgIHJldHVybiBbIHRoaXMuZ2V0WSgpLmlzRXZlbigpID8gMHgwMiA6IDB4MDMgXS5jb25jYXQoeCk7CgogIHJldHVybiBbIDB4MDQgXS5jb25jYXQoeCwgdGhpcy5nZXRZKCkudG9BcnJheSgnYmUnLCBsZW4pKSA7Cn07CgpCYXNlUG9pbnQucHJvdG90eXBlLmVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShlbmMsIGNvbXBhY3QpIHsKICByZXR1cm4gdXRpbHMuZW5jb2RlKHRoaXMuX2VuY29kZShjb21wYWN0KSwgZW5jKTsKfTsKCkJhc2VQb2ludC5wcm90b3R5cGUucHJlY29tcHV0ZSA9IGZ1bmN0aW9uIHByZWNvbXB1dGUocG93ZXIpIHsKICBpZiAodGhpcy5wcmVjb21wdXRlZCkKICAgIHJldHVybiB0aGlzOwoKICB2YXIgcHJlY29tcHV0ZWQgPSB7CiAgICBkb3VibGVzOiBudWxsLAogICAgbmFmOiBudWxsLAogICAgYmV0YTogbnVsbAogIH07CiAgcHJlY29tcHV0ZWQubmFmID0gdGhpcy5fZ2V0TkFGUG9pbnRzKDgpOwogIHByZWNvbXB1dGVkLmRvdWJsZXMgPSB0aGlzLl9nZXREb3VibGVzKDQsIHBvd2VyKTsKICBwcmVjb21wdXRlZC5iZXRhID0gdGhpcy5fZ2V0QmV0YSgpOwogIHRoaXMucHJlY29tcHV0ZWQgPSBwcmVjb21wdXRlZDsKCiAgcmV0dXJuIHRoaXM7Cn07CgpCYXNlUG9pbnQucHJvdG90eXBlLl9oYXNEb3VibGVzID0gZnVuY3Rpb24gX2hhc0RvdWJsZXMoaykgewogIGlmICghdGhpcy5wcmVjb21wdXRlZCkKICAgIHJldHVybiBmYWxzZTsKCiAgdmFyIGRvdWJsZXMgPSB0aGlzLnByZWNvbXB1dGVkLmRvdWJsZXM7CiAgaWYgKCFkb3VibGVzKQogICAgcmV0dXJuIGZhbHNlOwoKICByZXR1cm4gZG91Ymxlcy5wb2ludHMubGVuZ3RoID49IE1hdGguY2VpbCgoay5iaXRMZW5ndGgoKSArIDEpIC8gZG91Ymxlcy5zdGVwKTsKfTsKCkJhc2VQb2ludC5wcm90b3R5cGUuX2dldERvdWJsZXMgPSBmdW5jdGlvbiBfZ2V0RG91YmxlcyhzdGVwLCBwb3dlcikgewogIGlmICh0aGlzLnByZWNvbXB1dGVkICYmIHRoaXMucHJlY29tcHV0ZWQuZG91YmxlcykKICAgIHJldHVybiB0aGlzLnByZWNvbXB1dGVkLmRvdWJsZXM7CgogIHZhciBkb3VibGVzID0gWyB0aGlzIF07CiAgdmFyIGFjYyA9IHRoaXM7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb3dlcjsgaSArPSBzdGVwKSB7CiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHN0ZXA7IGorKykKICAgICAgYWNjID0gYWNjLmRibCgpOwogICAgZG91Ymxlcy5wdXNoKGFjYyk7CiAgfQogIHJldHVybiB7CiAgICBzdGVwOiBzdGVwLAogICAgcG9pbnRzOiBkb3VibGVzCiAgfTsKfTsKCkJhc2VQb2ludC5wcm90b3R5cGUuX2dldE5BRlBvaW50cyA9IGZ1bmN0aW9uIF9nZXROQUZQb2ludHMod25kKSB7CiAgaWYgKHRoaXMucHJlY29tcHV0ZWQgJiYgdGhpcy5wcmVjb21wdXRlZC5uYWYpCiAgICByZXR1cm4gdGhpcy5wcmVjb21wdXRlZC5uYWY7CgogIHZhciByZXMgPSBbIHRoaXMgXTsKICB2YXIgbWF4ID0gKDEgPDwgd25kKSAtIDE7CiAgdmFyIGRibCA9IG1heCA9PT0gMSA/IG51bGwgOiB0aGlzLmRibCgpOwogIGZvciAodmFyIGkgPSAxOyBpIDwgbWF4OyBpKyspCiAgICByZXNbaV0gPSByZXNbaSAtIDFdLmFkZChkYmwpOwogIHJldHVybiB7CiAgICB3bmQ6IHduZCwKICAgIHBvaW50czogcmVzCiAgfTsKfTsKCkJhc2VQb2ludC5wcm90b3R5cGUuX2dldEJldGEgPSBmdW5jdGlvbiBfZ2V0QmV0YSgpIHsKICByZXR1cm4gbnVsbDsKfTsKCkJhc2VQb2ludC5wcm90b3R5cGUuZGJscCA9IGZ1bmN0aW9uIGRibHAoaykgewogIHZhciByID0gdGhpczsKICBmb3IgKHZhciBpID0gMDsgaSA8IGs7IGkrKykKICAgIHIgPSByLmRibCgpOwogIHJldHVybiByOwp9OwoKfSx7Ii4uLy4uL2VsbGlwdGljIjoxMDEsImJuLmpzIjo0Mn1dLDEwMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCnZhciBjdXJ2ZSA9IHJlcXVpcmUoJy4uL2N1cnZlJyk7CnZhciBlbGxpcHRpYyA9IHJlcXVpcmUoJy4uLy4uL2VsbGlwdGljJyk7CnZhciBCTiA9IHJlcXVpcmUoJ2JuLmpzJyk7CnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7CnZhciBCYXNlID0gY3VydmUuYmFzZTsKCnZhciBhc3NlcnQgPSBlbGxpcHRpYy51dGlscy5hc3NlcnQ7CgpmdW5jdGlvbiBFZHdhcmRzQ3VydmUoY29uZikgewogIC8vIE5PVEU6IEltcG9ydGFudCBhcyB3ZSBhcmUgY3JlYXRpbmcgcG9pbnQgaW4gQmFzZS5jYWxsKCkKICB0aGlzLnR3aXN0ZWQgPSAoY29uZi5hIHwgMCkgIT09IDE7CiAgdGhpcy5tT25lQSA9IHRoaXMudHdpc3RlZCAmJiAoY29uZi5hIHwgMCkgPT09IC0xOwogIHRoaXMuZXh0ZW5kZWQgPSB0aGlzLm1PbmVBOwoKICBCYXNlLmNhbGwodGhpcywgJ2Vkd2FyZHMnLCBjb25mKTsKCiAgdGhpcy5hID0gbmV3IEJOKGNvbmYuYSwgMTYpLnVtb2QodGhpcy5yZWQubSk7CiAgdGhpcy5hID0gdGhpcy5hLnRvUmVkKHRoaXMucmVkKTsKICB0aGlzLmMgPSBuZXcgQk4oY29uZi5jLCAxNikudG9SZWQodGhpcy5yZWQpOwogIHRoaXMuYzIgPSB0aGlzLmMucmVkU3FyKCk7CiAgdGhpcy5kID0gbmV3IEJOKGNvbmYuZCwgMTYpLnRvUmVkKHRoaXMucmVkKTsKICB0aGlzLmRkID0gdGhpcy5kLnJlZEFkZCh0aGlzLmQpOwoKICBhc3NlcnQoIXRoaXMudHdpc3RlZCB8fCB0aGlzLmMuZnJvbVJlZCgpLmNtcG4oMSkgPT09IDApOwogIHRoaXMub25lQyA9IChjb25mLmMgfCAwKSA9PT0gMTsKfQppbmhlcml0cyhFZHdhcmRzQ3VydmUsIEJhc2UpOwptb2R1bGUuZXhwb3J0cyA9IEVkd2FyZHNDdXJ2ZTsKCkVkd2FyZHNDdXJ2ZS5wcm90b3R5cGUuX211bEEgPSBmdW5jdGlvbiBfbXVsQShudW0pIHsKICBpZiAodGhpcy5tT25lQSkKICAgIHJldHVybiBudW0ucmVkTmVnKCk7CiAgZWxzZQogICAgcmV0dXJuIHRoaXMuYS5yZWRNdWwobnVtKTsKfTsKCkVkd2FyZHNDdXJ2ZS5wcm90b3R5cGUuX211bEMgPSBmdW5jdGlvbiBfbXVsQyhudW0pIHsKICBpZiAodGhpcy5vbmVDKQogICAgcmV0dXJuIG51bTsKICBlbHNlCiAgICByZXR1cm4gdGhpcy5jLnJlZE11bChudW0pOwp9OwoKLy8gSnVzdCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIFNob3J0IGN1cnZlCkVkd2FyZHNDdXJ2ZS5wcm90b3R5cGUuanBvaW50ID0gZnVuY3Rpb24ganBvaW50KHgsIHksIHosIHQpIHsKICByZXR1cm4gdGhpcy5wb2ludCh4LCB5LCB6LCB0KTsKfTsKCkVkd2FyZHNDdXJ2ZS5wcm90b3R5cGUucG9pbnRGcm9tWCA9IGZ1bmN0aW9uIHBvaW50RnJvbVgoeCwgb2RkKSB7CiAgeCA9IG5ldyBCTih4LCAxNik7CiAgaWYgKCF4LnJlZCkKICAgIHggPSB4LnRvUmVkKHRoaXMucmVkKTsKCiAgdmFyIHgyID0geC5yZWRTcXIoKTsKICB2YXIgcmhzID0gdGhpcy5jMi5yZWRTdWIodGhpcy5hLnJlZE11bCh4MikpOwogIHZhciBsaHMgPSB0aGlzLm9uZS5yZWRTdWIodGhpcy5jMi5yZWRNdWwodGhpcy5kKS5yZWRNdWwoeDIpKTsKCiAgdmFyIHkyID0gcmhzLnJlZE11bChsaHMucmVkSW52bSgpKTsKICB2YXIgeSA9IHkyLnJlZFNxcnQoKTsKICBpZiAoeS5yZWRTcXIoKS5yZWRTdWIoeTIpLmNtcCh0aGlzLnplcm8pICE9PSAwKQogICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHBvaW50Jyk7CgogIHZhciBpc09kZCA9IHkuZnJvbVJlZCgpLmlzT2RkKCk7CiAgaWYgKG9kZCAmJiAhaXNPZGQgfHwgIW9kZCAmJiBpc09kZCkKICAgIHkgPSB5LnJlZE5lZygpOwoKICByZXR1cm4gdGhpcy5wb2ludCh4LCB5KTsKfTsKCkVkd2FyZHNDdXJ2ZS5wcm90b3R5cGUucG9pbnRGcm9tWSA9IGZ1bmN0aW9uIHBvaW50RnJvbVkoeSwgb2RkKSB7CiAgeSA9IG5ldyBCTih5LCAxNik7CiAgaWYgKCF5LnJlZCkKICAgIHkgPSB5LnRvUmVkKHRoaXMucmVkKTsKCiAgLy8geF4yID0gKHleMiAtIDEpIC8gKGQgeV4yICsgMSkKICB2YXIgeTIgPSB5LnJlZFNxcigpOwogIHZhciBsaHMgPSB5Mi5yZWRTdWIodGhpcy5vbmUpOwogIHZhciByaHMgPSB5Mi5yZWRNdWwodGhpcy5kKS5yZWRBZGQodGhpcy5vbmUpOwogIHZhciB4MiA9IGxocy5yZWRNdWwocmhzLnJlZEludm0oKSk7CgogIGlmICh4Mi5jbXAodGhpcy56ZXJvKSA9PT0gMCkgewogICAgaWYgKG9kZCkKICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHBvaW50Jyk7CiAgICBlbHNlCiAgICAgIHJldHVybiB0aGlzLnBvaW50KHRoaXMuemVybywgeSk7CiAgfQoKICB2YXIgeCA9IHgyLnJlZFNxcnQoKTsKICBpZiAoeC5yZWRTcXIoKS5yZWRTdWIoeDIpLmNtcCh0aGlzLnplcm8pICE9PSAwKQogICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHBvaW50Jyk7CgogIGlmICh4LmlzT2RkKCkgIT09IG9kZCkKICAgIHggPSB4LnJlZE5lZygpOwoKICByZXR1cm4gdGhpcy5wb2ludCh4LCB5KTsKfTsKCkVkd2FyZHNDdXJ2ZS5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZShwb2ludCkgewogIGlmIChwb2ludC5pc0luZmluaXR5KCkpCiAgICByZXR1cm4gdHJ1ZTsKCiAgLy8gQ3VydmU6IEEgKiBYXjIgKyBZXjIgPSBDXjIgKiAoMSArIEQgKiBYXjIgKiBZXjIpCiAgcG9pbnQubm9ybWFsaXplKCk7CgogIHZhciB4MiA9IHBvaW50LngucmVkU3FyKCk7CiAgdmFyIHkyID0gcG9pbnQueS5yZWRTcXIoKTsKICB2YXIgbGhzID0geDIucmVkTXVsKHRoaXMuYSkucmVkQWRkKHkyKTsKICB2YXIgcmhzID0gdGhpcy5jMi5yZWRNdWwodGhpcy5vbmUucmVkQWRkKHRoaXMuZC5yZWRNdWwoeDIpLnJlZE11bCh5MikpKTsKCiAgcmV0dXJuIGxocy5jbXAocmhzKSA9PT0gMDsKfTsKCmZ1bmN0aW9uIFBvaW50KGN1cnZlLCB4LCB5LCB6LCB0KSB7CiAgQmFzZS5CYXNlUG9pbnQuY2FsbCh0aGlzLCBjdXJ2ZSwgJ3Byb2plY3RpdmUnKTsKICBpZiAoeCA9PT0gbnVsbCAmJiB5ID09PSBudWxsICYmIHogPT09IG51bGwpIHsKICAgIHRoaXMueCA9IHRoaXMuY3VydmUuemVybzsKICAgIHRoaXMueSA9IHRoaXMuY3VydmUub25lOwogICAgdGhpcy56ID0gdGhpcy5jdXJ2ZS5vbmU7CiAgICB0aGlzLnQgPSB0aGlzLmN1cnZlLnplcm87CiAgICB0aGlzLnpPbmUgPSB0cnVlOwogIH0gZWxzZSB7CiAgICB0aGlzLnggPSBuZXcgQk4oeCwgMTYpOwogICAgdGhpcy55ID0gbmV3IEJOKHksIDE2KTsKICAgIHRoaXMueiA9IHogPyBuZXcgQk4oeiwgMTYpIDogdGhpcy5jdXJ2ZS5vbmU7CiAgICB0aGlzLnQgPSB0ICYmIG5ldyBCTih0LCAxNik7CiAgICBpZiAoIXRoaXMueC5yZWQpCiAgICAgIHRoaXMueCA9IHRoaXMueC50b1JlZCh0aGlzLmN1cnZlLnJlZCk7CiAgICBpZiAoIXRoaXMueS5yZWQpCiAgICAgIHRoaXMueSA9IHRoaXMueS50b1JlZCh0aGlzLmN1cnZlLnJlZCk7CiAgICBpZiAoIXRoaXMuei5yZWQpCiAgICAgIHRoaXMueiA9IHRoaXMuei50b1JlZCh0aGlzLmN1cnZlLnJlZCk7CiAgICBpZiAodGhpcy50ICYmICF0aGlzLnQucmVkKQogICAgICB0aGlzLnQgPSB0aGlzLnQudG9SZWQodGhpcy5jdXJ2ZS5yZWQpOwogICAgdGhpcy56T25lID0gdGhpcy56ID09PSB0aGlzLmN1cnZlLm9uZTsKCiAgICAvLyBVc2UgZXh0ZW5kZWQgY29vcmRpbmF0ZXMKICAgIGlmICh0aGlzLmN1cnZlLmV4dGVuZGVkICYmICF0aGlzLnQpIHsKICAgICAgdGhpcy50ID0gdGhpcy54LnJlZE11bCh0aGlzLnkpOwogICAgICBpZiAoIXRoaXMuek9uZSkKICAgICAgICB0aGlzLnQgPSB0aGlzLnQucmVkTXVsKHRoaXMuei5yZWRJbnZtKCkpOwogICAgfQogIH0KfQppbmhlcml0cyhQb2ludCwgQmFzZS5CYXNlUG9pbnQpOwoKRWR3YXJkc0N1cnZlLnByb3RvdHlwZS5wb2ludEZyb21KU09OID0gZnVuY3Rpb24gcG9pbnRGcm9tSlNPTihvYmopIHsKICByZXR1cm4gUG9pbnQuZnJvbUpTT04odGhpcywgb2JqKTsKfTsKCkVkd2FyZHNDdXJ2ZS5wcm90b3R5cGUucG9pbnQgPSBmdW5jdGlvbiBwb2ludCh4LCB5LCB6LCB0KSB7CiAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLCB4LCB5LCB6LCB0KTsKfTsKClBvaW50LmZyb21KU09OID0gZnVuY3Rpb24gZnJvbUpTT04oY3VydmUsIG9iaikgewogIHJldHVybiBuZXcgUG9pbnQoY3VydmUsIG9ialswXSwgb2JqWzFdLCBvYmpbMl0pOwp9OwoKUG9pbnQucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0KCkgewogIGlmICh0aGlzLmlzSW5maW5pdHkoKSkKICAgIHJldHVybiAnPEVDIFBvaW50IEluZmluaXR5Pic7CiAgcmV0dXJuICc8RUMgUG9pbnQgeDogJyArIHRoaXMueC5mcm9tUmVkKCkudG9TdHJpbmcoMTYsIDIpICsKICAgICAgJyB5OiAnICsgdGhpcy55LmZyb21SZWQoKS50b1N0cmluZygxNiwgMikgKwogICAgICAnIHo6ICcgKyB0aGlzLnouZnJvbVJlZCgpLnRvU3RyaW5nKDE2LCAyKSArICc+JzsKfTsKClBvaW50LnByb3RvdHlwZS5pc0luZmluaXR5ID0gZnVuY3Rpb24gaXNJbmZpbml0eSgpIHsKICAvLyBYWFggVGhpcyBjb2RlIGFzc3VtZXMgdGhhdCB6ZXJvIGlzIGFsd2F5cyB6ZXJvIGluIHJlZAogIHJldHVybiB0aGlzLnguY21wbigwKSA9PT0gMCAmJgogICAgICAgICB0aGlzLnkuY21wKHRoaXMueikgPT09IDA7Cn07CgpQb2ludC5wcm90b3R5cGUuX2V4dERibCA9IGZ1bmN0aW9uIF9leHREYmwoKSB7CiAgLy8gaHlwZXJlbGxpcHRpYy5vcmcvRUZEL2cxcC9hdXRvLXR3aXN0ZWQtZXh0ZW5kZWQtMS5odG1sCiAgLy8gICAgICNkb3VibGluZy1kYmwtMjAwOC1od2NkCiAgLy8gNE0gKyA0UwoKICAvLyBBID0gWDFeMgogIHZhciBhID0gdGhpcy54LnJlZFNxcigpOwogIC8vIEIgPSBZMV4yCiAgdmFyIGIgPSB0aGlzLnkucmVkU3FyKCk7CiAgLy8gQyA9IDIgKiBaMV4yCiAgdmFyIGMgPSB0aGlzLnoucmVkU3FyKCk7CiAgYyA9IGMucmVkSUFkZChjKTsKICAvLyBEID0gYSAqIEEKICB2YXIgZCA9IHRoaXMuY3VydmUuX211bEEoYSk7CiAgLy8gRSA9IChYMSArIFkxKV4yIC0gQSAtIEIKICB2YXIgZSA9IHRoaXMueC5yZWRBZGQodGhpcy55KS5yZWRTcXIoKS5yZWRJU3ViKGEpLnJlZElTdWIoYik7CiAgLy8gRyA9IEQgKyBCCiAgdmFyIGcgPSBkLnJlZEFkZChiKTsKICAvLyBGID0gRyAtIEMKICB2YXIgZiA9IGcucmVkU3ViKGMpOwogIC8vIEggPSBEIC0gQgogIHZhciBoID0gZC5yZWRTdWIoYik7CiAgLy8gWDMgPSBFICogRgogIHZhciBueCA9IGUucmVkTXVsKGYpOwogIC8vIFkzID0gRyAqIEgKICB2YXIgbnkgPSBnLnJlZE11bChoKTsKICAvLyBUMyA9IEUgKiBICiAgdmFyIG50ID0gZS5yZWRNdWwoaCk7CiAgLy8gWjMgPSBGICogRwogIHZhciBueiA9IGYucmVkTXVsKGcpOwogIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KG54LCBueSwgbnosIG50KTsKfTsKClBvaW50LnByb3RvdHlwZS5fcHJvakRibCA9IGZ1bmN0aW9uIF9wcm9qRGJsKCkgewogIC8vIGh5cGVyZWxsaXB0aWMub3JnL0VGRC9nMXAvYXV0by10d2lzdGVkLXByb2plY3RpdmUuaHRtbAogIC8vICAgICAjZG91YmxpbmctZGJsLTIwMDgtYmJqbHAKICAvLyAgICAgI2RvdWJsaW5nLWRibC0yMDA3LWJsCiAgLy8gYW5kIG90aGVycwogIC8vIEdlbmVyYWxseSAzTSArIDRTIG9yIDJNICsgNFMKCiAgLy8gQiA9IChYMSArIFkxKV4yCiAgdmFyIGIgPSB0aGlzLngucmVkQWRkKHRoaXMueSkucmVkU3FyKCk7CiAgLy8gQyA9IFgxXjIKICB2YXIgYyA9IHRoaXMueC5yZWRTcXIoKTsKICAvLyBEID0gWTFeMgogIHZhciBkID0gdGhpcy55LnJlZFNxcigpOwoKICB2YXIgbng7CiAgdmFyIG55OwogIHZhciBuejsKICBpZiAodGhpcy5jdXJ2ZS50d2lzdGVkKSB7CiAgICAvLyBFID0gYSAqIEMKICAgIHZhciBlID0gdGhpcy5jdXJ2ZS5fbXVsQShjKTsKICAgIC8vIEYgPSBFICsgRAogICAgdmFyIGYgPSBlLnJlZEFkZChkKTsKICAgIGlmICh0aGlzLnpPbmUpIHsKICAgICAgLy8gWDMgPSAoQiAtIEMgLSBEKSAqIChGIC0gMikKICAgICAgbnggPSBiLnJlZFN1YihjKS5yZWRTdWIoZCkucmVkTXVsKGYucmVkU3ViKHRoaXMuY3VydmUudHdvKSk7CiAgICAgIC8vIFkzID0gRiAqIChFIC0gRCkKICAgICAgbnkgPSBmLnJlZE11bChlLnJlZFN1YihkKSk7CiAgICAgIC8vIFozID0gRl4yIC0gMiAqIEYKICAgICAgbnogPSBmLnJlZFNxcigpLnJlZFN1YihmKS5yZWRTdWIoZik7CiAgICB9IGVsc2UgewogICAgICAvLyBIID0gWjFeMgogICAgICB2YXIgaCA9IHRoaXMuei5yZWRTcXIoKTsKICAgICAgLy8gSiA9IEYgLSAyICogSAogICAgICB2YXIgaiA9IGYucmVkU3ViKGgpLnJlZElTdWIoaCk7CiAgICAgIC8vIFgzID0gKEItQy1EKSpKCiAgICAgIG54ID0gYi5yZWRTdWIoYykucmVkSVN1YihkKS5yZWRNdWwoaik7CiAgICAgIC8vIFkzID0gRiAqIChFIC0gRCkKICAgICAgbnkgPSBmLnJlZE11bChlLnJlZFN1YihkKSk7CiAgICAgIC8vIFozID0gRiAqIEoKICAgICAgbnogPSBmLnJlZE11bChqKTsKICAgIH0KICB9IGVsc2UgewogICAgLy8gRSA9IEMgKyBECiAgICB2YXIgZSA9IGMucmVkQWRkKGQpOwogICAgLy8gSCA9IChjICogWjEpXjIKICAgIHZhciBoID0gdGhpcy5jdXJ2ZS5fbXVsQyh0aGlzLmMucmVkTXVsKHRoaXMueikpLnJlZFNxcigpOwogICAgLy8gSiA9IEUgLSAyICogSAogICAgdmFyIGogPSBlLnJlZFN1YihoKS5yZWRTdWIoaCk7CiAgICAvLyBYMyA9IGMgKiAoQiAtIEUpICogSgogICAgbnggPSB0aGlzLmN1cnZlLl9tdWxDKGIucmVkSVN1YihlKSkucmVkTXVsKGopOwogICAgLy8gWTMgPSBjICogRSAqIChDIC0gRCkKICAgIG55ID0gdGhpcy5jdXJ2ZS5fbXVsQyhlKS5yZWRNdWwoYy5yZWRJU3ViKGQpKTsKICAgIC8vIFozID0gRSAqIEoKICAgIG56ID0gZS5yZWRNdWwoaik7CiAgfQogIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KG54LCBueSwgbnopOwp9OwoKUG9pbnQucHJvdG90eXBlLmRibCA9IGZ1bmN0aW9uIGRibCgpIHsKICBpZiAodGhpcy5pc0luZmluaXR5KCkpCiAgICByZXR1cm4gdGhpczsKCiAgLy8gRG91YmxlIGluIGV4dGVuZGVkIGNvb3JkaW5hdGVzCiAgaWYgKHRoaXMuY3VydmUuZXh0ZW5kZWQpCiAgICByZXR1cm4gdGhpcy5fZXh0RGJsKCk7CiAgZWxzZQogICAgcmV0dXJuIHRoaXMuX3Byb2pEYmwoKTsKfTsKClBvaW50LnByb3RvdHlwZS5fZXh0QWRkID0gZnVuY3Rpb24gX2V4dEFkZChwKSB7CiAgLy8gaHlwZXJlbGxpcHRpYy5vcmcvRUZEL2cxcC9hdXRvLXR3aXN0ZWQtZXh0ZW5kZWQtMS5odG1sCiAgLy8gICAgICNhZGRpdGlvbi1hZGQtMjAwOC1od2NkLTMKICAvLyA4TQoKICAvLyBBID0gKFkxIC0gWDEpICogKFkyIC0gWDIpCiAgdmFyIGEgPSB0aGlzLnkucmVkU3ViKHRoaXMueCkucmVkTXVsKHAueS5yZWRTdWIocC54KSk7CiAgLy8gQiA9IChZMSArIFgxKSAqIChZMiArIFgyKQogIHZhciBiID0gdGhpcy55LnJlZEFkZCh0aGlzLngpLnJlZE11bChwLnkucmVkQWRkKHAueCkpOwogIC8vIEMgPSBUMSAqIGsgKiBUMgogIHZhciBjID0gdGhpcy50LnJlZE11bCh0aGlzLmN1cnZlLmRkKS5yZWRNdWwocC50KTsKICAvLyBEID0gWjEgKiAyICogWjIKICB2YXIgZCA9IHRoaXMuei5yZWRNdWwocC56LnJlZEFkZChwLnopKTsKICAvLyBFID0gQiAtIEEKICB2YXIgZSA9IGIucmVkU3ViKGEpOwogIC8vIEYgPSBEIC0gQwogIHZhciBmID0gZC5yZWRTdWIoYyk7CiAgLy8gRyA9IEQgKyBDCiAgdmFyIGcgPSBkLnJlZEFkZChjKTsKICAvLyBIID0gQiArIEEKICB2YXIgaCA9IGIucmVkQWRkKGEpOwogIC8vIFgzID0gRSAqIEYKICB2YXIgbnggPSBlLnJlZE11bChmKTsKICAvLyBZMyA9IEcgKiBICiAgdmFyIG55ID0gZy5yZWRNdWwoaCk7CiAgLy8gVDMgPSBFICogSAogIHZhciBudCA9IGUucmVkTXVsKGgpOwogIC8vIFozID0gRiAqIEcKICB2YXIgbnogPSBmLnJlZE11bChnKTsKICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChueCwgbnksIG56LCBudCk7Cn07CgpQb2ludC5wcm90b3R5cGUuX3Byb2pBZGQgPSBmdW5jdGlvbiBfcHJvakFkZChwKSB7CiAgLy8gaHlwZXJlbGxpcHRpYy5vcmcvRUZEL2cxcC9hdXRvLXR3aXN0ZWQtcHJvamVjdGl2ZS5odG1sCiAgLy8gICAgICNhZGRpdGlvbi1hZGQtMjAwOC1iYmpscAogIC8vICAgICAjYWRkaXRpb24tYWRkLTIwMDctYmwKICAvLyAxME0gKyAxUwoKICAvLyBBID0gWjEgKiBaMgogIHZhciBhID0gdGhpcy56LnJlZE11bChwLnopOwogIC8vIEIgPSBBXjIKICB2YXIgYiA9IGEucmVkU3FyKCk7CiAgLy8gQyA9IFgxICogWDIKICB2YXIgYyA9IHRoaXMueC5yZWRNdWwocC54KTsKICAvLyBEID0gWTEgKiBZMgogIHZhciBkID0gdGhpcy55LnJlZE11bChwLnkpOwogIC8vIEUgPSBkICogQyAqIEQKICB2YXIgZSA9IHRoaXMuY3VydmUuZC5yZWRNdWwoYykucmVkTXVsKGQpOwogIC8vIEYgPSBCIC0gRQogIHZhciBmID0gYi5yZWRTdWIoZSk7CiAgLy8gRyA9IEIgKyBFCiAgdmFyIGcgPSBiLnJlZEFkZChlKTsKICAvLyBYMyA9IEEgKiBGICogKChYMSArIFkxKSAqIChYMiArIFkyKSAtIEMgLSBEKQogIHZhciB0bXAgPSB0aGlzLngucmVkQWRkKHRoaXMueSkucmVkTXVsKHAueC5yZWRBZGQocC55KSkucmVkSVN1YihjKS5yZWRJU3ViKGQpOwogIHZhciBueCA9IGEucmVkTXVsKGYpLnJlZE11bCh0bXApOwogIHZhciBueTsKICB2YXIgbno7CiAgaWYgKHRoaXMuY3VydmUudHdpc3RlZCkgewogICAgLy8gWTMgPSBBICogRyAqIChEIC0gYSAqIEMpCiAgICBueSA9IGEucmVkTXVsKGcpLnJlZE11bChkLnJlZFN1Yih0aGlzLmN1cnZlLl9tdWxBKGMpKSk7CiAgICAvLyBaMyA9IEYgKiBHCiAgICBueiA9IGYucmVkTXVsKGcpOwogIH0gZWxzZSB7CiAgICAvLyBZMyA9IEEgKiBHICogKEQgLSBDKQogICAgbnkgPSBhLnJlZE11bChnKS5yZWRNdWwoZC5yZWRTdWIoYykpOwogICAgLy8gWjMgPSBjICogRiAqIEcKICAgIG56ID0gdGhpcy5jdXJ2ZS5fbXVsQyhmKS5yZWRNdWwoZyk7CiAgfQogIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KG54LCBueSwgbnopOwp9OwoKUG9pbnQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZChwKSB7CiAgaWYgKHRoaXMuaXNJbmZpbml0eSgpKQogICAgcmV0dXJuIHA7CiAgaWYgKHAuaXNJbmZpbml0eSgpKQogICAgcmV0dXJuIHRoaXM7CgogIGlmICh0aGlzLmN1cnZlLmV4dGVuZGVkKQogICAgcmV0dXJuIHRoaXMuX2V4dEFkZChwKTsKICBlbHNlCiAgICByZXR1cm4gdGhpcy5fcHJvakFkZChwKTsKfTsKClBvaW50LnByb3RvdHlwZS5tdWwgPSBmdW5jdGlvbiBtdWwoaykgewogIGlmICh0aGlzLl9oYXNEb3VibGVzKGspKQogICAgcmV0dXJuIHRoaXMuY3VydmUuX2ZpeGVkTmFmTXVsKHRoaXMsIGspOwogIGVsc2UKICAgIHJldHVybiB0aGlzLmN1cnZlLl93bmFmTXVsKHRoaXMsIGspOwp9OwoKUG9pbnQucHJvdG90eXBlLm11bEFkZCA9IGZ1bmN0aW9uIG11bEFkZChrMSwgcCwgazIpIHsKICByZXR1cm4gdGhpcy5jdXJ2ZS5fd25hZk11bEFkZCgxLCBbIHRoaXMsIHAgXSwgWyBrMSwgazIgXSwgMik7Cn07CgpQb2ludC5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24gbm9ybWFsaXplKCkgewogIGlmICh0aGlzLnpPbmUpCiAgICByZXR1cm4gdGhpczsKCiAgLy8gTm9ybWFsaXplIGNvb3JkaW5hdGVzCiAgdmFyIHppID0gdGhpcy56LnJlZEludm0oKTsKICB0aGlzLnggPSB0aGlzLngucmVkTXVsKHppKTsKICB0aGlzLnkgPSB0aGlzLnkucmVkTXVsKHppKTsKICBpZiAodGhpcy50KQogICAgdGhpcy50ID0gdGhpcy50LnJlZE11bCh6aSk7CiAgdGhpcy56ID0gdGhpcy5jdXJ2ZS5vbmU7CiAgdGhpcy56T25lID0gdHJ1ZTsKICByZXR1cm4gdGhpczsKfTsKClBvaW50LnByb3RvdHlwZS5uZWcgPSBmdW5jdGlvbiBuZWcoKSB7CiAgcmV0dXJuIHRoaXMuY3VydmUucG9pbnQodGhpcy54LnJlZE5lZygpLAogICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMueSwKICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnosCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ICYmIHRoaXMudC5yZWROZWcoKSk7Cn07CgpQb2ludC5wcm90b3R5cGUuZ2V0WCA9IGZ1bmN0aW9uIGdldFgoKSB7CiAgdGhpcy5ub3JtYWxpemUoKTsKICByZXR1cm4gdGhpcy54LmZyb21SZWQoKTsKfTsKClBvaW50LnByb3RvdHlwZS5nZXRZID0gZnVuY3Rpb24gZ2V0WSgpIHsKICB0aGlzLm5vcm1hbGl6ZSgpOwogIHJldHVybiB0aGlzLnkuZnJvbVJlZCgpOwp9OwoKUG9pbnQucHJvdG90eXBlLmVxID0gZnVuY3Rpb24gZXEob3RoZXIpIHsKICByZXR1cm4gdGhpcyA9PT0gb3RoZXIgfHwKICAgICAgICAgdGhpcy5nZXRYKCkuY21wKG90aGVyLmdldFgoKSkgPT09IDAgJiYKICAgICAgICAgdGhpcy5nZXRZKCkuY21wKG90aGVyLmdldFkoKSkgPT09IDA7Cn07CgovLyBDb21wYXRpYmlsaXR5IHdpdGggQmFzZUN1cnZlClBvaW50LnByb3RvdHlwZS50b1AgPSBQb2ludC5wcm90b3R5cGUubm9ybWFsaXplOwpQb2ludC5wcm90b3R5cGUubWl4ZWRBZGQgPSBQb2ludC5wcm90b3R5cGUuYWRkOwoKfSx7Ii4uLy4uL2VsbGlwdGljIjoxMDEsIi4uL2N1cnZlIjoxMDQsImJuLmpzIjo0MiwiaW5oZXJpdHMiOjEyOH1dLDEwNDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCnZhciBjdXJ2ZSA9IGV4cG9ydHM7CgpjdXJ2ZS5iYXNlID0gcmVxdWlyZSgnLi9iYXNlJyk7CmN1cnZlLnNob3J0ID0gcmVxdWlyZSgnLi9zaG9ydCcpOwpjdXJ2ZS5tb250ID0gcmVxdWlyZSgnLi9tb250Jyk7CmN1cnZlLmVkd2FyZHMgPSByZXF1aXJlKCcuL2Vkd2FyZHMnKTsKCn0seyIuL2Jhc2UiOjEwMiwiLi9lZHdhcmRzIjoxMDMsIi4vbW9udCI6MTA1LCIuL3Nob3J0IjoxMDZ9XSwxMDU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7Cgp2YXIgY3VydmUgPSByZXF1aXJlKCcuLi9jdXJ2ZScpOwp2YXIgQk4gPSByZXF1aXJlKCdibi5qcycpOwp2YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpOwp2YXIgQmFzZSA9IGN1cnZlLmJhc2U7Cgp2YXIgZWxsaXB0aWMgPSByZXF1aXJlKCcuLi8uLi9lbGxpcHRpYycpOwp2YXIgdXRpbHMgPSBlbGxpcHRpYy51dGlsczsKCmZ1bmN0aW9uIE1vbnRDdXJ2ZShjb25mKSB7CiAgQmFzZS5jYWxsKHRoaXMsICdtb250JywgY29uZik7CgogIHRoaXMuYSA9IG5ldyBCTihjb25mLmEsIDE2KS50b1JlZCh0aGlzLnJlZCk7CiAgdGhpcy5iID0gbmV3IEJOKGNvbmYuYiwgMTYpLnRvUmVkKHRoaXMucmVkKTsKICB0aGlzLmk0ID0gbmV3IEJOKDQpLnRvUmVkKHRoaXMucmVkKS5yZWRJbnZtKCk7CiAgdGhpcy50d28gPSBuZXcgQk4oMikudG9SZWQodGhpcy5yZWQpOwogIHRoaXMuYTI0ID0gdGhpcy5pNC5yZWRNdWwodGhpcy5hLnJlZEFkZCh0aGlzLnR3bykpOwp9CmluaGVyaXRzKE1vbnRDdXJ2ZSwgQmFzZSk7Cm1vZHVsZS5leHBvcnRzID0gTW9udEN1cnZlOwoKTW9udEN1cnZlLnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uIHZhbGlkYXRlKHBvaW50KSB7CiAgdmFyIHggPSBwb2ludC5ub3JtYWxpemUoKS54OwogIHZhciB4MiA9IHgucmVkU3FyKCk7CiAgdmFyIHJocyA9IHgyLnJlZE11bCh4KS5yZWRBZGQoeDIucmVkTXVsKHRoaXMuYSkpLnJlZEFkZCh4KTsKICB2YXIgeSA9IHJocy5yZWRTcXJ0KCk7CgogIHJldHVybiB5LnJlZFNxcigpLmNtcChyaHMpID09PSAwOwp9OwoKZnVuY3Rpb24gUG9pbnQoY3VydmUsIHgsIHopIHsKICBCYXNlLkJhc2VQb2ludC5jYWxsKHRoaXMsIGN1cnZlLCAncHJvamVjdGl2ZScpOwogIGlmICh4ID09PSBudWxsICYmIHogPT09IG51bGwpIHsKICAgIHRoaXMueCA9IHRoaXMuY3VydmUub25lOwogICAgdGhpcy56ID0gdGhpcy5jdXJ2ZS56ZXJvOwogIH0gZWxzZSB7CiAgICB0aGlzLnggPSBuZXcgQk4oeCwgMTYpOwogICAgdGhpcy56ID0gbmV3IEJOKHosIDE2KTsKICAgIGlmICghdGhpcy54LnJlZCkKICAgICAgdGhpcy54ID0gdGhpcy54LnRvUmVkKHRoaXMuY3VydmUucmVkKTsKICAgIGlmICghdGhpcy56LnJlZCkKICAgICAgdGhpcy56ID0gdGhpcy56LnRvUmVkKHRoaXMuY3VydmUucmVkKTsKICB9Cn0KaW5oZXJpdHMoUG9pbnQsIEJhc2UuQmFzZVBvaW50KTsKCk1vbnRDdXJ2ZS5wcm90b3R5cGUuZGVjb2RlUG9pbnQgPSBmdW5jdGlvbiBkZWNvZGVQb2ludChieXRlcywgZW5jKSB7CiAgcmV0dXJuIHRoaXMucG9pbnQodXRpbHMudG9BcnJheShieXRlcywgZW5jKSwgMSk7Cn07CgpNb250Q3VydmUucHJvdG90eXBlLnBvaW50ID0gZnVuY3Rpb24gcG9pbnQoeCwgeikgewogIHJldHVybiBuZXcgUG9pbnQodGhpcywgeCwgeik7Cn07CgpNb250Q3VydmUucHJvdG90eXBlLnBvaW50RnJvbUpTT04gPSBmdW5jdGlvbiBwb2ludEZyb21KU09OKG9iaikgewogIHJldHVybiBQb2ludC5mcm9tSlNPTih0aGlzLCBvYmopOwp9OwoKUG9pbnQucHJvdG90eXBlLnByZWNvbXB1dGUgPSBmdW5jdGlvbiBwcmVjb21wdXRlKCkgewogIC8vIE5vLW9wCn07CgpQb2ludC5wcm90b3R5cGUuX2VuY29kZSA9IGZ1bmN0aW9uIF9lbmNvZGUoKSB7CiAgcmV0dXJuIHRoaXMuZ2V0WCgpLnRvQXJyYXkoJ2JlJywgdGhpcy5jdXJ2ZS5wLmJ5dGVMZW5ndGgoKSk7Cn07CgpQb2ludC5mcm9tSlNPTiA9IGZ1bmN0aW9uIGZyb21KU09OKGN1cnZlLCBvYmopIHsKICByZXR1cm4gbmV3IFBvaW50KGN1cnZlLCBvYmpbMF0sIG9ialsxXSB8fCBjdXJ2ZS5vbmUpOwp9OwoKUG9pbnQucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0KCkgewogIGlmICh0aGlzLmlzSW5maW5pdHkoKSkKICAgIHJldHVybiAnPEVDIFBvaW50IEluZmluaXR5Pic7CiAgcmV0dXJuICc8RUMgUG9pbnQgeDogJyArIHRoaXMueC5mcm9tUmVkKCkudG9TdHJpbmcoMTYsIDIpICsKICAgICAgJyB6OiAnICsgdGhpcy56LmZyb21SZWQoKS50b1N0cmluZygxNiwgMikgKyAnPic7Cn07CgpQb2ludC5wcm90b3R5cGUuaXNJbmZpbml0eSA9IGZ1bmN0aW9uIGlzSW5maW5pdHkoKSB7CiAgLy8gWFhYIFRoaXMgY29kZSBhc3N1bWVzIHRoYXQgemVybyBpcyBhbHdheXMgemVybyBpbiByZWQKICByZXR1cm4gdGhpcy56LmNtcG4oMCkgPT09IDA7Cn07CgpQb2ludC5wcm90b3R5cGUuZGJsID0gZnVuY3Rpb24gZGJsKCkgewogIC8vIGh0dHA6Ly9oeXBlcmVsbGlwdGljLm9yZy9FRkQvZzFwL2F1dG8tbW9udGdvbS14ei5odG1sI2RvdWJsaW5nLWRibC0xOTg3LW0tMwogIC8vIDJNICsgMlMgKyA0QQoKICAvLyBBID0gWDEgKyBaMQogIHZhciBhID0gdGhpcy54LnJlZEFkZCh0aGlzLnopOwogIC8vIEFBID0gQV4yCiAgdmFyIGFhID0gYS5yZWRTcXIoKTsKICAvLyBCID0gWDEgLSBaMQogIHZhciBiID0gdGhpcy54LnJlZFN1Yih0aGlzLnopOwogIC8vIEJCID0gQl4yCiAgdmFyIGJiID0gYi5yZWRTcXIoKTsKICAvLyBDID0gQUEgLSBCQgogIHZhciBjID0gYWEucmVkU3ViKGJiKTsKICAvLyBYMyA9IEFBICogQkIKICB2YXIgbnggPSBhYS5yZWRNdWwoYmIpOwogIC8vIFozID0gQyAqIChCQiArIEEyNCAqIEMpCiAgdmFyIG56ID0gYy5yZWRNdWwoYmIucmVkQWRkKHRoaXMuY3VydmUuYTI0LnJlZE11bChjKSkpOwogIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KG54LCBueik7Cn07CgpQb2ludC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gYWRkKCkgewogIHRocm93IG5ldyBFcnJvcignTm90IHN1cHBvcnRlZCBvbiBNb250Z29tZXJ5IGN1cnZlJyk7Cn07CgpQb2ludC5wcm90b3R5cGUuZGlmZkFkZCA9IGZ1bmN0aW9uIGRpZmZBZGQocCwgZGlmZikgewogIC8vIGh0dHA6Ly9oeXBlcmVsbGlwdGljLm9yZy9FRkQvZzFwL2F1dG8tbW9udGdvbS14ei5odG1sI2RpZmZhZGQtZGFkZC0xOTg3LW0tMwogIC8vIDRNICsgMlMgKyA2QQoKICAvLyBBID0gWDIgKyBaMgogIHZhciBhID0gdGhpcy54LnJlZEFkZCh0aGlzLnopOwogIC8vIEIgPSBYMiAtIFoyCiAgdmFyIGIgPSB0aGlzLngucmVkU3ViKHRoaXMueik7CiAgLy8gQyA9IFgzICsgWjMKICB2YXIgYyA9IHAueC5yZWRBZGQocC56KTsKICAvLyBEID0gWDMgLSBaMwogIHZhciBkID0gcC54LnJlZFN1YihwLnopOwogIC8vIERBID0gRCAqIEEKICB2YXIgZGEgPSBkLnJlZE11bChhKTsKICAvLyBDQiA9IEMgKiBCCiAgdmFyIGNiID0gYy5yZWRNdWwoYik7CiAgLy8gWDUgPSBaMSAqIChEQSArIENCKV4yCiAgdmFyIG54ID0gZGlmZi56LnJlZE11bChkYS5yZWRBZGQoY2IpLnJlZFNxcigpKTsKICAvLyBaNSA9IFgxICogKERBIC0gQ0IpXjIKICB2YXIgbnogPSBkaWZmLngucmVkTXVsKGRhLnJlZElTdWIoY2IpLnJlZFNxcigpKTsKICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChueCwgbnopOwp9OwoKUG9pbnQucHJvdG90eXBlLm11bCA9IGZ1bmN0aW9uIG11bChrKSB7CiAgdmFyIHQgPSBrLmNsb25lKCk7CiAgdmFyIGEgPSB0aGlzOyAvLyAoTiAvIDIpICogUSArIFEKICB2YXIgYiA9IHRoaXMuY3VydmUucG9pbnQobnVsbCwgbnVsbCk7IC8vIChOIC8gMikgKiBRCiAgdmFyIGMgPSB0aGlzOyAvLyBRCgogIGZvciAodmFyIGJpdHMgPSBbXTsgdC5jbXBuKDApICE9PSAwOyB0Lml1c2hybigxKSkKICAgIGJpdHMucHVzaCh0LmFuZGxuKDEpKTsKCiAgZm9yICh2YXIgaSA9IGJpdHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgIGlmIChiaXRzW2ldID09PSAwKSB7CiAgICAgIC8vIE4gKiBRICsgUSA9ICgoTiAvIDIpICogUSArIFEpKSArIChOIC8gMikgKiBRCiAgICAgIGEgPSBhLmRpZmZBZGQoYiwgYyk7CiAgICAgIC8vIE4gKiBRID0gMiAqICgoTiAvIDIpICogUSArIFEpKQogICAgICBiID0gYi5kYmwoKTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIE4gKiBRID0gKChOIC8gMikgKiBRICsgUSkgKyAoKE4gLyAyKSAqIFEpCiAgICAgIGIgPSBhLmRpZmZBZGQoYiwgYyk7CiAgICAgIC8vIE4gKiBRICsgUSA9IDIgKiAoKE4gLyAyKSAqIFEgKyBRKQogICAgICBhID0gYS5kYmwoKTsKICAgIH0KICB9CiAgcmV0dXJuIGI7Cn07CgpQb2ludC5wcm90b3R5cGUubXVsQWRkID0gZnVuY3Rpb24gbXVsQWRkKCkgewogIHRocm93IG5ldyBFcnJvcignTm90IHN1cHBvcnRlZCBvbiBNb250Z29tZXJ5IGN1cnZlJyk7Cn07CgpQb2ludC5wcm90b3R5cGUuZXEgPSBmdW5jdGlvbiBlcShvdGhlcikgewogIHJldHVybiB0aGlzLmdldFgoKS5jbXAob3RoZXIuZ2V0WCgpKSA9PT0gMDsKfTsKClBvaW50LnByb3RvdHlwZS5ub3JtYWxpemUgPSBmdW5jdGlvbiBub3JtYWxpemUoKSB7CiAgdGhpcy54ID0gdGhpcy54LnJlZE11bCh0aGlzLnoucmVkSW52bSgpKTsKICB0aGlzLnogPSB0aGlzLmN1cnZlLm9uZTsKICByZXR1cm4gdGhpczsKfTsKClBvaW50LnByb3RvdHlwZS5nZXRYID0gZnVuY3Rpb24gZ2V0WCgpIHsKICAvLyBOb3JtYWxpemUgY29vcmRpbmF0ZXMKICB0aGlzLm5vcm1hbGl6ZSgpOwoKICByZXR1cm4gdGhpcy54LmZyb21SZWQoKTsKfTsKCn0seyIuLi8uLi9lbGxpcHRpYyI6MTAxLCIuLi9jdXJ2ZSI6MTA0LCJibi5qcyI6NDIsImluaGVyaXRzIjoxMjh9XSwxMDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7Cgp2YXIgY3VydmUgPSByZXF1aXJlKCcuLi9jdXJ2ZScpOwp2YXIgZWxsaXB0aWMgPSByZXF1aXJlKCcuLi8uLi9lbGxpcHRpYycpOwp2YXIgQk4gPSByZXF1aXJlKCdibi5qcycpOwp2YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpOwp2YXIgQmFzZSA9IGN1cnZlLmJhc2U7Cgp2YXIgYXNzZXJ0ID0gZWxsaXB0aWMudXRpbHMuYXNzZXJ0OwoKZnVuY3Rpb24gU2hvcnRDdXJ2ZShjb25mKSB7CiAgQmFzZS5jYWxsKHRoaXMsICdzaG9ydCcsIGNvbmYpOwoKICB0aGlzLmEgPSBuZXcgQk4oY29uZi5hLCAxNikudG9SZWQodGhpcy5yZWQpOwogIHRoaXMuYiA9IG5ldyBCTihjb25mLmIsIDE2KS50b1JlZCh0aGlzLnJlZCk7CiAgdGhpcy50aW52ID0gdGhpcy50d28ucmVkSW52bSgpOwoKICB0aGlzLnplcm9BID0gdGhpcy5hLmZyb21SZWQoKS5jbXBuKDApID09PSAwOwogIHRoaXMudGhyZWVBID0gdGhpcy5hLmZyb21SZWQoKS5zdWIodGhpcy5wKS5jbXBuKC0zKSA9PT0gMDsKCiAgLy8gSWYgdGhlIGN1cnZlIGlzIGVuZG9tb3JwaGljLCBwcmVjYWxjdWxhdGUgYmV0YSBhbmQgbGFtYmRhCiAgdGhpcy5lbmRvID0gdGhpcy5fZ2V0RW5kb21vcnBoaXNtKGNvbmYpOwogIHRoaXMuX2VuZG9XbmFmVDEgPSBuZXcgQXJyYXkoNCk7CiAgdGhpcy5fZW5kb1duYWZUMiA9IG5ldyBBcnJheSg0KTsKfQppbmhlcml0cyhTaG9ydEN1cnZlLCBCYXNlKTsKbW9kdWxlLmV4cG9ydHMgPSBTaG9ydEN1cnZlOwoKU2hvcnRDdXJ2ZS5wcm90b3R5cGUuX2dldEVuZG9tb3JwaGlzbSA9IGZ1bmN0aW9uIF9nZXRFbmRvbW9ycGhpc20oY29uZikgewogIC8vIE5vIGVmZmljaWVudCBlbmRvbW9ycGhpc20KICBpZiAoIXRoaXMuemVyb0EgfHwgIXRoaXMuZyB8fCAhdGhpcy5uIHx8IHRoaXMucC5tb2RuKDMpICE9PSAxKQogICAgcmV0dXJuOwoKICAvLyBDb21wdXRlIGJldGEgYW5kIGxhbWJkYSwgdGhhdCBsYW1iZGEgKiBQID0gKGJldGEgKiBQeDsgUHkpCiAgdmFyIGJldGE7CiAgdmFyIGxhbWJkYTsKICBpZiAoY29uZi5iZXRhKSB7CiAgICBiZXRhID0gbmV3IEJOKGNvbmYuYmV0YSwgMTYpLnRvUmVkKHRoaXMucmVkKTsKICB9IGVsc2UgewogICAgdmFyIGJldGFzID0gdGhpcy5fZ2V0RW5kb1Jvb3RzKHRoaXMucCk7CiAgICAvLyBDaG9vc2UgdGhlIHNtYWxsZXN0IGJldGEKICAgIGJldGEgPSBiZXRhc1swXS5jbXAoYmV0YXNbMV0pIDwgMCA/IGJldGFzWzBdIDogYmV0YXNbMV07CiAgICBiZXRhID0gYmV0YS50b1JlZCh0aGlzLnJlZCk7CiAgfQogIGlmIChjb25mLmxhbWJkYSkgewogICAgbGFtYmRhID0gbmV3IEJOKGNvbmYubGFtYmRhLCAxNik7CiAgfSBlbHNlIHsKICAgIC8vIENob29zZSB0aGUgbGFtYmRhIHRoYXQgaXMgbWF0Y2hpbmcgc2VsZWN0ZWQgYmV0YQogICAgdmFyIGxhbWJkYXMgPSB0aGlzLl9nZXRFbmRvUm9vdHModGhpcy5uKTsKICAgIGlmICh0aGlzLmcubXVsKGxhbWJkYXNbMF0pLnguY21wKHRoaXMuZy54LnJlZE11bChiZXRhKSkgPT09IDApIHsKICAgICAgbGFtYmRhID0gbGFtYmRhc1swXTsKICAgIH0gZWxzZSB7CiAgICAgIGxhbWJkYSA9IGxhbWJkYXNbMV07CiAgICAgIGFzc2VydCh0aGlzLmcubXVsKGxhbWJkYSkueC5jbXAodGhpcy5nLngucmVkTXVsKGJldGEpKSA9PT0gMCk7CiAgICB9CiAgfQoKICAvLyBHZXQgYmFzaXMgdmVjdG9ycywgdXNlZCBmb3IgYmFsYW5jZWQgbGVuZ3RoLXR3byByZXByZXNlbnRhdGlvbgogIHZhciBiYXNpczsKICBpZiAoY29uZi5iYXNpcykgewogICAgYmFzaXMgPSBjb25mLmJhc2lzLm1hcChmdW5jdGlvbih2ZWMpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBhOiBuZXcgQk4odmVjLmEsIDE2KSwKICAgICAgICBiOiBuZXcgQk4odmVjLmIsIDE2KQogICAgICB9OwogICAgfSk7CiAgfSBlbHNlIHsKICAgIGJhc2lzID0gdGhpcy5fZ2V0RW5kb0Jhc2lzKGxhbWJkYSk7CiAgfQoKICByZXR1cm4gewogICAgYmV0YTogYmV0YSwKICAgIGxhbWJkYTogbGFtYmRhLAogICAgYmFzaXM6IGJhc2lzCiAgfTsKfTsKClNob3J0Q3VydmUucHJvdG90eXBlLl9nZXRFbmRvUm9vdHMgPSBmdW5jdGlvbiBfZ2V0RW5kb1Jvb3RzKG51bSkgewogIC8vIEZpbmQgcm9vdHMgb2YgZm9yIHheMiArIHggKyAxIGluIEYKICAvLyBSb290ID0gKC0xICstIFNxcnQoLTMpKSAvIDIKICAvLwogIHZhciByZWQgPSBudW0gPT09IHRoaXMucCA/IHRoaXMucmVkIDogQk4ubW9udChudW0pOwogIHZhciB0aW52ID0gbmV3IEJOKDIpLnRvUmVkKHJlZCkucmVkSW52bSgpOwogIHZhciBudGludiA9IHRpbnYucmVkTmVnKCk7CgogIHZhciBzID0gbmV3IEJOKDMpLnRvUmVkKHJlZCkucmVkTmVnKCkucmVkU3FydCgpLnJlZE11bCh0aW52KTsKCiAgdmFyIGwxID0gbnRpbnYucmVkQWRkKHMpLmZyb21SZWQoKTsKICB2YXIgbDIgPSBudGludi5yZWRTdWIocykuZnJvbVJlZCgpOwogIHJldHVybiBbIGwxLCBsMiBdOwp9OwoKU2hvcnRDdXJ2ZS5wcm90b3R5cGUuX2dldEVuZG9CYXNpcyA9IGZ1bmN0aW9uIF9nZXRFbmRvQmFzaXMobGFtYmRhKSB7CiAgLy8gYXByeFNxcnQgPj0gc3FydCh0aGlzLm4pCiAgdmFyIGFwcnhTcXJ0ID0gdGhpcy5uLnVzaHJuKE1hdGguZmxvb3IodGhpcy5uLmJpdExlbmd0aCgpIC8gMikpOwoKICAvLyAzLjc0CiAgLy8gUnVuIEVHQ0QsIHVudGlsIHIoTCArIDEpIDwgYXByeFNxcnQKICB2YXIgdSA9IGxhbWJkYTsKICB2YXIgdiA9IHRoaXMubi5jbG9uZSgpOwogIHZhciB4MSA9IG5ldyBCTigxKTsKICB2YXIgeTEgPSBuZXcgQk4oMCk7CiAgdmFyIHgyID0gbmV3IEJOKDApOwogIHZhciB5MiA9IG5ldyBCTigxKTsKCiAgLy8gTk9URTogYWxsIHZlY3RvcnMgYXJlIHJvb3RzIG9mOiBhICsgYiAqIGxhbWJkYSA9IDAgKG1vZCBuKQogIHZhciBhMDsKICB2YXIgYjA7CiAgLy8gRmlyc3QgdmVjdG9yCiAgdmFyIGExOwogIHZhciBiMTsKICAvLyBTZWNvbmQgdmVjdG9yCiAgdmFyIGEyOwogIHZhciBiMjsKCiAgdmFyIHByZXZSOwogIHZhciBpID0gMDsKICB2YXIgcjsKICB2YXIgeDsKICB3aGlsZSAodS5jbXBuKDApICE9PSAwKSB7CiAgICB2YXIgcSA9IHYuZGl2KHUpOwogICAgciA9IHYuc3ViKHEubXVsKHUpKTsKICAgIHggPSB4Mi5zdWIocS5tdWwoeDEpKTsKICAgIHZhciB5ID0geTIuc3ViKHEubXVsKHkxKSk7CgogICAgaWYgKCFhMSAmJiByLmNtcChhcHJ4U3FydCkgPCAwKSB7CiAgICAgIGEwID0gcHJldlIubmVnKCk7CiAgICAgIGIwID0geDE7CiAgICAgIGExID0gci5uZWcoKTsKICAgICAgYjEgPSB4OwogICAgfSBlbHNlIGlmIChhMSAmJiArK2kgPT09IDIpIHsKICAgICAgYnJlYWs7CiAgICB9CiAgICBwcmV2UiA9IHI7CgogICAgdiA9IHU7CiAgICB1ID0gcjsKICAgIHgyID0geDE7CiAgICB4MSA9IHg7CiAgICB5MiA9IHkxOwogICAgeTEgPSB5OwogIH0KICBhMiA9IHIubmVnKCk7CiAgYjIgPSB4OwoKICB2YXIgbGVuMSA9IGExLnNxcigpLmFkZChiMS5zcXIoKSk7CiAgdmFyIGxlbjIgPSBhMi5zcXIoKS5hZGQoYjIuc3FyKCkpOwogIGlmIChsZW4yLmNtcChsZW4xKSA+PSAwKSB7CiAgICBhMiA9IGEwOwogICAgYjIgPSBiMDsKICB9CgogIC8vIE5vcm1hbGl6ZSBzaWducwogIGlmIChhMS5uZWdhdGl2ZSkgewogICAgYTEgPSBhMS5uZWcoKTsKICAgIGIxID0gYjEubmVnKCk7CiAgfQogIGlmIChhMi5uZWdhdGl2ZSkgewogICAgYTIgPSBhMi5uZWcoKTsKICAgIGIyID0gYjIubmVnKCk7CiAgfQoKICByZXR1cm4gWwogICAgeyBhOiBhMSwgYjogYjEgfSwKICAgIHsgYTogYTIsIGI6IGIyIH0KICBdOwp9OwoKU2hvcnRDdXJ2ZS5wcm90b3R5cGUuX2VuZG9TcGxpdCA9IGZ1bmN0aW9uIF9lbmRvU3BsaXQoaykgewogIHZhciBiYXNpcyA9IHRoaXMuZW5kby5iYXNpczsKICB2YXIgdjEgPSBiYXNpc1swXTsKICB2YXIgdjIgPSBiYXNpc1sxXTsKCiAgdmFyIGMxID0gdjIuYi5tdWwoaykuZGl2Um91bmQodGhpcy5uKTsKICB2YXIgYzIgPSB2MS5iLm5lZygpLm11bChrKS5kaXZSb3VuZCh0aGlzLm4pOwoKICB2YXIgcDEgPSBjMS5tdWwodjEuYSk7CiAgdmFyIHAyID0gYzIubXVsKHYyLmEpOwogIHZhciBxMSA9IGMxLm11bCh2MS5iKTsKICB2YXIgcTIgPSBjMi5tdWwodjIuYik7CgogIC8vIENhbGN1bGF0ZSBhbnN3ZXIKICB2YXIgazEgPSBrLnN1YihwMSkuc3ViKHAyKTsKICB2YXIgazIgPSBxMS5hZGQocTIpLm5lZygpOwogIHJldHVybiB7IGsxOiBrMSwgazI6IGsyIH07Cn07CgpTaG9ydEN1cnZlLnByb3RvdHlwZS5wb2ludEZyb21YID0gZnVuY3Rpb24gcG9pbnRGcm9tWCh4LCBvZGQpIHsKICB4ID0gbmV3IEJOKHgsIDE2KTsKICBpZiAoIXgucmVkKQogICAgeCA9IHgudG9SZWQodGhpcy5yZWQpOwoKICB2YXIgeTIgPSB4LnJlZFNxcigpLnJlZE11bCh4KS5yZWRJQWRkKHgucmVkTXVsKHRoaXMuYSkpLnJlZElBZGQodGhpcy5iKTsKICB2YXIgeSA9IHkyLnJlZFNxcnQoKTsKICBpZiAoeS5yZWRTcXIoKS5yZWRTdWIoeTIpLmNtcCh0aGlzLnplcm8pICE9PSAwKQogICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHBvaW50Jyk7CgogIC8vIFhYWCBJcyB0aGVyZSBhbnkgd2F5IHRvIHRlbGwgaWYgdGhlIG51bWJlciBpcyBvZGQgd2l0aG91dCBjb252ZXJ0aW5nIGl0CiAgLy8gdG8gbm9uLXJlZCBmb3JtPwogIHZhciBpc09kZCA9IHkuZnJvbVJlZCgpLmlzT2RkKCk7CiAgaWYgKG9kZCAmJiAhaXNPZGQgfHwgIW9kZCAmJiBpc09kZCkKICAgIHkgPSB5LnJlZE5lZygpOwoKICByZXR1cm4gdGhpcy5wb2ludCh4LCB5KTsKfTsKClNob3J0Q3VydmUucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gdmFsaWRhdGUocG9pbnQpIHsKICBpZiAocG9pbnQuaW5mKQogICAgcmV0dXJuIHRydWU7CgogIHZhciB4ID0gcG9pbnQueDsKICB2YXIgeSA9IHBvaW50Lnk7CgogIHZhciBheCA9IHRoaXMuYS5yZWRNdWwoeCk7CiAgdmFyIHJocyA9IHgucmVkU3FyKCkucmVkTXVsKHgpLnJlZElBZGQoYXgpLnJlZElBZGQodGhpcy5iKTsKICByZXR1cm4geS5yZWRTcXIoKS5yZWRJU3ViKHJocykuY21wbigwKSA9PT0gMDsKfTsKClNob3J0Q3VydmUucHJvdG90eXBlLl9lbmRvV25hZk11bEFkZCA9CiAgICBmdW5jdGlvbiBfZW5kb1duYWZNdWxBZGQocG9pbnRzLCBjb2VmZnMpIHsKICB2YXIgbnBvaW50cyA9IHRoaXMuX2VuZG9XbmFmVDE7CiAgdmFyIG5jb2VmZnMgPSB0aGlzLl9lbmRvV25hZlQyOwogIGZvciAodmFyIGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgc3BsaXQgPSB0aGlzLl9lbmRvU3BsaXQoY29lZmZzW2ldKTsKICAgIHZhciBwID0gcG9pbnRzW2ldOwogICAgdmFyIGJldGEgPSBwLl9nZXRCZXRhKCk7CgogICAgaWYgKHNwbGl0LmsxLm5lZ2F0aXZlKSB7CiAgICAgIHNwbGl0LmsxLmluZWcoKTsKICAgICAgcCA9IHAubmVnKHRydWUpOwogICAgfQogICAgaWYgKHNwbGl0LmsyLm5lZ2F0aXZlKSB7CiAgICAgIHNwbGl0LmsyLmluZWcoKTsKICAgICAgYmV0YSA9IGJldGEubmVnKHRydWUpOwogICAgfQoKICAgIG5wb2ludHNbaSAqIDJdID0gcDsKICAgIG5wb2ludHNbaSAqIDIgKyAxXSA9IGJldGE7CiAgICBuY29lZmZzW2kgKiAyXSA9IHNwbGl0LmsxOwogICAgbmNvZWZmc1tpICogMiArIDFdID0gc3BsaXQuazI7CiAgfQogIHZhciByZXMgPSB0aGlzLl93bmFmTXVsQWRkKDEsIG5wb2ludHMsIG5jb2VmZnMsIGkgKiAyKTsKCiAgLy8gQ2xlYW4tdXAgcmVmZXJlbmNlcyB0byBwb2ludHMgYW5kIGNvZWZmaWNpZW50cwogIGZvciAodmFyIGogPSAwOyBqIDwgaSAqIDI7IGorKykgewogICAgbnBvaW50c1tqXSA9IG51bGw7CiAgICBuY29lZmZzW2pdID0gbnVsbDsKICB9CiAgcmV0dXJuIHJlczsKfTsKCmZ1bmN0aW9uIFBvaW50KGN1cnZlLCB4LCB5LCBpc1JlZCkgewogIEJhc2UuQmFzZVBvaW50LmNhbGwodGhpcywgY3VydmUsICdhZmZpbmUnKTsKICBpZiAoeCA9PT0gbnVsbCAmJiB5ID09PSBudWxsKSB7CiAgICB0aGlzLnggPSBudWxsOwogICAgdGhpcy55ID0gbnVsbDsKICAgIHRoaXMuaW5mID0gdHJ1ZTsKICB9IGVsc2UgewogICAgdGhpcy54ID0gbmV3IEJOKHgsIDE2KTsKICAgIHRoaXMueSA9IG5ldyBCTih5LCAxNik7CiAgICAvLyBGb3JjZSByZWRnb21lcnkgcmVwcmVzZW50YXRpb24gd2hlbiBsb2FkaW5nIGZyb20gSlNPTgogICAgaWYgKGlzUmVkKSB7CiAgICAgIHRoaXMueC5mb3JjZVJlZCh0aGlzLmN1cnZlLnJlZCk7CiAgICAgIHRoaXMueS5mb3JjZVJlZCh0aGlzLmN1cnZlLnJlZCk7CiAgICB9CiAgICBpZiAoIXRoaXMueC5yZWQpCiAgICAgIHRoaXMueCA9IHRoaXMueC50b1JlZCh0aGlzLmN1cnZlLnJlZCk7CiAgICBpZiAoIXRoaXMueS5yZWQpCiAgICAgIHRoaXMueSA9IHRoaXMueS50b1JlZCh0aGlzLmN1cnZlLnJlZCk7CiAgICB0aGlzLmluZiA9IGZhbHNlOwogIH0KfQppbmhlcml0cyhQb2ludCwgQmFzZS5CYXNlUG9pbnQpOwoKU2hvcnRDdXJ2ZS5wcm90b3R5cGUucG9pbnQgPSBmdW5jdGlvbiBwb2ludCh4LCB5LCBpc1JlZCkgewogIHJldHVybiBuZXcgUG9pbnQodGhpcywgeCwgeSwgaXNSZWQpOwp9OwoKU2hvcnRDdXJ2ZS5wcm90b3R5cGUucG9pbnRGcm9tSlNPTiA9IGZ1bmN0aW9uIHBvaW50RnJvbUpTT04ob2JqLCByZWQpIHsKICByZXR1cm4gUG9pbnQuZnJvbUpTT04odGhpcywgb2JqLCByZWQpOwp9OwoKUG9pbnQucHJvdG90eXBlLl9nZXRCZXRhID0gZnVuY3Rpb24gX2dldEJldGEoKSB7CiAgaWYgKCF0aGlzLmN1cnZlLmVuZG8pCiAgICByZXR1cm47CgogIHZhciBwcmUgPSB0aGlzLnByZWNvbXB1dGVkOwogIGlmIChwcmUgJiYgcHJlLmJldGEpCiAgICByZXR1cm4gcHJlLmJldGE7CgogIHZhciBiZXRhID0gdGhpcy5jdXJ2ZS5wb2ludCh0aGlzLngucmVkTXVsKHRoaXMuY3VydmUuZW5kby5iZXRhKSwgdGhpcy55KTsKICBpZiAocHJlKSB7CiAgICB2YXIgY3VydmUgPSB0aGlzLmN1cnZlOwogICAgdmFyIGVuZG9NdWwgPSBmdW5jdGlvbihwKSB7CiAgICAgIHJldHVybiBjdXJ2ZS5wb2ludChwLngucmVkTXVsKGN1cnZlLmVuZG8uYmV0YSksIHAueSk7CiAgICB9OwogICAgcHJlLmJldGEgPSBiZXRhOwogICAgYmV0YS5wcmVjb21wdXRlZCA9IHsKICAgICAgYmV0YTogbnVsbCwKICAgICAgbmFmOiBwcmUubmFmICYmIHsKICAgICAgICB3bmQ6IHByZS5uYWYud25kLAogICAgICAgIHBvaW50czogcHJlLm5hZi5wb2ludHMubWFwKGVuZG9NdWwpCiAgICAgIH0sCiAgICAgIGRvdWJsZXM6IHByZS5kb3VibGVzICYmIHsKICAgICAgICBzdGVwOiBwcmUuZG91Ymxlcy5zdGVwLAogICAgICAgIHBvaW50czogcHJlLmRvdWJsZXMucG9pbnRzLm1hcChlbmRvTXVsKQogICAgICB9CiAgICB9OwogIH0KICByZXR1cm4gYmV0YTsKfTsKClBvaW50LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbiB0b0pTT04oKSB7CiAgaWYgKCF0aGlzLnByZWNvbXB1dGVkKQogICAgcmV0dXJuIFsgdGhpcy54LCB0aGlzLnkgXTsKCiAgcmV0dXJuIFsgdGhpcy54LCB0aGlzLnksIHRoaXMucHJlY29tcHV0ZWQgJiYgewogICAgZG91YmxlczogdGhpcy5wcmVjb21wdXRlZC5kb3VibGVzICYmIHsKICAgICAgc3RlcDogdGhpcy5wcmVjb21wdXRlZC5kb3VibGVzLnN0ZXAsCiAgICAgIHBvaW50czogdGhpcy5wcmVjb21wdXRlZC5kb3VibGVzLnBvaW50cy5zbGljZSgxKQogICAgfSwKICAgIG5hZjogdGhpcy5wcmVjb21wdXRlZC5uYWYgJiYgewogICAgICB3bmQ6IHRoaXMucHJlY29tcHV0ZWQubmFmLnduZCwKICAgICAgcG9pbnRzOiB0aGlzLnByZWNvbXB1dGVkLm5hZi5wb2ludHMuc2xpY2UoMSkKICAgIH0KICB9IF07Cn07CgpQb2ludC5mcm9tSlNPTiA9IGZ1bmN0aW9uIGZyb21KU09OKGN1cnZlLCBvYmosIHJlZCkgewogIGlmICh0eXBlb2Ygb2JqID09PSAnc3RyaW5nJykKICAgIG9iaiA9IEpTT04ucGFyc2Uob2JqKTsKICB2YXIgcmVzID0gY3VydmUucG9pbnQob2JqWzBdLCBvYmpbMV0sIHJlZCk7CiAgaWYgKCFvYmpbMl0pCiAgICByZXR1cm4gcmVzOwoKICBmdW5jdGlvbiBvYmoycG9pbnQob2JqKSB7CiAgICByZXR1cm4gY3VydmUucG9pbnQob2JqWzBdLCBvYmpbMV0sIHJlZCk7CiAgfQoKICB2YXIgcHJlID0gb2JqWzJdOwogIHJlcy5wcmVjb21wdXRlZCA9IHsKICAgIGJldGE6IG51bGwsCiAgICBkb3VibGVzOiBwcmUuZG91YmxlcyAmJiB7CiAgICAgIHN0ZXA6IHByZS5kb3VibGVzLnN0ZXAsCiAgICAgIHBvaW50czogWyByZXMgXS5jb25jYXQocHJlLmRvdWJsZXMucG9pbnRzLm1hcChvYmoycG9pbnQpKQogICAgfSwKICAgIG5hZjogcHJlLm5hZiAmJiB7CiAgICAgIHduZDogcHJlLm5hZi53bmQsCiAgICAgIHBvaW50czogWyByZXMgXS5jb25jYXQocHJlLm5hZi5wb2ludHMubWFwKG9iajJwb2ludCkpCiAgICB9CiAgfTsKICByZXR1cm4gcmVzOwp9OwoKUG9pbnQucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbiBpbnNwZWN0KCkgewogIGlmICh0aGlzLmlzSW5maW5pdHkoKSkKICAgIHJldHVybiAnPEVDIFBvaW50IEluZmluaXR5Pic7CiAgcmV0dXJuICc8RUMgUG9pbnQgeDogJyArIHRoaXMueC5mcm9tUmVkKCkudG9TdHJpbmcoMTYsIDIpICsKICAgICAgJyB5OiAnICsgdGhpcy55LmZyb21SZWQoKS50b1N0cmluZygxNiwgMikgKyAnPic7Cn07CgpQb2ludC5wcm90b3R5cGUuaXNJbmZpbml0eSA9IGZ1bmN0aW9uIGlzSW5maW5pdHkoKSB7CiAgcmV0dXJuIHRoaXMuaW5mOwp9OwoKUG9pbnQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIGFkZChwKSB7CiAgLy8gTyArIFAgPSBQCiAgaWYgKHRoaXMuaW5mKQogICAgcmV0dXJuIHA7CgogIC8vIFAgKyBPID0gUAogIGlmIChwLmluZikKICAgIHJldHVybiB0aGlzOwoKICAvLyBQICsgUCA9IDJQCiAgaWYgKHRoaXMuZXEocCkpCiAgICByZXR1cm4gdGhpcy5kYmwoKTsKCiAgLy8gUCArICgtUCkgPSBPCiAgaWYgKHRoaXMubmVnKCkuZXEocCkpCiAgICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChudWxsLCBudWxsKTsKCiAgLy8gUCArIFEgPSBPCiAgaWYgKHRoaXMueC5jbXAocC54KSA9PT0gMCkKICAgIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KG51bGwsIG51bGwpOwoKICB2YXIgYyA9IHRoaXMueS5yZWRTdWIocC55KTsKICBpZiAoYy5jbXBuKDApICE9PSAwKQogICAgYyA9IGMucmVkTXVsKHRoaXMueC5yZWRTdWIocC54KS5yZWRJbnZtKCkpOwogIHZhciBueCA9IGMucmVkU3FyKCkucmVkSVN1Yih0aGlzLngpLnJlZElTdWIocC54KTsKICB2YXIgbnkgPSBjLnJlZE11bCh0aGlzLngucmVkU3ViKG54KSkucmVkSVN1Yih0aGlzLnkpOwogIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KG54LCBueSk7Cn07CgpQb2ludC5wcm90b3R5cGUuZGJsID0gZnVuY3Rpb24gZGJsKCkgewogIGlmICh0aGlzLmluZikKICAgIHJldHVybiB0aGlzOwoKICAvLyAyUCA9IE8KICB2YXIgeXMxID0gdGhpcy55LnJlZEFkZCh0aGlzLnkpOwogIGlmICh5czEuY21wbigwKSA9PT0gMCkKICAgIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KG51bGwsIG51bGwpOwoKICB2YXIgYSA9IHRoaXMuY3VydmUuYTsKCiAgdmFyIHgyID0gdGhpcy54LnJlZFNxcigpOwogIHZhciBkeWludiA9IHlzMS5yZWRJbnZtKCk7CiAgdmFyIGMgPSB4Mi5yZWRBZGQoeDIpLnJlZElBZGQoeDIpLnJlZElBZGQoYSkucmVkTXVsKGR5aW52KTsKCiAgdmFyIG54ID0gYy5yZWRTcXIoKS5yZWRJU3ViKHRoaXMueC5yZWRBZGQodGhpcy54KSk7CiAgdmFyIG55ID0gYy5yZWRNdWwodGhpcy54LnJlZFN1YihueCkpLnJlZElTdWIodGhpcy55KTsKICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChueCwgbnkpOwp9OwoKUG9pbnQucHJvdG90eXBlLmdldFggPSBmdW5jdGlvbiBnZXRYKCkgewogIHJldHVybiB0aGlzLnguZnJvbVJlZCgpOwp9OwoKUG9pbnQucHJvdG90eXBlLmdldFkgPSBmdW5jdGlvbiBnZXRZKCkgewogIHJldHVybiB0aGlzLnkuZnJvbVJlZCgpOwp9OwoKUG9pbnQucHJvdG90eXBlLm11bCA9IGZ1bmN0aW9uIG11bChrKSB7CiAgayA9IG5ldyBCTihrLCAxNik7CgogIGlmICh0aGlzLl9oYXNEb3VibGVzKGspKQogICAgcmV0dXJuIHRoaXMuY3VydmUuX2ZpeGVkTmFmTXVsKHRoaXMsIGspOwogIGVsc2UgaWYgKHRoaXMuY3VydmUuZW5kbykKICAgIHJldHVybiB0aGlzLmN1cnZlLl9lbmRvV25hZk11bEFkZChbIHRoaXMgXSwgWyBrIF0pOwogIGVsc2UKICAgIHJldHVybiB0aGlzLmN1cnZlLl93bmFmTXVsKHRoaXMsIGspOwp9OwoKUG9pbnQucHJvdG90eXBlLm11bEFkZCA9IGZ1bmN0aW9uIG11bEFkZChrMSwgcDIsIGsyKSB7CiAgdmFyIHBvaW50cyA9IFsgdGhpcywgcDIgXTsKICB2YXIgY29lZmZzID0gWyBrMSwgazIgXTsKICBpZiAodGhpcy5jdXJ2ZS5lbmRvKQogICAgcmV0dXJuIHRoaXMuY3VydmUuX2VuZG9XbmFmTXVsQWRkKHBvaW50cywgY29lZmZzKTsKICBlbHNlCiAgICByZXR1cm4gdGhpcy5jdXJ2ZS5fd25hZk11bEFkZCgxLCBwb2ludHMsIGNvZWZmcywgMik7Cn07CgpQb2ludC5wcm90b3R5cGUuZXEgPSBmdW5jdGlvbiBlcShwKSB7CiAgcmV0dXJuIHRoaXMgPT09IHAgfHwKICAgICAgICAgdGhpcy5pbmYgPT09IHAuaW5mICYmCiAgICAgICAgICAgICAodGhpcy5pbmYgfHwgdGhpcy54LmNtcChwLngpID09PSAwICYmIHRoaXMueS5jbXAocC55KSA9PT0gMCk7Cn07CgpQb2ludC5wcm90b3R5cGUubmVnID0gZnVuY3Rpb24gbmVnKF9wcmVjb21wdXRlKSB7CiAgaWYgKHRoaXMuaW5mKQogICAgcmV0dXJuIHRoaXM7CgogIHZhciByZXMgPSB0aGlzLmN1cnZlLnBvaW50KHRoaXMueCwgdGhpcy55LnJlZE5lZygpKTsKICBpZiAoX3ByZWNvbXB1dGUgJiYgdGhpcy5wcmVjb21wdXRlZCkgewogICAgdmFyIHByZSA9IHRoaXMucHJlY29tcHV0ZWQ7CiAgICB2YXIgbmVnYXRlID0gZnVuY3Rpb24ocCkgewogICAgICByZXR1cm4gcC5uZWcoKTsKICAgIH07CiAgICByZXMucHJlY29tcHV0ZWQgPSB7CiAgICAgIG5hZjogcHJlLm5hZiAmJiB7CiAgICAgICAgd25kOiBwcmUubmFmLnduZCwKICAgICAgICBwb2ludHM6IHByZS5uYWYucG9pbnRzLm1hcChuZWdhdGUpCiAgICAgIH0sCiAgICAgIGRvdWJsZXM6IHByZS5kb3VibGVzICYmIHsKICAgICAgICBzdGVwOiBwcmUuZG91Ymxlcy5zdGVwLAogICAgICAgIHBvaW50czogcHJlLmRvdWJsZXMucG9pbnRzLm1hcChuZWdhdGUpCiAgICAgIH0KICAgIH07CiAgfQogIHJldHVybiByZXM7Cn07CgpQb2ludC5wcm90b3R5cGUudG9KID0gZnVuY3Rpb24gdG9KKCkgewogIGlmICh0aGlzLmluZikKICAgIHJldHVybiB0aGlzLmN1cnZlLmpwb2ludChudWxsLCBudWxsLCBudWxsKTsKCiAgdmFyIHJlcyA9IHRoaXMuY3VydmUuanBvaW50KHRoaXMueCwgdGhpcy55LCB0aGlzLmN1cnZlLm9uZSk7CiAgcmV0dXJuIHJlczsKfTsKCmZ1bmN0aW9uIEpQb2ludChjdXJ2ZSwgeCwgeSwgeikgewogIEJhc2UuQmFzZVBvaW50LmNhbGwodGhpcywgY3VydmUsICdqYWNvYmlhbicpOwogIGlmICh4ID09PSBudWxsICYmIHkgPT09IG51bGwgJiYgeiA9PT0gbnVsbCkgewogICAgdGhpcy54ID0gdGhpcy5jdXJ2ZS5vbmU7CiAgICB0aGlzLnkgPSB0aGlzLmN1cnZlLm9uZTsKICAgIHRoaXMueiA9IG5ldyBCTigwKTsKICB9IGVsc2UgewogICAgdGhpcy54ID0gbmV3IEJOKHgsIDE2KTsKICAgIHRoaXMueSA9IG5ldyBCTih5LCAxNik7CiAgICB0aGlzLnogPSBuZXcgQk4oeiwgMTYpOwogIH0KICBpZiAoIXRoaXMueC5yZWQpCiAgICB0aGlzLnggPSB0aGlzLngudG9SZWQodGhpcy5jdXJ2ZS5yZWQpOwogIGlmICghdGhpcy55LnJlZCkKICAgIHRoaXMueSA9IHRoaXMueS50b1JlZCh0aGlzLmN1cnZlLnJlZCk7CiAgaWYgKCF0aGlzLnoucmVkKQogICAgdGhpcy56ID0gdGhpcy56LnRvUmVkKHRoaXMuY3VydmUucmVkKTsKCiAgdGhpcy56T25lID0gdGhpcy56ID09PSB0aGlzLmN1cnZlLm9uZTsKfQppbmhlcml0cyhKUG9pbnQsIEJhc2UuQmFzZVBvaW50KTsKClNob3J0Q3VydmUucHJvdG90eXBlLmpwb2ludCA9IGZ1bmN0aW9uIGpwb2ludCh4LCB5LCB6KSB7CiAgcmV0dXJuIG5ldyBKUG9pbnQodGhpcywgeCwgeSwgeik7Cn07CgpKUG9pbnQucHJvdG90eXBlLnRvUCA9IGZ1bmN0aW9uIHRvUCgpIHsKICBpZiAodGhpcy5pc0luZmluaXR5KCkpCiAgICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChudWxsLCBudWxsKTsKCiAgdmFyIHppbnYgPSB0aGlzLnoucmVkSW52bSgpOwogIHZhciB6aW52MiA9IHppbnYucmVkU3FyKCk7CiAgdmFyIGF4ID0gdGhpcy54LnJlZE11bCh6aW52Mik7CiAgdmFyIGF5ID0gdGhpcy55LnJlZE11bCh6aW52MikucmVkTXVsKHppbnYpOwoKICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChheCwgYXkpOwp9OwoKSlBvaW50LnByb3RvdHlwZS5uZWcgPSBmdW5jdGlvbiBuZWcoKSB7CiAgcmV0dXJuIHRoaXMuY3VydmUuanBvaW50KHRoaXMueCwgdGhpcy55LnJlZE5lZygpLCB0aGlzLnopOwp9OwoKSlBvaW50LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiBhZGQocCkgewogIC8vIE8gKyBQID0gUAogIGlmICh0aGlzLmlzSW5maW5pdHkoKSkKICAgIHJldHVybiBwOwoKICAvLyBQICsgTyA9IFAKICBpZiAocC5pc0luZmluaXR5KCkpCiAgICByZXR1cm4gdGhpczsKCiAgLy8gMTJNICsgNFMgKyA3QQogIHZhciBwejIgPSBwLnoucmVkU3FyKCk7CiAgdmFyIHoyID0gdGhpcy56LnJlZFNxcigpOwogIHZhciB1MSA9IHRoaXMueC5yZWRNdWwocHoyKTsKICB2YXIgdTIgPSBwLngucmVkTXVsKHoyKTsKICB2YXIgczEgPSB0aGlzLnkucmVkTXVsKHB6Mi5yZWRNdWwocC56KSk7CiAgdmFyIHMyID0gcC55LnJlZE11bCh6Mi5yZWRNdWwodGhpcy56KSk7CgogIHZhciBoID0gdTEucmVkU3ViKHUyKTsKICB2YXIgciA9IHMxLnJlZFN1YihzMik7CiAgaWYgKGguY21wbigwKSA9PT0gMCkgewogICAgaWYgKHIuY21wbigwKSAhPT0gMCkKICAgICAgcmV0dXJuIHRoaXMuY3VydmUuanBvaW50KG51bGwsIG51bGwsIG51bGwpOwogICAgZWxzZQogICAgICByZXR1cm4gdGhpcy5kYmwoKTsKICB9CgogIHZhciBoMiA9IGgucmVkU3FyKCk7CiAgdmFyIGgzID0gaDIucmVkTXVsKGgpOwogIHZhciB2ID0gdTEucmVkTXVsKGgyKTsKCiAgdmFyIG54ID0gci5yZWRTcXIoKS5yZWRJQWRkKGgzKS5yZWRJU3ViKHYpLnJlZElTdWIodik7CiAgdmFyIG55ID0gci5yZWRNdWwodi5yZWRJU3ViKG54KSkucmVkSVN1YihzMS5yZWRNdWwoaDMpKTsKICB2YXIgbnogPSB0aGlzLnoucmVkTXVsKHAueikucmVkTXVsKGgpOwoKICByZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQobngsIG55LCBueik7Cn07CgpKUG9pbnQucHJvdG90eXBlLm1peGVkQWRkID0gZnVuY3Rpb24gbWl4ZWRBZGQocCkgewogIC8vIE8gKyBQID0gUAogIGlmICh0aGlzLmlzSW5maW5pdHkoKSkKICAgIHJldHVybiBwLnRvSigpOwoKICAvLyBQICsgTyA9IFAKICBpZiAocC5pc0luZmluaXR5KCkpCiAgICByZXR1cm4gdGhpczsKCiAgLy8gOE0gKyAzUyArIDdBCiAgdmFyIHoyID0gdGhpcy56LnJlZFNxcigpOwogIHZhciB1MSA9IHRoaXMueDsKICB2YXIgdTIgPSBwLngucmVkTXVsKHoyKTsKICB2YXIgczEgPSB0aGlzLnk7CiAgdmFyIHMyID0gcC55LnJlZE11bCh6MikucmVkTXVsKHRoaXMueik7CgogIHZhciBoID0gdTEucmVkU3ViKHUyKTsKICB2YXIgciA9IHMxLnJlZFN1YihzMik7CiAgaWYgKGguY21wbigwKSA9PT0gMCkgewogICAgaWYgKHIuY21wbigwKSAhPT0gMCkKICAgICAgcmV0dXJuIHRoaXMuY3VydmUuanBvaW50KG51bGwsIG51bGwsIG51bGwpOwogICAgZWxzZQogICAgICByZXR1cm4gdGhpcy5kYmwoKTsKICB9CgogIHZhciBoMiA9IGgucmVkU3FyKCk7CiAgdmFyIGgzID0gaDIucmVkTXVsKGgpOwogIHZhciB2ID0gdTEucmVkTXVsKGgyKTsKCiAgdmFyIG54ID0gci5yZWRTcXIoKS5yZWRJQWRkKGgzKS5yZWRJU3ViKHYpLnJlZElTdWIodik7CiAgdmFyIG55ID0gci5yZWRNdWwodi5yZWRJU3ViKG54KSkucmVkSVN1YihzMS5yZWRNdWwoaDMpKTsKICB2YXIgbnogPSB0aGlzLnoucmVkTXVsKGgpOwoKICByZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQobngsIG55LCBueik7Cn07CgpKUG9pbnQucHJvdG90eXBlLmRibHAgPSBmdW5jdGlvbiBkYmxwKHBvdykgewogIGlmIChwb3cgPT09IDApCiAgICByZXR1cm4gdGhpczsKICBpZiAodGhpcy5pc0luZmluaXR5KCkpCiAgICByZXR1cm4gdGhpczsKICBpZiAoIXBvdykKICAgIHJldHVybiB0aGlzLmRibCgpOwoKICBpZiAodGhpcy5jdXJ2ZS56ZXJvQSB8fCB0aGlzLmN1cnZlLnRocmVlQSkgewogICAgdmFyIHIgPSB0aGlzOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb3c7IGkrKykKICAgICAgciA9IHIuZGJsKCk7CiAgICByZXR1cm4gcjsKICB9CgogIC8vIDFNICsgMlMgKyAxQSArIE4gKiAoNFMgKyA1TSArIDhBKQogIC8vIE4gPSAxID0+IDZNICsgNlMgKyA5QQogIHZhciBhID0gdGhpcy5jdXJ2ZS5hOwogIHZhciB0aW52ID0gdGhpcy5jdXJ2ZS50aW52OwoKICB2YXIganggPSB0aGlzLng7CiAgdmFyIGp5ID0gdGhpcy55OwogIHZhciBqeiA9IHRoaXMuejsKICB2YXIgano0ID0ganoucmVkU3FyKCkucmVkU3FyKCk7CgogIC8vIFJldXNlIHJlc3VsdHMKICB2YXIganlkID0gankucmVkQWRkKGp5KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IHBvdzsgaSsrKSB7CiAgICB2YXIgangyID0gangucmVkU3FyKCk7CiAgICB2YXIganlkMiA9IGp5ZC5yZWRTcXIoKTsKICAgIHZhciBqeWQ0ID0ganlkMi5yZWRTcXIoKTsKICAgIHZhciBjID0gangyLnJlZEFkZChqeDIpLnJlZElBZGQoangyKS5yZWRJQWRkKGEucmVkTXVsKGp6NCkpOwoKICAgIHZhciB0MSA9IGp4LnJlZE11bChqeWQyKTsKICAgIHZhciBueCA9IGMucmVkU3FyKCkucmVkSVN1Yih0MS5yZWRBZGQodDEpKTsKICAgIHZhciB0MiA9IHQxLnJlZElTdWIobngpOwogICAgdmFyIGRueSA9IGMucmVkTXVsKHQyKTsKICAgIGRueSA9IGRueS5yZWRJQWRkKGRueSkucmVkSVN1YihqeWQ0KTsKICAgIHZhciBueiA9IGp5ZC5yZWRNdWwoanopOwogICAgaWYgKGkgKyAxIDwgcG93KQogICAgICBqejQgPSBqejQucmVkTXVsKGp5ZDQpOwoKICAgIGp4ID0gbng7CiAgICBqeiA9IG56OwogICAganlkID0gZG55OwogIH0KCiAgcmV0dXJuIHRoaXMuY3VydmUuanBvaW50KGp4LCBqeWQucmVkTXVsKHRpbnYpLCBqeik7Cn07CgpKUG9pbnQucHJvdG90eXBlLmRibCA9IGZ1bmN0aW9uIGRibCgpIHsKICBpZiAodGhpcy5pc0luZmluaXR5KCkpCiAgICByZXR1cm4gdGhpczsKCiAgaWYgKHRoaXMuY3VydmUuemVyb0EpCiAgICByZXR1cm4gdGhpcy5femVyb0RibCgpOwogIGVsc2UgaWYgKHRoaXMuY3VydmUudGhyZWVBKQogICAgcmV0dXJuIHRoaXMuX3RocmVlRGJsKCk7CiAgZWxzZQogICAgcmV0dXJuIHRoaXMuX2RibCgpOwp9OwoKSlBvaW50LnByb3RvdHlwZS5femVyb0RibCA9IGZ1bmN0aW9uIF96ZXJvRGJsKCkgewogIHZhciBueDsKICB2YXIgbnk7CiAgdmFyIG56OwogIC8vIFogPSAxCiAgaWYgKHRoaXMuek9uZSkgewogICAgLy8gaHlwZXJlbGxpcHRpYy5vcmcvRUZEL2cxcC9hdXRvLXNob3J0dy1qYWNvYmlhbi0wLmh0bWwKICAgIC8vICAgICAjZG91YmxpbmctbWRibC0yMDA3LWJsCiAgICAvLyAxTSArIDVTICsgMTRBCgogICAgLy8gWFggPSBYMV4yCiAgICB2YXIgeHggPSB0aGlzLngucmVkU3FyKCk7CiAgICAvLyBZWSA9IFkxXjIKICAgIHZhciB5eSA9IHRoaXMueS5yZWRTcXIoKTsKICAgIC8vIFlZWVkgPSBZWV4yCiAgICB2YXIgeXl5eSA9IHl5LnJlZFNxcigpOwogICAgLy8gUyA9IDIgKiAoKFgxICsgWVkpXjIgLSBYWCAtIFlZWVkpCiAgICB2YXIgcyA9IHRoaXMueC5yZWRBZGQoeXkpLnJlZFNxcigpLnJlZElTdWIoeHgpLnJlZElTdWIoeXl5eSk7CiAgICBzID0gcy5yZWRJQWRkKHMpOwogICAgLy8gTSA9IDMgKiBYWCArIGE7IGEgPSAwCiAgICB2YXIgbSA9IHh4LnJlZEFkZCh4eCkucmVkSUFkZCh4eCk7CiAgICAvLyBUID0gTSBeIDIgLSAyKlMKICAgIHZhciB0ID0gbS5yZWRTcXIoKS5yZWRJU3ViKHMpLnJlZElTdWIocyk7CgogICAgLy8gOCAqIFlZWVkKICAgIHZhciB5eXl5OCA9IHl5eXkucmVkSUFkZCh5eXl5KTsKICAgIHl5eXk4ID0geXl5eTgucmVkSUFkZCh5eXl5OCk7CiAgICB5eXl5OCA9IHl5eXk4LnJlZElBZGQoeXl5eTgpOwoKICAgIC8vIFgzID0gVAogICAgbnggPSB0OwogICAgLy8gWTMgPSBNICogKFMgLSBUKSAtIDggKiBZWVlZCiAgICBueSA9IG0ucmVkTXVsKHMucmVkSVN1Yih0KSkucmVkSVN1Yih5eXl5OCk7CiAgICAvLyBaMyA9IDIqWTEKICAgIG56ID0gdGhpcy55LnJlZEFkZCh0aGlzLnkpOwogIH0gZWxzZSB7CiAgICAvLyBoeXBlcmVsbGlwdGljLm9yZy9FRkQvZzFwL2F1dG8tc2hvcnR3LWphY29iaWFuLTAuaHRtbAogICAgLy8gICAgICNkb3VibGluZy1kYmwtMjAwOS1sCiAgICAvLyAyTSArIDVTICsgMTNBCgogICAgLy8gQSA9IFgxXjIKICAgIHZhciBhID0gdGhpcy54LnJlZFNxcigpOwogICAgLy8gQiA9IFkxXjIKICAgIHZhciBiID0gdGhpcy55LnJlZFNxcigpOwogICAgLy8gQyA9IEJeMgogICAgdmFyIGMgPSBiLnJlZFNxcigpOwogICAgLy8gRCA9IDIgKiAoKFgxICsgQileMiAtIEEgLSBDKQogICAgdmFyIGQgPSB0aGlzLngucmVkQWRkKGIpLnJlZFNxcigpLnJlZElTdWIoYSkucmVkSVN1YihjKTsKICAgIGQgPSBkLnJlZElBZGQoZCk7CiAgICAvLyBFID0gMyAqIEEKICAgIHZhciBlID0gYS5yZWRBZGQoYSkucmVkSUFkZChhKTsKICAgIC8vIEYgPSBFXjIKICAgIHZhciBmID0gZS5yZWRTcXIoKTsKCiAgICAvLyA4ICogQwogICAgdmFyIGM4ID0gYy5yZWRJQWRkKGMpOwogICAgYzggPSBjOC5yZWRJQWRkKGM4KTsKICAgIGM4ID0gYzgucmVkSUFkZChjOCk7CgogICAgLy8gWDMgPSBGIC0gMiAqIEQKICAgIG54ID0gZi5yZWRJU3ViKGQpLnJlZElTdWIoZCk7CiAgICAvLyBZMyA9IEUgKiAoRCAtIFgzKSAtIDggKiBDCiAgICBueSA9IGUucmVkTXVsKGQucmVkSVN1YihueCkpLnJlZElTdWIoYzgpOwogICAgLy8gWjMgPSAyICogWTEgKiBaMQogICAgbnogPSB0aGlzLnkucmVkTXVsKHRoaXMueik7CiAgICBueiA9IG56LnJlZElBZGQobnopOwogIH0KCiAgcmV0dXJuIHRoaXMuY3VydmUuanBvaW50KG54LCBueSwgbnopOwp9OwoKSlBvaW50LnByb3RvdHlwZS5fdGhyZWVEYmwgPSBmdW5jdGlvbiBfdGhyZWVEYmwoKSB7CiAgdmFyIG54OwogIHZhciBueTsKICB2YXIgbno7CiAgLy8gWiA9IDEKICBpZiAodGhpcy56T25lKSB7CiAgICAvLyBoeXBlcmVsbGlwdGljLm9yZy9FRkQvZzFwL2F1dG8tc2hvcnR3LWphY29iaWFuLTMuaHRtbAogICAgLy8gICAgICNkb3VibGluZy1tZGJsLTIwMDctYmwKICAgIC8vIDFNICsgNVMgKyAxNUEKCiAgICAvLyBYWCA9IFgxXjIKICAgIHZhciB4eCA9IHRoaXMueC5yZWRTcXIoKTsKICAgIC8vIFlZID0gWTFeMgogICAgdmFyIHl5ID0gdGhpcy55LnJlZFNxcigpOwogICAgLy8gWVlZWSA9IFlZXjIKICAgIHZhciB5eXl5ID0geXkucmVkU3FyKCk7CiAgICAvLyBTID0gMiAqICgoWDEgKyBZWSleMiAtIFhYIC0gWVlZWSkKICAgIHZhciBzID0gdGhpcy54LnJlZEFkZCh5eSkucmVkU3FyKCkucmVkSVN1Yih4eCkucmVkSVN1Yih5eXl5KTsKICAgIHMgPSBzLnJlZElBZGQocyk7CiAgICAvLyBNID0gMyAqIFhYICsgYQogICAgdmFyIG0gPSB4eC5yZWRBZGQoeHgpLnJlZElBZGQoeHgpLnJlZElBZGQodGhpcy5jdXJ2ZS5hKTsKICAgIC8vIFQgPSBNXjIgLSAyICogUwogICAgdmFyIHQgPSBtLnJlZFNxcigpLnJlZElTdWIocykucmVkSVN1YihzKTsKICAgIC8vIFgzID0gVAogICAgbnggPSB0OwogICAgLy8gWTMgPSBNICogKFMgLSBUKSAtIDggKiBZWVlZCiAgICB2YXIgeXl5eTggPSB5eXl5LnJlZElBZGQoeXl5eSk7CiAgICB5eXl5OCA9IHl5eXk4LnJlZElBZGQoeXl5eTgpOwogICAgeXl5eTggPSB5eXl5OC5yZWRJQWRkKHl5eXk4KTsKICAgIG55ID0gbS5yZWRNdWwocy5yZWRJU3ViKHQpKS5yZWRJU3ViKHl5eXk4KTsKICAgIC8vIFozID0gMiAqIFkxCiAgICBueiA9IHRoaXMueS5yZWRBZGQodGhpcy55KTsKICB9IGVsc2UgewogICAgLy8gaHlwZXJlbGxpcHRpYy5vcmcvRUZEL2cxcC9hdXRvLXNob3J0dy1qYWNvYmlhbi0zLmh0bWwjZG91YmxpbmctZGJsLTIwMDEtYgogICAgLy8gM00gKyA1UwoKICAgIC8vIGRlbHRhID0gWjFeMgogICAgdmFyIGRlbHRhID0gdGhpcy56LnJlZFNxcigpOwogICAgLy8gZ2FtbWEgPSBZMV4yCiAgICB2YXIgZ2FtbWEgPSB0aGlzLnkucmVkU3FyKCk7CiAgICAvLyBiZXRhID0gWDEgKiBnYW1tYQogICAgdmFyIGJldGEgPSB0aGlzLngucmVkTXVsKGdhbW1hKTsKICAgIC8vIGFscGhhID0gMyAqIChYMSAtIGRlbHRhKSAqIChYMSArIGRlbHRhKQogICAgdmFyIGFscGhhID0gdGhpcy54LnJlZFN1YihkZWx0YSkucmVkTXVsKHRoaXMueC5yZWRBZGQoZGVsdGEpKTsKICAgIGFscGhhID0gYWxwaGEucmVkQWRkKGFscGhhKS5yZWRJQWRkKGFscGhhKTsKICAgIC8vIFgzID0gYWxwaGFeMiAtIDggKiBiZXRhCiAgICB2YXIgYmV0YTQgPSBiZXRhLnJlZElBZGQoYmV0YSk7CiAgICBiZXRhNCA9IGJldGE0LnJlZElBZGQoYmV0YTQpOwogICAgdmFyIGJldGE4ID0gYmV0YTQucmVkQWRkKGJldGE0KTsKICAgIG54ID0gYWxwaGEucmVkU3FyKCkucmVkSVN1YihiZXRhOCk7CiAgICAvLyBaMyA9IChZMSArIFoxKV4yIC0gZ2FtbWEgLSBkZWx0YQogICAgbnogPSB0aGlzLnkucmVkQWRkKHRoaXMueikucmVkU3FyKCkucmVkSVN1YihnYW1tYSkucmVkSVN1YihkZWx0YSk7CiAgICAvLyBZMyA9IGFscGhhICogKDQgKiBiZXRhIC0gWDMpIC0gOCAqIGdhbW1hXjIKICAgIHZhciBnZ2FtbWE4ID0gZ2FtbWEucmVkU3FyKCk7CiAgICBnZ2FtbWE4ID0gZ2dhbW1hOC5yZWRJQWRkKGdnYW1tYTgpOwogICAgZ2dhbW1hOCA9IGdnYW1tYTgucmVkSUFkZChnZ2FtbWE4KTsKICAgIGdnYW1tYTggPSBnZ2FtbWE4LnJlZElBZGQoZ2dhbW1hOCk7CiAgICBueSA9IGFscGhhLnJlZE11bChiZXRhNC5yZWRJU3ViKG54KSkucmVkSVN1YihnZ2FtbWE4KTsKICB9CgogIHJldHVybiB0aGlzLmN1cnZlLmpwb2ludChueCwgbnksIG56KTsKfTsKCkpQb2ludC5wcm90b3R5cGUuX2RibCA9IGZ1bmN0aW9uIF9kYmwoKSB7CiAgdmFyIGEgPSB0aGlzLmN1cnZlLmE7CgogIC8vIDRNICsgNlMgKyAxMEEKICB2YXIganggPSB0aGlzLng7CiAgdmFyIGp5ID0gdGhpcy55OwogIHZhciBqeiA9IHRoaXMuejsKICB2YXIgano0ID0ganoucmVkU3FyKCkucmVkU3FyKCk7CgogIHZhciBqeDIgPSBqeC5yZWRTcXIoKTsKICB2YXIgankyID0gankucmVkU3FyKCk7CgogIHZhciBjID0gangyLnJlZEFkZChqeDIpLnJlZElBZGQoangyKS5yZWRJQWRkKGEucmVkTXVsKGp6NCkpOwoKICB2YXIganhkNCA9IGp4LnJlZEFkZChqeCk7CiAganhkNCA9IGp4ZDQucmVkSUFkZChqeGQ0KTsKICB2YXIgdDEgPSBqeGQ0LnJlZE11bChqeTIpOwogIHZhciBueCA9IGMucmVkU3FyKCkucmVkSVN1Yih0MS5yZWRBZGQodDEpKTsKICB2YXIgdDIgPSB0MS5yZWRJU3ViKG54KTsKCiAgdmFyIGp5ZDggPSBqeTIucmVkU3FyKCk7CiAganlkOCA9IGp5ZDgucmVkSUFkZChqeWQ4KTsKICBqeWQ4ID0ganlkOC5yZWRJQWRkKGp5ZDgpOwogIGp5ZDggPSBqeWQ4LnJlZElBZGQoanlkOCk7CiAgdmFyIG55ID0gYy5yZWRNdWwodDIpLnJlZElTdWIoanlkOCk7CiAgdmFyIG56ID0gankucmVkQWRkKGp5KS5yZWRNdWwoanopOwoKICByZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQobngsIG55LCBueik7Cn07CgpKUG9pbnQucHJvdG90eXBlLnRycGwgPSBmdW5jdGlvbiB0cnBsKCkgewogIGlmICghdGhpcy5jdXJ2ZS56ZXJvQSkKICAgIHJldHVybiB0aGlzLmRibCgpLmFkZCh0aGlzKTsKCiAgLy8gaHlwZXJlbGxpcHRpYy5vcmcvRUZEL2cxcC9hdXRvLXNob3J0dy1qYWNvYmlhbi0wLmh0bWwjdHJpcGxpbmctdHBsLTIwMDctYmwKICAvLyA1TSArIDEwUyArIC4uLgoKICAvLyBYWCA9IFgxXjIKICB2YXIgeHggPSB0aGlzLngucmVkU3FyKCk7CiAgLy8gWVkgPSBZMV4yCiAgdmFyIHl5ID0gdGhpcy55LnJlZFNxcigpOwogIC8vIFpaID0gWjFeMgogIHZhciB6eiA9IHRoaXMuei5yZWRTcXIoKTsKICAvLyBZWVlZID0gWVleMgogIHZhciB5eXl5ID0geXkucmVkU3FyKCk7CiAgLy8gTSA9IDMgKiBYWCArIGEgKiBaWjI7IGEgPSAwCiAgdmFyIG0gPSB4eC5yZWRBZGQoeHgpLnJlZElBZGQoeHgpOwogIC8vIE1NID0gTV4yCiAgdmFyIG1tID0gbS5yZWRTcXIoKTsKICAvLyBFID0gNiAqICgoWDEgKyBZWSleMiAtIFhYIC0gWVlZWSkgLSBNTQogIHZhciBlID0gdGhpcy54LnJlZEFkZCh5eSkucmVkU3FyKCkucmVkSVN1Yih4eCkucmVkSVN1Yih5eXl5KTsKICBlID0gZS5yZWRJQWRkKGUpOwogIGUgPSBlLnJlZEFkZChlKS5yZWRJQWRkKGUpOwogIGUgPSBlLnJlZElTdWIobW0pOwogIC8vIEVFID0gRV4yCiAgdmFyIGVlID0gZS5yZWRTcXIoKTsKICAvLyBUID0gMTYqWVlZWQogIHZhciB0ID0geXl5eS5yZWRJQWRkKHl5eXkpOwogIHQgPSB0LnJlZElBZGQodCk7CiAgdCA9IHQucmVkSUFkZCh0KTsKICB0ID0gdC5yZWRJQWRkKHQpOwogIC8vIFUgPSAoTSArIEUpXjIgLSBNTSAtIEVFIC0gVAogIHZhciB1ID0gbS5yZWRJQWRkKGUpLnJlZFNxcigpLnJlZElTdWIobW0pLnJlZElTdWIoZWUpLnJlZElTdWIodCk7CiAgLy8gWDMgPSA0ICogKFgxICogRUUgLSA0ICogWVkgKiBVKQogIHZhciB5eXU0ID0geXkucmVkTXVsKHUpOwogIHl5dTQgPSB5eXU0LnJlZElBZGQoeXl1NCk7CiAgeXl1NCA9IHl5dTQucmVkSUFkZCh5eXU0KTsKICB2YXIgbnggPSB0aGlzLngucmVkTXVsKGVlKS5yZWRJU3ViKHl5dTQpOwogIG54ID0gbngucmVkSUFkZChueCk7CiAgbnggPSBueC5yZWRJQWRkKG54KTsKICAvLyBZMyA9IDggKiBZMSAqIChVICogKFQgLSBVKSAtIEUgKiBFRSkKICB2YXIgbnkgPSB0aGlzLnkucmVkTXVsKHUucmVkTXVsKHQucmVkSVN1Yih1KSkucmVkSVN1YihlLnJlZE11bChlZSkpKTsKICBueSA9IG55LnJlZElBZGQobnkpOwogIG55ID0gbnkucmVkSUFkZChueSk7CiAgbnkgPSBueS5yZWRJQWRkKG55KTsKICAvLyBaMyA9IChaMSArIEUpXjIgLSBaWiAtIEVFCiAgdmFyIG56ID0gdGhpcy56LnJlZEFkZChlKS5yZWRTcXIoKS5yZWRJU3ViKHp6KS5yZWRJU3ViKGVlKTsKCiAgcmV0dXJuIHRoaXMuY3VydmUuanBvaW50KG54LCBueSwgbnopOwp9OwoKSlBvaW50LnByb3RvdHlwZS5tdWwgPSBmdW5jdGlvbiBtdWwoaywga2Jhc2UpIHsKICBrID0gbmV3IEJOKGssIGtiYXNlKTsKCiAgcmV0dXJuIHRoaXMuY3VydmUuX3duYWZNdWwodGhpcywgayk7Cn07CgpKUG9pbnQucHJvdG90eXBlLmVxID0gZnVuY3Rpb24gZXEocCkgewogIGlmIChwLnR5cGUgPT09ICdhZmZpbmUnKQogICAgcmV0dXJuIHRoaXMuZXEocC50b0ooKSk7CgogIGlmICh0aGlzID09PSBwKQogICAgcmV0dXJuIHRydWU7CgogIC8vIHgxICogejJeMiA9PSB4MiAqIHoxXjIKICB2YXIgejIgPSB0aGlzLnoucmVkU3FyKCk7CiAgdmFyIHB6MiA9IHAuei5yZWRTcXIoKTsKICBpZiAodGhpcy54LnJlZE11bChwejIpLnJlZElTdWIocC54LnJlZE11bCh6MikpLmNtcG4oMCkgIT09IDApCiAgICByZXR1cm4gZmFsc2U7CgogIC8vIHkxICogejJeMyA9PSB5MiAqIHoxXjMKICB2YXIgejMgPSB6Mi5yZWRNdWwodGhpcy56KTsKICB2YXIgcHozID0gcHoyLnJlZE11bChwLnopOwogIHJldHVybiB0aGlzLnkucmVkTXVsKHB6MykucmVkSVN1YihwLnkucmVkTXVsKHozKSkuY21wbigwKSA9PT0gMDsKfTsKCkpQb2ludC5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uIGluc3BlY3QoKSB7CiAgaWYgKHRoaXMuaXNJbmZpbml0eSgpKQogICAgcmV0dXJuICc8RUMgSlBvaW50IEluZmluaXR5Pic7CiAgcmV0dXJuICc8RUMgSlBvaW50IHg6ICcgKyB0aGlzLngudG9TdHJpbmcoMTYsIDIpICsKICAgICAgJyB5OiAnICsgdGhpcy55LnRvU3RyaW5nKDE2LCAyKSArCiAgICAgICcgejogJyArIHRoaXMuei50b1N0cmluZygxNiwgMikgKyAnPic7Cn07CgpKUG9pbnQucHJvdG90eXBlLmlzSW5maW5pdHkgPSBmdW5jdGlvbiBpc0luZmluaXR5KCkgewogIC8vIFhYWCBUaGlzIGNvZGUgYXNzdW1lcyB0aGF0IHplcm8gaXMgYWx3YXlzIHplcm8gaW4gcmVkCiAgcmV0dXJuIHRoaXMuei5jbXBuKDApID09PSAwOwp9OwoKfSx7Ii4uLy4uL2VsbGlwdGljIjoxMDEsIi4uL2N1cnZlIjoxMDQsImJuLmpzIjo0MiwiaW5oZXJpdHMiOjEyOH1dLDEwNzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCnZhciBjdXJ2ZXMgPSBleHBvcnRzOwoKdmFyIGhhc2ggPSByZXF1aXJlKCdoYXNoLmpzJyk7CnZhciBlbGxpcHRpYyA9IHJlcXVpcmUoJy4uL2VsbGlwdGljJyk7Cgp2YXIgYXNzZXJ0ID0gZWxsaXB0aWMudXRpbHMuYXNzZXJ0OwoKZnVuY3Rpb24gUHJlc2V0Q3VydmUob3B0aW9ucykgewogIGlmIChvcHRpb25zLnR5cGUgPT09ICdzaG9ydCcpCiAgICB0aGlzLmN1cnZlID0gbmV3IGVsbGlwdGljLmN1cnZlLnNob3J0KG9wdGlvbnMpOwogIGVsc2UgaWYgKG9wdGlvbnMudHlwZSA9PT0gJ2Vkd2FyZHMnKQogICAgdGhpcy5jdXJ2ZSA9IG5ldyBlbGxpcHRpYy5jdXJ2ZS5lZHdhcmRzKG9wdGlvbnMpOwogIGVsc2UKICAgIHRoaXMuY3VydmUgPSBuZXcgZWxsaXB0aWMuY3VydmUubW9udChvcHRpb25zKTsKICB0aGlzLmcgPSB0aGlzLmN1cnZlLmc7CiAgdGhpcy5uID0gdGhpcy5jdXJ2ZS5uOwogIHRoaXMuaGFzaCA9IG9wdGlvbnMuaGFzaDsKCiAgYXNzZXJ0KHRoaXMuZy52YWxpZGF0ZSgpLCAnSW52YWxpZCBjdXJ2ZScpOwogIGFzc2VydCh0aGlzLmcubXVsKHRoaXMubikuaXNJbmZpbml0eSgpLCAnSW52YWxpZCBjdXJ2ZSwgRypOICE9IE8nKTsKfQpjdXJ2ZXMuUHJlc2V0Q3VydmUgPSBQcmVzZXRDdXJ2ZTsKCmZ1bmN0aW9uIGRlZmluZUN1cnZlKG5hbWUsIG9wdGlvbnMpIHsKICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VydmVzLCBuYW1lLCB7CiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgZ2V0OiBmdW5jdGlvbigpIHsKICAgICAgdmFyIGN1cnZlID0gbmV3IFByZXNldEN1cnZlKG9wdGlvbnMpOwogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VydmVzLCBuYW1lLCB7CiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgICAgIGVudW1lcmFibGU6IHRydWUsCiAgICAgICAgdmFsdWU6IGN1cnZlCiAgICAgIH0pOwogICAgICByZXR1cm4gY3VydmU7CiAgICB9CiAgfSk7Cn0KCmRlZmluZUN1cnZlKCdwMTkyJywgewogIHR5cGU6ICdzaG9ydCcsCiAgcHJpbWU6ICdwMTkyJywKICBwOiAnZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmUgZmZmZmZmZmYgZmZmZmZmZmYnLAogIGE6ICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSBmZmZmZmZmZiBmZmZmZmZmYycsCiAgYjogJzY0MjEwNTE5IGU1OWM4MGU3IDBmYTdlOWFiIDcyMjQzMDQ5IGZlYjhkZWVjIGMxNDZiOWIxJywKICBuOiAnZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgOTlkZWY4MzYgMTQ2YmM5YjEgYjRkMjI4MzEnLAogIGhhc2g6IGhhc2guc2hhMjU2LAogIGdSZWQ6IGZhbHNlLAogIGc6IFsKICAgICcxODhkYTgwZSBiMDMwOTBmNiA3Y2JmMjBlYiA0M2ExODgwMCBmNGZmMGFmZCA4MmZmMTAxMicsCiAgICAnMDcxOTJiOTUgZmZjOGRhNzggNjMxMDExZWQgNmIyNGNkZDUgNzNmOTc3YTEgMWU3OTQ4MTEnCiAgXQp9KTsKCmRlZmluZUN1cnZlKCdwMjI0JywgewogIHR5cGU6ICdzaG9ydCcsCiAgcHJpbWU6ICdwMjI0JywKICBwOiAnZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgMDAwMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDEnLAogIGE6ICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZScsCiAgYjogJ2I0MDUwYTg1IDBjMDRiM2FiIGY1NDEzMjU2IDUwNDRiMGI3IGQ3YmZkOGJhIDI3MGIzOTQzIDIzNTVmZmI0JywKICBuOiAnZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZjE2YTIgZTBiOGYwM2UgMTNkZDI5NDUgNWM1YzJhM2QnLAogIGhhc2g6IGhhc2guc2hhMjU2LAogIGdSZWQ6IGZhbHNlLAogIGc6IFsKICAgICdiNzBlMGNiZCA2YmI0YmY3ZiAzMjEzOTBiOSA0YTAzYzFkMyA1NmMyMTEyMiAzNDMyODBkNiAxMTVjMWQyMScsCiAgICAnYmQzNzYzODggYjVmNzIzZmIgNGMyMmRmZTYgY2Q0Mzc1YTAgNWEwNzQ3NjQgNDRkNTgxOTkgODUwMDdlMzQnCiAgXQp9KTsKCmRlZmluZUN1cnZlKCdwMjU2JywgewogIHR5cGU6ICdzaG9ydCcsCiAgcHJpbWU6IG51bGwsCiAgcDogJ2ZmZmZmZmZmIDAwMDAwMDAxIDAwMDAwMDAwIDAwMDAwMDAwIDAwMDAwMDAwIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmJywKICBhOiAnZmZmZmZmZmYgMDAwMDAwMDEgMDAwMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDAgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmMnLAogIGI6ICc1YWM2MzVkOCBhYTNhOTNlNyBiM2ViYmQ1NSA3Njk4ODZiYyA2NTFkMDZiMCBjYzUzYjBmNiAzYmNlM2MzZSAyN2QyNjA0YicsCiAgbjogJ2ZmZmZmZmZmIDAwMDAwMDAwIGZmZmZmZmZmIGZmZmZmZmZmIGJjZTZmYWFkIGE3MTc5ZTg0IGYzYjljYWMyIGZjNjMyNTUxJywKICBoYXNoOiBoYXNoLnNoYTI1NiwKICBnUmVkOiBmYWxzZSwKICBnOiBbCiAgICAnNmIxN2QxZjIgZTEyYzQyNDcgZjhiY2U2ZTUgNjNhNDQwZjIgNzcwMzdkODEgMmRlYjMzYTAgZjRhMTM5NDUgZDg5OGMyOTYnLAogICAgJzRmZTM0MmUyIGZlMWE3ZjliIDhlZTdlYjRhIDdjMGY5ZTE2IDJiY2UzMzU3IDZiMzE1ZWNlIGNiYjY0MDY4IDM3YmY1MWY1JwogIF0KfSk7CgpkZWZpbmVDdXJ2ZSgncDM4NCcsIHsKICB0eXBlOiAnc2hvcnQnLAogIHByaW1lOiBudWxsLAogIHA6ICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiAnICsKICAgICAnZmZmZmZmZmUgZmZmZmZmZmYgMDAwMDAwMDAgMDAwMDAwMDAgZmZmZmZmZmYnLAogIGE6ICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiAnICsKICAgICAnZmZmZmZmZmUgZmZmZmZmZmYgMDAwMDAwMDAgMDAwMDAwMDAgZmZmZmZmZmMnLAogIGI6ICdiMzMxMmZhNyBlMjNlZTdlNCA5ODhlMDU2YiBlM2Y4MmQxOSAxODFkOWM2ZSBmZTgxNDExMiAwMzE0MDg4ZiAnICsKICAgICAnNTAxMzg3NWEgYzY1NjM5OGQgOGEyZWQxOWQgMmE4NWM4ZWQgZDNlYzJhZWYnLAogIG46ICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBjNzYzNGQ4MSAnICsKICAgICAnZjQzNzJkZGYgNTgxYTBkYjIgNDhiMGE3N2EgZWNlYzE5NmEgY2NjNTI5NzMnLAogIGhhc2g6IGhhc2guc2hhMzg0LAogIGdSZWQ6IGZhbHNlLAogIGc6IFsKICAgICdhYTg3Y2EyMiBiZThiMDUzNyA4ZWIxYzcxZSBmMzIwYWQ3NCA2ZTFkM2I2MiA4YmE3OWI5OCA1OWY3NDFlMCA4MjU0MmEzOCAnICsKICAgICc1NTAyZjI1ZCBiZjU1Mjk2YyAzYTU0NWUzOCA3Mjc2MGFiNycsCiAgICAnMzYxN2RlNGEgOTYyNjJjNmYgNWQ5ZTk4YmYgOTI5MmRjMjkgZjhmNDFkYmQgMjg5YTE0N2MgZTlkYTMxMTMgYjVmMGI4YzAgJyArCiAgICAnMGE2MGIxY2UgMWQ3ZTgxOWQgN2E0MzFkN2MgOTBlYTBlNWYnCiAgXQp9KTsKCmRlZmluZUN1cnZlKCdwNTIxJywgewogIHR5cGU6ICdzaG9ydCcsCiAgcHJpbWU6IG51bGwsCiAgcDogJzAwMDAwMWZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmICcgKwogICAgICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiAnICsKICAgICAnZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYnLAogIGE6ICcwMDAwMDFmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiAnICsKICAgICAnZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgJyArCiAgICAgJ2ZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZjJywKICBiOiAnMDAwMDAwNTEgOTUzZWI5NjEgOGUxYzlhMWYgOTI5YTIxYTAgYjY4NTQwZWUgYTJkYTcyNWIgJyArCiAgICAgJzk5YjMxNWYzIGI4YjQ4OTkxIDhlZjEwOWUxIDU2MTkzOTUxIGVjN2U5MzdiIDE2NTJjMGJkICcgKwogICAgICczYmIxYmYwNyAzNTczZGY4OCAzZDJjMzRmMSBlZjQ1MWZkNCA2YjUwM2YwMCcsCiAgbjogJzAwMDAwMWZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmICcgKwogICAgICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmYSA1MTg2ODc4MyBiZjJmOTY2YiA3ZmNjMDE0OCAnICsKICAgICAnZjcwOWE1ZDAgM2JiNWM5YjggODk5YzQ3YWUgYmI2ZmI3MWUgOTEzODY0MDknLAogIGhhc2g6IGhhc2guc2hhNTEyLAogIGdSZWQ6IGZhbHNlLAogIGc6IFsKICAgICcwMDAwMDBjNiA4NThlMDZiNyAwNDA0ZTljZCA5ZTNlY2I2NiAyMzk1YjQ0MiA5YzY0ODEzOSAnICsKICAgICcwNTNmYjUyMSBmODI4YWY2MCA2YjRkM2RiYSBhMTRiNWU3NyBlZmU3NTkyOCBmZTFkYzEyNyAnICsKICAgICdhMmZmYThkZSAzMzQ4YjNjMSA4NTZhNDI5YiBmOTdlN2UzMSBjMmU1YmQ2NicsCiAgICAnMDAwMDAxMTggMzkyOTZhNzggOWEzYmMwMDQgNWM4YTVmYjQgMmM3ZDFiZDkgOThmNTQ0NDkgJyArCiAgICAnNTc5YjQ0NjggMTdhZmJkMTcgMjczZTY2MmMgOTdlZTcyOTkgNWVmNDI2NDAgYzU1MGI5MDEgJyArCiAgICAnM2ZhZDA3NjEgMzUzYzcwODYgYTI3MmMyNDAgODhiZTk0NzYgOWZkMTY2NTAnCiAgXQp9KTsKCmRlZmluZUN1cnZlKCdjdXJ2ZTI1NTE5JywgewogIHR5cGU6ICdtb250JywKICBwcmltZTogJ3AyNTUxOScsCiAgcDogJzdmZmZmZmZmZmZmZmZmZmYgZmZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmZmIGZmZmZmZmZmZmZmZmZmZWQnLAogIGE6ICc3NmQwNicsCiAgYjogJzAnLAogIG46ICcxMDAwMDAwMDAwMDAwMDAwIDAwMDAwMDAwMDAwMDAwMDAgMTRkZWY5ZGVhMmY3OWNkNiA1ODEyNjMxYTVjZjVkM2VkJywKICBoYXNoOiBoYXNoLnNoYTI1NiwKICBnUmVkOiBmYWxzZSwKICBnOiBbCiAgICAnOScKICBdCn0pOwoKZGVmaW5lQ3VydmUoJ2VkMjU1MTknLCB7CiAgdHlwZTogJ2Vkd2FyZHMnLAogIHByaW1lOiAncDI1NTE5JywKICBwOiAnN2ZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmZmIGZmZmZmZmZmZmZmZmZmZmYgZmZmZmZmZmZmZmZmZmZlZCcsCiAgYTogJy0xJywKICBjOiAnMScsCiAgLy8gLTEyMTY2NSAqICgxMjE2NjZeKC0xKSkgKG1vZCBQKQogIGQ6ICc1MjAzNmNlZTJiNmZmZTczIDhjYzc0MDc5Nzc3OWU4OTggMDA3MDBhNGQ0MTQxZDhhYiA3NWViNGRjYTEzNTk3OGEzJywKICBuOiAnMTAwMDAwMDAwMDAwMDAwMCAwMDAwMDAwMDAwMDAwMDAwIDE0ZGVmOWRlYTJmNzljZDYgNTgxMjYzMWE1Y2Y1ZDNlZCcsCiAgaGFzaDogaGFzaC5zaGEyNTYsCiAgZ1JlZDogZmFsc2UsCiAgZzogWwogICAgJzIxNjkzNmQzY2Q2ZTUzZmVjMGE0ZTIzMWZkZDZkYzVjNjkyY2M3NjA5NTI1YTdiMmM5NTYyZDYwOGYyNWQ1MWEnLAoKICAgIC8vIDQvNQogICAgJzY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NTgnCiAgXQp9KTsKCnZhciBwcmU7CnRyeSB7CiAgcHJlID0gcmVxdWlyZSgnLi9wcmVjb21wdXRlZC9zZWNwMjU2azEnKTsKfSBjYXRjaCAoZSkgewogIHByZSA9IHVuZGVmaW5lZDsKfQoKZGVmaW5lQ3VydmUoJ3NlY3AyNTZrMScsIHsKICB0eXBlOiAnc2hvcnQnLAogIHByaW1lOiAnazI1NicsCiAgcDogJ2ZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZlIGZmZmZmYzJmJywKICBhOiAnMCcsCiAgYjogJzcnLAogIG46ICdmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSBiYWFlZGNlNiBhZjQ4YTAzYiBiZmQyNWU4YyBkMDM2NDE0MScsCiAgaDogJzEnLAogIGhhc2g6IGhhc2guc2hhMjU2LAoKICAvLyBQcmVjb21wdXRlZCBlbmRvbW9ycGhpc20KICBiZXRhOiAnN2FlOTZhMmI2NTdjMDcxMDZlNjQ0NzllYWMzNDM0ZTk5Y2YwNDk3NTEyZjU4OTk1YzEzOTZjMjg3MTk1MDFlZScsCiAgbGFtYmRhOiAnNTM2M2FkNGNjMDVjMzBlMGE1MjYxYzAyODgxMjY0NWExMjJlMjJlYTIwODE2Njc4ZGYwMjk2N2MxYjIzYmQ3MicsCiAgYmFzaXM6IFsKICAgIHsKICAgICAgYTogJzMwODZkMjIxYTdkNDZiY2RlODZjOTBlNDkyODRlYjE1JywKICAgICAgYjogJy1lNDQzN2VkNjAxMGU4ODI4NmY1NDdmYTkwYWJmZTRjMycKICAgIH0sCiAgICB7CiAgICAgIGE6ICcxMTRjYTUwZjdhOGUyZjNmNjU3YzExMDhkOWQ0NGNmZDgnLAogICAgICBiOiAnMzA4NmQyMjFhN2Q0NmJjZGU4NmM5MGU0OTI4NGViMTUnCiAgICB9CiAgXSwKCiAgZ1JlZDogZmFsc2UsCiAgZzogWwogICAgJzc5YmU2NjdlZjlkY2JiYWM1NWEwNjI5NWNlODcwYjA3MDI5YmZjZGIyZGNlMjhkOTU5ZjI4MTViMTZmODE3OTgnLAogICAgJzQ4M2FkYTc3MjZhM2M0NjU1ZGE0ZmJmYzBlMTEwOGE4ZmQxN2I0NDhhNjg1NTQxOTljNDdkMDhmZmIxMGQ0YjgnLAogICAgcHJlCiAgXQp9KTsKCn0seyIuLi9lbGxpcHRpYyI6MTAxLCIuL3ByZWNvbXB1dGVkL3NlY3AyNTZrMSI6MTE1LCJoYXNoLmpzIjoxMjB9XSwxMDg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7Cgp2YXIgQk4gPSByZXF1aXJlKCdibi5qcycpOwp2YXIgZWxsaXB0aWMgPSByZXF1aXJlKCcuLi8uLi9lbGxpcHRpYycpOwp2YXIgdXRpbHMgPSBlbGxpcHRpYy51dGlsczsKdmFyIGFzc2VydCA9IHV0aWxzLmFzc2VydDsKCnZhciBLZXlQYWlyID0gcmVxdWlyZSgnLi9rZXknKTsKdmFyIFNpZ25hdHVyZSA9IHJlcXVpcmUoJy4vc2lnbmF0dXJlJyk7CgpmdW5jdGlvbiBFQyhvcHRpb25zKSB7CiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEVDKSkKICAgIHJldHVybiBuZXcgRUMob3B0aW9ucyk7CgogIC8vIFNob3J0Y3V0IGBlbGxpcHRpYy5lYyhjdXJ2ZS1uYW1lKWAKICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7CiAgICBhc3NlcnQoZWxsaXB0aWMuY3VydmVzLmhhc093blByb3BlcnR5KG9wdGlvbnMpLCAnVW5rbm93biBjdXJ2ZSAnICsgb3B0aW9ucyk7CgogICAgb3B0aW9ucyA9IGVsbGlwdGljLmN1cnZlc1tvcHRpb25zXTsKICB9CgogIC8vIFNob3J0Y3V0IGZvciBgZWxsaXB0aWMuZWMoZWxsaXB0aWMuY3VydmVzLmN1cnZlTmFtZSlgCiAgaWYgKG9wdGlvbnMgaW5zdGFuY2VvZiBlbGxpcHRpYy5jdXJ2ZXMuUHJlc2V0Q3VydmUpCiAgICBvcHRpb25zID0geyBjdXJ2ZTogb3B0aW9ucyB9OwoKICB0aGlzLmN1cnZlID0gb3B0aW9ucy5jdXJ2ZS5jdXJ2ZTsKICB0aGlzLm4gPSB0aGlzLmN1cnZlLm47CiAgdGhpcy5uaCA9IHRoaXMubi51c2hybigxKTsKICB0aGlzLmcgPSB0aGlzLmN1cnZlLmc7CgogIC8vIFBvaW50IG9uIGN1cnZlCiAgdGhpcy5nID0gb3B0aW9ucy5jdXJ2ZS5nOwogIHRoaXMuZy5wcmVjb21wdXRlKG9wdGlvbnMuY3VydmUubi5iaXRMZW5ndGgoKSArIDEpOwoKICAvLyBIYXNoIGZvciBmdW5jdGlvbiBmb3IgRFJCRwogIHRoaXMuaGFzaCA9IG9wdGlvbnMuaGFzaCB8fCBvcHRpb25zLmN1cnZlLmhhc2g7Cn0KbW9kdWxlLmV4cG9ydHMgPSBFQzsKCkVDLnByb3RvdHlwZS5rZXlQYWlyID0gZnVuY3Rpb24ga2V5UGFpcihvcHRpb25zKSB7CiAgcmV0dXJuIG5ldyBLZXlQYWlyKHRoaXMsIG9wdGlvbnMpOwp9OwoKRUMucHJvdG90eXBlLmtleUZyb21Qcml2YXRlID0gZnVuY3Rpb24ga2V5RnJvbVByaXZhdGUocHJpdiwgZW5jKSB7CiAgcmV0dXJuIEtleVBhaXIuZnJvbVByaXZhdGUodGhpcywgcHJpdiwgZW5jKTsKfTsKCkVDLnByb3RvdHlwZS5rZXlGcm9tUHVibGljID0gZnVuY3Rpb24ga2V5RnJvbVB1YmxpYyhwdWIsIGVuYykgewogIHJldHVybiBLZXlQYWlyLmZyb21QdWJsaWModGhpcywgcHViLCBlbmMpOwp9OwoKRUMucHJvdG90eXBlLmdlbktleVBhaXIgPSBmdW5jdGlvbiBnZW5LZXlQYWlyKG9wdGlvbnMpIHsKICBpZiAoIW9wdGlvbnMpCiAgICBvcHRpb25zID0ge307CgogIC8vIEluc3RhbnRpYXRlIEhtYWNfRFJCRwogIHZhciBkcmJnID0gbmV3IGVsbGlwdGljLmhtYWNEUkJHKHsKICAgIGhhc2g6IHRoaXMuaGFzaCwKICAgIHBlcnM6IG9wdGlvbnMucGVycywKICAgIGVudHJvcHk6IG9wdGlvbnMuZW50cm9weSB8fCBlbGxpcHRpYy5yYW5kKHRoaXMuaGFzaC5obWFjU3RyZW5ndGgpLAogICAgbm9uY2U6IHRoaXMubi50b0FycmF5KCkKICB9KTsKCiAgdmFyIGJ5dGVzID0gdGhpcy5uLmJ5dGVMZW5ndGgoKTsKICB2YXIgbnMyID0gdGhpcy5uLnN1YihuZXcgQk4oMikpOwogIGRvIHsKICAgIHZhciBwcml2ID0gbmV3IEJOKGRyYmcuZ2VuZXJhdGUoYnl0ZXMpKTsKICAgIGlmIChwcml2LmNtcChuczIpID4gMCkKICAgICAgY29udGludWU7CgogICAgcHJpdi5pYWRkbigxKTsKICAgIHJldHVybiB0aGlzLmtleUZyb21Qcml2YXRlKHByaXYpOwogIH0gd2hpbGUgKHRydWUpOwp9OwoKRUMucHJvdG90eXBlLl90cnVuY2F0ZVRvTiA9IGZ1bmN0aW9uIHRydW5jYXRlVG9OKG1zZywgdHJ1bmNPbmx5KSB7CiAgdmFyIGRlbHRhID0gbXNnLmJ5dGVMZW5ndGgoKSAqIDggLSB0aGlzLm4uYml0TGVuZ3RoKCk7CiAgaWYgKGRlbHRhID4gMCkKICAgIG1zZyA9IG1zZy51c2hybihkZWx0YSk7CiAgaWYgKCF0cnVuY09ubHkgJiYgbXNnLmNtcCh0aGlzLm4pID49IDApCiAgICByZXR1cm4gbXNnLnN1Yih0aGlzLm4pOwogIGVsc2UKICAgIHJldHVybiBtc2c7Cn07CgpFQy5wcm90b3R5cGUuc2lnbiA9IGZ1bmN0aW9uIHNpZ24obXNnLCBrZXksIGVuYywgb3B0aW9ucykgewogIGlmICh0eXBlb2YgZW5jID09PSAnb2JqZWN0JykgewogICAgb3B0aW9ucyA9IGVuYzsKICAgIGVuYyA9IG51bGw7CiAgfQogIGlmICghb3B0aW9ucykKICAgIG9wdGlvbnMgPSB7fTsKCiAga2V5ID0gdGhpcy5rZXlGcm9tUHJpdmF0ZShrZXksIGVuYyk7CiAgbXNnID0gdGhpcy5fdHJ1bmNhdGVUb04obmV3IEJOKG1zZywgMTYpKTsKCiAgLy8gWmVyby1leHRlbmQga2V5IHRvIHByb3ZpZGUgZW5vdWdoIGVudHJvcHkKICB2YXIgYnl0ZXMgPSB0aGlzLm4uYnl0ZUxlbmd0aCgpOwogIHZhciBia2V5ID0ga2V5LmdldFByaXZhdGUoKS50b0FycmF5KCdiZScsIGJ5dGVzKTsKCiAgLy8gWmVyby1leHRlbmQgbm9uY2UgdG8gaGF2ZSB0aGUgc2FtZSBieXRlIHNpemUgYXMgTgogIHZhciBub25jZSA9IG1zZy50b0FycmF5KCdiZScsIGJ5dGVzKTsKCiAgLy8gSW5zdGFudGlhdGUgSG1hY19EUkJHCiAgdmFyIGRyYmcgPSBuZXcgZWxsaXB0aWMuaG1hY0RSQkcoewogICAgaGFzaDogdGhpcy5oYXNoLAogICAgZW50cm9weTogYmtleSwKICAgIG5vbmNlOiBub25jZSwKICAgIHBlcnM6IG9wdGlvbnMucGVycywKICAgIHBlcnNFbmM6IG9wdGlvbnMucGVyc0VuYwogIH0pOwoKICAvLyBOdW1iZXIgb2YgYnl0ZXMgdG8gZ2VuZXJhdGUKICB2YXIgbnMxID0gdGhpcy5uLnN1YihuZXcgQk4oMSkpOwoKICBmb3IgKHZhciBpdGVyID0gMDsgdHJ1ZTsgaXRlcisrKSB7CiAgICB2YXIgayA9IG9wdGlvbnMuayA/CiAgICAgICAgb3B0aW9ucy5rKGl0ZXIpIDoKICAgICAgICBuZXcgQk4oZHJiZy5nZW5lcmF0ZSh0aGlzLm4uYnl0ZUxlbmd0aCgpKSk7CiAgICBrID0gdGhpcy5fdHJ1bmNhdGVUb04oaywgdHJ1ZSk7CiAgICBpZiAoay5jbXBuKDEpIDw9IDAgfHwgay5jbXAobnMxKSA+PSAwKQogICAgICBjb250aW51ZTsKCiAgICB2YXIga3AgPSB0aGlzLmcubXVsKGspOwogICAgaWYgKGtwLmlzSW5maW5pdHkoKSkKICAgICAgY29udGludWU7CgogICAgdmFyIGtwWCA9IGtwLmdldFgoKTsKICAgIHZhciByID0ga3BYLnVtb2QodGhpcy5uKTsKICAgIGlmIChyLmNtcG4oMCkgPT09IDApCiAgICAgIGNvbnRpbnVlOwoKICAgIHZhciBzID0gay5pbnZtKHRoaXMubikubXVsKHIubXVsKGtleS5nZXRQcml2YXRlKCkpLmlhZGQobXNnKSk7CiAgICBzID0gcy51bW9kKHRoaXMubik7CiAgICBpZiAocy5jbXBuKDApID09PSAwKQogICAgICBjb250aW51ZTsKCiAgICB2YXIgcmVjb3ZlcnlQYXJhbSA9IChrcC5nZXRZKCkuaXNPZGQoKSA/IDEgOiAwKSB8CiAgICAgICAgICAgICAgICAgICAgICAgIChrcFguY21wKHIpICE9PSAwID8gMiA6IDApOwoKICAgIC8vIFVzZSBjb21wbGVtZW50IG9mIGBzYCwgaWYgaXQgaXMgPiBgbiAvIDJgCiAgICBpZiAob3B0aW9ucy5jYW5vbmljYWwgJiYgcy5jbXAodGhpcy5uaCkgPiAwKSB7CiAgICAgIHMgPSB0aGlzLm4uc3ViKHMpOwogICAgICByZWNvdmVyeVBhcmFtIF49IDE7CiAgICB9CgogICAgcmV0dXJuIG5ldyBTaWduYXR1cmUoeyByOiByLCBzOiBzLCByZWNvdmVyeVBhcmFtOiByZWNvdmVyeVBhcmFtIH0pOwogIH0KfTsKCkVDLnByb3RvdHlwZS52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobXNnLCBzaWduYXR1cmUsIGtleSwgZW5jKSB7CiAgbXNnID0gdGhpcy5fdHJ1bmNhdGVUb04obmV3IEJOKG1zZywgMTYpKTsKICBrZXkgPSB0aGlzLmtleUZyb21QdWJsaWMoa2V5LCBlbmMpOwogIHNpZ25hdHVyZSA9IG5ldyBTaWduYXR1cmUoc2lnbmF0dXJlLCAnaGV4Jyk7CgogIC8vIFBlcmZvcm0gcHJpbWl0aXZlIHZhbHVlcyB2YWxpZGF0aW9uCiAgdmFyIHIgPSBzaWduYXR1cmUucjsKICB2YXIgcyA9IHNpZ25hdHVyZS5zOwogIGlmIChyLmNtcG4oMSkgPCAwIHx8IHIuY21wKHRoaXMubikgPj0gMCkKICAgIHJldHVybiBmYWxzZTsKICBpZiAocy5jbXBuKDEpIDwgMCB8fCBzLmNtcCh0aGlzLm4pID49IDApCiAgICByZXR1cm4gZmFsc2U7CgogIC8vIFZhbGlkYXRlIHNpZ25hdHVyZQogIHZhciBzaW52ID0gcy5pbnZtKHRoaXMubik7CiAgdmFyIHUxID0gc2ludi5tdWwobXNnKS51bW9kKHRoaXMubik7CiAgdmFyIHUyID0gc2ludi5tdWwocikudW1vZCh0aGlzLm4pOwoKICB2YXIgcCA9IHRoaXMuZy5tdWxBZGQodTEsIGtleS5nZXRQdWJsaWMoKSwgdTIpOwogIGlmIChwLmlzSW5maW5pdHkoKSkKICAgIHJldHVybiBmYWxzZTsKCiAgcmV0dXJuIHAuZ2V0WCgpLnVtb2QodGhpcy5uKS5jbXAocikgPT09IDA7Cn07CgpFQy5wcm90b3R5cGUucmVjb3ZlclB1YktleSA9IGZ1bmN0aW9uKG1zZywgc2lnbmF0dXJlLCBqLCBlbmMpIHsKICBhc3NlcnQoKDMgJiBqKSA9PT0gaiwgJ1RoZSByZWNvdmVyeSBwYXJhbSBpcyBtb3JlIHRoYW4gdHdvIGJpdHMnKTsKICBzaWduYXR1cmUgPSBuZXcgU2lnbmF0dXJlKHNpZ25hdHVyZSwgZW5jKTsKCiAgdmFyIG4gPSB0aGlzLm47CiAgdmFyIGUgPSBuZXcgQk4obXNnKTsKICB2YXIgciA9IHNpZ25hdHVyZS5yOwogIHZhciBzID0gc2lnbmF0dXJlLnM7CgogIC8vIEEgc2V0IExTQiBzaWduaWZpZXMgdGhhdCB0aGUgeS1jb29yZGluYXRlIGlzIG9kZAogIHZhciBpc1lPZGQgPSBqICYgMTsKICB2YXIgaXNTZWNvbmRLZXkgPSBqID4+IDE7CiAgaWYgKHIuY21wKHRoaXMuY3VydmUucC51bW9kKHRoaXMuY3VydmUubikpID49IDAgJiYgaXNTZWNvbmRLZXkpCiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBmaW5kIHNlbmNvbmQga2V5IGNhbmRpbmF0ZScpOwoKICAvLyAxLjEuIExldCB4ID0gciArIGpuLgogIGlmIChpc1NlY29uZEtleSkKICAgIHIgPSB0aGlzLmN1cnZlLnBvaW50RnJvbVgoci5hZGQodGhpcy5jdXJ2ZS5uKSwgaXNZT2RkKTsKICBlbHNlCiAgICByID0gdGhpcy5jdXJ2ZS5wb2ludEZyb21YKHIsIGlzWU9kZCk7CgogIHZhciBlTmVnID0gbi5zdWIoZSk7CgogIC8vIDEuNi4xIENvbXB1dGUgUSA9IHJeLTEgKHNSIC0gIGVHKQogIC8vICAgICAgICAgICAgICAgUSA9IHJeLTEgKHNSICsgLWVHKQogIHZhciBySW52ID0gc2lnbmF0dXJlLnIuaW52bShuKTsKICByZXR1cm4gdGhpcy5nLm11bEFkZChlTmVnLCByLCBzKS5tdWwockludik7Cn07CgpFQy5wcm90b3R5cGUuZ2V0S2V5UmVjb3ZlcnlQYXJhbSA9IGZ1bmN0aW9uKGUsIHNpZ25hdHVyZSwgUSwgZW5jKSB7CiAgc2lnbmF0dXJlID0gbmV3IFNpZ25hdHVyZShzaWduYXR1cmUsIGVuYyk7CiAgaWYgKHNpZ25hdHVyZS5yZWNvdmVyeVBhcmFtICE9PSBudWxsKQogICAgcmV0dXJuIHNpZ25hdHVyZS5yZWNvdmVyeVBhcmFtOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykgewogICAgdmFyIFFwcmltZTsKICAgIHRyeSB7CiAgICAgIFFwcmltZSA9IHRoaXMucmVjb3ZlclB1YktleShlLCBzaWduYXR1cmUsIGkpOwogICAgfSBjYXRjaCAoZSkgewogICAgICBjb250aW51ZTsKICAgIH0KCiAgICBpZiAoUXByaW1lLmVxKFEpKQogICAgICByZXR1cm4gaTsKICB9CiAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gZmluZCB2YWxpZCByZWNvdmVyeSBmYWN0b3InKTsKfTsKCn0seyIuLi8uLi9lbGxpcHRpYyI6MTAxLCIuL2tleSI6MTA5LCIuL3NpZ25hdHVyZSI6MTEwLCJibi5qcyI6NDJ9XSwxMDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7Cgp2YXIgQk4gPSByZXF1aXJlKCdibi5qcycpOwoKZnVuY3Rpb24gS2V5UGFpcihlYywgb3B0aW9ucykgewogIHRoaXMuZWMgPSBlYzsKICB0aGlzLnByaXYgPSBudWxsOwogIHRoaXMucHViID0gbnVsbDsKCiAgLy8gS2V5UGFpcihlYywgeyBwcml2OiAuLi4sIHB1YjogLi4uIH0pCiAgaWYgKG9wdGlvbnMucHJpdikKICAgIHRoaXMuX2ltcG9ydFByaXZhdGUob3B0aW9ucy5wcml2LCBvcHRpb25zLnByaXZFbmMpOwogIGlmIChvcHRpb25zLnB1YikKICAgIHRoaXMuX2ltcG9ydFB1YmxpYyhvcHRpb25zLnB1Yiwgb3B0aW9ucy5wdWJFbmMpOwp9Cm1vZHVsZS5leHBvcnRzID0gS2V5UGFpcjsKCktleVBhaXIuZnJvbVB1YmxpYyA9IGZ1bmN0aW9uIGZyb21QdWJsaWMoZWMsIHB1YiwgZW5jKSB7CiAgaWYgKHB1YiBpbnN0YW5jZW9mIEtleVBhaXIpCiAgICByZXR1cm4gcHViOwoKICByZXR1cm4gbmV3IEtleVBhaXIoZWMsIHsKICAgIHB1YjogcHViLAogICAgcHViRW5jOiBlbmMKICB9KTsKfTsKCktleVBhaXIuZnJvbVByaXZhdGUgPSBmdW5jdGlvbiBmcm9tUHJpdmF0ZShlYywgcHJpdiwgZW5jKSB7CiAgaWYgKHByaXYgaW5zdGFuY2VvZiBLZXlQYWlyKQogICAgcmV0dXJuIHByaXY7CgogIHJldHVybiBuZXcgS2V5UGFpcihlYywgewogICAgcHJpdjogcHJpdiwKICAgIHByaXZFbmM6IGVuYwogIH0pOwp9OwoKS2V5UGFpci5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbiB2YWxpZGF0ZSgpIHsKICB2YXIgcHViID0gdGhpcy5nZXRQdWJsaWMoKTsKCiAgaWYgKHB1Yi5pc0luZmluaXR5KCkpCiAgICByZXR1cm4geyByZXN1bHQ6IGZhbHNlLCByZWFzb246ICdJbnZhbGlkIHB1YmxpYyBrZXknIH07CiAgaWYgKCFwdWIudmFsaWRhdGUoKSkKICAgIHJldHVybiB7IHJlc3VsdDogZmFsc2UsIHJlYXNvbjogJ1B1YmxpYyBrZXkgaXMgbm90IGEgcG9pbnQnIH07CiAgaWYgKCFwdWIubXVsKHRoaXMuZWMuY3VydmUubikuaXNJbmZpbml0eSgpKQogICAgcmV0dXJuIHsgcmVzdWx0OiBmYWxzZSwgcmVhc29uOiAnUHVibGljIGtleSAqIE4gIT0gTycgfTsKCiAgcmV0dXJuIHsgcmVzdWx0OiB0cnVlLCByZWFzb246IG51bGwgfTsKfTsKCktleVBhaXIucHJvdG90eXBlLmdldFB1YmxpYyA9IGZ1bmN0aW9uIGdldFB1YmxpYyhjb21wYWN0LCBlbmMpIHsKICAvLyBjb21wYWN0IGlzIG9wdGlvbmFsIGFyZ3VtZW50CiAgaWYgKHR5cGVvZiBjb21wYWN0ID09PSAnc3RyaW5nJykgewogICAgZW5jID0gY29tcGFjdDsKICAgIGNvbXBhY3QgPSBudWxsOwogIH0KCiAgaWYgKCF0aGlzLnB1YikKICAgIHRoaXMucHViID0gdGhpcy5lYy5nLm11bCh0aGlzLnByaXYpOwoKICBpZiAoIWVuYykKICAgIHJldHVybiB0aGlzLnB1YjsKCiAgcmV0dXJuIHRoaXMucHViLmVuY29kZShlbmMsIGNvbXBhY3QpOwp9OwoKS2V5UGFpci5wcm90b3R5cGUuZ2V0UHJpdmF0ZSA9IGZ1bmN0aW9uIGdldFByaXZhdGUoZW5jKSB7CiAgaWYgKGVuYyA9PT0gJ2hleCcpCiAgICByZXR1cm4gdGhpcy5wcml2LnRvU3RyaW5nKDE2LCAyKTsKICBlbHNlCiAgICByZXR1cm4gdGhpcy5wcml2Owp9OwoKS2V5UGFpci5wcm90b3R5cGUuX2ltcG9ydFByaXZhdGUgPSBmdW5jdGlvbiBfaW1wb3J0UHJpdmF0ZShrZXksIGVuYykgewogIHRoaXMucHJpdiA9IG5ldyBCTihrZXksIGVuYyB8fCAxNik7CgogIC8vIEVuc3VyZSB0aGF0IHRoZSBwcml2IHdvbid0IGJlIGJpZ2dlciB0aGFuIG4sIG90aGVyd2lzZSB3ZSBtYXkgZmFpbAogIC8vIGluIGZpeGVkIG11bHRpcGxpY2F0aW9uIG1ldGhvZAogIHRoaXMucHJpdiA9IHRoaXMucHJpdi51bW9kKHRoaXMuZWMuY3VydmUubik7Cn07CgpLZXlQYWlyLnByb3RvdHlwZS5faW1wb3J0UHVibGljID0gZnVuY3Rpb24gX2ltcG9ydFB1YmxpYyhrZXksIGVuYykgewogIGlmIChrZXkueCB8fCBrZXkueSkgewogICAgdGhpcy5wdWIgPSB0aGlzLmVjLmN1cnZlLnBvaW50KGtleS54LCBrZXkueSk7CiAgICByZXR1cm47CiAgfQogIHRoaXMucHViID0gdGhpcy5lYy5jdXJ2ZS5kZWNvZGVQb2ludChrZXksIGVuYyk7Cn07CgovLyBFQ0RICktleVBhaXIucHJvdG90eXBlLmRlcml2ZSA9IGZ1bmN0aW9uIGRlcml2ZShwdWIpIHsKICByZXR1cm4gcHViLm11bCh0aGlzLnByaXYpLmdldFgoKTsKfTsKCi8vIEVDRFNBCktleVBhaXIucHJvdG90eXBlLnNpZ24gPSBmdW5jdGlvbiBzaWduKG1zZywgZW5jLCBvcHRpb25zKSB7CiAgcmV0dXJuIHRoaXMuZWMuc2lnbihtc2csIHRoaXMsIGVuYywgb3B0aW9ucyk7Cn07CgpLZXlQYWlyLnByb3RvdHlwZS52ZXJpZnkgPSBmdW5jdGlvbiB2ZXJpZnkobXNnLCBzaWduYXR1cmUpIHsKICByZXR1cm4gdGhpcy5lYy52ZXJpZnkobXNnLCBzaWduYXR1cmUsIHRoaXMpOwp9OwoKS2V5UGFpci5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uIGluc3BlY3QoKSB7CiAgcmV0dXJuICc8S2V5IHByaXY6ICcgKyAodGhpcy5wcml2ICYmIHRoaXMucHJpdi50b1N0cmluZygxNiwgMikpICsKICAgICAgICAgJyBwdWI6ICcgKyAodGhpcy5wdWIgJiYgdGhpcy5wdWIuaW5zcGVjdCgpKSArICcgPic7Cn07Cgp9LHsiYm4uanMiOjQyfV0sMTEwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKdmFyIEJOID0gcmVxdWlyZSgnYm4uanMnKTsKCnZhciBlbGxpcHRpYyA9IHJlcXVpcmUoJy4uLy4uL2VsbGlwdGljJyk7CnZhciB1dGlscyA9IGVsbGlwdGljLnV0aWxzOwp2YXIgYXNzZXJ0ID0gdXRpbHMuYXNzZXJ0OwoKZnVuY3Rpb24gU2lnbmF0dXJlKG9wdGlvbnMsIGVuYykgewogIGlmIChvcHRpb25zIGluc3RhbmNlb2YgU2lnbmF0dXJlKQogICAgcmV0dXJuIG9wdGlvbnM7CgogIGlmICh0aGlzLl9pbXBvcnRERVIob3B0aW9ucywgZW5jKSkKICAgIHJldHVybjsKCiAgYXNzZXJ0KG9wdGlvbnMuciAmJiBvcHRpb25zLnMsICdTaWduYXR1cmUgd2l0aG91dCByIG9yIHMnKTsKICB0aGlzLnIgPSBuZXcgQk4ob3B0aW9ucy5yLCAxNik7CiAgdGhpcy5zID0gbmV3IEJOKG9wdGlvbnMucywgMTYpOwogIGlmIChvcHRpb25zLnJlY292ZXJ5UGFyYW0gPT09IHVuZGVmaW5lZCkKICAgIHRoaXMucmVjb3ZlcnlQYXJhbSA9IG51bGw7CiAgZWxzZQogICAgdGhpcy5yZWNvdmVyeVBhcmFtID0gb3B0aW9ucy5yZWNvdmVyeVBhcmFtOwp9Cm1vZHVsZS5leHBvcnRzID0gU2lnbmF0dXJlOwoKZnVuY3Rpb24gUG9zaXRpb24oKSB7CiAgdGhpcy5wbGFjZSA9IDA7Cn0KCmZ1bmN0aW9uIGdldExlbmd0aChidWYsIHApIHsKICB2YXIgaW5pdGlhbCA9IGJ1ZltwLnBsYWNlKytdOwogIGlmICghKGluaXRpYWwgJiAweDgwKSkgewogICAgcmV0dXJuIGluaXRpYWw7CiAgfQogIHZhciBvY3RldExlbiA9IGluaXRpYWwgJiAweGY7CiAgdmFyIHZhbCA9IDA7CiAgZm9yICh2YXIgaSA9IDAsIG9mZiA9IHAucGxhY2U7IGkgPCBvY3RldExlbjsgaSsrLCBvZmYrKykgewogICAgdmFsIDw8PSA4OwogICAgdmFsIHw9IGJ1ZltvZmZdOwogIH0KICBwLnBsYWNlID0gb2ZmOwogIHJldHVybiB2YWw7Cn0KCmZ1bmN0aW9uIHJtUGFkZGluZyhidWYpIHsKICB2YXIgaSA9IDA7CiAgdmFyIGxlbiA9IGJ1Zi5sZW5ndGggLSAxOwogIHdoaWxlICghYnVmW2ldICYmICEoYnVmW2kgKyAxXSAmIDB4ODApICYmIGkgPCBsZW4pIHsKICAgIGkrKzsKICB9CiAgaWYgKGkgPT09IDApIHsKICAgIHJldHVybiBidWY7CiAgfQogIHJldHVybiBidWYuc2xpY2UoaSk7Cn0KClNpZ25hdHVyZS5wcm90b3R5cGUuX2ltcG9ydERFUiA9IGZ1bmN0aW9uIF9pbXBvcnRERVIoZGF0YSwgZW5jKSB7CiAgZGF0YSA9IHV0aWxzLnRvQXJyYXkoZGF0YSwgZW5jKTsKICB2YXIgcCA9IG5ldyBQb3NpdGlvbigpOwogIGlmIChkYXRhW3AucGxhY2UrK10gIT09IDB4MzApIHsKICAgIHJldHVybiBmYWxzZTsKICB9CiAgdmFyIGxlbiA9IGdldExlbmd0aChkYXRhLCBwKTsKICBpZiAoKGxlbiArIHAucGxhY2UpICE9PSBkYXRhLmxlbmd0aCkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KICBpZiAoZGF0YVtwLnBsYWNlKytdICE9PSAweDAyKSB7CiAgICByZXR1cm4gZmFsc2U7CiAgfQogIHZhciBybGVuID0gZ2V0TGVuZ3RoKGRhdGEsIHApOwogIHZhciByID0gZGF0YS5zbGljZShwLnBsYWNlLCBybGVuICsgcC5wbGFjZSk7CiAgcC5wbGFjZSArPSBybGVuOwogIGlmIChkYXRhW3AucGxhY2UrK10gIT09IDB4MDIpIHsKICAgIHJldHVybiBmYWxzZTsKICB9CiAgdmFyIHNsZW4gPSBnZXRMZW5ndGgoZGF0YSwgcCk7CiAgaWYgKGRhdGEubGVuZ3RoICE9PSBzbGVuICsgcC5wbGFjZSkgewogICAgcmV0dXJuIGZhbHNlOwogIH0KICB2YXIgcyA9IGRhdGEuc2xpY2UocC5wbGFjZSwgc2xlbiArIHAucGxhY2UpOwogIGlmIChyWzBdID09PSAwICYmIChyWzFdICYgMHg4MCkpIHsKICAgIHIgPSByLnNsaWNlKDEpOwogIH0KICBpZiAoc1swXSA9PT0gMCAmJiAoc1sxXSAmIDB4ODApKSB7CiAgICBzID0gcy5zbGljZSgxKTsKICB9CgogIHRoaXMuciA9IG5ldyBCTihyKTsKICB0aGlzLnMgPSBuZXcgQk4ocyk7CiAgdGhpcy5yZWNvdmVyeVBhcmFtID0gbnVsbDsKCiAgcmV0dXJuIHRydWU7Cn07CgpmdW5jdGlvbiBjb25zdHJ1Y3RMZW5ndGgoYXJyLCBsZW4pIHsKICBpZiAobGVuIDwgMHg4MCkgewogICAgYXJyLnB1c2gobGVuKTsKICAgIHJldHVybjsKICB9CiAgdmFyIG9jdGV0cyA9IDEgKyAoTWF0aC5sb2cobGVuKSAvIE1hdGguTE4yID4+PiAzKTsKICBhcnIucHVzaChvY3RldHMgfCAweDgwKTsKICB3aGlsZSAoLS1vY3RldHMpIHsKICAgIGFyci5wdXNoKChsZW4gPj4+IChvY3RldHMgPDwgMykpICYgMHhmZik7CiAgfQogIGFyci5wdXNoKGxlbik7Cn0KClNpZ25hdHVyZS5wcm90b3R5cGUudG9ERVIgPSBmdW5jdGlvbiB0b0RFUihlbmMpIHsKICB2YXIgciA9IHRoaXMuci50b0FycmF5KCk7CiAgdmFyIHMgPSB0aGlzLnMudG9BcnJheSgpOwoKICAvLyBQYWQgdmFsdWVzCiAgaWYgKHJbMF0gJiAweDgwKQogICAgciA9IFsgMCBdLmNvbmNhdChyKTsKICAvLyBQYWQgdmFsdWVzCiAgaWYgKHNbMF0gJiAweDgwKQogICAgcyA9IFsgMCBdLmNvbmNhdChzKTsKCiAgciA9IHJtUGFkZGluZyhyKTsKICBzID0gcm1QYWRkaW5nKHMpOwoKICB3aGlsZSAoIXNbMF0gJiYgIShzWzFdICYgMHg4MCkpIHsKICAgIHMgPSBzLnNsaWNlKDEpOwogIH0KICB2YXIgYXJyID0gWyAweDAyIF07CiAgY29uc3RydWN0TGVuZ3RoKGFyciwgci5sZW5ndGgpOwogIGFyciA9IGFyci5jb25jYXQocik7CiAgYXJyLnB1c2goMHgwMik7CiAgY29uc3RydWN0TGVuZ3RoKGFyciwgcy5sZW5ndGgpOwogIHZhciBiYWNrSGFsZiA9IGFyci5jb25jYXQocyk7CiAgdmFyIHJlcyA9IFsgMHgzMCBdOwogIGNvbnN0cnVjdExlbmd0aChyZXMsIGJhY2tIYWxmLmxlbmd0aCk7CiAgcmVzID0gcmVzLmNvbmNhdChiYWNrSGFsZik7CiAgcmV0dXJuIHV0aWxzLmVuY29kZShyZXMsIGVuYyk7Cn07Cgp9LHsiLi4vLi4vZWxsaXB0aWMiOjEwMSwiYm4uanMiOjQyfV0sMTExOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKdmFyIGhhc2ggPSByZXF1aXJlKCdoYXNoLmpzJyk7CnZhciBlbGxpcHRpYyA9IHJlcXVpcmUoJy4uLy4uL2VsbGlwdGljJyk7CnZhciB1dGlscyA9IGVsbGlwdGljLnV0aWxzOwp2YXIgYXNzZXJ0ID0gdXRpbHMuYXNzZXJ0Owp2YXIgcGFyc2VCeXRlcyA9IHV0aWxzLnBhcnNlQnl0ZXM7CnZhciBLZXlQYWlyID0gcmVxdWlyZSgnLi9rZXknKTsKdmFyIFNpZ25hdHVyZSA9IHJlcXVpcmUoJy4vc2lnbmF0dXJlJyk7CgpmdW5jdGlvbiBFRERTQShjdXJ2ZSkgewogIGFzc2VydChjdXJ2ZSA9PT0gJ2VkMjU1MTknLCAnb25seSB0ZXN0ZWQgd2l0aCBlZDI1NTE5IHNvIGZhcicpOwoKICBpZiAoISh0aGlzIGluc3RhbmNlb2YgRUREU0EpKQogICAgcmV0dXJuIG5ldyBFRERTQShjdXJ2ZSk7CgogIHZhciBjdXJ2ZSA9IGVsbGlwdGljLmN1cnZlc1tjdXJ2ZV0uY3VydmU7CiAgdGhpcy5jdXJ2ZSA9IGN1cnZlOwogIHRoaXMuZyA9IGN1cnZlLmc7CiAgdGhpcy5nLnByZWNvbXB1dGUoY3VydmUubi5iaXRMZW5ndGgoKSArIDEpOwoKICB0aGlzLnBvaW50Q2xhc3MgPSBjdXJ2ZS5wb2ludCgpLmNvbnN0cnVjdG9yOwogIHRoaXMuZW5jb2RpbmdMZW5ndGggPSBNYXRoLmNlaWwoY3VydmUubi5iaXRMZW5ndGgoKSAvIDgpOwogIHRoaXMuaGFzaCA9IGhhc2guc2hhNTEyOwp9Cgptb2R1bGUuZXhwb3J0cyA9IEVERFNBOwoKLyoqCiogQHBhcmFtIHtBcnJheXxTdHJpbmd9IG1lc3NhZ2UgLSBtZXNzYWdlIGJ5dGVzCiogQHBhcmFtIHtBcnJheXxTdHJpbmd8S2V5UGFpcn0gc2VjcmV0IC0gc2VjcmV0IGJ5dGVzIG9yIGEga2V5cGFpcgoqIEByZXR1cm5zIHtTaWduYXR1cmV9IC0gc2lnbmF0dXJlCiovCkVERFNBLnByb3RvdHlwZS5zaWduID0gZnVuY3Rpb24gc2lnbihtZXNzYWdlLCBzZWNyZXQpIHsKICBtZXNzYWdlID0gcGFyc2VCeXRlcyhtZXNzYWdlKTsKICB2YXIga2V5ID0gdGhpcy5rZXlGcm9tU2VjcmV0KHNlY3JldCk7CiAgdmFyIHIgPSB0aGlzLmhhc2hJbnQoa2V5Lm1lc3NhZ2VQcmVmaXgoKSwgbWVzc2FnZSk7CiAgdmFyIFIgPSB0aGlzLmcubXVsKHIpOwogIHZhciBSZW5jb2RlZCA9IHRoaXMuZW5jb2RlUG9pbnQoUik7CiAgdmFyIHNfID0gdGhpcy5oYXNoSW50KFJlbmNvZGVkLCBrZXkucHViQnl0ZXMoKSwgbWVzc2FnZSkKICAgICAgICAgICAgICAgLm11bChrZXkucHJpdigpKTsKICB2YXIgUyA9IHIuYWRkKHNfKS51bW9kKHRoaXMuY3VydmUubik7CiAgcmV0dXJuIHRoaXMubWFrZVNpZ25hdHVyZSh7IFI6IFIsIFM6IFMsIFJlbmNvZGVkOiBSZW5jb2RlZCB9KTsKfTsKCi8qKgoqIEBwYXJhbSB7QXJyYXl9IG1lc3NhZ2UgLSBtZXNzYWdlIGJ5dGVzCiogQHBhcmFtIHtBcnJheXxTdHJpbmd8U2lnbmF0dXJlfSBzaWcgLSBzaWcgYnl0ZXMKKiBAcGFyYW0ge0FycmF5fFN0cmluZ3xQb2ludHxLZXlQYWlyfSBwdWIgLSBwdWJsaWMga2V5CiogQHJldHVybnMge0Jvb2xlYW59IC0gdHJ1ZSBpZiBwdWJsaWMga2V5IG1hdGNoZXMgc2lnIG9mIG1lc3NhZ2UKKi8KRUREU0EucHJvdG90eXBlLnZlcmlmeSA9IGZ1bmN0aW9uIHZlcmlmeShtZXNzYWdlLCBzaWcsIHB1YikgewogIG1lc3NhZ2UgPSBwYXJzZUJ5dGVzKG1lc3NhZ2UpOwogIHNpZyA9IHRoaXMubWFrZVNpZ25hdHVyZShzaWcpOwogIHZhciBrZXkgPSB0aGlzLmtleUZyb21QdWJsaWMocHViKTsKICB2YXIgaCA9IHRoaXMuaGFzaEludChzaWcuUmVuY29kZWQoKSwga2V5LnB1YkJ5dGVzKCksIG1lc3NhZ2UpOwogIHZhciBTRyA9IHRoaXMuZy5tdWwoc2lnLlMoKSk7CiAgdmFyIFJwbHVzQWggPSBzaWcuUigpLmFkZChrZXkucHViKCkubXVsKGgpKTsKICByZXR1cm4gUnBsdXNBaC5lcShTRyk7Cn07CgpFRERTQS5wcm90b3R5cGUuaGFzaEludCA9IGZ1bmN0aW9uIGhhc2hJbnQoKSB7CiAgdmFyIGhhc2ggPSB0aGlzLmhhc2goKTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykKICAgIGhhc2gudXBkYXRlKGFyZ3VtZW50c1tpXSk7CiAgcmV0dXJuIHV0aWxzLmludEZyb21MRShoYXNoLmRpZ2VzdCgpKS51bW9kKHRoaXMuY3VydmUubik7Cn07CgpFRERTQS5wcm90b3R5cGUua2V5RnJvbVB1YmxpYyA9IGZ1bmN0aW9uIGtleUZyb21QdWJsaWMocHViKSB7CiAgcmV0dXJuIEtleVBhaXIuZnJvbVB1YmxpYyh0aGlzLCBwdWIpOwp9OwoKRUREU0EucHJvdG90eXBlLmtleUZyb21TZWNyZXQgPSBmdW5jdGlvbiBrZXlGcm9tU2VjcmV0KHNlY3JldCkgewogIHJldHVybiBLZXlQYWlyLmZyb21TZWNyZXQodGhpcywgc2VjcmV0KTsKfTsKCkVERFNBLnByb3RvdHlwZS5tYWtlU2lnbmF0dXJlID0gZnVuY3Rpb24gbWFrZVNpZ25hdHVyZShzaWcpIHsKICBpZiAoc2lnIGluc3RhbmNlb2YgU2lnbmF0dXJlKQogICAgcmV0dXJuIHNpZzsKICByZXR1cm4gbmV3IFNpZ25hdHVyZSh0aGlzLCBzaWcpOwp9OwoKLyoqCiogKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtam9zZWZzc29uLWVkZHNhLWVkMjU1MTktMDMjc2VjdGlvbi01LjIKKgoqIEVERFNBIGRlZmluZXMgbWV0aG9kcyBmb3IgZW5jb2RpbmcgYW5kIGRlY29kaW5nIHBvaW50cyBhbmQgaW50ZWdlcnMuIFRoZXNlIGFyZQoqIGhlbHBlciBjb252ZW5pZW5jZSBtZXRob2RzLCB0aGF0IHBhc3MgYWxvbmcgdG8gdXRpbGl0eSBmdW5jdGlvbnMgaW1wbGllZAoqIHBhcmFtZXRlcnMuCioKKi8KRUREU0EucHJvdG90eXBlLmVuY29kZVBvaW50ID0gZnVuY3Rpb24gZW5jb2RlUG9pbnQocG9pbnQpIHsKICB2YXIgZW5jID0gcG9pbnQuZ2V0WSgpLnRvQXJyYXkoJ2xlJywgdGhpcy5lbmNvZGluZ0xlbmd0aCk7CiAgZW5jW3RoaXMuZW5jb2RpbmdMZW5ndGggLSAxXSB8PSBwb2ludC5nZXRYKCkuaXNPZGQoKSA/IDB4ODAgOiAwOwogIHJldHVybiBlbmM7Cn07CgpFRERTQS5wcm90b3R5cGUuZGVjb2RlUG9pbnQgPSBmdW5jdGlvbiBkZWNvZGVQb2ludChieXRlcykgewogIGJ5dGVzID0gdXRpbHMucGFyc2VCeXRlcyhieXRlcyk7CgogIHZhciBsYXN0SXggPSBieXRlcy5sZW5ndGggLSAxOwogIHZhciBub3JtZWQgPSBieXRlcy5zbGljZSgwLCBsYXN0SXgpLmNvbmNhdChieXRlc1tsYXN0SXhdICYgfjB4ODApOwogIHZhciB4SXNPZGQgPSAoYnl0ZXNbbGFzdEl4XSAmIDB4ODApICE9PSAwOwoKICB2YXIgeSA9IHV0aWxzLmludEZyb21MRShub3JtZWQpOwogIHJldHVybiB0aGlzLmN1cnZlLnBvaW50RnJvbVkoeSwgeElzT2RkKTsKfTsKCkVERFNBLnByb3RvdHlwZS5lbmNvZGVJbnQgPSBmdW5jdGlvbiBlbmNvZGVJbnQobnVtKSB7CiAgcmV0dXJuIG51bS50b0FycmF5KCdsZScsIHRoaXMuZW5jb2RpbmdMZW5ndGgpOwp9OwoKRUREU0EucHJvdG90eXBlLmRlY29kZUludCA9IGZ1bmN0aW9uIGRlY29kZUludChieXRlcykgewogIHJldHVybiB1dGlscy5pbnRGcm9tTEUoYnl0ZXMpOwp9OwoKRUREU0EucHJvdG90eXBlLmlzUG9pbnQgPSBmdW5jdGlvbiBpc1BvaW50KHZhbCkgewogIHJldHVybiB2YWwgaW5zdGFuY2VvZiB0aGlzLnBvaW50Q2xhc3M7Cn07Cgp9LHsiLi4vLi4vZWxsaXB0aWMiOjEwMSwiLi9rZXkiOjExMiwiLi9zaWduYXR1cmUiOjExMywiaGFzaC5qcyI6MTIwfV0sMTEyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKdmFyIGVsbGlwdGljID0gcmVxdWlyZSgnLi4vLi4vZWxsaXB0aWMnKTsKdmFyIHV0aWxzID0gZWxsaXB0aWMudXRpbHM7CnZhciBhc3NlcnQgPSB1dGlscy5hc3NlcnQ7CnZhciBwYXJzZUJ5dGVzID0gdXRpbHMucGFyc2VCeXRlczsKdmFyIGNhY2hlZFByb3BlcnR5ID0gdXRpbHMuY2FjaGVkUHJvcGVydHk7CgovKioKKiBAcGFyYW0ge0VERFNBfSBlZGRzYSAtIGluc3RhbmNlCiogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIHB1YmxpYy9wcml2YXRlIGtleSBwYXJhbWV0ZXJzCioKKiBAcGFyYW0ge0FycmF5PEJ5dGU+fSBbcGFyYW1zLnNlY3JldF0gLSBzZWNyZXQgc2VlZCBieXRlcwoqIEBwYXJhbSB7UG9pbnR9IFtwYXJhbXMucHViXSAtIHB1YmxpYyBrZXkgcG9pbnQgKGFrYSBgQWAgaW4gZWRkc2EgdGVybXMpCiogQHBhcmFtIHtBcnJheTxCeXRlPn0gW3BhcmFtcy5wdWJdIC0gcHVibGljIGtleSBwb2ludCBlbmNvZGVkIGFzIGJ5dGVzCioKKi8KZnVuY3Rpb24gS2V5UGFpcihlZGRzYSwgcGFyYW1zKSB7CiAgdGhpcy5lZGRzYSA9IGVkZHNhOwogIHRoaXMuX3NlY3JldCA9IHBhcnNlQnl0ZXMocGFyYW1zLnNlY3JldCk7CiAgaWYgKGVkZHNhLmlzUG9pbnQocGFyYW1zLnB1YikpCiAgICB0aGlzLl9wdWIgPSBwYXJhbXMucHViOwogIGVsc2UKICAgIHRoaXMuX3B1YkJ5dGVzID0gcGFyc2VCeXRlcyhwYXJhbXMucHViKTsKfQoKS2V5UGFpci5mcm9tUHVibGljID0gZnVuY3Rpb24gZnJvbVB1YmxpYyhlZGRzYSwgcHViKSB7CiAgaWYgKHB1YiBpbnN0YW5jZW9mIEtleVBhaXIpCiAgICByZXR1cm4gcHViOwogIHJldHVybiBuZXcgS2V5UGFpcihlZGRzYSwgeyBwdWI6IHB1YiB9KTsKfTsKCktleVBhaXIuZnJvbVNlY3JldCA9IGZ1bmN0aW9uIGZyb21TZWNyZXQoZWRkc2EsIHNlY3JldCkgewogIGlmIChzZWNyZXQgaW5zdGFuY2VvZiBLZXlQYWlyKQogICAgcmV0dXJuIHNlY3JldDsKICByZXR1cm4gbmV3IEtleVBhaXIoZWRkc2EsIHsgc2VjcmV0OiBzZWNyZXQgfSk7Cn07CgpLZXlQYWlyLnByb3RvdHlwZS5zZWNyZXQgPSBmdW5jdGlvbiBzZWNyZXQoKSB7CiAgcmV0dXJuIHRoaXMuX3NlY3JldDsKfTsKCmNhY2hlZFByb3BlcnR5KEtleVBhaXIsIGZ1bmN0aW9uIHB1YkJ5dGVzKCkgewogIHJldHVybiB0aGlzLmVkZHNhLmVuY29kZVBvaW50KHRoaXMucHViKCkpOwp9KTsKCmNhY2hlZFByb3BlcnR5KEtleVBhaXIsIGZ1bmN0aW9uIHB1YigpIHsKICBpZiAodGhpcy5fcHViQnl0ZXMpCiAgICByZXR1cm4gdGhpcy5lZGRzYS5kZWNvZGVQb2ludCh0aGlzLl9wdWJCeXRlcyk7CiAgcmV0dXJuIHRoaXMuZWRkc2EuZy5tdWwodGhpcy5wcml2KCkpOwp9KTsKCmNhY2hlZFByb3BlcnR5KEtleVBhaXIsIGZ1bmN0aW9uIHByaXZCeXRlcygpIHsKICB2YXIgZWRkc2EgPSB0aGlzLmVkZHNhOwogIHZhciBoYXNoID0gdGhpcy5oYXNoKCk7CiAgdmFyIGxhc3RJeCA9IGVkZHNhLmVuY29kaW5nTGVuZ3RoIC0gMTsKCiAgdmFyIGEgPSBoYXNoLnNsaWNlKDAsIGVkZHNhLmVuY29kaW5nTGVuZ3RoKTsKICBhWzBdICY9IDI0ODsKICBhW2xhc3RJeF0gJj0gMTI3OwogIGFbbGFzdEl4XSB8PSA2NDsKCiAgcmV0dXJuIGE7Cn0pOwoKY2FjaGVkUHJvcGVydHkoS2V5UGFpciwgZnVuY3Rpb24gcHJpdigpIHsKICByZXR1cm4gdGhpcy5lZGRzYS5kZWNvZGVJbnQodGhpcy5wcml2Qnl0ZXMoKSk7Cn0pOwoKY2FjaGVkUHJvcGVydHkoS2V5UGFpciwgZnVuY3Rpb24gaGFzaCgpIHsKICByZXR1cm4gdGhpcy5lZGRzYS5oYXNoKCkudXBkYXRlKHRoaXMuc2VjcmV0KCkpLmRpZ2VzdCgpOwp9KTsKCmNhY2hlZFByb3BlcnR5KEtleVBhaXIsIGZ1bmN0aW9uIG1lc3NhZ2VQcmVmaXgoKSB7CiAgcmV0dXJuIHRoaXMuaGFzaCgpLnNsaWNlKHRoaXMuZWRkc2EuZW5jb2RpbmdMZW5ndGgpOwp9KTsKCktleVBhaXIucHJvdG90eXBlLnNpZ24gPSBmdW5jdGlvbiBzaWduKG1lc3NhZ2UpIHsKICBhc3NlcnQodGhpcy5fc2VjcmV0LCAnS2V5UGFpciBjYW4gb25seSB2ZXJpZnknKTsKICByZXR1cm4gdGhpcy5lZGRzYS5zaWduKG1lc3NhZ2UsIHRoaXMpOwp9OwoKS2V5UGFpci5wcm90b3R5cGUudmVyaWZ5ID0gZnVuY3Rpb24gdmVyaWZ5KG1lc3NhZ2UsIHNpZykgewogIHJldHVybiB0aGlzLmVkZHNhLnZlcmlmeShtZXNzYWdlLCBzaWcsIHRoaXMpOwp9OwoKS2V5UGFpci5wcm90b3R5cGUuZ2V0U2VjcmV0ID0gZnVuY3Rpb24gZ2V0U2VjcmV0KGVuYykgewogIGFzc2VydCh0aGlzLl9zZWNyZXQsICdLZXlQYWlyIGlzIHB1YmxpYyBvbmx5Jyk7CiAgcmV0dXJuIHV0aWxzLmVuY29kZSh0aGlzLnNlY3JldCgpLCBlbmMpOwp9OwoKS2V5UGFpci5wcm90b3R5cGUuZ2V0UHVibGljID0gZnVuY3Rpb24gZ2V0UHVibGljKGVuYykgewogIHJldHVybiB1dGlscy5lbmNvZGUodGhpcy5wdWJCeXRlcygpLCBlbmMpOwp9OwoKbW9kdWxlLmV4cG9ydHMgPSBLZXlQYWlyOwoKfSx7Ii4uLy4uL2VsbGlwdGljIjoxMDF9XSwxMTM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7Cgp2YXIgQk4gPSByZXF1aXJlKCdibi5qcycpOwp2YXIgZWxsaXB0aWMgPSByZXF1aXJlKCcuLi8uLi9lbGxpcHRpYycpOwp2YXIgdXRpbHMgPSBlbGxpcHRpYy51dGlsczsKdmFyIGFzc2VydCA9IHV0aWxzLmFzc2VydDsKdmFyIGNhY2hlZFByb3BlcnR5ID0gdXRpbHMuY2FjaGVkUHJvcGVydHk7CnZhciBwYXJzZUJ5dGVzID0gdXRpbHMucGFyc2VCeXRlczsKCi8qKgoqIEBwYXJhbSB7RUREU0F9IGVkZHNhIC0gZWRkc2EgaW5zdGFuY2UKKiBAcGFyYW0ge0FycmF5PEJ5dGVzPnxPYmplY3R9IHNpZyAtCiogQHBhcmFtIHtBcnJheTxCeXRlcz58UG9pbnR9IFtzaWcuUl0gLSBSIHBvaW50IGFzIFBvaW50IG9yIGJ5dGVzCiogQHBhcmFtIHtBcnJheTxCeXRlcz58Ym59IFtzaWcuU10gLSBTIHNjYWxhciBhcyBibiBvciBieXRlcwoqIEBwYXJhbSB7QXJyYXk8Qnl0ZXM+fSBbc2lnLlJlbmNvZGVkXSAtIFIgcG9pbnQgZW5jb2RlZAoqIEBwYXJhbSB7QXJyYXk8Qnl0ZXM+fSBbc2lnLlNlbmNvZGVkXSAtIFMgc2NhbGFyIGVuY29kZWQKKi8KZnVuY3Rpb24gU2lnbmF0dXJlKGVkZHNhLCBzaWcpIHsKICB0aGlzLmVkZHNhID0gZWRkc2E7CgogIGlmICh0eXBlb2Ygc2lnICE9PSAnb2JqZWN0JykKICAgIHNpZyA9IHBhcnNlQnl0ZXMoc2lnKTsKCiAgaWYgKEFycmF5LmlzQXJyYXkoc2lnKSkgewogICAgc2lnID0gewogICAgICBSOiBzaWcuc2xpY2UoMCwgZWRkc2EuZW5jb2RpbmdMZW5ndGgpLAogICAgICBTOiBzaWcuc2xpY2UoZWRkc2EuZW5jb2RpbmdMZW5ndGgpCiAgICB9OwogIH0KCiAgYXNzZXJ0KHNpZy5SICYmIHNpZy5TLCAnU2lnbmF0dXJlIHdpdGhvdXQgUiBvciBTJyk7CgogIGlmIChlZGRzYS5pc1BvaW50KHNpZy5SKSkKICAgIHRoaXMuX1IgPSBzaWcuUjsKICBpZiAoc2lnLlMgaW5zdGFuY2VvZiBCTikKICAgIHRoaXMuX1MgPSBzaWcuUzsKCiAgdGhpcy5fUmVuY29kZWQgPSBBcnJheS5pc0FycmF5KHNpZy5SKSA/IHNpZy5SIDogc2lnLlJlbmNvZGVkOwogIHRoaXMuX1NlbmNvZGVkID0gQXJyYXkuaXNBcnJheShzaWcuUykgPyBzaWcuUyA6IHNpZy5TZW5jb2RlZDsKfQoKY2FjaGVkUHJvcGVydHkoU2lnbmF0dXJlLCBmdW5jdGlvbiBTKCkgewogIHJldHVybiB0aGlzLmVkZHNhLmRlY29kZUludCh0aGlzLlNlbmNvZGVkKCkpOwp9KTsKCmNhY2hlZFByb3BlcnR5KFNpZ25hdHVyZSwgZnVuY3Rpb24gUigpIHsKICByZXR1cm4gdGhpcy5lZGRzYS5kZWNvZGVQb2ludCh0aGlzLlJlbmNvZGVkKCkpOwp9KTsKCmNhY2hlZFByb3BlcnR5KFNpZ25hdHVyZSwgZnVuY3Rpb24gUmVuY29kZWQoKSB7CiAgcmV0dXJuIHRoaXMuZWRkc2EuZW5jb2RlUG9pbnQodGhpcy5SKCkpOwp9KTsKCmNhY2hlZFByb3BlcnR5KFNpZ25hdHVyZSwgZnVuY3Rpb24gU2VuY29kZWQoKSB7CiAgcmV0dXJuIHRoaXMuZWRkc2EuZW5jb2RlSW50KHRoaXMuUygpKTsKfSk7CgpTaWduYXR1cmUucHJvdG90eXBlLnRvQnl0ZXMgPSBmdW5jdGlvbiB0b0J5dGVzKCkgewogIHJldHVybiB0aGlzLlJlbmNvZGVkKCkuY29uY2F0KHRoaXMuU2VuY29kZWQoKSk7Cn07CgpTaWduYXR1cmUucHJvdG90eXBlLnRvSGV4ID0gZnVuY3Rpb24gdG9IZXgoKSB7CiAgcmV0dXJuIHV0aWxzLmVuY29kZSh0aGlzLnRvQnl0ZXMoKSwgJ2hleCcpLnRvVXBwZXJDYXNlKCk7Cn07Cgptb2R1bGUuZXhwb3J0cyA9IFNpZ25hdHVyZTsKCn0seyIuLi8uLi9lbGxpcHRpYyI6MTAxLCJibi5qcyI6NDJ9XSwxMTQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7Cgp2YXIgaGFzaCA9IHJlcXVpcmUoJ2hhc2guanMnKTsKdmFyIGVsbGlwdGljID0gcmVxdWlyZSgnLi4vZWxsaXB0aWMnKTsKdmFyIHV0aWxzID0gZWxsaXB0aWMudXRpbHM7CnZhciBhc3NlcnQgPSB1dGlscy5hc3NlcnQ7CgpmdW5jdGlvbiBIbWFjRFJCRyhvcHRpb25zKSB7CiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEhtYWNEUkJHKSkKICAgIHJldHVybiBuZXcgSG1hY0RSQkcob3B0aW9ucyk7CiAgdGhpcy5oYXNoID0gb3B0aW9ucy5oYXNoOwogIHRoaXMucHJlZFJlc2lzdCA9ICEhb3B0aW9ucy5wcmVkUmVzaXN0OwoKICB0aGlzLm91dExlbiA9IHRoaXMuaGFzaC5vdXRTaXplOwogIHRoaXMubWluRW50cm9weSA9IG9wdGlvbnMubWluRW50cm9weSB8fCB0aGlzLmhhc2guaG1hY1N0cmVuZ3RoOwoKICB0aGlzLnJlc2VlZCA9IG51bGw7CiAgdGhpcy5yZXNlZWRJbnRlcnZhbCA9IG51bGw7CiAgdGhpcy5LID0gbnVsbDsKICB0aGlzLlYgPSBudWxsOwoKICB2YXIgZW50cm9weSA9IHV0aWxzLnRvQXJyYXkob3B0aW9ucy5lbnRyb3B5LCBvcHRpb25zLmVudHJvcHlFbmMpOwogIHZhciBub25jZSA9IHV0aWxzLnRvQXJyYXkob3B0aW9ucy5ub25jZSwgb3B0aW9ucy5ub25jZUVuYyk7CiAgdmFyIHBlcnMgPSB1dGlscy50b0FycmF5KG9wdGlvbnMucGVycywgb3B0aW9ucy5wZXJzRW5jKTsKICBhc3NlcnQoZW50cm9weS5sZW5ndGggPj0gKHRoaXMubWluRW50cm9weSAvIDgpLAogICAgICAgICAnTm90IGVub3VnaCBlbnRyb3B5LiBNaW5pbXVtIGlzOiAnICsgdGhpcy5taW5FbnRyb3B5ICsgJyBiaXRzJyk7CiAgdGhpcy5faW5pdChlbnRyb3B5LCBub25jZSwgcGVycyk7Cn0KbW9kdWxlLmV4cG9ydHMgPSBIbWFjRFJCRzsKCkhtYWNEUkJHLnByb3RvdHlwZS5faW5pdCA9IGZ1bmN0aW9uIGluaXQoZW50cm9weSwgbm9uY2UsIHBlcnMpIHsKICB2YXIgc2VlZCA9IGVudHJvcHkuY29uY2F0KG5vbmNlKS5jb25jYXQocGVycyk7CgogIHRoaXMuSyA9IG5ldyBBcnJheSh0aGlzLm91dExlbiAvIDgpOwogIHRoaXMuViA9IG5ldyBBcnJheSh0aGlzLm91dExlbiAvIDgpOwogIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5WLmxlbmd0aDsgaSsrKSB7CiAgICB0aGlzLktbaV0gPSAweDAwOwogICAgdGhpcy5WW2ldID0gMHgwMTsKICB9CgogIHRoaXMuX3VwZGF0ZShzZWVkKTsKICB0aGlzLnJlc2VlZCA9IDE7CiAgdGhpcy5yZXNlZWRJbnRlcnZhbCA9IDB4MTAwMDAwMDAwMDAwMDsgIC8vIDJeNDgKfTsKCkhtYWNEUkJHLnByb3RvdHlwZS5faG1hYyA9IGZ1bmN0aW9uIGhtYWMoKSB7CiAgcmV0dXJuIG5ldyBoYXNoLmhtYWModGhpcy5oYXNoLCB0aGlzLkspOwp9OwoKSG1hY0RSQkcucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoc2VlZCkgewogIHZhciBrbWFjID0gdGhpcy5faG1hYygpCiAgICAgICAgICAgICAgICAgLnVwZGF0ZSh0aGlzLlYpCiAgICAgICAgICAgICAgICAgLnVwZGF0ZShbIDB4MDAgXSk7CiAgaWYgKHNlZWQpCiAgICBrbWFjID0ga21hYy51cGRhdGUoc2VlZCk7CiAgdGhpcy5LID0ga21hYy5kaWdlc3QoKTsKICB0aGlzLlYgPSB0aGlzLl9obWFjKCkudXBkYXRlKHRoaXMuVikuZGlnZXN0KCk7CiAgaWYgKCFzZWVkKQogICAgcmV0dXJuOwoKICB0aGlzLksgPSB0aGlzLl9obWFjKCkKICAgICAgICAgICAgICAgLnVwZGF0ZSh0aGlzLlYpCiAgICAgICAgICAgICAgIC51cGRhdGUoWyAweDAxIF0pCiAgICAgICAgICAgICAgIC51cGRhdGUoc2VlZCkKICAgICAgICAgICAgICAgLmRpZ2VzdCgpOwogIHRoaXMuViA9IHRoaXMuX2htYWMoKS51cGRhdGUodGhpcy5WKS5kaWdlc3QoKTsKfTsKCkhtYWNEUkJHLnByb3RvdHlwZS5yZXNlZWQgPSBmdW5jdGlvbiByZXNlZWQoZW50cm9weSwgZW50cm9weUVuYywgYWRkLCBhZGRFbmMpIHsKICAvLyBPcHRpb25hbCBlbnRyb3B5IGVuYwogIGlmICh0eXBlb2YgZW50cm9weUVuYyAhPT0gJ3N0cmluZycpIHsKICAgIGFkZEVuYyA9IGFkZDsKICAgIGFkZCA9IGVudHJvcHlFbmM7CiAgICBlbnRyb3B5RW5jID0gbnVsbDsKICB9CgogIGVudHJvcHkgPSB1dGlscy50b0J1ZmZlcihlbnRyb3B5LCBlbnRyb3B5RW5jKTsKICBhZGQgPSB1dGlscy50b0J1ZmZlcihhZGQsIGFkZEVuYyk7CgogIGFzc2VydChlbnRyb3B5Lmxlbmd0aCA+PSAodGhpcy5taW5FbnRyb3B5IC8gOCksCiAgICAgICAgICdOb3QgZW5vdWdoIGVudHJvcHkuIE1pbmltdW0gaXM6ICcgKyB0aGlzLm1pbkVudHJvcHkgKyAnIGJpdHMnKTsKCiAgdGhpcy5fdXBkYXRlKGVudHJvcHkuY29uY2F0KGFkZCB8fCBbXSkpOwogIHRoaXMucmVzZWVkID0gMTsKfTsKCkhtYWNEUkJHLnByb3RvdHlwZS5nZW5lcmF0ZSA9IGZ1bmN0aW9uIGdlbmVyYXRlKGxlbiwgZW5jLCBhZGQsIGFkZEVuYykgewogIGlmICh0aGlzLnJlc2VlZCA+IHRoaXMucmVzZWVkSW50ZXJ2YWwpCiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Jlc2VlZCBpcyByZXF1aXJlZCcpOwoKICAvLyBPcHRpb25hbCBlbmNvZGluZwogIGlmICh0eXBlb2YgZW5jICE9PSAnc3RyaW5nJykgewogICAgYWRkRW5jID0gYWRkOwogICAgYWRkID0gZW5jOwogICAgZW5jID0gbnVsbDsKICB9CgogIC8vIE9wdGlvbmFsIGFkZGl0aW9uYWwgZGF0YQogIGlmIChhZGQpIHsKICAgIGFkZCA9IHV0aWxzLnRvQXJyYXkoYWRkLCBhZGRFbmMpOwogICAgdGhpcy5fdXBkYXRlKGFkZCk7CiAgfQoKICB2YXIgdGVtcCA9IFtdOwogIHdoaWxlICh0ZW1wLmxlbmd0aCA8IGxlbikgewogICAgdGhpcy5WID0gdGhpcy5faG1hYygpLnVwZGF0ZSh0aGlzLlYpLmRpZ2VzdCgpOwogICAgdGVtcCA9IHRlbXAuY29uY2F0KHRoaXMuVik7CiAgfQoKICB2YXIgcmVzID0gdGVtcC5zbGljZSgwLCBsZW4pOwogIHRoaXMuX3VwZGF0ZShhZGQpOwogIHRoaXMucmVzZWVkKys7CiAgcmV0dXJuIHV0aWxzLmVuY29kZShyZXMsIGVuYyk7Cn07Cgp9LHsiLi4vZWxsaXB0aWMiOjEwMSwiaGFzaC5qcyI6MTIwfV0sMTE1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKbW9kdWxlLmV4cG9ydHMgPSB7CiAgZG91YmxlczogewogICAgc3RlcDogNCwKICAgIHBvaW50czogWwogICAgICBbCiAgICAgICAgJ2U2MGZjZTkzYjU5ZTllYzUzMDExYWFiYzIxYzIzZTk3YjJhMzEzNjliODdhNWFlOWM0NGVlODllMmE2ZGVjMGEnLAogICAgICAgICdmN2UzNTA3Mzk5ZTU5NTkyOWRiOTlmMzRmNTc5MzcxMDEyOTY4OTFlNDRkMjNmMGJlMWYzMmNjZTY5NjE2ODIxJwogICAgICBdLAogICAgICBbCiAgICAgICAgJzgyODIyNjMyMTJjNjA5ZDllYTJhNmUzZTE3MmRlMjM4ZDhjMzljYWJkNWFjMWNhMTA2NDZlMjNmZDVmNTE1MDgnLAogICAgICAgICcxMWY4YTgwOTg1NTdkZmU0NWU4MjU2ZTgzMGI2MGFjZTYyZDYxM2FjMmY3YjE3YmVkMzFiNmVhZmY2ZTI2Y2FmJwogICAgICBdLAogICAgICBbCiAgICAgICAgJzE3NWUxNTlmNzI4Yjg2NWE3MmY5OWNjNmM2ZmM4NDZkZTBiOTM4MzNmZDIyMjJlZDczZmNlNWI1NTFlNWI3MzknLAogICAgICAgICdkMzUwNmUwZDllM2M3OWViYTRlZjk3YTUxZmY3MWY1ZWFjYjU5NTVhZGQyNDM0NWM2ZWZhNmZmZWU5ZmVkNjk1JwogICAgICBdLAogICAgICBbCiAgICAgICAgJzM2M2Q5MGQ0NDdiMDBjOWM5OWNlYWMwNWI2MjYyZWUwNTM0NDFjN2U1NTU1MmZmZTUyNmJhZDhmODNmZjQ2NDAnLAogICAgICAgICc0ZTI3M2FkZmM3MzIyMjE5NTNiNDQ1Mzk3ZjMzNjMxNDViOWE4OTAwODE5OWVjYjYyMDAzYzdmM2JlZTlkZTknCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnOGI0YjVmMTY1ZGYzYzJiZThjNjI0NGI1Yjc0NTYzODg0M2U0YTc4MWExNWJjZDFiNjlmNzlhNTVkZmZkZjgwYycsCiAgICAgICAgJzRhYWQwYTZmNjhkMzA4YjRiM2ZiZDc4MTNhYjBkYTA0ZjllMzM2NTQ2MTYyZWU1NmIzZWZmMGM2NWZkNGZkMzYnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnNzIzY2JhYTZlNWRiOTk2ZDZiZjc3MWMwMGJkNTQ4YzdiNzAwZGJmZmE2YzBlNzdiY2I2MTE1OTI1MjMyZmNkYScsCiAgICAgICAgJzk2ZTg2N2I1NTk1Y2M0OThhOTIxMTM3NDg4ODI0ZDZlMjY2MGEwNjUzNzc5NDk0ODAxZGMwNjlkOWViMzlmNWYnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnZWViZmE0ZDQ5M2JlYmY5OGJhNWZlZWM4MTJjMmQzYjUwOTQ3OTYxMjM3YTkxOTgzOWE1MzNlY2EwZTdkZDdmYScsCiAgICAgICAgJzVkOWE4Y2EzOTcwZWYwZjI2OWVlN2VkYWYxNzgwODlkOWFlNGNkYzNhNzExZjcxMmRkZmQ0ZmRhZTFkZTg5OTknCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnMTAwZjQ0ZGE2OTZlNzE2NzI3OTFkMGEwOWI3YmRlNDU5ZjEyMTVhMjliM2MwM2JmZWZkNzgzNWIzOWE0OGRiMCcsCiAgICAgICAgJ2NkZDllMTMxOTJhMDBiNzcyZWM4ZjMzMDBjMDkwNjY2YjdmZjRhMThmZjUxOTVhYzBmYmQ1Y2Q2MmJjNjVhMDknCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnZTEwMzFiZTI2MmM3ZWQxYjFkYzkyMjdhNGEwNGMwMTdhNzdmOGQ0NDY0ZjNiMzg1MmM4YWNkZTZlNTM0ZmQyZCcsCiAgICAgICAgJzlkNzA2MTkyODk0MDQwNWU2YmI2YTQxNzY1OTc1MzVhZjI5MmRkNDE5ZTFjZWQ3OWE0NGYxOGYyOTQ1NmEwMGQnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnZmVlYTZjYWU0NmQ1NWI1MzBhYzI4MzlmMTQzYmQ3ZWM1Y2Y4YjI2NmE0MWQ2YWY1MmQ1ZTY4OGQ5MDk0Njk2ZCcsCiAgICAgICAgJ2U1N2M2YjZjOTdkY2UxYmFiMDZlNGUxMmJmM2VjZDVjOTgxYzg5NTdjYzQxNDQyZDMxNTVkZWJmMTgwOTAwODgnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnZGE2N2E5MWQ5MTA0OWNkY2IzNjdiZTRiZTZmZmNhM2NmZWVkNjU3ZDgwODU4M2RlMzNmYTk3OGJjMWVjNmNiMScsCiAgICAgICAgJzliYWNhYTM1NDgxNjQyYmM0MWY0NjNmN2VjOTc4MGU1ZGVjN2FkYzUwOGY3NDBhMTdlOWVhOGUyN2E2OGJlMWQnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnNTM5MDRmYWEwYjMzNGNkZGE2ZTAwMDkzNWVmMjIxNTFlYzA4ZDBmN2JiMTEwNjlmNTc1NDVjY2MxYTM3YjdjMCcsCiAgICAgICAgJzViYzA4N2QwYmM4MDEwNmQ4OGM5ZWNjYWMyMGQzYzFjMTM5OTk5ODFlMTQ0MzQ2OTlkY2IwOTZiMDIyNzcxYzgnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnOGU3YmNkMGJkMzU5ODNhNzcxOWNjYTc3NjRjYTkwNjc3OWI1M2EwNDNhOWI4YmNhZWZmOTU5ZjQzYWQ4NjA0NycsCiAgICAgICAgJzEwYjc3NzBiMmEzZGE0YjM5NDAzMTA0MjBjYTk1MTQ1NzllODhlMmU0N2ZkNjhiM2VhMTAwNDdlODQ2MDM3MmEnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnMzg1ZWVkMzRjMWNkZmYyMWU2ZDA4MTg2ODliODFiZGU3MWE3ZjRmMTgzOTdlNjY5MGE4NDFlMTU5OWM0Mzg2MicsCiAgICAgICAgJzI4M2JlYmMzZThlYTIzZjU2NzAxZGUxOWU5ZWJmNDU3NmIzMDRlZWMyMDg2ZGM4Y2MwNDU4ZmU1NTQyZTU0NTMnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnNmY5ZDliODAzZWNmMTkxNjM3YzczYTQ0MTNkZmExODBmZGRmODRhNTk0N2ZiYzljNjA2ZWQ4NmMzZmFjM2E3JywKICAgICAgICAnN2M4MGM2OGU2MDMwNTliYTY5YjhlMmEzMGU0NWM0ZDQ3ZWE0ZGQyZjVjMjgxMDAyZDg2ODkwNjAzYTg0MjE2MCcKICAgICAgXSwKICAgICAgWwogICAgICAgICczMzIyZDQwMTI0M2M0ZTI1ODJhMjE0N2MxMDRkNmVjYmY3NzRkMTYzZGIwZjVlNTMxM2I3ZTBlNzQyZDBlNmJkJywKICAgICAgICAnNTZlNzA3OTdlOTY2NGVmNWJmYjAxOWJjNGRkYWY5YjcyODA1ZjYzZWEyODczYWY2MjRmM2EyZTk2YzI4YjJhMCcKICAgICAgXSwKICAgICAgWwogICAgICAgICc4NTY3MmM3ZDJkZTBiN2RhMmJkMTc3MGQ4OTY2NTg2ODc0MWIzZjlhZjc2NDMzOTc3MjFkNzRkMjgxMzRhYjgzJywKICAgICAgICAnN2M0ODFiOWI1YjQzYjJlYjYzNzQwNDliZmE2MmMyZTVlNzdmMTdmY2M1Mjk4ZjQ0YzhlMzA5NGY3OTAzMTNhNicKICAgICAgXSwKICAgICAgWwogICAgICAgICc5NDhiZjgwOWIxOTg4YTQ2YjA2YzlmMTkxOTQxM2IxMGY5MjI2YzYwZjY2ODgzMmZmZDk1OWFmNjBjODJhMGEnLAogICAgICAgICc1M2E1NjI4NTZkY2I2NjQ2ZGM2Yjc0YzVkMWMzNDE4YzZkNGRmZjA4Yzk3Y2QyYmVkNGNiN2Y4OGQ4YzhlNTg5JwogICAgICBdLAogICAgICBbCiAgICAgICAgJzYyNjBjZTdmNDYxODAxYzM0ZjA2N2NlMGYwMjg3M2E4ZjFiMGU0NGRmYzY5NzUyYWNjZWNkODE5ZjM4ZmQ4ZTgnLAogICAgICAgICdiYzJkYTgyYjZmYTViNTcxYTdmMDkwNDk3NzZhMWVmN2VjZDI5MjIzODA1MWMxOThjMWE4NGU5NWIyYjRhZTE3JwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2U1MDM3ZGUwYWZjMWQ4ZDQzZDgzNDg0MTRiYmY0MTAzMDQzZWM4ZjU3NWJmZGM0MzI5NTNjYzhkMjAzN2ZhMmQnLAogICAgICAgICc0NTcxNTM0YmFhOTRkM2I1ZjlmOThkMDlmYjk5MGJkZGJkNWY1YjAzZWM0ODFmMTBlMGU1ZGM4NDFkNzU1YmRhJwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2UwNjM3MmIwZjRhMjA3YWRmNWVhOTA1ZThmMTc3MWI0ZTdlOGRiZDFjNmE2YzViNzI1ODY2YTBhZTRmY2U3MjUnLAogICAgICAgICc3YTkwODk3NGJjZTE4Y2ZlMTJhMjdiYjJhZDVhNDg4Y2Q3NDg0YTc3ODcxMDQ4NzBiMjcwMzRmOTRlZWUzMWRkJwogICAgICBdLAogICAgICBbCiAgICAgICAgJzIxM2M3YTcxNWNkNWQ0NTM1OGQwYmJmOWRjMGNlMDIyMDRiMTBiZGRlMmEzZjU4NTQwYWQ2OTA4ZDA1NTk3NTQnLAogICAgICAgICc0YjZkYWQwYjVhZTQ2MjUwNzAxM2FkMDYyNDViYTE5MGJiNDg1MGY1ZjM2YTdlZWRkZmYyYzI3NTM0YjQ1OGYyJwogICAgICBdLAogICAgICBbCiAgICAgICAgJzRlN2MyNzJhN2FmNGIzNGU4ZGJiOTM1MmE1NDE5YTg3ZTI4MzhjNzBhZGM2MmNkZGYwY2MzYTNiMDhmYmQ1M2MnLAogICAgICAgICcxNzc0OWM3NjZjOWQwYjE4ZTE2ZmQwOWY2ZGVmNjgxYjUzMGI5NjE0YmZmN2RkMzNlMGIzOTQxODE3ZGNhYWU2JwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2ZlYTc0ZTNkYmU3NzhiMWIxMGYyMzhhZDYxNjg2YWE1Yzc2ZTNkYjJiZTQzMDU3NjMyNDI3ZTI4NDBmYjI3YjYnLAogICAgICAgICc2ZTA1NjhkYjliMGIxMzI5N2NmNjc0ZGVjY2I2YWY5MzEyNmI1OTZiOTczZjdiNzc3MDFkM2RiN2YyM2NiOTZmJwogICAgICBdLAogICAgICBbCiAgICAgICAgJzc2ZTY0MTEzZjY3N2NmMGUxMGEyNTcwZDU5OTk2OGQzMTU0NGUxNzliNzYwNDMyOTUyYzAyYTQ0MTdiZGRlMzknLAogICAgICAgICdjOTBkZGY4ZGVlNGU5NWNmNTc3MDY2ZDcwNjgxZjBkMzVlMmEzM2QyYjU2ZDIwMzJiNGIxNzUyZDE5MDFhYzAxJwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2M3MzhjNTZiMDNiMmFiZTFlODI4MWJhYTc0M2Y4ZjlhOGY3Y2M2NDNkZjI2Y2JlZTNhYjE1MDI0MmJjYmI4OTEnLAogICAgICAgICc4OTNmYjU3ODk1MWFkMjUzN2Y3MThmMmVhY2JmYmJiYjgyMzE0ZWVmNzg4MGNmZTkxN2U3MzVkOTY5OWE4NGMzJwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2Q4OTU2MjY1NDhiNjViODFlMjY0Yzc2MzdjOTcyODc3ZDFkNzJlNWYzYTkyNTAxNDM3MmU5ZjY1ODhmNmMxNGInLAogICAgICAgICdmZWJmYWEzOGYyYmM3ZWFlNzI4ZWM2MDgxOGMzNDBlYjAzNDI4ZDYzMmJiMDY3ZTE3OTM2M2VkNzVkN2Q5OTFmJwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2I4ZGE5NDAzMmE5NTc1MThlYjBmNjQzMzU3MWU4NzYxY2VmZmM3MzY5M2U4NGVkZDQ5MTUwYTU2NGY2NzZlMDMnLAogICAgICAgICcyODA0ZGZhNDQ4MDVhMWU0ZDdjOTljYzk3NjI4MDhiMDkyY2M1ODRkOTVmZjNiNTExNDg4ZTRlNzRlZmRmNmU3JwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2U4MGZlYTE0NDQxZmIzM2E3ZDhhZGFiOTQ3NWQ3ZmFiMjAxOWVmZmI1MTU2YTc5MmYxYTExNzc4ZTNjMGRmNWQnLAogICAgICAgICdlZWQxZGU3ZjYzOGUwMDc3MWU4OTc2OGNhM2NhOTQ0NzJkMTU1ZTgwYWYzMjJlYTlmY2I0MjkxYjZhYzllYzc4JwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2EzMDE2OTdiZGZjZDcwNDMxM2JhNDhlNTFkNTY3NTQzZjJhMTgyMDMxZWZkNjkxNWRkYzA3YmJjYzRlMTYwNzAnLAogICAgICAgICc3MzcwZjkxY2ZiNjdlNGY1MDgxODA5ZmEyNWQ0MGY5YjE3MzVkYmY3YzBhMTFhMTMwYzBkMWEwNDFlMTc3ZWExJwogICAgICBdLAogICAgICBbCiAgICAgICAgJzkwYWQ4NWIzODlkNmI5MzY0NjNmOWQwNTEyNjc4ZGUyMDhjYzMzMGIxMTMwN2ZmZmFiN2FjNjNlM2ZiMDRlZDQnLAogICAgICAgICdlNTA3YTM2MjBhMzgyNjFhZmZkY2JkOTQyNzIyMmI4MzlhZWZhYmUxNTgyODk0ZDk5MWQ0ZDQ4Y2I2ZWYxNTAnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnOGY2OGI5ZDJmNjNiNWYzMzkyMzljMWFkOTgxZjE2MmVlODhjNTY3ODcyM2VhMzM1MWI3YjQ0NGM5ZWM0YzBkYScsCiAgICAgICAgJzY2MmE5ZjJkYmEwNjM5ODZkZTFkOTBjMmI2YmUyMTVkYmJlYTJjZmU5NTUxMGJmZGYyM2NiZjc5NTAxZmZmODInCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnZTRmM2ZiMDE3NmFmODVkNjVmZjk5ZmY5MTk4YzM2MDkxZjQ4ZTg2NTAzNjgxZTNlNjY4NmZkNTA1MzIzMWUxMScsCiAgICAgICAgJzFlNjM2MzNhZDBlZjRmMWMxNjYxYTZkMGVhMDJiNzI4NmNjN2U3NGVjOTUxZDFjOTgyMmMzODU3NmZlYjczYmMnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnOGMwMGZhOWIxOGViZjMzMWViOTYxNTM3YTQ1YTQyNjZjNzAzNGYyZjBkNGUxZDA3MTZmYjZlYWUyMGVhZTI5ZScsCiAgICAgICAgJ2VmYTQ3MjY3ZmVhNTIxYTFhOWRjMzQzYTM3MzZjOTc0YzJmYWRhZmE4MWUzNmM1NGU3ZDJhNGM2NjcwMjQxNGInCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnZTdhMjZjZTY5ZGQ0ODI5ZjNlMTBjZWMwYTllOThlZDMxNDNkMDg0ZjMwOGI5MmMwOTk3ZmRkZmM2MGNiM2U0MScsCiAgICAgICAgJzJhNzU4ZTMwMGZhNzk4NGI0NzFiMDA2YTFhYWZiYjE4ZDBhNmIyYzA0MjBlODNlMjBlOGE5NDIxY2YyY2ZkNTEnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnYjY0NTllMGVlMzY2MmVjOGQyMzU0MGMyMjNiY2JkYzU3MWNiY2I5NjdkNzk0MjRmM2NmMjllYjNkZTZiODBlZicsCiAgICAgICAgJzY3Yzg3NmQwNmYzZTA2ZGUxZGFkZjE2ZTU2NjFkYjNjNGIzYWU2ZDQ4ZTM1YjJmZjMwYmYwYjYxYTcxYmE0NScKICAgICAgXSwKICAgICAgWwogICAgICAgICdkNjhhODBjODI4MGJiODQwNzkzMjM0YWExMThmMDYyMzFkNmYxZmM2N2U3M2M1YTVkZWRhMGY1YjQ5Njk0M2U4JywKICAgICAgICAnZGI4YmE5ZmZmNGI1ODZkMDBjNGIxZjkxNzdiMGUyOGI1YjBlN2I4Zjc4NDUyOTVhMjk0Yzg0MjY2YjEzMzEyMCcKICAgICAgXSwKICAgICAgWwogICAgICAgICczMjRhZWQ3ZGY2NWM4MDQyNTJkYzAyNzA5MDdhMzBiMDk2MTJhZWI5NzM0NDljZWE0MDk1OTgwZmMyOGQzZDVkJywKICAgICAgICAnNjQ4YTM2NTc3NGI2MWYyZmYxMzBjMGMzNWFlYzFmNGYxOTIxM2IwYzdlMzMyODQzOTY3MjI0YWY5NmFiN2M4NCcKICAgICAgXSwKICAgICAgWwogICAgICAgICc0ZGY5YzE0OTE5Y2RlNjFmNmQ1MWRmZGJlNWZlZTVkY2VlYzQxNDNiYThkMWNhODg4ZThiZDM3M2ZkMDU0Yzk2JywKICAgICAgICAnMzVlYzUxMDkyZDg3MjgwNTA5NzRjMjNhMWQ4NWQ0YjVkNTA2Y2RjMjg4NDkwMTkyZWJhYzA2Y2FkMTBkNWQnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnOWMzOTE5YTg0YTQ3NDg3MGZhZWQ4YTljMWNjNjYwMjE1MjM0ODkwNTRkN2YwMzA4Y2JmYzk5YzhhYzFmOThjZCcsCiAgICAgICAgJ2RkYjg0ZjBmNGE0ZGRkNTc1ODRmMDQ0YmYyNjBlNjQxOTA1MzI2Zjc2YzY0YzhlNmJlN2U1ZTAzZDRmYzU5OWQnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnNjA1NzE3MGIxZGQxMmZkZjhkZTA1ZjI4MWQ4ZTA2YmI5MWUxNDkzYThiOTFkNGNjNWEyMTM4MjEyMGE5NTllNScsCiAgICAgICAgJzlhMWFmMGIyNmE2YTQ4MDdhZGQ5YTJkYWY3MWRmMjYyNDY1MTUyYmMzZWUyNGM2NWU4OTliZTkzMjM4NWEyYTgnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnYTU3NmRmOGUyM2EwODQxMTQyMTQzOWE0NTE4ZGEzMTg4MGNlZjBmYmE3ZDRkZjEyYjFhNjk3M2VlY2I5NDI2NicsCiAgICAgICAgJzQwYTZiZjIwZTc2NjQwYjJjOTJiOTdhZmU1OGNkODJjNDMyZTEwYTdmNTE0ZDlmM2VlOGJlMTFhZTFiMjhlYzgnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnNzc3OGE3OGMyOGRlYzNlMzBhMDVmZTk2MjlkZThjMzhiYjMwZDFmNWNmOWEzYTIwOGY3NjM4ODliZTU4YWQ3MScsCiAgICAgICAgJzM0NjI2ZDlhYjVhNWIyMmZmNzA5OGUxMmYyZmY1ODAwODdiMzg0MTFmZjI0YWM1NjNiNTEzZmMxZmQ5ZjQzYWMnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnOTI4OTU1ZWU2MzdhODQ0NjM3MjlmZDMwZTdhZmQyZWQ1Zjk2Mjc0ZTVhZDdlNWNiMDllZGE5YzA2ZDkwM2FjJywKICAgICAgICAnYzI1NjIxMDAzZDNmNDJhODI3Yjc4YTEzMDkzYTk1ZWVhYzNkMjZlZmE4YThkODNmYzUxODBlOTM1YmNkMDkxZicKICAgICAgXSwKICAgICAgWwogICAgICAgICc4NWQwZmVmM2VjNmRiMTA5Mzk5MDY0ZjNhMGUzYjI4NTU2NDViNGE5MDdhZDM1NDUyN2FhZTc1MTYzZDgyNzUxJywKICAgICAgICAnMWYwMzY0ODQxM2EzOGMwYmUyOWQ0OTZlNTgyY2Y1NjYzZTg3NTFlOTY4NzczMzE1ODJjMjM3YTI0ZWIxZjk2MicKICAgICAgXSwKICAgICAgWwogICAgICAgICdmZjJiMGRjZTk3ZWVjZTk3YzFjOWI2MDQxNzk4Yjg1ZGZkZmI2ZDg4ODJkYTIwMzA4ZjU0MDQ4MjQ1MjYwODdlJywKICAgICAgICAnNDkzZDEzZmVmNTI0YmExODhhZjRjNGRjNTRkMDc5MzZjN2I3ZWQ2ZmI5MGUyY2ViMmM5NTFlMDFmMGMyOTkwNycKICAgICAgXSwKICAgICAgWwogICAgICAgICc4MjdmYmJlNGIxZTg4MGVhOWVkMmIyZTYzMDFiMjEyYjU3ZjFlZTE0OGNkNmRkMjg3ODBlNWUyY2Y4NTZlMjQxJywKICAgICAgICAnYzYwZjljOTIzYzcyN2IwYjcxYmVmMmM2N2QxZDEyNjg3ZmY3YTYzMTg2OTAzMTY2ZDYwNWI2OGJhZWMyOTNlYycKICAgICAgXSwKICAgICAgWwogICAgICAgICdlYWE2NDlmMjFmNTFiZGJhZTdiZTRhZTM0Y2U2ZTUyMTdhNThmZGNlN2Y0N2Y5YWE3ZjNiNThmYTIxMjBlMmIzJywKICAgICAgICAnYmUzMjc5ZWQ1YmJiYjAzYWM2OWE4MGY4OTg3OWFhNWEwMWE2Yjk2NWYxM2Y3ZTU5ZDQ3YTUzMDViYTVhZDkzZCcKICAgICAgXSwKICAgICAgWwogICAgICAgICdlNGE0MmQ0M2M1Y2YxNjlkOTM5MWRmNmRlY2Y0MmVlNTQxYjZkOGYwYzlhMTM3NDAxZTIzNjMyZGRhMzRkMjRmJywKICAgICAgICAnNGQ5ZjkyZTcxNmQxYzczNTI2ZmM5OWNjZmI4YWQzNGNlODg2ZWVkZmE4ZDhlNGYxM2E3ZjcxMzFkZWJhOTQxNCcKICAgICAgXSwKICAgICAgWwogICAgICAgICcxZWM4MGZlZjM2MGNiZGQ5NTQxNjBmYWRhYjM1MmI2YjkyYjUzNTc2YTg4ZmVhNDk0NzE3M2I5ZDQzMDBiZjE5JywKICAgICAgICAnYWVlZmU5Mzc1NmI1MzQwZDJmM2E0OTU4YTdhYmJmNWUwMTQ2ZTc3ZjYyOTVhMDdiNjcxY2RjMWNjMTA3Y2VmZCcKICAgICAgXSwKICAgICAgWwogICAgICAgICcxNDZhNzc4YzA0NjcwYzJmOTFiMDBhZjQ2ODBkZmE4YmNlMzQ5MDcxN2Q1OGJhODg5ZGRiNTkyODM2NjY0MmJlJywKICAgICAgICAnYjMxOGUwZWMzMzU0MDI4YWRkNjY5ODI3ZjlkNGIyODcwYWFhOTcxZDJmN2U1ZWQxZDBiMjk3NDgzZDgzZWZkMCcKICAgICAgXSwKICAgICAgWwogICAgICAgICdmYTUwYzBmNjFkMjJlNWYwN2UzYWNlYmIxYWEwN2IxMjhkMDAxMjIwOWEyOGI5Nzc2ZDc2YTg3OTMxODBlZWY5JywKICAgICAgICAnNmI4NGM2OTIyMzk3ZWJhOWI3MmNkMjg3MjI4MWE2OGE1ZTY4MzI5M2E1N2EyMTNiMzhjZDhkN2QzZjRmMjgxMScKICAgICAgXSwKICAgICAgWwogICAgICAgICdkYTFkNjFkMGNhNzIxYTExYjFhNWJmNmI3ZDg4ZTg0MjFhMjg4YWI1ZDViYmE1MjIwZTUzZDMyYjVmMDY3ZWMyJywKICAgICAgICAnODE1N2Y1NWE3Yzk5MzA2Yzc5YzA3NjYxNjFjOTFlMjk2NmE3Mzg5OWQyNzliNDhhNjU1ZmJhMGYxYWQ4MzZmMScKICAgICAgXSwKICAgICAgWwogICAgICAgICdhOGUyODJmZjBjOTcwNjkwNzIxNWZmOThlOGZkNDE2NjE1MzExZGUwNDQ2ZjFlMDYyYTczYjA2MTBkMDY0ZTEzJywKICAgICAgICAnN2Y5NzM1NWI4ZGI4MWMwOWFiZmI3ZjNjNWIyNTE1ODg4YjY3OWEzZTUwZGQ2YmQ2Y2VmN2M3MzExMWY0Y2MwYycKICAgICAgXSwKICAgICAgWwogICAgICAgICcxNzRhNTNiOWM5YTI4NTg3MmQzOWU1NmU2OTEzY2FiMTVkNTliMWZhNTEyNTA4YzAyMmYzODJkZTgzMTk0OTdjJywKICAgICAgICAnY2NjOWRjMzdhYmZjOWMxNjU3YjQxNTVmMmM0N2Y5ZTY2NDZiM2ExZDhjYjk4NTQzODNkYTEzYWMwNzlhZmE3MycKICAgICAgXSwKICAgICAgWwogICAgICAgICc5NTkzOTY5ODE5NDM3ODVjM2QzZTU3ZWRmNTAxOGNkYmUwMzllNzMwZTQ5MThiM2Q4ODRmZGZmMDk0NzViN2JhJywKICAgICAgICAnMmU3ZTU1Mjg4OGMzMzFkZDhiYTAzODZhNGI5Y2Q2ODQ5YzY1M2Y2NGM4NzA5Mzg1ZTliOGFiZjg3NTI0ZjJmZCcKICAgICAgXSwKICAgICAgWwogICAgICAgICdkMmE2M2E1MGFlNDAxZTU2ZDY0NWExMTUzYjEwOWE4ZmNjYTBhNDNkNTYxZmJhMmRiYjUxMzQwYzlkODJiMTUxJywKICAgICAgICAnZTgyZDg2ZmI2NDQzZmNiNzU2NWFlZTU4YjI5NDgyMjBhNzBmNzUwYWY0ODRjYTUyZDQxNDIxNzRkY2Y4OTQwNScKICAgICAgXSwKICAgICAgWwogICAgICAgICc2NDU4N2UyMzM1NDcxZWI4OTBlZTc4OTZkN2NmZGM4NjZiYWNiZGJkMzgzOTMxN2IzNDM2ZjliNDU2MTdlMDczJywKICAgICAgICAnZDk5ZmNkZDViZjY5MDJlMmFlOTZkZDY0NDdjMjk5YTE4NWI5MGEzOTEzM2FlYWIzNTgyOTllNWU5ZmFmNjU4OScKICAgICAgXSwKICAgICAgWwogICAgICAgICc4NDgxYmRlMGU0ZTRkODg1YjNhNTQ2ZDNlNTQ5ZGUwNDJmMGFhNmNlYTI1MGU3ZmQzNThkNmM4NmRkNDVlNDU4JywKICAgICAgICAnMzhlZTdiOGNiYTU0MDRkZDg0YTI1YmYzOWNlY2IyY2E5MDBhNzljNDJiMjYyZTU1NmQ2NGIxYjU5Nzc5MDU3ZScKICAgICAgXSwKICAgICAgWwogICAgICAgICcxMzQ2NGE1N2E3ODEwMmFhNjJiNjk3OWFlODE3ZjQ2MzdmZmNmZWQzYzRiMWNlMzBiY2Q2MzAzZjZjYWY2NjZiJywKICAgICAgICAnNjliZTE1OTAwNDYxNDU4MGVmN2U0MzM0NTNjY2IwY2E0OGYzMDBhODFkMDk0MmUxM2Y0OTVhOTA3ZjZlY2MyNycKICAgICAgXSwKICAgICAgWwogICAgICAgICdiYzRhOWRmNWI3MTNmZTJlOWFlZjQzMGJjYzFkYzk3YTBjZDljY2VkZTJmMjg1ODhjYWRhM2EwZDJkODNmMzY2JywKICAgICAgICAnZDNhODFjYTZlNzg1YzA2MzgzOTM3YWRmNGI3OThjYWE2ZThhOWZiZmE1NDdiMTZkNzU4ZDY2NjU4MWYzM2MxJwogICAgICBdLAogICAgICBbCiAgICAgICAgJzhjMjhhOTdiZjgyOThiYzBkMjNkOGM3NDk0NTJhMzJlNjk0YjY1ZTMwYTk0NzJhMzk1NGFiMzBmZTUzMjRjYWEnLAogICAgICAgICc0MGEzMDQ2M2EzMzA1MTkzMzc4ZmVkZjMxZjdjYzBlYjdhZTc4NGYwNDUxY2I5NDU5ZTcxZGM3M2NiZWY5NDgyJwogICAgICBdLAogICAgICBbCiAgICAgICAgJzhlYTk2NjYxMzk1MjdhOGMxZGQ5NGNlNGYwNzFmZDIzYzhiMzUwYzVhNGJiMzM3NDhjNGJhMTExZmFjY2FlMCcsCiAgICAgICAgJzYyMGVmYWJiYzhlZTI3ODJlMjRlN2MwY2ZiOTVjNWQ3MzViNzgzYmU5Y2YwZjhlOTU1YWYzNGEzMGU2MmI5NDUnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnZGQzNjI1ZmFlZjViYTA2MDc0NjY5NzE2YmJkMzc4OGQ4OWJkZGU4MTU5NTk5NjgwOTJmNzZjYzRlYjlhOTc4NycsCiAgICAgICAgJzdhMTg4ZmEzNTIwZTMwZDQ2MWRhMjUwMTA0NTczMWNhOTQxNDYxOTgyODgzMzk1OTM3ZjY4ZDAwYzY0NGE1NzMnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnZjcxMGQ3OWQ5ZWI5NjIyOTdlNGY2MjMyYjQwZThmN2ZlYjJiYzYzODE0NjE0ZDY5MmMxMmRlNzUyNDA4MjIxZScsCiAgICAgICAgJ2VhOThlNjcyMzJkM2IzMjk1ZDNiNTM1NTMyMTE1Y2NhYzg2MTJjNzIxODUxNjE3NTI2YWU0N2E5Yzc3YmZjODInCiAgICAgIF0KICAgIF0KICB9LAogIG5hZjogewogICAgd25kOiA3LAogICAgcG9pbnRzOiBbCiAgICAgIFsKICAgICAgICAnZjkzMDhhMDE5MjU4YzMxMDQ5MzQ0Zjg1Zjg5ZDUyMjliNTMxYzg0NTgzNmY5OWIwODYwMWYxMTNiY2UwMzZmOScsCiAgICAgICAgJzM4OGY3YjBmNjMyZGU4MTQwZmUzMzdlNjJhMzdmMzU2NjUwMGE5OTkzNGMyMjMxYjZjYjlmZDc1ODRiOGU2NzInCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnMmY4YmRlNGQxYTA3MjA5MzU1YjRhNzI1MGE1YzUxMjhlODhiODRiZGRjNjE5YWI3Y2JhOGQ1NjliMjQwZWZlNCcsCiAgICAgICAgJ2Q4YWMyMjI2MzZlNWUzZDZkNGRiYTlkZGE2YzljNDI2Zjc4ODI3MWJhYjBkNjg0MGRjYTg3ZDNhYTZhYzYyZDYnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnNWNiZGYwNjQ2ZTVkYjRlYWEzOThmMzY1ZjJlYTdhMGUzZDQxOWI3ZTAzMzBlMzljZTkyYmRkZWRjYWM0ZjliYycsCiAgICAgICAgJzZhZWJjYTQwYmEyNTU5NjBhMzE3OGQ2ZDg2MWE1NGRiYTgxM2QwYjgxM2ZkZTdiNWE1MDgyNjI4MDg3MjY0ZGEnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnYWNkNDg0ZTJmMGM3ZjY1MzA5YWQxNzhhOWY1NTlhYmRlMDk3OTY5NzRjNTdlNzE0YzM1ZjExMGRmYzI3Y2NiZScsCiAgICAgICAgJ2NjMzM4OTIxYjBhN2Q5ZmQ2NDM4MDk3MTc2M2I2MWU5YWRkODg4YTQzNzVmOGUwZjA1Y2MyNjJhYzY0ZjljMzcnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnNzc0YWU3Zjg1OGE5NDExZTVlZjQyNDZiNzBjNjVhYWM1NjQ5OTgwYmU1YzE3ODkxYmJlYzE3ODk1ZGEwMDhjYicsCiAgICAgICAgJ2Q5ODRhMDMyZWI2YjVlMTkwMjQzZGQ1NmQ3YjdiMzY1MzcyZGIxZTJkZmY5ZDZhODMwMWQ3NGM5Yzk1M2M2MWInCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnZjI4NzczYzJkOTc1Mjg4YmM3ZDFkMjA1YzM3NDg2NTFiMDc1ZmJjNjYxMGU1OGNkZGVlZGRmOGYxOTQwNWFhOCcsCiAgICAgICAgJ2FiMDkwMmU4ZDg4MGE4OTc1ODIxMmViNjVjZGFmNDczYTFhMDZkYTUyMWZhOTFmMjliNWNiNTJkYjAzZWQ4MScKICAgICAgXSwKICAgICAgWwogICAgICAgICdkNzkyNGQ0ZjdkNDNlYTk2NWE0NjVhZTMwOTVmZjQxMTMxZTU5NDZmM2M4NWY3OWU0NGFkYmNmOGUyN2UwODBlJywKICAgICAgICAnNTgxZTI4NzJhODZjNzJhNjgzODQyZWMyMjhjYzZkZWZlYTQwYWYyYmQ4OTZkM2E1YzUwNGRjOWZmNmEyNmI1OCcKICAgICAgXSwKICAgICAgWwogICAgICAgICdkZWZkZWE0Y2RiNjc3NzUwYTQyMGZlZTgwN2VhY2YyMWViOTg5OGFlNzliOTc2ODc2NmU0ZmFhMDRhMmQ0YTM0JywKICAgICAgICAnNDIxMWFiMDY5NDYzNTE2OGU5OTdiMGVhZDJhOTNkYWVjZWQxZjRhMDRhOTVjMGY2Y2ZiMTk5ZjY5ZTU2ZWI3NycKICAgICAgXSwKICAgICAgWwogICAgICAgICcyYjRlYTBhNzk3YTQ0M2QyOTNlZjVjZmY0NDRmNDk3OWYwNmFjZmViZDdlODZkMjc3NDc1NjU2MTM4Mzg1YjZjJywKICAgICAgICAnODVlODliYzAzNzk0NWQ5M2IzNDMwODNiNWExYzg2MTMxYTAxZjYwYzUwMjY5NzYzYjU3MGM4NTRlNWMwOWI3YScKICAgICAgXSwKICAgICAgWwogICAgICAgICczNTJiYmY0YTRjZGQxMjU2NGY5M2ZhMzMyY2UzMzMzMDFkOWFkNDAyNzFmODEwNzE4MTM0MGFlZjI1YmU1OWQ1JywKICAgICAgICAnMzIxZWI0MDc1MzQ4ZjUzNGQ1OWMxODI1OWRkYTNlMWY0YTFiM2IyZTcxYjEwMzljNjdiZDNkOGJjZjgxOTk4YycKICAgICAgXSwKICAgICAgWwogICAgICAgICcyZmEyMTA0ZDZiMzhkMTFiMDIzMDAxMDU1OTg3OTEyNGU0MmFiOGRmZWZmNWZmMjlkYzljZGFkZDRlY2FjYzNmJywKICAgICAgICAnMmRlMTA2ODI5NWRkODY1YjY0NTY5MzM1YmQ1ZGQ4MDE4MWQ3MGVjZmM4ODI2NDg0MjNiYTc2YjUzMmI3ZDY3JwogICAgICBdLAogICAgICBbCiAgICAgICAgJzkyNDgyNzliMDliNGQ2OGRhYjIxYTliMDY2ZWRkYTgzMjYzYzNkODRlMDk1NzJlMjY5Y2EwY2Q3ZjU0NTM3MTQnLAogICAgICAgICc3MzAxNmY3YmYyMzRhYWRlNWQxYWE3MWJkZWEyYjFmZjNmYzBkZTJhODg3OTEyZmZlNTRhMzJjZTk3Y2IzNDAyJwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2RhZWQ0ZjJiZTNhOGJmMjc4ZTcwMTMyZmIwYmViNzUyMmY1NzBlMTQ0YmY2MTVjMDdlOTk2ZDQ0M2RlZTg3MjknLAogICAgICAgICdhNjlkY2U0YTdkNmM5OGU4ZDRhMWFjYTg3ZWY4ZDcwMDNmODNjMjMwZjNhZmE3MjZhYjQwZTUyMjkwYmUxYzU1JwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2M0NGQxMmM3MDY1ZDgxMmU4YWNmMjhkN2NiYjE5ZjkwMTFlY2Q5ZTlmZGYyODFiMGU2YTNiNWU4N2QyMmU3ZGInLAogICAgICAgICcyMTE5YTQ2MGNlMzI2Y2RjNzZjNDU5MjZjOTgyZmRhYzBlMTA2ZTg2MWVkZjYxYzVhMDM5MDYzZjBlMGU2NDgyJwogICAgICBdLAogICAgICBbCiAgICAgICAgJzZhMjQ1YmY2ZGM2OTg1MDRjODlhMjBjZmRlZDYwODUzMTUyYjY5NTMzNmMyODA2M2I2MWM2NWNiZDI2OWU2YjQnLAogICAgICAgICdlMDIyY2Y0MmMyYmQ0YTcwOGIzZjUxMjZmMTZhMjRhZDhiMzNiYTQ4ZDA0MjNiNmVmZDVlNjM0ODEwMGQ4YTgyJwogICAgICBdLAogICAgICBbCiAgICAgICAgJzE2OTdmZmE2ZmQ5ZGU2MjdjMDc3ZTNkMmZlNTQxMDg0Y2UxMzMwMGIwYmVjMTE0NmY5NWFlNTdmMGQwYmQ2YTUnLAogICAgICAgICdiOWMzOThmMTg2ODA2ZjVkMjc1NjE1MDZlNDU1NzQzM2EyY2YxNTAwOWU0OThhZTdhZGVlOWQ2M2QwMWIyMzk2JwogICAgICBdLAogICAgICBbCiAgICAgICAgJzYwNWJkYjAxOTk4MTcxOGI5ODZkMGYwN2U4MzRjYjBkOWRlYjgzNjBmZmI3ZjYxZGY5ODIzNDVlZjI3YTc0NzknLAogICAgICAgICcyOTcyZDJkZTRmOGQyMDY4MWE3OGQ5M2VjOTZmZTIzYzI2YmZhZTg0ZmIxNGRiNDNiMDFlMWU5MDU2YjhjNDknCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnNjJkMTRkYWI0MTUwYmY0OTc0MDJmZGM0NWEyMTVlMTBkY2IwMWMzNTQ5NTliMTBjZmUzMWM3ZTlkODdmZjMzZCcsCiAgICAgICAgJzgwZmMwNmJkOGNjNWIwMTA5ODA4OGExOTUwZWVkMGRiMDFhYTEzMjk2N2FiNDcyMjM1ZjU2NDI0ODNiMjVlYWYnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnODBjNjBhZDAwNDBmMjdkYWRlNWI0YjA2YzQwOGU1NmIyYzUwZTlmNTZiOWI4YjQyNWU1NTVjMmY4NjMwOGI2ZicsCiAgICAgICAgJzFjMzgzMDNmMWNjNWMzMGYyNmU2NmJhZDdmZTcyZjcwYTY1ZWVkNGNiZTcwMjRlYjFhYTAxZjU2NDMwYmQ1N2EnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnN2E5Mzc1YWQ2MTY3YWQ1NGFhNzRjNjM0OGNjNTRkMzQ0Y2M1ZGM5NDg3ZDg0NzA0OWQ1ZWFiYjBmYTAzYzhmYicsCiAgICAgICAgJ2QwZTNmYTllY2E4NzI2OTA5NTU5ZTBkNzkyNjkwNDZiZGM1OWVhMTBjNzBjZTJiMDJkNDk5ZWMyMjRkYzdmNycKICAgICAgXSwKICAgICAgWwogICAgICAgICdkNTI4ZWNkOWI2OTZiNTRjOTA3YTllZDA0NTQ0N2E3OWJiNDA4ZWMzOWI2OGRmNTA0YmI1MWY0NTliYzNmZmM5JywKICAgICAgICAnZWVjZjQxMjUzMTM2ZTVmOTk5NjZmMjE4ODFmZDY1NmViYzQzNDU0MDVjNTIwZGJjMDYzNDY1YjUyMTQwOTkzMycKICAgICAgXSwKICAgICAgWwogICAgICAgICc0OTM3MGE0YjVmNDM0MTJlYTI1ZjUxNGU4ZWNkYWQwNTI2NjExNWU0YTdlY2IxMzg3MjMxODA4ZjhiNDU5NjMnLAogICAgICAgICc3NThmM2Y0MWFmZDZlZDQyOGIzMDgxYjA1MTJmZDYyYTU0YzNmM2FmYmI1YjY3NjRiNjUzMDUyYTEyOTQ5YzlhJwogICAgICBdLAogICAgICBbCiAgICAgICAgJzc3ZjIzMDkzNmVlODhjYmJkNzNkZjkzMGQ2NDcwMmVmODgxZDgxMWUwZTE0OThlMmYxYzEzZWIxZmMzNDVkNzQnLAogICAgICAgICc5NThlZjQyYTc4ODZiNjQwMGEwODI2NmU5YmExYjM3ODk2Yzk1MzMwZDk3MDc3Y2JiZThlYjNjNzY3MWM2MGQ2JwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2YyZGFjOTkxY2M0Y2U0YjllYTQ0ODg3ZTVjN2MwYmNlNThjODAwNzRhYjlkNGRiYWViMjg1MzFiNzczOWY1MzAnLAogICAgICAgICdlMGRlZGM5YjNiMmY4ZGFkNGRhMWYzMmRlYzI1MzFkZjllYjVmYmViMDU5OGU0ZmQxYTExN2RiYTcwM2EzYzM3JwogICAgICBdLAogICAgICBbCiAgICAgICAgJzQ2M2IzZDlmNjYyNjIxZmIxYjRiZThmYmJlMjUyMDEyNWEyMTZjZGZjOWRhZTNkZWJjYmE0ODUwYzY5MGQ0NWInLAogICAgICAgICc1ZWQ0MzBkNzhjMjk2YzM1NDMxMTQzMDZkZDg2MjJkN2M2MjJlMjdjOTcwYTFkZTMxY2IzNzdiMDFhZjczMDdlJwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2YxNmY4MDQyNDRlNDZlMmEwOTIzMmQ0YWZmM2I1OTk3NmI5OGZhYzE0MzI4YTJkMWEzMjQ5NmI0OTk5OGYyNDcnLAogICAgICAgICdjZWRhYmQ5YjgyMjAzZjdlMTNkMjA2ZmNkZjRlMzNkOTJhNmM1M2MyNmU1Y2NlMjZkNjU3OTk2MmM0ZTMxZGY2JwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2NhZjc1NDI3MmRjODQ1NjNiMDM1MmI3YTE0MzExYWY1NWQyNDUzMTVhY2UyN2M2NTM2OWUxNWY3MTUxZDQxZDEnLAogICAgICAgICdjYjQ3NDY2MGVmMzVmNWYyYTQxYjY0M2ZhNWU0NjA1NzVmNGZhOWI3OTYyMjMyYTVjMzJmOTA4MzE4YTA0NDc2JwogICAgICBdLAogICAgICBbCiAgICAgICAgJzI2MDBjYTRiMjgyY2I5ODZmODVkMGYxNzA5OTc5ZDhiNDRhMDljMDdjYjg2ZDdjMTI0NDk3YmM4NmYwODIxMjAnLAogICAgICAgICc0MTE5Yjg4NzUzYzE1YmQ2YTY5M2IwM2ZjZGRiYjQ1ZDVhYzZiZTc0YWI1ZjBlZjQ0YjBiZTk0NzVhN2U0YjQwJwogICAgICBdLAogICAgICBbCiAgICAgICAgJzc2MzVjYTcyZDdlODQzMmMzMzhlYzUzY2QxMjIyMGJjMDFjNDg2ODVlMjRmN2RjOGM2MDJhNzc0Njk5OGU0MzUnLAogICAgICAgICc5MWI2NDk2MDk0ODlkNjEzZDFkNWU1OTBmNzhlNmQ3NGVjZmMwNjFkNTcwNDhiYWQ5ZTc2ZjMwMmM1YjljNjEnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnNzU0ZTMyMzlmMzI1NTcwY2RiYmY0YTg3ZGVlZThhNjZiN2YyYjMzNDc5ZDQ2OGZiYzFhNTA3NDNiZjU2Y2MxOCcsCiAgICAgICAgJzY3M2ZiODZlNWJkYTMwZmIzY2QwZWQzMDRlYTQ5YTAyM2VlMzNkMDE5N2E2OTVkMGM1ZDk4MDkzYzUzNjY4MycKICAgICAgXSwKICAgICAgWwogICAgICAgICdlM2U2YmQxMDcxYTFlOTZhZmY1Nzg1OWM4MmQ1NzBmMDMzMDgwMDY2MWQxYzk1MmY5ZmUyNjk0NjkxZDliOWU4JywKICAgICAgICAnNTljOWUwYmJhMzk0ZTc2ZjQwYzBhYTU4Mzc5YTNjYjZhNWEyMjgzOTkzZTkwYzQxNjcwMDJhZjQ5MjBlMzdmNScKICAgICAgXSwKICAgICAgWwogICAgICAgICcxODZiNDgzZDA1NmEwMzM4MjZhZTczZDg4ZjczMjk4NWM0Y2NiMWYzMmJhMzVmNGI0Y2M0N2ZkY2YwNGFhNmViJywKICAgICAgICAnM2I5NTJkMzJjNjdjZjc3ZTJlMTc0NDZlMjA0MTgwYWIyMWZiODA5MDg5NTEzOGI0YTRhNzk3Zjg2ZTgwODg4YicKICAgICAgXSwKICAgICAgWwogICAgICAgICdkZjlkNzBhNmI5ODc2Y2U1NDRjOTg1NjFmNGJlNGY3MjU0NDJlNmQyYjczN2Q5YzkxYTgzMjE3MjRjZTA5NjNmJywKICAgICAgICAnNTVlYjJkYWZkODRkNmNjZDVmODYyYjc4NWRjMzlkNGFiMTU3MjIyNzIwZWY5ZGEyMTdiOGM0NWNmMmJhMjQxNycKICAgICAgXSwKICAgICAgWwogICAgICAgICc1ZWRkNWNjMjNjNTFlODdhNDk3Y2E4MTVkNWRjZTBmOGFiNTI1NTRmODQ5ZWQ4OTk1ZGU2NGM1ZjM0Y2U3MTQzJywKICAgICAgICAnZWZhZTljOGRiYzE0MTMwNjYxZThjZWMwMzBjODlhZDBjMTNjNjZjMGQxN2EyOTA1Y2RjNzA2YWI3Mzk5YTg2OCcKICAgICAgXSwKICAgICAgWwogICAgICAgICcyOTA3OThjMmI2NDc2ODMwZGExMmZlMDIyODdlOWU3NzdhYTNmYmExYzM1NWIxN2E3MjJkMzYyZjg0NjE0ZmJhJywKICAgICAgICAnZTM4ZGE3NmRjZDQ0MDYyMTk4OGQwMGJjZjc5YWYyNWQ1YjI5YzA5NGRiMmEyMzE0NmQwMDNhZmQ0MTk0M2U3YScKICAgICAgXSwKICAgICAgWwogICAgICAgICdhZjNjNDIzYTk1ZDlmNWIzMDU0NzU0ZWZhMTUwYWMzOWNkMjk1NTJmZTM2MDI1NzM2MmRmZGVjZWY0MDUzYjQ1JywKICAgICAgICAnZjk4YTNmZDgzMWViMmI3NDlhOTNiMGU2ZjM1Y2ZiNDBjOGNkNWFhNjY3YTE1NTgxYmMyZmVkZWQ0OThmZDljNicKICAgICAgXSwKICAgICAgWwogICAgICAgICc3NjZkYmIyNGQxMzRlNzQ1Y2NjYWEyOGM5OWJmMjc0OTA2YmI2NmIyNmRjZjk4ZGY4ZDJmZWQ1MGQ4ODQyNDlhJywKICAgICAgICAnNzQ0YjExNTJlYWNiZTVlMzhkY2M4ODc5ODBkYTM4Yjg5NzU4NGE2NWZhMDZjZWRkMmM5MjRmOTdjYmFjNTk5NicKICAgICAgXSwKICAgICAgWwogICAgICAgICc1OWRiZjQ2ZjhjOTQ3NTliYTIxMjc3YzMzNzg0ZjQxNjQ1ZjdiNDRmNmM1OTZhNThjZTkyZTY2NjE5MWFiZTNlJywKICAgICAgICAnYzUzNGFkNDQxNzVmYmMzMDBmNGVhNmNlNjQ4MzA5YTA0MmNlNzM5YTc5MTk3OThjZDg1ZTIxNmM0YTMwN2Y2ZScKICAgICAgXSwKICAgICAgWwogICAgICAgICdmMTNhZGE5NTEwM2M0NTM3MzA1ZTY5MWU3NGU5YTRhOGRkNjQ3ZTcxMWE5NWU3M2NiNjJkYzYwMThjZmQ4N2I4JywKICAgICAgICAnZTEzODE3YjQ0ZWUxNGRlNjYzYmY0YmM4MDgzNDFmMzI2OTQ5ZTIxYTZhNzVjMjU3MDc3ODQxOWJkYWY1NzMzZCcKICAgICAgXSwKICAgICAgWwogICAgICAgICc3NzU0YjRmYTBlOGFjZWQwNmQ0MTY3YTJjNTljY2E0Y2RhMTg2OWMwNmViYWRmYjY0ODg1NTAwMTVhODg1MjJjJywKICAgICAgICAnMzBlOTNlODY0ZTY2OWQ4MjIyNGI5NjdjMzAyMGI4ZmE4ZDFlNGUzNTBiNmNiY2M1MzdhNDhiNTc4NDExNjNhMicKICAgICAgXSwKICAgICAgWwogICAgICAgICc5NDhkY2FkZjU5OTBlMDQ4YWEzODc0ZDQ2YWJlZjlkNzAxODU4Zjk1ZGU4MDQxZDJhNjgyOGM5OWUyMjYyNTE5JywKICAgICAgICAnZTQ5MWE0MjUzN2Y2ZTU5N2Q1ZDI4YTMyMjRiMWJjMjVkZjkxNTRlZmJkMmVmMWQyY2JiYTJjYWU1MzQ3ZDU3ZScKICAgICAgXSwKICAgICAgWwogICAgICAgICc3OTYyNDE0NDUwYzc2YzE2ODljN2I0OGY4MjAyZWMzN2ZiMjI0Y2Y1YWMwYmZhMTU3MDMyOGE4YTNkN2M3N2FiJywKICAgICAgICAnMTAwYjYxMGVjNGZmYjQ3NjBkNWMxZmMxMzNlZjZmNmIxMjUwN2EwNTFmMDRhYzU3NjBhZmE1YjI5ZGI4MzQzNycKICAgICAgXSwKICAgICAgWwogICAgICAgICczNTE0MDg3ODM0OTY0YjU0YjE1YjE2MDY0NGQ5MTU0ODVhMTY5NzcyMjViODg0N2JiMGRkMDg1MTM3ZWM0N2NhJywKICAgICAgICAnZWYwYWZiYjIwNTYyMDU0NDhlMTY1MmM0OGU4MTI3ZmM2MDM5ZTc3YzE1YzIzNzhiN2U3ZDE1YTBkZTI5MzMxMScKICAgICAgXSwKICAgICAgWwogICAgICAgICdkM2NjMzBhZDZiNDgzZTRiYzc5Y2UyYzlkZDhiYzU0OTkzZTk0N2ViOGRmNzg3YjQ0Mjk0M2QzZjdiNTI3ZWFmJywKICAgICAgICAnOGIzNzhhMjJkODI3Mjc4ZDg5YzVlOWJlOGY5NTA4YWUzYzJhZDQ2MjkwMzU4NjMwYWZiMzRkYjA0ZWVkZTBhNCcKICAgICAgXSwKICAgICAgWwogICAgICAgICcxNjI0ZDg0NzgwNzMyODYwY2UxYzc4ZmNiZmVmZTA4YjJiMjk4MjNkYjkxM2Y2NDkzOTc1YmEwZmY0ODQ3NjEwJywKICAgICAgICAnNjg2NTFjZjliNmRhOTAzZTA5MTQ0NDhjNmNkOWQ0Y2E4OTY4NzhmNTI4MmJlNGM4Y2MwNmUyYTQwNDA3ODU3NScKICAgICAgXSwKICAgICAgWwogICAgICAgICc3MzNjZTgwZGE5NTVhOGEyNjkwMmM5NTYzM2U2MmE5ODUxOTI0NzRiNWFmMjA3ZGE2ZGY3YjRmZDVmYzYxY2Q0JywKICAgICAgICAnZjU0MzVhMmJkMmJhZGY3ZDQ4NWE0ZDhiOGRiOWZjY2UzZTFlZjhlMDIwMWU0NTc4YzU0NjczYmMxZGM1ZWExZCcKICAgICAgXSwKICAgICAgWwogICAgICAgICcxNWQ5NDQxMjU0OTQ1MDY0Y2YxYTFjMzNiYmQzYjQ5Zjg5NjZjNTA5MjE3MWU2OTllZjI1OGRmYWI4MWMwNDVjJywKICAgICAgICAnZDU2ZWIzMGI2OTQ2M2U3MjM0ZjUxMzdiNzNiODQxNzc0MzQ4MDBiYWNlYmZjNjg1ZmMzN2JiZTllZmU0MDcwZCcKICAgICAgXSwKICAgICAgWwogICAgICAgICdhMWQwZmNmMmVjOWRlNjc1YjYxMjEzNmU1Y2U3MGQyNzFjMjE0MTdjOWQyYjhhYWFhYzEzODU5OWQwNzE3OTQwJywKICAgICAgICAnZWRkNzdmNTBiY2I1YTNjYWIyZTkwNzM3MzA5NjY3ZjI2NDE0NjJhNTQwNzBmM2Q1MTkyMTJkMzljMTk3YTYyOScKICAgICAgXSwKICAgICAgWwogICAgICAgICdlMjJmYmUxNWMwYWY4Y2NjNTc4MGMwNzM1Zjg0ZGJlOWE3OTBiYWRlZTgyNDVjMDZjN2NhMzczMzFjYjM2OTgwJywKICAgICAgICAnYTg1NWJhYmFkNWNkNjBjODhiNDMwYTY5ZjUzYTFhN2EzODI4OTE1NDk2NDc5OWJlNDNkMDZkNzdkMzFkYTA2JwogICAgICBdLAogICAgICBbCiAgICAgICAgJzMxMTA5MWRkOTg2MGU4ZTIwZWUxMzQ3M2MxMTU1ZjVmNjk2MzVlMzk0NzA0ZWFhNzQwMDk0NTIyNDZjZmE5YjMnLAogICAgICAgICc2NmRiNjU2Zjg3ZDFmMDRmZmZkMWYwNDc4OGMwNjgzMDg3MWVjNWE2NGZlZWU2ODViZDgwZjBiMTI4NmQ4Mzc0JwogICAgICBdLAogICAgICBbCiAgICAgICAgJzM0YzFmZDA0ZDMwMWJlODliMzFjMDQ0MmQzZTZhYzI0ODgzOTI4YjQ1YTkzNDA3ODE4NjdkNDIzMmVjMmRiZGYnLAogICAgICAgICc5NDE0Njg1ZTk3YjFiNTk1NGJkNDZmNzMwMTc0MTM2ZDU3ZjFjZWViNDg3NDQzZGM1MzIxODU3YmE3M2FiZWUnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnZjIxOWVhNWQ2YjU0NzAxYzFjMTRkZTViNTU3ZWI0MmE4ZDEzZjNhYmJjZDA4YWZmY2MyYTVlNmIwNDliOGQ2MycsCiAgICAgICAgJzRjYjk1OTU3ZTgzZDQwYjBmNzNhZjQ1NDRjY2NmNmIxZjRiMDhkM2MwN2IyN2ZiOGQ4YzI5NjJhNDAwNzY2ZDEnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnZDdiODc0MGY3NGE4ZmJhYWIxZjY4M2RiOGY0NWRlMjY1NDNhNTQ5MGJjYTYyNzA4NzIzNjkxMjQ2OWEwYjQ0OCcsCiAgICAgICAgJ2ZhNzc5NjgxMjhkOWM5MmVlMTAxMGYzMzdhZDQ3MTdlZmYxNWRiNWVkM2MwNDliMzQxMWUwMzE1ZWFhNDU5M2InCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnMzJkMzFjMjIyZjhmNmYwZWY4NmY3Yzk4ZDNhMzMzNWVhZDViY2QzMmFiZGQ5NDI4OWZlNGQzMDkxYWE4MjRiZicsCiAgICAgICAgJzVmMzAzMmY1ODkyMTU2ZTM5Y2NkM2Q3OTE1YjllMWRhMmU2ZGFjOWU2ZjI2ZTk2MTExOGQxNGI4NDYyZTE2NjEnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnNzQ2MWYzNzE5MTRhYjMyNjcxMDQ1YTE1NWQ5ODMxZWE4NzkzZDc3Y2Q1OTU5MmM0MzQwZjg2Y2JjMTgzNDdiNScsCiAgICAgICAgJzhlYzBiYTIzOGI5NmJlYzBjYmRkZGNhZTBhYTQ0MjU0MmVlZTFmZjUwYzk4NmVhNmIzOTg0N2IzY2MwOTJmZjYnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnZWUwNzlhZGIxZGYxODYwMDc0MzU2YTI1YWEzODIwNmE2ZDcxNmIyYzNlNjc0NTNkMjg3Njk4YmFkN2IyYjJkNicsCiAgICAgICAgJzhkYzI0MTJhYWZlM2JlNWM0YzVmMzdlMGVjYzVmOWY2YTQ0Njk4OWFmMDRjNGUyNWViYWFjNDc5ZWMxYzhjMWUnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnMTZlYzkzZTQ0N2VjODNmMDQ2N2IxODMwMmVlNjIwZjdlNjVkZTMzMTg3NGM5ZGM3MmJmZDg2MTZiYTlkYTZiNScsCiAgICAgICAgJzVlNDYzMTE1MGU2MmZiNDBkMGU4YzJhN2NhNTgwNGEzOWQ1ODE4NmE1MGU0OTcxMzk2MjY3NzhlMjViMDY3NGQnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnZWFhNWY5ODBjMjQ1ZjZmMDM4OTc4MjkwYWZhNzBiNmJkODg1NTg5N2Y5OGI2YWE0ODViOTYwNjVkNTM3YmQ5OScsCiAgICAgICAgJ2Y2NWY1ZDNlMjkyYzJlMDgxOWE1MjgzOTFjOTk0NjI0ZDc4NDg2OWQ3ZTZlYTY3ZmIxODA0MTAyNGVkYzA3ZGMnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnNzhjOTQwNzU0NGFjMTMyNjkyZWUxOTEwYTAyNDM5OTU4YWUwNDg3NzE1MTM0MmVhOTZjNGI2YjM1YTQ5ZjUxJywKICAgICAgICAnZjNlMDMxOTE2OWViOWI4NWQ1NDA0Nzk1NTM5YTVlNjhmYTFmYmQ1ODNjMDY0ZDI0NjJiNjc1ZjE5NGEzZGRiNCcKICAgICAgXSwKICAgICAgWwogICAgICAgICc0OTRmNGJlMjE5YTFhNzcwMTZkY2Q4Mzg0MzFhZWEwMDAxY2RjOGFlN2E2ZmM2ODg3MjY1NzhkOTcwMjg1N2E1JywKICAgICAgICAnNDIyNDJhOTY5MjgzYTVmMzM5YmE3ZjA3NWUzNmJhMmFmOTI1Y2UzMGQ3NjdlZDZlNTVmNGIwMzE4ODBkNTYyYycKICAgICAgXSwKICAgICAgWwogICAgICAgICdhNTk4YTgwMzBkYTZkODZjNmJjN2YyZjUxNDRlYTU0OWQyODIxMWVhNThmYWE3MGViZjRjMWU2NjVjMWZlOWI1JywKICAgICAgICAnMjA0YjVkNmY4NDgyMmMzMDdlNGI0YTcxNDA3MzdhZWMyM2ZjNjNiNjViMzVmODZhMTAwMjZkYmQyZDg2NGU2YicKICAgICAgXSwKICAgICAgWwogICAgICAgICdjNDE5MTYzNjVhYmIyYjVkMDkxOTJmNWYyZGJlYWZlYzIwOGYwMjBmMTI1NzBhMTg0ZGJhZGMzZTU4NTk1OTk3JywKICAgICAgICAnNGYxNDM1MWQwMDg3ZWZhNDlkMjQ1YjMyODk4NDk4OWQ1Y2FmOTQ1MGYzNGJmYzBlZDE2ZTk2YjU4ZmE5OTEzJwogICAgICBdLAogICAgICBbCiAgICAgICAgJzg0MWQ2MDYzYTU4NmZhNDc1YTcyNDYwNGRhMDNiYzViOTJhMmUwZDJlMGEzNmFjZmU0YzczYTU1MTQ3NDI4ODEnLAogICAgICAgICc3Mzg2N2Y1OWMwNjU5ZTgxOTA0ZjlhMWM3NTQzNjk4ZTYyNTYyZDY3NDRjMTY5Y2U3YTM2ZGUwMWE4ZDYxNTQnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnNWU5NWJiMzk5YTY5NzFkMzc2MDI2OTQ3Zjg5YmRlMmYyODJiMzM4MTA5MjhiZTRkZWQxMTJhYzRkNzBlMjBkNScsCiAgICAgICAgJzM5ZjIzZjM2NjgwOTA4NWJlZWJmYzcxMTgxMzEzNzc1YTk5YzlhZWQ3ZDhiYTM4YjE2MTM4NGM3NDYwMTI4NjUnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnMzZlNDY0MWE1Mzk0OGZkNDc2YzM5ZjhhOTlmZDk3NGU1ZWMwNzU2NGI1MzE1ZDhiZjk5NDcxYmNhMGVmMmY2NicsCiAgICAgICAgJ2QyNDI0YjFiMWFiZTRlYjgxNjQyMjdiMDg1YzlhYTk0NTZlYTEzNDkzZmQ1NjNlMDZmZDUxY2Y1Njk0Yzc4ZmMnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnMzM2NTgxZWE3YmZiYmIyOTBjMTkxYTJmNTA3YTQxY2Y1NjQzODQyMTcwZTkxNGZhZWFiMjdjMmM1NzlmNzI2JywKICAgICAgICAnZWFkMTIxNjg1OTVmZTFiZTk5MjUyMTI5YjZlNTZiMzM5MWY3YWIxNDEwY2QxZTBlZjNkY2RjYWJkMmZkYTIyNCcKICAgICAgXSwKICAgICAgWwogICAgICAgICc4YWI4OTgxNmRhZGZkNmI2YTFmMjYzNGZjZjAwZWM4NDAzNzgxMDI1ZWQ2ODkwYzQ4NDk3NDI3MDZiZDQzZWRlJywKICAgICAgICAnNmZkY2VmMDlmMmY2ZDBhMDQ0ZTY1NGFlZjYyNDEzNmY1MDNkNDU5YzNlODk4NDU4NThhNDdhOTEyOWNkZDI0ZScKICAgICAgXSwKICAgICAgWwogICAgICAgICcxZTMzZjFhNzQ2YzljNTc3ODEzMzM0NGQ5Mjk5ZmNhYTIwYjA5MzhlOGFjZmYyNTQ0YmI0MDI4NGI4YzVmYjk0JywKICAgICAgICAnNjA2NjAyNTdkZDExYjNhYTljOGVkNjE4ZDI0ZWRmZjIzMDZkMzIwZjFkMDMwMTBlMzNhN2QyMDU3ZjNiM2I2JwogICAgICBdLAogICAgICBbCiAgICAgICAgJzg1YjdjMWRjYjNjZWMxYjdlZTdmMzBkZWQ3OWRkMjBhMGVkMWY0Y2MxOGNiY2ZjZmE0MTAzNjFmZDhmMDhmMzEnLAogICAgICAgICczZDk4YTljZGQwMjZkZDQzZjM5MDQ4ZjI1YTg4NDdmNGZjYWZhZDE4OTVkN2E2MzNjNmZlZDNjMzVlOTk5NTExJwogICAgICBdLAogICAgICBbCiAgICAgICAgJzI5ZGY5ZmJkOGQ5ZTQ2NTA5Mjc1ZjRiMTI1ZDZkNDVkN2ZiZTlhM2I4NzhhN2FmODcyYTI4MDA2NjFhYzVmNTEnLAogICAgICAgICdiNGM0ZmU5OWM3NzVhNjA2ZTJkODg2MjE3OTEzOWZmZGE2MWRjODYxYzAxOWU1NWNkMjg3NmViMmEyN2Q4NGInCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnYTBiMWNhZTA2YjBhODQ3YTNmZWE2ZTY3MWFhZjhhZGZkZmU1OGNhMmY3NjgxMDVjODA4MmIyZTQ0OWZjZTI1MicsCiAgICAgICAgJ2FlNDM0MTAyZWRkZTA5NThlYzRiMTlkOTE3YTZhMjhlNmI3MmRhMTgzNGFmZjBlNjUwZjA0OTUwM2EyOTZjZjInCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnNGU4Y2VhZmI5YjNlOWExMzZkYzdmZjY3ZTg0MDI5NWI0OTlkZmIzYjIxMzNlNGJhMTEzZjJlNGMwZTEyMWU1JywKICAgICAgICAnY2YyMTc0MTE4YzhiNmQ3YTRiNDhmNmQ1MzRjZTVjNzk0MjJjMDg2YTYzNDYwNTAyYjgyN2NlNjJhMzI2NjgzYycKICAgICAgXSwKICAgICAgWwogICAgICAgICdkMjRhNDRlMDQ3ZTE5YjZmNWFmYjgxYzdjYTJmNjkwODBhNTA3NjY4OWEwMTA5MTlmNDI3MjVjMmI3ODlhMzNiJywKICAgICAgICAnNmZiOGQ1NTkxYjQ2NmY4ZmM2M2RiNTBmMWMwZjFjNjkwMTNmOTk2ODg3YjgyNDRkMmNkZWM0MTdhZmVhOGZhMycKICAgICAgXSwKICAgICAgWwogICAgICAgICdlYTAxNjA2YTdhNmM5Y2RkMjQ5ZmRmY2ZhY2I5OTU4NDAwMWVkZDI4YWJiYWI3N2I1MTA0ZTk4ZThlM2IzNWQ0JywKICAgICAgICAnMzIyYWY0OTA4YzczMTJiMGNmYmZlMzY5ZjdhN2IzY2RiN2Q0NDk0YmMyODIzNzAwY2ZkNjUyMTg4YTNlYTk4ZCcKICAgICAgXSwKICAgICAgWwogICAgICAgICdhZjhhZGRiZjJiNjYxYzhhNmM2MzI4NjU1ZWI5NjY1MTI1MjAwN2Q4YzVlYTMxYmU0YWQxOTZkZThjZTIxMzFmJywKICAgICAgICAnNjc0OWU2N2MwMjliODVmNTJhMDM0ZWFmZDA5NjgzNmIyNTIwODE4NjgwZTI2YWM4ZjNkZmJjZGI3MTc0OTcwMCcKICAgICAgXSwKICAgICAgWwogICAgICAgICdlM2FlMTk3NDU2NmNhMDZjYzUxNmQ0N2UwZmIxNjVhNjc0YTNkYWJjZmNhMTVlNzIyZjBlMzQ1MGY0NTg4OScsCiAgICAgICAgJzJhZWFiZTdlNDUzMTUxMDExNjIxN2YwN2JmNGQwNzMwMGRlOTdlNDg3NGY4MWY1MzM0MjBhNzJlZWIwYmQ2YTQnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnNTkxZWUzNTUzMTNkOTk3MjFjZjY5OTNmZmVkMWUzZTMwMTk5M2ZmM2VkMjU4ODAyMDc1ZWE4Y2VkMzk3ZTI0NicsCiAgICAgICAgJ2IwZWE1NThhMTEzYzMwYmVhNjBmYzQ3NzU0NjBjNzkwMWZmMGIwNTNkMjVjYTJiZGVlZTk4ZjFhNGJlNWQxOTYnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnMTEzOTZkNTVmZGE1NGM0OWYxOWFhOTczMThkOGRhNjFmYTg1ODRlNDdiMDg0OTQ1MDc3Y2YwMzI1NWI1Mjk4NCcsCiAgICAgICAgJzk5OGM3NGE4Y2Q0NWFjMDEyODlkNTgzM2E3YmViNDc0NGZmNTM2YjAxYjI1N2JlNGM1NzY3YmVhOTNlYTU3YTQnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnM2M1ZDJhMWJhMzljNWExNzkwMDAwNzM4YzllMGM0MGI4ZGNkZmQ1NDY4NzU0YjY0MDU1NDAxNTdlMDE3YWE3YScsCiAgICAgICAgJ2IyMjg0Mjc5OTk1YTM0ZTJmOWQ0ZGU3Mzk2ZmMxOGI4MGY5YjhiOWZkZDI3MGY2NjYxZjc5Y2E0YzgxYmQyNTcnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnY2M4NzA0YjhhNjBhMGRlZmEzYTk5YTcyOTlmMmU5YzNmYmMzOTVhZmIwNGFjMDc4NDI1ZWY4YTE3OTNjYzAzMCcsCiAgICAgICAgJ2JkZDQ2MDM5ZmVlZDE3ODgxZDFlMDg2MmRiMzQ3ZjhjZjM5NWI3NGZjNGJjZGM0ZTk0MGI3NGUzYWMxZjFiMTMnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnYzUzM2U0ZjdlYTg1NTVhYWNkOTc3N2FjNWNhZDI5Yjk3ZGQ0ZGVmY2NjNTNlZTdlYTIwNDExOWIyODg5YjE5NycsCiAgICAgICAgJzZmMGEyNTZiYzVlZmRmNDI5YTJmYjYyNDJmMWE0M2EyZDliOTI1YmI0YTRiM2EyNmJiOGUwZjQ1ZWI1OTYwOTYnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnYzE0ZjhmMmNjYjI3ZDZmMTA5ZjZkMDhkMDNjYzk2YTY5YmE4YzM0ZWVjMDdiYmNmNTY2ZDQ4ZTMzZGE2NTkzJywKICAgICAgICAnYzM1OWQ2OTIzYmIzOThmN2ZkNDQ3M2UxNmZlMWMyODQ3NWI3NDBkZDA5ODA3NWU2YzBlODY0OTExM2RjM2EzOCcKICAgICAgXSwKICAgICAgWwogICAgICAgICdhNmNiYzMwNDZiYzZhNDUwYmFjMjQ3ODlmYTE3MTE1YTRjOTczOWVkNzVmOGYyMWNlNDQxZjcyZTBiOTBlNmVmJywKICAgICAgICAnMjFhZTdmNDY4MGU4ODliYjEzMDYxOWUyYzBmOTVhMzYwY2ViNTczYzcwNjAzMTM5ODYyYWZkNjE3ZmE5YjlmJwogICAgICBdLAogICAgICBbCiAgICAgICAgJzM0N2Q2ZDlhMDJjNDg5MjdlYmZiODZjMTM1OWIxY2FmMTMwYTNjMDI2N2QxMWNlNjM0NGIzOWY5OWQ0M2NjMzgnLAogICAgICAgICc2MGVhN2Y2MWEzNTM1MjRkMWM5ODdmNmVjZWM5MmYwODZkNTY1YWI2ODc4NzBjYjEyNjg5ZmYxZTMxYzc0NDQ4JwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2RhNjU0NWQyMTgxZGI4ZDk4M2Y3ZGNiMzc1ZWY1ODY2ZDQ3YzY3YjFiZjMxYzhjZjg1NWVmNzQzN2I3MjY1NmEnLAogICAgICAgICc0OWI5NjcxNWFiNjg3OGE3OWU3OGYwN2NlNTY4MGM1ZDY2NzMwNTFiNDkzNWJkODk3ZmVhODI0Yjc3ZGMyMDhhJwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2M0MDc0N2NjOWQwMTJjYjFhMTNiODE0ODMwOWM2ZGU3ZWMyNWQ2OTQ1ZDY1NzE0NmI5ZDU5OTRiOGZlYjExMTEnLAogICAgICAgICc1Y2E1NjA3NTNiZTJhMTJmYzZkZTZjYWYyY2I0ODk1NjVkYjkzNjE1NmI5NTE0ZTFiYjVlODMwMzdlMGZhMmQ0JwogICAgICBdLAogICAgICBbCiAgICAgICAgJzRlNDJjOGVjODJjOTk3OThjY2YzYTYxMGJlODcwZTc4MzM4YzdmNzEzMzQ4YmQzNGM4MjAzZWY0MDM3ZjM1MDInLAogICAgICAgICc3NTcxZDc0ZWU1ZTBmYjkyYTdhOGIzM2EwNzc4MzM0MWE1NDkyMTQ0Y2M1NGJjYzQwYTk0NDczNjkzNjA2NDM3JwogICAgICBdLAogICAgICBbCiAgICAgICAgJzM3NzVhYjcwODliYzZhZjgyM2FiYTJlMWFmNzBiMjM2ZDI1MWNhZGIwYzg2NzQzMjg3NTIyYTFiM2IwZGVkZWEnLAogICAgICAgICdiZTUyZDEwN2JjZmEwOWQ4YmNiOTczNmE4MjhjZmE3ZmFjOGRiMTdiZjdhNzZhMmM0MmFkOTYxNDA5MDE4Y2Y3JwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2NlZTMxY2JmN2UzNGVjMzc5ZDk0ZmI4MTRkM2Q3NzVhZDk1NDU5NWQxMzE0YmE4ODQ2OTU5ZTNlODJmNzRlMjYnLAogICAgICAgICc4ZmQ2NGExNGMwNmI1ODljMjZiOTQ3YWUyYmNmNmJmYTAxNDllZjBiZTE0ZWQ0ZDgwZjQ0OGEwMWM0M2IxYzZkJwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2I0ZjllYWVhMDliNjkxNzYxOWY2ZWE2YTRlYjU0NjRlZmRkYjU4ZmQ0NWIxZWJlZmNkYzFhMDFkMDhiNDc5ODYnLAogICAgICAgICczOWU1Yzk5MjViNWE1NGIwNzQzM2E0ZjE4YzYxNzI2ZjhiYjEzMWMwMTJjYTU0MmViMjRhOGFjMDcyMDA2ODJhJwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2Q0MjYzZGZjM2QyZGY5MjNhMDE3OWE0ODk2NmQzMGNlODRlMjUxNWFmYzNkY2NjMWI3NzkwNzc5MmViY2M2MGUnLAogICAgICAgICc2MmRmYWYwN2EwZjc4ZmViMzBlMzBkNjI5NTg1M2NlMTg5ZTEyNzc2MGFkNmNmN2ZhZTE2NGUxMjJhMjA4ZDU0JwogICAgICBdLAogICAgICBbCiAgICAgICAgJzQ4NDU3NTI0ODIwZmE2NWE0ZjhkMzVlYjY5MzA4NTdjMDAzMmFjYzBhNGEyZGU0MjIyMzNlZWRhODk3NjEyYzQnLAogICAgICAgICcyNWE3NDhhYjM2Nzk3OWQ5ODczM2MzOGExZmExYzJlN2RjNmNjMDdkYjJkNjBhOWFlN2E3NmFhYTQ5YmQwZjc3JwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2RmZWVlZjE4ODExMDFmMmNiMTE2NDRmM2EyYWZkZmMyMDQ1ZTE5OTE5MTUyOTIzZjM2N2ExNzY3YzExY2NlZGEnLAogICAgICAgICdlY2ZiNzA1NmNmMWRlMDQyZjk0MjBiYWIzOTY3OTNjMGMzOTBiZGU3NGI0YmJkZmYxNmE4M2FlMDlhOWE3NTE3JwogICAgICBdLAogICAgICBbCiAgICAgICAgJzZkN2VmNmIxNzU0M2Y4MzczYzU3M2Y0NGUxZjM4OTgzNWQ4OWJjYmM2MDYyY2VkMzZjODJkZjgzYjhmYWU4NTknLAogICAgICAgICdjZDQ1MGVjMzM1NDM4OTg2ZGZlZmExMGM1N2ZlYTliY2M1MjFhMDk1OWIyZDgwYmJmNzRiMTkwZGNhNzEyZDEwJwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2U3NTYwNWQ1OTEwMmE1YTI2ODQ1MDBkM2I5OTFmMmUzZjNjODhiOTMyMjU1NDcwMzVhZjI1YWY2NmUwNDU0MWYnLAogICAgICAgICdmNWM1NDc1NGE4ZjcxZWU1NDBiOWI0ODcyODQ3M2UzMTRmNzI5YWM1MzA4YjA2OTM4MzYwOTkwZTJiZmFkMTI1JwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2ViOTg2NjBmNGM0ZGZhYTA2YTJiZTQ1M2Q1MDIwYmM5OWEwYzJlNjBhYmUzODg0NTdkZDQzZmVmYjFlZDYyMGMnLAogICAgICAgICc2Y2I5YTg4NzZkOWNiODUyMDYwOWFmM2FkZDI2Y2QyMGEwYTdjZDhhOTQxMTEzMWNlODVmNDQxMDAwOTkyMjNlJwogICAgICBdLAogICAgICBbCiAgICAgICAgJzEzZTg3YjAyN2Q4NTE0ZDM1OTM5ZjJlNjg5MmIxOTkyMjE1NDU5Njk0MTg4ODMzNmRjMzU2M2UzYjhkYmE5NDInLAogICAgICAgICdmZWY1YTNjNjgwNTlhNmRlYzVkNjI0MTE0YmYxZTkxYWFjMmI5ZGE1NjhkNmFiZWIyNTcwZDU1NjQ2YjhhZGYxJwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2VlMTYzMDI2ZTlmZDZmZTAxN2MzOGYwNmE1YmU2ZmMxMjU0MjRiMzcxY2UyNzA4ZTdiZjQ0OTE2OTFlNTc2NGEnLAogICAgICAgICcxYWNiMjUwZjI1NWRkNjFjNDNkOTRjY2M2NzBkMGY1OGY0OWFlM2ZhMTViOTY2MjNlNTQzMGRhMGFkNmM2MmIyJwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2IyNjhmNWVmOWFkNTFlNGQ3OGRlM2E3NTBjMmRjODliMWU2MjZkNDM1MDU4Njc5OTk5MzJlNWRiMzNhZjNkODAnLAogICAgICAgICc1ZjMxMGQ0YjNjOTliOWViYjE5Zjc3ZDQxYzFkZWUwMThjZjBkMzRmZDQxOTE2MTQwMDNlOTQ1YTEyMTZlNDIzJwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2ZmMDdmMzExOGE5ZGYwMzVlOWZhZDg1ZWI2YzdiZmU0MmIwMmYwMWNhOTljZWVhM2JmN2ZmZGJhOTNjNDc1MGQnLAogICAgICAgICc0MzgxMzZkNjAzZTg1OGEzYTVjNDQwYzM4ZWNjYmFkZGMxZDI5NDIxMTRlMmVkZGQ0NzQwZDA5OGNlZDFmMGQ4JwogICAgICBdLAogICAgICBbCiAgICAgICAgJzhkOGI5ODU1YzdjMDUyYTM0MTQ2ZmQyMGZmYjY1OGJlYTRiOWY2OWUwZDgyNWViZWMxNmU4YzNjZTJiNTI2YTEnLAogICAgICAgICdjZGI1NTllZWRjMmQ3OWY5MjZiYWY0NGZiODRlYTRkNDRiY2Y1MGZlZTUxZDdjZWIzMGUyZTdmNDYzMDM2NzU4JwogICAgICBdLAogICAgICBbCiAgICAgICAgJzUyZGIwYjUzODRkZmJmMDViZmE5ZDQ3MmQ3YWUyNmRmZTRiODUxY2VjYTkxYjFlYmE1NDI2MzE4MGRhMzJiNjMnLAogICAgICAgICdjM2I5OTdkMDUwZWU1ZDQyM2ViYWY2NmE2ZGI5ZjU3YjMxODBjOTAyODc1Njc5ZGU5MjRiNjlkODRhN2IzNzUnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnZTYyZjk0OTBkM2Q1MWRhNjM5NWVmZDI0ZTgwOTE5Y2M3ZDBmMjljM2YzZmE0OGM2ZmZmNTQzYmVjYmQ0MzM1MicsCiAgICAgICAgJzZkODlhZDdiYTQ4NzZiMGIyMmMyY2EyODBjNjgyODYyZjM0MmM4NTkxZjFkYWY1MTcwZTA3YmZkOWNjYWZhN2QnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnN2YzMGVhMjQ3NmIzOTliNDk1NzUwOWM4OGY3N2QwMTkxYWZhMmZmNWNiN2IxNGZkNmQ4ZTdkNjVhYWFiMTE5MycsCiAgICAgICAgJ2NhNWVmN2Q0YjIzMWM5NGMzYjE1Mzg5YTVmNjMxMWU5ZGFmZjdiYjY3YjEwM2U5ODgwZWY0YmZmNjM3YWNhZWMnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnNTA5OGZmMWUxZDlmMTRmYjQ2YTIxMGZhZGE2YzkwM2ZlZjBmYjdiNGExZGQxZDlhYzYwYTAzNjE4MDBiN2EwMCcsCiAgICAgICAgJzk3MzExNDFkODFmYzhmODA4NGQzN2M2ZTc1NDIwMDZiM2VlMWI0MGQ2MGRmZTUzNjJhNWIxMzJmZDE3ZGRjMCcKICAgICAgXSwKICAgICAgWwogICAgICAgICczMmI3OGM3ZGU5ZWU1MTJhNzI4OTViZTZiOWNiZWZhNmUyZjNjNGNjY2U0NDVjOTZiOWYyYzgxZTI3NzhhZDU4JywKICAgICAgICAnZWUxODQ5ZjUxM2RmNzFlMzJlZmMzODk2ZWUyODI2MGM3M2JiODA1NDdhZTIyNzViYTQ5NzIzNzc5NGM4NzUzYycKICAgICAgXSwKICAgICAgWwogICAgICAgICdlMmNiNzRmZGRjOGU5ZmJjZDA3NmVlZjJhN2M3MmIwY2UzN2Q1MGYwODI2OWRmYzA3NGI1ODE1NTA1NDdhNGY3JywKICAgICAgICAnZDNhYTJlZDcxYzlkZDIyNDdhNjJkZjA2MjczNmViMGJhZGRlYTllMzYxMjJkMmJlODY0MWFiY2IwMDVjYzRhNCcKICAgICAgXSwKICAgICAgWwogICAgICAgICc4NDM4NDQ3NTY2ZDRkN2JlZGFkYzI5OTQ5NmFiMzU3NDI2MDA5YTM1ZjIzNWNiMTQxYmUwZDk5Y2QxMGFlM2E4JywKICAgICAgICAnYzRlMTAyMDkxNjk4MGE0ZGE1ZDAxYWM1ZTZhZDMzMDczNGVmMGQ3OTA2NjMxYzRmMjM5MDQyNmIyZWRkNzkxZicKICAgICAgXSwKICAgICAgWwogICAgICAgICc0MTYyZDQ4OGI4OTQwMjAzOWI1ODRjNmZjNmMzMDg4NzA1ODdkOWM0NmY2NjBiODc4YWI2NWM4MmM3MTFkNjdlJywKICAgICAgICAnNjcxNjNlOTAzMjM2Mjg5Zjc3NmYyMmMyNWZiOGEzYWZjMTczMmYyYjg0YjRlOTVkYmRhNDdhZTVhMDg1MjY0OScKICAgICAgXSwKICAgICAgWwogICAgICAgICczZmFkM2ZhODRjYWYwZjM0ZjBmODliZmQyZGNmNTRmYzE3NWQ3NjdhZWMzZTUwNjg0ZjNiYTRhNGJmNWY2ODNkJywKICAgICAgICAnY2QxYmM3Y2I2Y2M0MDdiYjJmMGNhNjQ3YzcxOGE3MzBjZjcxODcyZTdkMGQyYTUzZmEyMGVmY2RmZTYxODI2JwogICAgICBdLAogICAgICBbCiAgICAgICAgJzY3NGYyNjAwYTMwMDdhMDA1NjhjMWE3Y2UwNWQwODE2YzFmYjg0YmYxMzcwNzk4ZjFjNjk1MzJmYWViMWE4NmInLAogICAgICAgICcyOTlkMjFmOTQxM2YzM2IzZWRmNDNiMjU3MDA0NTgwYjcwZGI1N2RhMGIxODIyNTllMDllZWNjNjllMGQzOGE1JwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2QzMmY0ZGE1NGFkZTc0YWJiODFiODE1YWQxZmIzYjI2M2Q4MmQ2YzY5MjcxNGJjZmY4N2QyOWJkNWVlOWYwOGYnLAogICAgICAgICdmOTQyOWU3MzhiOGU1M2I5NjhlOTkwMTZjMDU5NzA3NzgyZTE0ZjQ1MzUzNTlkNTgyZmM0MTY5MTBiM2VlYTg3JwogICAgICBdLAogICAgICBbCiAgICAgICAgJzMwZTRlNjcwNDM1Mzg1NTU2ZTU5MzY1NzEzNTg0NWQzNmZiYjY5MzFmNzJiMDhjYjFlZDk1NGYxZTNjZTNmZjYnLAogICAgICAgICc0NjJmOWJjZTYxOTg5ODYzODQ5OTM1MDExM2JiYzliMTBhODc4ZDM1ZGE3MDc0MGRjNjk1YTU1OWViODhkYjdiJwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2JlMjA2MjAwM2M1MWNjMzAwNDY4MjkwNDMzMGU0ZGVlN2YzZGNkMTBiMDFlNTgwYmYxOTcxYjA0ZDRjYWQyOTcnLAogICAgICAgICc2MjE4OGJjNDlkNjFlNTQyODU3M2Q0OGE3NGUxYzY1NWIxYzYxMDkwOTA1NjgyYTBkNTU1OGVkNzJkY2NiOWJjJwogICAgICBdLAogICAgICBbCiAgICAgICAgJzkzMTQ0NDIzYWNlMzQ1MWVkMjllMGZiOWFjMmFmMjExY2I2ZTg0YTYwMWRmNTk5M2M0MTk4NTlmZmY1ZGYwNGEnLAogICAgICAgICc3YzEwZGZiMTY0YzM0MjVmNWM3MWEzZjlkNzk5MjAzOGYxMDY1MjI0ZjcyYmI5ZDFkOTAyYTZkMTMwMzdiNDdjJwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2IwMTVmODA0NGY1ZmNiZGNmMjFjYTI2ZDZjMzRmYjgxOTc4MjkyMDVjN2I3ZDJhN2NiNjY0MThjMTU3YjExMmMnLAogICAgICAgICdhYjhjMWUwODZkMDRlODEzNzQ0YTY1NWIyZGY4ZDVmODNiM2NkYzZmYWEzMDg4YzFkM2FlYTE0NTRlM2ExZDVmJwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2Q1ZTllMWRhNjQ5ZDk3ZDg5ZTQ4NjgxMTdhNDY1YTNhNGY4YTE4ZGU1N2ExNDBkMzZiM2YyYWYzNDFhMjFiNTInLAogICAgICAgICc0Y2IwNDQzN2YzOTFlZDczMTExYTEzY2MxZDRkZDBkYjE2OTM0NjVjMjI0MDQ4MGQ4OTU1ZTg1OTJmMjc0NDdhJwogICAgICBdLAogICAgICBbCiAgICAgICAgJ2QzYWU0MTA0N2RkN2NhMDY1ZGJmOGVkNzdiOTkyNDM5OTgzMDA1Y2Q3MmUxNmQ2Zjk5NmE1MzE2ZDM2OTY2YmInLAogICAgICAgICdiZDFhZWIyMWFkMjJlYmIyMmExMGYwMzAzNDE3YzZkOTY0ZjhjZGQ3ZGYwYWNhNjE0YjEwZGMxNGQxMjVhYzQ2JwogICAgICBdLAogICAgICBbCiAgICAgICAgJzQ2M2UyNzYzZDg4NWY5NThmYzY2Y2RkMjI4MDBmMGE0ODcxOTdkMGE4MmUzNzdiNDlmODBhZjg3Yzg5N2IwNjUnLAogICAgICAgICdiZmVmYWNkYjBlNWQwZmQ3ZGYzYTMxMWE5NGRlMDYyYjI2YjgwYzYxZmJjOTc1MDhiNzk5OTI2NzFlZjdjYTdmJwogICAgICBdLAogICAgICBbCiAgICAgICAgJzc5ODVmZGZkMTI3YzA1NjdjNmY1M2VjMWJiNjNlYzMxNThlNTk3YzQwYmZlNzQ3YzgzY2RkZmM5MTA2NDE5MTcnLAogICAgICAgICc2MDNjMTJkYWYzZDk4NjJlZjJiMjVmZTFkZTI4OWFlZDI0ZWQyOTFlMGVjNjcwODcwM2E1YmQ1NjdmMzJlZDAzJwogICAgICBdLAogICAgICBbCiAgICAgICAgJzc0YTFhZDZiNWY3NmUzOWRiMmRkMjQ5NDEwZWFjN2Y5OWU3NGM1OWNiODNkMmQwZWQ1ZmYxNTQzZGE3NzAzZTknLAogICAgICAgICdjYzYxNTdlZjE4YzljNjNjZDYxOTNkODM2MzFiYmVhMDA5M2UwOTY4OTQyZThjMzNkNTczN2ZkNzkwZTBkYjA4JwogICAgICBdLAogICAgICBbCiAgICAgICAgJzMwNjgyYTUwNzAzMzc1ZjYwMmQ0MTY2NjRiYTE5YjdmYzliYWI0MmM3Mjc0NzQ2M2E3MWQwODk2YjIyZjZkYTMnLAogICAgICAgICc1NTNlMDRmNmIwMThiNGZhNmM4ZjM5ZTdmMzExZDMxNzYyOTBkMGUwZjE5Y2E3M2YxNzcxNGQ5OTc3YTIyZmY4JwogICAgICBdLAogICAgICBbCiAgICAgICAgJzllMjE1OGYwZDdjMGQ1ZjI2YzM3OTFlZmVmYTc5NTk3NjU0ZTdhMmIyNDY0ZjUyYjFlZTZjMTM0Nzc2OWVmNTcnLAogICAgICAgICc3MTJmY2RkMWI5MDUzZjA5MDAzYTM0ODFmYTc3NjJlOWZmZDdjOGVmMzVhMzg1MDllMmZiZjI2MjkwMDgzNzMnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnMTc2ZTI2OTg5YTQzYzljZmViYTQwMjljMjAyNTM4YzI4MTcyZTU2NmUzYzRmY2U3MzIyODU3ZjNiZTMyN2Q2NicsCiAgICAgICAgJ2VkOGNjOWQwNGIyOWViODc3ZDI3MGI0ODc4ZGM0M2MxOWFlZmQzMWY0ZWVlMDllZTdiNDc4MzRjMWZhNGIxYzMnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnNzVkNDZlZmVhMzc3MWU2ZTY4YWJiODlhMTNhZDc0N2VjZjE4OTIzOTNkZmM0ZjFiNzAwNDc4OGM1MDM3NGRhOCcsCiAgICAgICAgJzk4NTIzOTBhOTk1MDc2NzlmZDBiODZmZDJiMzlhODY4ZDdlZmMyMjE1MTM0NmUxYTNjYTQ3MjY1ODZhNmJlZDgnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnODA5YTIwYzY3ZDY0OTAwZmZiNjk4YzRjODI1ZjZkNWYyMzEwZmIwNDUxYzg2OTM0NWI3MzE5ZjY0NTYwNTcyMScsCiAgICAgICAgJzllOTk0OTgwZDk5MTdlMjJiNzZiMDYxOTI3ZmEwNDE0M2QwOTZjY2M1NDk2M2U2YTVlYmZhNWYzZjhlMjg2YzEnCiAgICAgIF0sCiAgICAgIFsKICAgICAgICAnMWIzODkwM2E0M2Y3ZjExNGVkNDUwMGI0ZWFjNzA4M2ZkZWZlY2UxY2YyOWM2MzUyOGQ1NjM0NDZmOTcyYzE4MCcsCiAgICAgICAgJzQwMzZlZGM5MzFhNjBhZTg4OTM1M2Y3N2ZkNTNkZTRhMjcwOGIyNmI2ZjVkYTcyYWQzMzk0MTE5ZGFmNDA4ZjknCiAgICAgIF0KICAgIF0KICB9Cn07Cgp9LHt9XSwxMTY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7Cgp2YXIgdXRpbHMgPSBleHBvcnRzOwp2YXIgQk4gPSByZXF1aXJlKCdibi5qcycpOwoKdXRpbHMuYXNzZXJ0ID0gZnVuY3Rpb24gYXNzZXJ0KHZhbCwgbXNnKSB7CiAgaWYgKCF2YWwpCiAgICB0aHJvdyBuZXcgRXJyb3IobXNnIHx8ICdBc3NlcnRpb24gZmFpbGVkJyk7Cn07CgpmdW5jdGlvbiB0b0FycmF5KG1zZywgZW5jKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkobXNnKSkKICAgIHJldHVybiBtc2cuc2xpY2UoKTsKICBpZiAoIW1zZykKICAgIHJldHVybiBbXTsKICB2YXIgcmVzID0gW107CiAgaWYgKHR5cGVvZiBtc2cgIT09ICdzdHJpbmcnKSB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7IGkrKykKICAgICAgcmVzW2ldID0gbXNnW2ldIHwgMDsKICAgIHJldHVybiByZXM7CiAgfQogIGlmICghZW5jKSB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7IGkrKykgewogICAgICB2YXIgYyA9IG1zZy5jaGFyQ29kZUF0KGkpOwogICAgICB2YXIgaGkgPSBjID4+IDg7CiAgICAgIHZhciBsbyA9IGMgJiAweGZmOwogICAgICBpZiAoaGkpCiAgICAgICAgcmVzLnB1c2goaGksIGxvKTsKICAgICAgZWxzZQogICAgICAgIHJlcy5wdXNoKGxvKTsKICAgIH0KICB9IGVsc2UgaWYgKGVuYyA9PT0gJ2hleCcpIHsKICAgIG1zZyA9IG1zZy5yZXBsYWNlKC9bXmEtejAtOV0rL2lnLCAnJyk7CiAgICBpZiAobXNnLmxlbmd0aCAlIDIgIT09IDApCiAgICAgIG1zZyA9ICcwJyArIG1zZzsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmxlbmd0aDsgaSArPSAyKQogICAgICByZXMucHVzaChwYXJzZUludChtc2dbaV0gKyBtc2dbaSArIDFdLCAxNikpOwogIH0KICByZXR1cm4gcmVzOwp9CnV0aWxzLnRvQXJyYXkgPSB0b0FycmF5OwoKZnVuY3Rpb24gemVybzIod29yZCkgewogIGlmICh3b3JkLmxlbmd0aCA9PT0gMSkKICAgIHJldHVybiAnMCcgKyB3b3JkOwogIGVsc2UKICAgIHJldHVybiB3b3JkOwp9CnV0aWxzLnplcm8yID0gemVybzI7CgpmdW5jdGlvbiB0b0hleChtc2cpIHsKICB2YXIgcmVzID0gJyc7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtc2cubGVuZ3RoOyBpKyspCiAgICByZXMgKz0gemVybzIobXNnW2ldLnRvU3RyaW5nKDE2KSk7CiAgcmV0dXJuIHJlczsKfQp1dGlscy50b0hleCA9IHRvSGV4OwoKdXRpbHMuZW5jb2RlID0gZnVuY3Rpb24gZW5jb2RlKGFyciwgZW5jKSB7CiAgaWYgKGVuYyA9PT0gJ2hleCcpCiAgICByZXR1cm4gdG9IZXgoYXJyKTsKICBlbHNlCiAgICByZXR1cm4gYXJyOwp9OwoKLy8gUmVwcmVzZW50IG51bSBpbiBhIHctTkFGIGZvcm0KZnVuY3Rpb24gZ2V0TkFGKG51bSwgdykgewogIHZhciBuYWYgPSBbXTsKICB2YXIgd3MgPSAxIDw8ICh3ICsgMSk7CiAgdmFyIGsgPSBudW0uY2xvbmUoKTsKICB3aGlsZSAoay5jbXBuKDEpID49IDApIHsKICAgIHZhciB6OwogICAgaWYgKGsuaXNPZGQoKSkgewogICAgICB2YXIgbW9kID0gay5hbmRsbih3cyAtIDEpOwogICAgICBpZiAobW9kID4gKHdzID4+IDEpIC0gMSkKICAgICAgICB6ID0gKHdzID4+IDEpIC0gbW9kOwogICAgICBlbHNlCiAgICAgICAgeiA9IG1vZDsKICAgICAgay5pc3Vibih6KTsKICAgIH0gZWxzZSB7CiAgICAgIHogPSAwOwogICAgfQogICAgbmFmLnB1c2goeik7CgogICAgLy8gT3B0aW1pemF0aW9uLCBzaGlmdCBieSB3b3JkIGlmIHBvc3NpYmxlCiAgICB2YXIgc2hpZnQgPSAoay5jbXBuKDApICE9PSAwICYmIGsuYW5kbG4od3MgLSAxKSA9PT0gMCkgPyAodyArIDEpIDogMTsKICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc2hpZnQ7IGkrKykKICAgICAgbmFmLnB1c2goMCk7CiAgICBrLml1c2hybihzaGlmdCk7CiAgfQoKICByZXR1cm4gbmFmOwp9CnV0aWxzLmdldE5BRiA9IGdldE5BRjsKCi8vIFJlcHJlc2VudCBrMSwgazIgaW4gYSBKb2ludCBTcGFyc2UgRm9ybQpmdW5jdGlvbiBnZXRKU0YoazEsIGsyKSB7CiAgdmFyIGpzZiA9IFsKICAgIFtdLAogICAgW10KICBdOwoKICBrMSA9IGsxLmNsb25lKCk7CiAgazIgPSBrMi5jbG9uZSgpOwogIHZhciBkMSA9IDA7CiAgdmFyIGQyID0gMDsKICB3aGlsZSAoazEuY21wbigtZDEpID4gMCB8fCBrMi5jbXBuKC1kMikgPiAwKSB7CgogICAgLy8gRmlyc3QgcGhhc2UKICAgIHZhciBtMTQgPSAoazEuYW5kbG4oMykgKyBkMSkgJiAzOwogICAgdmFyIG0yNCA9IChrMi5hbmRsbigzKSArIGQyKSAmIDM7CiAgICBpZiAobTE0ID09PSAzKQogICAgICBtMTQgPSAtMTsKICAgIGlmIChtMjQgPT09IDMpCiAgICAgIG0yNCA9IC0xOwogICAgdmFyIHUxOwogICAgaWYgKChtMTQgJiAxKSA9PT0gMCkgewogICAgICB1MSA9IDA7CiAgICB9IGVsc2UgewogICAgICB2YXIgbTggPSAoazEuYW5kbG4oNykgKyBkMSkgJiA3OwogICAgICBpZiAoKG04ID09PSAzIHx8IG04ID09PSA1KSAmJiBtMjQgPT09IDIpCiAgICAgICAgdTEgPSAtbTE0OwogICAgICBlbHNlCiAgICAgICAgdTEgPSBtMTQ7CiAgICB9CiAgICBqc2ZbMF0ucHVzaCh1MSk7CgogICAgdmFyIHUyOwogICAgaWYgKChtMjQgJiAxKSA9PT0gMCkgewogICAgICB1MiA9IDA7CiAgICB9IGVsc2UgewogICAgICB2YXIgbTggPSAoazIuYW5kbG4oNykgKyBkMikgJiA3OwogICAgICBpZiAoKG04ID09PSAzIHx8IG04ID09PSA1KSAmJiBtMTQgPT09IDIpCiAgICAgICAgdTIgPSAtbTI0OwogICAgICBlbHNlCiAgICAgICAgdTIgPSBtMjQ7CiAgICB9CiAgICBqc2ZbMV0ucHVzaCh1Mik7CgogICAgLy8gU2Vjb25kIHBoYXNlCiAgICBpZiAoMiAqIGQxID09PSB1MSArIDEpCiAgICAgIGQxID0gMSAtIGQxOwogICAgaWYgKDIgKiBkMiA9PT0gdTIgKyAxKQogICAgICBkMiA9IDEgLSBkMjsKICAgIGsxLml1c2hybigxKTsKICAgIGsyLml1c2hybigxKTsKICB9CgogIHJldHVybiBqc2Y7Cn0KdXRpbHMuZ2V0SlNGID0gZ2V0SlNGOwoKZnVuY3Rpb24gY2FjaGVkUHJvcGVydHkob2JqLCBjb21wdXRlcikgewogIHZhciBuYW1lID0gY29tcHV0ZXIubmFtZTsKICB2YXIga2V5ID0gJ18nICsgbmFtZTsKICBvYmoucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24gY2FjaGVkUHJvcGVydHkoKSB7CiAgICByZXR1cm4gdGhpc1trZXldICE9PSB1bmRlZmluZWQgPyB0aGlzW2tleV0gOgogICAgICAgICAgIHRoaXNba2V5XSA9IGNvbXB1dGVyLmNhbGwodGhpcyk7CiAgfTsKfQp1dGlscy5jYWNoZWRQcm9wZXJ0eSA9IGNhY2hlZFByb3BlcnR5OwoKZnVuY3Rpb24gcGFyc2VCeXRlcyhieXRlcykgewogIHJldHVybiB0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnID8gdXRpbHMudG9BcnJheShieXRlcywgJ2hleCcpIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVzOwp9CnV0aWxzLnBhcnNlQnl0ZXMgPSBwYXJzZUJ5dGVzOwoKZnVuY3Rpb24gaW50RnJvbUxFKGJ5dGVzKSB7CiAgcmV0dXJuIG5ldyBCTihieXRlcywgJ2hleCcsICdsZScpOwp9CnV0aWxzLmludEZyb21MRSA9IGludEZyb21MRTsKCgp9LHsiYm4uanMiOjQyfV0sMTE3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKbW9kdWxlLmV4cG9ydHM9ewogICJfYXJncyI6IFsKICAgIFsKICAgICAgImVsbGlwdGljQF42LjAuMCIsCiAgICAgICIvaG9tZS92c2lsdmEvcHQtaW5vdmFjYW8vcmV0aGluay1wcm9qZWN0L2Rldi1ydW50aW1lLWNvcmUvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnktc2lnbiIKICAgIF0KICBdLAogICJfZnJvbSI6ICJlbGxpcHRpY0A+PTYuMC4wIDw3LjAuMCIsCiAgIl9pZCI6ICJlbGxpcHRpY0A2LjIuMyIsCiAgIl9pbkNhY2hlIjogdHJ1ZSwKICAiX2luc3RhbGxhYmxlIjogdHJ1ZSwKICAiX2xvY2F0aW9uIjogIi9lbGxpcHRpYyIsCiAgIl9ub2RlVmVyc2lvbiI6ICI1LjQuMSIsCiAgIl9ucG1Vc2VyIjogewogICAgImVtYWlsIjogImZlZG9yQGluZHV0bnkuY29tIiwKICAgICJuYW1lIjogImluZHV0bnkiCiAgfSwKICAiX25wbVZlcnNpb24iOiAiMy4zLjEyIiwKICAiX3BoYW50b21DaGlsZHJlbiI6IHt9LAogICJfcmVxdWVzdGVkIjogewogICAgIm5hbWUiOiAiZWxsaXB0aWMiLAogICAgInJhdyI6ICJlbGxpcHRpY0BeNi4wLjAiLAogICAgInJhd1NwZWMiOiAiXjYuMC4wIiwKICAgICJzY29wZSI6IG51bGwsCiAgICAic3BlYyI6ICI+PTYuMC4wIDw3LjAuMCIsCiAgICAidHlwZSI6ICJyYW5nZSIKICB9LAogICJfcmVxdWlyZWRCeSI6IFsKICAgICIvYnJvd3NlcmlmeS1zaWduIiwKICAgICIvY3JlYXRlLWVjZGgiCiAgXSwKICAiX3Jlc29sdmVkIjogImh0dHBzOi8vcmVnaXN0cnkubnBtanMub3JnL2VsbGlwdGljLy0vZWxsaXB0aWMtNi4yLjMudGd6IiwKICAiX3NoYXN1bSI6ICIxOGU0NmQ3MzA2YjA5NTEyNzVhMmQ0MjA2MzI3MGExNGI3NGViZTk5IiwKICAiX3Nocmlua3dyYXAiOiBudWxsLAogICJfc3BlYyI6ICJlbGxpcHRpY0BeNi4wLjAiLAogICJfd2hlcmUiOiAiL2hvbWUvdnNpbHZhL3B0LWlub3ZhY2FvL3JldGhpbmstcHJvamVjdC9kZXYtcnVudGltZS1jb3JlL25vZGVfbW9kdWxlcy9icm93c2VyaWZ5LXNpZ24iLAogICJhdXRob3IiOiB7CiAgICAiZW1haWwiOiAiZmVkb3JAaW5kdXRueS5jb20iLAogICAgIm5hbWUiOiAiRmVkb3IgSW5kdXRueSIKICB9LAogICJidWdzIjogewogICAgInVybCI6ICJodHRwczovL2dpdGh1Yi5jb20vaW5kdXRueS9lbGxpcHRpYy9pc3N1ZXMiCiAgfSwKICAiZGVwZW5kZW5jaWVzIjogewogICAgImJuLmpzIjogIl40LjAuMCIsCiAgICAiYnJvcmFuZCI6ICJeMS4wLjEiLAogICAgImhhc2guanMiOiAiXjEuMC4wIiwKICAgICJpbmhlcml0cyI6ICJeMi4wLjEiCiAgfSwKICAiZGVzY3JpcHRpb24iOiAiRUMgY3J5cHRvZ3JhcGh5IiwKICAiZGV2RGVwZW5kZW5jaWVzIjogewogICAgImNvdmVyYWxscyI6ICJeMi4xMS4zIiwKICAgICJpc3RhbmJ1bCI6ICJeMC40LjIiLAogICAgImpzY3MiOiAiXjIuOS4wIiwKICAgICJqc2hpbnQiOiAiXjIuNi4wIiwKICAgICJtb2NoYSI6ICJeMi4xLjAiCiAgfSwKICAiZGlyZWN0b3JpZXMiOiB7fSwKICAiZGlzdCI6IHsKICAgICJzaGFzdW0iOiAiMThlNDZkNzMwNmIwOTUxMjc1YTJkNDIwNjMyNzBhMTRiNzRlYmU5OSIsCiAgICAidGFyYmFsbCI6ICJodHRwOi8vcmVnaXN0cnkubnBtanMub3JnL2VsbGlwdGljLy0vZWxsaXB0aWMtNi4yLjMudGd6IgogIH0sCiAgImZpbGVzIjogWwogICAgImxpYiIKICBdLAogICJnaXRIZWFkIjogImMzMmYyMGIyMmI0MjBlYjZhZjNjNmRkYTI4OTYzZGViN2ZhY2Y4MjMiLAogICJob21lcGFnZSI6ICJodHRwczovL2dpdGh1Yi5jb20vaW5kdXRueS9lbGxpcHRpYyIsCiAgImtleXdvcmRzIjogWwogICAgIkNyeXB0b2dyYXBoeSIsCiAgICAiRUMiLAogICAgIkVsbGlwdGljIiwKICAgICJjdXJ2ZSIKICBdLAogICJsaWNlbnNlIjogIk1JVCIsCiAgIm1haW4iOiAibGliL2VsbGlwdGljLmpzIiwKICAibWFpbnRhaW5lcnMiOiBbCiAgICB7CiAgICAgICJuYW1lIjogImluZHV0bnkiLAogICAgICAiZW1haWwiOiAiZmVkb3JAaW5kdXRueS5jb20iCiAgICB9CiAgXSwKICAibmFtZSI6ICJlbGxpcHRpYyIsCiAgIm9wdGlvbmFsRGVwZW5kZW5jaWVzIjoge30sCiAgInJlYWRtZSI6ICJFUlJPUjogTm8gUkVBRE1FIGRhdGEgZm91bmQhIiwKICAicmVwb3NpdG9yeSI6IHsKICAgICJ0eXBlIjogImdpdCIsCiAgICAidXJsIjogImdpdCtzc2g6Ly9naXRAZ2l0aHViLmNvbS9pbmR1dG55L2VsbGlwdGljLmdpdCIKICB9LAogICJzY3JpcHRzIjogewogICAgImNvdmVyYWdlIjogIm5wbSBydW4gdW5pdCAtLWNvdmVyYWdlIiwKICAgICJjb3ZlcmFsbHMiOiAibnBtIHJ1biBjb3ZlcmFnZSAmJiBjYXQgLi9jb3ZlcmFnZS9sY292LmluZm8gfCBjb3ZlcmFsbHMiLAogICAgImpzY3MiOiAianNjcyBiZW5jaG1hcmtzLyouanMgbGliLyouanMgbGliLyoqLyouanMgbGliLyoqLyoqLyouanMgdGVzdC8qLmpzIiwKICAgICJqc2hpbnQiOiAianNjcyBiZW5jaG1hcmtzLyouanMgbGliLyouanMgbGliLyoqLyouanMgbGliLyoqLyoqLyouanMgdGVzdC8qLmpzIiwKICAgICJsaW50IjogIm5wbSBydW4ganNjcyAmJiBucG0gcnVuIGpzaGludCIsCiAgICAidGVzdCI6ICJucG0gcnVuIGxpbnQgJiYgbnBtIHJ1biB1bml0IiwKICAgICJ1bml0IjogImlzdGFuYnVsIHRlc3QgX21vY2hhIC0tcmVwb3J0ZXI9c3BlYyB0ZXN0LyotdGVzdC5qcyIKICB9LAogICJ2ZXJzaW9uIjogIjYuMi4zIgp9Cgp9LHt9XSwxMTg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy4KLy8KLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEKLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZQovLyAiU29mdHdhcmUiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nCi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwKLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdAovLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUKLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6Ci8vCi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkCi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgovLwovLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUwovLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GCi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4KLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sCi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUgovLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFCi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCgpmdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7CiAgdGhpcy5fZXZlbnRzID0gdGhpcy5fZXZlbnRzIHx8IHt9OwogIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7Cn0KbW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7CgovLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLngKRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjsKCkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDsKRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkOwoKLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlCi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuCkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7CgovLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3MKLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuCkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24obikgewogIGlmICghaXNOdW1iZXIobikgfHwgbiA8IDAgfHwgaXNOYU4obikpCiAgICB0aHJvdyBUeXBlRXJyb3IoJ24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpOwogIHRoaXMuX21heExpc3RlbmVycyA9IG47CiAgcmV0dXJuIHRoaXM7Cn07CgpFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbih0eXBlKSB7CiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGxpc3RlbmVyczsKCiAgaWYgKCF0aGlzLl9ldmVudHMpCiAgICB0aGlzLl9ldmVudHMgPSB7fTsKCiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LgogIGlmICh0eXBlID09PSAnZXJyb3InKSB7CiAgICBpZiAoIXRoaXMuX2V2ZW50cy5lcnJvciB8fAogICAgICAgIChpc09iamVjdCh0aGlzLl9ldmVudHMuZXJyb3IpICYmICF0aGlzLl9ldmVudHMuZXJyb3IubGVuZ3RoKSkgewogICAgICBlciA9IGFyZ3VtZW50c1sxXTsKICAgICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHsKICAgICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnQKICAgICAgfQogICAgICB0aHJvdyBUeXBlRXJyb3IoJ1VuY2F1Z2h0LCB1bnNwZWNpZmllZCAiZXJyb3IiIGV2ZW50LicpOwogICAgfQogIH0KCiAgaGFuZGxlciA9IHRoaXMuX2V2ZW50c1t0eXBlXTsKCiAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKQogICAgcmV0dXJuIGZhbHNlOwoKICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkgewogICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7CiAgICAgIC8vIGZhc3QgY2FzZXMKICAgICAgY2FzZSAxOgogICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzKTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAyOgogICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0pOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlIDM6CiAgICAgICAgaGFuZGxlci5jYWxsKHRoaXMsIGFyZ3VtZW50c1sxXSwgYXJndW1lbnRzWzJdKTsKICAgICAgICBicmVhazsKICAgICAgLy8gc2xvd2VyCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7CiAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTsKICAgIH0KICB9IGVsc2UgaWYgKGlzT2JqZWN0KGhhbmRsZXIpKSB7CiAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsKICAgIGxpc3RlbmVycyA9IGhhbmRsZXIuc2xpY2UoKTsKICAgIGxlbiA9IGxpc3RlbmVycy5sZW5ndGg7CiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspCiAgICAgIGxpc3RlbmVyc1tpXS5hcHBseSh0aGlzLCBhcmdzKTsKICB9CgogIHJldHVybiB0cnVlOwp9OwoKRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7CiAgdmFyIG07CgogIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpCiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpOwoKICBpZiAoIXRoaXMuX2V2ZW50cykKICAgIHRoaXMuX2V2ZW50cyA9IHt9OwoKICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSAibmV3TGlzdGVuZXIiISBCZWZvcmUKICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCAibmV3TGlzdGVuZXIiLgogIGlmICh0aGlzLl9ldmVudHMubmV3TGlzdGVuZXIpCiAgICB0aGlzLmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSwKICAgICAgICAgICAgICBpc0Z1bmN0aW9uKGxpc3RlbmVyLmxpc3RlbmVyKSA/CiAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7CgogIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKQogICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuCiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjsKICBlbHNlIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pKQogICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLgogICAgdGhpcy5fZXZlbnRzW3R5cGVdLnB1c2gobGlzdGVuZXIpOwogIGVsc2UKICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LgogICAgdGhpcy5fZXZlbnRzW3R5cGVdID0gW3RoaXMuX2V2ZW50c1t0eXBlXSwgbGlzdGVuZXJdOwoKICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVhawogIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pICYmICF0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkKSB7CiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycykpIHsKICAgICAgbSA9IHRoaXMuX21heExpc3RlbmVyczsKICAgIH0gZWxzZSB7CiAgICAgIG0gPSBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVyczsKICAgIH0KCiAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkgewogICAgICB0aGlzLl9ldmVudHNbdHlwZV0ud2FybmVkID0gdHJ1ZTsKICAgICAgY29uc29sZS5lcnJvcignKG5vZGUpIHdhcm5pbmc6IHBvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgJyArCiAgICAgICAgICAgICAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gJyArCiAgICAgICAgICAgICAgICAgICAgJ1VzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvIGluY3JlYXNlIGxpbWl0LicsCiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLmxlbmd0aCk7CiAgICAgIGlmICh0eXBlb2YgY29uc29sZS50cmFjZSA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIC8vIG5vdCBzdXBwb3J0ZWQgaW4gSUUgMTAKICAgICAgICBjb25zb2xlLnRyYWNlKCk7CiAgICAgIH0KICAgIH0KICB9CgogIHJldHVybiB0aGlzOwp9OwoKRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7CgpFdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikgewogIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpCiAgICB0aHJvdyBUeXBlRXJyb3IoJ2xpc3RlbmVyIG11c3QgYmUgYSBmdW5jdGlvbicpOwoKICB2YXIgZmlyZWQgPSBmYWxzZTsKCiAgZnVuY3Rpb24gZygpIHsKICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgZyk7CgogICAgaWYgKCFmaXJlZCkgewogICAgICBmaXJlZCA9IHRydWU7CiAgICAgIGxpc3RlbmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICB9CiAgfQoKICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7CiAgdGhpcy5vbih0eXBlLCBnKTsKCiAgcmV0dXJuIHRoaXM7Cn07CgovLyBlbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWZmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZApFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24odHlwZSwgbGlzdGVuZXIpIHsKICB2YXIgbGlzdCwgcG9zaXRpb24sIGxlbmd0aCwgaTsKCiAgaWYgKCFpc0Z1bmN0aW9uKGxpc3RlbmVyKSkKICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7CgogIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pCiAgICByZXR1cm4gdGhpczsKCiAgbGlzdCA9IHRoaXMuX2V2ZW50c1t0eXBlXTsKICBsZW5ndGggPSBsaXN0Lmxlbmd0aDsKICBwb3NpdGlvbiA9IC0xOwoKICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwKICAgICAgKGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7CiAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdOwogICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikKICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTsKCiAgfSBlbHNlIGlmIChpc09iamVjdChsaXN0KSkgewogICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gPiAwOykgewogICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHwKICAgICAgICAgIChsaXN0W2ldLmxpc3RlbmVyICYmIGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSkgewogICAgICAgIHBvc2l0aW9uID0gaTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIGlmIChwb3NpdGlvbiA8IDApCiAgICAgIHJldHVybiB0aGlzOwoKICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkgewogICAgICBsaXN0Lmxlbmd0aCA9IDA7CiAgICAgIGRlbGV0ZSB0aGlzLl9ldmVudHNbdHlwZV07CiAgICB9IGVsc2UgewogICAgICBsaXN0LnNwbGljZShwb3NpdGlvbiwgMSk7CiAgICB9CgogICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikKICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTsKICB9CgogIHJldHVybiB0aGlzOwp9OwoKRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbih0eXBlKSB7CiAgdmFyIGtleSwgbGlzdGVuZXJzOwoKICBpZiAoIXRoaXMuX2V2ZW50cykKICAgIHJldHVybiB0aGlzOwoKICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0CiAgaWYgKCF0aGlzLl9ldmVudHMucmVtb3ZlTGlzdGVuZXIpIHsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKQogICAgICB0aGlzLl9ldmVudHMgPSB7fTsKICAgIGVsc2UgaWYgKHRoaXMuX2V2ZW50c1t0eXBlXSkKICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTsKICAgIHJldHVybiB0aGlzOwogIH0KCiAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzCiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHsKICAgIGZvciAoa2V5IGluIHRoaXMuX2V2ZW50cykgewogICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTsKICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTsKICAgIH0KICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpOwogICAgdGhpcy5fZXZlbnRzID0ge307CiAgICByZXR1cm4gdGhpczsKICB9CgogIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTsKCiAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXJzKSkgewogICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpOwogIH0gZWxzZSBpZiAobGlzdGVuZXJzKSB7CiAgICAvLyBMSUZPIG9yZGVyCiAgICB3aGlsZSAobGlzdGVuZXJzLmxlbmd0aCkKICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbbGlzdGVuZXJzLmxlbmd0aCAtIDFdKTsKICB9CiAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTsKCiAgcmV0dXJuIHRoaXM7Cn07CgpFdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKHR5cGUpIHsKICB2YXIgcmV0OwogIGlmICghdGhpcy5fZXZlbnRzIHx8ICF0aGlzLl9ldmVudHNbdHlwZV0pCiAgICByZXQgPSBbXTsKICBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoaXMuX2V2ZW50c1t0eXBlXSkpCiAgICByZXQgPSBbdGhpcy5fZXZlbnRzW3R5cGVdXTsKICBlbHNlCiAgICByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTsKICByZXR1cm4gcmV0Owp9OwoKRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24odHlwZSkgewogIGlmICh0aGlzLl9ldmVudHMpIHsKICAgIHZhciBldmxpc3RlbmVyID0gdGhpcy5fZXZlbnRzW3R5cGVdOwoKICAgIGlmIChpc0Z1bmN0aW9uKGV2bGlzdGVuZXIpKQogICAgICByZXR1cm4gMTsKICAgIGVsc2UgaWYgKGV2bGlzdGVuZXIpCiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDsKICB9CiAgcmV0dXJuIDA7Cn07CgpFdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHsKICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpOwp9OwoKZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHsKICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJzsKfQoKZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7CiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdudW1iZXInOwp9CgpmdW5jdGlvbiBpc09iamVjdChhcmcpIHsKICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsOwp9CgpmdW5jdGlvbiBpc1VuZGVmaW5lZChhcmcpIHsKICByZXR1cm4gYXJnID09PSB2b2lkIDA7Cn0KCn0se31dLDExOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKdmFyIG1kNSA9IHJlcXVpcmUoJ2NyZWF0ZS1oYXNoL21kNScpCm1vZHVsZS5leHBvcnRzID0gRVZQX0J5dGVzVG9LZXkKZnVuY3Rpb24gRVZQX0J5dGVzVG9LZXkgKHBhc3N3b3JkLCBzYWx0LCBrZXlMZW4sIGl2TGVuKSB7CiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIocGFzc3dvcmQpKSB7CiAgICBwYXNzd29yZCA9IG5ldyBCdWZmZXIocGFzc3dvcmQsICdiaW5hcnknKQogIH0KICBpZiAoc2FsdCAmJiAhQnVmZmVyLmlzQnVmZmVyKHNhbHQpKSB7CiAgICBzYWx0ID0gbmV3IEJ1ZmZlcihzYWx0LCAnYmluYXJ5JykKICB9CiAga2V5TGVuID0ga2V5TGVuIC8gOAogIGl2TGVuID0gaXZMZW4gfHwgMAogIHZhciBraSA9IDAKICB2YXIgaWkgPSAwCiAgdmFyIGtleSA9IG5ldyBCdWZmZXIoa2V5TGVuKQogIHZhciBpdiA9IG5ldyBCdWZmZXIoaXZMZW4pCiAgdmFyIGFkZG1kID0gMAogIHZhciBtZF9idWYKICB2YXIgaQogIHZhciBidWZzID0gW10KICB3aGlsZSAodHJ1ZSkgewogICAgaWYgKGFkZG1kKysgPiAwKSB7CiAgICAgIGJ1ZnMucHVzaChtZF9idWYpCiAgICB9CiAgICBidWZzLnB1c2gocGFzc3dvcmQpCiAgICBpZiAoc2FsdCkgewogICAgICBidWZzLnB1c2goc2FsdCkKICAgIH0KICAgIG1kX2J1ZiA9IG1kNShCdWZmZXIuY29uY2F0KGJ1ZnMpKQogICAgYnVmcyA9IFtdCiAgICBpID0gMAogICAgaWYgKGtleUxlbiA+IDApIHsKICAgICAgd2hpbGUgKHRydWUpIHsKICAgICAgICBpZiAoa2V5TGVuID09PSAwKSB7CiAgICAgICAgICBicmVhawogICAgICAgIH0KICAgICAgICBpZiAoaSA9PT0gbWRfYnVmLmxlbmd0aCkgewogICAgICAgICAgYnJlYWsKICAgICAgICB9CiAgICAgICAga2V5W2tpKytdID0gbWRfYnVmW2ldCiAgICAgICAga2V5TGVuLS0KICAgICAgICBpKysKICAgICAgfQogICAgfQogICAgaWYgKGl2TGVuID4gMCAmJiBpICE9PSBtZF9idWYubGVuZ3RoKSB7CiAgICAgIHdoaWxlICh0cnVlKSB7CiAgICAgICAgaWYgKGl2TGVuID09PSAwKSB7CiAgICAgICAgICBicmVhawogICAgICAgIH0KICAgICAgICBpZiAoaSA9PT0gbWRfYnVmLmxlbmd0aCkgewogICAgICAgICAgYnJlYWsKICAgICAgICB9CiAgICAgICAgaXZbaWkrK10gPSBtZF9idWZbaV0KICAgICAgICBpdkxlbi0tCiAgICAgICAgaSsrCiAgICAgIH0KICAgIH0KICAgIGlmIChrZXlMZW4gPT09IDAgJiYgaXZMZW4gPT09IDApIHsKICAgICAgYnJlYWsKICAgIH0KICB9CiAgZm9yIChpID0gMDsgaSA8IG1kX2J1Zi5sZW5ndGg7IGkrKykgewogICAgbWRfYnVmW2ldID0gMAogIH0KICByZXR1cm4gewogICAga2V5OiBrZXksCiAgICBpdjogaXYKICB9Cn0KCn0pLmNhbGwodGhpcyxyZXF1aXJlKCJidWZmZXIiKS5CdWZmZXIpCn0seyJidWZmZXIiOjc2LCJjcmVhdGUtaGFzaC9tZDUiOjgzfV0sMTIwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKdmFyIGhhc2ggPSBleHBvcnRzOwoKaGFzaC51dGlscyA9IHJlcXVpcmUoJy4vaGFzaC91dGlscycpOwpoYXNoLmNvbW1vbiA9IHJlcXVpcmUoJy4vaGFzaC9jb21tb24nKTsKaGFzaC5zaGEgPSByZXF1aXJlKCcuL2hhc2gvc2hhJyk7Cmhhc2gucmlwZW1kID0gcmVxdWlyZSgnLi9oYXNoL3JpcGVtZCcpOwpoYXNoLmhtYWMgPSByZXF1aXJlKCcuL2hhc2gvaG1hYycpOwoKLy8gUHJveHkgaGFzaCBmdW5jdGlvbnMgdG8gdGhlIG1haW4gb2JqZWN0Cmhhc2guc2hhMSA9IGhhc2guc2hhLnNoYTE7Cmhhc2guc2hhMjU2ID0gaGFzaC5zaGEuc2hhMjU2OwpoYXNoLnNoYTIyNCA9IGhhc2guc2hhLnNoYTIyNDsKaGFzaC5zaGEzODQgPSBoYXNoLnNoYS5zaGEzODQ7Cmhhc2guc2hhNTEyID0gaGFzaC5zaGEuc2hhNTEyOwpoYXNoLnJpcGVtZDE2MCA9IGhhc2gucmlwZW1kLnJpcGVtZDE2MDsKCn0seyIuL2hhc2gvY29tbW9uIjoxMjEsIi4vaGFzaC9obWFjIjoxMjIsIi4vaGFzaC9yaXBlbWQiOjEyMywiLi9oYXNoL3NoYSI6MTI0LCIuL2hhc2gvdXRpbHMiOjEyNX1dLDEyMTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CnZhciBoYXNoID0gcmVxdWlyZSgnLi4vaGFzaCcpOwp2YXIgdXRpbHMgPSBoYXNoLnV0aWxzOwp2YXIgYXNzZXJ0ID0gdXRpbHMuYXNzZXJ0OwoKZnVuY3Rpb24gQmxvY2tIYXNoKCkgewogIHRoaXMucGVuZGluZyA9IG51bGw7CiAgdGhpcy5wZW5kaW5nVG90YWwgPSAwOwogIHRoaXMuYmxvY2tTaXplID0gdGhpcy5jb25zdHJ1Y3Rvci5ibG9ja1NpemU7CiAgdGhpcy5vdXRTaXplID0gdGhpcy5jb25zdHJ1Y3Rvci5vdXRTaXplOwogIHRoaXMuaG1hY1N0cmVuZ3RoID0gdGhpcy5jb25zdHJ1Y3Rvci5obWFjU3RyZW5ndGg7CiAgdGhpcy5wYWRMZW5ndGggPSB0aGlzLmNvbnN0cnVjdG9yLnBhZExlbmd0aCAvIDg7CiAgdGhpcy5lbmRpYW4gPSAnYmlnJzsKCiAgdGhpcy5fZGVsdGE4ID0gdGhpcy5ibG9ja1NpemUgLyA4OwogIHRoaXMuX2RlbHRhMzIgPSB0aGlzLmJsb2NrU2l6ZSAvIDMyOwp9CmV4cG9ydHMuQmxvY2tIYXNoID0gQmxvY2tIYXNoOwoKQmxvY2tIYXNoLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUobXNnLCBlbmMpIHsKICAvLyBDb252ZXJ0IG1lc3NhZ2UgdG8gYXJyYXksIHBhZCBpdCwgYW5kIGpvaW4gaW50byAzMmJpdCBibG9ja3MKICBtc2cgPSB1dGlscy50b0FycmF5KG1zZywgZW5jKTsKICBpZiAoIXRoaXMucGVuZGluZykKICAgIHRoaXMucGVuZGluZyA9IG1zZzsKICBlbHNlCiAgICB0aGlzLnBlbmRpbmcgPSB0aGlzLnBlbmRpbmcuY29uY2F0KG1zZyk7CiAgdGhpcy5wZW5kaW5nVG90YWwgKz0gbXNnLmxlbmd0aDsKCiAgLy8gRW5vdWdoIGRhdGEsIHRyeSB1cGRhdGluZwogIGlmICh0aGlzLnBlbmRpbmcubGVuZ3RoID49IHRoaXMuX2RlbHRhOCkgewogICAgbXNnID0gdGhpcy5wZW5kaW5nOwoKICAgIC8vIFByb2Nlc3MgcGVuZGluZyBkYXRhIGluIGJsb2NrcwogICAgdmFyIHIgPSBtc2cubGVuZ3RoICUgdGhpcy5fZGVsdGE4OwogICAgdGhpcy5wZW5kaW5nID0gbXNnLnNsaWNlKG1zZy5sZW5ndGggLSByLCBtc2cubGVuZ3RoKTsKICAgIGlmICh0aGlzLnBlbmRpbmcubGVuZ3RoID09PSAwKQogICAgICB0aGlzLnBlbmRpbmcgPSBudWxsOwoKICAgIG1zZyA9IHV0aWxzLmpvaW4zMihtc2csIDAsIG1zZy5sZW5ndGggLSByLCB0aGlzLmVuZGlhbik7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7IGkgKz0gdGhpcy5fZGVsdGEzMikKICAgICAgdGhpcy5fdXBkYXRlKG1zZywgaSwgaSArIHRoaXMuX2RlbHRhMzIpOwogIH0KCiAgcmV0dXJuIHRoaXM7Cn07CgpCbG9ja0hhc2gucHJvdG90eXBlLmRpZ2VzdCA9IGZ1bmN0aW9uIGRpZ2VzdChlbmMpIHsKICB0aGlzLnVwZGF0ZSh0aGlzLl9wYWQoKSk7CiAgYXNzZXJ0KHRoaXMucGVuZGluZyA9PT0gbnVsbCk7CgogIHJldHVybiB0aGlzLl9kaWdlc3QoZW5jKTsKfTsKCkJsb2NrSGFzaC5wcm90b3R5cGUuX3BhZCA9IGZ1bmN0aW9uIHBhZCgpIHsKICB2YXIgbGVuID0gdGhpcy5wZW5kaW5nVG90YWw7CiAgdmFyIGJ5dGVzID0gdGhpcy5fZGVsdGE4OwogIHZhciBrID0gYnl0ZXMgLSAoKGxlbiArIHRoaXMucGFkTGVuZ3RoKSAlIGJ5dGVzKTsKICB2YXIgcmVzID0gbmV3IEFycmF5KGsgKyB0aGlzLnBhZExlbmd0aCk7CiAgcmVzWzBdID0gMHg4MDsKICBmb3IgKHZhciBpID0gMTsgaSA8IGs7IGkrKykKICAgIHJlc1tpXSA9IDA7CgogIC8vIEFwcGVuZCBsZW5ndGgKICBsZW4gPDw9IDM7CiAgaWYgKHRoaXMuZW5kaWFuID09PSAnYmlnJykgewogICAgZm9yICh2YXIgdCA9IDg7IHQgPCB0aGlzLnBhZExlbmd0aDsgdCsrKQogICAgICByZXNbaSsrXSA9IDA7CgogICAgcmVzW2krK10gPSAwOwogICAgcmVzW2krK10gPSAwOwogICAgcmVzW2krK10gPSAwOwogICAgcmVzW2krK10gPSAwOwogICAgcmVzW2krK10gPSAobGVuID4+PiAyNCkgJiAweGZmOwogICAgcmVzW2krK10gPSAobGVuID4+PiAxNikgJiAweGZmOwogICAgcmVzW2krK10gPSAobGVuID4+PiA4KSAmIDB4ZmY7CiAgICByZXNbaSsrXSA9IGxlbiAmIDB4ZmY7CiAgfSBlbHNlIHsKICAgIHJlc1tpKytdID0gbGVuICYgMHhmZjsKICAgIHJlc1tpKytdID0gKGxlbiA+Pj4gOCkgJiAweGZmOwogICAgcmVzW2krK10gPSAobGVuID4+PiAxNikgJiAweGZmOwogICAgcmVzW2krK10gPSAobGVuID4+PiAyNCkgJiAweGZmOwogICAgcmVzW2krK10gPSAwOwogICAgcmVzW2krK10gPSAwOwogICAgcmVzW2krK10gPSAwOwogICAgcmVzW2krK10gPSAwOwoKICAgIGZvciAodmFyIHQgPSA4OyB0IDwgdGhpcy5wYWRMZW5ndGg7IHQrKykKICAgICAgcmVzW2krK10gPSAwOwogIH0KCiAgcmV0dXJuIHJlczsKfTsKCn0seyIuLi9oYXNoIjoxMjB9XSwxMjI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewp2YXIgaG1hYyA9IGV4cG9ydHM7Cgp2YXIgaGFzaCA9IHJlcXVpcmUoJy4uL2hhc2gnKTsKdmFyIHV0aWxzID0gaGFzaC51dGlsczsKdmFyIGFzc2VydCA9IHV0aWxzLmFzc2VydDsKCmZ1bmN0aW9uIEhtYWMoaGFzaCwga2V5LCBlbmMpIHsKICBpZiAoISh0aGlzIGluc3RhbmNlb2YgSG1hYykpCiAgICByZXR1cm4gbmV3IEhtYWMoaGFzaCwga2V5LCBlbmMpOwogIHRoaXMuSGFzaCA9IGhhc2g7CiAgdGhpcy5ibG9ja1NpemUgPSBoYXNoLmJsb2NrU2l6ZSAvIDg7CiAgdGhpcy5vdXRTaXplID0gaGFzaC5vdXRTaXplIC8gODsKICB0aGlzLmlubmVyID0gbnVsbDsKICB0aGlzLm91dGVyID0gbnVsbDsKCiAgdGhpcy5faW5pdCh1dGlscy50b0FycmF5KGtleSwgZW5jKSk7Cn0KbW9kdWxlLmV4cG9ydHMgPSBIbWFjOwoKSG1hYy5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbiBpbml0KGtleSkgewogIC8vIFNob3J0ZW4ga2V5LCBpZiBuZWVkZWQKICBpZiAoa2V5Lmxlbmd0aCA+IHRoaXMuYmxvY2tTaXplKQogICAga2V5ID0gbmV3IHRoaXMuSGFzaCgpLnVwZGF0ZShrZXkpLmRpZ2VzdCgpOwogIGFzc2VydChrZXkubGVuZ3RoIDw9IHRoaXMuYmxvY2tTaXplKTsKCiAgLy8gQWRkIHBhZGRpbmcgdG8ga2V5CiAgZm9yICh2YXIgaSA9IGtleS5sZW5ndGg7IGkgPCB0aGlzLmJsb2NrU2l6ZTsgaSsrKQogICAga2V5LnB1c2goMCk7CgogIGZvciAodmFyIGkgPSAwOyBpIDwga2V5Lmxlbmd0aDsgaSsrKQogICAga2V5W2ldIF49IDB4MzY7CiAgdGhpcy5pbm5lciA9IG5ldyB0aGlzLkhhc2goKS51cGRhdGUoa2V5KTsKCiAgLy8gMHgzNiBeIDB4NWMgPSAweDZhCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXkubGVuZ3RoOyBpKyspCiAgICBrZXlbaV0gXj0gMHg2YTsKICB0aGlzLm91dGVyID0gbmV3IHRoaXMuSGFzaCgpLnVwZGF0ZShrZXkpOwp9OwoKSG1hYy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gdXBkYXRlKG1zZywgZW5jKSB7CiAgdGhpcy5pbm5lci51cGRhdGUobXNnLCBlbmMpOwogIHJldHVybiB0aGlzOwp9OwoKSG1hYy5wcm90b3R5cGUuZGlnZXN0ID0gZnVuY3Rpb24gZGlnZXN0KGVuYykgewogIHRoaXMub3V0ZXIudXBkYXRlKHRoaXMuaW5uZXIuZGlnZXN0KCkpOwogIHJldHVybiB0aGlzLm91dGVyLmRpZ2VzdChlbmMpOwp9OwoKfSx7Ii4uL2hhc2giOjEyMH1dLDEyMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CnZhciBoYXNoID0gcmVxdWlyZSgnLi4vaGFzaCcpOwp2YXIgdXRpbHMgPSBoYXNoLnV0aWxzOwoKdmFyIHJvdGwzMiA9IHV0aWxzLnJvdGwzMjsKdmFyIHN1bTMyID0gdXRpbHMuc3VtMzI7CnZhciBzdW0zMl8zID0gdXRpbHMuc3VtMzJfMzsKdmFyIHN1bTMyXzQgPSB1dGlscy5zdW0zMl80Owp2YXIgQmxvY2tIYXNoID0gaGFzaC5jb21tb24uQmxvY2tIYXNoOwoKZnVuY3Rpb24gUklQRU1EMTYwKCkgewogIGlmICghKHRoaXMgaW5zdGFuY2VvZiBSSVBFTUQxNjApKQogICAgcmV0dXJuIG5ldyBSSVBFTUQxNjAoKTsKCiAgQmxvY2tIYXNoLmNhbGwodGhpcyk7CgogIHRoaXMuaCA9IFsgMHg2NzQ1MjMwMSwgMHhlZmNkYWI4OSwgMHg5OGJhZGNmZSwgMHgxMDMyNTQ3NiwgMHhjM2QyZTFmMCBdOwogIHRoaXMuZW5kaWFuID0gJ2xpdHRsZSc7Cn0KdXRpbHMuaW5oZXJpdHMoUklQRU1EMTYwLCBCbG9ja0hhc2gpOwpleHBvcnRzLnJpcGVtZDE2MCA9IFJJUEVNRDE2MDsKClJJUEVNRDE2MC5ibG9ja1NpemUgPSA1MTI7ClJJUEVNRDE2MC5vdXRTaXplID0gMTYwOwpSSVBFTUQxNjAuaG1hY1N0cmVuZ3RoID0gMTkyOwpSSVBFTUQxNjAucGFkTGVuZ3RoID0gNjQ7CgpSSVBFTUQxNjAucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUobXNnLCBzdGFydCkgewogIHZhciBBID0gdGhpcy5oWzBdOwogIHZhciBCID0gdGhpcy5oWzFdOwogIHZhciBDID0gdGhpcy5oWzJdOwogIHZhciBEID0gdGhpcy5oWzNdOwogIHZhciBFID0gdGhpcy5oWzRdOwogIHZhciBBaCA9IEE7CiAgdmFyIEJoID0gQjsKICB2YXIgQ2ggPSBDOwogIHZhciBEaCA9IEQ7CiAgdmFyIEVoID0gRTsKICBmb3IgKHZhciBqID0gMDsgaiA8IDgwOyBqKyspIHsKICAgIHZhciBUID0gc3VtMzIoCiAgICAgIHJvdGwzMigKICAgICAgICBzdW0zMl80KEEsIGYoaiwgQiwgQywgRCksIG1zZ1tyW2pdICsgc3RhcnRdLCBLKGopKSwKICAgICAgICBzW2pdKSwKICAgICAgRSk7CiAgICBBID0gRTsKICAgIEUgPSBEOwogICAgRCA9IHJvdGwzMihDLCAxMCk7CiAgICBDID0gQjsKICAgIEIgPSBUOwogICAgVCA9IHN1bTMyKAogICAgICByb3RsMzIoCiAgICAgICAgc3VtMzJfNChBaCwgZig3OSAtIGosIEJoLCBDaCwgRGgpLCBtc2dbcmhbal0gKyBzdGFydF0sIEtoKGopKSwKICAgICAgICBzaFtqXSksCiAgICAgIEVoKTsKICAgIEFoID0gRWg7CiAgICBFaCA9IERoOwogICAgRGggPSByb3RsMzIoQ2gsIDEwKTsKICAgIENoID0gQmg7CiAgICBCaCA9IFQ7CiAgfQogIFQgPSBzdW0zMl8zKHRoaXMuaFsxXSwgQywgRGgpOwogIHRoaXMuaFsxXSA9IHN1bTMyXzModGhpcy5oWzJdLCBELCBFaCk7CiAgdGhpcy5oWzJdID0gc3VtMzJfMyh0aGlzLmhbM10sIEUsIEFoKTsKICB0aGlzLmhbM10gPSBzdW0zMl8zKHRoaXMuaFs0XSwgQSwgQmgpOwogIHRoaXMuaFs0XSA9IHN1bTMyXzModGhpcy5oWzBdLCBCLCBDaCk7CiAgdGhpcy5oWzBdID0gVDsKfTsKClJJUEVNRDE2MC5wcm90b3R5cGUuX2RpZ2VzdCA9IGZ1bmN0aW9uIGRpZ2VzdChlbmMpIHsKICBpZiAoZW5jID09PSAnaGV4JykKICAgIHJldHVybiB1dGlscy50b0hleDMyKHRoaXMuaCwgJ2xpdHRsZScpOwogIGVsc2UKICAgIHJldHVybiB1dGlscy5zcGxpdDMyKHRoaXMuaCwgJ2xpdHRsZScpOwp9OwoKZnVuY3Rpb24gZihqLCB4LCB5LCB6KSB7CiAgaWYgKGogPD0gMTUpCiAgICByZXR1cm4geCBeIHkgXiB6OwogIGVsc2UgaWYgKGogPD0gMzEpCiAgICByZXR1cm4gKHggJiB5KSB8ICgofngpICYgeik7CiAgZWxzZSBpZiAoaiA8PSA0NykKICAgIHJldHVybiAoeCB8ICh+eSkpIF4gejsKICBlbHNlIGlmIChqIDw9IDYzKQogICAgcmV0dXJuICh4ICYgeikgfCAoeSAmICh+eikpOwogIGVsc2UKICAgIHJldHVybiB4IF4gKHkgfCAofnopKTsKfQoKZnVuY3Rpb24gSyhqKSB7CiAgaWYgKGogPD0gMTUpCiAgICByZXR1cm4gMHgwMDAwMDAwMDsKICBlbHNlIGlmIChqIDw9IDMxKQogICAgcmV0dXJuIDB4NWE4Mjc5OTk7CiAgZWxzZSBpZiAoaiA8PSA0NykKICAgIHJldHVybiAweDZlZDllYmExOwogIGVsc2UgaWYgKGogPD0gNjMpCiAgICByZXR1cm4gMHg4ZjFiYmNkYzsKICBlbHNlCiAgICByZXR1cm4gMHhhOTUzZmQ0ZTsKfQoKZnVuY3Rpb24gS2goaikgewogIGlmIChqIDw9IDE1KQogICAgcmV0dXJuIDB4NTBhMjhiZTY7CiAgZWxzZSBpZiAoaiA8PSAzMSkKICAgIHJldHVybiAweDVjNGRkMTI0OwogIGVsc2UgaWYgKGogPD0gNDcpCiAgICByZXR1cm4gMHg2ZDcwM2VmMzsKICBlbHNlIGlmIChqIDw9IDYzKQogICAgcmV0dXJuIDB4N2E2ZDc2ZTk7CiAgZWxzZQogICAgcmV0dXJuIDB4MDAwMDAwMDA7Cn0KCnZhciByID0gWwogIDAsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTIsIDEzLCAxNCwgMTUsCiAgNywgNCwgMTMsIDEsIDEwLCA2LCAxNSwgMywgMTIsIDAsIDksIDUsIDIsIDE0LCAxMSwgOCwKICAzLCAxMCwgMTQsIDQsIDksIDE1LCA4LCAxLCAyLCA3LCAwLCA2LCAxMywgMTEsIDUsIDEyLAogIDEsIDksIDExLCAxMCwgMCwgOCwgMTIsIDQsIDEzLCAzLCA3LCAxNSwgMTQsIDUsIDYsIDIsCiAgNCwgMCwgNSwgOSwgNywgMTIsIDIsIDEwLCAxNCwgMSwgMywgOCwgMTEsIDYsIDE1LCAxMwpdOwoKdmFyIHJoID0gWwogIDUsIDE0LCA3LCAwLCA5LCAyLCAxMSwgNCwgMTMsIDYsIDE1LCA4LCAxLCAxMCwgMywgMTIsCiAgNiwgMTEsIDMsIDcsIDAsIDEzLCA1LCAxMCwgMTQsIDE1LCA4LCAxMiwgNCwgOSwgMSwgMiwKICAxNSwgNSwgMSwgMywgNywgMTQsIDYsIDksIDExLCA4LCAxMiwgMiwgMTAsIDAsIDQsIDEzLAogIDgsIDYsIDQsIDEsIDMsIDExLCAxNSwgMCwgNSwgMTIsIDIsIDEzLCA5LCA3LCAxMCwgMTQsCiAgMTIsIDE1LCAxMCwgNCwgMSwgNSwgOCwgNywgNiwgMiwgMTMsIDE0LCAwLCAzLCA5LCAxMQpdOwoKdmFyIHMgPSBbCiAgMTEsIDE0LCAxNSwgMTIsIDUsIDgsIDcsIDksIDExLCAxMywgMTQsIDE1LCA2LCA3LCA5LCA4LAogIDcsIDYsIDgsIDEzLCAxMSwgOSwgNywgMTUsIDcsIDEyLCAxNSwgOSwgMTEsIDcsIDEzLCAxMiwKICAxMSwgMTMsIDYsIDcsIDE0LCA5LCAxMywgMTUsIDE0LCA4LCAxMywgNiwgNSwgMTIsIDcsIDUsCiAgMTEsIDEyLCAxNCwgMTUsIDE0LCAxNSwgOSwgOCwgOSwgMTQsIDUsIDYsIDgsIDYsIDUsIDEyLAogIDksIDE1LCA1LCAxMSwgNiwgOCwgMTMsIDEyLCA1LCAxMiwgMTMsIDE0LCAxMSwgOCwgNSwgNgpdOwoKdmFyIHNoID0gWwogIDgsIDksIDksIDExLCAxMywgMTUsIDE1LCA1LCA3LCA3LCA4LCAxMSwgMTQsIDE0LCAxMiwgNiwKICA5LCAxMywgMTUsIDcsIDEyLCA4LCA5LCAxMSwgNywgNywgMTIsIDcsIDYsIDE1LCAxMywgMTEsCiAgOSwgNywgMTUsIDExLCA4LCA2LCA2LCAxNCwgMTIsIDEzLCA1LCAxNCwgMTMsIDEzLCA3LCA1LAogIDE1LCA1LCA4LCAxMSwgMTQsIDE0LCA2LCAxNCwgNiwgOSwgMTIsIDksIDEyLCA1LCAxNSwgOCwKICA4LCA1LCAxMiwgOSwgMTIsIDUsIDE0LCA2LCA4LCAxMywgNiwgNSwgMTUsIDEzLCAxMSwgMTEKXTsKCn0seyIuLi9oYXNoIjoxMjB9XSwxMjQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewp2YXIgaGFzaCA9IHJlcXVpcmUoJy4uL2hhc2gnKTsKdmFyIHV0aWxzID0gaGFzaC51dGlsczsKdmFyIGFzc2VydCA9IHV0aWxzLmFzc2VydDsKCnZhciByb3RyMzIgPSB1dGlscy5yb3RyMzI7CnZhciByb3RsMzIgPSB1dGlscy5yb3RsMzI7CnZhciBzdW0zMiA9IHV0aWxzLnN1bTMyOwp2YXIgc3VtMzJfNCA9IHV0aWxzLnN1bTMyXzQ7CnZhciBzdW0zMl81ID0gdXRpbHMuc3VtMzJfNTsKdmFyIHJvdHI2NF9oaSA9IHV0aWxzLnJvdHI2NF9oaTsKdmFyIHJvdHI2NF9sbyA9IHV0aWxzLnJvdHI2NF9sbzsKdmFyIHNocjY0X2hpID0gdXRpbHMuc2hyNjRfaGk7CnZhciBzaHI2NF9sbyA9IHV0aWxzLnNocjY0X2xvOwp2YXIgc3VtNjQgPSB1dGlscy5zdW02NDsKdmFyIHN1bTY0X2hpID0gdXRpbHMuc3VtNjRfaGk7CnZhciBzdW02NF9sbyA9IHV0aWxzLnN1bTY0X2xvOwp2YXIgc3VtNjRfNF9oaSA9IHV0aWxzLnN1bTY0XzRfaGk7CnZhciBzdW02NF80X2xvID0gdXRpbHMuc3VtNjRfNF9sbzsKdmFyIHN1bTY0XzVfaGkgPSB1dGlscy5zdW02NF81X2hpOwp2YXIgc3VtNjRfNV9sbyA9IHV0aWxzLnN1bTY0XzVfbG87CnZhciBCbG9ja0hhc2ggPSBoYXNoLmNvbW1vbi5CbG9ja0hhc2g7Cgp2YXIgc2hhMjU2X0sgPSBbCiAgMHg0MjhhMmY5OCwgMHg3MTM3NDQ5MSwgMHhiNWMwZmJjZiwgMHhlOWI1ZGJhNSwKICAweDM5NTZjMjViLCAweDU5ZjExMWYxLCAweDkyM2Y4MmE0LCAweGFiMWM1ZWQ1LAogIDB4ZDgwN2FhOTgsIDB4MTI4MzViMDEsIDB4MjQzMTg1YmUsIDB4NTUwYzdkYzMsCiAgMHg3MmJlNWQ3NCwgMHg4MGRlYjFmZSwgMHg5YmRjMDZhNywgMHhjMTliZjE3NCwKICAweGU0OWI2OWMxLCAweGVmYmU0Nzg2LCAweDBmYzE5ZGM2LCAweDI0MGNhMWNjLAogIDB4MmRlOTJjNmYsIDB4NGE3NDg0YWEsIDB4NWNiMGE5ZGMsIDB4NzZmOTg4ZGEsCiAgMHg5ODNlNTE1MiwgMHhhODMxYzY2ZCwgMHhiMDAzMjdjOCwgMHhiZjU5N2ZjNywKICAweGM2ZTAwYmYzLCAweGQ1YTc5MTQ3LCAweDA2Y2E2MzUxLCAweDE0MjkyOTY3LAogIDB4MjdiNzBhODUsIDB4MmUxYjIxMzgsIDB4NGQyYzZkZmMsIDB4NTMzODBkMTMsCiAgMHg2NTBhNzM1NCwgMHg3NjZhMGFiYiwgMHg4MWMyYzkyZSwgMHg5MjcyMmM4NSwKICAweGEyYmZlOGExLCAweGE4MWE2NjRiLCAweGMyNGI4YjcwLCAweGM3NmM1MWEzLAogIDB4ZDE5MmU4MTksIDB4ZDY5OTA2MjQsIDB4ZjQwZTM1ODUsIDB4MTA2YWEwNzAsCiAgMHgxOWE0YzExNiwgMHgxZTM3NmMwOCwgMHgyNzQ4Nzc0YywgMHgzNGIwYmNiNSwKICAweDM5MWMwY2IzLCAweDRlZDhhYTRhLCAweDViOWNjYTRmLCAweDY4MmU2ZmYzLAogIDB4NzQ4ZjgyZWUsIDB4NzhhNTYzNmYsIDB4ODRjODc4MTQsIDB4OGNjNzAyMDgsCiAgMHg5MGJlZmZmYSwgMHhhNDUwNmNlYiwgMHhiZWY5YTNmNywgMHhjNjcxNzhmMgpdOwoKdmFyIHNoYTUxMl9LID0gWwogIDB4NDI4YTJmOTgsIDB4ZDcyOGFlMjIsIDB4NzEzNzQ0OTEsIDB4MjNlZjY1Y2QsCiAgMHhiNWMwZmJjZiwgMHhlYzRkM2IyZiwgMHhlOWI1ZGJhNSwgMHg4MTg5ZGJiYywKICAweDM5NTZjMjViLCAweGYzNDhiNTM4LCAweDU5ZjExMWYxLCAweGI2MDVkMDE5LAogIDB4OTIzZjgyYTQsIDB4YWYxOTRmOWIsIDB4YWIxYzVlZDUsIDB4ZGE2ZDgxMTgsCiAgMHhkODA3YWE5OCwgMHhhMzAzMDI0MiwgMHgxMjgzNWIwMSwgMHg0NTcwNmZiZSwKICAweDI0MzE4NWJlLCAweDRlZTRiMjhjLCAweDU1MGM3ZGMzLCAweGQ1ZmZiNGUyLAogIDB4NzJiZTVkNzQsIDB4ZjI3Yjg5NmYsIDB4ODBkZWIxZmUsIDB4M2IxNjk2YjEsCiAgMHg5YmRjMDZhNywgMHgyNWM3MTIzNSwgMHhjMTliZjE3NCwgMHhjZjY5MjY5NCwKICAweGU0OWI2OWMxLCAweDllZjE0YWQyLCAweGVmYmU0Nzg2LCAweDM4NGYyNWUzLAogIDB4MGZjMTlkYzYsIDB4OGI4Y2Q1YjUsIDB4MjQwY2ExY2MsIDB4NzdhYzljNjUsCiAgMHgyZGU5MmM2ZiwgMHg1OTJiMDI3NSwgMHg0YTc0ODRhYSwgMHg2ZWE2ZTQ4MywKICAweDVjYjBhOWRjLCAweGJkNDFmYmQ0LCAweDc2Zjk4OGRhLCAweDgzMTE1M2I1LAogIDB4OTgzZTUxNTIsIDB4ZWU2NmRmYWIsIDB4YTgzMWM2NmQsIDB4MmRiNDMyMTAsCiAgMHhiMDAzMjdjOCwgMHg5OGZiMjEzZiwgMHhiZjU5N2ZjNywgMHhiZWVmMGVlNCwKICAweGM2ZTAwYmYzLCAweDNkYTg4ZmMyLCAweGQ1YTc5MTQ3LCAweDkzMGFhNzI1LAogIDB4MDZjYTYzNTEsIDB4ZTAwMzgyNmYsIDB4MTQyOTI5NjcsIDB4MGEwZTZlNzAsCiAgMHgyN2I3MGE4NSwgMHg0NmQyMmZmYywgMHgyZTFiMjEzOCwgMHg1YzI2YzkyNiwKICAweDRkMmM2ZGZjLCAweDVhYzQyYWVkLCAweDUzMzgwZDEzLCAweDlkOTViM2RmLAogIDB4NjUwYTczNTQsIDB4OGJhZjYzZGUsIDB4NzY2YTBhYmIsIDB4M2M3N2IyYTgsCiAgMHg4MWMyYzkyZSwgMHg0N2VkYWVlNiwgMHg5MjcyMmM4NSwgMHgxNDgyMzUzYiwKICAweGEyYmZlOGExLCAweDRjZjEwMzY0LCAweGE4MWE2NjRiLCAweGJjNDIzMDAxLAogIDB4YzI0YjhiNzAsIDB4ZDBmODk3OTEsIDB4Yzc2YzUxYTMsIDB4MDY1NGJlMzAsCiAgMHhkMTkyZTgxOSwgMHhkNmVmNTIxOCwgMHhkNjk5MDYyNCwgMHg1NTY1YTkxMCwKICAweGY0MGUzNTg1LCAweDU3NzEyMDJhLCAweDEwNmFhMDcwLCAweDMyYmJkMWI4LAogIDB4MTlhNGMxMTYsIDB4YjhkMmQwYzgsIDB4MWUzNzZjMDgsIDB4NTE0MWFiNTMsCiAgMHgyNzQ4Nzc0YywgMHhkZjhlZWI5OSwgMHgzNGIwYmNiNSwgMHhlMTliNDhhOCwKICAweDM5MWMwY2IzLCAweGM1Yzk1YTYzLCAweDRlZDhhYTRhLCAweGUzNDE4YWNiLAogIDB4NWI5Y2NhNGYsIDB4Nzc2M2UzNzMsIDB4NjgyZTZmZjMsIDB4ZDZiMmI4YTMsCiAgMHg3NDhmODJlZSwgMHg1ZGVmYjJmYywgMHg3OGE1NjM2ZiwgMHg0MzE3MmY2MCwKICAweDg0Yzg3ODE0LCAweGExZjBhYjcyLCAweDhjYzcwMjA4LCAweDFhNjQzOWVjLAogIDB4OTBiZWZmZmEsIDB4MjM2MzFlMjgsIDB4YTQ1MDZjZWIsIDB4ZGU4MmJkZTksCiAgMHhiZWY5YTNmNywgMHhiMmM2NzkxNSwgMHhjNjcxNzhmMiwgMHhlMzcyNTMyYiwKICAweGNhMjczZWNlLCAweGVhMjY2MTljLCAweGQxODZiOGM3LCAweDIxYzBjMjA3LAogIDB4ZWFkYTdkZDYsIDB4Y2RlMGViMWUsIDB4ZjU3ZDRmN2YsIDB4ZWU2ZWQxNzgsCiAgMHgwNmYwNjdhYSwgMHg3MjE3NmZiYSwgMHgwYTYzN2RjNSwgMHhhMmM4OThhNiwKICAweDExM2Y5ODA0LCAweGJlZjkwZGFlLCAweDFiNzEwYjM1LCAweDEzMWM0NzFiLAogIDB4MjhkYjc3ZjUsIDB4MjMwNDdkODQsIDB4MzJjYWFiN2IsIDB4NDBjNzI0OTMsCiAgMHgzYzllYmUwYSwgMHgxNWM5YmViYywgMHg0MzFkNjdjNCwgMHg5YzEwMGQ0YywKICAweDRjYzVkNGJlLCAweGNiM2U0MmI2LCAweDU5N2YyOTljLCAweGZjNjU3ZTJhLAogIDB4NWZjYjZmYWIsIDB4M2FkNmZhZWMsIDB4NmM0NDE5OGMsIDB4NGE0NzU4MTcKXTsKCnZhciBzaGExX0sgPSBbCiAgMHg1QTgyNzk5OSwgMHg2RUQ5RUJBMSwKICAweDhGMUJCQ0RDLCAweENBNjJDMUQ2Cl07CgpmdW5jdGlvbiBTSEEyNTYoKSB7CiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNIQTI1NikpCiAgICByZXR1cm4gbmV3IFNIQTI1NigpOwoKICBCbG9ja0hhc2guY2FsbCh0aGlzKTsKICB0aGlzLmggPSBbIDB4NmEwOWU2NjcsIDB4YmI2N2FlODUsIDB4M2M2ZWYzNzIsIDB4YTU0ZmY1M2EsCiAgICAgICAgICAgICAweDUxMGU1MjdmLCAweDliMDU2ODhjLCAweDFmODNkOWFiLCAweDViZTBjZDE5IF07CiAgdGhpcy5rID0gc2hhMjU2X0s7CiAgdGhpcy5XID0gbmV3IEFycmF5KDY0KTsKfQp1dGlscy5pbmhlcml0cyhTSEEyNTYsIEJsb2NrSGFzaCk7CmV4cG9ydHMuc2hhMjU2ID0gU0hBMjU2OwoKU0hBMjU2LmJsb2NrU2l6ZSA9IDUxMjsKU0hBMjU2Lm91dFNpemUgPSAyNTY7ClNIQTI1Ni5obWFjU3RyZW5ndGggPSAxOTI7ClNIQTI1Ni5wYWRMZW5ndGggPSA2NDsKClNIQTI1Ni5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIF91cGRhdGUobXNnLCBzdGFydCkgewogIHZhciBXID0gdGhpcy5XOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyBpKyspCiAgICBXW2ldID0gbXNnW3N0YXJ0ICsgaV07CiAgZm9yICg7IGkgPCBXLmxlbmd0aDsgaSsrKQogICAgV1tpXSA9IHN1bTMyXzQoZzFfMjU2KFdbaSAtIDJdKSwgV1tpIC0gN10sIGcwXzI1NihXW2kgLSAxNV0pLCBXW2kgLSAxNl0pOwoKICB2YXIgYSA9IHRoaXMuaFswXTsKICB2YXIgYiA9IHRoaXMuaFsxXTsKICB2YXIgYyA9IHRoaXMuaFsyXTsKICB2YXIgZCA9IHRoaXMuaFszXTsKICB2YXIgZSA9IHRoaXMuaFs0XTsKICB2YXIgZiA9IHRoaXMuaFs1XTsKICB2YXIgZyA9IHRoaXMuaFs2XTsKICB2YXIgaCA9IHRoaXMuaFs3XTsKCiAgYXNzZXJ0KHRoaXMuay5sZW5ndGggPT09IFcubGVuZ3RoKTsKICBmb3IgKHZhciBpID0gMDsgaSA8IFcubGVuZ3RoOyBpKyspIHsKICAgIHZhciBUMSA9IHN1bTMyXzUoaCwgczFfMjU2KGUpLCBjaDMyKGUsIGYsIGcpLCB0aGlzLmtbaV0sIFdbaV0pOwogICAgdmFyIFQyID0gc3VtMzIoczBfMjU2KGEpLCBtYWozMihhLCBiLCBjKSk7CiAgICBoID0gZzsKICAgIGcgPSBmOwogICAgZiA9IGU7CiAgICBlID0gc3VtMzIoZCwgVDEpOwogICAgZCA9IGM7CiAgICBjID0gYjsKICAgIGIgPSBhOwogICAgYSA9IHN1bTMyKFQxLCBUMik7CiAgfQoKICB0aGlzLmhbMF0gPSBzdW0zMih0aGlzLmhbMF0sIGEpOwogIHRoaXMuaFsxXSA9IHN1bTMyKHRoaXMuaFsxXSwgYik7CiAgdGhpcy5oWzJdID0gc3VtMzIodGhpcy5oWzJdLCBjKTsKICB0aGlzLmhbM10gPSBzdW0zMih0aGlzLmhbM10sIGQpOwogIHRoaXMuaFs0XSA9IHN1bTMyKHRoaXMuaFs0XSwgZSk7CiAgdGhpcy5oWzVdID0gc3VtMzIodGhpcy5oWzVdLCBmKTsKICB0aGlzLmhbNl0gPSBzdW0zMih0aGlzLmhbNl0sIGcpOwogIHRoaXMuaFs3XSA9IHN1bTMyKHRoaXMuaFs3XSwgaCk7Cn07CgpTSEEyNTYucHJvdG90eXBlLl9kaWdlc3QgPSBmdW5jdGlvbiBkaWdlc3QoZW5jKSB7CiAgaWYgKGVuYyA9PT0gJ2hleCcpCiAgICByZXR1cm4gdXRpbHMudG9IZXgzMih0aGlzLmgsICdiaWcnKTsKICBlbHNlCiAgICByZXR1cm4gdXRpbHMuc3BsaXQzMih0aGlzLmgsICdiaWcnKTsKfTsKCmZ1bmN0aW9uIFNIQTIyNCgpIHsKICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU0hBMjI0KSkKICAgIHJldHVybiBuZXcgU0hBMjI0KCk7CgogIFNIQTI1Ni5jYWxsKHRoaXMpOwogIHRoaXMuaCA9IFsgMHhjMTA1OWVkOCwgMHgzNjdjZDUwNywgMHgzMDcwZGQxNywgMHhmNzBlNTkzOSwKICAgICAgICAgICAgIDB4ZmZjMDBiMzEsIDB4Njg1ODE1MTEsIDB4NjRmOThmYTcsIDB4YmVmYTRmYTQgXTsKfQp1dGlscy5pbmhlcml0cyhTSEEyMjQsIFNIQTI1Nik7CmV4cG9ydHMuc2hhMjI0ID0gU0hBMjI0OwoKU0hBMjI0LmJsb2NrU2l6ZSA9IDUxMjsKU0hBMjI0Lm91dFNpemUgPSAyMjQ7ClNIQTIyNC5obWFjU3RyZW5ndGggPSAxOTI7ClNIQTIyNC5wYWRMZW5ndGggPSA2NDsKClNIQTIyNC5wcm90b3R5cGUuX2RpZ2VzdCA9IGZ1bmN0aW9uIGRpZ2VzdChlbmMpIHsKICAvLyBKdXN0IHRydW5jYXRlIG91dHB1dAogIGlmIChlbmMgPT09ICdoZXgnKQogICAgcmV0dXJuIHV0aWxzLnRvSGV4MzIodGhpcy5oLnNsaWNlKDAsIDcpLCAnYmlnJyk7CiAgZWxzZQogICAgcmV0dXJuIHV0aWxzLnNwbGl0MzIodGhpcy5oLnNsaWNlKDAsIDcpLCAnYmlnJyk7Cn07CgpmdW5jdGlvbiBTSEE1MTIoKSB7CiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNIQTUxMikpCiAgICByZXR1cm4gbmV3IFNIQTUxMigpOwoKICBCbG9ja0hhc2guY2FsbCh0aGlzKTsKICB0aGlzLmggPSBbIDB4NmEwOWU2NjcsIDB4ZjNiY2M5MDgsCiAgICAgICAgICAgICAweGJiNjdhZTg1LCAweDg0Y2FhNzNiLAogICAgICAgICAgICAgMHgzYzZlZjM3MiwgMHhmZTk0ZjgyYiwKICAgICAgICAgICAgIDB4YTU0ZmY1M2EsIDB4NWYxZDM2ZjEsCiAgICAgICAgICAgICAweDUxMGU1MjdmLCAweGFkZTY4MmQxLAogICAgICAgICAgICAgMHg5YjA1Njg4YywgMHgyYjNlNmMxZiwKICAgICAgICAgICAgIDB4MWY4M2Q5YWIsIDB4ZmI0MWJkNmIsCiAgICAgICAgICAgICAweDViZTBjZDE5LCAweDEzN2UyMTc5IF07CiAgdGhpcy5rID0gc2hhNTEyX0s7CiAgdGhpcy5XID0gbmV3IEFycmF5KDE2MCk7Cn0KdXRpbHMuaW5oZXJpdHMoU0hBNTEyLCBCbG9ja0hhc2gpOwpleHBvcnRzLnNoYTUxMiA9IFNIQTUxMjsKClNIQTUxMi5ibG9ja1NpemUgPSAxMDI0OwpTSEE1MTIub3V0U2l6ZSA9IDUxMjsKU0hBNTEyLmhtYWNTdHJlbmd0aCA9IDE5MjsKU0hBNTEyLnBhZExlbmd0aCA9IDEyODsKClNIQTUxMi5wcm90b3R5cGUuX3ByZXBhcmVCbG9jayA9IGZ1bmN0aW9uIF9wcmVwYXJlQmxvY2sobXNnLCBzdGFydCkgewogIHZhciBXID0gdGhpcy5XOwoKICAvLyAzMiB4IDMyYml0IHdvcmRzCiAgZm9yICh2YXIgaSA9IDA7IGkgPCAzMjsgaSsrKQogICAgV1tpXSA9IG1zZ1tzdGFydCArIGldOwogIGZvciAoOyBpIDwgVy5sZW5ndGg7IGkgKz0gMikgewogICAgdmFyIGMwX2hpID0gZzFfNTEyX2hpKFdbaSAtIDRdLCBXW2kgLSAzXSk7ICAvLyBpIC0gMgogICAgdmFyIGMwX2xvID0gZzFfNTEyX2xvKFdbaSAtIDRdLCBXW2kgLSAzXSk7CiAgICB2YXIgYzFfaGkgPSBXW2kgLSAxNF07ICAvLyBpIC0gNwogICAgdmFyIGMxX2xvID0gV1tpIC0gMTNdOwogICAgdmFyIGMyX2hpID0gZzBfNTEyX2hpKFdbaSAtIDMwXSwgV1tpIC0gMjldKTsgIC8vIGkgLSAxNQogICAgdmFyIGMyX2xvID0gZzBfNTEyX2xvKFdbaSAtIDMwXSwgV1tpIC0gMjldKTsKICAgIHZhciBjM19oaSA9IFdbaSAtIDMyXTsgIC8vIGkgLSAxNgogICAgdmFyIGMzX2xvID0gV1tpIC0gMzFdOwoKICAgIFdbaV0gPSBzdW02NF80X2hpKGMwX2hpLCBjMF9sbywKICAgICAgICAgICAgICAgICAgICAgIGMxX2hpLCBjMV9sbywKICAgICAgICAgICAgICAgICAgICAgIGMyX2hpLCBjMl9sbywKICAgICAgICAgICAgICAgICAgICAgIGMzX2hpLCBjM19sbyk7CiAgICBXW2kgKyAxXSA9IHN1bTY0XzRfbG8oYzBfaGksIGMwX2xvLAogICAgICAgICAgICAgICAgICAgICAgICAgIGMxX2hpLCBjMV9sbywKICAgICAgICAgICAgICAgICAgICAgICAgICBjMl9oaSwgYzJfbG8sCiAgICAgICAgICAgICAgICAgICAgICAgICAgYzNfaGksIGMzX2xvKTsKICB9Cn07CgpTSEE1MTIucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbiBfdXBkYXRlKG1zZywgc3RhcnQpIHsKICB0aGlzLl9wcmVwYXJlQmxvY2sobXNnLCBzdGFydCk7CgogIHZhciBXID0gdGhpcy5XOwoKICB2YXIgYWggPSB0aGlzLmhbMF07CiAgdmFyIGFsID0gdGhpcy5oWzFdOwogIHZhciBiaCA9IHRoaXMuaFsyXTsKICB2YXIgYmwgPSB0aGlzLmhbM107CiAgdmFyIGNoID0gdGhpcy5oWzRdOwogIHZhciBjbCA9IHRoaXMuaFs1XTsKICB2YXIgZGggPSB0aGlzLmhbNl07CiAgdmFyIGRsID0gdGhpcy5oWzddOwogIHZhciBlaCA9IHRoaXMuaFs4XTsKICB2YXIgZWwgPSB0aGlzLmhbOV07CiAgdmFyIGZoID0gdGhpcy5oWzEwXTsKICB2YXIgZmwgPSB0aGlzLmhbMTFdOwogIHZhciBnaCA9IHRoaXMuaFsxMl07CiAgdmFyIGdsID0gdGhpcy5oWzEzXTsKICB2YXIgaGggPSB0aGlzLmhbMTRdOwogIHZhciBobCA9IHRoaXMuaFsxNV07CgogIGFzc2VydCh0aGlzLmsubGVuZ3RoID09PSBXLmxlbmd0aCk7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBXLmxlbmd0aDsgaSArPSAyKSB7CiAgICB2YXIgYzBfaGkgPSBoaDsKICAgIHZhciBjMF9sbyA9IGhsOwogICAgdmFyIGMxX2hpID0gczFfNTEyX2hpKGVoLCBlbCk7CiAgICB2YXIgYzFfbG8gPSBzMV81MTJfbG8oZWgsIGVsKTsKICAgIHZhciBjMl9oaSA9IGNoNjRfaGkoZWgsIGVsLCBmaCwgZmwsIGdoLCBnbCk7CiAgICB2YXIgYzJfbG8gPSBjaDY0X2xvKGVoLCBlbCwgZmgsIGZsLCBnaCwgZ2wpOwogICAgdmFyIGMzX2hpID0gdGhpcy5rW2ldOwogICAgdmFyIGMzX2xvID0gdGhpcy5rW2kgKyAxXTsKICAgIHZhciBjNF9oaSA9IFdbaV07CiAgICB2YXIgYzRfbG8gPSBXW2kgKyAxXTsKCiAgICB2YXIgVDFfaGkgPSBzdW02NF81X2hpKGMwX2hpLCBjMF9sbywKICAgICAgICAgICAgICAgICAgICAgICAgICAgYzFfaGksIGMxX2xvLAogICAgICAgICAgICAgICAgICAgICAgICAgICBjMl9oaSwgYzJfbG8sCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGMzX2hpLCBjM19sbywKICAgICAgICAgICAgICAgICAgICAgICAgICAgYzRfaGksIGM0X2xvKTsKICAgIHZhciBUMV9sbyA9IHN1bTY0XzVfbG8oYzBfaGksIGMwX2xvLAogICAgICAgICAgICAgICAgICAgICAgICAgICBjMV9oaSwgYzFfbG8sCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGMyX2hpLCBjMl9sbywKICAgICAgICAgICAgICAgICAgICAgICAgICAgYzNfaGksIGMzX2xvLAogICAgICAgICAgICAgICAgICAgICAgICAgICBjNF9oaSwgYzRfbG8pOwoKICAgIHZhciBjMF9oaSA9IHMwXzUxMl9oaShhaCwgYWwpOwogICAgdmFyIGMwX2xvID0gczBfNTEyX2xvKGFoLCBhbCk7CiAgICB2YXIgYzFfaGkgPSBtYWo2NF9oaShhaCwgYWwsIGJoLCBibCwgY2gsIGNsKTsKICAgIHZhciBjMV9sbyA9IG1hajY0X2xvKGFoLCBhbCwgYmgsIGJsLCBjaCwgY2wpOwoKICAgIHZhciBUMl9oaSA9IHN1bTY0X2hpKGMwX2hpLCBjMF9sbywgYzFfaGksIGMxX2xvKTsKICAgIHZhciBUMl9sbyA9IHN1bTY0X2xvKGMwX2hpLCBjMF9sbywgYzFfaGksIGMxX2xvKTsKCiAgICBoaCA9IGdoOwogICAgaGwgPSBnbDsKCiAgICBnaCA9IGZoOwogICAgZ2wgPSBmbDsKCiAgICBmaCA9IGVoOwogICAgZmwgPSBlbDsKCiAgICBlaCA9IHN1bTY0X2hpKGRoLCBkbCwgVDFfaGksIFQxX2xvKTsKICAgIGVsID0gc3VtNjRfbG8oZGwsIGRsLCBUMV9oaSwgVDFfbG8pOwoKICAgIGRoID0gY2g7CiAgICBkbCA9IGNsOwoKICAgIGNoID0gYmg7CiAgICBjbCA9IGJsOwoKICAgIGJoID0gYWg7CiAgICBibCA9IGFsOwoKICAgIGFoID0gc3VtNjRfaGkoVDFfaGksIFQxX2xvLCBUMl9oaSwgVDJfbG8pOwogICAgYWwgPSBzdW02NF9sbyhUMV9oaSwgVDFfbG8sIFQyX2hpLCBUMl9sbyk7CiAgfQoKICBzdW02NCh0aGlzLmgsIDAsIGFoLCBhbCk7CiAgc3VtNjQodGhpcy5oLCAyLCBiaCwgYmwpOwogIHN1bTY0KHRoaXMuaCwgNCwgY2gsIGNsKTsKICBzdW02NCh0aGlzLmgsIDYsIGRoLCBkbCk7CiAgc3VtNjQodGhpcy5oLCA4LCBlaCwgZWwpOwogIHN1bTY0KHRoaXMuaCwgMTAsIGZoLCBmbCk7CiAgc3VtNjQodGhpcy5oLCAxMiwgZ2gsIGdsKTsKICBzdW02NCh0aGlzLmgsIDE0LCBoaCwgaGwpOwp9OwoKU0hBNTEyLnByb3RvdHlwZS5fZGlnZXN0ID0gZnVuY3Rpb24gZGlnZXN0KGVuYykgewogIGlmIChlbmMgPT09ICdoZXgnKQogICAgcmV0dXJuIHV0aWxzLnRvSGV4MzIodGhpcy5oLCAnYmlnJyk7CiAgZWxzZQogICAgcmV0dXJuIHV0aWxzLnNwbGl0MzIodGhpcy5oLCAnYmlnJyk7Cn07CgpmdW5jdGlvbiBTSEEzODQoKSB7CiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFNIQTM4NCkpCiAgICByZXR1cm4gbmV3IFNIQTM4NCgpOwoKICBTSEE1MTIuY2FsbCh0aGlzKTsKICB0aGlzLmggPSBbIDB4Y2JiYjlkNWQsIDB4YzEwNTllZDgsCiAgICAgICAgICAgICAweDYyOWEyOTJhLCAweDM2N2NkNTA3LAogICAgICAgICAgICAgMHg5MTU5MDE1YSwgMHgzMDcwZGQxNywKICAgICAgICAgICAgIDB4MTUyZmVjZDgsIDB4ZjcwZTU5MzksCiAgICAgICAgICAgICAweDY3MzMyNjY3LCAweGZmYzAwYjMxLAogICAgICAgICAgICAgMHg4ZWI0NGE4NywgMHg2ODU4MTUxMSwKICAgICAgICAgICAgIDB4ZGIwYzJlMGQsIDB4NjRmOThmYTcsCiAgICAgICAgICAgICAweDQ3YjU0ODFkLCAweGJlZmE0ZmE0IF07Cn0KdXRpbHMuaW5oZXJpdHMoU0hBMzg0LCBTSEE1MTIpOwpleHBvcnRzLnNoYTM4NCA9IFNIQTM4NDsKClNIQTM4NC5ibG9ja1NpemUgPSAxMDI0OwpTSEEzODQub3V0U2l6ZSA9IDM4NDsKU0hBMzg0LmhtYWNTdHJlbmd0aCA9IDE5MjsKU0hBMzg0LnBhZExlbmd0aCA9IDEyODsKClNIQTM4NC5wcm90b3R5cGUuX2RpZ2VzdCA9IGZ1bmN0aW9uIGRpZ2VzdChlbmMpIHsKICBpZiAoZW5jID09PSAnaGV4JykKICAgIHJldHVybiB1dGlscy50b0hleDMyKHRoaXMuaC5zbGljZSgwLCAxMiksICdiaWcnKTsKICBlbHNlCiAgICByZXR1cm4gdXRpbHMuc3BsaXQzMih0aGlzLmguc2xpY2UoMCwgMTIpLCAnYmlnJyk7Cn07CgpmdW5jdGlvbiBTSEExKCkgewogIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTSEExKSkKICAgIHJldHVybiBuZXcgU0hBMSgpOwoKICBCbG9ja0hhc2guY2FsbCh0aGlzKTsKICB0aGlzLmggPSBbIDB4Njc0NTIzMDEsIDB4ZWZjZGFiODksIDB4OThiYWRjZmUsCiAgICAgICAgICAgICAweDEwMzI1NDc2LCAweGMzZDJlMWYwIF07CiAgdGhpcy5XID0gbmV3IEFycmF5KDgwKTsKfQoKdXRpbHMuaW5oZXJpdHMoU0hBMSwgQmxvY2tIYXNoKTsKZXhwb3J0cy5zaGExID0gU0hBMTsKClNIQTEuYmxvY2tTaXplID0gNTEyOwpTSEExLm91dFNpemUgPSAxNjA7ClNIQTEuaG1hY1N0cmVuZ3RoID0gODA7ClNIQTEucGFkTGVuZ3RoID0gNjQ7CgpTSEExLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gX3VwZGF0ZShtc2csIHN0YXJ0KSB7CiAgdmFyIFcgPSB0aGlzLlc7CgogIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykKICAgIFdbaV0gPSBtc2dbc3RhcnQgKyBpXTsKCiAgZm9yKDsgaSA8IFcubGVuZ3RoOyBpKyspCiAgICBXW2ldID0gcm90bDMyKFdbaSAtIDNdIF4gV1tpIC0gOF0gXiBXW2kgLSAxNF0gXiBXW2kgLSAxNl0sIDEpOwoKICB2YXIgYSA9IHRoaXMuaFswXTsKICB2YXIgYiA9IHRoaXMuaFsxXTsKICB2YXIgYyA9IHRoaXMuaFsyXTsKICB2YXIgZCA9IHRoaXMuaFszXTsKICB2YXIgZSA9IHRoaXMuaFs0XTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBXLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgcyA9IH5+KGkgLyAyMCk7CiAgICB2YXIgdCA9IHN1bTMyXzUocm90bDMyKGEsIDUpLCBmdF8xKHMsIGIsIGMsIGQpLCBlLCBXW2ldLCBzaGExX0tbc10pOwogICAgZSA9IGQ7CiAgICBkID0gYzsKICAgIGMgPSByb3RsMzIoYiwgMzApOwogICAgYiA9IGE7CiAgICBhID0gdDsKICB9CgogIHRoaXMuaFswXSA9IHN1bTMyKHRoaXMuaFswXSwgYSk7CiAgdGhpcy5oWzFdID0gc3VtMzIodGhpcy5oWzFdLCBiKTsKICB0aGlzLmhbMl0gPSBzdW0zMih0aGlzLmhbMl0sIGMpOwogIHRoaXMuaFszXSA9IHN1bTMyKHRoaXMuaFszXSwgZCk7CiAgdGhpcy5oWzRdID0gc3VtMzIodGhpcy5oWzRdLCBlKTsKfTsKClNIQTEucHJvdG90eXBlLl9kaWdlc3QgPSBmdW5jdGlvbiBkaWdlc3QoZW5jKSB7CiAgaWYgKGVuYyA9PT0gJ2hleCcpCiAgICByZXR1cm4gdXRpbHMudG9IZXgzMih0aGlzLmgsICdiaWcnKTsKICBlbHNlCiAgICByZXR1cm4gdXRpbHMuc3BsaXQzMih0aGlzLmgsICdiaWcnKTsKfTsKCmZ1bmN0aW9uIGNoMzIoeCwgeSwgeikgewogIHJldHVybiAoeCAmIHkpIF4gKCh+eCkgJiB6KTsKfQoKZnVuY3Rpb24gbWFqMzIoeCwgeSwgeikgewogIHJldHVybiAoeCAmIHkpIF4gKHggJiB6KSBeICh5ICYgeik7Cn0KCmZ1bmN0aW9uIHAzMih4LCB5LCB6KSB7CiAgcmV0dXJuIHggXiB5IF4gejsKfQoKZnVuY3Rpb24gczBfMjU2KHgpIHsKICByZXR1cm4gcm90cjMyKHgsIDIpIF4gcm90cjMyKHgsIDEzKSBeIHJvdHIzMih4LCAyMik7Cn0KCmZ1bmN0aW9uIHMxXzI1Nih4KSB7CiAgcmV0dXJuIHJvdHIzMih4LCA2KSBeIHJvdHIzMih4LCAxMSkgXiByb3RyMzIoeCwgMjUpOwp9CgpmdW5jdGlvbiBnMF8yNTYoeCkgewogIHJldHVybiByb3RyMzIoeCwgNykgXiByb3RyMzIoeCwgMTgpIF4gKHggPj4+IDMpOwp9CgpmdW5jdGlvbiBnMV8yNTYoeCkgewogIHJldHVybiByb3RyMzIoeCwgMTcpIF4gcm90cjMyKHgsIDE5KSBeICh4ID4+PiAxMCk7Cn0KCmZ1bmN0aW9uIGZ0XzEocywgeCwgeSwgeikgewogIGlmIChzID09PSAwKQogICAgcmV0dXJuIGNoMzIoeCwgeSwgeik7CiAgaWYgKHMgPT09IDEgfHwgcyA9PT0gMykKICAgIHJldHVybiBwMzIoeCwgeSwgeik7CiAgaWYgKHMgPT09IDIpCiAgICByZXR1cm4gbWFqMzIoeCwgeSwgeik7Cn0KCmZ1bmN0aW9uIGNoNjRfaGkoeGgsIHhsLCB5aCwgeWwsIHpoLCB6bCkgewogIHZhciByID0gKHhoICYgeWgpIF4gKCh+eGgpICYgemgpOwogIGlmIChyIDwgMCkKICAgIHIgKz0gMHgxMDAwMDAwMDA7CiAgcmV0dXJuIHI7Cn0KCmZ1bmN0aW9uIGNoNjRfbG8oeGgsIHhsLCB5aCwgeWwsIHpoLCB6bCkgewogIHZhciByID0gKHhsICYgeWwpIF4gKCh+eGwpICYgemwpOwogIGlmIChyIDwgMCkKICAgIHIgKz0gMHgxMDAwMDAwMDA7CiAgcmV0dXJuIHI7Cn0KCmZ1bmN0aW9uIG1hajY0X2hpKHhoLCB4bCwgeWgsIHlsLCB6aCwgemwpIHsKICB2YXIgciA9ICh4aCAmIHloKSBeICh4aCAmIHpoKSBeICh5aCAmIHpoKTsKICBpZiAociA8IDApCiAgICByICs9IDB4MTAwMDAwMDAwOwogIHJldHVybiByOwp9CgpmdW5jdGlvbiBtYWo2NF9sbyh4aCwgeGwsIHloLCB5bCwgemgsIHpsKSB7CiAgdmFyIHIgPSAoeGwgJiB5bCkgXiAoeGwgJiB6bCkgXiAoeWwgJiB6bCk7CiAgaWYgKHIgPCAwKQogICAgciArPSAweDEwMDAwMDAwMDsKICByZXR1cm4gcjsKfQoKZnVuY3Rpb24gczBfNTEyX2hpKHhoLCB4bCkgewogIHZhciBjMF9oaSA9IHJvdHI2NF9oaSh4aCwgeGwsIDI4KTsKICB2YXIgYzFfaGkgPSByb3RyNjRfaGkoeGwsIHhoLCAyKTsgIC8vIDM0CiAgdmFyIGMyX2hpID0gcm90cjY0X2hpKHhsLCB4aCwgNyk7ICAvLyAzOQoKICB2YXIgciA9IGMwX2hpIF4gYzFfaGkgXiBjMl9oaTsKICBpZiAociA8IDApCiAgICByICs9IDB4MTAwMDAwMDAwOwogIHJldHVybiByOwp9CgpmdW5jdGlvbiBzMF81MTJfbG8oeGgsIHhsKSB7CiAgdmFyIGMwX2xvID0gcm90cjY0X2xvKHhoLCB4bCwgMjgpOwogIHZhciBjMV9sbyA9IHJvdHI2NF9sbyh4bCwgeGgsIDIpOyAgLy8gMzQKICB2YXIgYzJfbG8gPSByb3RyNjRfbG8oeGwsIHhoLCA3KTsgIC8vIDM5CgogIHZhciByID0gYzBfbG8gXiBjMV9sbyBeIGMyX2xvOwogIGlmIChyIDwgMCkKICAgIHIgKz0gMHgxMDAwMDAwMDA7CiAgcmV0dXJuIHI7Cn0KCmZ1bmN0aW9uIHMxXzUxMl9oaSh4aCwgeGwpIHsKICB2YXIgYzBfaGkgPSByb3RyNjRfaGkoeGgsIHhsLCAxNCk7CiAgdmFyIGMxX2hpID0gcm90cjY0X2hpKHhoLCB4bCwgMTgpOwogIHZhciBjMl9oaSA9IHJvdHI2NF9oaSh4bCwgeGgsIDkpOyAgLy8gNDEKCiAgdmFyIHIgPSBjMF9oaSBeIGMxX2hpIF4gYzJfaGk7CiAgaWYgKHIgPCAwKQogICAgciArPSAweDEwMDAwMDAwMDsKICByZXR1cm4gcjsKfQoKZnVuY3Rpb24gczFfNTEyX2xvKHhoLCB4bCkgewogIHZhciBjMF9sbyA9IHJvdHI2NF9sbyh4aCwgeGwsIDE0KTsKICB2YXIgYzFfbG8gPSByb3RyNjRfbG8oeGgsIHhsLCAxOCk7CiAgdmFyIGMyX2xvID0gcm90cjY0X2xvKHhsLCB4aCwgOSk7ICAvLyA0MQoKICB2YXIgciA9IGMwX2xvIF4gYzFfbG8gXiBjMl9sbzsKICBpZiAociA8IDApCiAgICByICs9IDB4MTAwMDAwMDAwOwogIHJldHVybiByOwp9CgpmdW5jdGlvbiBnMF81MTJfaGkoeGgsIHhsKSB7CiAgdmFyIGMwX2hpID0gcm90cjY0X2hpKHhoLCB4bCwgMSk7CiAgdmFyIGMxX2hpID0gcm90cjY0X2hpKHhoLCB4bCwgOCk7CiAgdmFyIGMyX2hpID0gc2hyNjRfaGkoeGgsIHhsLCA3KTsKCiAgdmFyIHIgPSBjMF9oaSBeIGMxX2hpIF4gYzJfaGk7CiAgaWYgKHIgPCAwKQogICAgciArPSAweDEwMDAwMDAwMDsKICByZXR1cm4gcjsKfQoKZnVuY3Rpb24gZzBfNTEyX2xvKHhoLCB4bCkgewogIHZhciBjMF9sbyA9IHJvdHI2NF9sbyh4aCwgeGwsIDEpOwogIHZhciBjMV9sbyA9IHJvdHI2NF9sbyh4aCwgeGwsIDgpOwogIHZhciBjMl9sbyA9IHNocjY0X2xvKHhoLCB4bCwgNyk7CgogIHZhciByID0gYzBfbG8gXiBjMV9sbyBeIGMyX2xvOwogIGlmIChyIDwgMCkKICAgIHIgKz0gMHgxMDAwMDAwMDA7CiAgcmV0dXJuIHI7Cn0KCmZ1bmN0aW9uIGcxXzUxMl9oaSh4aCwgeGwpIHsKICB2YXIgYzBfaGkgPSByb3RyNjRfaGkoeGgsIHhsLCAxOSk7CiAgdmFyIGMxX2hpID0gcm90cjY0X2hpKHhsLCB4aCwgMjkpOyAgLy8gNjEKICB2YXIgYzJfaGkgPSBzaHI2NF9oaSh4aCwgeGwsIDYpOwoKICB2YXIgciA9IGMwX2hpIF4gYzFfaGkgXiBjMl9oaTsKICBpZiAociA8IDApCiAgICByICs9IDB4MTAwMDAwMDAwOwogIHJldHVybiByOwp9CgpmdW5jdGlvbiBnMV81MTJfbG8oeGgsIHhsKSB7CiAgdmFyIGMwX2xvID0gcm90cjY0X2xvKHhoLCB4bCwgMTkpOwogIHZhciBjMV9sbyA9IHJvdHI2NF9sbyh4bCwgeGgsIDI5KTsgIC8vIDYxCiAgdmFyIGMyX2xvID0gc2hyNjRfbG8oeGgsIHhsLCA2KTsKCiAgdmFyIHIgPSBjMF9sbyBeIGMxX2xvIF4gYzJfbG87CiAgaWYgKHIgPCAwKQogICAgciArPSAweDEwMDAwMDAwMDsKICByZXR1cm4gcjsKfQoKfSx7Ii4uL2hhc2giOjEyMH1dLDEyNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CnZhciB1dGlscyA9IGV4cG9ydHM7CnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7CgpmdW5jdGlvbiB0b0FycmF5KG1zZywgZW5jKSB7CiAgaWYgKEFycmF5LmlzQXJyYXkobXNnKSkKICAgIHJldHVybiBtc2cuc2xpY2UoKTsKICBpZiAoIW1zZykKICAgIHJldHVybiBbXTsKICB2YXIgcmVzID0gW107CiAgaWYgKHR5cGVvZiBtc2cgPT09ICdzdHJpbmcnKSB7CiAgICBpZiAoIWVuYykgewogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBjID0gbXNnLmNoYXJDb2RlQXQoaSk7CiAgICAgICAgdmFyIGhpID0gYyA+PiA4OwogICAgICAgIHZhciBsbyA9IGMgJiAweGZmOwogICAgICAgIGlmIChoaSkKICAgICAgICAgIHJlcy5wdXNoKGhpLCBsbyk7CiAgICAgICAgZWxzZQogICAgICAgICAgcmVzLnB1c2gobG8pOwogICAgICB9CiAgICB9IGVsc2UgaWYgKGVuYyA9PT0gJ2hleCcpIHsKICAgICAgbXNnID0gbXNnLnJlcGxhY2UoL1teYS16MC05XSsvaWcsICcnKTsKICAgICAgaWYgKG1zZy5sZW5ndGggJSAyICE9PSAwKQogICAgICAgIG1zZyA9ICcwJyArIG1zZzsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtc2cubGVuZ3RoOyBpICs9IDIpCiAgICAgICAgcmVzLnB1c2gocGFyc2VJbnQobXNnW2ldICsgbXNnW2kgKyAxXSwgMTYpKTsKICAgIH0KICB9IGVsc2UgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtc2cubGVuZ3RoOyBpKyspCiAgICAgIHJlc1tpXSA9IG1zZ1tpXSB8IDA7CiAgfQogIHJldHVybiByZXM7Cn0KdXRpbHMudG9BcnJheSA9IHRvQXJyYXk7CgpmdW5jdGlvbiB0b0hleChtc2cpIHsKICB2YXIgcmVzID0gJyc7CiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtc2cubGVuZ3RoOyBpKyspCiAgICByZXMgKz0gemVybzIobXNnW2ldLnRvU3RyaW5nKDE2KSk7CiAgcmV0dXJuIHJlczsKfQp1dGlscy50b0hleCA9IHRvSGV4OwoKZnVuY3Rpb24gaHRvbmwodykgewogIHZhciByZXMgPSAodyA+Pj4gMjQpIHwKICAgICAgICAgICAgKCh3ID4+PiA4KSAmIDB4ZmYwMCkgfAogICAgICAgICAgICAoKHcgPDwgOCkgJiAweGZmMDAwMCkgfAogICAgICAgICAgICAoKHcgJiAweGZmKSA8PCAyNCk7CiAgcmV0dXJuIHJlcyA+Pj4gMDsKfQp1dGlscy5odG9ubCA9IGh0b25sOwoKZnVuY3Rpb24gdG9IZXgzMihtc2csIGVuZGlhbikgewogIHZhciByZXMgPSAnJzsKICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7IGkrKykgewogICAgdmFyIHcgPSBtc2dbaV07CiAgICBpZiAoZW5kaWFuID09PSAnbGl0dGxlJykKICAgICAgdyA9IGh0b25sKHcpOwogICAgcmVzICs9IHplcm84KHcudG9TdHJpbmcoMTYpKTsKICB9CiAgcmV0dXJuIHJlczsKfQp1dGlscy50b0hleDMyID0gdG9IZXgzMjsKCmZ1bmN0aW9uIHplcm8yKHdvcmQpIHsKICBpZiAod29yZC5sZW5ndGggPT09IDEpCiAgICByZXR1cm4gJzAnICsgd29yZDsKICBlbHNlCiAgICByZXR1cm4gd29yZDsKfQp1dGlscy56ZXJvMiA9IHplcm8yOwoKZnVuY3Rpb24gemVybzgod29yZCkgewogIGlmICh3b3JkLmxlbmd0aCA9PT0gNykKICAgIHJldHVybiAnMCcgKyB3b3JkOwogIGVsc2UgaWYgKHdvcmQubGVuZ3RoID09PSA2KQogICAgcmV0dXJuICcwMCcgKyB3b3JkOwogIGVsc2UgaWYgKHdvcmQubGVuZ3RoID09PSA1KQogICAgcmV0dXJuICcwMDAnICsgd29yZDsKICBlbHNlIGlmICh3b3JkLmxlbmd0aCA9PT0gNCkKICAgIHJldHVybiAnMDAwMCcgKyB3b3JkOwogIGVsc2UgaWYgKHdvcmQubGVuZ3RoID09PSAzKQogICAgcmV0dXJuICcwMDAwMCcgKyB3b3JkOwogIGVsc2UgaWYgKHdvcmQubGVuZ3RoID09PSAyKQogICAgcmV0dXJuICcwMDAwMDAnICsgd29yZDsKICBlbHNlIGlmICh3b3JkLmxlbmd0aCA9PT0gMSkKICAgIHJldHVybiAnMDAwMDAwMCcgKyB3b3JkOwogIGVsc2UKICAgIHJldHVybiB3b3JkOwp9CnV0aWxzLnplcm84ID0gemVybzg7CgpmdW5jdGlvbiBqb2luMzIobXNnLCBzdGFydCwgZW5kLCBlbmRpYW4pIHsKICB2YXIgbGVuID0gZW5kIC0gc3RhcnQ7CiAgYXNzZXJ0KGxlbiAlIDQgPT09IDApOwogIHZhciByZXMgPSBuZXcgQXJyYXkobGVuIC8gNCk7CiAgZm9yICh2YXIgaSA9IDAsIGsgPSBzdGFydDsgaSA8IHJlcy5sZW5ndGg7IGkrKywgayArPSA0KSB7CiAgICB2YXIgdzsKICAgIGlmIChlbmRpYW4gPT09ICdiaWcnKQogICAgICB3ID0gKG1zZ1trXSA8PCAyNCkgfCAobXNnW2sgKyAxXSA8PCAxNikgfCAobXNnW2sgKyAyXSA8PCA4KSB8IG1zZ1trICsgM107CiAgICBlbHNlCiAgICAgIHcgPSAobXNnW2sgKyAzXSA8PCAyNCkgfCAobXNnW2sgKyAyXSA8PCAxNikgfCAobXNnW2sgKyAxXSA8PCA4KSB8IG1zZ1trXTsKICAgIHJlc1tpXSA9IHcgPj4+IDA7CiAgfQogIHJldHVybiByZXM7Cn0KdXRpbHMuam9pbjMyID0gam9pbjMyOwoKZnVuY3Rpb24gc3BsaXQzMihtc2csIGVuZGlhbikgewogIHZhciByZXMgPSBuZXcgQXJyYXkobXNnLmxlbmd0aCAqIDQpOwogIGZvciAodmFyIGkgPSAwLCBrID0gMDsgaSA8IG1zZy5sZW5ndGg7IGkrKywgayArPSA0KSB7CiAgICB2YXIgbSA9IG1zZ1tpXTsKICAgIGlmIChlbmRpYW4gPT09ICdiaWcnKSB7CiAgICAgIHJlc1trXSA9IG0gPj4+IDI0OwogICAgICByZXNbayArIDFdID0gKG0gPj4+IDE2KSAmIDB4ZmY7CiAgICAgIHJlc1trICsgMl0gPSAobSA+Pj4gOCkgJiAweGZmOwogICAgICByZXNbayArIDNdID0gbSAmIDB4ZmY7CiAgICB9IGVsc2UgewogICAgICByZXNbayArIDNdID0gbSA+Pj4gMjQ7CiAgICAgIHJlc1trICsgMl0gPSAobSA+Pj4gMTYpICYgMHhmZjsKICAgICAgcmVzW2sgKyAxXSA9IChtID4+PiA4KSAmIDB4ZmY7CiAgICAgIHJlc1trXSA9IG0gJiAweGZmOwogICAgfQogIH0KICByZXR1cm4gcmVzOwp9CnV0aWxzLnNwbGl0MzIgPSBzcGxpdDMyOwoKZnVuY3Rpb24gcm90cjMyKHcsIGIpIHsKICByZXR1cm4gKHcgPj4+IGIpIHwgKHcgPDwgKDMyIC0gYikpOwp9CnV0aWxzLnJvdHIzMiA9IHJvdHIzMjsKCmZ1bmN0aW9uIHJvdGwzMih3LCBiKSB7CiAgcmV0dXJuICh3IDw8IGIpIHwgKHcgPj4+ICgzMiAtIGIpKTsKfQp1dGlscy5yb3RsMzIgPSByb3RsMzI7CgpmdW5jdGlvbiBzdW0zMihhLCBiKSB7CiAgcmV0dXJuIChhICsgYikgPj4+IDA7Cn0KdXRpbHMuc3VtMzIgPSBzdW0zMjsKCmZ1bmN0aW9uIHN1bTMyXzMoYSwgYiwgYykgewogIHJldHVybiAoYSArIGIgKyBjKSA+Pj4gMDsKfQp1dGlscy5zdW0zMl8zID0gc3VtMzJfMzsKCmZ1bmN0aW9uIHN1bTMyXzQoYSwgYiwgYywgZCkgewogIHJldHVybiAoYSArIGIgKyBjICsgZCkgPj4+IDA7Cn0KdXRpbHMuc3VtMzJfNCA9IHN1bTMyXzQ7CgpmdW5jdGlvbiBzdW0zMl81KGEsIGIsIGMsIGQsIGUpIHsKICByZXR1cm4gKGEgKyBiICsgYyArIGQgKyBlKSA+Pj4gMDsKfQp1dGlscy5zdW0zMl81ID0gc3VtMzJfNTsKCmZ1bmN0aW9uIGFzc2VydChjb25kLCBtc2cpIHsKICBpZiAoIWNvbmQpCiAgICB0aHJvdyBuZXcgRXJyb3IobXNnIHx8ICdBc3NlcnRpb24gZmFpbGVkJyk7Cn0KdXRpbHMuYXNzZXJ0ID0gYXNzZXJ0OwoKdXRpbHMuaW5oZXJpdHMgPSBpbmhlcml0czsKCmZ1bmN0aW9uIHN1bTY0KGJ1ZiwgcG9zLCBhaCwgYWwpIHsKICB2YXIgYmggPSBidWZbcG9zXTsKICB2YXIgYmwgPSBidWZbcG9zICsgMV07CgogIHZhciBsbyA9IChhbCArIGJsKSA+Pj4gMDsKICB2YXIgaGkgPSAobG8gPCBhbCA/IDEgOiAwKSArIGFoICsgYmg7CiAgYnVmW3Bvc10gPSBoaSA+Pj4gMDsKICBidWZbcG9zICsgMV0gPSBsbzsKfQpleHBvcnRzLnN1bTY0ID0gc3VtNjQ7CgpmdW5jdGlvbiBzdW02NF9oaShhaCwgYWwsIGJoLCBibCkgewogIHZhciBsbyA9IChhbCArIGJsKSA+Pj4gMDsKICB2YXIgaGkgPSAobG8gPCBhbCA/IDEgOiAwKSArIGFoICsgYmg7CiAgcmV0dXJuIGhpID4+PiAwOwp9OwpleHBvcnRzLnN1bTY0X2hpID0gc3VtNjRfaGk7CgpmdW5jdGlvbiBzdW02NF9sbyhhaCwgYWwsIGJoLCBibCkgewogIHZhciBsbyA9IGFsICsgYmw7CiAgcmV0dXJuIGxvID4+PiAwOwp9OwpleHBvcnRzLnN1bTY0X2xvID0gc3VtNjRfbG87CgpmdW5jdGlvbiBzdW02NF80X2hpKGFoLCBhbCwgYmgsIGJsLCBjaCwgY2wsIGRoLCBkbCkgewogIHZhciBjYXJyeSA9IDA7CiAgdmFyIGxvID0gYWw7CiAgbG8gPSAobG8gKyBibCkgPj4+IDA7CiAgY2FycnkgKz0gbG8gPCBhbCA/IDEgOiAwOwogIGxvID0gKGxvICsgY2wpID4+PiAwOwogIGNhcnJ5ICs9IGxvIDwgY2wgPyAxIDogMDsKICBsbyA9IChsbyArIGRsKSA+Pj4gMDsKICBjYXJyeSArPSBsbyA8IGRsID8gMSA6IDA7CgogIHZhciBoaSA9IGFoICsgYmggKyBjaCArIGRoICsgY2Fycnk7CiAgcmV0dXJuIGhpID4+PiAwOwp9OwpleHBvcnRzLnN1bTY0XzRfaGkgPSBzdW02NF80X2hpOwoKZnVuY3Rpb24gc3VtNjRfNF9sbyhhaCwgYWwsIGJoLCBibCwgY2gsIGNsLCBkaCwgZGwpIHsKICB2YXIgbG8gPSBhbCArIGJsICsgY2wgKyBkbDsKICByZXR1cm4gbG8gPj4+IDA7Cn07CmV4cG9ydHMuc3VtNjRfNF9sbyA9IHN1bTY0XzRfbG87CgpmdW5jdGlvbiBzdW02NF81X2hpKGFoLCBhbCwgYmgsIGJsLCBjaCwgY2wsIGRoLCBkbCwgZWgsIGVsKSB7CiAgdmFyIGNhcnJ5ID0gMDsKICB2YXIgbG8gPSBhbDsKICBsbyA9IChsbyArIGJsKSA+Pj4gMDsKICBjYXJyeSArPSBsbyA8IGFsID8gMSA6IDA7CiAgbG8gPSAobG8gKyBjbCkgPj4+IDA7CiAgY2FycnkgKz0gbG8gPCBjbCA/IDEgOiAwOwogIGxvID0gKGxvICsgZGwpID4+PiAwOwogIGNhcnJ5ICs9IGxvIDwgZGwgPyAxIDogMDsKICBsbyA9IChsbyArIGVsKSA+Pj4gMDsKICBjYXJyeSArPSBsbyA8IGVsID8gMSA6IDA7CgogIHZhciBoaSA9IGFoICsgYmggKyBjaCArIGRoICsgZWggKyBjYXJyeTsKICByZXR1cm4gaGkgPj4+IDA7Cn07CmV4cG9ydHMuc3VtNjRfNV9oaSA9IHN1bTY0XzVfaGk7CgpmdW5jdGlvbiBzdW02NF81X2xvKGFoLCBhbCwgYmgsIGJsLCBjaCwgY2wsIGRoLCBkbCwgZWgsIGVsKSB7CiAgdmFyIGxvID0gYWwgKyBibCArIGNsICsgZGwgKyBlbDsKCiAgcmV0dXJuIGxvID4+PiAwOwp9OwpleHBvcnRzLnN1bTY0XzVfbG8gPSBzdW02NF81X2xvOwoKZnVuY3Rpb24gcm90cjY0X2hpKGFoLCBhbCwgbnVtKSB7CiAgdmFyIHIgPSAoYWwgPDwgKDMyIC0gbnVtKSkgfCAoYWggPj4+IG51bSk7CiAgcmV0dXJuIHIgPj4+IDA7Cn07CmV4cG9ydHMucm90cjY0X2hpID0gcm90cjY0X2hpOwoKZnVuY3Rpb24gcm90cjY0X2xvKGFoLCBhbCwgbnVtKSB7CiAgdmFyIHIgPSAoYWggPDwgKDMyIC0gbnVtKSkgfCAoYWwgPj4+IG51bSk7CiAgcmV0dXJuIHIgPj4+IDA7Cn07CmV4cG9ydHMucm90cjY0X2xvID0gcm90cjY0X2xvOwoKZnVuY3Rpb24gc2hyNjRfaGkoYWgsIGFsLCBudW0pIHsKICByZXR1cm4gYWggPj4+IG51bTsKfTsKZXhwb3J0cy5zaHI2NF9oaSA9IHNocjY0X2hpOwoKZnVuY3Rpb24gc2hyNjRfbG8oYWgsIGFsLCBudW0pIHsKICB2YXIgciA9IChhaCA8PCAoMzIgLSBudW0pKSB8IChhbCA+Pj4gbnVtKTsKICByZXR1cm4gciA+Pj4gMDsKfTsKZXhwb3J0cy5zaHI2NF9sbyA9IHNocjY0X2xvOwoKfSx7ImluaGVyaXRzIjoxMjh9XSwxMjY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewpleHBvcnRzLnJlYWQgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIGlzTEUsIG1MZW4sIG5CeXRlcykgewogIHZhciBlLCBtCiAgdmFyIGVMZW4gPSBuQnl0ZXMgKiA4IC0gbUxlbiAtIDEKICB2YXIgZU1heCA9ICgxIDw8IGVMZW4pIC0gMQogIHZhciBlQmlhcyA9IGVNYXggPj4gMQogIHZhciBuQml0cyA9IC03CiAgdmFyIGkgPSBpc0xFID8gKG5CeXRlcyAtIDEpIDogMAogIHZhciBkID0gaXNMRSA/IC0xIDogMQogIHZhciBzID0gYnVmZmVyW29mZnNldCArIGldCgogIGkgKz0gZAoKICBlID0gcyAmICgoMSA8PCAoLW5CaXRzKSkgLSAxKQogIHMgPj49ICgtbkJpdHMpCiAgbkJpdHMgKz0gZUxlbgogIGZvciAoOyBuQml0cyA+IDA7IGUgPSBlICogMjU2ICsgYnVmZmVyW29mZnNldCArIGldLCBpICs9IGQsIG5CaXRzIC09IDgpIHt9CgogIG0gPSBlICYgKCgxIDw8ICgtbkJpdHMpKSAtIDEpCiAgZSA+Pj0gKC1uQml0cykKICBuQml0cyArPSBtTGVuCiAgZm9yICg7IG5CaXRzID4gMDsgbSA9IG0gKiAyNTYgKyBidWZmZXJbb2Zmc2V0ICsgaV0sIGkgKz0gZCwgbkJpdHMgLT0gOCkge30KCiAgaWYgKGUgPT09IDApIHsKICAgIGUgPSAxIC0gZUJpYXMKICB9IGVsc2UgaWYgKGUgPT09IGVNYXgpIHsKICAgIHJldHVybiBtID8gTmFOIDogKChzID8gLTEgOiAxKSAqIEluZmluaXR5KQogIH0gZWxzZSB7CiAgICBtID0gbSArIE1hdGgucG93KDIsIG1MZW4pCiAgICBlID0gZSAtIGVCaWFzCiAgfQogIHJldHVybiAocyA/IC0xIDogMSkgKiBtICogTWF0aC5wb3coMiwgZSAtIG1MZW4pCn0KCmV4cG9ydHMud3JpdGUgPSBmdW5jdGlvbiAoYnVmZmVyLCB2YWx1ZSwgb2Zmc2V0LCBpc0xFLCBtTGVuLCBuQnl0ZXMpIHsKICB2YXIgZSwgbSwgYwogIHZhciBlTGVuID0gbkJ5dGVzICogOCAtIG1MZW4gLSAxCiAgdmFyIGVNYXggPSAoMSA8PCBlTGVuKSAtIDEKICB2YXIgZUJpYXMgPSBlTWF4ID4+IDEKICB2YXIgcnQgPSAobUxlbiA9PT0gMjMgPyBNYXRoLnBvdygyLCAtMjQpIC0gTWF0aC5wb3coMiwgLTc3KSA6IDApCiAgdmFyIGkgPSBpc0xFID8gMCA6IChuQnl0ZXMgLSAxKQogIHZhciBkID0gaXNMRSA/IDEgOiAtMQogIHZhciBzID0gdmFsdWUgPCAwIHx8ICh2YWx1ZSA9PT0gMCAmJiAxIC8gdmFsdWUgPCAwKSA/IDEgOiAwCgogIHZhbHVlID0gTWF0aC5hYnModmFsdWUpCgogIGlmIChpc05hTih2YWx1ZSkgfHwgdmFsdWUgPT09IEluZmluaXR5KSB7CiAgICBtID0gaXNOYU4odmFsdWUpID8gMSA6IDAKICAgIGUgPSBlTWF4CiAgfSBlbHNlIHsKICAgIGUgPSBNYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKSAvIE1hdGguTE4yKQogICAgaWYgKHZhbHVlICogKGMgPSBNYXRoLnBvdygyLCAtZSkpIDwgMSkgewogICAgICBlLS0KICAgICAgYyAqPSAyCiAgICB9CiAgICBpZiAoZSArIGVCaWFzID49IDEpIHsKICAgICAgdmFsdWUgKz0gcnQgLyBjCiAgICB9IGVsc2UgewogICAgICB2YWx1ZSArPSBydCAqIE1hdGgucG93KDIsIDEgLSBlQmlhcykKICAgIH0KICAgIGlmICh2YWx1ZSAqIGMgPj0gMikgewogICAgICBlKysKICAgICAgYyAvPSAyCiAgICB9CgogICAgaWYgKGUgKyBlQmlhcyA+PSBlTWF4KSB7CiAgICAgIG0gPSAwCiAgICAgIGUgPSBlTWF4CiAgICB9IGVsc2UgaWYgKGUgKyBlQmlhcyA+PSAxKSB7CiAgICAgIG0gPSAodmFsdWUgKiBjIC0gMSkgKiBNYXRoLnBvdygyLCBtTGVuKQogICAgICBlID0gZSArIGVCaWFzCiAgICB9IGVsc2UgewogICAgICBtID0gdmFsdWUgKiBNYXRoLnBvdygyLCBlQmlhcyAtIDEpICogTWF0aC5wb3coMiwgbUxlbikKICAgICAgZSA9IDAKICAgIH0KICB9CgogIGZvciAoOyBtTGVuID49IDg7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IG0gJiAweGZmLCBpICs9IGQsIG0gLz0gMjU2LCBtTGVuIC09IDgpIHt9CgogIGUgPSAoZSA8PCBtTGVuKSB8IG0KICBlTGVuICs9IG1MZW4KICBmb3IgKDsgZUxlbiA+IDA7IGJ1ZmZlcltvZmZzZXQgKyBpXSA9IGUgJiAweGZmLCBpICs9IGQsIGUgLz0gMjU2LCBlTGVuIC09IDgpIHt9CgogIGJ1ZmZlcltvZmZzZXQgKyBpIC0gZF0gfD0gcyAqIDEyOAp9Cgp9LHt9XSwxMjc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoKdmFyIGluZGV4T2YgPSBbXS5pbmRleE9mOwoKbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihhcnIsIG9iail7CiAgaWYgKGluZGV4T2YpIHJldHVybiBhcnIuaW5kZXhPZihvYmopOwogIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7CiAgICBpZiAoYXJyW2ldID09PSBvYmopIHJldHVybiBpOwogIH0KICByZXR1cm4gLTE7Cn07Cn0se31dLDEyODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CmlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykgewogIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlCiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHsKICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yCiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwgewogICAgICBjb25zdHJ1Y3RvcjogewogICAgICAgIHZhbHVlOiBjdG9yLAogICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogICAgICB9CiAgICB9KTsKICB9Owp9IGVsc2UgewogIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzCiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHsKICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yCiAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fQogICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZQogICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKQogICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yCiAgfQp9Cgp9LHt9XSwxMjk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovKioKICogRGV0ZXJtaW5lIGlmIGFuIG9iamVjdCBpcyBCdWZmZXIKICoKICogQXV0aG9yOiAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGZlcm9zc0BmZXJvc3Mub3JnPiA8aHR0cDovL2Zlcm9zcy5vcmc+CiAqIExpY2Vuc2U6ICBNSVQKICoKICogYG5wbSBpbnN0YWxsIGlzLWJ1ZmZlcmAKICovCgptb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmopIHsKICByZXR1cm4gISEob2JqICE9IG51bGwgJiYKICAgIChvYmouX2lzQnVmZmVyIHx8IC8vIEZvciBTYWZhcmkgNS03IChtaXNzaW5nIE9iamVjdC5wcm90b3R5cGUuY29uc3RydWN0b3IpCiAgICAgIChvYmouY29uc3RydWN0b3IgJiYKICAgICAgdHlwZW9mIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJgogICAgICBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKSkKICAgICkpCn0KCn0se31dLDEzMDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CmFyZ3VtZW50c1s0XVs3N11bMF0uYXBwbHkoZXhwb3J0cyxhcmd1bWVudHMpCn0seyJkdXAiOjc3fV0sMTMxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChCdWZmZXIpewoKdmFyIG5hdmlnYXRvciA9IHt9OwpuYXZpZ2F0b3IudXNlckFnZW50ID0gZmFsc2U7Cgp2YXIgd2luZG93ID0ge307Ci8qCiAqIGpzcnNhc2lnbiA1LjAuNyAoYykgMjAxMC0yMDE2IEtlbmppIFVydXNoaW1hIHwga2p1ci5naXRodWIuY29tL2pzcnNhc2lnbi9saWNlbnNlCiAqLwoKLyoKeWFob28tbWluLmpzCkNvcHlyaWdodCAoYykgMjAxMSwgWWFob28hIEluYy4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KQ29kZSBsaWNlbnNlZCB1bmRlciB0aGUgQlNEIExpY2Vuc2U6Cmh0dHA6Ly9kZXZlbG9wZXIueWFob28uY29tL3l1aS9saWNlbnNlLmh0bWwKdmVyc2lvbjogMi45LjAKKi8KaWYodHlwZW9mIFlBSE9PPT0idW5kZWZpbmVkInx8IVlBSE9PKXt2YXIgWUFIT089e307fVlBSE9PLm5hbWVzcGFjZT1mdW5jdGlvbigpe3ZhciBiPWFyZ3VtZW50cyxnPW51bGwsZSxjLGY7Zm9yKGU9MDtlPGIubGVuZ3RoO2U9ZSsxKXtmPSgiIitiW2VdKS5zcGxpdCgiLiIpO2c9WUFIT087Zm9yKGM9KGZbMF09PSJZQUhPTyIpPzE6MDtjPGYubGVuZ3RoO2M9YysxKXtnW2ZbY11dPWdbZltjXV18fHt9O2c9Z1tmW2NdXTt9fXJldHVybiBnO307WUFIT08ubG9nPWZ1bmN0aW9uKGQsYSxjKXt2YXIgYj1ZQUhPTy53aWRnZXQuTG9nZ2VyO2lmKGImJmIubG9nKXtyZXR1cm4gYi5sb2coZCxhLGMpO31lbHNle3JldHVybiBmYWxzZTt9fTtZQUhPTy5yZWdpc3Rlcj1mdW5jdGlvbihhLGYsZSl7dmFyIGs9WUFIT08uZW52Lm1vZHVsZXMsYyxqLGgsZyxkO2lmKCFrW2FdKXtrW2FdPXt2ZXJzaW9uczpbXSxidWlsZHM6W119O31jPWtbYV07aj1lLnZlcnNpb247aD1lLmJ1aWxkO2c9WUFIT08uZW52Lmxpc3RlbmVycztjLm5hbWU9YTtjLnZlcnNpb249ajtjLmJ1aWxkPWg7Yy52ZXJzaW9ucy5wdXNoKGopO2MuYnVpbGRzLnB1c2goaCk7Yy5tYWluQ2xhc3M9Zjtmb3IoZD0wO2Q8Zy5sZW5ndGg7ZD1kKzEpe2dbZF0oYyk7fWlmKGYpe2YuVkVSU0lPTj1qO2YuQlVJTEQ9aDt9ZWxzZXtZQUhPTy5sb2coIm1haW5DbGFzcyBpcyB1bmRlZmluZWQgZm9yIG1vZHVsZSAiK2EsIndhcm4iKTt9fTtZQUhPTy5lbnY9WUFIT08uZW52fHx7bW9kdWxlczpbXSxsaXN0ZW5lcnM6W119O1lBSE9PLmVudi5nZXRWZXJzaW9uPWZ1bmN0aW9uKGEpe3JldHVybiBZQUhPTy5lbnYubW9kdWxlc1thXXx8bnVsbDt9O1lBSE9PLmVudi5wYXJzZVVBPWZ1bmN0aW9uKGQpe3ZhciBlPWZ1bmN0aW9uKGkpe3ZhciBqPTA7cmV0dXJuIHBhcnNlRmxvYXQoaS5yZXBsYWNlKC9cLi9nLGZ1bmN0aW9uKCl7cmV0dXJuKGorKz09MSk/IiI6Ii4iO30pKTt9LGg9bmF2aWdhdG9yLGc9e2llOjAsb3BlcmE6MCxnZWNrbzowLHdlYmtpdDowLGNocm9tZTowLG1vYmlsZTpudWxsLGFpcjowLGlwYWQ6MCxpcGhvbmU6MCxpcG9kOjAsaW9zOm51bGwsYW5kcm9pZDowLHdlYm9zOjAsY2FqYTpoJiZoLmNhamFWZXJzaW9uLHNlY3VyZTpmYWxzZSxvczpudWxsfSxjPWR8fChuYXZpZ2F0b3ImJm5hdmlnYXRvci51c2VyQWdlbnQpLGY9d2luZG93JiZ3aW5kb3cubG9jYXRpb24sYj1mJiZmLmhyZWYsYTtnLnNlY3VyZT1iJiYoYi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImh0dHBzIik9PT0wKTtpZihjKXtpZigoL3dpbmRvd3N8d2luMzIvaSkudGVzdChjKSl7Zy5vcz0id2luZG93cyI7fWVsc2V7aWYoKC9tYWNpbnRvc2gvaSkudGVzdChjKSl7Zy5vcz0ibWFjaW50b3NoIjt9ZWxzZXtpZigoL3JoaW5vL2kpLnRlc3QoYykpe2cub3M9InJoaW5vIjt9fX1pZigoL0tIVE1MLykudGVzdChjKSl7Zy53ZWJraXQ9MTt9YT1jLm1hdGNoKC9BcHBsZVdlYktpdFwvKFteXHNdKikvKTtpZihhJiZhWzFdKXtnLndlYmtpdD1lKGFbMV0pO2lmKC8gTW9iaWxlXC8vLnRlc3QoYykpe2cubW9iaWxlPSJBcHBsZSI7YT1jLm1hdGNoKC9PUyAoW15cc10qKS8pO2lmKGEmJmFbMV0pe2E9ZShhWzFdLnJlcGxhY2UoIl8iLCIuIikpO31nLmlvcz1hO2cuaXBhZD1nLmlwb2Q9Zy5pcGhvbmU9MDthPWMubWF0Y2goL2lQYWR8aVBvZHxpUGhvbmUvKTtpZihhJiZhWzBdKXtnW2FbMF0udG9Mb3dlckNhc2UoKV09Zy5pb3M7fX1lbHNle2E9Yy5tYXRjaCgvTm9raWFOW15cL10qfEFuZHJvaWQgXGRcLlxkfHdlYk9TXC9cZFwuXGQvKTtpZihhKXtnLm1vYmlsZT1hWzBdO31pZigvd2ViT1MvLnRlc3QoYykpe2cubW9iaWxlPSJXZWJPUyI7YT1jLm1hdGNoKC93ZWJPU1wvKFteXHNdKik7Lyk7aWYoYSYmYVsxXSl7Zy53ZWJvcz1lKGFbMV0pO319aWYoLyBBbmRyb2lkLy50ZXN0KGMpKXtnLm1vYmlsZT0iQW5kcm9pZCI7YT1jLm1hdGNoKC9BbmRyb2lkIChbXlxzXSopOy8pO2lmKGEmJmFbMV0pe2cuYW5kcm9pZD1lKGFbMV0pO319fWE9Yy5tYXRjaCgvQ2hyb21lXC8oW15cc10qKS8pO2lmKGEmJmFbMV0pe2cuY2hyb21lPWUoYVsxXSk7fWVsc2V7YT1jLm1hdGNoKC9BZG9iZUFJUlwvKFteXHNdKikvKTtpZihhKXtnLmFpcj1hWzBdO319fWlmKCFnLndlYmtpdCl7YT1jLm1hdGNoKC9PcGVyYVtcc1wvXShbXlxzXSopLyk7aWYoYSYmYVsxXSl7Zy5vcGVyYT1lKGFbMV0pO2E9Yy5tYXRjaCgvVmVyc2lvblwvKFteXHNdKikvKTtpZihhJiZhWzFdKXtnLm9wZXJhPWUoYVsxXSk7fWE9Yy5tYXRjaCgvT3BlcmEgTWluaVteO10qLyk7aWYoYSl7Zy5tb2JpbGU9YVswXTt9fWVsc2V7YT1jLm1hdGNoKC9NU0lFXHMoW147XSopLyk7aWYoYSYmYVsxXSl7Zy5pZT1lKGFbMV0pO31lbHNle2E9Yy5tYXRjaCgvR2Vja29cLyhbXlxzXSopLyk7aWYoYSl7Zy5nZWNrbz0xO2E9Yy5tYXRjaCgvcnY6KFteXHNcKV0qKS8pO2lmKGEmJmFbMV0pe2cuZ2Vja289ZShhWzFdKTt9fX19fX1yZXR1cm4gZzt9O1lBSE9PLmVudi51YT1ZQUhPTy5lbnYucGFyc2VVQSgpOyhmdW5jdGlvbigpe1lBSE9PLm5hbWVzcGFjZSgidXRpbCIsIndpZGdldCIsImV4YW1wbGUiKTtpZigidW5kZWZpbmVkIiE9PXR5cGVvZiBZQUhPT19jb25maWcpe3ZhciBiPVlBSE9PX2NvbmZpZy5saXN0ZW5lcixhPVlBSE9PLmVudi5saXN0ZW5lcnMsZD10cnVlLGM7aWYoYil7Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyl7aWYoYVtjXT09Yil7ZD1mYWxzZTticmVhazt9fWlmKGQpe2EucHVzaChiKTt9fX19KSgpO1lBSE9PLmxhbmc9WUFIT08ubGFuZ3x8e307KGZ1bmN0aW9uKCl7dmFyIGY9WUFIT08ubGFuZyxhPU9iamVjdC5wcm90b3R5cGUsYz0iW29iamVjdCBBcnJheV0iLGg9IltvYmplY3QgRnVuY3Rpb25dIixpPSJbb2JqZWN0IE9iamVjdF0iLGI9W10sZz17IiYiOiImYW1wOyIsIjwiOiImbHQ7IiwiPiI6IiZndDsiLCciJzoiJnF1b3Q7IiwiJyI6IiYjeDI3OyIsIi8iOiImI3gyRjsiLCJgIjoiJiN4NjA7In0sZD1bInRvU3RyaW5nIiwidmFsdWVPZiJdLGU9e2lzQXJyYXk6ZnVuY3Rpb24oail7cmV0dXJuIGEudG9TdHJpbmcuYXBwbHkoaik9PT1jO30saXNCb29sZWFuOmZ1bmN0aW9uKGope3JldHVybiB0eXBlb2Ygaj09PSJib29sZWFuIjt9LGlzRnVuY3Rpb246ZnVuY3Rpb24oail7cmV0dXJuKHR5cGVvZiBqPT09ImZ1bmN0aW9uIil8fGEudG9TdHJpbmcuYXBwbHkoaik9PT1oO30saXNOdWxsOmZ1bmN0aW9uKGope3JldHVybiBqPT09bnVsbDt9LGlzTnVtYmVyOmZ1bmN0aW9uKGope3JldHVybiB0eXBlb2Ygaj09PSJudW1iZXIiJiZpc0Zpbml0ZShqKTt9LGlzT2JqZWN0OmZ1bmN0aW9uKGope3JldHVybihqJiYodHlwZW9mIGo9PT0ib2JqZWN0Inx8Zi5pc0Z1bmN0aW9uKGopKSl8fGZhbHNlO30saXNTdHJpbmc6ZnVuY3Rpb24oail7cmV0dXJuIHR5cGVvZiBqPT09InN0cmluZyI7fSxpc1VuZGVmaW5lZDpmdW5jdGlvbihqKXtyZXR1cm4gdHlwZW9mIGo9PT0idW5kZWZpbmVkIjt9LF9JRUVudW1GaXg6KFlBSE9PLmVudi51YS5pZSk/ZnVuY3Rpb24obCxrKXt2YXIgaixuLG07Zm9yKGo9MDtqPGQubGVuZ3RoO2o9aisxKXtuPWRbal07bT1rW25dO2lmKGYuaXNGdW5jdGlvbihtKSYmbSE9YVtuXSl7bFtuXT1tO319fTpmdW5jdGlvbigpe30sZXNjYXBlSFRNTDpmdW5jdGlvbihqKXtyZXR1cm4gai5yZXBsYWNlKC9bJjw+IidcL2BdL2csZnVuY3Rpb24oayl7cmV0dXJuIGdba107fSk7fSxleHRlbmQ6ZnVuY3Rpb24obSxuLGwpe2lmKCFufHwhbSl7dGhyb3cgbmV3IEVycm9yKCJleHRlbmQgZmFpbGVkLCBwbGVhc2UgY2hlY2sgdGhhdCAiKyJhbGwgZGVwZW5kZW5jaWVzIGFyZSBpbmNsdWRlZC4iKTt9dmFyIGs9ZnVuY3Rpb24oKXt9LGo7ay5wcm90b3R5cGU9bi5wcm90b3R5cGU7bS5wcm90b3R5cGU9bmV3IGsoKTttLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1tO20uc3VwZXJjbGFzcz1uLnByb3RvdHlwZTtpZihuLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj09YS5jb25zdHJ1Y3Rvcil7bi5wcm90b3R5cGUuY29uc3RydWN0b3I9bjt9aWYobCl7Zm9yKGogaW4gbCl7aWYoZi5oYXNPd25Qcm9wZXJ0eShsLGopKXttLnByb3RvdHlwZVtqXT1sW2pdO319Zi5fSUVFbnVtRml4KG0ucHJvdG90eXBlLGwpO319LGF1Z21lbnRPYmplY3Q6ZnVuY3Rpb24obixtKXtpZighbXx8IW4pe3Rocm93IG5ldyBFcnJvcigiQWJzb3JiIGZhaWxlZCwgdmVyaWZ5IGRlcGVuZGVuY2llcy4iKTt9dmFyIGo9YXJndW1lbnRzLGwsbyxrPWpbMl07aWYoayYmayE9PXRydWUpe2ZvcihsPTI7bDxqLmxlbmd0aDtsPWwrMSl7bltqW2xdXT1tW2pbbF1dO319ZWxzZXtmb3IobyBpbiBtKXtpZihrfHwhKG8gaW4gbikpe25bb109bVtvXTt9fWYuX0lFRW51bUZpeChuLG0pO31yZXR1cm4gbjt9LGF1Z21lbnRQcm90bzpmdW5jdGlvbihtLGwpe2lmKCFsfHwhbSl7dGhyb3cgbmV3IEVycm9yKCJBdWdtZW50IGZhaWxlZCwgdmVyaWZ5IGRlcGVuZGVuY2llcy4iKTt9dmFyIGo9W20ucHJvdG90eXBlLGwucHJvdG90eXBlXSxrO2ZvcihrPTI7azxhcmd1bWVudHMubGVuZ3RoO2s9aysxKXtqLnB1c2goYXJndW1lbnRzW2tdKTt9Zi5hdWdtZW50T2JqZWN0LmFwcGx5KHRoaXMsaik7cmV0dXJuIG07fSxkdW1wOmZ1bmN0aW9uKGoscCl7dmFyIGwsbixyPVtdLHQ9InsuLi59IixrPSJmKCl7Li4ufSIscT0iLCAiLG09IiA9PiAiO2lmKCFmLmlzT2JqZWN0KGopKXtyZXR1cm4gaisiIjt9ZWxzZXtpZihqIGluc3RhbmNlb2YgRGF0ZXx8KCJub2RlVHlwZSIgaW4gaiYmInRhZ05hbWUiIGluIGopKXtyZXR1cm4gajt9ZWxzZXtpZihmLmlzRnVuY3Rpb24oaikpe3JldHVybiBrO319fXA9KGYuaXNOdW1iZXIocCkpP3A6MztpZihmLmlzQXJyYXkoaikpe3IucHVzaCgiWyIpO2ZvcihsPTAsbj1qLmxlbmd0aDtsPG47bD1sKzEpe2lmKGYuaXNPYmplY3QoaltsXSkpe3IucHVzaCgocD4wKT9mLmR1bXAoaltsXSxwLTEpOnQpO31lbHNle3IucHVzaChqW2xdKTt9ci5wdXNoKHEpO31pZihyLmxlbmd0aD4xKXtyLnBvcCgpO31yLnB1c2goIl0iKTt9ZWxzZXtyLnB1c2goInsiKTtmb3IobCBpbiBqKXtpZihmLmhhc093blByb3BlcnR5KGosbCkpe3IucHVzaChsK20pO2lmKGYuaXNPYmplY3QoaltsXSkpe3IucHVzaCgocD4wKT9mLmR1bXAoaltsXSxwLTEpOnQpO31lbHNle3IucHVzaChqW2xdKTt9ci5wdXNoKHEpO319aWYoci5sZW5ndGg+MSl7ci5wb3AoKTt9ci5wdXNoKCJ9Iik7fXJldHVybiByLmpvaW4oIiIpO30sc3Vic3RpdHV0ZTpmdW5jdGlvbih4LHksRSxsKXt2YXIgRCxDLEIsRyx0LHUsRj1bXSxwLHo9eC5sZW5ndGgsQT0iZHVtcCIscj0iICIscT0ieyIsbT0ifSIsbix3O2Zvcig7Oyl7RD14Lmxhc3RJbmRleE9mKHEseik7aWYoRDwwKXticmVhazt9Qz14LmluZGV4T2YobSxEKTtpZihEKzE+Qyl7YnJlYWs7fXA9eC5zdWJzdHJpbmcoRCsxLEMpO0c9cDt1PW51bGw7Qj1HLmluZGV4T2Yocik7aWYoQj4tMSl7dT1HLnN1YnN0cmluZyhCKzEpO0c9Ry5zdWJzdHJpbmcoMCxCKTt9dD15W0ddO2lmKEUpe3Q9RShHLHQsdSk7fWlmKGYuaXNPYmplY3QodCkpe2lmKGYuaXNBcnJheSh0KSl7dD1mLmR1bXAodCxwYXJzZUludCh1LDEwKSk7fWVsc2V7dT11fHwiIjtuPXUuaW5kZXhPZihBKTtpZihuPi0xKXt1PXUuc3Vic3RyaW5nKDQpO313PXQudG9TdHJpbmcoKTtpZih3PT09aXx8bj4tMSl7dD1mLmR1bXAodCxwYXJzZUludCh1LDEwKSk7fWVsc2V7dD13O319fWVsc2V7aWYoIWYuaXNTdHJpbmcodCkmJiFmLmlzTnVtYmVyKHQpKXt0PSJ+LSIrRi5sZW5ndGgrIi1+IjtGW0YubGVuZ3RoXT1wO319eD14LnN1YnN0cmluZygwLEQpK3QreC5zdWJzdHJpbmcoQysxKTtpZihsPT09ZmFsc2Upe3o9RC0xO319Zm9yKEQ9Ri5sZW5ndGgtMTtEPj0wO0Q9RC0xKXt4PXgucmVwbGFjZShuZXcgUmVnRXhwKCJ+LSIrRCsiLX4iKSwieyIrRltEXSsifSIsImciKTt9cmV0dXJuIHg7fSx0cmltOmZ1bmN0aW9uKGope3RyeXtyZXR1cm4gai5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIik7fWNhdGNoKGspe3JldHVybiBqOwp9fSxtZXJnZTpmdW5jdGlvbigpe3ZhciBuPXt9LGs9YXJndW1lbnRzLGo9ay5sZW5ndGgsbTtmb3IobT0wO208ajttPW0rMSl7Zi5hdWdtZW50T2JqZWN0KG4sa1ttXSx0cnVlKTt9cmV0dXJuIG47fSxsYXRlcjpmdW5jdGlvbih0LGssdSxuLHApe3Q9dHx8MDtrPWt8fHt9O3ZhciBsPXUscz1uLHEsajtpZihmLmlzU3RyaW5nKHUpKXtsPWtbdV07fWlmKCFsKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJtZXRob2QgdW5kZWZpbmVkIik7fWlmKCFmLmlzVW5kZWZpbmVkKG4pJiYhZi5pc0FycmF5KHMpKXtzPVtuXTt9cT1mdW5jdGlvbigpe2wuYXBwbHkoayxzfHxiKTt9O2o9KHApP3NldEludGVydmFsKHEsdCk6c2V0VGltZW91dChxLHQpO3JldHVybntpbnRlcnZhbDpwLGNhbmNlbDpmdW5jdGlvbigpe2lmKHRoaXMuaW50ZXJ2YWwpe2NsZWFySW50ZXJ2YWwoaik7fWVsc2V7Y2xlYXJUaW1lb3V0KGopO319fTt9LGlzVmFsdWU6ZnVuY3Rpb24oail7cmV0dXJuKGYuaXNPYmplY3Qoail8fGYuaXNTdHJpbmcoail8fGYuaXNOdW1iZXIoail8fGYuaXNCb29sZWFuKGopKTt9fTtmLmhhc093blByb3BlcnR5PShhLmhhc093blByb3BlcnR5KT9mdW5jdGlvbihqLGspe3JldHVybiBqJiZqLmhhc093blByb3BlcnR5JiZqLmhhc093blByb3BlcnR5KGspO306ZnVuY3Rpb24oaixrKXtyZXR1cm4gIWYuaXNVbmRlZmluZWQoaltrXSkmJmouY29uc3RydWN0b3IucHJvdG90eXBlW2tdIT09altrXTt9O2UuYXVnbWVudE9iamVjdChmLGUsdHJ1ZSk7WUFIT08udXRpbC5MYW5nPWY7Zi5hdWdtZW50PWYuYXVnbWVudFByb3RvO1lBSE9PLmF1Z21lbnQ9Zi5hdWdtZW50UHJvdG87WUFIT08uZXh0ZW5kPWYuZXh0ZW5kO30pKCk7WUFIT08ucmVnaXN0ZXIoInlhaG9vIixZQUhPTyx7dmVyc2lvbjoiMi45LjAiLGJ1aWxkOiIyODAwIn0pOwoKLyohIENyeXB0b0pTIHYzLjEuMiBjb3JlLWZpeC5qcwogKiBjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMKICogKGMpIDIwMDktMjAxMyBieSBKZWZmIE1vdHQuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIGNvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qcy93aWtpL0xpY2Vuc2UKICogVEhJUyBJUyBGSVggb2YgJ2NvcmUuanMnIHRvIGZpeCBIbWFjIGlzc3VlLgogKiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qcy9pc3N1ZXMvZGV0YWlsP2lkPTg0CiAqIGh0dHBzOi8vY3J5cHRvLWpzLmdvb2dsZWNvZGUuY29tL3N2bi1oaXN0b3J5L3I2NjcvYnJhbmNoZXMvMy54L3NyYy9jb3JlLmpzCiAqLwp2YXIgQ3J5cHRvSlM9Q3J5cHRvSlN8fChmdW5jdGlvbihlLGcpe3ZhciBhPXt9O3ZhciBiPWEubGliPXt9O3ZhciBqPWIuQmFzZT0oZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7fXJldHVybntleHRlbmQ6ZnVuY3Rpb24ocCl7bi5wcm90b3R5cGU9dGhpczt2YXIgbz1uZXcgbigpO2lmKHApe28ubWl4SW4ocCl9aWYoIW8uaGFzT3duUHJvcGVydHkoImluaXQiKSl7by5pbml0PWZ1bmN0aW9uKCl7by4kc3VwZXIuaW5pdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fW8uaW5pdC5wcm90b3R5cGU9bztvLiRzdXBlcj10aGlzO3JldHVybiBvfSxjcmVhdGU6ZnVuY3Rpb24oKXt2YXIgbz10aGlzLmV4dGVuZCgpO28uaW5pdC5hcHBseShvLGFyZ3VtZW50cyk7cmV0dXJuIG99LGluaXQ6ZnVuY3Rpb24oKXt9LG1peEluOmZ1bmN0aW9uKHApe2Zvcih2YXIgbyBpbiBwKXtpZihwLmhhc093blByb3BlcnR5KG8pKXt0aGlzW29dPXBbb119fWlmKHAuaGFzT3duUHJvcGVydHkoInRvU3RyaW5nIikpe3RoaXMudG9TdHJpbmc9cC50b1N0cmluZ319LGNsb25lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5pdC5wcm90b3R5cGUuZXh0ZW5kKHRoaXMpfX19KCkpO3ZhciBsPWIuV29yZEFycmF5PWouZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKG8sbil7bz10aGlzLndvcmRzPW98fFtdO2lmKG4hPWcpe3RoaXMuc2lnQnl0ZXM9bn1lbHNle3RoaXMuc2lnQnl0ZXM9by5sZW5ndGgqNH19LHRvU3RyaW5nOmZ1bmN0aW9uKG4pe3JldHVybihufHxoKS5zdHJpbmdpZnkodGhpcyl9LGNvbmNhdDpmdW5jdGlvbih0KXt2YXIgcT10aGlzLndvcmRzO3ZhciBwPXQud29yZHM7dmFyIG49dGhpcy5zaWdCeXRlczt2YXIgcz10LnNpZ0J5dGVzO3RoaXMuY2xhbXAoKTtpZihuJTQpe2Zvcih2YXIgcj0wO3I8cztyKyspe3ZhciBvPShwW3I+Pj4yXT4+PigyNC0ociU0KSo4KSkmMjU1O3FbKG4rcik+Pj4yXXw9bzw8KDI0LSgobityKSU0KSo4KX19ZWxzZXtmb3IodmFyIHI9MDtyPHM7cis9NCl7cVsobityKT4+PjJdPXBbcj4+PjJdfX10aGlzLnNpZ0J5dGVzKz1zO3JldHVybiB0aGlzfSxjbGFtcDpmdW5jdGlvbigpe3ZhciBvPXRoaXMud29yZHM7dmFyIG49dGhpcy5zaWdCeXRlcztvW24+Pj4yXSY9NDI5NDk2NzI5NTw8KDMyLShuJTQpKjgpO28ubGVuZ3RoPWUuY2VpbChuLzQpfSxjbG9uZTpmdW5jdGlvbigpe3ZhciBuPWouY2xvbmUuY2FsbCh0aGlzKTtuLndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCk7cmV0dXJuIG59LHJhbmRvbTpmdW5jdGlvbihwKXt2YXIgbz1bXTtmb3IodmFyIG49MDtuPHA7bis9NCl7by5wdXNoKChlLnJhbmRvbSgpKjQyOTQ5NjcyOTYpfDApfXJldHVybiBuZXcgbC5pbml0KG8scCl9fSk7dmFyIG09YS5lbmM9e307dmFyIGg9bS5IZXg9e3N0cmluZ2lmeTpmdW5jdGlvbihwKXt2YXIgcj1wLndvcmRzO3ZhciBvPXAuc2lnQnl0ZXM7dmFyIHE9W107Zm9yKHZhciBuPTA7bjxvO24rKyl7dmFyIHM9KHJbbj4+PjJdPj4+KDI0LShuJTQpKjgpKSYyNTU7cS5wdXNoKChzPj4+NCkudG9TdHJpbmcoMTYpKTtxLnB1c2goKHMmMTUpLnRvU3RyaW5nKDE2KSl9cmV0dXJuIHEuam9pbigiIil9LHBhcnNlOmZ1bmN0aW9uKHApe3ZhciBuPXAubGVuZ3RoO3ZhciBxPVtdO2Zvcih2YXIgbz0wO288bjtvKz0yKXtxW28+Pj4zXXw9cGFyc2VJbnQocC5zdWJzdHIobywyKSwxNik8PCgyNC0obyU4KSo0KX1yZXR1cm4gbmV3IGwuaW5pdChxLG4vMil9fTt2YXIgZD1tLkxhdGluMT17c3RyaW5naWZ5OmZ1bmN0aW9uKHEpe3ZhciByPXEud29yZHM7dmFyIHA9cS5zaWdCeXRlczt2YXIgbj1bXTtmb3IodmFyIG89MDtvPHA7bysrKXt2YXIgcz0ocltvPj4+Ml0+Pj4oMjQtKG8lNCkqOCkpJjI1NTtuLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShzKSl9cmV0dXJuIG4uam9pbigiIil9LHBhcnNlOmZ1bmN0aW9uKHApe3ZhciBuPXAubGVuZ3RoO3ZhciBxPVtdO2Zvcih2YXIgbz0wO288bjtvKyspe3Fbbz4+PjJdfD0ocC5jaGFyQ29kZUF0KG8pJjI1NSk8PCgyNC0obyU0KSo4KX1yZXR1cm4gbmV3IGwuaW5pdChxLG4pfX07dmFyIGM9bS5VdGY4PXtzdHJpbmdpZnk6ZnVuY3Rpb24obil7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKGQuc3RyaW5naWZ5KG4pKSl9Y2F0Y2gobyl7dGhyb3cgbmV3IEVycm9yKCJNYWxmb3JtZWQgVVRGLTggZGF0YSIpfX0scGFyc2U6ZnVuY3Rpb24obil7cmV0dXJuIGQucGFyc2UodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KG4pKSl9fTt2YXIgaT1iLkJ1ZmZlcmVkQmxvY2tBbGdvcml0aG09ai5leHRlbmQoe3Jlc2V0OmZ1bmN0aW9uKCl7dGhpcy5fZGF0YT1uZXcgbC5pbml0KCk7dGhpcy5fbkRhdGFCeXRlcz0wfSxfYXBwZW5kOmZ1bmN0aW9uKG4pe2lmKHR5cGVvZiBuPT0ic3RyaW5nIil7bj1jLnBhcnNlKG4pfXRoaXMuX2RhdGEuY29uY2F0KG4pO3RoaXMuX25EYXRhQnl0ZXMrPW4uc2lnQnl0ZXN9LF9wcm9jZXNzOmZ1bmN0aW9uKHcpe3ZhciBxPXRoaXMuX2RhdGE7dmFyIHg9cS53b3Jkczt2YXIgbj1xLnNpZ0J5dGVzO3ZhciB0PXRoaXMuYmxvY2tTaXplO3ZhciB2PXQqNDt2YXIgdT1uL3Y7aWYodyl7dT1lLmNlaWwodSl9ZWxzZXt1PWUubWF4KCh1fDApLXRoaXMuX21pbkJ1ZmZlclNpemUsMCl9dmFyIHM9dSp0O3ZhciByPWUubWluKHMqNCxuKTtpZihzKXtmb3IodmFyIHA9MDtwPHM7cCs9dCl7dGhpcy5fZG9Qcm9jZXNzQmxvY2soeCxwKX12YXIgbz14LnNwbGljZSgwLHMpO3Euc2lnQnl0ZXMtPXJ9cmV0dXJuIG5ldyBsLmluaXQobyxyKX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgbj1qLmNsb25lLmNhbGwodGhpcyk7bi5fZGF0YT10aGlzLl9kYXRhLmNsb25lKCk7cmV0dXJuIG59LF9taW5CdWZmZXJTaXplOjB9KTt2YXIgZj1iLkhhc2hlcj1pLmV4dGVuZCh7Y2ZnOmouZXh0ZW5kKCksaW5pdDpmdW5jdGlvbihuKXt0aGlzLmNmZz10aGlzLmNmZy5leHRlbmQobik7dGhpcy5yZXNldCgpfSxyZXNldDpmdW5jdGlvbigpe2kucmVzZXQuY2FsbCh0aGlzKTt0aGlzLl9kb1Jlc2V0KCl9LHVwZGF0ZTpmdW5jdGlvbihuKXt0aGlzLl9hcHBlbmQobik7dGhpcy5fcHJvY2VzcygpO3JldHVybiB0aGlzfSxmaW5hbGl6ZTpmdW5jdGlvbihuKXtpZihuKXt0aGlzLl9hcHBlbmQobil9dmFyIG89dGhpcy5fZG9GaW5hbGl6ZSgpO3JldHVybiBvfSxibG9ja1NpemU6NTEyLzMyLF9jcmVhdGVIZWxwZXI6ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHAsbyl7cmV0dXJuIG5ldyBuLmluaXQobykuZmluYWxpemUocCl9fSxfY3JlYXRlSG1hY0hlbHBlcjpmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24ocCxvKXtyZXR1cm4gbmV3IGsuSE1BQy5pbml0KG4sbykuZmluYWxpemUocCl9fX0pO3ZhciBrPWEuYWxnbz17fTtyZXR1cm4gYX0oTWF0aCkpOwovKgpDcnlwdG9KUyB2My4xLjIgeDY0LWNvcmUtbWluLmpzCmNvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qcwooYykgMjAwOS0yMDEzIGJ5IEplZmYgTW90dC4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzL3dpa2kvTGljZW5zZQoqLwooZnVuY3Rpb24oZyl7dmFyIGE9Q3J5cHRvSlMsZj1hLmxpYixlPWYuQmFzZSxoPWYuV29yZEFycmF5LGE9YS54NjQ9e307YS5Xb3JkPWUuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGIsYyl7dGhpcy5oaWdoPWI7dGhpcy5sb3c9Y319KTthLldvcmRBcnJheT1lLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihiLGMpe2I9dGhpcy53b3Jkcz1ifHxbXTt0aGlzLnNpZ0J5dGVzPWMhPWc/Yzo4KmIubGVuZ3RofSx0b1gzMjpmdW5jdGlvbigpe2Zvcih2YXIgYj10aGlzLndvcmRzLGM9Yi5sZW5ndGgsYT1bXSxkPTA7ZDxjO2QrKyl7dmFyIGU9YltkXTthLnB1c2goZS5oaWdoKTthLnB1c2goZS5sb3cpfXJldHVybiBoLmNyZWF0ZShhLHRoaXMuc2lnQnl0ZXMpfSxjbG9uZTpmdW5jdGlvbigpe2Zvcih2YXIgYj1lLmNsb25lLmNhbGwodGhpcyksYz1iLndvcmRzPXRoaXMud29yZHMuc2xpY2UoMCksYT1jLmxlbmd0aCxkPTA7ZDxhO2QrKyljW2RdPWNbZF0uY2xvbmUoKTtyZXR1cm4gYn19KX0pKCk7CgovKgpDcnlwdG9KUyB2My4xLjIgY2lwaGVyLWNvcmUtbWluLmpzCmNvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qcwooYykgMjAwOS0yMDEzIGJ5IEplZmYgTW90dC4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzL3dpa2kvTGljZW5zZQoqLwpDcnlwdG9KUy5saWIuQ2lwaGVyfHxmdW5jdGlvbih1KXt2YXIgZz1DcnlwdG9KUyxmPWcubGliLGs9Zi5CYXNlLGw9Zi5Xb3JkQXJyYXkscT1mLkJ1ZmZlcmVkQmxvY2tBbGdvcml0aG0scj1nLmVuYy5CYXNlNjQsdj1nLmFsZ28uRXZwS0RGLG49Zi5DaXBoZXI9cS5leHRlbmQoe2NmZzprLmV4dGVuZCgpLGNyZWF0ZUVuY3J5cHRvcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmNyZWF0ZSh0aGlzLl9FTkNfWEZPUk1fTU9ERSxhLGIpfSxjcmVhdGVEZWNyeXB0b3I6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5jcmVhdGUodGhpcy5fREVDX1hGT1JNX01PREUsYSxiKX0saW5pdDpmdW5jdGlvbihhLGIsYyl7dGhpcy5jZmc9dGhpcy5jZmcuZXh0ZW5kKGMpO3RoaXMuX3hmb3JtTW9kZT1hO3RoaXMuX2tleT1iO3RoaXMucmVzZXQoKX0scmVzZXQ6ZnVuY3Rpb24oKXtxLnJlc2V0LmNhbGwodGhpcyk7dGhpcy5fZG9SZXNldCgpfSxwcm9jZXNzOmZ1bmN0aW9uKGEpe3RoaXMuX2FwcGVuZChhKTsKcmV0dXJuIHRoaXMuX3Byb2Nlc3MoKX0sZmluYWxpemU6ZnVuY3Rpb24oYSl7YSYmdGhpcy5fYXBwZW5kKGEpO3JldHVybiB0aGlzLl9kb0ZpbmFsaXplKCl9LGtleVNpemU6NCxpdlNpemU6NCxfRU5DX1hGT1JNX01PREU6MSxfREVDX1hGT1JNX01PREU6MixfY3JlYXRlSGVscGVyOmZ1bmN0aW9uKGEpe3JldHVybntlbmNyeXB0OmZ1bmN0aW9uKGIsYyxkKXtyZXR1cm4oInN0cmluZyI9PXR5cGVvZiBjP3M6aikuZW5jcnlwdChhLGIsYyxkKX0sZGVjcnlwdDpmdW5jdGlvbihiLGMsZCl7cmV0dXJuKCJzdHJpbmciPT10eXBlb2YgYz9zOmopLmRlY3J5cHQoYSxiLGMsZCl9fX19KTtmLlN0cmVhbUNpcGhlcj1uLmV4dGVuZCh7X2RvRmluYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcHJvY2VzcyghMCl9LGJsb2NrU2l6ZToxfSk7dmFyIG09Zy5tb2RlPXt9LHQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuX2l2O2Q/dGhpcy5faXY9dTpkPXRoaXMuX3ByZXZCbG9jaztmb3IodmFyIGU9CjA7ZTxjO2UrKylhW2IrZV1ePWRbZV19LGg9KGYuQmxvY2tDaXBoZXJNb2RlPWsuZXh0ZW5kKHtjcmVhdGVFbmNyeXB0b3I6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5FbmNyeXB0b3IuY3JlYXRlKGEsYil9LGNyZWF0ZURlY3J5cHRvcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLkRlY3J5cHRvci5jcmVhdGUoYSxiKX0saW5pdDpmdW5jdGlvbihhLGIpe3RoaXMuX2NpcGhlcj1hO3RoaXMuX2l2PWJ9fSkpLmV4dGVuZCgpO2guRW5jcnlwdG9yPWguZXh0ZW5kKHtwcm9jZXNzQmxvY2s6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl9jaXBoZXIsZD1jLmJsb2NrU2l6ZTt0LmNhbGwodGhpcyxhLGIsZCk7Yy5lbmNyeXB0QmxvY2soYSxiKTt0aGlzLl9wcmV2QmxvY2s9YS5zbGljZShiLGIrZCl9fSk7aC5EZWNyeXB0b3I9aC5leHRlbmQoe3Byb2Nlc3NCbG9jazpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuX2NpcGhlcixkPWMuYmxvY2tTaXplLGU9YS5zbGljZShiLGIrZCk7Yy5kZWNyeXB0QmxvY2soYSwKYik7dC5jYWxsKHRoaXMsYSxiLGQpO3RoaXMuX3ByZXZCbG9jaz1lfX0pO209bS5DQkM9aDtoPShnLnBhZD17fSkuUGtjczc9e3BhZDpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz00KmIsYz1jLWEuc2lnQnl0ZXMlYyxkPWM8PDI0fGM8PDE2fGM8PDh8YyxlPVtdLGY9MDtmPGM7Zis9NCllLnB1c2goZCk7Yz1sLmNyZWF0ZShlLGMpO2EuY29uY2F0KGMpfSx1bnBhZDpmdW5jdGlvbihhKXthLnNpZ0J5dGVzLT1hLndvcmRzW2Euc2lnQnl0ZXMtMT4+PjJdJjI1NX19O2YuQmxvY2tDaXBoZXI9bi5leHRlbmQoe2NmZzpuLmNmZy5leHRlbmQoe21vZGU6bSxwYWRkaW5nOmh9KSxyZXNldDpmdW5jdGlvbigpe24ucmVzZXQuY2FsbCh0aGlzKTt2YXIgYT10aGlzLmNmZyxiPWEuaXYsYT1hLm1vZGU7aWYodGhpcy5feGZvcm1Nb2RlPT10aGlzLl9FTkNfWEZPUk1fTU9ERSl2YXIgYz1hLmNyZWF0ZUVuY3J5cHRvcjtlbHNlIGM9YS5jcmVhdGVEZWNyeXB0b3IsdGhpcy5fbWluQnVmZmVyU2l6ZT0xOwp0aGlzLl9tb2RlPWMuY2FsbChhLHRoaXMsYiYmYi53b3Jkcyl9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbihhLGIpe3RoaXMuX21vZGUucHJvY2Vzc0Jsb2NrKGEsYil9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jZmcucGFkZGluZztpZih0aGlzLl94Zm9ybU1vZGU9PXRoaXMuX0VOQ19YRk9STV9NT0RFKXthLnBhZCh0aGlzLl9kYXRhLHRoaXMuYmxvY2tTaXplKTt2YXIgYj10aGlzLl9wcm9jZXNzKCEwKX1lbHNlIGI9dGhpcy5fcHJvY2VzcyghMCksYS51bnBhZChiKTtyZXR1cm4gYn0sYmxvY2tTaXplOjR9KTt2YXIgcD1mLkNpcGhlclBhcmFtcz1rLmV4dGVuZCh7aW5pdDpmdW5jdGlvbihhKXt0aGlzLm1peEluKGEpfSx0b1N0cmluZzpmdW5jdGlvbihhKXtyZXR1cm4oYXx8dGhpcy5mb3JtYXR0ZXIpLnN0cmluZ2lmeSh0aGlzKX19KSxtPShnLmZvcm1hdD17fSkuT3BlblNTTD17c3RyaW5naWZ5OmZ1bmN0aW9uKGEpe3ZhciBiPWEuY2lwaGVydGV4dDthPWEuc2FsdDsKcmV0dXJuKGE/bC5jcmVhdGUoWzEzOTg4OTM2ODQsMTcwMTA3NjgzMV0pLmNvbmNhdChhKS5jb25jYXQoYik6YikudG9TdHJpbmcocil9LHBhcnNlOmZ1bmN0aW9uKGEpe2E9ci5wYXJzZShhKTt2YXIgYj1hLndvcmRzO2lmKDEzOTg4OTM2ODQ9PWJbMF0mJjE3MDEwNzY4MzE9PWJbMV0pe3ZhciBjPWwuY3JlYXRlKGIuc2xpY2UoMiw0KSk7Yi5zcGxpY2UoMCw0KTthLnNpZ0J5dGVzLT0xNn1yZXR1cm4gcC5jcmVhdGUoe2NpcGhlcnRleHQ6YSxzYWx0OmN9KX19LGo9Zi5TZXJpYWxpemFibGVDaXBoZXI9ay5leHRlbmQoe2NmZzprLmV4dGVuZCh7Zm9ybWF0Om19KSxlbmNyeXB0OmZ1bmN0aW9uKGEsYixjLGQpe2Q9dGhpcy5jZmcuZXh0ZW5kKGQpO3ZhciBlPWEuY3JlYXRlRW5jcnlwdG9yKGMsZCk7Yj1lLmZpbmFsaXplKGIpO2U9ZS5jZmc7cmV0dXJuIHAuY3JlYXRlKHtjaXBoZXJ0ZXh0OmIsa2V5OmMsaXY6ZS5pdixhbGdvcml0aG06YSxtb2RlOmUubW9kZSxwYWRkaW5nOmUucGFkZGluZywKYmxvY2tTaXplOmEuYmxvY2tTaXplLGZvcm1hdHRlcjpkLmZvcm1hdH0pfSxkZWNyeXB0OmZ1bmN0aW9uKGEsYixjLGQpe2Q9dGhpcy5jZmcuZXh0ZW5kKGQpO2I9dGhpcy5fcGFyc2UoYixkLmZvcm1hdCk7cmV0dXJuIGEuY3JlYXRlRGVjcnlwdG9yKGMsZCkuZmluYWxpemUoYi5jaXBoZXJ0ZXh0KX0sX3BhcnNlOmZ1bmN0aW9uKGEsYil7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBhP2IucGFyc2UoYSx0aGlzKTphfX0pLGc9KGcua2RmPXt9KS5PcGVuU1NMPXtleGVjdXRlOmZ1bmN0aW9uKGEsYixjLGQpe2R8fChkPWwucmFuZG9tKDgpKTthPXYuY3JlYXRlKHtrZXlTaXplOmIrY30pLmNvbXB1dGUoYSxkKTtjPWwuY3JlYXRlKGEud29yZHMuc2xpY2UoYiksNCpjKTthLnNpZ0J5dGVzPTQqYjtyZXR1cm4gcC5jcmVhdGUoe2tleTphLGl2OmMsc2FsdDpkfSl9fSxzPWYuUGFzc3dvcmRCYXNlZENpcGhlcj1qLmV4dGVuZCh7Y2ZnOmouY2ZnLmV4dGVuZCh7a2RmOmd9KSxlbmNyeXB0OmZ1bmN0aW9uKGEsCmIsYyxkKXtkPXRoaXMuY2ZnLmV4dGVuZChkKTtjPWQua2RmLmV4ZWN1dGUoYyxhLmtleVNpemUsYS5pdlNpemUpO2QuaXY9Yy5pdjthPWouZW5jcnlwdC5jYWxsKHRoaXMsYSxiLGMua2V5LGQpO2EubWl4SW4oYyk7cmV0dXJuIGF9LGRlY3J5cHQ6ZnVuY3Rpb24oYSxiLGMsZCl7ZD10aGlzLmNmZy5leHRlbmQoZCk7Yj10aGlzLl9wYXJzZShiLGQuZm9ybWF0KTtjPWQua2RmLmV4ZWN1dGUoYyxhLmtleVNpemUsYS5pdlNpemUsYi5zYWx0KTtkLml2PWMuaXY7cmV0dXJuIGouZGVjcnlwdC5jYWxsKHRoaXMsYSxiLGMua2V5LGQpfX0pfSgpOwoKLyoKQ3J5cHRvSlMgdjMuMS4yIGFlcy1taW4uanMKY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzCihjKSAyMDA5LTIwMTMgYnkgSmVmZiBNb3R0LiBBbGwgcmlnaHRzIHJlc2VydmVkLgpjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvd2lraS9MaWNlbnNlCiovCihmdW5jdGlvbigpe2Zvcih2YXIgcT1DcnlwdG9KUyx4PXEubGliLkJsb2NrQ2lwaGVyLHI9cS5hbGdvLGo9W10seT1bXSx6PVtdLEE9W10sQj1bXSxDPVtdLHM9W10sdT1bXSx2PVtdLHc9W10sZz1bXSxrPTA7MjU2Pms7aysrKWdba109MTI4Pms/azw8MTprPDwxXjI4Mztmb3IodmFyIG49MCxsPTAsaz0wOzI1Nj5rO2srKyl7dmFyIGY9bF5sPDwxXmw8PDJebDw8M15sPDw0LGY9Zj4+PjheZiYyNTVeOTk7altuXT1mO3lbZl09bjt2YXIgdD1nW25dLEQ9Z1t0XSxFPWdbRF0sYj0yNTcqZ1tmXV4xNjg0MzAwOCpmO3pbbl09Yjw8MjR8Yj4+Pjg7QVtuXT1iPDwxNnxiPj4+MTY7QltuXT1iPDw4fGI+Pj4yNDtDW25dPWI7Yj0xNjg0MzAwOSpFXjY1NTM3KkReMjU3KnReMTY4NDMwMDgqbjtzW2ZdPWI8PDI0fGI+Pj44O3VbZl09Yjw8MTZ8Yj4+PjE2O3ZbZl09Yjw8OHxiPj4+MjQ7d1tmXT1iO24/KG49dF5nW2dbZ1tFXnRdXV0sbF49Z1tnW2xdXSk6bj1sPTF9dmFyIEY9WzAsMSwyLDQsOCwKMTYsMzIsNjQsMTI4LDI3LDU0XSxyPXIuQUVTPXguZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe2Zvcih2YXIgYz10aGlzLl9rZXksZT1jLndvcmRzLGE9Yy5zaWdCeXRlcy80LGM9NCooKHRoaXMuX25Sb3VuZHM9YSs2KSsxKSxiPXRoaXMuX2tleVNjaGVkdWxlPVtdLGg9MDtoPGM7aCsrKWlmKGg8YSliW2hdPWVbaF07ZWxzZXt2YXIgZD1iW2gtMV07aCVhPzY8YSYmND09aCVhJiYoZD1qW2Q+Pj4yNF08PDI0fGpbZD4+PjE2JjI1NV08PDE2fGpbZD4+PjgmMjU1XTw8OHxqW2QmMjU1XSk6KGQ9ZDw8OHxkPj4+MjQsZD1qW2Q+Pj4yNF08PDI0fGpbZD4+PjE2JjI1NV08PDE2fGpbZD4+PjgmMjU1XTw8OHxqW2QmMjU1XSxkXj1GW2gvYXwwXTw8MjQpO2JbaF09YltoLWFdXmR9ZT10aGlzLl9pbnZLZXlTY2hlZHVsZT1bXTtmb3IoYT0wO2E8YzthKyspaD1jLWEsZD1hJTQ/YltoXTpiW2gtNF0sZVthXT00PmF8fDQ+PWg/ZDpzW2pbZD4+PjI0XV1edVtqW2Q+Pj4xNiYyNTVdXV52W2pbZD4+Pgo4JjI1NV1dXndbaltkJjI1NV1dfSxlbmNyeXB0QmxvY2s6ZnVuY3Rpb24oYyxlKXt0aGlzLl9kb0NyeXB0QmxvY2soYyxlLHRoaXMuX2tleVNjaGVkdWxlLHosQSxCLEMsail9LGRlY3J5cHRCbG9jazpmdW5jdGlvbihjLGUpe3ZhciBhPWNbZSsxXTtjW2UrMV09Y1tlKzNdO2NbZSszXT1hO3RoaXMuX2RvQ3J5cHRCbG9jayhjLGUsdGhpcy5faW52S2V5U2NoZWR1bGUscyx1LHYsdyx5KTthPWNbZSsxXTtjW2UrMV09Y1tlKzNdO2NbZSszXT1hfSxfZG9DcnlwdEJsb2NrOmZ1bmN0aW9uKGMsZSxhLGIsaCxkLGosbSl7Zm9yKHZhciBuPXRoaXMuX25Sb3VuZHMsZj1jW2VdXmFbMF0sZz1jW2UrMV1eYVsxXSxrPWNbZSsyXV5hWzJdLHA9Y1tlKzNdXmFbM10sbD00LHQ9MTt0PG47dCsrKXZhciBxPWJbZj4+PjI0XV5oW2c+Pj4xNiYyNTVdXmRbaz4+PjgmMjU1XV5qW3AmMjU1XV5hW2wrK10scj1iW2c+Pj4yNF1eaFtrPj4+MTYmMjU1XV5kW3A+Pj44JjI1NV1ealtmJjI1NV1eYVtsKytdLHM9CmJbaz4+PjI0XV5oW3A+Pj4xNiYyNTVdXmRbZj4+PjgmMjU1XV5qW2cmMjU1XV5hW2wrK10scD1iW3A+Pj4yNF1eaFtmPj4+MTYmMjU1XV5kW2c+Pj44JjI1NV1ealtrJjI1NV1eYVtsKytdLGY9cSxnPXIsaz1zO3E9KG1bZj4+PjI0XTw8MjR8bVtnPj4+MTYmMjU1XTw8MTZ8bVtrPj4+OCYyNTVdPDw4fG1bcCYyNTVdKV5hW2wrK107cj0obVtnPj4+MjRdPDwyNHxtW2s+Pj4xNiYyNTVdPDwxNnxtW3A+Pj44JjI1NV08PDh8bVtmJjI1NV0pXmFbbCsrXTtzPShtW2s+Pj4yNF08PDI0fG1bcD4+PjE2JjI1NV08PDE2fG1bZj4+PjgmMjU1XTw8OHxtW2cmMjU1XSleYVtsKytdO3A9KG1bcD4+PjI0XTw8MjR8bVtmPj4+MTYmMjU1XTw8MTZ8bVtnPj4+OCYyNTVdPDw4fG1bayYyNTVdKV5hW2wrK107Y1tlXT1xO2NbZSsxXT1yO2NbZSsyXT1zO2NbZSszXT1wfSxrZXlTaXplOjh9KTtxLkFFUz14Ll9jcmVhdGVIZWxwZXIocil9KSgpOwoKLyoKQ3J5cHRvSlMgdjMuMS4yIHRyaXBsZWRlcy1taW4uanMKY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzCihjKSAyMDA5LTIwMTMgYnkgSmVmZiBNb3R0LiBBbGwgcmlnaHRzIHJlc2VydmVkLgpjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvd2lraS9MaWNlbnNlCiovCihmdW5jdGlvbigpe2Z1bmN0aW9uIGooYixjKXt2YXIgYT0odGhpcy5fbEJsb2NrPj4+Yl50aGlzLl9yQmxvY2spJmM7dGhpcy5fckJsb2NrXj1hO3RoaXMuX2xCbG9ja149YTw8Yn1mdW5jdGlvbiBsKGIsYyl7dmFyIGE9KHRoaXMuX3JCbG9jaz4+PmJedGhpcy5fbEJsb2NrKSZjO3RoaXMuX2xCbG9ja149YTt0aGlzLl9yQmxvY2tePWE8PGJ9dmFyIGg9Q3J5cHRvSlMsZT1oLmxpYixuPWUuV29yZEFycmF5LGU9ZS5CbG9ja0NpcGhlcixnPWguYWxnbyxxPVs1Nyw0OSw0MSwzMywyNSwxNyw5LDEsNTgsNTAsNDIsMzQsMjYsMTgsMTAsMiw1OSw1MSw0MywzNSwyNywxOSwxMSwzLDYwLDUyLDQ0LDM2LDYzLDU1LDQ3LDM5LDMxLDIzLDE1LDcsNjIsNTQsNDYsMzgsMzAsMjIsMTQsNiw2MSw1Myw0NSwzNywyOSwyMSwxMyw1LDI4LDIwLDEyLDRdLHA9WzE0LDE3LDExLDI0LDEsNSwzLDI4LDE1LDYsMjEsMTAsMjMsMTksMTIsNCwyNiw4LDE2LDcsMjcsMjAsMTMsMiw0MSw1MiwzMSwzNyw0NywKNTUsMzAsNDAsNTEsNDUsMzMsNDgsNDQsNDksMzksNTYsMzQsNTMsNDYsNDIsNTAsMzYsMjksMzJdLHI9WzEsMiw0LDYsOCwxMCwxMiwxNCwxNSwxNywxOSwyMSwyMywyNSwyNywyOF0scz1beyIwIjo4NDIxODg4LDI2ODQzNTQ1NjozMjc2OCw1MzY4NzA5MTI6ODQyMTM3OCw4MDUzMDYzNjg6MiwxMDczNzQxODI0OjUxMiwxMzQyMTc3MjgwOjg0MjE4OTAsMTYxMDYxMjczNjo4Mzg5MTIyLDE4NzkwNDgxOTI6ODM4ODYwOCwyMTQ3NDgzNjQ4OjUxNCwyNDE1OTE5MTA0OjgzODkxMjAsMjY4NDM1NDU2MDozMzI4MCwyOTUyNzkwMDE2Ojg0MjEzNzYsMzIyMTIyNTQ3MjozMjc3MCwzNDg5NjYwOTI4OjgzODg2MTAsMzc1ODA5NjM4NDowLDQwMjY1MzE4NDA6MzMyODIsMTM0MjE3NzI4OjAsNDAyNjUzMTg0Ojg0MjE4OTAsNjcxMDg4NjQwOjMzMjgyLDkzOTUyNDA5NjozMjc2OCwxMjA3OTU5NTUyOjg0MjE4ODgsMTQ3NjM5NTAwODo1MTIsMTc0NDgzMDQ2NDo4NDIxMzc4LDIwMTMyNjU5MjA6MiwKMjI4MTcwMTM3Njo4Mzg5MTIwLDI1NTAxMzY4MzI6MzMyODAsMjgxODU3MjI4ODo4NDIxMzc2LDMwODcwMDc3NDQ6ODM4OTEyMiwzMzU1NDQzMjAwOjgzODg2MTAsMzYyMzg3ODY1NjozMjc3MCwzODkyMzE0MTEyOjUxNCw0MTYwNzQ5NTY4OjgzODg2MDgsMTozMjc2OCwyNjg0MzU0NTc6Miw1MzY4NzA5MTM6ODQyMTg4OCw4MDUzMDYzNjk6ODM4ODYwOCwxMDczNzQxODI1Ojg0MjEzNzgsMTM0MjE3NzI4MTozMzI4MCwxNjEwNjEyNzM3OjUxMiwxODc5MDQ4MTkzOjgzODkxMjIsMjE0NzQ4MzY0OTo4NDIxODkwLDI0MTU5MTkxMDU6ODQyMTM3NiwyNjg0MzU0NTYxOjgzODg2MTAsMjk1Mjc5MDAxNzozMzI4MiwzMjIxMjI1NDczOjUxNCwzNDg5NjYwOTI5OjgzODkxMjAsMzc1ODA5NjM4NTozMjc3MCw0MDI2NTMxODQxOjAsMTM0MjE3NzI5Ojg0MjE4OTAsNDAyNjUzMTg1Ojg0MjEzNzYsNjcxMDg4NjQxOjgzODg2MDgsOTM5NTI0MDk3OjUxMiwxMjA3OTU5NTUzOjMyNzY4LDE0NzYzOTUwMDk6ODM4ODYxMCwKMTc0NDgzMDQ2NToyLDIwMTMyNjU5MjE6MzMyODIsMjI4MTcwMTM3NzozMjc3MCwyNTUwMTM2ODMzOjgzODkxMjIsMjgxODU3MjI4OTo1MTQsMzA4NzAwNzc0NTo4NDIxODg4LDMzNTU0NDMyMDE6ODM4OTEyMCwzNjIzODc4NjU3OjAsMzg5MjMxNDExMzozMzI4MCw0MTYwNzQ5NTY5Ojg0MjEzNzh9LHsiMCI6MTA3NDI4MjUxMiwxNjc3NzIxNjoxNjM4NCwzMzU1NDQzMjo1MjQyODgsNTAzMzE2NDg6MTA3NDI2NjEyOCw2NzEwODg2NDoxMDczNzQxODQwLDgzODg2MDgwOjEwNzQyODI0OTYsMTAwNjYzMjk2OjEwNzM3NTgyMDgsMTE3NDQwNTEyOjE2LDEzNDIxNzcyODo1NDA2NzIsMTUwOTk0OTQ0OjEwNzM3NTgyMjQsMTY3NzcyMTYwOjEwNzM3NDE4MjQsMTg0NTQ5Mzc2OjU0MDY4OCwyMDEzMjY1OTI6NTI0MzA0LDIxODEwMzgwODowLDIzNDg4MTAyNDoxNjQwMCwyNTE2NTgyNDA6MTA3NDI2NjExMiw4Mzg4NjA4OjEwNzM3NTgyMDgsMjUxNjU4MjQ6NTQwNjg4LDQxOTQzMDQwOjE2LDU4NzIwMjU2OjEwNzM3NTgyMjQsCjc1NDk3NDcyOjEwNzQyODI1MTIsOTIyNzQ2ODg6MTA3Mzc0MTgyNCwxMDkwNTE5MDQ6NTI0Mjg4LDEyNTgyOTEyMDoxMDc0MjY2MTI4LDE0MjYwNjMzNjo1MjQzMDQsMTU5MzgzNTUyOjAsMTc2MTYwNzY4OjE2Mzg0LDE5MjkzNzk4NDoxMDc0MjY2MTEyLDIwOTcxNTIwMDoxMDczNzQxODQwLDIyNjQ5MjQxNjo1NDA2NzIsMjQzMjY5NjMyOjEwNzQyODI0OTYsMjYwMDQ2ODQ4OjE2NDAwLDI2ODQzNTQ1NjowLDI4NTIxMjY3MjoxMDc0MjY2MTI4LDMwMTk4OTg4ODoxMDczNzU4MjI0LDMxODc2NzEwNDoxMDc0MjgyNDk2LDMzNTU0NDMyMDoxMDc0MjY2MTEyLDM1MjMyMTUzNjoxNiwzNjkwOTg3NTI6NTQwNjg4LDM4NTg3NTk2ODoxNjM4NCw0MDI2NTMxODQ6MTY0MDAsNDE5NDMwNDAwOjUyNDI4OCw0MzYyMDc2MTY6NTI0MzA0LDQ1Mjk4NDgzMjoxMDczNzQxODQwLDQ2OTc2MjA0ODo1NDA2NzIsNDg2NTM5MjY0OjEwNzM3NTgyMDgsNTAzMzE2NDgwOjEwNzM3NDE4MjQsNTIwMDkzNjk2OjEwNzQyODI1MTIsCjI3NjgyNDA2NDo1NDA2ODgsMjkzNjAxMjgwOjUyNDI4OCwzMTAzNzg0OTY6MTA3NDI2NjExMiwzMjcxNTU3MTI6MTYzODQsMzQzOTMyOTI4OjEwNzM3NTgyMDgsMzYwNzEwMTQ0OjEwNzQyODI1MTIsMzc3NDg3MzYwOjE2LDM5NDI2NDU3NjoxMDczNzQxODI0LDQxMTA0MTc5MjoxMDc0MjgyNDk2LDQyNzgxOTAwODoxMDczNzQxODQwLDQ0NDU5NjIyNDoxMDczNzU4MjI0LDQ2MTM3MzQ0MDo1MjQzMDQsNDc4MTUwNjU2OjAsNDk0OTI3ODcyOjE2NDAwLDUxMTcwNTA4ODoxMDc0MjY2MTI4LDUyODQ4MjMwNDo1NDA2NzJ9LHsiMCI6MjYwLDEwNDg1NzY6MCwyMDk3MTUyOjY3MTA5MTIwLDMxNDU3Mjg6NjU3OTYsNDE5NDMwNDo2NTU0MCw1MjQyODgwOjY3MTA4ODY4LDYyOTE0NTY6NjcxNzQ2NjAsNzM0MDAzMjo2NzE3NDQwMCw4Mzg4NjA4OjY3MTA4ODY0LDk0MzcxODQ6NjcxNzQ2NTYsMTA0ODU3NjA6NjU3OTIsMTE1MzQzMzY6NjcxNzQ0MDQsMTI1ODI5MTI6NjcxMDkxMjQsMTM2MzE0ODg6NjU1MzYsCjE0NjgwMDY0OjQsMTU3Mjg2NDA6MjU2LDUyNDI4ODo2NzE3NDY1NiwxNTcyODY0OjY3MTc0NDA0LDI2MjE0NDA6MCwzNjcwMDE2OjY3MTA5MTIwLDQ3MTg1OTI6NjcxMDg4NjgsNTc2NzE2ODo2NTUzNiw2ODE1NzQ0OjY1NTQwLDc4NjQzMjA6MjYwLDg5MTI4OTY6NCw5OTYxNDcyOjI1NiwxMTAxMDA0ODo2NzE3NDQwMCwxMjA1ODYyNDo2NTc5NiwxMzEwNzIwMDo2NTc5MiwxNDE1NTc3Njo2NzEwOTEyNCwxNTIwNDM1Mjo2NzE3NDY2MCwxNjI1MjkyODo2NzEwODg2NCwxNjc3NzIxNjo2NzE3NDY1NiwxNzgyNTc5Mjo2NTU0MCwxODg3NDM2ODo2NTUzNiwxOTkyMjk0NDo2NzEwOTEyMCwyMDk3MTUyMDoyNTYsMjIwMjAwOTY6NjcxNzQ2NjAsMjMwNjg2NzI6NjcxMDg4NjgsMjQxMTcyNDg6MCwyNTE2NTgyNDo2NzEwOTEyNCwyNjIxNDQwMDo2NzEwODg2NCwyNzI2Mjk3Njo0LDI4MzExNTUyOjY1NzkyLDI5MzYwMTI4OjY3MTc0NDAwLDMwNDA4NzA0OjI2MCwzMTQ1NzI4MDo2NTc5NiwzMjUwNTg1Njo2NzE3NDQwNCwKMTczMDE1MDQ6NjcxMDg4NjQsMTgzNTAwODA6MjYwLDE5Mzk4NjU2OjY3MTc0NjU2LDIwNDQ3MjMyOjAsMjE0OTU4MDg6NjU1NDAsMjI1NDQzODQ6NjcxMDkxMjAsMjM1OTI5NjA6MjU2LDI0NjQxNTM2OjY3MTc0NDA0LDI1NjkwMTEyOjY1NTM2LDI2NzM4Njg4OjY3MTc0NjYwLDI3Nzg3MjY0OjY1Nzk2LDI4ODM1ODQwOjY3MTA4ODY4LDI5ODg0NDE2OjY3MTA5MTI0LDMwOTMyOTkyOjY3MTc0NDAwLDMxOTgxNTY4OjQsMzMwMzAxNDQ6NjU3OTJ9LHsiMCI6MjE1MTY4MjA0OCw2NTUzNjoyMTQ3NDg3ODA4LDEzMTA3Mjo0MTk4NDY0LDE5NjYwODoyMTUxNjc3OTUyLDI2MjE0NDowLDMyNzY4MDo0MTk4NDAwLDM5MzIxNjoyMTQ3NDgzNzEyLDQ1ODc1Mjo0MTk0MzY4LDUyNDI4ODoyMTQ3NDgzNjQ4LDU4OTgyNDo0MTk0MzA0LDY1NTM2MDo2NCw3MjA4OTY6MjE0NzQ4Nzc0NCw3ODY0MzI6MjE1MTY3ODAxNiw4NTE5Njg6NDE2MCw5MTc1MDQ6NDA5Niw5ODMwNDA6MjE1MTY4MjExMiwzMjc2ODoyMTQ3NDg3ODA4LAo5ODMwNDo2NCwxNjM4NDA6MjE1MTY3ODAxNiwyMjkzNzY6MjE0NzQ4Nzc0NCwyOTQ5MTI6NDE5ODQwMCwzNjA0NDg6MjE1MTY4MjExMiw0MjU5ODQ6MCw0OTE1MjA6MjE1MTY3Nzk1Miw1NTcwNTY6NDA5Niw2MjI1OTI6MjE1MTY4MjA0OCw2ODgxMjg6NDE5NDMwNCw3NTM2NjQ6NDE2MCw4MTkyMDA6MjE0NzQ4MzY0OCw4ODQ3MzY6NDE5NDM2OCw5NTAyNzI6NDE5ODQ2NCwxMDE1ODA4OjIxNDc0ODM3MTIsMTA0ODU3Njo0MTk0MzY4LDExMTQxMTI6NDE5ODQwMCwxMTc5NjQ4OjIxNDc0ODM3MTIsMTI0NTE4NDowLDEzMTA3MjA6NDE2MCwxMzc2MjU2OjIxNTE2NzgwMTYsMTQ0MTc5MjoyMTUxNjgyMDQ4LDE1MDczMjg6MjE0NzQ4NzgwOCwxNTcyODY0OjIxNTE2ODIxMTIsMTYzODQwMDoyMTQ3NDgzNjQ4LDE3MDM5MzY6MjE1MTY3Nzk1MiwxNzY5NDcyOjQxOTg0NjQsMTgzNTAwODoyMTQ3NDg3NzQ0LDE5MDA1NDQ6NDE5NDMwNCwxOTY2MDgwOjY0LDIwMzE2MTY6NDA5NiwxMDgxMzQ0OjIxNTE2Nzc5NTIsCjExNDY4ODA6MjE1MTY4MjExMiwxMjEyNDE2OjAsMTI3Nzk1Mjo0MTk4NDAwLDEzNDM0ODg6NDE5NDM2OCwxNDA5MDI0OjIxNDc0ODM2NDgsMTQ3NDU2MDoyMTQ3NDg3ODA4LDE1NDAwOTY6NjQsMTYwNTYzMjoyMTQ3NDgzNzEyLDE2NzExNjg6NDA5NiwxNzM2NzA0OjIxNDc0ODc3NDQsMTgwMjI0MDoyMTUxNjc4MDE2LDE4Njc3NzY6NDE2MCwxOTMzMzEyOjIxNTE2ODIwNDgsMTk5ODg0ODo0MTk0MzA0LDIwNjQzODQ6NDE5ODQ2NH0seyIwIjoxMjgsNDA5NjoxNzAzOTM2MCw4MTkyOjI2MjE0NCwxMjI4ODo1MzY4NzA5MTIsMTYzODQ6NTM3MTMzMTg0LDIwNDgwOjE2Nzc3MzQ0LDI0NTc2OjU1MzY0ODI1NiwyODY3MjoyNjIyNzIsMzI3Njg6MTY3NzcyMTYsMzY4NjQ6NTM3MTMzMDU2LDQwOTYwOjUzNjg3MTA0MCw0NTA1Njo1NTM5MTA0MDAsNDkxNTI6NTUzOTEwMjcyLDUzMjQ4OjAsNTczNDQ6MTcwMzk0ODgsNjE0NDA6NTUzNjQ4MTI4LDIwNDg6MTcwMzk0ODgsNjE0NDo1NTM2NDgyNTYsCjEwMjQwOjEyOCwxNDMzNjoxNzAzOTM2MCwxODQzMjoyNjIxNDQsMjI1Mjg6NTM3MTMzMTg0LDI2NjI0OjU1MzkxMDI3MiwzMDcyMDo1MzY4NzA5MTIsMzQ4MTY6NTM3MTMzMDU2LDM4OTEyOjAsNDMwMDg6NTUzOTEwNDAwLDQ3MTA0OjE2Nzc3MzQ0LDUxMjAwOjUzNjg3MTA0MCw1NTI5Njo1NTM2NDgxMjgsNTkzOTI6MTY3NzcyMTYsNjM0ODg6MjYyMjcyLDY1NTM2OjI2MjE0NCw2OTYzMjoxMjgsNzM3Mjg6NTM2ODcwOTEyLDc3ODI0OjU1MzY0ODI1Niw4MTkyMDoxNjc3NzM0NCw4NjAxNjo1NTM5MTAyNzIsOTAxMTI6NTM3MTMzMTg0LDk0MjA4OjE2Nzc3MjE2LDk4MzA0OjU1MzkxMDQwMCwxMDI0MDA6NTUzNjQ4MTI4LDEwNjQ5NjoxNzAzOTM2MCwxMTA1OTI6NTM3MTMzMDU2LDExNDY4ODoyNjIyNzIsMTE4Nzg0OjUzNjg3MTA0MCwxMjI4ODA6MCwxMjY5NzY6MTcwMzk0ODgsNjc1ODQ6NTUzNjQ4MjU2LDcxNjgwOjE2Nzc3MjE2LDc1Nzc2OjE3MDM5MzYwLDc5ODcyOjUzNzEzMzE4NCwKODM5Njg6NTM2ODcwOTEyLDg4MDY0OjE3MDM5NDg4LDkyMTYwOjEyOCw5NjI1Njo1NTM5MTAyNzIsMTAwMzUyOjI2MjI3MiwxMDQ0NDg6NTUzOTEwNDAwLDEwODU0NDowLDExMjY0MDo1NTM2NDgxMjgsMTE2NzM2OjE2Nzc3MzQ0LDEyMDgzMjoyNjIxNDQsMTI0OTI4OjUzNzEzMzA1NiwxMjkwMjQ6NTM2ODcxMDQwfSx7IjAiOjI2ODQzNTQ2NCwyNTY6ODE5Miw1MTI6MjcwNTMyNjA4LDc2ODoyNzA1NDA4MDgsMTAyNDoyNjg0NDM2NDgsMTI4MDoyMDk3MTUyLDE1MzY6MjA5NzE2MCwxNzkyOjI2ODQzNTQ1NiwyMDQ4OjAsMjMwNDoyNjg0NDM2NTYsMjU2MDoyMTA1MzQ0LDI4MTY6OCwzMDcyOjI3MDUzMjYxNiwzMzI4OjIxMDUzNTIsMzU4NDo4MjAwLDM4NDA6MjcwNTQwODAwLDEyODoyNzA1MzI2MDgsMzg0OjI3MDU0MDgwOCw2NDA6OCw4OTY6MjA5NzE1MiwxMTUyOjIxMDUzNTIsMTQwODoyNjg0MzU0NjQsMTY2NDoyNjg0NDM2NDgsMTkyMDo4MjAwLDIxNzY6MjA5NzE2MCwyNDMyOjgxOTIsCjI2ODg6MjY4NDQzNjU2LDI5NDQ6MjcwNTMyNjE2LDMyMDA6MCwzNDU2OjI3MDU0MDgwMCwzNzEyOjIxMDUzNDQsMzk2ODoyNjg0MzU0NTYsNDA5NjoyNjg0NDM2NDgsNDM1MjoyNzA1MzI2MTYsNDYwODoyNzA1NDA4MDgsNDg2NDo4MjAwLDUxMjA6MjA5NzE1Miw1Mzc2OjI2ODQzNTQ1Niw1NjMyOjI2ODQzNTQ2NCw1ODg4OjIxMDUzNDQsNjE0NDoyMTA1MzUyLDY0MDA6MCw2NjU2OjgsNjkxMjoyNzA1MzI2MDgsNzE2ODo4MTkyLDc0MjQ6MjY4NDQzNjU2LDc2ODA6MjcwNTQwODAwLDc5MzY6MjA5NzE2MCw0MjI0OjgsNDQ4MDoyMTA1MzQ0LDQ3MzY6MjA5NzE1Miw0OTkyOjI2ODQzNTQ2NCw1MjQ4OjI2ODQ0MzY0OCw1NTA0OjgyMDAsNTc2MDoyNzA1NDA4MDgsNjAxNjoyNzA1MzI2MDgsNjI3MjoyNzA1NDA4MDAsNjUyODoyNzA1MzI2MTYsNjc4NDo4MTkyLDcwNDA6MjEwNTM1Miw3Mjk2OjIwOTcxNjAsNzU1MjowLDc4MDg6MjY4NDM1NDU2LDgwNjQ6MjY4NDQzNjU2fSx7IjAiOjEwNDg1NzYsCjE2OjMzNTU1NDU3LDMyOjEwMjQsNDg6MTA0OTYwMSw2NDozNDYwNDAzMyw4MDowLDk2OjEsMTEyOjM0NjAzMDA5LDEyODozMzU1NTQ1NiwxNDQ6MTA0ODU3NywxNjA6MzM1NTQ0MzMsMTc2OjM0NjA0MDMyLDE5MjozNDYwMzAwOCwyMDg6MTAyNSwyMjQ6MTA0OTYwMCwyNDA6MzM1NTQ0MzIsODozNDYwMzAwOSwyNDowLDQwOjMzNTU1NDU3LDU2OjM0NjA0MDMyLDcyOjEwNDg1NzYsODg6MzM1NTQ0MzMsMTA0OjMzNTU0NDMyLDEyMDoxMDI1LDEzNjoxMDQ5NjAxLDE1MjozMzU1NTQ1NiwxNjg6MzQ2MDMwMDgsMTg0OjEwNDg1NzcsMjAwOjEwMjQsMjE2OjM0NjA0MDMzLDIzMjoxLDI0ODoxMDQ5NjAwLDI1NjozMzU1NDQzMiwyNzI6MTA0ODU3NiwyODg6MzM1NTU0NTcsMzA0OjM0NjAzMDA5LDMyMDoxMDQ4NTc3LDMzNjozMzU1NTQ1NiwzNTI6MzQ2MDQwMzIsMzY4OjEwNDk2MDEsMzg0OjEwMjUsNDAwOjM0NjA0MDMzLDQxNjoxMDQ5NjAwLDQzMjoxLDQ0ODowLDQ2NDozNDYwMzAwOCw0ODA6MzM1NTQ0MzMsCjQ5NjoxMDI0LDI2NDoxMDQ5NjAwLDI4MDozMzU1NTQ1NywyOTY6MzQ2MDMwMDksMzEyOjEsMzI4OjMzNTU0NDMyLDM0NDoxMDQ4NTc2LDM2MDoxMDI1LDM3NjozNDYwNDAzMiwzOTI6MzM1NTQ0MzMsNDA4OjM0NjAzMDA4LDQyNDowLDQ0MDozNDYwNDAzMyw0NTY6MTA0OTYwMSw0NzI6MTAyNCw0ODg6MzM1NTU0NTYsNTA0OjEwNDg1Nzd9LHsiMCI6MTM0MjE5ODA4LDE6MTMxMDcyLDI6MTM0MjE3NzI4LDM6MzIsNDoxMzExMDQsNToxMzQzNTA4ODAsNjoxMzQzNTA4NDgsNzoyMDQ4LDg6MTM0MzQ4ODAwLDk6MTM0MjE5Nzc2LDEwOjEzMzEyMCwxMToxMzQzNDg4MzIsMTI6MjA4MCwxMzowLDE0OjEzNDIxNzc2MCwxNToxMzMxNTIsMjE0NzQ4MzY0ODoyMDQ4LDIxNDc0ODM2NDk6MTM0MzUwODgwLDIxNDc0ODM2NTA6MTM0MjE5ODA4LDIxNDc0ODM2NTE6MTM0MjE3NzI4LDIxNDc0ODM2NTI6MTM0MzQ4ODAwLDIxNDc0ODM2NTM6MTMzMTIwLDIxNDc0ODM2NTQ6MTMzMTUyLDIxNDc0ODM2NTU6MzIsCjIxNDc0ODM2NTY6MTM0MjE3NzYwLDIxNDc0ODM2NTc6MjA4MCwyMTQ3NDgzNjU4OjEzMTEwNCwyMTQ3NDgzNjU5OjEzNDM1MDg0OCwyMTQ3NDgzNjYwOjAsMjE0NzQ4MzY2MToxMzQzNDg4MzIsMjE0NzQ4MzY2MjoxMzQyMTk3NzYsMjE0NzQ4MzY2MzoxMzEwNzIsMTY6MTMzMTUyLDE3OjEzNDM1MDg0OCwxODozMiwxOToyMDQ4LDIwOjEzNDIxOTc3NiwyMToxMzQyMTc3NjAsMjI6MTM0MzQ4ODMyLDIzOjEzMTA3MiwyNDowLDI1OjEzMTEwNCwyNjoxMzQzNDg4MDAsMjc6MTM0MjE5ODA4LDI4OjEzNDM1MDg4MCwyOToxMzMxMjAsMzA6MjA4MCwzMToxMzQyMTc3MjgsMjE0NzQ4MzY2NDoxMzEwNzIsMjE0NzQ4MzY2NToyMDQ4LDIxNDc0ODM2NjY6MTM0MzQ4ODMyLDIxNDc0ODM2Njc6MTMzMTUyLDIxNDc0ODM2Njg6MzIsMjE0NzQ4MzY2OToxMzQzNDg4MDAsMjE0NzQ4MzY3MDoxMzQyMTc3MjgsMjE0NzQ4MzY3MToxMzQyMTk4MDgsMjE0NzQ4MzY3MjoxMzQzNTA4ODAsMjE0NzQ4MzY3MzoxMzQyMTc3NjAsCjIxNDc0ODM2NzQ6MTM0MjE5Nzc2LDIxNDc0ODM2NzU6MCwyMTQ3NDgzNjc2OjEzMzEyMCwyMTQ3NDgzNjc3OjIwODAsMjE0NzQ4MzY3ODoxMzExMDQsMjE0NzQ4MzY3OToxMzQzNTA4NDh9XSx0PVs0MTYwNzQ5NTY5LDUyODQ4MjMwNCwzMzAzMDE0NCwyMDY0Mzg0LDEyOTAyNCw4MDY0LDUwNCwyMTQ3NDgzNjc5XSxtPWcuREVTPWUuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe2Zvcih2YXIgYj10aGlzLl9rZXkud29yZHMsYz1bXSxhPTA7NTY+YTthKyspe3ZhciBmPXFbYV0tMTtjW2FdPWJbZj4+PjVdPj4+MzEtZiUzMiYxfWI9dGhpcy5fc3ViS2V5cz1bXTtmb3IoZj0wOzE2PmY7ZisrKXtmb3IodmFyIGQ9YltmXT1bXSxlPXJbZl0sYT0wOzI0PmE7YSsrKWRbYS82fDBdfD1jWyhwW2FdLTErZSklMjhdPDwzMS1hJTYsZFs0KyhhLzZ8MCldfD1jWzI4KyhwW2ErMjRdLTErZSklMjhdPDwzMS1hJTY7ZFswXT1kWzBdPDwxfGRbMF0+Pj4zMTtmb3IoYT0xOzc+YTthKyspZFthXT4+Pj0KNCooYS0xKSszO2RbN109ZFs3XTw8NXxkWzddPj4+Mjd9Yz10aGlzLl9pbnZTdWJLZXlzPVtdO2ZvcihhPTA7MTY+YTthKyspY1thXT1iWzE1LWFdfSxlbmNyeXB0QmxvY2s6ZnVuY3Rpb24oYixjKXt0aGlzLl9kb0NyeXB0QmxvY2soYixjLHRoaXMuX3N1YktleXMpfSxkZWNyeXB0QmxvY2s6ZnVuY3Rpb24oYixjKXt0aGlzLl9kb0NyeXB0QmxvY2soYixjLHRoaXMuX2ludlN1YktleXMpfSxfZG9DcnlwdEJsb2NrOmZ1bmN0aW9uKGIsYyxhKXt0aGlzLl9sQmxvY2s9YltjXTt0aGlzLl9yQmxvY2s9YltjKzFdO2ouY2FsbCh0aGlzLDQsMjUyNjQ1MTM1KTtqLmNhbGwodGhpcywxNiw2NTUzNSk7bC5jYWxsKHRoaXMsMiw4NTg5OTM0NTkpO2wuY2FsbCh0aGlzLDgsMTY3MTE5MzUpO2ouY2FsbCh0aGlzLDEsMTQzMTY1NTc2NSk7Zm9yKHZhciBmPTA7MTY+ZjtmKyspe2Zvcih2YXIgZD1hW2ZdLGU9dGhpcy5fbEJsb2NrLGg9dGhpcy5fckJsb2NrLGc9MCxrPTA7OD5rO2srKylnfD1zW2tdWygoaF4KZFtrXSkmdFtrXSk+Pj4wXTt0aGlzLl9sQmxvY2s9aDt0aGlzLl9yQmxvY2s9ZV5nfWE9dGhpcy5fbEJsb2NrO3RoaXMuX2xCbG9jaz10aGlzLl9yQmxvY2s7dGhpcy5fckJsb2NrPWE7ai5jYWxsKHRoaXMsMSwxNDMxNjU1NzY1KTtsLmNhbGwodGhpcyw4LDE2NzExOTM1KTtsLmNhbGwodGhpcywyLDg1ODk5MzQ1OSk7ai5jYWxsKHRoaXMsMTYsNjU1MzUpO2ouY2FsbCh0aGlzLDQsMjUyNjQ1MTM1KTtiW2NdPXRoaXMuX2xCbG9jaztiW2MrMV09dGhpcy5fckJsb2NrfSxrZXlTaXplOjIsaXZTaXplOjIsYmxvY2tTaXplOjJ9KTtoLkRFUz1lLl9jcmVhdGVIZWxwZXIobSk7Zz1nLlRyaXBsZURFUz1lLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLl9rZXkud29yZHM7dGhpcy5fZGVzMT1tLmNyZWF0ZUVuY3J5cHRvcihuLmNyZWF0ZShiLnNsaWNlKDAsMikpKTt0aGlzLl9kZXMyPW0uY3JlYXRlRW5jcnlwdG9yKG4uY3JlYXRlKGIuc2xpY2UoMiw0KSkpO3RoaXMuX2RlczM9Cm0uY3JlYXRlRW5jcnlwdG9yKG4uY3JlYXRlKGIuc2xpY2UoNCw2KSkpfSxlbmNyeXB0QmxvY2s6ZnVuY3Rpb24oYixjKXt0aGlzLl9kZXMxLmVuY3J5cHRCbG9jayhiLGMpO3RoaXMuX2RlczIuZGVjcnlwdEJsb2NrKGIsYyk7dGhpcy5fZGVzMy5lbmNyeXB0QmxvY2soYixjKX0sZGVjcnlwdEJsb2NrOmZ1bmN0aW9uKGIsYyl7dGhpcy5fZGVzMy5kZWNyeXB0QmxvY2soYixjKTt0aGlzLl9kZXMyLmVuY3J5cHRCbG9jayhiLGMpO3RoaXMuX2RlczEuZGVjcnlwdEJsb2NrKGIsYyl9LGtleVNpemU6NixpdlNpemU6MixibG9ja1NpemU6Mn0pO2guVHJpcGxlREVTPWUuX2NyZWF0ZUhlbHBlcihnKX0pKCk7CgovKgpDcnlwdG9KUyB2My4xLjIgZW5jLWJhc2U2NC1taW4uanMKY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzCihjKSAyMDA5LTIwMTMgYnkgSmVmZiBNb3R0LiBBbGwgcmlnaHRzIHJlc2VydmVkLgpjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvd2lraS9MaWNlbnNlCiovCihmdW5jdGlvbigpe3ZhciBoPUNyeXB0b0pTLGo9aC5saWIuV29yZEFycmF5O2guZW5jLkJhc2U2ND17c3RyaW5naWZ5OmZ1bmN0aW9uKGIpe3ZhciBlPWIud29yZHMsZj1iLnNpZ0J5dGVzLGM9dGhpcy5fbWFwO2IuY2xhbXAoKTtiPVtdO2Zvcih2YXIgYT0wO2E8ZjthKz0zKWZvcih2YXIgZD0oZVthPj4+Ml0+Pj4yNC04KihhJTQpJjI1NSk8PDE2fChlW2ErMT4+PjJdPj4+MjQtOCooKGErMSklNCkmMjU1KTw8OHxlW2ErMj4+PjJdPj4+MjQtOCooKGErMiklNCkmMjU1LGc9MDs0PmcmJmErMC43NSpnPGY7ZysrKWIucHVzaChjLmNoYXJBdChkPj4+NiooMy1nKSY2MykpO2lmKGU9Yy5jaGFyQXQoNjQpKWZvcig7Yi5sZW5ndGglNDspYi5wdXNoKGUpO3JldHVybiBiLmpvaW4oIiIpfSxwYXJzZTpmdW5jdGlvbihiKXt2YXIgZT1iLmxlbmd0aCxmPXRoaXMuX21hcCxjPWYuY2hhckF0KDY0KTtjJiYoYz1iLmluZGV4T2YoYyksLTEhPWMmJihlPWMpKTtmb3IodmFyIGM9W10sYT0wLGQ9MDtkPAplO2QrKylpZihkJTQpe3ZhciBnPWYuaW5kZXhPZihiLmNoYXJBdChkLTEpKTw8MiooZCU0KSxoPWYuaW5kZXhPZihiLmNoYXJBdChkKSk+Pj42LTIqKGQlNCk7Y1thPj4+Ml18PShnfGgpPDwyNC04KihhJTQpO2ErK31yZXR1cm4gai5jcmVhdGUoYyxhKX0sX21hcDoiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0ifX0pKCk7CgovKgpDcnlwdG9KUyB2My4xLjIgbWQ1LW1pbi5qcwpjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMKKGMpIDIwMDktMjAxMyBieSBKZWZmIE1vdHQuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCmNvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qcy93aWtpL0xpY2Vuc2UKKi8KKGZ1bmN0aW9uKEUpe2Z1bmN0aW9uIGgoYSxmLGcsaixwLGgsayl7YT1hKyhmJmd8fmYmaikrcCtrO3JldHVybihhPDxofGE+Pj4zMi1oKStmfWZ1bmN0aW9uIGsoYSxmLGcsaixwLGgsayl7YT1hKyhmJmp8ZyZ+aikrcCtrO3JldHVybihhPDxofGE+Pj4zMi1oKStmfWZ1bmN0aW9uIGwoYSxmLGcsaixoLGssbCl7YT1hKyhmXmdeaikraCtsO3JldHVybihhPDxrfGE+Pj4zMi1rKStmfWZ1bmN0aW9uIG4oYSxmLGcsaixoLGssbCl7YT1hKyhnXihmfH5qKSkraCtsO3JldHVybihhPDxrfGE+Pj4zMi1rKStmfWZvcih2YXIgcj1DcnlwdG9KUyxxPXIubGliLEY9cS5Xb3JkQXJyYXkscz1xLkhhc2hlcixxPXIuYWxnbyxhPVtdLHQ9MDs2ND50O3QrKylhW3RdPTQyOTQ5NjcyOTYqRS5hYnMoRS5zaW4odCsxKSl8MDtxPXEuTUQ1PXMuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IEYuaW5pdChbMTczMjU4NDE5Myw0MDIzMjMzNDE3LDI1NjIzODMxMDIsMjcxNzMzODc4XSl9LApfZG9Qcm9jZXNzQmxvY2s6ZnVuY3Rpb24obSxmKXtmb3IodmFyIGc9MDsxNj5nO2crKyl7dmFyIGo9ZitnLHA9bVtqXTttW2pdPShwPDw4fHA+Pj4yNCkmMTY3MTE5MzV8KHA8PDI0fHA+Pj44KSY0Mjc4MjU1MzYwfXZhciBnPXRoaXMuX2hhc2gud29yZHMsaj1tW2YrMF0scD1tW2YrMV0scT1tW2YrMl0scj1tW2YrM10scz1tW2YrNF0sdD1tW2YrNV0sdT1tW2YrNl0sdj1tW2YrN10sdz1tW2YrOF0seD1tW2YrOV0seT1tW2YrMTBdLHo9bVtmKzExXSxBPW1bZisxMl0sQj1tW2YrMTNdLEM9bVtmKzE0XSxEPW1bZisxNV0sYj1nWzBdLGM9Z1sxXSxkPWdbMl0sZT1nWzNdLGI9aChiLGMsZCxlLGosNyxhWzBdKSxlPWgoZSxiLGMsZCxwLDEyLGFbMV0pLGQ9aChkLGUsYixjLHEsMTcsYVsyXSksYz1oKGMsZCxlLGIsciwyMixhWzNdKSxiPWgoYixjLGQsZSxzLDcsYVs0XSksZT1oKGUsYixjLGQsdCwxMixhWzVdKSxkPWgoZCxlLGIsYyx1LDE3LGFbNl0pLGM9aChjLGQsZSxiLHYsMjIsYVs3XSksCmI9aChiLGMsZCxlLHcsNyxhWzhdKSxlPWgoZSxiLGMsZCx4LDEyLGFbOV0pLGQ9aChkLGUsYixjLHksMTcsYVsxMF0pLGM9aChjLGQsZSxiLHosMjIsYVsxMV0pLGI9aChiLGMsZCxlLEEsNyxhWzEyXSksZT1oKGUsYixjLGQsQiwxMixhWzEzXSksZD1oKGQsZSxiLGMsQywxNyxhWzE0XSksYz1oKGMsZCxlLGIsRCwyMixhWzE1XSksYj1rKGIsYyxkLGUscCw1LGFbMTZdKSxlPWsoZSxiLGMsZCx1LDksYVsxN10pLGQ9ayhkLGUsYixjLHosMTQsYVsxOF0pLGM9ayhjLGQsZSxiLGosMjAsYVsxOV0pLGI9ayhiLGMsZCxlLHQsNSxhWzIwXSksZT1rKGUsYixjLGQseSw5LGFbMjFdKSxkPWsoZCxlLGIsYyxELDE0LGFbMjJdKSxjPWsoYyxkLGUsYixzLDIwLGFbMjNdKSxiPWsoYixjLGQsZSx4LDUsYVsyNF0pLGU9ayhlLGIsYyxkLEMsOSxhWzI1XSksZD1rKGQsZSxiLGMsciwxNCxhWzI2XSksYz1rKGMsZCxlLGIsdywyMCxhWzI3XSksYj1rKGIsYyxkLGUsQiw1LGFbMjhdKSxlPWsoZSxiLApjLGQscSw5LGFbMjldKSxkPWsoZCxlLGIsYyx2LDE0LGFbMzBdKSxjPWsoYyxkLGUsYixBLDIwLGFbMzFdKSxiPWwoYixjLGQsZSx0LDQsYVszMl0pLGU9bChlLGIsYyxkLHcsMTEsYVszM10pLGQ9bChkLGUsYixjLHosMTYsYVszNF0pLGM9bChjLGQsZSxiLEMsMjMsYVszNV0pLGI9bChiLGMsZCxlLHAsNCxhWzM2XSksZT1sKGUsYixjLGQscywxMSxhWzM3XSksZD1sKGQsZSxiLGMsdiwxNixhWzM4XSksYz1sKGMsZCxlLGIseSwyMyxhWzM5XSksYj1sKGIsYyxkLGUsQiw0LGFbNDBdKSxlPWwoZSxiLGMsZCxqLDExLGFbNDFdKSxkPWwoZCxlLGIsYyxyLDE2LGFbNDJdKSxjPWwoYyxkLGUsYix1LDIzLGFbNDNdKSxiPWwoYixjLGQsZSx4LDQsYVs0NF0pLGU9bChlLGIsYyxkLEEsMTEsYVs0NV0pLGQ9bChkLGUsYixjLEQsMTYsYVs0Nl0pLGM9bChjLGQsZSxiLHEsMjMsYVs0N10pLGI9bihiLGMsZCxlLGosNixhWzQ4XSksZT1uKGUsYixjLGQsdiwxMCxhWzQ5XSksZD1uKGQsZSxiLGMsCkMsMTUsYVs1MF0pLGM9bihjLGQsZSxiLHQsMjEsYVs1MV0pLGI9bihiLGMsZCxlLEEsNixhWzUyXSksZT1uKGUsYixjLGQsciwxMCxhWzUzXSksZD1uKGQsZSxiLGMseSwxNSxhWzU0XSksYz1uKGMsZCxlLGIscCwyMSxhWzU1XSksYj1uKGIsYyxkLGUsdyw2LGFbNTZdKSxlPW4oZSxiLGMsZCxELDEwLGFbNTddKSxkPW4oZCxlLGIsYyx1LDE1LGFbNThdKSxjPW4oYyxkLGUsYixCLDIxLGFbNTldKSxiPW4oYixjLGQsZSxzLDYsYVs2MF0pLGU9bihlLGIsYyxkLHosMTAsYVs2MV0pLGQ9bihkLGUsYixjLHEsMTUsYVs2Ml0pLGM9bihjLGQsZSxiLHgsMjEsYVs2M10pO2dbMF09Z1swXStifDA7Z1sxXT1nWzFdK2N8MDtnWzJdPWdbMl0rZHwwO2dbM109Z1szXStlfDB9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fZGF0YSxmPWEud29yZHMsZz04KnRoaXMuX25EYXRhQnl0ZXMsaj04KmEuc2lnQnl0ZXM7ZltqPj4+NV18PTEyODw8MjQtaiUzMjt2YXIgaD1FLmZsb29yKGcvCjQyOTQ5NjcyOTYpO2ZbKGorNjQ+Pj45PDw0KSsxNV09KGg8PDh8aD4+PjI0KSYxNjcxMTkzNXwoaDw8MjR8aD4+PjgpJjQyNzgyNTUzNjA7Zlsoais2ND4+Pjk8PDQpKzE0XT0oZzw8OHxnPj4+MjQpJjE2NzExOTM1fChnPDwyNHxnPj4+OCkmNDI3ODI1NTM2MDthLnNpZ0J5dGVzPTQqKGYubGVuZ3RoKzEpO3RoaXMuX3Byb2Nlc3MoKTthPXRoaXMuX2hhc2g7Zj1hLndvcmRzO2ZvcihnPTA7ND5nO2crKylqPWZbZ10sZltnXT0oajw8OHxqPj4+MjQpJjE2NzExOTM1fChqPDwyNHxqPj4+OCkmNDI3ODI1NTM2MDtyZXR1cm4gYX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT1zLmNsb25lLmNhbGwodGhpcyk7YS5faGFzaD10aGlzLl9oYXNoLmNsb25lKCk7cmV0dXJuIGF9fSk7ci5NRDU9cy5fY3JlYXRlSGVscGVyKHEpO3IuSG1hY01ENT1zLl9jcmVhdGVIbWFjSGVscGVyKHEpfSkoTWF0aCk7CgovKgpDcnlwdG9KUyB2My4xLjIgc2hhMS1taW4uanMKY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzCihjKSAyMDA5LTIwMTMgYnkgSmVmZiBNb3R0LiBBbGwgcmlnaHRzIHJlc2VydmVkLgpjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvd2lraS9MaWNlbnNlCiovCihmdW5jdGlvbigpe3ZhciBrPUNyeXB0b0pTLGI9ay5saWIsbT1iLldvcmRBcnJheSxsPWIuSGFzaGVyLGQ9W10sYj1rLmFsZ28uU0hBMT1sLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPW5ldyBtLmluaXQoWzE3MzI1ODQxOTMsNDAyMzIzMzQxNywyNTYyMzgzMTAyLDI3MTczMzg3OCwzMjg1Mzc3NTIwXSl9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbihuLHApe2Zvcih2YXIgYT10aGlzLl9oYXNoLndvcmRzLGU9YVswXSxmPWFbMV0saD1hWzJdLGo9YVszXSxiPWFbNF0sYz0wOzgwPmM7YysrKXtpZigxNj5jKWRbY109bltwK2NdfDA7ZWxzZXt2YXIgZz1kW2MtM11eZFtjLThdXmRbYy0xNF1eZFtjLTE2XTtkW2NdPWc8PDF8Zz4+PjMxfWc9KGU8PDV8ZT4+PjI3KStiK2RbY107Zz0yMD5jP2crKChmJmh8fmYmaikrMTUxODUwMDI0OSk6NDA+Yz9nKygoZl5oXmopKzE4NTk3NzUzOTMpOjYwPmM/ZysoKGYmaHxmJmp8aCZqKS0xODk0MDA3NTg4KTpnKygoZl5oXgpqKS04OTk0OTc1MTQpO2I9ajtqPWg7aD1mPDwzMHxmPj4+MjtmPWU7ZT1nfWFbMF09YVswXStlfDA7YVsxXT1hWzFdK2Z8MDthWzJdPWFbMl0raHwwO2FbM109YVszXStqfDA7YVs0XT1hWzRdK2J8MH0sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLl9kYXRhLGQ9Yi53b3JkcyxhPTgqdGhpcy5fbkRhdGFCeXRlcyxlPTgqYi5zaWdCeXRlcztkW2U+Pj41XXw9MTI4PDwyNC1lJTMyO2RbKGUrNjQ+Pj45PDw0KSsxNF09TWF0aC5mbG9vcihhLzQyOTQ5NjcyOTYpO2RbKGUrNjQ+Pj45PDw0KSsxNV09YTtiLnNpZ0J5dGVzPTQqZC5sZW5ndGg7dGhpcy5fcHJvY2VzcygpO3JldHVybiB0aGlzLl9oYXNofSxjbG9uZTpmdW5jdGlvbigpe3ZhciBiPWwuY2xvbmUuY2FsbCh0aGlzKTtiLl9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKTtyZXR1cm4gYn19KTtrLlNIQTE9bC5fY3JlYXRlSGVscGVyKGIpO2suSG1hY1NIQTE9bC5fY3JlYXRlSG1hY0hlbHBlcihiKX0pKCk7CgovKgpDcnlwdG9KUyB2My4xLjIgc2hhMjU2LW1pbi5qcwpjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMKKGMpIDIwMDktMjAxMyBieSBKZWZmIE1vdHQuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCmNvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qcy93aWtpL0xpY2Vuc2UKKi8KKGZ1bmN0aW9uKGspe2Zvcih2YXIgZz1DcnlwdG9KUyxoPWcubGliLHY9aC5Xb3JkQXJyYXksaj1oLkhhc2hlcixoPWcuYWxnbyxzPVtdLHQ9W10sdT1mdW5jdGlvbihxKXtyZXR1cm4gNDI5NDk2NzI5NioocS0ocXwwKSl8MH0sbD0yLGI9MDs2ND5iOyl7dmFyIGQ7YTp7ZD1sO2Zvcih2YXIgdz1rLnNxcnQoZCkscj0yO3I8PXc7cisrKWlmKCEoZCVyKSl7ZD0hMTticmVhayBhfWQ9ITB9ZCYmKDg+YiYmKHNbYl09dShrLnBvdyhsLDAuNSkpKSx0W2JdPXUoay5wb3cobCwxLzMpKSxiKyspO2wrK312YXIgbj1bXSxoPWguU0hBMjU2PWouZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bmV3IHYuaW5pdChzLnNsaWNlKDApKX0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKHEsaCl7Zm9yKHZhciBhPXRoaXMuX2hhc2gud29yZHMsYz1hWzBdLGQ9YVsxXSxiPWFbMl0saz1hWzNdLGY9YVs0XSxnPWFbNV0saj1hWzZdLGw9YVs3XSxlPTA7NjQ+ZTtlKyspe2lmKDE2PmUpbltlXT0KcVtoK2VdfDA7ZWxzZXt2YXIgbT1uW2UtMTVdLHA9bltlLTJdO25bZV09KChtPDwyNXxtPj4+NyleKG08PDE0fG0+Pj4xOClebT4+PjMpK25bZS03XSsoKHA8PDE1fHA+Pj4xNyleKHA8PDEzfHA+Pj4xOSlecD4+PjEwKStuW2UtMTZdfW09bCsoKGY8PDI2fGY+Pj42KV4oZjw8MjF8Zj4+PjExKV4oZjw8N3xmPj4+MjUpKSsoZiZnXn5mJmopK3RbZV0rbltlXTtwPSgoYzw8MzB8Yz4+PjIpXihjPDwxOXxjPj4+MTMpXihjPDwxMHxjPj4+MjIpKSsoYyZkXmMmYl5kJmIpO2w9ajtqPWc7Zz1mO2Y9ayttfDA7az1iO2I9ZDtkPWM7Yz1tK3B8MH1hWzBdPWFbMF0rY3wwO2FbMV09YVsxXStkfDA7YVsyXT1hWzJdK2J8MDthWzNdPWFbM10ra3wwO2FbNF09YVs0XStmfDA7YVs1XT1hWzVdK2d8MDthWzZdPWFbNl0ranwwO2FbN109YVs3XStsfDB9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5fZGF0YSxiPWQud29yZHMsYT04KnRoaXMuX25EYXRhQnl0ZXMsYz04KmQuc2lnQnl0ZXM7CmJbYz4+PjVdfD0xMjg8PDI0LWMlMzI7YlsoYys2ND4+Pjk8PDQpKzE0XT1rLmZsb29yKGEvNDI5NDk2NzI5Nik7YlsoYys2ND4+Pjk8PDQpKzE1XT1hO2Quc2lnQnl0ZXM9NCpiLmxlbmd0aDt0aGlzLl9wcm9jZXNzKCk7cmV0dXJuIHRoaXMuX2hhc2h9LGNsb25lOmZ1bmN0aW9uKCl7dmFyIGI9ai5jbG9uZS5jYWxsKHRoaXMpO2IuX2hhc2g9dGhpcy5faGFzaC5jbG9uZSgpO3JldHVybiBifX0pO2cuU0hBMjU2PWouX2NyZWF0ZUhlbHBlcihoKTtnLkhtYWNTSEEyNTY9ai5fY3JlYXRlSG1hY0hlbHBlcihoKX0pKE1hdGgpOwoKLyoKQ3J5cHRvSlMgdjMuMS4yIHNoYTIyNC1taW4uanMKY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzCihjKSAyMDA5LTIwMTMgYnkgSmVmZiBNb3R0LiBBbGwgcmlnaHRzIHJlc2VydmVkLgpjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvd2lraS9MaWNlbnNlCiovCihmdW5jdGlvbigpe3ZhciBiPUNyeXB0b0pTLGQ9Yi5saWIuV29yZEFycmF5LGE9Yi5hbGdvLGM9YS5TSEEyNTYsYT1hLlNIQTIyND1jLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPW5ldyBkLmluaXQoWzMyMzgzNzEwMzIsOTE0MTUwNjYzLDgxMjcwMjk5OSw0MTQ0OTEyNjk3LDQyOTA3NzU4NTcsMTc1MDYwMzAyNSwxNjk0MDc2ODM5LDMyMDQwNzU0MjhdKX0sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgYT1jLl9kb0ZpbmFsaXplLmNhbGwodGhpcyk7YS5zaWdCeXRlcy09NDtyZXR1cm4gYX19KTtiLlNIQTIyND1jLl9jcmVhdGVIZWxwZXIoYSk7Yi5IbWFjU0hBMjI0PWMuX2NyZWF0ZUhtYWNIZWxwZXIoYSl9KSgpOwoKLyoKQ3J5cHRvSlMgdjMuMS4yIHNoYTUxMi1taW4uanMKY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzCihjKSAyMDA5LTIwMTMgYnkgSmVmZiBNb3R0LiBBbGwgcmlnaHRzIHJlc2VydmVkLgpjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvd2lraS9MaWNlbnNlCiovCihmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtyZXR1cm4gZC5jcmVhdGUuYXBwbHkoZCxhcmd1bWVudHMpfWZvcih2YXIgbj1DcnlwdG9KUyxyPW4ubGliLkhhc2hlcixlPW4ueDY0LGQ9ZS5Xb3JkLFQ9ZS5Xb3JkQXJyYXksZT1uLmFsZ28sZWE9W2EoMTExNjM1MjQwOCwzNjA5NzY3NDU4KSxhKDE4OTk0NDc0NDEsNjAyODkxNzI1KSxhKDMwNDkzMjM0NzEsMzk2NDQ4NDM5OSksYSgzOTIxMDA5NTczLDIxNzMyOTU1NDgpLGEoOTYxOTg3MTYzLDQwODE2Mjg0NzIpLGEoMTUwODk3MDk5MywzMDUzODM0MjY1KSxhKDI0NTM2MzU3NDgsMjkzNzY3MTU3OSksYSgyODcwNzYzMjIxLDM2NjQ2MDk1NjApLGEoMzYyNDM4MTA4MCwyNzM0ODgzMzk0KSxhKDMxMDU5ODQwMSwxMTY0OTk2NTQyKSxhKDYwNzIyNTI3OCwxMzIzNjEwNzY0KSxhKDE0MjY4ODE5ODcsMzU5MDMwNDk5NCksYSgxOTI1MDc4Mzg4LDQwNjgxODIzODMpLGEoMjE2MjA3ODIwNiw5OTEzMzYxMTMpLGEoMjYxNDg4ODEwMyw2MzM4MDMzMTcpLAphKDMyNDgyMjI1ODAsMzQ3OTc3NDg2OCksYSgzODM1MzkwNDAxLDI2NjY2MTM0NTgpLGEoNDAyMjIyNDc3NCw5NDQ3MTExMzkpLGEoMjY0MzQ3MDc4LDIzNDEyNjI3NzMpLGEoNjA0ODA3NjI4LDIwMDc4MDA5MzMpLGEoNzcwMjU1OTgzLDE0OTU5OTA5MDEpLGEoMTI0OTE1MDEyMiwxODU2NDMxMjM1KSxhKDE1NTUwODE2OTIsMzE3NTIxODEzMiksYSgxOTk2MDY0OTg2LDIxOTg5NTA4MzcpLGEoMjU1NDIyMDg4MiwzOTk5NzE5MzM5KSxhKDI4MjE4MzQzNDksNzY2Nzg0MDE2KSxhKDI5NTI5OTY4MDgsMjU2NjU5NDg3OSksYSgzMjEwMzEzNjcxLDMyMDMzMzc5NTYpLGEoMzMzNjU3MTg5MSwxMDM0NDU3MDI2KSxhKDM1ODQ1Mjg3MTEsMjQ2Njk0ODkwMSksYSgxMTM5MjY5OTMsMzc1ODMyNjM4MyksYSgzMzgyNDE4OTUsMTY4NzE3OTM2KSxhKDY2NjMwNzIwNSwxMTg4MTc5OTY0KSxhKDc3MzUyOTkxMiwxNTQ2MDQ1NzM0KSxhKDEyOTQ3NTczNzIsMTUyMjgwNTQ4NSksYSgxMzk2MTgyMjkxLAoyNjQzODMzODIzKSxhKDE2OTUxODM3MDAsMjM0MzUyNzM5MCksYSgxOTg2NjYxMDUxLDEwMTQ0Nzc0ODApLGEoMjE3NzAyNjM1MCwxMjA2NzU5MTQyKSxhKDI0NTY5NTYwMzcsMzQ0MDc3NjI3KSxhKDI3MzA0ODU5MjEsMTI5MDg2MzQ2MCksYSgyODIwMzAyNDExLDMxNTg0NTQyNzMpLGEoMzI1OTczMDgwMCwzNTA1OTUyNjU3KSxhKDMzNDU3NjQ3NzEsMTA2MjE3MDA4KSxhKDM1MTYwNjU4MTcsMzYwNjAwODM0NCksYSgzNjAwMzUyODA0LDE0MzI3MjU3NzYpLGEoNDA5NDU3MTkwOSwxNDY3MDMxNTk0KSxhKDI3NTQyMzM0NCw4NTExNjk3MjApLGEoNDMwMjI3NzM0LDMxMDA4MjM3NTIpLGEoNTA2OTQ4NjE2LDEzNjMyNTgxOTUpLGEoNjU5MDYwNTU2LDM3NTA2ODU1OTMpLGEoODgzOTk3ODc3LDM3ODUwNTAyODApLGEoOTU4MTM5NTcxLDMzMTgzMDc0MjcpLGEoMTMyMjgyMjIxOCwzODEyNzIzNDAzKSxhKDE1MzcwMDIwNjMsMjAwMzAzNDk5NSksYSgxNzQ3ODczNzc5LDM2MDIwMzY4OTkpLAphKDE5NTU1NjIyMjIsMTU3NTk5MDAxMiksYSgyMDI0MTA0ODE1LDExMjU1OTI5MjgpLGEoMjIyNzczMDQ1MiwyNzE2OTA0MzA2KSxhKDIzNjE4NTI0MjQsNDQyNzc2MDQ0KSxhKDI0Mjg0MzY0NzQsNTkzNjk4MzQ0KSxhKDI3NTY3MzQxODcsMzczMzExMDI0OSksYSgzMjA0MDMxNDc5LDI5OTkzNTE1NzMpLGEoMzMyOTMyNTI5OCwzODE1OTIwNDI3KSxhKDMzOTE1Njk2MTQsMzkyODM4MzkwMCksYSgzNTE1MjY3MjcxLDU2NjI4MDcxMSksYSgzOTQwMTg3NjA2LDM0NTQwNjk1MzQpLGEoNDExODYzMDI3MSw0MDAwMjM5OTkyKSxhKDExNjQxODQ3NCwxOTE0MTM4NTU0KSxhKDE3NDI5MjQyMSwyNzMxMDU1MjcwKSxhKDI4OTM4MDM1NiwzMjAzOTkzMDA2KSxhKDQ2MDM5MzI2OSwzMjA2MjAzMTUpLGEoNjg1NDcxNzMzLDU4NzQ5NjgzNiksYSg4NTIxNDI5NzEsMTA4Njc5Mjg1MSksYSgxMDE3MDM2Mjk4LDM2NTU0MzEwMCksYSgxMTI2MDAwNTgwLDI2MTgyOTc2NzYpLGEoMTI4ODAzMzQ3MCwKMzQwOTg1NTE1OCksYSgxNTAxNTA1OTQ4LDQyMzQ1MDk4NjYpLGEoMTYwNzE2NzkxNSw5ODcxNjc0NjgpLGEoMTgxNjQwMjMxNiwxMjQ2MTg5NTkxKV0sdj1bXSx3PTA7ODA+dzt3Kyspdlt3XT1hKCk7ZT1lLlNIQTUxMj1yLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPW5ldyBULmluaXQoW25ldyBkLmluaXQoMTc3OTAzMzcwMyw0MDg5MjM1NzIwKSxuZXcgZC5pbml0KDMxNDQxMzQyNzcsMjIyNzg3MzU5NSksbmV3IGQuaW5pdCgxMDEzOTA0MjQyLDQyNzExNzU3MjMpLG5ldyBkLmluaXQoMjc3MzQ4MDc2MiwxNTk1NzUwMTI5KSxuZXcgZC5pbml0KDEzNTk4OTMxMTksMjkxNzU2NTEzNyksbmV3IGQuaW5pdCgyNjAwODIyOTI0LDcyNTUxMTE5OSksbmV3IGQuaW5pdCg1Mjg3MzQ2MzUsNDIxNTM4OTU0NyksbmV3IGQuaW5pdCgxNTQxNDU5MjI1LDMyNzAzMzIwOSldKX0sX2RvUHJvY2Vzc0Jsb2NrOmZ1bmN0aW9uKGEsZCl7Zm9yKHZhciBmPXRoaXMuX2hhc2gud29yZHMsCkY9ZlswXSxlPWZbMV0sbj1mWzJdLHI9ZlszXSxHPWZbNF0sSD1mWzVdLEk9Zls2XSxmPWZbN10sdz1GLmhpZ2gsSj1GLmxvdyxYPWUuaGlnaCxLPWUubG93LFk9bi5oaWdoLEw9bi5sb3csWj1yLmhpZ2gsTT1yLmxvdywkPUcuaGlnaCxOPUcubG93LGFhPUguaGlnaCxPPUgubG93LGJhPUkuaGlnaCxQPUkubG93LGNhPWYuaGlnaCxRPWYubG93LGs9dyxnPUosej1YLHg9SyxBPVkseT1MLFU9WixCPU0sbD0kLGg9TixSPWFhLEM9TyxTPWJhLEQ9UCxWPWNhLEU9USxtPTA7ODA+bTttKyspe3ZhciBzPXZbbV07aWYoMTY+bSl2YXIgaj1zLmhpZ2g9YVtkKzIqbV18MCxiPXMubG93PWFbZCsyKm0rMV18MDtlbHNle3ZhciBqPXZbbS0xNV0sYj1qLmhpZ2gscD1qLmxvdyxqPShiPj4+MXxwPDwzMSleKGI+Pj44fHA8PDI0KV5iPj4+NyxwPShwPj4+MXxiPDwzMSleKHA+Pj44fGI8PDI0KV4ocD4+Pjd8Yjw8MjUpLHU9dlttLTJdLGI9dS5oaWdoLGM9dS5sb3csdT0oYj4+PjE5fGM8PDEzKV4oYjw8CjN8Yz4+PjI5KV5iPj4+NixjPShjPj4+MTl8Yjw8MTMpXihjPDwzfGI+Pj4yOSleKGM+Pj42fGI8PDI2KSxiPXZbbS03XSxXPWIuaGlnaCx0PXZbbS0xNl0scT10LmhpZ2gsdD10LmxvdyxiPXArYi5sb3csaj1qK1crKGI+Pj4wPHA+Pj4wPzE6MCksYj1iK2Msaj1qK3UrKGI+Pj4wPGM+Pj4wPzE6MCksYj1iK3Qsaj1qK3ErKGI+Pj4wPHQ+Pj4wPzE6MCk7cy5oaWdoPWo7cy5sb3c9Yn12YXIgVz1sJlJefmwmUyx0PWgmQ15+aCZELHM9ayZ6XmsmQV56JkEsVD1nJnheZyZ5XngmeSxwPShrPj4+Mjh8Zzw8NCleKGs8PDMwfGc+Pj4yKV4oazw8MjV8Zz4+PjcpLHU9KGc+Pj4yOHxrPDw0KV4oZzw8MzB8az4+PjIpXihnPDwyNXxrPj4+NyksYz1lYVttXSxmYT1jLmhpZ2gsZGE9Yy5sb3csYz1FKygoaD4+PjE0fGw8PDE4KV4oaD4+PjE4fGw8PDE0KV4oaDw8MjN8bD4+PjkpKSxxPVYrKChsPj4+MTR8aDw8MTgpXihsPj4+MTh8aDw8MTQpXihsPDwyM3xoPj4+OSkpKyhjPj4+MDxFPj4+MD8xOgowKSxjPWMrdCxxPXErVysoYz4+PjA8dD4+PjA/MTowKSxjPWMrZGEscT1xK2ZhKyhjPj4+MDxkYT4+PjA/MTowKSxjPWMrYixxPXEraisoYz4+PjA8Yj4+PjA/MTowKSxiPXUrVCxzPXArcysoYj4+PjA8dT4+PjA/MTowKSxWPVMsRT1ELFM9UixEPUMsUj1sLEM9aCxoPUIrY3wwLGw9VStxKyhoPj4+MDxCPj4+MD8xOjApfDAsVT1BLEI9eSxBPXoseT14LHo9ayx4PWcsZz1jK2J8MCxrPXErcysoZz4+PjA8Yz4+PjA/MTowKXwwfUo9Ri5sb3c9SitnO0YuaGlnaD13K2srKEo+Pj4wPGc+Pj4wPzE6MCk7Sz1lLmxvdz1LK3g7ZS5oaWdoPVgreisoSz4+PjA8eD4+PjA/MTowKTtMPW4ubG93PUwreTtuLmhpZ2g9WStBKyhMPj4+MDx5Pj4+MD8xOjApO009ci5sb3c9TStCO3IuaGlnaD1aK1UrKE0+Pj4wPEI+Pj4wPzE6MCk7Tj1HLmxvdz1OK2g7Ry5oaWdoPSQrbCsoTj4+PjA8aD4+PjA/MTowKTtPPUgubG93PU8rQztILmhpZ2g9YWErUisoTz4+PjA8Qz4+PjA/MTowKTtQPUkubG93PVArRDsKSS5oaWdoPWJhK1MrKFA+Pj4wPEQ+Pj4wPzE6MCk7UT1mLmxvdz1RK0U7Zi5oaWdoPWNhK1YrKFE+Pj4wPEU+Pj4wPzE6MCl9LF9kb0ZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fZGF0YSxkPWEud29yZHMsZj04KnRoaXMuX25EYXRhQnl0ZXMsZT04KmEuc2lnQnl0ZXM7ZFtlPj4+NV18PTEyODw8MjQtZSUzMjtkWyhlKzEyOD4+PjEwPDw1KSszMF09TWF0aC5mbG9vcihmLzQyOTQ5NjcyOTYpO2RbKGUrMTI4Pj4+MTA8PDUpKzMxXT1mO2Euc2lnQnl0ZXM9NCpkLmxlbmd0aDt0aGlzLl9wcm9jZXNzKCk7cmV0dXJuIHRoaXMuX2hhc2gudG9YMzIoKX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYT1yLmNsb25lLmNhbGwodGhpcyk7YS5faGFzaD10aGlzLl9oYXNoLmNsb25lKCk7cmV0dXJuIGF9LGJsb2NrU2l6ZTozMn0pO24uU0hBNTEyPXIuX2NyZWF0ZUhlbHBlcihlKTtuLkhtYWNTSEE1MTI9ci5fY3JlYXRlSG1hY0hlbHBlcihlKX0pKCk7CgovKgpDcnlwdG9KUyB2My4xLjIgc2hhMzg0LW1pbi5qcwpjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMKKGMpIDIwMDktMjAxMyBieSBKZWZmIE1vdHQuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCmNvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qcy93aWtpL0xpY2Vuc2UKKi8KKGZ1bmN0aW9uKCl7dmFyIGM9Q3J5cHRvSlMsYT1jLng2NCxiPWEuV29yZCxlPWEuV29yZEFycmF5LGE9Yy5hbGdvLGQ9YS5TSEE1MTIsYT1hLlNIQTM4ND1kLmV4dGVuZCh7X2RvUmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl9oYXNoPW5ldyBlLmluaXQoW25ldyBiLmluaXQoMzQxODA3MDM2NSwzMjM4MzcxMDMyKSxuZXcgYi5pbml0KDE2NTQyNzAyNTAsOTE0MTUwNjYzKSxuZXcgYi5pbml0KDI0Mzg1MjkzNzAsODEyNzAyOTk5KSxuZXcgYi5pbml0KDM1NTQ2MjM2MCw0MTQ0OTEyNjk3KSxuZXcgYi5pbml0KDE3MzE0MDU0MTUsNDI5MDc3NTg1NyksbmV3IGIuaW5pdCgyMzk0MTgwMjMxLDE3NTA2MDMwMjUpLG5ldyBiLmluaXQoMzY3NTAwODUyNSwxNjk0MDc2ODM5KSxuZXcgYi5pbml0KDEyMDMwNjI4MTMsMzIwNDA3NTQyOCldKX0sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgYT1kLl9kb0ZpbmFsaXplLmNhbGwodGhpcyk7YS5zaWdCeXRlcy09MTY7cmV0dXJuIGF9fSk7Yy5TSEEzODQ9CmQuX2NyZWF0ZUhlbHBlcihhKTtjLkhtYWNTSEEzODQ9ZC5fY3JlYXRlSG1hY0hlbHBlcihhKX0pKCk7CgovKgpDcnlwdG9KUyB2My4xLjIgcmlwZW1kMTYwLW1pbi5qcwpjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMKKGMpIDIwMDktMjAxMyBieSBKZWZmIE1vdHQuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCmNvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qcy93aWtpL0xpY2Vuc2UKKi8KLyoKCihjKSAyMDEyIGJ5IENlZHJpYyBNZXNuaWwuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCgpSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6CgogICAgLSBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuCiAgICAtIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi4KClRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgIkFTIElTIiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUIEhPTERFUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTOyBMT1NTIE9GIFVTRSwgREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZIFRIRU9SWSBPRiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuCiovCihmdW5jdGlvbigpe3ZhciBxPUNyeXB0b0pTLGQ9cS5saWIsbj1kLldvcmRBcnJheSxwPWQuSGFzaGVyLGQ9cS5hbGdvLHg9bi5jcmVhdGUoWzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsNyw0LDEzLDEsMTAsNiwxNSwzLDEyLDAsOSw1LDIsMTQsMTEsOCwzLDEwLDE0LDQsOSwxNSw4LDEsMiw3LDAsNiwxMywxMSw1LDEyLDEsOSwxMSwxMCwwLDgsMTIsNCwxMywzLDcsMTUsMTQsNSw2LDIsNCwwLDUsOSw3LDEyLDIsMTAsMTQsMSwzLDgsMTEsNiwxNSwxM10pLHk9bi5jcmVhdGUoWzUsMTQsNywwLDksMiwxMSw0LDEzLDYsMTUsOCwxLDEwLDMsMTIsNiwxMSwzLDcsMCwxMyw1LDEwLDE0LDE1LDgsMTIsNCw5LDEsMiwxNSw1LDEsMyw3LDE0LDYsOSwxMSw4LDEyLDIsMTAsMCw0LDEzLDgsNiw0LDEsMywxMSwxNSwwLDUsMTIsMiwxMyw5LDcsMTAsMTQsMTIsMTUsMTAsNCwxLDUsOCw3LDYsMiwxMywxNCwwLDMsOSwxMV0pLHo9bi5jcmVhdGUoWzExLDE0LDE1LDEyLAo1LDgsNyw5LDExLDEzLDE0LDE1LDYsNyw5LDgsNyw2LDgsMTMsMTEsOSw3LDE1LDcsMTIsMTUsOSwxMSw3LDEzLDEyLDExLDEzLDYsNywxNCw5LDEzLDE1LDE0LDgsMTMsNiw1LDEyLDcsNSwxMSwxMiwxNCwxNSwxNCwxNSw5LDgsOSwxNCw1LDYsOCw2LDUsMTIsOSwxNSw1LDExLDYsOCwxMywxMiw1LDEyLDEzLDE0LDExLDgsNSw2XSksQT1uLmNyZWF0ZShbOCw5LDksMTEsMTMsMTUsMTUsNSw3LDcsOCwxMSwxNCwxNCwxMiw2LDksMTMsMTUsNywxMiw4LDksMTEsNyw3LDEyLDcsNiwxNSwxMywxMSw5LDcsMTUsMTEsOCw2LDYsMTQsMTIsMTMsNSwxNCwxMywxMyw3LDUsMTUsNSw4LDExLDE0LDE0LDYsMTQsNiw5LDEyLDksMTIsNSwxNSw4LDgsNSwxMiw5LDEyLDUsMTQsNiw4LDEzLDYsNSwxNSwxMywxMSwxMV0pLEI9bi5jcmVhdGUoWzAsMTUxODUwMDI0OSwxODU5Nzc1MzkzLDI0MDA5NTk3MDgsMjg0MDg1MzgzOF0pLEM9bi5jcmVhdGUoWzEzNTI4Mjk5MjYsMTU0ODYwMzY4NCwxODM2MDcyNjkxLAoyMDUzOTk0MjE3LDBdKSxkPWQuUklQRU1EMTYwPXAuZXh0ZW5kKHtfZG9SZXNldDpmdW5jdGlvbigpe3RoaXMuX2hhc2g9bi5jcmVhdGUoWzE3MzI1ODQxOTMsNDAyMzIzMzQxNywyNTYyMzgzMTAyLDI3MTczMzg3OCwzMjg1Mzc3NTIwXSl9LF9kb1Byb2Nlc3NCbG9jazpmdW5jdGlvbihlLHYpe2Zvcih2YXIgYj0wOzE2PmI7YisrKXt2YXIgYz12K2IsZj1lW2NdO2VbY109KGY8PDh8Zj4+PjI0KSYxNjcxMTkzNXwoZjw8MjR8Zj4+PjgpJjQyNzgyNTUzNjB9dmFyIGM9dGhpcy5faGFzaC53b3JkcyxmPUIud29yZHMsZD1DLndvcmRzLG49eC53b3JkcyxxPXkud29yZHMscD16LndvcmRzLHc9QS53b3Jkcyx0LGcsaCxqLHIsdSxrLGwsbSxzO3U9dD1jWzBdO2s9Zz1jWzFdO2w9aD1jWzJdO209aj1jWzNdO3M9cj1jWzRdO2Zvcih2YXIgYSxiPTA7ODA+YjtiKz0xKWE9dCtlW3YrbltiXV18MCxhPTE2PmI/YSsoKGdeaF5qKStmWzBdKTozMj5iP2ErKChnJmh8fmcmaikrZlsxXSk6NDg+Yj8KYSsoKChnfH5oKV5qKStmWzJdKTo2ND5iP2ErKChnJmp8aCZ+aikrZlszXSk6YSsoKGdeKGh8fmopKStmWzRdKSxhfD0wLGE9YTw8cFtiXXxhPj4+MzItcFtiXSxhPWErcnwwLHQ9cixyPWosaj1oPDwxMHxoPj4+MjIsaD1nLGc9YSxhPXUrZVt2K3FbYl1dfDAsYT0xNj5iP2ErKChrXihsfH5tKSkrZFswXSk6MzI+Yj9hKygoayZtfGwmfm0pK2RbMV0pOjQ4PmI/YSsoKChrfH5sKV5tKStkWzJdKTo2ND5iP2ErKChrJmx8fmsmbSkrZFszXSk6YSsoKGtebF5tKStkWzRdKSxhfD0wLGE9YTw8d1tiXXxhPj4+MzItd1tiXSxhPWErc3wwLHU9cyxzPW0sbT1sPDwxMHxsPj4+MjIsbD1rLGs9YTthPWNbMV0raCttfDA7Y1sxXT1jWzJdK2orc3wwO2NbMl09Y1szXStyK3V8MDtjWzNdPWNbNF0rdCtrfDA7Y1s0XT1jWzBdK2crbHwwO2NbMF09YX0sX2RvRmluYWxpemU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9kYXRhLGQ9ZS53b3JkcyxiPTgqdGhpcy5fbkRhdGFCeXRlcyxjPTgqZS5zaWdCeXRlczsKZFtjPj4+NV18PTEyODw8MjQtYyUzMjtkWyhjKzY0Pj4+OTw8NCkrMTRdPShiPDw4fGI+Pj4yNCkmMTY3MTE5MzV8KGI8PDI0fGI+Pj44KSY0Mjc4MjU1MzYwO2Uuc2lnQnl0ZXM9NCooZC5sZW5ndGgrMSk7dGhpcy5fcHJvY2VzcygpO2U9dGhpcy5faGFzaDtkPWUud29yZHM7Zm9yKGI9MDs1PmI7YisrKWM9ZFtiXSxkW2JdPShjPDw4fGM+Pj4yNCkmMTY3MTE5MzV8KGM8PDI0fGM+Pj44KSY0Mjc4MjU1MzYwO3JldHVybiBlfSxjbG9uZTpmdW5jdGlvbigpe3ZhciBkPXAuY2xvbmUuY2FsbCh0aGlzKTtkLl9oYXNoPXRoaXMuX2hhc2guY2xvbmUoKTtyZXR1cm4gZH19KTtxLlJJUEVNRDE2MD1wLl9jcmVhdGVIZWxwZXIoZCk7cS5IbWFjUklQRU1EMTYwPXAuX2NyZWF0ZUhtYWNIZWxwZXIoZCl9KShNYXRoKTsKCi8qCkNyeXB0b0pTIHYzLjEuMiBobWFjLW1pbi5qcwpjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMKKGMpIDIwMDktMjAxMyBieSBKZWZmIE1vdHQuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCmNvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qcy93aWtpL0xpY2Vuc2UKKi8KKGZ1bmN0aW9uKCl7dmFyIGM9Q3J5cHRvSlMsaz1jLmVuYy5VdGY4O2MuYWxnby5ITUFDPWMubGliLkJhc2UuZXh0ZW5kKHtpbml0OmZ1bmN0aW9uKGEsYil7YT10aGlzLl9oYXNoZXI9bmV3IGEuaW5pdDsic3RyaW5nIj09dHlwZW9mIGImJihiPWsucGFyc2UoYikpO3ZhciBjPWEuYmxvY2tTaXplLGU9NCpjO2Iuc2lnQnl0ZXM+ZSYmKGI9YS5maW5hbGl6ZShiKSk7Yi5jbGFtcCgpO2Zvcih2YXIgZj10aGlzLl9vS2V5PWIuY2xvbmUoKSxnPXRoaXMuX2lLZXk9Yi5jbG9uZSgpLGg9Zi53b3JkcyxqPWcud29yZHMsZD0wO2Q8YztkKyspaFtkXV49MTU0OTU1NjgyOCxqW2RdXj05MDk1MjI0ODY7Zi5zaWdCeXRlcz1nLnNpZ0J5dGVzPWU7dGhpcy5yZXNldCgpfSxyZXNldDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX2hhc2hlcjthLnJlc2V0KCk7YS51cGRhdGUodGhpcy5faUtleSl9LHVwZGF0ZTpmdW5jdGlvbihhKXt0aGlzLl9oYXNoZXIudXBkYXRlKGEpO3JldHVybiB0aGlzfSxmaW5hbGl6ZTpmdW5jdGlvbihhKXt2YXIgYj0KdGhpcy5faGFzaGVyO2E9Yi5maW5hbGl6ZShhKTtiLnJlc2V0KCk7cmV0dXJuIGIuZmluYWxpemUodGhpcy5fb0tleS5jbG9uZSgpLmNvbmNhdChhKSl9fSl9KSgpOwoKLyoKQ3J5cHRvSlMgdjMuMS4yIHBia2RmMi1taW4uanMKY29kZS5nb29nbGUuY29tL3AvY3J5cHRvLWpzCihjKSAyMDA5LTIwMTMgYnkgSmVmZiBNb3R0LiBBbGwgcmlnaHRzIHJlc2VydmVkLgpjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMvd2lraS9MaWNlbnNlCiovCihmdW5jdGlvbigpe3ZhciBiPUNyeXB0b0pTLGE9Yi5saWIsZD1hLkJhc2UsbT1hLldvcmRBcnJheSxhPWIuYWxnbyxxPWEuSE1BQyxsPWEuUEJLREYyPWQuZXh0ZW5kKHtjZmc6ZC5leHRlbmQoe2tleVNpemU6NCxoYXNoZXI6YS5TSEExLGl0ZXJhdGlvbnM6MX0pLGluaXQ6ZnVuY3Rpb24oYSl7dGhpcy5jZmc9dGhpcy5jZmcuZXh0ZW5kKGEpfSxjb21wdXRlOmZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuY2ZnLGY9cS5jcmVhdGUoYy5oYXNoZXIsYSksZz1tLmNyZWF0ZSgpLGQ9bS5jcmVhdGUoWzFdKSxsPWcud29yZHMscj1kLndvcmRzLG49Yy5rZXlTaXplLGM9Yy5pdGVyYXRpb25zO2wubGVuZ3RoPG47KXt2YXIgaD1mLnVwZGF0ZShiKS5maW5hbGl6ZShkKTtmLnJlc2V0KCk7Zm9yKHZhciBqPWgud29yZHMscz1qLmxlbmd0aCxrPWgscD0xO3A8YztwKyspe2s9Zi5maW5hbGl6ZShrKTtmLnJlc2V0KCk7Zm9yKHZhciB0PWsud29yZHMsZT0wO2U8cztlKyspaltlXV49dFtlXX1nLmNvbmNhdChoKTsKclswXSsrfWcuc2lnQnl0ZXM9NCpuO3JldHVybiBnfX0pO2IuUEJLREYyPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gbC5jcmVhdGUoYykuY29tcHV0ZShhLGIpfX0pKCk7CgovKiEgKGMpIFRvbSBXdSB8IGh0dHA6Ly93d3ctY3Mtc3R1ZGVudHMuc3RhbmZvcmQuZWR1L350ancvanNibi8KICovCnZhciBiNjRtYXA9IkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky8iO3ZhciBiNjRwYWQ9Ij0iO2Z1bmN0aW9uIGhleDJiNjQoZCl7dmFyIGI7dmFyIGU7dmFyIGE9IiI7Zm9yKGI9MDtiKzM8PWQubGVuZ3RoO2IrPTMpe2U9cGFyc2VJbnQoZC5zdWJzdHJpbmcoYixiKzMpLDE2KTthKz1iNjRtYXAuY2hhckF0KGU+PjYpK2I2NG1hcC5jaGFyQXQoZSY2Myl9aWYoYisxPT1kLmxlbmd0aCl7ZT1wYXJzZUludChkLnN1YnN0cmluZyhiLGIrMSksMTYpO2ErPWI2NG1hcC5jaGFyQXQoZTw8Mil9ZWxzZXtpZihiKzI9PWQubGVuZ3RoKXtlPXBhcnNlSW50KGQuc3Vic3RyaW5nKGIsYisyKSwxNik7YSs9YjY0bWFwLmNoYXJBdChlPj4yKStiNjRtYXAuY2hhckF0KChlJjMpPDw0KX19aWYoYjY0cGFkKXt3aGlsZSgoYS5sZW5ndGgmMyk+MCl7YSs9YjY0cGFkfX1yZXR1cm4gYX1mdW5jdGlvbiBiNjR0b2hleChmKXt2YXIgZD0iIjt2YXIgZTt2YXIgYj0wO3ZhciBjO3ZhciBhO2ZvcihlPTA7ZTxmLmxlbmd0aDsrK2Upe2lmKGYuY2hhckF0KGUpPT1iNjRwYWQpe2JyZWFrfWE9YjY0bWFwLmluZGV4T2YoZi5jaGFyQXQoZSkpO2lmKGE8MCl7Y29udGludWV9aWYoYj09MCl7ZCs9aW50MmNoYXIoYT4+Mik7Yz1hJjM7Yj0xfWVsc2V7aWYoYj09MSl7ZCs9aW50MmNoYXIoKGM8PDIpfChhPj40KSk7Yz1hJjE1O2I9Mn1lbHNle2lmKGI9PTIpe2QrPWludDJjaGFyKGMpO2QrPWludDJjaGFyKGE+PjIpO2M9YSYzO2I9M31lbHNle2QrPWludDJjaGFyKChjPDwyKXwoYT4+NCkpO2QrPWludDJjaGFyKGEmMTUpO2I9MH19fX1pZihiPT0xKXtkKz1pbnQyY2hhcihjPDwyKX1yZXR1cm4gZH1mdW5jdGlvbiBiNjR0b0JBKGUpe3ZhciBkPWI2NHRvaGV4KGUpO3ZhciBjO3ZhciBiPW5ldyBBcnJheSgpO2ZvcihjPTA7MipjPGQubGVuZ3RoOysrYyl7YltjXT1wYXJzZUludChkLnN1YnN0cmluZygyKmMsMipjKzIpLDE2KX1yZXR1cm4gYn07Ci8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuLwogKi8KdmFyIGRiaXRzO3ZhciBjYW5hcnk9MjQ0ODM3ODE0MDk0NTkwO3ZhciBqX2xtPSgoY2FuYXJ5JjE2Nzc3MjE1KT09MTU3MTUwNzApO2Z1bmN0aW9uIEJpZ0ludGVnZXIoZSxkLGYpe2lmKGUhPW51bGwpe2lmKCJudW1iZXIiPT10eXBlb2YgZSl7dGhpcy5mcm9tTnVtYmVyKGUsZCxmKX1lbHNle2lmKGQ9PW51bGwmJiJzdHJpbmciIT10eXBlb2YgZSl7dGhpcy5mcm9tU3RyaW5nKGUsMjU2KX1lbHNle3RoaXMuZnJvbVN0cmluZyhlLGQpfX19fWZ1bmN0aW9uIG5iaSgpe3JldHVybiBuZXcgQmlnSW50ZWdlcihudWxsKX1mdW5jdGlvbiBhbTEoZixhLGIsZSxoLGcpe3doaWxlKC0tZz49MCl7dmFyIGQ9YSp0aGlzW2YrK10rYltlXStoO2g9TWF0aC5mbG9vcihkLzY3MTA4ODY0KTtiW2UrK109ZCY2NzEwODg2M31yZXR1cm4gaH1mdW5jdGlvbiBhbTIoZixxLHIsZSxvLGEpe3ZhciBrPXEmMzI3NjcscD1xPj4xNTt3aGlsZSgtLWE+PTApe3ZhciBkPXRoaXNbZl0mMzI3Njc7dmFyIGc9dGhpc1tmKytdPj4xNTt2YXIgYj1wKmQrZyprO2Q9aypkKygoYiYzMjc2Nyk8PDE1KStyW2VdKyhvJjEwNzM3NDE4MjMpO289KGQ+Pj4zMCkrKGI+Pj4xNSkrcCpnKyhvPj4+MzApO3JbZSsrXT1kJjEwNzM3NDE4MjN9cmV0dXJuIG99ZnVuY3Rpb24gYW0zKGYscSxyLGUsbyxhKXt2YXIgaz1xJjE2MzgzLHA9cT4+MTQ7d2hpbGUoLS1hPj0wKXt2YXIgZD10aGlzW2ZdJjE2MzgzO3ZhciBnPXRoaXNbZisrXT4+MTQ7dmFyIGI9cCpkK2cqaztkPWsqZCsoKGImMTYzODMpPDwxNCkrcltlXStvO289KGQ+PjI4KSsoYj4+MTQpK3AqZztyW2UrK109ZCYyNjg0MzU0NTV9cmV0dXJuIG99aWYoal9sbSYmKG5hdmlnYXRvci5hcHBOYW1lPT0iTWljcm9zb2Z0IEludGVybmV0IEV4cGxvcmVyIikpe0JpZ0ludGVnZXIucHJvdG90eXBlLmFtPWFtMjtkYml0cz0zMH1lbHNle2lmKGpfbG0mJihuYXZpZ2F0b3IuYXBwTmFtZSE9Ik5ldHNjYXBlIikpe0JpZ0ludGVnZXIucHJvdG90eXBlLmFtPWFtMTtkYml0cz0yNn1lbHNle0JpZ0ludGVnZXIucHJvdG90eXBlLmFtPWFtMztkYml0cz0yOH19QmlnSW50ZWdlci5wcm90b3R5cGUuREI9ZGJpdHM7QmlnSW50ZWdlci5wcm90b3R5cGUuRE09KCgxPDxkYml0cyktMSk7QmlnSW50ZWdlci5wcm90b3R5cGUuRFY9KDE8PGRiaXRzKTt2YXIgQklfRlA9NTI7QmlnSW50ZWdlci5wcm90b3R5cGUuRlY9TWF0aC5wb3coMixCSV9GUCk7QmlnSW50ZWdlci5wcm90b3R5cGUuRjE9QklfRlAtZGJpdHM7QmlnSW50ZWdlci5wcm90b3R5cGUuRjI9MipkYml0cy1CSV9GUDt2YXIgQklfUk09IjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiI7dmFyIEJJX1JDPW5ldyBBcnJheSgpO3ZhciBycix2djtycj0iMCIuY2hhckNvZGVBdCgwKTtmb3IodnY9MDt2djw9OTsrK3Z2KXtCSV9SQ1tycisrXT12dn1ycj0iYSIuY2hhckNvZGVBdCgwKTtmb3IodnY9MTA7dnY8MzY7Kyt2dil7QklfUkNbcnIrK109dnZ9cnI9IkEiLmNoYXJDb2RlQXQoMCk7Zm9yKHZ2PTEwO3Z2PDM2OysrdnYpe0JJX1JDW3JyKytdPXZ2fWZ1bmN0aW9uIGludDJjaGFyKGEpe3JldHVybiBCSV9STS5jaGFyQXQoYSl9ZnVuY3Rpb24gaW50QXQoYixhKXt2YXIgZD1CSV9SQ1tiLmNoYXJDb2RlQXQoYSldO3JldHVybihkPT1udWxsKT8tMTpkfWZ1bmN0aW9uIGJucENvcHlUbyhiKXtmb3IodmFyIGE9dGhpcy50LTE7YT49MDstLWEpe2JbYV09dGhpc1thXX1iLnQ9dGhpcy50O2Iucz10aGlzLnN9ZnVuY3Rpb24gYm5wRnJvbUludChhKXt0aGlzLnQ9MTt0aGlzLnM9KGE8MCk/LTE6MDtpZihhPjApe3RoaXNbMF09YX1lbHNle2lmKGE8LTEpe3RoaXNbMF09YSt0aGlzLkRWfWVsc2V7dGhpcy50PTB9fX1mdW5jdGlvbiBuYnYoYSl7dmFyIGI9bmJpKCk7Yi5mcm9tSW50KGEpO3JldHVybiBifWZ1bmN0aW9uIGJucEZyb21TdHJpbmcoaCxjKXt2YXIgZTtpZihjPT0xNil7ZT00fWVsc2V7aWYoYz09OCl7ZT0zfWVsc2V7aWYoYz09MjU2KXtlPTh9ZWxzZXtpZihjPT0yKXtlPTF9ZWxzZXtpZihjPT0zMil7ZT01fWVsc2V7aWYoYz09NCl7ZT0yfWVsc2V7dGhpcy5mcm9tUmFkaXgoaCxjKTtyZXR1cm59fX19fX10aGlzLnQ9MDt0aGlzLnM9MDt2YXIgZz1oLmxlbmd0aCxkPWZhbHNlLGY9MDt3aGlsZSgtLWc+PTApe3ZhciBhPShlPT04KT9oW2ddJjI1NTppbnRBdChoLGcpO2lmKGE8MCl7aWYoaC5jaGFyQXQoZyk9PSItIil7ZD10cnVlfWNvbnRpbnVlfWQ9ZmFsc2U7aWYoZj09MCl7dGhpc1t0aGlzLnQrK109YX1lbHNle2lmKGYrZT50aGlzLkRCKXt0aGlzW3RoaXMudC0xXXw9KGEmKCgxPDwodGhpcy5EQi1mKSktMSkpPDxmO3RoaXNbdGhpcy50KytdPShhPj4odGhpcy5EQi1mKSl9ZWxzZXt0aGlzW3RoaXMudC0xXXw9YTw8Zn19Zis9ZTtpZihmPj10aGlzLkRCKXtmLT10aGlzLkRCfX1pZihlPT04JiYoaFswXSYxMjgpIT0wKXt0aGlzLnM9LTE7aWYoZj4wKXt0aGlzW3RoaXMudC0xXXw9KCgxPDwodGhpcy5EQi1mKSktMSk8PGZ9fXRoaXMuY2xhbXAoKTtpZihkKXtCaWdJbnRlZ2VyLlpFUk8uc3ViVG8odGhpcyx0aGlzKX19ZnVuY3Rpb24gYm5wQ2xhbXAoKXt2YXIgYT10aGlzLnMmdGhpcy5ETTt3aGlsZSh0aGlzLnQ+MCYmdGhpc1t0aGlzLnQtMV09PWEpey0tdGhpcy50fX1mdW5jdGlvbiBiblRvU3RyaW5nKGMpe2lmKHRoaXMuczwwKXtyZXR1cm4iLSIrdGhpcy5uZWdhdGUoKS50b1N0cmluZyhjKX12YXIgZTtpZihjPT0xNil7ZT00fWVsc2V7aWYoYz09OCl7ZT0zfWVsc2V7aWYoYz09Mil7ZT0xfWVsc2V7aWYoYz09MzIpe2U9NX1lbHNle2lmKGM9PTQpe2U9Mn1lbHNle3JldHVybiB0aGlzLnRvUmFkaXgoYyl9fX19fXZhciBnPSgxPDxlKS0xLGwsYT1mYWxzZSxoPSIiLGY9dGhpcy50O3ZhciBqPXRoaXMuREItKGYqdGhpcy5EQiklZTtpZihmLS0+MCl7aWYoajx0aGlzLkRCJiYobD10aGlzW2ZdPj5qKT4wKXthPXRydWU7aD1pbnQyY2hhcihsKX13aGlsZShmPj0wKXtpZihqPGUpe2w9KHRoaXNbZl0mKCgxPDxqKS0xKSk8PChlLWopO2x8PXRoaXNbLS1mXT4+KGorPXRoaXMuREItZSl9ZWxzZXtsPSh0aGlzW2ZdPj4oai09ZSkpJmc7aWYoajw9MCl7ais9dGhpcy5EQjstLWZ9fWlmKGw+MCl7YT10cnVlfWlmKGEpe2grPWludDJjaGFyKGwpfX19cmV0dXJuIGE/aDoiMCJ9ZnVuY3Rpb24gYm5OZWdhdGUoKXt2YXIgYT1uYmkoKTtCaWdJbnRlZ2VyLlpFUk8uc3ViVG8odGhpcyxhKTtyZXR1cm4gYX1mdW5jdGlvbiBibkFicygpe3JldHVybih0aGlzLnM8MCk/dGhpcy5uZWdhdGUoKTp0aGlzfWZ1bmN0aW9uIGJuQ29tcGFyZVRvKGIpe3ZhciBkPXRoaXMucy1iLnM7aWYoZCE9MCl7cmV0dXJuIGR9dmFyIGM9dGhpcy50O2Q9Yy1iLnQ7aWYoZCE9MCl7cmV0dXJuKHRoaXMuczwwKT8tZDpkfXdoaWxlKC0tYz49MCl7aWYoKGQ9dGhpc1tjXS1iW2NdKSE9MCl7cmV0dXJuIGR9fXJldHVybiAwfWZ1bmN0aW9uIG5iaXRzKGEpe3ZhciBjPTEsYjtpZigoYj1hPj4+MTYpIT0wKXthPWI7Yys9MTZ9aWYoKGI9YT4+OCkhPTApe2E9YjtjKz04fWlmKChiPWE+PjQpIT0wKXthPWI7Yys9NH1pZigoYj1hPj4yKSE9MCl7YT1iO2MrPTJ9aWYoKGI9YT4+MSkhPTApe2E9YjtjKz0xfXJldHVybiBjfWZ1bmN0aW9uIGJuQml0TGVuZ3RoKCl7aWYodGhpcy50PD0wKXtyZXR1cm4gMH1yZXR1cm4gdGhpcy5EQioodGhpcy50LTEpK25iaXRzKHRoaXNbdGhpcy50LTFdXih0aGlzLnMmdGhpcy5ETSkpfWZ1bmN0aW9uIGJucERMU2hpZnRUbyhjLGIpe3ZhciBhO2ZvcihhPXRoaXMudC0xO2E+PTA7LS1hKXtiW2ErY109dGhpc1thXX1mb3IoYT1jLTE7YT49MDstLWEpe2JbYV09MH1iLnQ9dGhpcy50K2M7Yi5zPXRoaXMuc31mdW5jdGlvbiBibnBEUlNoaWZ0VG8oYyxiKXtmb3IodmFyIGE9YzthPHRoaXMudDsrK2Epe2JbYS1jXT10aGlzW2FdfWIudD1NYXRoLm1heCh0aGlzLnQtYywwKTtiLnM9dGhpcy5zfWZ1bmN0aW9uIGJucExTaGlmdFRvKGosZSl7dmFyIGI9aiV0aGlzLkRCO3ZhciBhPXRoaXMuREItYjt2YXIgZz0oMTw8YSktMTt2YXIgZj1NYXRoLmZsb29yKGovdGhpcy5EQiksaD0odGhpcy5zPDxiKSZ0aGlzLkRNLGQ7Zm9yKGQ9dGhpcy50LTE7ZD49MDstLWQpe2VbZCtmKzFdPSh0aGlzW2RdPj5hKXxoO2g9KHRoaXNbZF0mZyk8PGJ9Zm9yKGQ9Zi0xO2Q+PTA7LS1kKXtlW2RdPTB9ZVtmXT1oO2UudD10aGlzLnQrZisxO2Uucz10aGlzLnM7ZS5jbGFtcCgpfWZ1bmN0aW9uIGJucFJTaGlmdFRvKGcsZCl7ZC5zPXRoaXMuczt2YXIgZT1NYXRoLmZsb29yKGcvdGhpcy5EQik7aWYoZT49dGhpcy50KXtkLnQ9MDtyZXR1cm59dmFyIGI9ZyV0aGlzLkRCO3ZhciBhPXRoaXMuREItYjt2YXIgZj0oMTw8YiktMTtkWzBdPXRoaXNbZV0+PmI7Zm9yKHZhciBjPWUrMTtjPHRoaXMudDsrK2Mpe2RbYy1lLTFdfD0odGhpc1tjXSZmKTw8YTtkW2MtZV09dGhpc1tjXT4+Yn1pZihiPjApe2RbdGhpcy50LWUtMV18PSh0aGlzLnMmZik8PGF9ZC50PXRoaXMudC1lO2QuY2xhbXAoKX1mdW5jdGlvbiBibnBTdWJUbyhkLGYpe3ZhciBlPTAsZz0wLGI9TWF0aC5taW4oZC50LHRoaXMudCk7d2hpbGUoZTxiKXtnKz10aGlzW2VdLWRbZV07ZltlKytdPWcmdGhpcy5ETTtnPj49dGhpcy5EQn1pZihkLnQ8dGhpcy50KXtnLT1kLnM7d2hpbGUoZTx0aGlzLnQpe2crPXRoaXNbZV07ZltlKytdPWcmdGhpcy5ETTtnPj49dGhpcy5EQn1nKz10aGlzLnN9ZWxzZXtnKz10aGlzLnM7d2hpbGUoZTxkLnQpe2ctPWRbZV07ZltlKytdPWcmdGhpcy5ETTtnPj49dGhpcy5EQn1nLT1kLnN9Zi5zPShnPDApPy0xOjA7aWYoZzwtMSl7ZltlKytdPXRoaXMuRFYrZ31lbHNle2lmKGc+MCl7ZltlKytdPWd9fWYudD1lO2YuY2xhbXAoKX1mdW5jdGlvbiBibnBNdWx0aXBseVRvKGMsZSl7dmFyIGI9dGhpcy5hYnMoKSxmPWMuYWJzKCk7dmFyIGQ9Yi50O2UudD1kK2YudDt3aGlsZSgtLWQ+PTApe2VbZF09MH1mb3IoZD0wO2Q8Zi50OysrZCl7ZVtkK2IudF09Yi5hbSgwLGZbZF0sZSxkLDAsYi50KX1lLnM9MDtlLmNsYW1wKCk7aWYodGhpcy5zIT1jLnMpe0JpZ0ludGVnZXIuWkVSTy5zdWJUbyhlLGUpfX1mdW5jdGlvbiBibnBTcXVhcmVUbyhkKXt2YXIgYT10aGlzLmFicygpO3ZhciBiPWQudD0yKmEudDt3aGlsZSgtLWI+PTApe2RbYl09MH1mb3IoYj0wO2I8YS50LTE7KytiKXt2YXIgZT1hLmFtKGIsYVtiXSxkLDIqYiwwLDEpO2lmKChkW2IrYS50XSs9YS5hbShiKzEsMiphW2JdLGQsMipiKzEsZSxhLnQtYi0xKSk+PWEuRFYpe2RbYithLnRdLT1hLkRWO2RbYithLnQrMV09MX19aWYoZC50PjApe2RbZC50LTFdKz1hLmFtKGIsYVtiXSxkLDIqYiwwLDEpfWQucz0wO2QuY2xhbXAoKX1mdW5jdGlvbiBibnBEaXZSZW1UbyhuLGgsZyl7dmFyIHc9bi5hYnMoKTtpZih3LnQ8PTApe3JldHVybn12YXIgaz10aGlzLmFicygpO2lmKGsudDx3LnQpe2lmKGghPW51bGwpe2guZnJvbUludCgwKX1pZihnIT1udWxsKXt0aGlzLmNvcHlUbyhnKX1yZXR1cm59aWYoZz09bnVsbCl7Zz1uYmkoKX12YXIgZD1uYmkoKSxhPXRoaXMucyxsPW4uczt2YXIgdj10aGlzLkRCLW5iaXRzKHdbdy50LTFdKTtpZih2PjApe3cubFNoaWZ0VG8odixkKTtrLmxTaGlmdFRvKHYsZyl9ZWxzZXt3LmNvcHlUbyhkKTtrLmNvcHlUbyhnKX12YXIgcD1kLnQ7dmFyIGI9ZFtwLTFdO2lmKGI9PTApe3JldHVybn12YXIgbz1iKigxPDx0aGlzLkYxKSsoKHA+MSk/ZFtwLTJdPj50aGlzLkYyOjApO3ZhciBBPXRoaXMuRlYvbyx6PSgxPDx0aGlzLkYxKS9vLHg9MTw8dGhpcy5GMjt2YXIgdT1nLnQscz11LXAsZj0oaD09bnVsbCk/bmJpKCk6aDtkLmRsU2hpZnRUbyhzLGYpO2lmKGcuY29tcGFyZVRvKGYpPj0wKXtnW2cudCsrXT0xO2cuc3ViVG8oZixnKX1CaWdJbnRlZ2VyLk9ORS5kbFNoaWZ0VG8ocCxmKTtmLnN1YlRvKGQsZCk7d2hpbGUoZC50PHApe2RbZC50KytdPTB9d2hpbGUoLS1zPj0wKXt2YXIgYz0oZ1stLXVdPT1iKT90aGlzLkRNOk1hdGguZmxvb3IoZ1t1XSpBKyhnW3UtMV0reCkqeik7aWYoKGdbdV0rPWQuYW0oMCxjLGcscywwLHApKTxjKXtkLmRsU2hpZnRUbyhzLGYpO2cuc3ViVG8oZixnKTt3aGlsZShnW3VdPC0tYyl7Zy5zdWJUbyhmLGcpfX19aWYoaCE9bnVsbCl7Zy5kclNoaWZ0VG8ocCxoKTtpZihhIT1sKXtCaWdJbnRlZ2VyLlpFUk8uc3ViVG8oaCxoKX19Zy50PXA7Zy5jbGFtcCgpO2lmKHY+MCl7Zy5yU2hpZnRUbyh2LGcpfWlmKGE8MCl7QmlnSW50ZWdlci5aRVJPLnN1YlRvKGcsZyl9fWZ1bmN0aW9uIGJuTW9kKGIpe3ZhciBjPW5iaSgpO3RoaXMuYWJzKCkuZGl2UmVtVG8oYixudWxsLGMpO2lmKHRoaXMuczwwJiZjLmNvbXBhcmVUbyhCaWdJbnRlZ2VyLlpFUk8pPjApe2Iuc3ViVG8oYyxjKX1yZXR1cm4gY31mdW5jdGlvbiBDbGFzc2ljKGEpe3RoaXMubT1hfWZ1bmN0aW9uIGNDb252ZXJ0KGEpe2lmKGEuczwwfHxhLmNvbXBhcmVUbyh0aGlzLm0pPj0wKXtyZXR1cm4gYS5tb2QodGhpcy5tKX1lbHNle3JldHVybiBhfX1mdW5jdGlvbiBjUmV2ZXJ0KGEpe3JldHVybiBhfWZ1bmN0aW9uIGNSZWR1Y2UoYSl7YS5kaXZSZW1Ubyh0aGlzLm0sbnVsbCxhKX1mdW5jdGlvbiBjTXVsVG8oYSxjLGIpe2EubXVsdGlwbHlUbyhjLGIpO3RoaXMucmVkdWNlKGIpfWZ1bmN0aW9uIGNTcXJUbyhhLGIpe2Euc3F1YXJlVG8oYik7dGhpcy5yZWR1Y2UoYil9Q2xhc3NpYy5wcm90b3R5cGUuY29udmVydD1jQ29udmVydDtDbGFzc2ljLnByb3RvdHlwZS5yZXZlcnQ9Y1JldmVydDtDbGFzc2ljLnByb3RvdHlwZS5yZWR1Y2U9Y1JlZHVjZTtDbGFzc2ljLnByb3RvdHlwZS5tdWxUbz1jTXVsVG87Q2xhc3NpYy5wcm90b3R5cGUuc3FyVG89Y1NxclRvO2Z1bmN0aW9uIGJucEludkRpZ2l0KCl7aWYodGhpcy50PDEpe3JldHVybiAwfXZhciBhPXRoaXNbMF07aWYoKGEmMSk9PTApe3JldHVybiAwfXZhciBiPWEmMztiPShiKigyLShhJjE1KSpiKSkmMTU7Yj0oYiooMi0oYSYyNTUpKmIpKSYyNTU7Yj0oYiooMi0oKChhJjY1NTM1KSpiKSY2NTUzNSkpKSY2NTUzNTtiPShiKigyLWEqYiV0aGlzLkRWKSkldGhpcy5EVjtyZXR1cm4oYj4wKT90aGlzLkRWLWI6LWJ9ZnVuY3Rpb24gTW9udGdvbWVyeShhKXt0aGlzLm09YTt0aGlzLm1wPWEuaW52RGlnaXQoKTt0aGlzLm1wbD10aGlzLm1wJjMyNzY3O3RoaXMubXBoPXRoaXMubXA+PjE1O3RoaXMudW09KDE8PChhLkRCLTE1KSktMTt0aGlzLm10Mj0yKmEudH1mdW5jdGlvbiBtb250Q29udmVydChhKXt2YXIgYj1uYmkoKTthLmFicygpLmRsU2hpZnRUbyh0aGlzLm0udCxiKTtiLmRpdlJlbVRvKHRoaXMubSxudWxsLGIpO2lmKGEuczwwJiZiLmNvbXBhcmVUbyhCaWdJbnRlZ2VyLlpFUk8pPjApe3RoaXMubS5zdWJUbyhiLGIpfXJldHVybiBifWZ1bmN0aW9uIG1vbnRSZXZlcnQoYSl7dmFyIGI9bmJpKCk7YS5jb3B5VG8oYik7dGhpcy5yZWR1Y2UoYik7cmV0dXJuIGJ9ZnVuY3Rpb24gbW9udFJlZHVjZShhKXt3aGlsZShhLnQ8PXRoaXMubXQyKXthW2EudCsrXT0wfWZvcih2YXIgYz0wO2M8dGhpcy5tLnQ7KytjKXt2YXIgYj1hW2NdJjMyNzY3O3ZhciBkPShiKnRoaXMubXBsKygoKGIqdGhpcy5tcGgrKGFbY10+PjE1KSp0aGlzLm1wbCkmdGhpcy51bSk8PDE1KSkmYS5ETTtiPWMrdGhpcy5tLnQ7YVtiXSs9dGhpcy5tLmFtKDAsZCxhLGMsMCx0aGlzLm0udCk7d2hpbGUoYVtiXT49YS5EVil7YVtiXS09YS5EVjthWysrYl0rK319YS5jbGFtcCgpO2EuZHJTaGlmdFRvKHRoaXMubS50LGEpO2lmKGEuY29tcGFyZVRvKHRoaXMubSk+PTApe2Euc3ViVG8odGhpcy5tLGEpfX1mdW5jdGlvbiBtb250U3FyVG8oYSxiKXthLnNxdWFyZVRvKGIpO3RoaXMucmVkdWNlKGIpfWZ1bmN0aW9uIG1vbnRNdWxUbyhhLGMsYil7YS5tdWx0aXBseVRvKGMsYik7dGhpcy5yZWR1Y2UoYil9TW9udGdvbWVyeS5wcm90b3R5cGUuY29udmVydD1tb250Q29udmVydDtNb250Z29tZXJ5LnByb3RvdHlwZS5yZXZlcnQ9bW9udFJldmVydDtNb250Z29tZXJ5LnByb3RvdHlwZS5yZWR1Y2U9bW9udFJlZHVjZTtNb250Z29tZXJ5LnByb3RvdHlwZS5tdWxUbz1tb250TXVsVG87TW9udGdvbWVyeS5wcm90b3R5cGUuc3FyVG89bW9udFNxclRvO2Z1bmN0aW9uIGJucElzRXZlbigpe3JldHVybigodGhpcy50PjApPyh0aGlzWzBdJjEpOnRoaXMucyk9PTB9ZnVuY3Rpb24gYm5wRXhwKGgsail7aWYoaD40Mjk0OTY3Mjk1fHxoPDEpe3JldHVybiBCaWdJbnRlZ2VyLk9ORX12YXIgZj1uYmkoKSxhPW5iaSgpLGQ9ai5jb252ZXJ0KHRoaXMpLGM9bmJpdHMoaCktMTtkLmNvcHlUbyhmKTt3aGlsZSgtLWM+PTApe2ouc3FyVG8oZixhKTtpZigoaCYoMTw8YykpPjApe2oubXVsVG8oYSxkLGYpfWVsc2V7dmFyIGI9ZjtmPWE7YT1ifX1yZXR1cm4gai5yZXZlcnQoZil9ZnVuY3Rpb24gYm5Nb2RQb3dJbnQoYixhKXt2YXIgYztpZihiPDI1Nnx8YS5pc0V2ZW4oKSl7Yz1uZXcgQ2xhc3NpYyhhKX1lbHNle2M9bmV3IE1vbnRnb21lcnkoYSl9cmV0dXJuIHRoaXMuZXhwKGIsYyl9QmlnSW50ZWdlci5wcm90b3R5cGUuY29weVRvPWJucENvcHlUbztCaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tSW50PWJucEZyb21JbnQ7QmlnSW50ZWdlci5wcm90b3R5cGUuZnJvbVN0cmluZz1ibnBGcm9tU3RyaW5nO0JpZ0ludGVnZXIucHJvdG90eXBlLmNsYW1wPWJucENsYW1wO0JpZ0ludGVnZXIucHJvdG90eXBlLmRsU2hpZnRUbz1ibnBETFNoaWZ0VG87QmlnSW50ZWdlci5wcm90b3R5cGUuZHJTaGlmdFRvPWJucERSU2hpZnRUbztCaWdJbnRlZ2VyLnByb3RvdHlwZS5sU2hpZnRUbz1ibnBMU2hpZnRUbztCaWdJbnRlZ2VyLnByb3RvdHlwZS5yU2hpZnRUbz1ibnBSU2hpZnRUbztCaWdJbnRlZ2VyLnByb3RvdHlwZS5zdWJUbz1ibnBTdWJUbztCaWdJbnRlZ2VyLnByb3RvdHlwZS5tdWx0aXBseVRvPWJucE11bHRpcGx5VG87QmlnSW50ZWdlci5wcm90b3R5cGUuc3F1YXJlVG89Ym5wU3F1YXJlVG87QmlnSW50ZWdlci5wcm90b3R5cGUuZGl2UmVtVG89Ym5wRGl2UmVtVG87QmlnSW50ZWdlci5wcm90b3R5cGUuaW52RGlnaXQ9Ym5wSW52RGlnaXQ7QmlnSW50ZWdlci5wcm90b3R5cGUuaXNFdmVuPWJucElzRXZlbjtCaWdJbnRlZ2VyLnByb3RvdHlwZS5leHA9Ym5wRXhwO0JpZ0ludGVnZXIucHJvdG90eXBlLnRvU3RyaW5nPWJuVG9TdHJpbmc7QmlnSW50ZWdlci5wcm90b3R5cGUubmVnYXRlPWJuTmVnYXRlO0JpZ0ludGVnZXIucHJvdG90eXBlLmFicz1ibkFicztCaWdJbnRlZ2VyLnByb3RvdHlwZS5jb21wYXJlVG89Ym5Db21wYXJlVG87QmlnSW50ZWdlci5wcm90b3R5cGUuYml0TGVuZ3RoPWJuQml0TGVuZ3RoO0JpZ0ludGVnZXIucHJvdG90eXBlLm1vZD1ibk1vZDtCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RQb3dJbnQ9Ym5Nb2RQb3dJbnQ7QmlnSW50ZWdlci5aRVJPPW5idigwKTtCaWdJbnRlZ2VyLk9ORT1uYnYoMSk7Ci8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuLwogKi8KZnVuY3Rpb24gYm5DbG9uZSgpe3ZhciBhPW5iaSgpO3RoaXMuY29weVRvKGEpO3JldHVybiBhfWZ1bmN0aW9uIGJuSW50VmFsdWUoKXtpZih0aGlzLnM8MCl7aWYodGhpcy50PT0xKXtyZXR1cm4gdGhpc1swXS10aGlzLkRWfWVsc2V7aWYodGhpcy50PT0wKXtyZXR1cm4gLTF9fX1lbHNle2lmKHRoaXMudD09MSl7cmV0dXJuIHRoaXNbMF19ZWxzZXtpZih0aGlzLnQ9PTApe3JldHVybiAwfX19cmV0dXJuKCh0aGlzWzFdJigoMTw8KDMyLXRoaXMuREIpKS0xKSk8PHRoaXMuREIpfHRoaXNbMF19ZnVuY3Rpb24gYm5CeXRlVmFsdWUoKXtyZXR1cm4odGhpcy50PT0wKT90aGlzLnM6KHRoaXNbMF08PDI0KT4+MjR9ZnVuY3Rpb24gYm5TaG9ydFZhbHVlKCl7cmV0dXJuKHRoaXMudD09MCk/dGhpcy5zOih0aGlzWzBdPDwxNik+PjE2fWZ1bmN0aW9uIGJucENodW5rU2l6ZShhKXtyZXR1cm4gTWF0aC5mbG9vcihNYXRoLkxOMip0aGlzLkRCL01hdGgubG9nKGEpKX1mdW5jdGlvbiBiblNpZ051bSgpe2lmKHRoaXMuczwwKXtyZXR1cm4gLTF9ZWxzZXtpZih0aGlzLnQ8PTB8fCh0aGlzLnQ9PTEmJnRoaXNbMF08PTApKXtyZXR1cm4gMH1lbHNle3JldHVybiAxfX19ZnVuY3Rpb24gYm5wVG9SYWRpeChjKXtpZihjPT1udWxsKXtjPTEwfWlmKHRoaXMuc2lnbnVtKCk9PTB8fGM8Mnx8Yz4zNil7cmV0dXJuIjAifXZhciBmPXRoaXMuY2h1bmtTaXplKGMpO3ZhciBlPU1hdGgucG93KGMsZik7dmFyIGk9bmJ2KGUpLGo9bmJpKCksaD1uYmkoKSxnPSIiO3RoaXMuZGl2UmVtVG8oaSxqLGgpO3doaWxlKGouc2lnbnVtKCk+MCl7Zz0oZStoLmludFZhbHVlKCkpLnRvU3RyaW5nKGMpLnN1YnN0cigxKStnO2ouZGl2UmVtVG8oaSxqLGgpfXJldHVybiBoLmludFZhbHVlKCkudG9TdHJpbmcoYykrZ31mdW5jdGlvbiBibnBGcm9tUmFkaXgobSxoKXt0aGlzLmZyb21JbnQoMCk7aWYoaD09bnVsbCl7aD0xMH12YXIgZj10aGlzLmNodW5rU2l6ZShoKTt2YXIgZz1NYXRoLnBvdyhoLGYpLGU9ZmFsc2UsYT0wLGw9MDtmb3IodmFyIGM9MDtjPG0ubGVuZ3RoOysrYyl7dmFyIGs9aW50QXQobSxjKTtpZihrPDApe2lmKG0uY2hhckF0KGMpPT0iLSImJnRoaXMuc2lnbnVtKCk9PTApe2U9dHJ1ZX1jb250aW51ZX1sPWgqbCtrO2lmKCsrYT49Zil7dGhpcy5kTXVsdGlwbHkoZyk7dGhpcy5kQWRkT2Zmc2V0KGwsMCk7YT0wO2w9MH19aWYoYT4wKXt0aGlzLmRNdWx0aXBseShNYXRoLnBvdyhoLGEpKTt0aGlzLmRBZGRPZmZzZXQobCwwKX1pZihlKXtCaWdJbnRlZ2VyLlpFUk8uc3ViVG8odGhpcyx0aGlzKX19ZnVuY3Rpb24gYm5wRnJvbU51bWJlcihmLGUsaCl7aWYoIm51bWJlciI9PXR5cGVvZiBlKXtpZihmPDIpe3RoaXMuZnJvbUludCgxKX1lbHNle3RoaXMuZnJvbU51bWJlcihmLGgpO2lmKCF0aGlzLnRlc3RCaXQoZi0xKSl7dGhpcy5iaXR3aXNlVG8oQmlnSW50ZWdlci5PTkUuc2hpZnRMZWZ0KGYtMSksb3Bfb3IsdGhpcyl9aWYodGhpcy5pc0V2ZW4oKSl7dGhpcy5kQWRkT2Zmc2V0KDEsMCl9d2hpbGUoIXRoaXMuaXNQcm9iYWJsZVByaW1lKGUpKXt0aGlzLmRBZGRPZmZzZXQoMiwwKTtpZih0aGlzLmJpdExlbmd0aCgpPmYpe3RoaXMuc3ViVG8oQmlnSW50ZWdlci5PTkUuc2hpZnRMZWZ0KGYtMSksdGhpcyl9fX19ZWxzZXt2YXIgZD1uZXcgQXJyYXkoKSxnPWYmNztkLmxlbmd0aD0oZj4+MykrMTtlLm5leHRCeXRlcyhkKTtpZihnPjApe2RbMF0mPSgoMTw8ZyktMSl9ZWxzZXtkWzBdPTB9dGhpcy5mcm9tU3RyaW5nKGQsMjU2KX19ZnVuY3Rpb24gYm5Ub0J5dGVBcnJheSgpe3ZhciBiPXRoaXMudCxjPW5ldyBBcnJheSgpO2NbMF09dGhpcy5zO3ZhciBlPXRoaXMuREItKGIqdGhpcy5EQiklOCxmLGE9MDtpZihiLS0+MCl7aWYoZTx0aGlzLkRCJiYoZj10aGlzW2JdPj5lKSE9KHRoaXMucyZ0aGlzLkRNKT4+ZSl7Y1thKytdPWZ8KHRoaXMuczw8KHRoaXMuREItZSkpfXdoaWxlKGI+PTApe2lmKGU8OCl7Zj0odGhpc1tiXSYoKDE8PGUpLTEpKTw8KDgtZSk7Znw9dGhpc1stLWJdPj4oZSs9dGhpcy5EQi04KX1lbHNle2Y9KHRoaXNbYl0+PihlLT04KSkmMjU1O2lmKGU8PTApe2UrPXRoaXMuREI7LS1ifX1pZigoZiYxMjgpIT0wKXtmfD0tMjU2fWlmKGE9PTAmJih0aGlzLnMmMTI4KSE9KGYmMTI4KSl7KythfWlmKGE+MHx8ZiE9dGhpcy5zKXtjW2ErK109Zn19fXJldHVybiBjfWZ1bmN0aW9uIGJuRXF1YWxzKGIpe3JldHVybih0aGlzLmNvbXBhcmVUbyhiKT09MCl9ZnVuY3Rpb24gYm5NaW4oYil7cmV0dXJuKHRoaXMuY29tcGFyZVRvKGIpPDApP3RoaXM6Yn1mdW5jdGlvbiBibk1heChiKXtyZXR1cm4odGhpcy5jb21wYXJlVG8oYik+MCk/dGhpczpifWZ1bmN0aW9uIGJucEJpdHdpc2VUbyhjLGgsZSl7dmFyIGQsZyxiPU1hdGgubWluKGMudCx0aGlzLnQpO2ZvcihkPTA7ZDxiOysrZCl7ZVtkXT1oKHRoaXNbZF0sY1tkXSl9aWYoYy50PHRoaXMudCl7Zz1jLnMmdGhpcy5ETTtmb3IoZD1iO2Q8dGhpcy50OysrZCl7ZVtkXT1oKHRoaXNbZF0sZyl9ZS50PXRoaXMudH1lbHNle2c9dGhpcy5zJnRoaXMuRE07Zm9yKGQ9YjtkPGMudDsrK2Qpe2VbZF09aChnLGNbZF0pfWUudD1jLnR9ZS5zPWgodGhpcy5zLGMucyk7ZS5jbGFtcCgpfWZ1bmN0aW9uIG9wX2FuZChhLGIpe3JldHVybiBhJmJ9ZnVuY3Rpb24gYm5BbmQoYil7dmFyIGM9bmJpKCk7dGhpcy5iaXR3aXNlVG8oYixvcF9hbmQsYyk7cmV0dXJuIGN9ZnVuY3Rpb24gb3Bfb3IoYSxiKXtyZXR1cm4gYXxifWZ1bmN0aW9uIGJuT3IoYil7dmFyIGM9bmJpKCk7dGhpcy5iaXR3aXNlVG8oYixvcF9vcixjKTtyZXR1cm4gY31mdW5jdGlvbiBvcF94b3IoYSxiKXtyZXR1cm4gYV5ifWZ1bmN0aW9uIGJuWG9yKGIpe3ZhciBjPW5iaSgpO3RoaXMuYml0d2lzZVRvKGIsb3BfeG9yLGMpO3JldHVybiBjfWZ1bmN0aW9uIG9wX2FuZG5vdChhLGIpe3JldHVybiBhJn5ifWZ1bmN0aW9uIGJuQW5kTm90KGIpe3ZhciBjPW5iaSgpO3RoaXMuYml0d2lzZVRvKGIsb3BfYW5kbm90LGMpO3JldHVybiBjfWZ1bmN0aW9uIGJuTm90KCl7dmFyIGI9bmJpKCk7Zm9yKHZhciBhPTA7YTx0aGlzLnQ7KythKXtiW2FdPXRoaXMuRE0mfnRoaXNbYV19Yi50PXRoaXMudDtiLnM9fnRoaXMucztyZXR1cm4gYn1mdW5jdGlvbiBiblNoaWZ0TGVmdChiKXt2YXIgYT1uYmkoKTtpZihiPDApe3RoaXMuclNoaWZ0VG8oLWIsYSl9ZWxzZXt0aGlzLmxTaGlmdFRvKGIsYSl9cmV0dXJuIGF9ZnVuY3Rpb24gYm5TaGlmdFJpZ2h0KGIpe3ZhciBhPW5iaSgpO2lmKGI8MCl7dGhpcy5sU2hpZnRUbygtYixhKX1lbHNle3RoaXMuclNoaWZ0VG8oYixhKX1yZXR1cm4gYX1mdW5jdGlvbiBsYml0KGEpe2lmKGE9PTApe3JldHVybiAtMX12YXIgYj0wO2lmKChhJjY1NTM1KT09MCl7YT4+PTE2O2IrPTE2fWlmKChhJjI1NSk9PTApe2E+Pj04O2IrPTh9aWYoKGEmMTUpPT0wKXthPj49NDtiKz00fWlmKChhJjMpPT0wKXthPj49MjtiKz0yfWlmKChhJjEpPT0wKXsrK2J9cmV0dXJuIGJ9ZnVuY3Rpb24gYm5HZXRMb3dlc3RTZXRCaXQoKXtmb3IodmFyIGE9MDthPHRoaXMudDsrK2Epe2lmKHRoaXNbYV0hPTApe3JldHVybiBhKnRoaXMuREIrbGJpdCh0aGlzW2FdKX19aWYodGhpcy5zPDApe3JldHVybiB0aGlzLnQqdGhpcy5EQn1yZXR1cm4gLTF9ZnVuY3Rpb24gY2JpdChhKXt2YXIgYj0wO3doaWxlKGEhPTApe2EmPWEtMTsrK2J9cmV0dXJuIGJ9ZnVuY3Rpb24gYm5CaXRDb3VudCgpe3ZhciBjPTAsYT10aGlzLnMmdGhpcy5ETTtmb3IodmFyIGI9MDtiPHRoaXMudDsrK2Ipe2MrPWNiaXQodGhpc1tiXV5hKX1yZXR1cm4gY31mdW5jdGlvbiBiblRlc3RCaXQoYil7dmFyIGE9TWF0aC5mbG9vcihiL3RoaXMuREIpO2lmKGE+PXRoaXMudCl7cmV0dXJuKHRoaXMucyE9MCl9cmV0dXJuKCh0aGlzW2FdJigxPDwoYiV0aGlzLkRCKSkpIT0wKX1mdW5jdGlvbiBibnBDaGFuZ2VCaXQoYyxiKXt2YXIgYT1CaWdJbnRlZ2VyLk9ORS5zaGlmdExlZnQoYyk7dGhpcy5iaXR3aXNlVG8oYSxiLGEpO3JldHVybiBhfWZ1bmN0aW9uIGJuU2V0Qml0KGEpe3JldHVybiB0aGlzLmNoYW5nZUJpdChhLG9wX29yKX1mdW5jdGlvbiBibkNsZWFyQml0KGEpe3JldHVybiB0aGlzLmNoYW5nZUJpdChhLG9wX2FuZG5vdCl9ZnVuY3Rpb24gYm5GbGlwQml0KGEpe3JldHVybiB0aGlzLmNoYW5nZUJpdChhLG9wX3hvcil9ZnVuY3Rpb24gYm5wQWRkVG8oZCxmKXt2YXIgZT0wLGc9MCxiPU1hdGgubWluKGQudCx0aGlzLnQpO3doaWxlKGU8Yil7Zys9dGhpc1tlXStkW2VdO2ZbZSsrXT1nJnRoaXMuRE07Zz4+PXRoaXMuREJ9aWYoZC50PHRoaXMudCl7Zys9ZC5zO3doaWxlKGU8dGhpcy50KXtnKz10aGlzW2VdO2ZbZSsrXT1nJnRoaXMuRE07Zz4+PXRoaXMuREJ9Zys9dGhpcy5zfWVsc2V7Zys9dGhpcy5zO3doaWxlKGU8ZC50KXtnKz1kW2VdO2ZbZSsrXT1nJnRoaXMuRE07Zz4+PXRoaXMuREJ9Zys9ZC5zfWYucz0oZzwwKT8tMTowO2lmKGc+MCl7ZltlKytdPWd9ZWxzZXtpZihnPC0xKXtmW2UrK109dGhpcy5EVitnfX1mLnQ9ZTtmLmNsYW1wKCl9ZnVuY3Rpb24gYm5BZGQoYil7dmFyIGM9bmJpKCk7dGhpcy5hZGRUbyhiLGMpO3JldHVybiBjfWZ1bmN0aW9uIGJuU3VidHJhY3QoYil7dmFyIGM9bmJpKCk7dGhpcy5zdWJUbyhiLGMpO3JldHVybiBjfWZ1bmN0aW9uIGJuTXVsdGlwbHkoYil7dmFyIGM9bmJpKCk7dGhpcy5tdWx0aXBseVRvKGIsYyk7cmV0dXJuIGN9ZnVuY3Rpb24gYm5TcXVhcmUoKXt2YXIgYT1uYmkoKTt0aGlzLnNxdWFyZVRvKGEpO3JldHVybiBhfWZ1bmN0aW9uIGJuRGl2aWRlKGIpe3ZhciBjPW5iaSgpO3RoaXMuZGl2UmVtVG8oYixjLG51bGwpO3JldHVybiBjfWZ1bmN0aW9uIGJuUmVtYWluZGVyKGIpe3ZhciBjPW5iaSgpO3RoaXMuZGl2UmVtVG8oYixudWxsLGMpO3JldHVybiBjfWZ1bmN0aW9uIGJuRGl2aWRlQW5kUmVtYWluZGVyKGIpe3ZhciBkPW5iaSgpLGM9bmJpKCk7dGhpcy5kaXZSZW1UbyhiLGQsYyk7cmV0dXJuIG5ldyBBcnJheShkLGMpfWZ1bmN0aW9uIGJucERNdWx0aXBseShhKXt0aGlzW3RoaXMudF09dGhpcy5hbSgwLGEtMSx0aGlzLDAsMCx0aGlzLnQpOysrdGhpcy50O3RoaXMuY2xhbXAoKX1mdW5jdGlvbiBibnBEQWRkT2Zmc2V0KGIsYSl7aWYoYj09MCl7cmV0dXJufXdoaWxlKHRoaXMudDw9YSl7dGhpc1t0aGlzLnQrK109MH10aGlzW2FdKz1iO3doaWxlKHRoaXNbYV0+PXRoaXMuRFYpe3RoaXNbYV0tPXRoaXMuRFY7aWYoKythPj10aGlzLnQpe3RoaXNbdGhpcy50KytdPTB9Kyt0aGlzW2FdfX1mdW5jdGlvbiBOdWxsRXhwKCl7fWZ1bmN0aW9uIG5Ob3AoYSl7cmV0dXJuIGF9ZnVuY3Rpb24gbk11bFRvKGEsYyxiKXthLm11bHRpcGx5VG8oYyxiKX1mdW5jdGlvbiBuU3FyVG8oYSxiKXthLnNxdWFyZVRvKGIpfU51bGxFeHAucHJvdG90eXBlLmNvbnZlcnQ9bk5vcDtOdWxsRXhwLnByb3RvdHlwZS5yZXZlcnQ9bk5vcDtOdWxsRXhwLnByb3RvdHlwZS5tdWxUbz1uTXVsVG87TnVsbEV4cC5wcm90b3R5cGUuc3FyVG89blNxclRvO2Z1bmN0aW9uIGJuUG93KGEpe3JldHVybiB0aGlzLmV4cChhLG5ldyBOdWxsRXhwKCkpfWZ1bmN0aW9uIGJucE11bHRpcGx5TG93ZXJUbyhiLGYsZSl7dmFyIGQ9TWF0aC5taW4odGhpcy50K2IudCxmKTtlLnM9MDtlLnQ9ZDt3aGlsZShkPjApe2VbLS1kXT0wfXZhciBjO2ZvcihjPWUudC10aGlzLnQ7ZDxjOysrZCl7ZVtkK3RoaXMudF09dGhpcy5hbSgwLGJbZF0sZSxkLDAsdGhpcy50KX1mb3IoYz1NYXRoLm1pbihiLnQsZik7ZDxjOysrZCl7dGhpcy5hbSgwLGJbZF0sZSxkLDAsZi1kKX1lLmNsYW1wKCl9ZnVuY3Rpb24gYm5wTXVsdGlwbHlVcHBlclRvKGIsZSxkKXstLWU7dmFyIGM9ZC50PXRoaXMudCtiLnQtZTtkLnM9MDt3aGlsZSgtLWM+PTApe2RbY109MH1mb3IoYz1NYXRoLm1heChlLXRoaXMudCwwKTtjPGIudDsrK2Mpe2RbdGhpcy50K2MtZV09dGhpcy5hbShlLWMsYltjXSxkLDAsMCx0aGlzLnQrYy1lKX1kLmNsYW1wKCk7ZC5kclNoaWZ0VG8oMSxkKX1mdW5jdGlvbiBCYXJyZXR0KGEpe3RoaXMucjI9bmJpKCk7dGhpcy5xMz1uYmkoKTtCaWdJbnRlZ2VyLk9ORS5kbFNoaWZ0VG8oMiphLnQsdGhpcy5yMik7dGhpcy5tdT10aGlzLnIyLmRpdmlkZShhKTt0aGlzLm09YX1mdW5jdGlvbiBiYXJyZXR0Q29udmVydChhKXtpZihhLnM8MHx8YS50PjIqdGhpcy5tLnQpe3JldHVybiBhLm1vZCh0aGlzLm0pfWVsc2V7aWYoYS5jb21wYXJlVG8odGhpcy5tKTwwKXtyZXR1cm4gYX1lbHNle3ZhciBiPW5iaSgpO2EuY29weVRvKGIpO3RoaXMucmVkdWNlKGIpO3JldHVybiBifX19ZnVuY3Rpb24gYmFycmV0dFJldmVydChhKXtyZXR1cm4gYX1mdW5jdGlvbiBiYXJyZXR0UmVkdWNlKGEpe2EuZHJTaGlmdFRvKHRoaXMubS50LTEsdGhpcy5yMik7aWYoYS50PnRoaXMubS50KzEpe2EudD10aGlzLm0udCsxO2EuY2xhbXAoKX10aGlzLm11Lm11bHRpcGx5VXBwZXJUbyh0aGlzLnIyLHRoaXMubS50KzEsdGhpcy5xMyk7dGhpcy5tLm11bHRpcGx5TG93ZXJUbyh0aGlzLnEzLHRoaXMubS50KzEsdGhpcy5yMik7d2hpbGUoYS5jb21wYXJlVG8odGhpcy5yMik8MCl7YS5kQWRkT2Zmc2V0KDEsdGhpcy5tLnQrMSl9YS5zdWJUbyh0aGlzLnIyLGEpO3doaWxlKGEuY29tcGFyZVRvKHRoaXMubSk+PTApe2Euc3ViVG8odGhpcy5tLGEpfX1mdW5jdGlvbiBiYXJyZXR0U3FyVG8oYSxiKXthLnNxdWFyZVRvKGIpO3RoaXMucmVkdWNlKGIpfWZ1bmN0aW9uIGJhcnJldHRNdWxUbyhhLGMsYil7YS5tdWx0aXBseVRvKGMsYik7dGhpcy5yZWR1Y2UoYil9QmFycmV0dC5wcm90b3R5cGUuY29udmVydD1iYXJyZXR0Q29udmVydDtCYXJyZXR0LnByb3RvdHlwZS5yZXZlcnQ9YmFycmV0dFJldmVydDtCYXJyZXR0LnByb3RvdHlwZS5yZWR1Y2U9YmFycmV0dFJlZHVjZTtCYXJyZXR0LnByb3RvdHlwZS5tdWxUbz1iYXJyZXR0TXVsVG87QmFycmV0dC5wcm90b3R5cGUuc3FyVG89YmFycmV0dFNxclRvO2Z1bmN0aW9uIGJuTW9kUG93KHEsZil7dmFyIG89cS5iaXRMZW5ndGgoKSxoLGI9bmJ2KDEpLHY7aWYobzw9MCl7cmV0dXJuIGJ9ZWxzZXtpZihvPDE4KXtoPTF9ZWxzZXtpZihvPDQ4KXtoPTN9ZWxzZXtpZihvPDE0NCl7aD00fWVsc2V7aWYobzw3Njgpe2g9NX1lbHNle2g9Nn19fX19aWYobzw4KXt2PW5ldyBDbGFzc2ljKGYpfWVsc2V7aWYoZi5pc0V2ZW4oKSl7dj1uZXcgQmFycmV0dChmKX1lbHNle3Y9bmV3IE1vbnRnb21lcnkoZil9fXZhciBwPW5ldyBBcnJheSgpLGQ9MyxzPWgtMSxhPSgxPDxoKS0xO3BbMV09di5jb252ZXJ0KHRoaXMpO2lmKGg+MSl7dmFyIEE9bmJpKCk7di5zcXJUbyhwWzFdLEEpO3doaWxlKGQ8PWEpe3BbZF09bmJpKCk7di5tdWxUbyhBLHBbZC0yXSxwW2RdKTtkKz0yfX12YXIgbD1xLnQtMSx4LHU9dHJ1ZSxjPW5iaSgpLHk7bz1uYml0cyhxW2xdKS0xO3doaWxlKGw+PTApe2lmKG8+PXMpe3g9KHFbbF0+PihvLXMpKSZhfWVsc2V7eD0ocVtsXSYoKDE8PChvKzEpKS0xKSk8PChzLW8pO2lmKGw+MCl7eHw9cVtsLTFdPj4odGhpcy5EQitvLXMpfX1kPWg7d2hpbGUoKHgmMSk9PTApe3g+Pj0xOy0tZH1pZigoby09ZCk8MCl7bys9dGhpcy5EQjstLWx9aWYodSl7cFt4XS5jb3B5VG8oYik7dT1mYWxzZX1lbHNle3doaWxlKGQ+MSl7di5zcXJUbyhiLGMpO3Yuc3FyVG8oYyxiKTtkLT0yfWlmKGQ+MCl7di5zcXJUbyhiLGMpfWVsc2V7eT1iO2I9YztjPXl9di5tdWxUbyhjLHBbeF0sYil9d2hpbGUobD49MCYmKHFbbF0mKDE8PG8pKT09MCl7di5zcXJUbyhiLGMpO3k9YjtiPWM7Yz15O2lmKC0tbzwwKXtvPXRoaXMuREItMTstLWx9fX1yZXR1cm4gdi5yZXZlcnQoYil9ZnVuY3Rpb24gYm5HQ0QoYyl7dmFyIGI9KHRoaXMuczwwKT90aGlzLm5lZ2F0ZSgpOnRoaXMuY2xvbmUoKTt2YXIgaD0oYy5zPDApP2MubmVnYXRlKCk6Yy5jbG9uZSgpO2lmKGIuY29tcGFyZVRvKGgpPDApe3ZhciBlPWI7Yj1oO2g9ZX12YXIgZD1iLmdldExvd2VzdFNldEJpdCgpLGY9aC5nZXRMb3dlc3RTZXRCaXQoKTtpZihmPDApe3JldHVybiBifWlmKGQ8Zil7Zj1kfWlmKGY+MCl7Yi5yU2hpZnRUbyhmLGIpO2guclNoaWZ0VG8oZixoKX13aGlsZShiLnNpZ251bSgpPjApe2lmKChkPWIuZ2V0TG93ZXN0U2V0Qml0KCkpPjApe2IuclNoaWZ0VG8oZCxiKX1pZigoZD1oLmdldExvd2VzdFNldEJpdCgpKT4wKXtoLnJTaGlmdFRvKGQsaCl9aWYoYi5jb21wYXJlVG8oaCk+PTApe2Iuc3ViVG8oaCxiKTtiLnJTaGlmdFRvKDEsYil9ZWxzZXtoLnN1YlRvKGIsaCk7aC5yU2hpZnRUbygxLGgpfX1pZihmPjApe2gubFNoaWZ0VG8oZixoKX1yZXR1cm4gaH1mdW5jdGlvbiBibnBNb2RJbnQoZSl7aWYoZTw9MCl7cmV0dXJuIDB9dmFyIGM9dGhpcy5EViVlLGI9KHRoaXMuczwwKT9lLTE6MDtpZih0aGlzLnQ+MCl7aWYoYz09MCl7Yj10aGlzWzBdJWV9ZWxzZXtmb3IodmFyIGE9dGhpcy50LTE7YT49MDstLWEpe2I9KGMqYit0aGlzW2FdKSVlfX19cmV0dXJuIGJ9ZnVuY3Rpb24gYm5Nb2RJbnZlcnNlKGYpe3ZhciBqPWYuaXNFdmVuKCk7aWYoKHRoaXMuaXNFdmVuKCkmJmopfHxmLnNpZ251bSgpPT0wKXtyZXR1cm4gQmlnSW50ZWdlci5aRVJPfXZhciBpPWYuY2xvbmUoKSxoPXRoaXMuY2xvbmUoKTt2YXIgZz1uYnYoMSksZT1uYnYoMCksbD1uYnYoMCksaz1uYnYoMSk7d2hpbGUoaS5zaWdudW0oKSE9MCl7d2hpbGUoaS5pc0V2ZW4oKSl7aS5yU2hpZnRUbygxLGkpO2lmKGope2lmKCFnLmlzRXZlbigpfHwhZS5pc0V2ZW4oKSl7Zy5hZGRUbyh0aGlzLGcpO2Uuc3ViVG8oZixlKX1nLnJTaGlmdFRvKDEsZyl9ZWxzZXtpZighZS5pc0V2ZW4oKSl7ZS5zdWJUbyhmLGUpfX1lLnJTaGlmdFRvKDEsZSl9d2hpbGUoaC5pc0V2ZW4oKSl7aC5yU2hpZnRUbygxLGgpO2lmKGope2lmKCFsLmlzRXZlbigpfHwhay5pc0V2ZW4oKSl7bC5hZGRUbyh0aGlzLGwpO2suc3ViVG8oZixrKX1sLnJTaGlmdFRvKDEsbCl9ZWxzZXtpZighay5pc0V2ZW4oKSl7ay5zdWJUbyhmLGspfX1rLnJTaGlmdFRvKDEsayl9aWYoaS5jb21wYXJlVG8oaCk+PTApe2kuc3ViVG8oaCxpKTtpZihqKXtnLnN1YlRvKGwsZyl9ZS5zdWJUbyhrLGUpfWVsc2V7aC5zdWJUbyhpLGgpO2lmKGope2wuc3ViVG8oZyxsKX1rLnN1YlRvKGUsayl9fWlmKGguY29tcGFyZVRvKEJpZ0ludGVnZXIuT05FKSE9MCl7cmV0dXJuIEJpZ0ludGVnZXIuWkVST31pZihrLmNvbXBhcmVUbyhmKT49MCl7cmV0dXJuIGsuc3VidHJhY3QoZil9aWYoay5zaWdudW0oKTwwKXtrLmFkZFRvKGYsayl9ZWxzZXtyZXR1cm4ga31pZihrLnNpZ251bSgpPDApe3JldHVybiBrLmFkZChmKX1lbHNle3JldHVybiBrfX12YXIgbG93cHJpbWVzPVsyLDMsNSw3LDExLDEzLDE3LDE5LDIzLDI5LDMxLDM3LDQxLDQzLDQ3LDUzLDU5LDYxLDY3LDcxLDczLDc5LDgzLDg5LDk3LDEwMSwxMDMsMTA3LDEwOSwxMTMsMTI3LDEzMSwxMzcsMTM5LDE0OSwxNTEsMTU3LDE2MywxNjcsMTczLDE3OSwxODEsMTkxLDE5MywxOTcsMTk5LDIxMSwyMjMsMjI3LDIyOSwyMzMsMjM5LDI0MSwyNTEsMjU3LDI2MywyNjksMjcxLDI3NywyODEsMjgzLDI5MywzMDcsMzExLDMxMywzMTcsMzMxLDMzNywzNDcsMzQ5LDM1MywzNTksMzY3LDM3MywzNzksMzgzLDM4OSwzOTcsNDAxLDQwOSw0MTksNDIxLDQzMSw0MzMsNDM5LDQ0Myw0NDksNDU3LDQ2MSw0NjMsNDY3LDQ3OSw0ODcsNDkxLDQ5OSw1MDMsNTA5LDUyMSw1MjMsNTQxLDU0Nyw1NTcsNTYzLDU2OSw1NzEsNTc3LDU4Nyw1OTMsNTk5LDYwMSw2MDcsNjEzLDYxNyw2MTksNjMxLDY0MSw2NDMsNjQ3LDY1Myw2NTksNjYxLDY3Myw2NzcsNjgzLDY5MSw3MDEsNzA5LDcxOSw3MjcsNzMzLDczOSw3NDMsNzUxLDc1Nyw3NjEsNzY5LDc3Myw3ODcsNzk3LDgwOSw4MTEsODIxLDgyMyw4MjcsODI5LDgzOSw4NTMsODU3LDg1OSw4NjMsODc3LDg4MSw4ODMsODg3LDkwNyw5MTEsOTE5LDkyOSw5MzcsOTQxLDk0Nyw5NTMsOTY3LDk3MSw5NzcsOTgzLDk5MSw5OTddO3ZhciBscGxpbT0oMTw8MjYpL2xvd3ByaW1lc1tsb3dwcmltZXMubGVuZ3RoLTFdO2Z1bmN0aW9uIGJuSXNQcm9iYWJsZVByaW1lKGUpe3ZhciBkLGI9dGhpcy5hYnMoKTtpZihiLnQ9PTEmJmJbMF08PWxvd3ByaW1lc1tsb3dwcmltZXMubGVuZ3RoLTFdKXtmb3IoZD0wO2Q8bG93cHJpbWVzLmxlbmd0aDsrK2Qpe2lmKGJbMF09PWxvd3ByaW1lc1tkXSl7cmV0dXJuIHRydWV9fXJldHVybiBmYWxzZX1pZihiLmlzRXZlbigpKXtyZXR1cm4gZmFsc2V9ZD0xO3doaWxlKGQ8bG93cHJpbWVzLmxlbmd0aCl7dmFyIGE9bG93cHJpbWVzW2RdLGM9ZCsxO3doaWxlKGM8bG93cHJpbWVzLmxlbmd0aCYmYTxscGxpbSl7YSo9bG93cHJpbWVzW2MrK119YT1iLm1vZEludChhKTt3aGlsZShkPGMpe2lmKGElbG93cHJpbWVzW2QrK109PTApe3JldHVybiBmYWxzZX19fXJldHVybiBiLm1pbGxlclJhYmluKGUpfWZ1bmN0aW9uIGJucE1pbGxlclJhYmluKGYpe3ZhciBnPXRoaXMuc3VidHJhY3QoQmlnSW50ZWdlci5PTkUpO3ZhciBjPWcuZ2V0TG93ZXN0U2V0Qml0KCk7aWYoYzw9MCl7cmV0dXJuIGZhbHNlfXZhciBoPWcuc2hpZnRSaWdodChjKTtmPShmKzEpPj4xO2lmKGY+bG93cHJpbWVzLmxlbmd0aCl7Zj1sb3dwcmltZXMubGVuZ3RofXZhciBiPW5iaSgpO2Zvcih2YXIgZT0wO2U8ZjsrK2Upe2IuZnJvbUludChsb3dwcmltZXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmxvd3ByaW1lcy5sZW5ndGgpXSk7dmFyIGw9Yi5tb2RQb3coaCx0aGlzKTtpZihsLmNvbXBhcmVUbyhCaWdJbnRlZ2VyLk9ORSkhPTAmJmwuY29tcGFyZVRvKGcpIT0wKXt2YXIgZD0xO3doaWxlKGQrKzxjJiZsLmNvbXBhcmVUbyhnKSE9MCl7bD1sLm1vZFBvd0ludCgyLHRoaXMpO2lmKGwuY29tcGFyZVRvKEJpZ0ludGVnZXIuT05FKT09MCl7cmV0dXJuIGZhbHNlfX1pZihsLmNvbXBhcmVUbyhnKSE9MCl7cmV0dXJuIGZhbHNlfX19cmV0dXJuIHRydWV9QmlnSW50ZWdlci5wcm90b3R5cGUuY2h1bmtTaXplPWJucENodW5rU2l6ZTtCaWdJbnRlZ2VyLnByb3RvdHlwZS50b1JhZGl4PWJucFRvUmFkaXg7QmlnSW50ZWdlci5wcm90b3R5cGUuZnJvbVJhZGl4PWJucEZyb21SYWRpeDtCaWdJbnRlZ2VyLnByb3RvdHlwZS5mcm9tTnVtYmVyPWJucEZyb21OdW1iZXI7QmlnSW50ZWdlci5wcm90b3R5cGUuYml0d2lzZVRvPWJucEJpdHdpc2VUbztCaWdJbnRlZ2VyLnByb3RvdHlwZS5jaGFuZ2VCaXQ9Ym5wQ2hhbmdlQml0O0JpZ0ludGVnZXIucHJvdG90eXBlLmFkZFRvPWJucEFkZFRvO0JpZ0ludGVnZXIucHJvdG90eXBlLmRNdWx0aXBseT1ibnBETXVsdGlwbHk7QmlnSW50ZWdlci5wcm90b3R5cGUuZEFkZE9mZnNldD1ibnBEQWRkT2Zmc2V0O0JpZ0ludGVnZXIucHJvdG90eXBlLm11bHRpcGx5TG93ZXJUbz1ibnBNdWx0aXBseUxvd2VyVG87QmlnSW50ZWdlci5wcm90b3R5cGUubXVsdGlwbHlVcHBlclRvPWJucE11bHRpcGx5VXBwZXJUbztCaWdJbnRlZ2VyLnByb3RvdHlwZS5tb2RJbnQ9Ym5wTW9kSW50O0JpZ0ludGVnZXIucHJvdG90eXBlLm1pbGxlclJhYmluPWJucE1pbGxlclJhYmluO0JpZ0ludGVnZXIucHJvdG90eXBlLmNsb25lPWJuQ2xvbmU7QmlnSW50ZWdlci5wcm90b3R5cGUuaW50VmFsdWU9Ym5JbnRWYWx1ZTtCaWdJbnRlZ2VyLnByb3RvdHlwZS5ieXRlVmFsdWU9Ym5CeXRlVmFsdWU7QmlnSW50ZWdlci5wcm90b3R5cGUuc2hvcnRWYWx1ZT1iblNob3J0VmFsdWU7QmlnSW50ZWdlci5wcm90b3R5cGUuc2lnbnVtPWJuU2lnTnVtO0JpZ0ludGVnZXIucHJvdG90eXBlLnRvQnl0ZUFycmF5PWJuVG9CeXRlQXJyYXk7QmlnSW50ZWdlci5wcm90b3R5cGUuZXF1YWxzPWJuRXF1YWxzO0JpZ0ludGVnZXIucHJvdG90eXBlLm1pbj1ibk1pbjtCaWdJbnRlZ2VyLnByb3RvdHlwZS5tYXg9Ym5NYXg7QmlnSW50ZWdlci5wcm90b3R5cGUuYW5kPWJuQW5kO0JpZ0ludGVnZXIucHJvdG90eXBlLm9yPWJuT3I7QmlnSW50ZWdlci5wcm90b3R5cGUueG9yPWJuWG9yO0JpZ0ludGVnZXIucHJvdG90eXBlLmFuZE5vdD1ibkFuZE5vdDtCaWdJbnRlZ2VyLnByb3RvdHlwZS5ub3Q9Ym5Ob3Q7QmlnSW50ZWdlci5wcm90b3R5cGUuc2hpZnRMZWZ0PWJuU2hpZnRMZWZ0O0JpZ0ludGVnZXIucHJvdG90eXBlLnNoaWZ0UmlnaHQ9Ym5TaGlmdFJpZ2h0O0JpZ0ludGVnZXIucHJvdG90eXBlLmdldExvd2VzdFNldEJpdD1ibkdldExvd2VzdFNldEJpdDtCaWdJbnRlZ2VyLnByb3RvdHlwZS5iaXRDb3VudD1ibkJpdENvdW50O0JpZ0ludGVnZXIucHJvdG90eXBlLnRlc3RCaXQ9Ym5UZXN0Qml0O0JpZ0ludGVnZXIucHJvdG90eXBlLnNldEJpdD1iblNldEJpdDtCaWdJbnRlZ2VyLnByb3RvdHlwZS5jbGVhckJpdD1ibkNsZWFyQml0O0JpZ0ludGVnZXIucHJvdG90eXBlLmZsaXBCaXQ9Ym5GbGlwQml0O0JpZ0ludGVnZXIucHJvdG90eXBlLmFkZD1ibkFkZDtCaWdJbnRlZ2VyLnByb3RvdHlwZS5zdWJ0cmFjdD1iblN1YnRyYWN0O0JpZ0ludGVnZXIucHJvdG90eXBlLm11bHRpcGx5PWJuTXVsdGlwbHk7QmlnSW50ZWdlci5wcm90b3R5cGUuZGl2aWRlPWJuRGl2aWRlO0JpZ0ludGVnZXIucHJvdG90eXBlLnJlbWFpbmRlcj1iblJlbWFpbmRlcjtCaWdJbnRlZ2VyLnByb3RvdHlwZS5kaXZpZGVBbmRSZW1haW5kZXI9Ym5EaXZpZGVBbmRSZW1haW5kZXI7QmlnSW50ZWdlci5wcm90b3R5cGUubW9kUG93PWJuTW9kUG93O0JpZ0ludGVnZXIucHJvdG90eXBlLm1vZEludmVyc2U9Ym5Nb2RJbnZlcnNlO0JpZ0ludGVnZXIucHJvdG90eXBlLnBvdz1iblBvdztCaWdJbnRlZ2VyLnByb3RvdHlwZS5nY2Q9Ym5HQ0Q7QmlnSW50ZWdlci5wcm90b3R5cGUuaXNQcm9iYWJsZVByaW1lPWJuSXNQcm9iYWJsZVByaW1lO0JpZ0ludGVnZXIucHJvdG90eXBlLnNxdWFyZT1iblNxdWFyZTsKLyohIChjKSBUb20gV3UgfCBodHRwOi8vd3d3LWNzLXN0dWRlbnRzLnN0YW5mb3JkLmVkdS9+dGp3L2pzYm4vCiAqLwpmdW5jdGlvbiBBcmNmb3VyKCl7dGhpcy5pPTA7dGhpcy5qPTA7dGhpcy5TPW5ldyBBcnJheSgpfWZ1bmN0aW9uIEFSQzRpbml0KGQpe3ZhciBjLGEsYjtmb3IoYz0wO2M8MjU2OysrYyl7dGhpcy5TW2NdPWN9YT0wO2ZvcihjPTA7YzwyNTY7KytjKXthPShhK3RoaXMuU1tjXStkW2MlZC5sZW5ndGhdKSYyNTU7Yj10aGlzLlNbY107dGhpcy5TW2NdPXRoaXMuU1thXTt0aGlzLlNbYV09Yn10aGlzLmk9MDt0aGlzLmo9MH1mdW5jdGlvbiBBUkM0bmV4dCgpe3ZhciBhO3RoaXMuaT0odGhpcy5pKzEpJjI1NTt0aGlzLmo9KHRoaXMuait0aGlzLlNbdGhpcy5pXSkmMjU1O2E9dGhpcy5TW3RoaXMuaV07dGhpcy5TW3RoaXMuaV09dGhpcy5TW3RoaXMual07dGhpcy5TW3RoaXMual09YTtyZXR1cm4gdGhpcy5TWyhhK3RoaXMuU1t0aGlzLmldKSYyNTVdfUFyY2ZvdXIucHJvdG90eXBlLmluaXQ9QVJDNGluaXQ7QXJjZm91ci5wcm90b3R5cGUubmV4dD1BUkM0bmV4dDtmdW5jdGlvbiBwcm5nX25ld3N0YXRlKCl7cmV0dXJuIG5ldyBBcmNmb3VyKCl9dmFyIHJuZ19wc2l6ZT0yNTY7Ci8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuLwogKi8KdmFyIHJuZ19zdGF0ZTt2YXIgcm5nX3Bvb2w7dmFyIHJuZ19wcHRyO2Z1bmN0aW9uIHJuZ19zZWVkX2ludChhKXtybmdfcG9vbFtybmdfcHB0cisrXV49YSYyNTU7cm5nX3Bvb2xbcm5nX3BwdHIrK11ePShhPj44KSYyNTU7cm5nX3Bvb2xbcm5nX3BwdHIrK11ePShhPj4xNikmMjU1O3JuZ19wb29sW3JuZ19wcHRyKytdXj0oYT4+MjQpJjI1NTtpZihybmdfcHB0cj49cm5nX3BzaXplKXtybmdfcHB0ci09cm5nX3BzaXplfX1mdW5jdGlvbiBybmdfc2VlZF90aW1lKCl7cm5nX3NlZWRfaW50KG5ldyBEYXRlKCkuZ2V0VGltZSgpKX1pZihybmdfcG9vbD09bnVsbCl7cm5nX3Bvb2w9bmV3IEFycmF5KCk7cm5nX3BwdHI9MDt2YXIgdDtpZihuYXZpZ2F0b3IuYXBwTmFtZT09Ik5ldHNjYXBlIiYmbmF2aWdhdG9yLmFwcFZlcnNpb248IjUiJiZ3aW5kb3cuY3J5cHRvKXt2YXIgej13aW5kb3cuY3J5cHRvLnJhbmRvbSgzMik7Zm9yKHQ9MDt0PHoubGVuZ3RoOysrdCl7cm5nX3Bvb2xbcm5nX3BwdHIrK109ei5jaGFyQ29kZUF0KHQpJjI1NX19d2hpbGUocm5nX3BwdHI8cm5nX3BzaXplKXt0PU1hdGguZmxvb3IoNjU1MzYqTWF0aC5yYW5kb20oKSk7cm5nX3Bvb2xbcm5nX3BwdHIrK109dD4+Pjg7cm5nX3Bvb2xbcm5nX3BwdHIrK109dCYyNTV9cm5nX3BwdHI9MDtybmdfc2VlZF90aW1lKCl9ZnVuY3Rpb24gcm5nX2dldF9ieXRlKCl7aWYocm5nX3N0YXRlPT1udWxsKXtybmdfc2VlZF90aW1lKCk7cm5nX3N0YXRlPXBybmdfbmV3c3RhdGUoKTtybmdfc3RhdGUuaW5pdChybmdfcG9vbCk7Zm9yKHJuZ19wcHRyPTA7cm5nX3BwdHI8cm5nX3Bvb2wubGVuZ3RoOysrcm5nX3BwdHIpe3JuZ19wb29sW3JuZ19wcHRyXT0wfXJuZ19wcHRyPTB9cmV0dXJuIHJuZ19zdGF0ZS5uZXh0KCl9ZnVuY3Rpb24gcm5nX2dldF9ieXRlcyhiKXt2YXIgYTtmb3IoYT0wO2E8Yi5sZW5ndGg7KythKXtiW2FdPXJuZ19nZXRfYnl0ZSgpfX1mdW5jdGlvbiBTZWN1cmVSYW5kb20oKXt9U2VjdXJlUmFuZG9tLnByb3RvdHlwZS5uZXh0Qnl0ZXM9cm5nX2dldF9ieXRlczsKLyohIChjKSBUb20gV3UgfCBodHRwOi8vd3d3LWNzLXN0dWRlbnRzLnN0YW5mb3JkLmVkdS9+dGp3L2pzYm4vCiAqLwpmdW5jdGlvbiBwYXJzZUJpZ0ludChiLGEpe3JldHVybiBuZXcgQmlnSW50ZWdlcihiLGEpfWZ1bmN0aW9uIGxpbmVicmsoYyxkKXt2YXIgYT0iIjt2YXIgYj0wO3doaWxlKGIrZDxjLmxlbmd0aCl7YSs9Yy5zdWJzdHJpbmcoYixiK2QpKyJcbiI7Yis9ZH1yZXR1cm4gYStjLnN1YnN0cmluZyhiLGMubGVuZ3RoKX1mdW5jdGlvbiBieXRlMkhleChhKXtpZihhPDE2KXtyZXR1cm4iMCIrYS50b1N0cmluZygxNil9ZWxzZXtyZXR1cm4gYS50b1N0cmluZygxNil9fWZ1bmN0aW9uIHBrY3MxcGFkMihlLGgpe2lmKGg8ZS5sZW5ndGgrMTEpe2FsZXJ0KCJNZXNzYWdlIHRvbyBsb25nIGZvciBSU0EiKTtyZXR1cm4gbnVsbH12YXIgZz1uZXcgQXJyYXkoKTt2YXIgZD1lLmxlbmd0aC0xO3doaWxlKGQ+PTAmJmg+MCl7dmFyIGY9ZS5jaGFyQ29kZUF0KGQtLSk7aWYoZjwxMjgpe2dbLS1oXT1mfWVsc2V7aWYoKGY+MTI3KSYmKGY8MjA0OCkpe2dbLS1oXT0oZiY2Myl8MTI4O2dbLS1oXT0oZj4+Nil8MTkyfWVsc2V7Z1stLWhdPShmJjYzKXwxMjg7Z1stLWhdPSgoZj4+NikmNjMpfDEyODtnWy0taF09KGY+PjEyKXwyMjR9fX1nWy0taF09MDt2YXIgYj1uZXcgU2VjdXJlUmFuZG9tKCk7dmFyIGE9bmV3IEFycmF5KCk7d2hpbGUoaD4yKXthWzBdPTA7d2hpbGUoYVswXT09MCl7Yi5uZXh0Qnl0ZXMoYSl9Z1stLWhdPWFbMF19Z1stLWhdPTI7Z1stLWhdPTA7cmV0dXJuIG5ldyBCaWdJbnRlZ2VyKGcpfWZ1bmN0aW9uIG9hZXBfbWdmMV9hcnIoYyxhLGUpe3ZhciBiPSIiLGQ9MDt3aGlsZShiLmxlbmd0aDxhKXtiKz1lKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGMuY29uY2F0KFsoZCY0Mjc4MTkwMDgwKT4+MjQsKGQmMTY3MTE2ODApPj4xNiwoZCY2NTI4MCk+PjgsZCYyNTVdKSkpO2QrPTF9cmV0dXJuIGJ9dmFyIFNIQTFfU0laRT0yMDtmdW5jdGlvbiBvYWVwX3BhZChsLGEsYyl7aWYobC5sZW5ndGgrMipTSEExX1NJWkUrMj5hKXt0aHJvdyJNZXNzYWdlIHRvbyBsb25nIGZvciBSU0EifXZhciBoPSIiLGQ7Zm9yKGQ9MDtkPGEtbC5sZW5ndGgtMipTSEExX1NJWkUtMjtkKz0xKXtoKz0iXHgwMCJ9dmFyIGU9cnN0cl9zaGExKCIiKStoKyJceDAxIitsO3ZhciBmPW5ldyBBcnJheShTSEExX1NJWkUpO25ldyBTZWN1cmVSYW5kb20oKS5uZXh0Qnl0ZXMoZik7dmFyIGc9b2FlcF9tZ2YxX2FycihmLGUubGVuZ3RoLGN8fHJzdHJfc2hhMSk7dmFyIGs9W107Zm9yKGQ9MDtkPGUubGVuZ3RoO2QrPTEpe2tbZF09ZS5jaGFyQ29kZUF0KGQpXmcuY2hhckNvZGVBdChkKX12YXIgaj1vYWVwX21nZjFfYXJyKGssZi5sZW5ndGgscnN0cl9zaGExKTt2YXIgYj1bMF07Zm9yKGQ9MDtkPGYubGVuZ3RoO2QrPTEpe2JbZCsxXT1mW2RdXmouY2hhckNvZGVBdChkKX1yZXR1cm4gbmV3IEJpZ0ludGVnZXIoYi5jb25jYXQoaykpfWZ1bmN0aW9uIFJTQUtleSgpe3RoaXMubj1udWxsO3RoaXMuZT0wO3RoaXMuZD1udWxsO3RoaXMucD1udWxsO3RoaXMucT1udWxsO3RoaXMuZG1wMT1udWxsO3RoaXMuZG1xMT1udWxsO3RoaXMuY29lZmY9bnVsbH1mdW5jdGlvbiBSU0FTZXRQdWJsaWMoYixhKXt0aGlzLmlzUHVibGljPXRydWU7aWYodHlwZW9mIGIhPT0ic3RyaW5nIil7dGhpcy5uPWI7dGhpcy5lPWF9ZWxzZXtpZihiIT1udWxsJiZhIT1udWxsJiZiLmxlbmd0aD4wJiZhLmxlbmd0aD4wKXt0aGlzLm49cGFyc2VCaWdJbnQoYiwxNik7dGhpcy5lPXBhcnNlSW50KGEsMTYpfWVsc2V7YWxlcnQoIkludmFsaWQgUlNBIHB1YmxpYyBrZXkiKX19fWZ1bmN0aW9uIFJTQURvUHVibGljKGEpe3JldHVybiBhLm1vZFBvd0ludCh0aGlzLmUsdGhpcy5uKX1mdW5jdGlvbiBSU0FFbmNyeXB0KGQpe3ZhciBhPXBrY3MxcGFkMihkLCh0aGlzLm4uYml0TGVuZ3RoKCkrNyk+PjMpO2lmKGE9PW51bGwpe3JldHVybiBudWxsfXZhciBlPXRoaXMuZG9QdWJsaWMoYSk7aWYoZT09bnVsbCl7cmV0dXJuIG51bGx9dmFyIGI9ZS50b1N0cmluZygxNik7aWYoKGIubGVuZ3RoJjEpPT0wKXtyZXR1cm4gYn1lbHNle3JldHVybiIwIitifX1mdW5jdGlvbiBSU0FFbmNyeXB0T0FFUChlLGQpe3ZhciBhPW9hZXBfcGFkKGUsKHRoaXMubi5iaXRMZW5ndGgoKSs3KT4+MyxkKTtpZihhPT1udWxsKXtyZXR1cm4gbnVsbH12YXIgZj10aGlzLmRvUHVibGljKGEpO2lmKGY9PW51bGwpe3JldHVybiBudWxsfXZhciBiPWYudG9TdHJpbmcoMTYpO2lmKChiLmxlbmd0aCYxKT09MCl7cmV0dXJuIGJ9ZWxzZXtyZXR1cm4iMCIrYn19UlNBS2V5LnByb3RvdHlwZS5kb1B1YmxpYz1SU0FEb1B1YmxpYztSU0FLZXkucHJvdG90eXBlLnNldFB1YmxpYz1SU0FTZXRQdWJsaWM7UlNBS2V5LnByb3RvdHlwZS5lbmNyeXB0PVJTQUVuY3J5cHQ7UlNBS2V5LnByb3RvdHlwZS5lbmNyeXB0T0FFUD1SU0FFbmNyeXB0T0FFUDtSU0FLZXkucHJvdG90eXBlLnR5cGU9IlJTQSI7Ci8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuLwogKi8KZnVuY3Rpb24gcGtjczF1bnBhZDIoZyxqKXt2YXIgYT1nLnRvQnl0ZUFycmF5KCk7dmFyIGY9MDt3aGlsZShmPGEubGVuZ3RoJiZhW2ZdPT0wKXsrK2Z9aWYoYS5sZW5ndGgtZiE9ai0xfHxhW2ZdIT0yKXtyZXR1cm4gbnVsbH0rK2Y7d2hpbGUoYVtmXSE9MCl7aWYoKytmPj1hLmxlbmd0aCl7cmV0dXJuIG51bGx9fXZhciBlPSIiO3doaWxlKCsrZjxhLmxlbmd0aCl7dmFyIGg9YVtmXSYyNTU7aWYoaDwxMjgpe2UrPVN0cmluZy5mcm9tQ2hhckNvZGUoaCl9ZWxzZXtpZigoaD4xOTEpJiYoaDwyMjQpKXtlKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCgoaCYzMSk8PDYpfChhW2YrMV0mNjMpKTsrK2Z9ZWxzZXtlKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCgoaCYxNSk8PDEyKXwoKGFbZisxXSY2Myk8PDYpfChhW2YrMl0mNjMpKTtmKz0yfX19cmV0dXJuIGV9ZnVuY3Rpb24gb2FlcF9tZ2YxX3N0cihjLGEsZSl7dmFyIGI9IiIsZD0wO3doaWxlKGIubGVuZ3RoPGEpe2IrPWUoYytTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxbKGQmNDI3ODE5MDA4MCk+PjI0LChkJjE2NzExNjgwKT4+MTYsKGQmNjUyODApPj44LGQmMjU1XSkpO2QrPTF9cmV0dXJuIGJ9dmFyIFNIQTFfU0laRT0yMDtmdW5jdGlvbiBvYWVwX3VucGFkKGwsYixlKXtsPWwudG9CeXRlQXJyYXkoKTt2YXIgZjtmb3IoZj0wO2Y8bC5sZW5ndGg7Zis9MSl7bFtmXSY9MjU1fXdoaWxlKGwubGVuZ3RoPGIpe2wudW5zaGlmdCgwKX1sPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGwpO2lmKGwubGVuZ3RoPDIqU0hBMV9TSVpFKzIpe3Rocm93IkNpcGhlciB0b28gc2hvcnQifXZhciBjPWwuc3Vic3RyKDEsU0hBMV9TSVpFKTt2YXIgbz1sLnN1YnN0cihTSEExX1NJWkUrMSk7dmFyIG09b2FlcF9tZ2YxX3N0cihvLFNIQTFfU0laRSxlfHxyc3RyX3NoYTEpO3ZhciBoPVtdLGY7Zm9yKGY9MDtmPGMubGVuZ3RoO2YrPTEpe2hbZl09Yy5jaGFyQ29kZUF0KGYpXm0uY2hhckNvZGVBdChmKX12YXIgaj1vYWVwX21nZjFfc3RyKFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGgpLGwubGVuZ3RoLVNIQTFfU0laRSxyc3RyX3NoYTEpO3ZhciBnPVtdO2ZvcihmPTA7ZjxvLmxlbmd0aDtmKz0xKXtnW2ZdPW8uY2hhckNvZGVBdChmKV5qLmNoYXJDb2RlQXQoZil9Zz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxnKTtpZihnLnN1YnN0cigwLFNIQTFfU0laRSkhPT1yc3RyX3NoYTEoIiIpKXt0aHJvdyJIYXNoIG1pc21hdGNoIn1nPWcuc3Vic3RyKFNIQTFfU0laRSk7dmFyIGE9Zy5pbmRleE9mKCJceDAxIik7dmFyIGs9KGEhPS0xKT9nLnN1YnN0cigwLGEpLmxhc3RJbmRleE9mKCJceDAwIik6LTE7aWYoaysxIT1hKXt0aHJvdyJNYWxmb3JtZWQgZGF0YSJ9cmV0dXJuIGcuc3Vic3RyKGErMSl9ZnVuY3Rpb24gUlNBU2V0UHJpdmF0ZShjLGEsYil7dGhpcy5pc1ByaXZhdGU9dHJ1ZTtpZih0eXBlb2YgYyE9PSJzdHJpbmciKXt0aGlzLm49Yzt0aGlzLmU9YTt0aGlzLmQ9Yn1lbHNle2lmKGMhPW51bGwmJmEhPW51bGwmJmMubGVuZ3RoPjAmJmEubGVuZ3RoPjApe3RoaXMubj1wYXJzZUJpZ0ludChjLDE2KTt0aGlzLmU9cGFyc2VJbnQoYSwxNik7dGhpcy5kPXBhcnNlQmlnSW50KGIsMTYpfWVsc2V7YWxlcnQoIkludmFsaWQgUlNBIHByaXZhdGUga2V5Iil9fX1mdW5jdGlvbiBSU0FTZXRQcml2YXRlRXgoZyxkLGUsYyxiLGEsaCxmKXt0aGlzLmlzUHJpdmF0ZT10cnVlO2lmKGc9PW51bGwpe3Rocm93IlJTQVNldFByaXZhdGVFeCBOID09IG51bGwifWlmKGQ9PW51bGwpe3Rocm93IlJTQVNldFByaXZhdGVFeCBFID09IG51bGwifWlmKGcubGVuZ3RoPT0wKXt0aHJvdyJSU0FTZXRQcml2YXRlRXggTi5sZW5ndGggPT0gMCJ9aWYoZC5sZW5ndGg9PTApe3Rocm93IlJTQVNldFByaXZhdGVFeCBFLmxlbmd0aCA9PSAwIn1pZihnIT1udWxsJiZkIT1udWxsJiZnLmxlbmd0aD4wJiZkLmxlbmd0aD4wKXt0aGlzLm49cGFyc2VCaWdJbnQoZywxNik7dGhpcy5lPXBhcnNlSW50KGQsMTYpO3RoaXMuZD1wYXJzZUJpZ0ludChlLDE2KTt0aGlzLnA9cGFyc2VCaWdJbnQoYywxNik7dGhpcy5xPXBhcnNlQmlnSW50KGIsMTYpO3RoaXMuZG1wMT1wYXJzZUJpZ0ludChhLDE2KTt0aGlzLmRtcTE9cGFyc2VCaWdJbnQoaCwxNik7dGhpcy5jb2VmZj1wYXJzZUJpZ0ludChmLDE2KX1lbHNle2FsZXJ0KCJJbnZhbGlkIFJTQSBwcml2YXRlIGtleSBpbiBSU0FTZXRQcml2YXRlRXgiKX19ZnVuY3Rpb24gUlNBR2VuZXJhdGUoYixpKXt2YXIgYT1uZXcgU2VjdXJlUmFuZG9tKCk7dmFyIGY9Yj4+MTt0aGlzLmU9cGFyc2VJbnQoaSwxNik7dmFyIGM9bmV3IEJpZ0ludGVnZXIoaSwxNik7Zm9yKDs7KXtmb3IoOzspe3RoaXMucD1uZXcgQmlnSW50ZWdlcihiLWYsMSxhKTtpZih0aGlzLnAuc3VidHJhY3QoQmlnSW50ZWdlci5PTkUpLmdjZChjKS5jb21wYXJlVG8oQmlnSW50ZWdlci5PTkUpPT0wJiZ0aGlzLnAuaXNQcm9iYWJsZVByaW1lKDEwKSl7YnJlYWt9fWZvcig7Oyl7dGhpcy5xPW5ldyBCaWdJbnRlZ2VyKGYsMSxhKTtpZih0aGlzLnEuc3VidHJhY3QoQmlnSW50ZWdlci5PTkUpLmdjZChjKS5jb21wYXJlVG8oQmlnSW50ZWdlci5PTkUpPT0wJiZ0aGlzLnEuaXNQcm9iYWJsZVByaW1lKDEwKSl7YnJlYWt9fWlmKHRoaXMucC5jb21wYXJlVG8odGhpcy5xKTw9MCl7dmFyIGg9dGhpcy5wO3RoaXMucD10aGlzLnE7dGhpcy5xPWh9dmFyIGc9dGhpcy5wLnN1YnRyYWN0KEJpZ0ludGVnZXIuT05FKTt2YXIgZD10aGlzLnEuc3VidHJhY3QoQmlnSW50ZWdlci5PTkUpO3ZhciBlPWcubXVsdGlwbHkoZCk7aWYoZS5nY2QoYykuY29tcGFyZVRvKEJpZ0ludGVnZXIuT05FKT09MCl7dGhpcy5uPXRoaXMucC5tdWx0aXBseSh0aGlzLnEpO3RoaXMuZD1jLm1vZEludmVyc2UoZSk7dGhpcy5kbXAxPXRoaXMuZC5tb2QoZyk7dGhpcy5kbXExPXRoaXMuZC5tb2QoZCk7dGhpcy5jb2VmZj10aGlzLnEubW9kSW52ZXJzZSh0aGlzLnApO2JyZWFrfX19ZnVuY3Rpb24gUlNBRG9Qcml2YXRlKGEpe2lmKHRoaXMucD09bnVsbHx8dGhpcy5xPT1udWxsKXtyZXR1cm4gYS5tb2RQb3codGhpcy5kLHRoaXMubil9dmFyIGM9YS5tb2QodGhpcy5wKS5tb2RQb3codGhpcy5kbXAxLHRoaXMucCk7dmFyIGI9YS5tb2QodGhpcy5xKS5tb2RQb3codGhpcy5kbXExLHRoaXMucSk7d2hpbGUoYy5jb21wYXJlVG8oYik8MCl7Yz1jLmFkZCh0aGlzLnApfXJldHVybiBjLnN1YnRyYWN0KGIpLm11bHRpcGx5KHRoaXMuY29lZmYpLm1vZCh0aGlzLnApLm11bHRpcGx5KHRoaXMucSkuYWRkKGIpfWZ1bmN0aW9uIFJTQURlY3J5cHQoYil7dmFyIGQ9cGFyc2VCaWdJbnQoYiwxNik7dmFyIGE9dGhpcy5kb1ByaXZhdGUoZCk7aWYoYT09bnVsbCl7cmV0dXJuIG51bGx9cmV0dXJuIHBrY3MxdW5wYWQyKGEsKHRoaXMubi5iaXRMZW5ndGgoKSs3KT4+Myl9ZnVuY3Rpb24gUlNBRGVjcnlwdE9BRVAoZCxiKXt2YXIgZT1wYXJzZUJpZ0ludChkLDE2KTt2YXIgYT10aGlzLmRvUHJpdmF0ZShlKTtpZihhPT1udWxsKXtyZXR1cm4gbnVsbH1yZXR1cm4gb2FlcF91bnBhZChhLCh0aGlzLm4uYml0TGVuZ3RoKCkrNyk+PjMsYil9UlNBS2V5LnByb3RvdHlwZS5kb1ByaXZhdGU9UlNBRG9Qcml2YXRlO1JTQUtleS5wcm90b3R5cGUuc2V0UHJpdmF0ZT1SU0FTZXRQcml2YXRlO1JTQUtleS5wcm90b3R5cGUuc2V0UHJpdmF0ZUV4PVJTQVNldFByaXZhdGVFeDtSU0FLZXkucHJvdG90eXBlLmdlbmVyYXRlPVJTQUdlbmVyYXRlO1JTQUtleS5wcm90b3R5cGUuZGVjcnlwdD1SU0FEZWNyeXB0O1JTQUtleS5wcm90b3R5cGUuZGVjcnlwdE9BRVA9UlNBRGVjcnlwdE9BRVA7Ci8qISAoYykgVG9tIFd1IHwgaHR0cDovL3d3dy1jcy1zdHVkZW50cy5zdGFuZm9yZC5lZHUvfnRqdy9qc2JuLwogKi8KZnVuY3Rpb24gRUNGaWVsZEVsZW1lbnRGcChiLGEpe3RoaXMueD1hO3RoaXMucT1ifWZ1bmN0aW9uIGZlRnBFcXVhbHMoYSl7aWYoYT09dGhpcyl7cmV0dXJuIHRydWV9cmV0dXJuKHRoaXMucS5lcXVhbHMoYS5xKSYmdGhpcy54LmVxdWFscyhhLngpKX1mdW5jdGlvbiBmZUZwVG9CaWdJbnRlZ2VyKCl7cmV0dXJuIHRoaXMueH1mdW5jdGlvbiBmZUZwTmVnYXRlKCl7cmV0dXJuIG5ldyBFQ0ZpZWxkRWxlbWVudEZwKHRoaXMucSx0aGlzLngubmVnYXRlKCkubW9kKHRoaXMucSkpfWZ1bmN0aW9uIGZlRnBBZGQoYSl7cmV0dXJuIG5ldyBFQ0ZpZWxkRWxlbWVudEZwKHRoaXMucSx0aGlzLnguYWRkKGEudG9CaWdJbnRlZ2VyKCkpLm1vZCh0aGlzLnEpKX1mdW5jdGlvbiBmZUZwU3VidHJhY3QoYSl7cmV0dXJuIG5ldyBFQ0ZpZWxkRWxlbWVudEZwKHRoaXMucSx0aGlzLnguc3VidHJhY3QoYS50b0JpZ0ludGVnZXIoKSkubW9kKHRoaXMucSkpfWZ1bmN0aW9uIGZlRnBNdWx0aXBseShhKXtyZXR1cm4gbmV3IEVDRmllbGRFbGVtZW50RnAodGhpcy5xLHRoaXMueC5tdWx0aXBseShhLnRvQmlnSW50ZWdlcigpKS5tb2QodGhpcy5xKSl9ZnVuY3Rpb24gZmVGcFNxdWFyZSgpe3JldHVybiBuZXcgRUNGaWVsZEVsZW1lbnRGcCh0aGlzLnEsdGhpcy54LnNxdWFyZSgpLm1vZCh0aGlzLnEpKX1mdW5jdGlvbiBmZUZwRGl2aWRlKGEpe3JldHVybiBuZXcgRUNGaWVsZEVsZW1lbnRGcCh0aGlzLnEsdGhpcy54Lm11bHRpcGx5KGEudG9CaWdJbnRlZ2VyKCkubW9kSW52ZXJzZSh0aGlzLnEpKS5tb2QodGhpcy5xKSl9RUNGaWVsZEVsZW1lbnRGcC5wcm90b3R5cGUuZXF1YWxzPWZlRnBFcXVhbHM7RUNGaWVsZEVsZW1lbnRGcC5wcm90b3R5cGUudG9CaWdJbnRlZ2VyPWZlRnBUb0JpZ0ludGVnZXI7RUNGaWVsZEVsZW1lbnRGcC5wcm90b3R5cGUubmVnYXRlPWZlRnBOZWdhdGU7RUNGaWVsZEVsZW1lbnRGcC5wcm90b3R5cGUuYWRkPWZlRnBBZGQ7RUNGaWVsZEVsZW1lbnRGcC5wcm90b3R5cGUuc3VidHJhY3Q9ZmVGcFN1YnRyYWN0O0VDRmllbGRFbGVtZW50RnAucHJvdG90eXBlLm11bHRpcGx5PWZlRnBNdWx0aXBseTtFQ0ZpZWxkRWxlbWVudEZwLnByb3RvdHlwZS5zcXVhcmU9ZmVGcFNxdWFyZTtFQ0ZpZWxkRWxlbWVudEZwLnByb3RvdHlwZS5kaXZpZGU9ZmVGcERpdmlkZTtmdW5jdGlvbiBFQ1BvaW50RnAoYyxhLGQsYil7dGhpcy5jdXJ2ZT1jO3RoaXMueD1hO3RoaXMueT1kO2lmKGI9PW51bGwpe3RoaXMuej1CaWdJbnRlZ2VyLk9ORX1lbHNle3RoaXMuej1ifXRoaXMuemludj1udWxsfWZ1bmN0aW9uIHBvaW50RnBHZXRYKCl7aWYodGhpcy56aW52PT1udWxsKXt0aGlzLnppbnY9dGhpcy56Lm1vZEludmVyc2UodGhpcy5jdXJ2ZS5xKX1yZXR1cm4gdGhpcy5jdXJ2ZS5mcm9tQmlnSW50ZWdlcih0aGlzLngudG9CaWdJbnRlZ2VyKCkubXVsdGlwbHkodGhpcy56aW52KS5tb2QodGhpcy5jdXJ2ZS5xKSl9ZnVuY3Rpb24gcG9pbnRGcEdldFkoKXtpZih0aGlzLnppbnY9PW51bGwpe3RoaXMuemludj10aGlzLnoubW9kSW52ZXJzZSh0aGlzLmN1cnZlLnEpfXJldHVybiB0aGlzLmN1cnZlLmZyb21CaWdJbnRlZ2VyKHRoaXMueS50b0JpZ0ludGVnZXIoKS5tdWx0aXBseSh0aGlzLnppbnYpLm1vZCh0aGlzLmN1cnZlLnEpKX1mdW5jdGlvbiBwb2ludEZwRXF1YWxzKGEpe2lmKGE9PXRoaXMpe3JldHVybiB0cnVlfWlmKHRoaXMuaXNJbmZpbml0eSgpKXtyZXR1cm4gYS5pc0luZmluaXR5KCl9aWYoYS5pc0luZmluaXR5KCkpe3JldHVybiB0aGlzLmlzSW5maW5pdHkoKX12YXIgYyxiO2M9YS55LnRvQmlnSW50ZWdlcigpLm11bHRpcGx5KHRoaXMueikuc3VidHJhY3QodGhpcy55LnRvQmlnSW50ZWdlcigpLm11bHRpcGx5KGEueikpLm1vZCh0aGlzLmN1cnZlLnEpO2lmKCFjLmVxdWFscyhCaWdJbnRlZ2VyLlpFUk8pKXtyZXR1cm4gZmFsc2V9Yj1hLngudG9CaWdJbnRlZ2VyKCkubXVsdGlwbHkodGhpcy56KS5zdWJ0cmFjdCh0aGlzLngudG9CaWdJbnRlZ2VyKCkubXVsdGlwbHkoYS56KSkubW9kKHRoaXMuY3VydmUucSk7cmV0dXJuIGIuZXF1YWxzKEJpZ0ludGVnZXIuWkVSTyl9ZnVuY3Rpb24gcG9pbnRGcElzSW5maW5pdHkoKXtpZigodGhpcy54PT1udWxsKSYmKHRoaXMueT09bnVsbCkpe3JldHVybiB0cnVlfXJldHVybiB0aGlzLnouZXF1YWxzKEJpZ0ludGVnZXIuWkVSTykmJiF0aGlzLnkudG9CaWdJbnRlZ2VyKCkuZXF1YWxzKEJpZ0ludGVnZXIuWkVSTyl9ZnVuY3Rpb24gcG9pbnRGcE5lZ2F0ZSgpe3JldHVybiBuZXcgRUNQb2ludEZwKHRoaXMuY3VydmUsdGhpcy54LHRoaXMueS5uZWdhdGUoKSx0aGlzLnopfWZ1bmN0aW9uIHBvaW50RnBBZGQobCl7aWYodGhpcy5pc0luZmluaXR5KCkpe3JldHVybiBsfWlmKGwuaXNJbmZpbml0eSgpKXtyZXR1cm4gdGhpc312YXIgcD1sLnkudG9CaWdJbnRlZ2VyKCkubXVsdGlwbHkodGhpcy56KS5zdWJ0cmFjdCh0aGlzLnkudG9CaWdJbnRlZ2VyKCkubXVsdGlwbHkobC56KSkubW9kKHRoaXMuY3VydmUucSk7dmFyIG89bC54LnRvQmlnSW50ZWdlcigpLm11bHRpcGx5KHRoaXMueikuc3VidHJhY3QodGhpcy54LnRvQmlnSW50ZWdlcigpLm11bHRpcGx5KGwueikpLm1vZCh0aGlzLmN1cnZlLnEpO2lmKEJpZ0ludGVnZXIuWkVSTy5lcXVhbHMobykpe2lmKEJpZ0ludGVnZXIuWkVSTy5lcXVhbHMocCkpe3JldHVybiB0aGlzLnR3aWNlKCl9cmV0dXJuIHRoaXMuY3VydmUuZ2V0SW5maW5pdHkoKX12YXIgaj1uZXcgQmlnSW50ZWdlcigiMyIpO3ZhciBlPXRoaXMueC50b0JpZ0ludGVnZXIoKTt2YXIgbj10aGlzLnkudG9CaWdJbnRlZ2VyKCk7dmFyIGM9bC54LnRvQmlnSW50ZWdlcigpO3ZhciBrPWwueS50b0JpZ0ludGVnZXIoKTt2YXIgbT1vLnNxdWFyZSgpO3ZhciBpPW0ubXVsdGlwbHkobyk7dmFyIGQ9ZS5tdWx0aXBseShtKTt2YXIgZz1wLnNxdWFyZSgpLm11bHRpcGx5KHRoaXMueik7dmFyIGE9Zy5zdWJ0cmFjdChkLnNoaWZ0TGVmdCgxKSkubXVsdGlwbHkobC56KS5zdWJ0cmFjdChpKS5tdWx0aXBseShvKS5tb2QodGhpcy5jdXJ2ZS5xKTt2YXIgaD1kLm11bHRpcGx5KGopLm11bHRpcGx5KHApLnN1YnRyYWN0KG4ubXVsdGlwbHkoaSkpLnN1YnRyYWN0KGcubXVsdGlwbHkocCkpLm11bHRpcGx5KGwueikuYWRkKHAubXVsdGlwbHkoaSkpLm1vZCh0aGlzLmN1cnZlLnEpO3ZhciBmPWkubXVsdGlwbHkodGhpcy56KS5tdWx0aXBseShsLnopLm1vZCh0aGlzLmN1cnZlLnEpO3JldHVybiBuZXcgRUNQb2ludEZwKHRoaXMuY3VydmUsdGhpcy5jdXJ2ZS5mcm9tQmlnSW50ZWdlcihhKSx0aGlzLmN1cnZlLmZyb21CaWdJbnRlZ2VyKGgpLGYpfWZ1bmN0aW9uIHBvaW50RnBUd2ljZSgpe2lmKHRoaXMuaXNJbmZpbml0eSgpKXtyZXR1cm4gdGhpc31pZih0aGlzLnkudG9CaWdJbnRlZ2VyKCkuc2lnbnVtKCk9PTApe3JldHVybiB0aGlzLmN1cnZlLmdldEluZmluaXR5KCl9dmFyIGc9bmV3IEJpZ0ludGVnZXIoIjMiKTt2YXIgYz10aGlzLngudG9CaWdJbnRlZ2VyKCk7dmFyIGg9dGhpcy55LnRvQmlnSW50ZWdlcigpO3ZhciBlPWgubXVsdGlwbHkodGhpcy56KTt2YXIgaj1lLm11bHRpcGx5KGgpLm1vZCh0aGlzLmN1cnZlLnEpO3ZhciBpPXRoaXMuY3VydmUuYS50b0JpZ0ludGVnZXIoKTt2YXIgaz1jLnNxdWFyZSgpLm11bHRpcGx5KGcpO2lmKCFCaWdJbnRlZ2VyLlpFUk8uZXF1YWxzKGkpKXtrPWsuYWRkKHRoaXMuei5zcXVhcmUoKS5tdWx0aXBseShpKSl9az1rLm1vZCh0aGlzLmN1cnZlLnEpO3ZhciBiPWsuc3F1YXJlKCkuc3VidHJhY3QoYy5zaGlmdExlZnQoMykubXVsdGlwbHkoaikpLnNoaWZ0TGVmdCgxKS5tdWx0aXBseShlKS5tb2QodGhpcy5jdXJ2ZS5xKTt2YXIgZj1rLm11bHRpcGx5KGcpLm11bHRpcGx5KGMpLnN1YnRyYWN0KGouc2hpZnRMZWZ0KDEpKS5zaGlmdExlZnQoMikubXVsdGlwbHkoaikuc3VidHJhY3Qoay5zcXVhcmUoKS5tdWx0aXBseShrKSkubW9kKHRoaXMuY3VydmUucSk7dmFyIGQ9ZS5zcXVhcmUoKS5tdWx0aXBseShlKS5zaGlmdExlZnQoMykubW9kKHRoaXMuY3VydmUucSk7cmV0dXJuIG5ldyBFQ1BvaW50RnAodGhpcy5jdXJ2ZSx0aGlzLmN1cnZlLmZyb21CaWdJbnRlZ2VyKGIpLHRoaXMuY3VydmUuZnJvbUJpZ0ludGVnZXIoZiksZCl9ZnVuY3Rpb24gcG9pbnRGcE11bHRpcGx5KGIpe2lmKHRoaXMuaXNJbmZpbml0eSgpKXtyZXR1cm4gdGhpc31pZihiLnNpZ251bSgpPT0wKXtyZXR1cm4gdGhpcy5jdXJ2ZS5nZXRJbmZpbml0eSgpfXZhciBnPWI7dmFyIGY9Zy5tdWx0aXBseShuZXcgQmlnSW50ZWdlcigiMyIpKTt2YXIgbD10aGlzLm5lZ2F0ZSgpO3ZhciBkPXRoaXM7dmFyIGM7Zm9yKGM9Zi5iaXRMZW5ndGgoKS0yO2M+MDstLWMpe2Q9ZC50d2ljZSgpO3ZhciBhPWYudGVzdEJpdChjKTt2YXIgaj1nLnRlc3RCaXQoYyk7aWYoYSE9ail7ZD1kLmFkZChhP3RoaXM6bCl9fXJldHVybiBkfWZ1bmN0aW9uIHBvaW50RnBNdWx0aXBseVR3byhjLGEsYil7dmFyIGQ7aWYoYy5iaXRMZW5ndGgoKT5iLmJpdExlbmd0aCgpKXtkPWMuYml0TGVuZ3RoKCktMX1lbHNle2Q9Yi5iaXRMZW5ndGgoKS0xfXZhciBmPXRoaXMuY3VydmUuZ2V0SW5maW5pdHkoKTt2YXIgZT10aGlzLmFkZChhKTt3aGlsZShkPj0wKXtmPWYudHdpY2UoKTtpZihjLnRlc3RCaXQoZCkpe2lmKGIudGVzdEJpdChkKSl7Zj1mLmFkZChlKX1lbHNle2Y9Zi5hZGQodGhpcyl9fWVsc2V7aWYoYi50ZXN0Qml0KGQpKXtmPWYuYWRkKGEpfX0tLWR9cmV0dXJuIGZ9RUNQb2ludEZwLnByb3RvdHlwZS5nZXRYPXBvaW50RnBHZXRYO0VDUG9pbnRGcC5wcm90b3R5cGUuZ2V0WT1wb2ludEZwR2V0WTtFQ1BvaW50RnAucHJvdG90eXBlLmVxdWFscz1wb2ludEZwRXF1YWxzO0VDUG9pbnRGcC5wcm90b3R5cGUuaXNJbmZpbml0eT1wb2ludEZwSXNJbmZpbml0eTtFQ1BvaW50RnAucHJvdG90eXBlLm5lZ2F0ZT1wb2ludEZwTmVnYXRlO0VDUG9pbnRGcC5wcm90b3R5cGUuYWRkPXBvaW50RnBBZGQ7RUNQb2ludEZwLnByb3RvdHlwZS50d2ljZT1wb2ludEZwVHdpY2U7RUNQb2ludEZwLnByb3RvdHlwZS5tdWx0aXBseT1wb2ludEZwTXVsdGlwbHk7RUNQb2ludEZwLnByb3RvdHlwZS5tdWx0aXBseVR3bz1wb2ludEZwTXVsdGlwbHlUd287ZnVuY3Rpb24gRUNDdXJ2ZUZwKGUsZCxjKXt0aGlzLnE9ZTt0aGlzLmE9dGhpcy5mcm9tQmlnSW50ZWdlcihkKTt0aGlzLmI9dGhpcy5mcm9tQmlnSW50ZWdlcihjKTt0aGlzLmluZmluaXR5PW5ldyBFQ1BvaW50RnAodGhpcyxudWxsLG51bGwpfWZ1bmN0aW9uIGN1cnZlRnBHZXRRKCl7cmV0dXJuIHRoaXMucX1mdW5jdGlvbiBjdXJ2ZUZwR2V0QSgpe3JldHVybiB0aGlzLmF9ZnVuY3Rpb24gY3VydmVGcEdldEIoKXtyZXR1cm4gdGhpcy5ifWZ1bmN0aW9uIGN1cnZlRnBFcXVhbHMoYSl7aWYoYT09dGhpcyl7cmV0dXJuIHRydWV9cmV0dXJuKHRoaXMucS5lcXVhbHMoYS5xKSYmdGhpcy5hLmVxdWFscyhhLmEpJiZ0aGlzLmIuZXF1YWxzKGEuYikpfWZ1bmN0aW9uIGN1cnZlRnBHZXRJbmZpbml0eSgpe3JldHVybiB0aGlzLmluZmluaXR5fWZ1bmN0aW9uIGN1cnZlRnBGcm9tQmlnSW50ZWdlcihhKXtyZXR1cm4gbmV3IEVDRmllbGRFbGVtZW50RnAodGhpcy5xLGEpfWZ1bmN0aW9uIGN1cnZlRnBEZWNvZGVQb2ludEhleChkKXtzd2l0Y2gocGFyc2VJbnQoZC5zdWJzdHIoMCwyKSwxNikpe2Nhc2UgMDpyZXR1cm4gdGhpcy5pbmZpbml0eTtjYXNlIDI6Y2FzZSAzOnJldHVybiBudWxsO2Nhc2UgNDpjYXNlIDY6Y2FzZSA3OnZhciBhPShkLmxlbmd0aC0yKS8yO3ZhciBjPWQuc3Vic3RyKDIsYSk7dmFyIGI9ZC5zdWJzdHIoYSsyLGEpO3JldHVybiBuZXcgRUNQb2ludEZwKHRoaXMsdGhpcy5mcm9tQmlnSW50ZWdlcihuZXcgQmlnSW50ZWdlcihjLDE2KSksdGhpcy5mcm9tQmlnSW50ZWdlcihuZXcgQmlnSW50ZWdlcihiLDE2KSkpO2RlZmF1bHQ6cmV0dXJuIG51bGx9fUVDQ3VydmVGcC5wcm90b3R5cGUuZ2V0UT1jdXJ2ZUZwR2V0UTtFQ0N1cnZlRnAucHJvdG90eXBlLmdldEE9Y3VydmVGcEdldEE7RUNDdXJ2ZUZwLnByb3RvdHlwZS5nZXRCPWN1cnZlRnBHZXRCO0VDQ3VydmVGcC5wcm90b3R5cGUuZXF1YWxzPWN1cnZlRnBFcXVhbHM7RUNDdXJ2ZUZwLnByb3RvdHlwZS5nZXRJbmZpbml0eT1jdXJ2ZUZwR2V0SW5maW5pdHk7RUNDdXJ2ZUZwLnByb3RvdHlwZS5mcm9tQmlnSW50ZWdlcj1jdXJ2ZUZwRnJvbUJpZ0ludGVnZXI7RUNDdXJ2ZUZwLnByb3RvdHlwZS5kZWNvZGVQb2ludEhleD1jdXJ2ZUZwRGVjb2RlUG9pbnRIZXg7Ci8qISAoYykgU3RlZmFuIFRob21hcyB8IGh0dHBzOi8vZ2l0aHViLmNvbS9iaXRjb2luanMvYml0Y29pbmpzLWxpYgogKi8KRUNGaWVsZEVsZW1lbnRGcC5wcm90b3R5cGUuZ2V0Qnl0ZUxlbmd0aD1mdW5jdGlvbigpe3JldHVybiBNYXRoLmZsb29yKCh0aGlzLnRvQmlnSW50ZWdlcigpLmJpdExlbmd0aCgpKzcpLzgpfTtFQ1BvaW50RnAucHJvdG90eXBlLmdldEVuY29kZWQ9ZnVuY3Rpb24oYyl7dmFyIGQ9ZnVuY3Rpb24oaCxmKXt2YXIgZz1oLnRvQnl0ZUFycmF5VW5zaWduZWQoKTtpZihmPGcubGVuZ3RoKXtnPWcuc2xpY2UoZy5sZW5ndGgtZil9ZWxzZXt3aGlsZShmPmcubGVuZ3RoKXtnLnVuc2hpZnQoMCl9fXJldHVybiBnfTt2YXIgYT10aGlzLmdldFgoKS50b0JpZ0ludGVnZXIoKTt2YXIgZT10aGlzLmdldFkoKS50b0JpZ0ludGVnZXIoKTt2YXIgYj1kKGEsMzIpO2lmKGMpe2lmKGUuaXNFdmVuKCkpe2IudW5zaGlmdCgyKX1lbHNle2IudW5zaGlmdCgzKX19ZWxzZXtiLnVuc2hpZnQoNCk7Yj1iLmNvbmNhdChkKGUsMzIpKX1yZXR1cm4gYn07RUNQb2ludEZwLmRlY29kZUZyb209ZnVuY3Rpb24oZyxjKXt2YXIgZj1jWzBdO3ZhciBlPWMubGVuZ3RoLTE7dmFyIGQ9Yy5zbGljZSgxLDErZS8yKTt2YXIgYj1jLnNsaWNlKDErZS8yLDErZSk7ZC51bnNoaWZ0KDApO2IudW5zaGlmdCgwKTt2YXIgYT1uZXcgQmlnSW50ZWdlcihkKTt2YXIgaD1uZXcgQmlnSW50ZWdlcihiKTtyZXR1cm4gbmV3IEVDUG9pbnRGcChnLGcuZnJvbUJpZ0ludGVnZXIoYSksZy5mcm9tQmlnSW50ZWdlcihoKSl9O0VDUG9pbnRGcC5kZWNvZGVGcm9tSGV4PWZ1bmN0aW9uKGcsYyl7dmFyIGY9Yy5zdWJzdHIoMCwyKTt2YXIgZT1jLmxlbmd0aC0yO3ZhciBkPWMuc3Vic3RyKDIsZS8yKTt2YXIgYj1jLnN1YnN0cigyK2UvMixlLzIpO3ZhciBhPW5ldyBCaWdJbnRlZ2VyKGQsMTYpO3ZhciBoPW5ldyBCaWdJbnRlZ2VyKGIsMTYpO3JldHVybiBuZXcgRUNQb2ludEZwKGcsZy5mcm9tQmlnSW50ZWdlcihhKSxnLmZyb21CaWdJbnRlZ2VyKGgpKX07RUNQb2ludEZwLnByb3RvdHlwZS5hZGQyRD1mdW5jdGlvbihjKXtpZih0aGlzLmlzSW5maW5pdHkoKSl7cmV0dXJuIGN9aWYoYy5pc0luZmluaXR5KCkpe3JldHVybiB0aGlzfWlmKHRoaXMueC5lcXVhbHMoYy54KSl7aWYodGhpcy55LmVxdWFscyhjLnkpKXtyZXR1cm4gdGhpcy50d2ljZSgpfXJldHVybiB0aGlzLmN1cnZlLmdldEluZmluaXR5KCl9dmFyIGc9Yy54LnN1YnRyYWN0KHRoaXMueCk7dmFyIGU9Yy55LnN1YnRyYWN0KHRoaXMueSk7dmFyIGE9ZS5kaXZpZGUoZyk7dmFyIGQ9YS5zcXVhcmUoKS5zdWJ0cmFjdCh0aGlzLngpLnN1YnRyYWN0KGMueCk7dmFyIGY9YS5tdWx0aXBseSh0aGlzLnguc3VidHJhY3QoZCkpLnN1YnRyYWN0KHRoaXMueSk7cmV0dXJuIG5ldyBFQ1BvaW50RnAodGhpcy5jdXJ2ZSxkLGYpfTtFQ1BvaW50RnAucHJvdG90eXBlLnR3aWNlMkQ9ZnVuY3Rpb24oKXtpZih0aGlzLmlzSW5maW5pdHkoKSl7cmV0dXJuIHRoaXN9aWYodGhpcy55LnRvQmlnSW50ZWdlcigpLnNpZ251bSgpPT0wKXtyZXR1cm4gdGhpcy5jdXJ2ZS5nZXRJbmZpbml0eSgpfXZhciBiPXRoaXMuY3VydmUuZnJvbUJpZ0ludGVnZXIoQmlnSW50ZWdlci52YWx1ZU9mKDIpKTt2YXIgZT10aGlzLmN1cnZlLmZyb21CaWdJbnRlZ2VyKEJpZ0ludGVnZXIudmFsdWVPZigzKSk7dmFyIGE9dGhpcy54LnNxdWFyZSgpLm11bHRpcGx5KGUpLmFkZCh0aGlzLmN1cnZlLmEpLmRpdmlkZSh0aGlzLnkubXVsdGlwbHkoYikpO3ZhciBjPWEuc3F1YXJlKCkuc3VidHJhY3QodGhpcy54Lm11bHRpcGx5KGIpKTt2YXIgZD1hLm11bHRpcGx5KHRoaXMueC5zdWJ0cmFjdChjKSkuc3VidHJhY3QodGhpcy55KTtyZXR1cm4gbmV3IEVDUG9pbnRGcCh0aGlzLmN1cnZlLGMsZCl9O0VDUG9pbnRGcC5wcm90b3R5cGUubXVsdGlwbHkyRD1mdW5jdGlvbihiKXtpZih0aGlzLmlzSW5maW5pdHkoKSl7cmV0dXJuIHRoaXN9aWYoYi5zaWdudW0oKT09MCl7cmV0dXJuIHRoaXMuY3VydmUuZ2V0SW5maW5pdHkoKX12YXIgZz1iO3ZhciBmPWcubXVsdGlwbHkobmV3IEJpZ0ludGVnZXIoIjMiKSk7dmFyIGw9dGhpcy5uZWdhdGUoKTt2YXIgZD10aGlzO3ZhciBjO2ZvcihjPWYuYml0TGVuZ3RoKCktMjtjPjA7LS1jKXtkPWQudHdpY2UoKTt2YXIgYT1mLnRlc3RCaXQoYyk7dmFyIGo9Zy50ZXN0Qml0KGMpO2lmKGEhPWope2Q9ZC5hZGQyRChhP3RoaXM6bCl9fXJldHVybiBkfTtFQ1BvaW50RnAucHJvdG90eXBlLmlzT25DdXJ2ZT1mdW5jdGlvbigpe3ZhciBkPXRoaXMuZ2V0WCgpLnRvQmlnSW50ZWdlcigpO3ZhciBpPXRoaXMuZ2V0WSgpLnRvQmlnSW50ZWdlcigpO3ZhciBmPXRoaXMuY3VydmUuZ2V0QSgpLnRvQmlnSW50ZWdlcigpO3ZhciBjPXRoaXMuY3VydmUuZ2V0QigpLnRvQmlnSW50ZWdlcigpO3ZhciBoPXRoaXMuY3VydmUuZ2V0USgpO3ZhciBlPWkubXVsdGlwbHkoaSkubW9kKGgpO3ZhciBnPWQubXVsdGlwbHkoZCkubXVsdGlwbHkoZCkuYWRkKGYubXVsdGlwbHkoZCkpLmFkZChjKS5tb2QoaCk7cmV0dXJuIGUuZXF1YWxzKGcpfTtFQ1BvaW50RnAucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIigiK3RoaXMuZ2V0WCgpLnRvQmlnSW50ZWdlcigpLnRvU3RyaW5nKCkrIiwiK3RoaXMuZ2V0WSgpLnRvQmlnSW50ZWdlcigpLnRvU3RyaW5nKCkrIikifTtFQ1BvaW50RnAucHJvdG90eXBlLnZhbGlkYXRlPWZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5jdXJ2ZS5nZXRRKCk7aWYodGhpcy5pc0luZmluaXR5KCkpe3Rocm93IG5ldyBFcnJvcigiUG9pbnQgaXMgYXQgaW5maW5pdHkuIil9dmFyIGE9dGhpcy5nZXRYKCkudG9CaWdJbnRlZ2VyKCk7dmFyIGI9dGhpcy5nZXRZKCkudG9CaWdJbnRlZ2VyKCk7aWYoYS5jb21wYXJlVG8oQmlnSW50ZWdlci5PTkUpPDB8fGEuY29tcGFyZVRvKGMuc3VidHJhY3QoQmlnSW50ZWdlci5PTkUpKT4wKXt0aHJvdyBuZXcgRXJyb3IoInggY29vcmRpbmF0ZSBvdXQgb2YgYm91bmRzIil9aWYoYi5jb21wYXJlVG8oQmlnSW50ZWdlci5PTkUpPDB8fGIuY29tcGFyZVRvKGMuc3VidHJhY3QoQmlnSW50ZWdlci5PTkUpKT4wKXt0aHJvdyBuZXcgRXJyb3IoInkgY29vcmRpbmF0ZSBvdXQgb2YgYm91bmRzIil9aWYoIXRoaXMuaXNPbkN1cnZlKCkpe3Rocm93IG5ldyBFcnJvcigiUG9pbnQgaXMgbm90IG9uIHRoZSBjdXJ2ZS4iKX1pZih0aGlzLm11bHRpcGx5KGMpLmlzSW5maW5pdHkoKSl7dGhyb3cgbmV3IEVycm9yKCJQb2ludCBpcyBub3QgYSBzY2FsYXIgbXVsdGlwbGUgb2YgRy4iKX1yZXR1cm4gdHJ1ZX07Ci8qISBhc24xLTEuMC45LmpzIChjKSAyMDEzLTIwMTUgS2VuamkgVXJ1c2hpbWEgfCBranVyLmdpdGh1Yi5jb20vanNyc2FzaWduL2xpY2Vuc2UKICovCmlmKHR5cGVvZiBLSlVSPT0idW5kZWZpbmVkInx8IUtKVVIpe0tKVVI9e319aWYodHlwZW9mIEtKVVIuYXNuMT09InVuZGVmaW5lZCJ8fCFLSlVSLmFzbjEpe0tKVVIuYXNuMT17fX1LSlVSLmFzbjEuQVNOMVV0aWw9bmV3IGZ1bmN0aW9uKCl7dGhpcy5pbnRlZ2VyVG9CeXRlSGV4PWZ1bmN0aW9uKGEpe3ZhciBiPWEudG9TdHJpbmcoMTYpO2lmKChiLmxlbmd0aCUyKT09MSl7Yj0iMCIrYn1yZXR1cm4gYn07dGhpcy5iaWdJbnRUb01pblR3b3NDb21wbGVtZW50c0hleD1mdW5jdGlvbihqKXt2YXIgZj1qLnRvU3RyaW5nKDE2KTtpZihmLnN1YnN0cigwLDEpIT0iLSIpe2lmKGYubGVuZ3RoJTI9PTEpe2Y9IjAiK2Z9ZWxzZXtpZighZi5tYXRjaCgvXlswLTddLykpe2Y9IjAwIitmfX19ZWxzZXt2YXIgYT1mLnN1YnN0cigxKTt2YXIgZT1hLmxlbmd0aDtpZihlJTI9PTEpe2UrPTF9ZWxzZXtpZighZi5tYXRjaCgvXlswLTddLykpe2UrPTJ9fXZhciBnPSIiO2Zvcih2YXIgZD0wO2Q8ZTtkKyspe2crPSJmIn12YXIgYz1uZXcgQmlnSW50ZWdlcihnLDE2KTt2YXIgYj1jLnhvcihqKS5hZGQoQmlnSW50ZWdlci5PTkUpO2Y9Yi50b1N0cmluZygxNikucmVwbGFjZSgvXi0vLCIiKX1yZXR1cm4gZn07dGhpcy5nZXRQRU1TdHJpbmdGcm9tSGV4PWZ1bmN0aW9uKGEsYil7dmFyIGM9S0pVUi5hc24xO3ZhciBmPUNyeXB0b0pTLmVuYy5IZXgucGFyc2UoYSk7dmFyIGQ9Q3J5cHRvSlMuZW5jLkJhc2U2NC5zdHJpbmdpZnkoZik7dmFyIGU9ZC5yZXBsYWNlKC8oLns2NH0pL2csIiQxXHJcbiIpO2U9ZS5yZXBsYWNlKC9cclxuJC8sIiIpO3JldHVybiItLS0tLUJFR0lOICIrYisiLS0tLS1cclxuIitlKyJcclxuLS0tLS1FTkQgIitiKyItLS0tLVxyXG4ifTt0aGlzLm5ld09iamVjdD1mdW5jdGlvbihiKXt2YXIgZz1LSlVSLmFzbjE7dmFyIGs9T2JqZWN0LmtleXMoYik7aWYoay5sZW5ndGghPTEpe3Rocm93ImtleSBvZiBwYXJhbSBzaGFsbCBiZSBvbmx5IG9uZS4ifXZhciBqPWtbMF07aWYoIjpib29sOmludDpiaXRzdHI6b2N0c3RyOm51bGw6b2lkOmVudW06dXRmOHN0cjpudW1zdHI6cHJuc3RyOnRlbHN0cjppYTVzdHI6dXRjdGltZTpnZW50aW1lOnNlcTpzZXQ6dGFnOiIuaW5kZXhPZigiOiIraisiOiIpPT0tMSl7dGhyb3cidW5kZWZpbmVkIGtleTogIitqfWlmKGo9PSJib29sIil7cmV0dXJuIG5ldyBnLkRFUkJvb2xlYW4oYltqXSl9aWYoaj09ImludCIpe3JldHVybiBuZXcgZy5ERVJJbnRlZ2VyKGJbal0pfWlmKGo9PSJiaXRzdHIiKXtyZXR1cm4gbmV3IGcuREVSQml0U3RyaW5nKGJbal0pfWlmKGo9PSJvY3RzdHIiKXtyZXR1cm4gbmV3IGcuREVST2N0ZXRTdHJpbmcoYltqXSl9aWYoaj09Im51bGwiKXtyZXR1cm4gbmV3IGcuREVSTnVsbChiW2pdKX1pZihqPT0ib2lkIil7cmV0dXJuIG5ldyBnLkRFUk9iamVjdElkZW50aWZpZXIoYltqXSl9aWYoaj09ImVudW0iKXtyZXR1cm4gbmV3IGcuREVSRW51bWVyYXRlZChiW2pdKX1pZihqPT0idXRmOHN0ciIpe3JldHVybiBuZXcgZy5ERVJVVEY4U3RyaW5nKGJbal0pfWlmKGo9PSJudW1zdHIiKXtyZXR1cm4gbmV3IGcuREVSTnVtZXJpY1N0cmluZyhiW2pdKX1pZihqPT0icHJuc3RyIil7cmV0dXJuIG5ldyBnLkRFUlByaW50YWJsZVN0cmluZyhiW2pdKX1pZihqPT0idGVsc3RyIil7cmV0dXJuIG5ldyBnLkRFUlRlbGV0ZXhTdHJpbmcoYltqXSl9aWYoaj09ImlhNXN0ciIpe3JldHVybiBuZXcgZy5ERVJJQTVTdHJpbmcoYltqXSl9aWYoaj09InV0Y3RpbWUiKXtyZXR1cm4gbmV3IGcuREVSVVRDVGltZShiW2pdKX1pZihqPT0iZ2VudGltZSIpe3JldHVybiBuZXcgZy5ERVJHZW5lcmFsaXplZFRpbWUoYltqXSl9aWYoaj09InNlcSIpe3ZhciBtPWJbal07dmFyIGg9W107Zm9yKHZhciBlPTA7ZTxtLmxlbmd0aDtlKyspe3ZhciBsPWcuQVNOMVV0aWwubmV3T2JqZWN0KG1bZV0pO2gucHVzaChsKX1yZXR1cm4gbmV3IGcuREVSU2VxdWVuY2Uoe2FycmF5Omh9KX1pZihqPT0ic2V0Iil7dmFyIG09YltqXTt2YXIgaD1bXTtmb3IodmFyIGU9MDtlPG0ubGVuZ3RoO2UrKyl7dmFyIGw9Zy5BU04xVXRpbC5uZXdPYmplY3QobVtlXSk7aC5wdXNoKGwpfXJldHVybiBuZXcgZy5ERVJTZXQoe2FycmF5Omh9KX1pZihqPT0idGFnIil7dmFyIGM9YltqXTtpZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYyk9PT0iW29iamVjdCBBcnJheV0iJiZjLmxlbmd0aD09Myl7dmFyIGQ9Zy5BU04xVXRpbC5uZXdPYmplY3QoY1syXSk7cmV0dXJuIG5ldyBnLkRFUlRhZ2dlZE9iamVjdCh7dGFnOmNbMF0sZXhwbGljaXQ6Y1sxXSxvYmo6ZH0pfWVsc2V7dmFyIGY9e307aWYoYy5leHBsaWNpdCE9PXVuZGVmaW5lZCl7Zi5leHBsaWNpdD1jLmV4cGxpY2l0fWlmKGMudGFnIT09dW5kZWZpbmVkKXtmLnRhZz1jLnRhZ31pZihjLm9iaj09PXVuZGVmaW5lZCl7dGhyb3cib2JqIHNoYWxsIGJlIHNwZWNpZmllZCBmb3IgJ3RhZycuIn1mLm9iaj1nLkFTTjFVdGlsLm5ld09iamVjdChjLm9iaik7cmV0dXJuIG5ldyBnLkRFUlRhZ2dlZE9iamVjdChmKX19fTt0aGlzLmpzb25Ub0FTTjFIRVg9ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy5uZXdPYmplY3QoYik7cmV0dXJuIGEuZ2V0RW5jb2RlZEhleCgpfX07S0pVUi5hc24xLkFTTjFVdGlsLm9pZEhleFRvSW50PWZ1bmN0aW9uKGEpe3ZhciBqPSIiO3ZhciBrPXBhcnNlSW50KGEuc3Vic3RyKDAsMiksMTYpO3ZhciBkPU1hdGguZmxvb3Ioay80MCk7dmFyIGM9ayU0MDt2YXIgaj1kKyIuIitjO3ZhciBlPSIiO2Zvcih2YXIgZj0yO2Y8YS5sZW5ndGg7Zis9Mil7dmFyIGc9cGFyc2VJbnQoYS5zdWJzdHIoZiwyKSwxNik7dmFyIGg9KCIwMDAwMDAwMCIrZy50b1N0cmluZygyKSkuc2xpY2UoLTgpO2U9ZStoLnN1YnN0cigxLDcpO2lmKGguc3Vic3RyKDAsMSk9PSIwIil7dmFyIGI9bmV3IEJpZ0ludGVnZXIoZSwyKTtqPWorIi4iK2IudG9TdHJpbmcoMTApO2U9IiJ9fXJldHVybiBqfTtLSlVSLmFzbjEuQVNOMVV0aWwub2lkSW50VG9IZXg9ZnVuY3Rpb24oZil7dmFyIGU9ZnVuY3Rpb24oYSl7dmFyIGs9YS50b1N0cmluZygxNik7aWYoay5sZW5ndGg9PTEpe2s9IjAiK2t9cmV0dXJuIGt9O3ZhciBkPWZ1bmN0aW9uKG8pe3ZhciBuPSIiO3ZhciBrPW5ldyBCaWdJbnRlZ2VyKG8sMTApO3ZhciBhPWsudG9TdHJpbmcoMik7dmFyIGw9Ny1hLmxlbmd0aCU3O2lmKGw9PTcpe2w9MH12YXIgcT0iIjtmb3IodmFyIG09MDttPGw7bSsrKXtxKz0iMCJ9YT1xK2E7Zm9yKHZhciBtPTA7bTxhLmxlbmd0aC0xO20rPTcpe3ZhciBwPWEuc3Vic3RyKG0sNyk7aWYobSE9YS5sZW5ndGgtNyl7cD0iMSIrcH1uKz1lKHBhcnNlSW50KHAsMikpfXJldHVybiBufTtpZighZi5tYXRjaCgvXlswLTkuXSskLykpe3Rocm93Im1hbGZvcm1lZCBvaWQgc3RyaW5nOiAiK2Z9dmFyIGc9IiI7dmFyIGI9Zi5zcGxpdCgiLiIpO3ZhciBqPXBhcnNlSW50KGJbMF0pKjQwK3BhcnNlSW50KGJbMV0pO2crPWUoaik7Yi5zcGxpY2UoMCwyKTtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyl7Zys9ZChiW2NdKX1yZXR1cm4gZ307S0pVUi5hc24xLkFTTjFPYmplY3Q9ZnVuY3Rpb24oKXt2YXIgYz10cnVlO3ZhciBiPW51bGw7dmFyIGQ9IjAwIjt2YXIgZT0iMDAiO3ZhciBhPSIiO3RoaXMuZ2V0TGVuZ3RoSGV4RnJvbVZhbHVlPWZ1bmN0aW9uKCl7aWYodHlwZW9mIHRoaXMuaFY9PSJ1bmRlZmluZWQifHx0aGlzLmhWPT1udWxsKXt0aHJvdyJ0aGlzLmhWIGlzIG51bGwgb3IgdW5kZWZpbmVkLiJ9aWYodGhpcy5oVi5sZW5ndGglMj09MSl7dGhyb3cidmFsdWUgaGV4IG11c3QgYmUgZXZlbiBsZW5ndGg6IG49IithLmxlbmd0aCsiLHY9Iit0aGlzLmhWfXZhciBpPXRoaXMuaFYubGVuZ3RoLzI7dmFyIGg9aS50b1N0cmluZygxNik7aWYoaC5sZW5ndGglMj09MSl7aD0iMCIraH1pZihpPDEyOCl7cmV0dXJuIGh9ZWxzZXt2YXIgZz1oLmxlbmd0aC8yO2lmKGc+MTUpe3Rocm93IkFTTi4xIGxlbmd0aCB0b28gbG9uZyB0byByZXByZXNlbnQgYnkgOHg6IG4gPSAiK2kudG9TdHJpbmcoMTYpfXZhciBmPTEyOCtnO3JldHVybiBmLnRvU3RyaW5nKDE2KStofX07dGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7aWYodGhpcy5oVExWPT1udWxsfHx0aGlzLmlzTW9kaWZpZWQpe3RoaXMuaFY9dGhpcy5nZXRGcmVzaFZhbHVlSGV4KCk7dGhpcy5oTD10aGlzLmdldExlbmd0aEhleEZyb21WYWx1ZSgpO3RoaXMuaFRMVj10aGlzLmhUK3RoaXMuaEwrdGhpcy5oVjt0aGlzLmlzTW9kaWZpZWQ9ZmFsc2V9cmV0dXJuIHRoaXMuaFRMVn07dGhpcy5nZXRWYWx1ZUhleD1mdW5jdGlvbigpe3RoaXMuZ2V0RW5jb2RlZEhleCgpO3JldHVybiB0aGlzLmhWfTt0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4iIn19O0tKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZz1mdW5jdGlvbihjKXtLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3ZhciBiPW51bGw7dmFyIGE9bnVsbDt0aGlzLmdldFN0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnN9O3RoaXMuc2V0U3RyaW5nPWZ1bmN0aW9uKGQpe3RoaXMuaFRMVj1udWxsO3RoaXMuaXNNb2RpZmllZD10cnVlO3RoaXMucz1kO3RoaXMuaFY9c3RvaGV4KHRoaXMucyl9O3RoaXMuc2V0U3RyaW5nSGV4PWZ1bmN0aW9uKGQpe3RoaXMuaFRMVj1udWxsO3RoaXMuaXNNb2RpZmllZD10cnVlO3RoaXMucz1udWxsO3RoaXMuaFY9ZH07dGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaFZ9O2lmKHR5cGVvZiBjIT0idW5kZWZpbmVkIil7aWYodHlwZW9mIGM9PSJzdHJpbmciKXt0aGlzLnNldFN0cmluZyhjKX1lbHNle2lmKHR5cGVvZiBjLnN0ciE9InVuZGVmaW5lZCIpe3RoaXMuc2V0U3RyaW5nKGMuc3RyKX1lbHNle2lmKHR5cGVvZiBjLmhleCE9InVuZGVmaW5lZCIpe3RoaXMuc2V0U3RyaW5nSGV4KGMuaGV4KX19fX19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyxLSlVSLmFzbjEuQVNOMU9iamVjdCk7S0pVUi5hc24xLkRFUkFic3RyYWN0VGltZT1mdW5jdGlvbihjKXtLSlVSLmFzbjEuREVSQWJzdHJhY3RUaW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt2YXIgYj1udWxsO3ZhciBhPW51bGw7dGhpcy5sb2NhbERhdGVUb1VUQz1mdW5jdGlvbihmKXt1dGM9Zi5nZXRUaW1lKCkrKGYuZ2V0VGltZXpvbmVPZmZzZXQoKSo2MDAwMCk7dmFyIGU9bmV3IERhdGUodXRjKTtyZXR1cm4gZX07dGhpcy5mb3JtYXREYXRlPWZ1bmN0aW9uKG0sbyxlKXt2YXIgZz10aGlzLnplcm9QYWRkaW5nO3ZhciBuPXRoaXMubG9jYWxEYXRlVG9VVEMobSk7dmFyIHA9U3RyaW5nKG4uZ2V0RnVsbFllYXIoKSk7aWYobz09InV0YyIpe3A9cC5zdWJzdHIoMiwyKX12YXIgbD1nKFN0cmluZyhuLmdldE1vbnRoKCkrMSksMik7dmFyIHE9ZyhTdHJpbmcobi5nZXREYXRlKCkpLDIpO3ZhciBoPWcoU3RyaW5nKG4uZ2V0SG91cnMoKSksMik7dmFyIGk9ZyhTdHJpbmcobi5nZXRNaW51dGVzKCkpLDIpO3ZhciBqPWcoU3RyaW5nKG4uZ2V0U2Vjb25kcygpKSwyKTt2YXIgcj1wK2wrcStoK2krajtpZihlPT09dHJ1ZSl7dmFyIGY9bi5nZXRNaWxsaXNlY29uZHMoKTtpZihmIT0wKXt2YXIgaz1nKFN0cmluZyhmKSwzKTtrPWsucmVwbGFjZSgvWzBdKyQvLCIiKTtyPXIrIi4iK2t9fXJldHVybiByKyJaIn07dGhpcy56ZXJvUGFkZGluZz1mdW5jdGlvbihlLGQpe2lmKGUubGVuZ3RoPj1kKXtyZXR1cm4gZX1yZXR1cm4gbmV3IEFycmF5KGQtZS5sZW5ndGgrMSkuam9pbigiMCIpK2V9O3RoaXMuZ2V0U3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc307dGhpcy5zZXRTdHJpbmc9ZnVuY3Rpb24oZCl7dGhpcy5oVExWPW51bGw7dGhpcy5pc01vZGlmaWVkPXRydWU7dGhpcy5zPWQ7dGhpcy5oVj1zdG9oZXgoZCl9O3RoaXMuc2V0QnlEYXRlVmFsdWU9ZnVuY3Rpb24oaCxqLGUsZCxmLGcpe3ZhciBpPW5ldyBEYXRlKERhdGUuVVRDKGgsai0xLGUsZCxmLGcsMCkpO3RoaXMuc2V0QnlEYXRlKGkpfTt0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oVn19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJBYnN0cmFjdFRpbWUsS0pVUi5hc24xLkFTTjFPYmplY3QpO0tKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQ9ZnVuY3Rpb24oYil7S0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt2YXIgYT1udWxsO3RoaXMuc2V0QnlBU04xT2JqZWN0QXJyYXk9ZnVuY3Rpb24oYyl7dGhpcy5oVExWPW51bGw7dGhpcy5pc01vZGlmaWVkPXRydWU7dGhpcy5hc24xQXJyYXk9Y307dGhpcy5hcHBlbmRBU04xT2JqZWN0PWZ1bmN0aW9uKGMpe3RoaXMuaFRMVj1udWxsO3RoaXMuaXNNb2RpZmllZD10cnVlO3RoaXMuYXNuMUFycmF5LnB1c2goYyl9O3RoaXMuYXNuMUFycmF5PW5ldyBBcnJheSgpO2lmKHR5cGVvZiBiIT0idW5kZWZpbmVkIil7aWYodHlwZW9mIGIuYXJyYXkhPSJ1bmRlZmluZWQiKXt0aGlzLmFzbjFBcnJheT1iLmFycmF5fX19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQsS0pVUi5hc24xLkFTTjFPYmplY3QpO0tKVVIuYXNuMS5ERVJCb29sZWFuPWZ1bmN0aW9uKCl7S0pVUi5hc24xLkRFUkJvb2xlYW4uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3RoaXMuaFQ9IjAxIjt0aGlzLmhUTFY9IjAxMDFmZiJ9O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJCb29sZWFuLEtKVVIuYXNuMS5BU04xT2JqZWN0KTtLSlVSLmFzbjEuREVSSW50ZWdlcj1mdW5jdGlvbihhKXtLSlVSLmFzbjEuREVSSW50ZWdlci5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5oVD0iMDIiO3RoaXMuc2V0QnlCaWdJbnRlZ2VyPWZ1bmN0aW9uKGIpe3RoaXMuaFRMVj1udWxsO3RoaXMuaXNNb2RpZmllZD10cnVlO3RoaXMuaFY9S0pVUi5hc24xLkFTTjFVdGlsLmJpZ0ludFRvTWluVHdvc0NvbXBsZW1lbnRzSGV4KGIpfTt0aGlzLnNldEJ5SW50ZWdlcj1mdW5jdGlvbihjKXt2YXIgYj1uZXcgQmlnSW50ZWdlcihTdHJpbmcoYyksMTApO3RoaXMuc2V0QnlCaWdJbnRlZ2VyKGIpfTt0aGlzLnNldFZhbHVlSGV4PWZ1bmN0aW9uKGIpe3RoaXMuaFY9Yn07dGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaFZ9O2lmKHR5cGVvZiBhIT0idW5kZWZpbmVkIil7aWYodHlwZW9mIGEuYmlnaW50IT0idW5kZWZpbmVkIil7dGhpcy5zZXRCeUJpZ0ludGVnZXIoYS5iaWdpbnQpfWVsc2V7aWYodHlwZW9mIGFbImludCJdIT0idW5kZWZpbmVkIil7dGhpcy5zZXRCeUludGVnZXIoYVsiaW50Il0pfWVsc2V7aWYodHlwZW9mIGE9PSJudW1iZXIiKXt0aGlzLnNldEJ5SW50ZWdlcihhKX1lbHNle2lmKHR5cGVvZiBhLmhleCE9InVuZGVmaW5lZCIpe3RoaXMuc2V0VmFsdWVIZXgoYS5oZXgpfX19fX19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJJbnRlZ2VyLEtKVVIuYXNuMS5BU04xT2JqZWN0KTtLSlVSLmFzbjEuREVSQml0U3RyaW5nPWZ1bmN0aW9uKGEpe0tKVVIuYXNuMS5ERVJCaXRTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3RoaXMuaFQ9IjAzIjt0aGlzLnNldEhleFZhbHVlSW5jbHVkaW5nVW51c2VkQml0cz1mdW5jdGlvbihiKXt0aGlzLmhUTFY9bnVsbDt0aGlzLmlzTW9kaWZpZWQ9dHJ1ZTt0aGlzLmhWPWJ9O3RoaXMuc2V0VW51c2VkQml0c0FuZEhleFZhbHVlPWZ1bmN0aW9uKGIsZCl7aWYoYjwwfHw3PGIpe3Rocm93InVudXNlZCBiaXRzIHNoYWxsIGJlIGZyb20gMCB0byA3OiB1ID0gIitifXZhciBjPSIwIitiO3RoaXMuaFRMVj1udWxsO3RoaXMuaXNNb2RpZmllZD10cnVlO3RoaXMuaFY9YytkfTt0aGlzLnNldEJ5QmluYXJ5U3RyaW5nPWZ1bmN0aW9uKGUpe2U9ZS5yZXBsYWNlKC8wKyQvLCIiKTt2YXIgZj04LWUubGVuZ3RoJTg7aWYoZj09OCl7Zj0wfWZvcih2YXIgZz0wO2c8PWY7ZysrKXtlKz0iMCJ9dmFyIGo9IiI7Zm9yKHZhciBnPTA7ZzxlLmxlbmd0aC0xO2crPTgpe3ZhciBkPWUuc3Vic3RyKGcsOCk7dmFyIGM9cGFyc2VJbnQoZCwyKS50b1N0cmluZygxNik7aWYoYy5sZW5ndGg9PTEpe2M9IjAiK2N9ais9Y310aGlzLmhUTFY9bnVsbDt0aGlzLmlzTW9kaWZpZWQ9dHJ1ZTt0aGlzLmhWPSIwIitmK2p9O3RoaXMuc2V0QnlCb29sZWFuQXJyYXk9ZnVuY3Rpb24oZCl7dmFyIGM9IiI7Zm9yKHZhciBiPTA7YjxkLmxlbmd0aDtiKyspe2lmKGRbYl09PXRydWUpe2MrPSIxIn1lbHNle2MrPSIwIn19dGhpcy5zZXRCeUJpbmFyeVN0cmluZyhjKX07dGhpcy5uZXdGYWxzZUFycmF5PWZ1bmN0aW9uKGQpe3ZhciBiPW5ldyBBcnJheShkKTtmb3IodmFyIGM9MDtjPGQ7YysrKXtiW2NdPWZhbHNlfXJldHVybiBifTt0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oVn07aWYodHlwZW9mIGEhPSJ1bmRlZmluZWQiKXtpZih0eXBlb2YgYT09InN0cmluZyImJmEudG9Mb3dlckNhc2UoKS5tYXRjaCgvXlswLTlhLWZdKyQvKSl7dGhpcy5zZXRIZXhWYWx1ZUluY2x1ZGluZ1VudXNlZEJpdHMoYSl9ZWxzZXtpZih0eXBlb2YgYS5oZXghPSJ1bmRlZmluZWQiKXt0aGlzLnNldEhleFZhbHVlSW5jbHVkaW5nVW51c2VkQml0cyhhLmhleCl9ZWxzZXtpZih0eXBlb2YgYS5iaW4hPSJ1bmRlZmluZWQiKXt0aGlzLnNldEJ5QmluYXJ5U3RyaW5nKGEuYmluKX1lbHNle2lmKHR5cGVvZiBhLmFycmF5IT0idW5kZWZpbmVkIil7dGhpcy5zZXRCeUJvb2xlYW5BcnJheShhLmFycmF5KX19fX19fTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuREVSQml0U3RyaW5nLEtKVVIuYXNuMS5BU04xT2JqZWN0KTtLSlVSLmFzbjEuREVST2N0ZXRTdHJpbmc9ZnVuY3Rpb24oYSl7S0pVUi5hc24xLkRFUk9jdGV0U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLGEpO3RoaXMuaFQ9IjA0In07WUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLkRFUk9jdGV0U3RyaW5nLEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyk7S0pVUi5hc24xLkRFUk51bGw9ZnVuY3Rpb24oKXtLSlVSLmFzbjEuREVSTnVsbC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5oVD0iMDUiO3RoaXMuaFRMVj0iMDUwMCJ9O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJOdWxsLEtKVVIuYXNuMS5BU04xT2JqZWN0KTtLSlVSLmFzbjEuREVST2JqZWN0SWRlbnRpZmllcj1mdW5jdGlvbihjKXt2YXIgYj1mdW5jdGlvbihkKXt2YXIgZT1kLnRvU3RyaW5nKDE2KTtpZihlLmxlbmd0aD09MSl7ZT0iMCIrZX1yZXR1cm4gZX07dmFyIGE9ZnVuY3Rpb24oayl7dmFyIGo9IiI7dmFyIGU9bmV3IEJpZ0ludGVnZXIoaywxMCk7dmFyIGQ9ZS50b1N0cmluZygyKTt2YXIgZj03LWQubGVuZ3RoJTc7aWYoZj09Nyl7Zj0wfXZhciBtPSIiO2Zvcih2YXIgZz0wO2c8ZjtnKyspe20rPSIwIn1kPW0rZDtmb3IodmFyIGc9MDtnPGQubGVuZ3RoLTE7Zys9Nyl7dmFyIGw9ZC5zdWJzdHIoZyw3KTtpZihnIT1kLmxlbmd0aC03KXtsPSIxIitsfWorPWIocGFyc2VJbnQobCwyKSl9cmV0dXJuIGp9O0tKVVIuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLmhUPSIwNiI7dGhpcy5zZXRWYWx1ZUhleD1mdW5jdGlvbihkKXt0aGlzLmhUTFY9bnVsbDt0aGlzLmlzTW9kaWZpZWQ9dHJ1ZTt0aGlzLnM9bnVsbDt0aGlzLmhWPWR9O3RoaXMuc2V0VmFsdWVPaWRTdHJpbmc9ZnVuY3Rpb24oZil7aWYoIWYubWF0Y2goL15bMC05Ll0rJC8pKXt0aHJvdyJtYWxmb3JtZWQgb2lkIHN0cmluZzogIitmfXZhciBnPSIiO3ZhciBkPWYuc3BsaXQoIi4iKTt2YXIgaj1wYXJzZUludChkWzBdKSo0MCtwYXJzZUludChkWzFdKTtnKz1iKGopO2Quc3BsaWNlKDAsMik7Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe2crPWEoZFtlXSl9dGhpcy5oVExWPW51bGw7dGhpcy5pc01vZGlmaWVkPXRydWU7dGhpcy5zPW51bGw7dGhpcy5oVj1nfTt0aGlzLnNldFZhbHVlTmFtZT1mdW5jdGlvbihlKXtpZih0eXBlb2YgS0pVUi5hc24xLng1MDkuT0lELm5hbWUyb2lkTGlzdFtlXSE9InVuZGVmaW5lZCIpe3ZhciBkPUtKVVIuYXNuMS54NTA5Lk9JRC5uYW1lMm9pZExpc3RbZV07dGhpcy5zZXRWYWx1ZU9pZFN0cmluZyhkKX1lbHNle3Rocm93IkRFUk9iamVjdElkZW50aWZpZXIgb2lkTmFtZSB1bmRlZmluZWQ6ICIrZX19O3RoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhWfTtpZih0eXBlb2YgYyE9InVuZGVmaW5lZCIpe2lmKHR5cGVvZiBjPT0ic3RyaW5nIiYmYy5tYXRjaCgvXlswLTJdLlswLTkuXSskLykpe3RoaXMuc2V0VmFsdWVPaWRTdHJpbmcoYyl9ZWxzZXtpZihLSlVSLmFzbjEueDUwOS5PSUQubmFtZTJvaWRMaXN0W2NdIT09dW5kZWZpbmVkKXt0aGlzLnNldFZhbHVlT2lkU3RyaW5nKEtKVVIuYXNuMS54NTA5Lk9JRC5uYW1lMm9pZExpc3RbY10pfWVsc2V7aWYodHlwZW9mIGMub2lkIT0idW5kZWZpbmVkIil7dGhpcy5zZXRWYWx1ZU9pZFN0cmluZyhjLm9pZCl9ZWxzZXtpZih0eXBlb2YgYy5oZXghPSJ1bmRlZmluZWQiKXt0aGlzLnNldFZhbHVlSGV4KGMuaGV4KX1lbHNle2lmKHR5cGVvZiBjLm5hbWUhPSJ1bmRlZmluZWQiKXt0aGlzLnNldFZhbHVlTmFtZShjLm5hbWUpfX19fX19fTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuREVST2JqZWN0SWRlbnRpZmllcixLSlVSLmFzbjEuQVNOMU9iamVjdCk7S0pVUi5hc24xLkRFUkVudW1lcmF0ZWQ9ZnVuY3Rpb24oYSl7S0pVUi5hc24xLkRFUkVudW1lcmF0ZWQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3RoaXMuaFQ9IjBhIjt0aGlzLnNldEJ5QmlnSW50ZWdlcj1mdW5jdGlvbihiKXt0aGlzLmhUTFY9bnVsbDt0aGlzLmlzTW9kaWZpZWQ9dHJ1ZTt0aGlzLmhWPUtKVVIuYXNuMS5BU04xVXRpbC5iaWdJbnRUb01pblR3b3NDb21wbGVtZW50c0hleChiKX07dGhpcy5zZXRCeUludGVnZXI9ZnVuY3Rpb24oYyl7dmFyIGI9bmV3IEJpZ0ludGVnZXIoU3RyaW5nKGMpLDEwKTt0aGlzLnNldEJ5QmlnSW50ZWdlcihiKX07dGhpcy5zZXRWYWx1ZUhleD1mdW5jdGlvbihiKXt0aGlzLmhWPWJ9O3RoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhWfTtpZih0eXBlb2YgYSE9InVuZGVmaW5lZCIpe2lmKHR5cGVvZiBhWyJpbnQiXSE9InVuZGVmaW5lZCIpe3RoaXMuc2V0QnlJbnRlZ2VyKGFbImludCJdKX1lbHNle2lmKHR5cGVvZiBhPT0ibnVtYmVyIil7dGhpcy5zZXRCeUludGVnZXIoYSl9ZWxzZXtpZih0eXBlb2YgYS5oZXghPSJ1bmRlZmluZWQiKXt0aGlzLnNldFZhbHVlSGV4KGEuaGV4KX19fX19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJFbnVtZXJhdGVkLEtKVVIuYXNuMS5BU04xT2JqZWN0KTtLSlVSLmFzbjEuREVSVVRGOFN0cmluZz1mdW5jdGlvbihhKXtLSlVSLmFzbjEuREVSVVRGOFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhKTt0aGlzLmhUPSIwYyJ9O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJVVEY4U3RyaW5nLEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyk7S0pVUi5hc24xLkRFUk51bWVyaWNTdHJpbmc9ZnVuY3Rpb24oYSl7S0pVUi5hc24xLkRFUk51bWVyaWNTdHJpbmcuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSk7dGhpcy5oVD0iMTIifTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuREVSTnVtZXJpY1N0cmluZyxLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpO0tKVVIuYXNuMS5ERVJQcmludGFibGVTdHJpbmc9ZnVuY3Rpb24oYSl7S0pVUi5hc24xLkRFUlByaW50YWJsZVN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhKTt0aGlzLmhUPSIxMyJ9O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJQcmludGFibGVTdHJpbmcsS0pVUi5hc24xLkRFUkFic3RyYWN0U3RyaW5nKTtLSlVSLmFzbjEuREVSVGVsZXRleFN0cmluZz1mdW5jdGlvbihhKXtLSlVSLmFzbjEuREVSVGVsZXRleFN0cmluZy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhKTt0aGlzLmhUPSIxNCJ9O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJUZWxldGV4U3RyaW5nLEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cmluZyk7S0pVUi5hc24xLkRFUklBNVN0cmluZz1mdW5jdGlvbihhKXtLSlVSLmFzbjEuREVSSUE1U3RyaW5nLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLGEpO3RoaXMuaFQ9IjE2In07WUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLkRFUklBNVN0cmluZyxLSlVSLmFzbjEuREVSQWJzdHJhY3RTdHJpbmcpO0tKVVIuYXNuMS5ERVJVVENUaW1lPWZ1bmN0aW9uKGEpe0tKVVIuYXNuMS5ERVJVVENUaW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLGEpO3RoaXMuaFQ9IjE3Ijt0aGlzLnNldEJ5RGF0ZT1mdW5jdGlvbihiKXt0aGlzLmhUTFY9bnVsbDt0aGlzLmlzTW9kaWZpZWQ9dHJ1ZTt0aGlzLmRhdGU9Yjt0aGlzLnM9dGhpcy5mb3JtYXREYXRlKHRoaXMuZGF0ZSwidXRjIik7dGhpcy5oVj1zdG9oZXgodGhpcy5zKX07dGhpcy5nZXRGcmVzaFZhbHVlSGV4PWZ1bmN0aW9uKCl7aWYodHlwZW9mIHRoaXMuZGF0ZT09InVuZGVmaW5lZCImJnR5cGVvZiB0aGlzLnM9PSJ1bmRlZmluZWQiKXt0aGlzLmRhdGU9bmV3IERhdGUoKTt0aGlzLnM9dGhpcy5mb3JtYXREYXRlKHRoaXMuZGF0ZSwidXRjIik7dGhpcy5oVj1zdG9oZXgodGhpcy5zKX1yZXR1cm4gdGhpcy5oVn07aWYoYSE9PXVuZGVmaW5lZCl7aWYoYS5zdHIhPT11bmRlZmluZWQpe3RoaXMuc2V0U3RyaW5nKGEuc3RyKX1lbHNle2lmKHR5cGVvZiBhPT0ic3RyaW5nIiYmYS5tYXRjaCgvXlswLTldezEyfVokLykpe3RoaXMuc2V0U3RyaW5nKGEpfWVsc2V7aWYoYS5oZXghPT11bmRlZmluZWQpe3RoaXMuc2V0U3RyaW5nSGV4KGEuaGV4KX1lbHNle2lmKGEuZGF0ZSE9PXVuZGVmaW5lZCl7dGhpcy5zZXRCeURhdGUoYS5kYXRlKX19fX19fTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuREVSVVRDVGltZSxLSlVSLmFzbjEuREVSQWJzdHJhY3RUaW1lKTtLSlVSLmFzbjEuREVSR2VuZXJhbGl6ZWRUaW1lPWZ1bmN0aW9uKGEpe0tKVVIuYXNuMS5ERVJHZW5lcmFsaXplZFRpbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSk7dGhpcy5oVD0iMTgiO3RoaXMud2l0aE1pbGxpcz1mYWxzZTt0aGlzLnNldEJ5RGF0ZT1mdW5jdGlvbihiKXt0aGlzLmhUTFY9bnVsbDt0aGlzLmlzTW9kaWZpZWQ9dHJ1ZTt0aGlzLmRhdGU9Yjt0aGlzLnM9dGhpcy5mb3JtYXREYXRlKHRoaXMuZGF0ZSwiZ2VuIix0aGlzLndpdGhNaWxsaXMpO3RoaXMuaFY9c3RvaGV4KHRoaXMucyl9O3RoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe2lmKHRoaXMuZGF0ZT09PXVuZGVmaW5lZCYmdGhpcy5zPT09dW5kZWZpbmVkKXt0aGlzLmRhdGU9bmV3IERhdGUoKTt0aGlzLnM9dGhpcy5mb3JtYXREYXRlKHRoaXMuZGF0ZSwiZ2VuIix0aGlzLndpdGhNaWxsaXMpO3RoaXMuaFY9c3RvaGV4KHRoaXMucyl9cmV0dXJuIHRoaXMuaFZ9O2lmKGEhPT11bmRlZmluZWQpe2lmKGEuc3RyIT09dW5kZWZpbmVkKXt0aGlzLnNldFN0cmluZyhhLnN0cil9ZWxzZXtpZih0eXBlb2YgYT09InN0cmluZyImJmEubWF0Y2goL15bMC05XXsxNH1aJC8pKXt0aGlzLnNldFN0cmluZyhhKX1lbHNle2lmKGEuaGV4IT09dW5kZWZpbmVkKXt0aGlzLnNldFN0cmluZ0hleChhLmhleCl9ZWxzZXtpZihhLmRhdGUhPT11bmRlZmluZWQpe3RoaXMuc2V0QnlEYXRlKGEuZGF0ZSl9fX19aWYoYS5taWxsaXM9PT10cnVlKXt0aGlzLndpdGhNaWxsaXM9dHJ1ZX19fTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuREVSR2VuZXJhbGl6ZWRUaW1lLEtKVVIuYXNuMS5ERVJBYnN0cmFjdFRpbWUpO0tKVVIuYXNuMS5ERVJTZXF1ZW5jZT1mdW5jdGlvbihhKXtLSlVSLmFzbjEuREVSU2VxdWVuY2Uuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSk7dGhpcy5oVD0iMzAiO3RoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3ZhciBjPSIiO2Zvcih2YXIgYj0wO2I8dGhpcy5hc24xQXJyYXkubGVuZ3RoO2IrKyl7dmFyIGQ9dGhpcy5hc24xQXJyYXlbYl07Yys9ZC5nZXRFbmNvZGVkSGV4KCl9dGhpcy5oVj1jO3JldHVybiB0aGlzLmhWfX07WUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLkRFUlNlcXVlbmNlLEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQpO0tKVVIuYXNuMS5ERVJTZXQ9ZnVuY3Rpb24oYSl7S0pVUi5hc24xLkRFUlNldC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhKTt0aGlzLmhUPSIzMSI7dGhpcy5zb3J0RmxhZz10cnVlO3RoaXMuZ2V0RnJlc2hWYWx1ZUhleD1mdW5jdGlvbigpe3ZhciBiPW5ldyBBcnJheSgpO2Zvcih2YXIgYz0wO2M8dGhpcy5hc24xQXJyYXkubGVuZ3RoO2MrKyl7dmFyIGQ9dGhpcy5hc24xQXJyYXlbY107Yi5wdXNoKGQuZ2V0RW5jb2RlZEhleCgpKX1pZih0aGlzLnNvcnRGbGFnPT10cnVlKXtiLnNvcnQoKX10aGlzLmhWPWIuam9pbigiIik7cmV0dXJuIHRoaXMuaFZ9O2lmKHR5cGVvZiBhIT0idW5kZWZpbmVkIil7aWYodHlwZW9mIGEuc29ydGZsYWchPSJ1bmRlZmluZWQiJiZhLnNvcnRmbGFnPT1mYWxzZSl7dGhpcy5zb3J0RmxhZz1mYWxzZX19fTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuREVSU2V0LEtKVVIuYXNuMS5ERVJBYnN0cmFjdFN0cnVjdHVyZWQpO0tKVVIuYXNuMS5ERVJUYWdnZWRPYmplY3Q9ZnVuY3Rpb24oYSl7S0pVUi5hc24xLkRFUlRhZ2dlZE9iamVjdC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5oVD0iYTAiO3RoaXMuaFY9IiI7dGhpcy5pc0V4cGxpY2l0PXRydWU7dGhpcy5hc24xT2JqZWN0PW51bGw7dGhpcy5zZXRBU04xT2JqZWN0PWZ1bmN0aW9uKGIsYyxkKXt0aGlzLmhUPWM7dGhpcy5pc0V4cGxpY2l0PWI7dGhpcy5hc24xT2JqZWN0PWQ7aWYodGhpcy5pc0V4cGxpY2l0KXt0aGlzLmhWPXRoaXMuYXNuMU9iamVjdC5nZXRFbmNvZGVkSGV4KCk7dGhpcy5oVExWPW51bGw7dGhpcy5pc01vZGlmaWVkPXRydWV9ZWxzZXt0aGlzLmhWPW51bGw7dGhpcy5oVExWPWQuZ2V0RW5jb2RlZEhleCgpO3RoaXMuaFRMVj10aGlzLmhUTFYucmVwbGFjZSgvXi4uLyxjKTt0aGlzLmlzTW9kaWZpZWQ9ZmFsc2V9fTt0aGlzLmdldEZyZXNoVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oVn07aWYodHlwZW9mIGEhPSJ1bmRlZmluZWQiKXtpZih0eXBlb2YgYS50YWchPSJ1bmRlZmluZWQiKXt0aGlzLmhUPWEudGFnfWlmKHR5cGVvZiBhLmV4cGxpY2l0IT0idW5kZWZpbmVkIil7dGhpcy5pc0V4cGxpY2l0PWEuZXhwbGljaXR9aWYodHlwZW9mIGEub2JqIT0idW5kZWZpbmVkIil7dGhpcy5hc24xT2JqZWN0PWEub2JqO3RoaXMuc2V0QVNOMU9iamVjdCh0aGlzLmlzRXhwbGljaXQsdGhpcy5oVCx0aGlzLmFzbjFPYmplY3QpfX19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5ERVJUYWdnZWRPYmplY3QsS0pVUi5hc24xLkFTTjFPYmplY3QpOwovKiEgYXNuMWhleC0xLjEuNi5qcyAoYykgMjAxMi0yMDE1IEtlbmppIFVydXNoaW1hIHwga2p1ci5naXRodWIuY29tL2pzcnNhc2lnbi9saWNlbnNlCiAqLwp2YXIgQVNOMUhFWD1uZXcgZnVuY3Rpb24oKXt0aGlzLmdldEJ5dGVMZW5ndGhPZkxfQXRPYmo9ZnVuY3Rpb24oYixjKXtpZihiLnN1YnN0cmluZyhjKzIsYyszKSE9IjgiKXtyZXR1cm4gMX12YXIgYT1wYXJzZUludChiLnN1YnN0cmluZyhjKzMsYys0KSk7aWYoYT09MCl7cmV0dXJuIC0xfWlmKDA8YSYmYTwxMCl7cmV0dXJuIGErMX1yZXR1cm4gLTJ9O3RoaXMuZ2V0SGV4T2ZMX0F0T2JqPWZ1bmN0aW9uKGIsYyl7dmFyIGE9dGhpcy5nZXRCeXRlTGVuZ3RoT2ZMX0F0T2JqKGIsYyk7aWYoYTwxKXtyZXR1cm4iIn1yZXR1cm4gYi5zdWJzdHJpbmcoYysyLGMrMithKjIpfTt0aGlzLmdldEludE9mTF9BdE9iaj1mdW5jdGlvbihjLGQpe3ZhciBiPXRoaXMuZ2V0SGV4T2ZMX0F0T2JqKGMsZCk7aWYoYj09IiIpe3JldHVybiAtMX12YXIgYTtpZihwYXJzZUludChiLnN1YnN0cmluZygwLDEpKTw4KXthPW5ldyBCaWdJbnRlZ2VyKGIsMTYpfWVsc2V7YT1uZXcgQmlnSW50ZWdlcihiLnN1YnN0cmluZygyKSwxNil9cmV0dXJuIGEuaW50VmFsdWUoKX07dGhpcy5nZXRTdGFydFBvc09mVl9BdE9iaj1mdW5jdGlvbihiLGMpe3ZhciBhPXRoaXMuZ2V0Qnl0ZUxlbmd0aE9mTF9BdE9iaihiLGMpO2lmKGE8MCl7cmV0dXJuIGF9cmV0dXJuIGMrKGErMSkqMn07dGhpcy5nZXRIZXhPZlZfQXRPYmo9ZnVuY3Rpb24oYyxkKXt2YXIgYj10aGlzLmdldFN0YXJ0UG9zT2ZWX0F0T2JqKGMsZCk7dmFyIGE9dGhpcy5nZXRJbnRPZkxfQXRPYmooYyxkKTtyZXR1cm4gYy5zdWJzdHJpbmcoYixiK2EqMil9O3RoaXMuZ2V0SGV4T2ZUTFZfQXRPYmo9ZnVuY3Rpb24oYyxlKXt2YXIgYj1jLnN1YnN0cihlLDIpO3ZhciBkPXRoaXMuZ2V0SGV4T2ZMX0F0T2JqKGMsZSk7dmFyIGE9dGhpcy5nZXRIZXhPZlZfQXRPYmooYyxlKTtyZXR1cm4gYitkK2F9O3RoaXMuZ2V0UG9zT2ZOZXh0U2libGluZ19BdE9iaj1mdW5jdGlvbihjLGQpe3ZhciBiPXRoaXMuZ2V0U3RhcnRQb3NPZlZfQXRPYmooYyxkKTt2YXIgYT10aGlzLmdldEludE9mTF9BdE9iaihjLGQpO3JldHVybiBiK2EqMn07dGhpcy5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmo9ZnVuY3Rpb24oZixqKXt2YXIgYz1uZXcgQXJyYXkoKTt2YXIgaT10aGlzLmdldFN0YXJ0UG9zT2ZWX0F0T2JqKGYsaik7Yy5wdXNoKGkpO3ZhciBiPXRoaXMuZ2V0SW50T2ZMX0F0T2JqKGYsaik7dmFyIGc9aTt2YXIgZD0wO3doaWxlKDEpe3ZhciBlPXRoaXMuZ2V0UG9zT2ZOZXh0U2libGluZ19BdE9iaihmLGcpO2lmKGU9PW51bGx8fChlLWk+PShiKjIpKSl7YnJlYWt9aWYoZD49MjAwKXticmVha31jLnB1c2goZSk7Zz1lO2QrK31yZXR1cm4gY307dGhpcy5nZXROdGhDaGlsZEluZGV4X0F0T2JqPWZ1bmN0aW9uKGQsYixlKXt2YXIgYz10aGlzLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaihkLGIpO3JldHVybiBjW2VdfTt0aGlzLmdldERlY2VuZGFudEluZGV4QnlOdGhMaXN0PWZ1bmN0aW9uKGUsZCxjKXtpZihjLmxlbmd0aD09MCl7cmV0dXJuIGR9dmFyIGY9Yy5zaGlmdCgpO3ZhciBiPXRoaXMuZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKGUsZCk7cmV0dXJuIHRoaXMuZ2V0RGVjZW5kYW50SW5kZXhCeU50aExpc3QoZSxiW2ZdLGMpfTt0aGlzLmdldERlY2VuZGFudEhleFRMVkJ5TnRoTGlzdD1mdW5jdGlvbihkLGMsYil7dmFyIGE9dGhpcy5nZXREZWNlbmRhbnRJbmRleEJ5TnRoTGlzdChkLGMsYik7cmV0dXJuIHRoaXMuZ2V0SGV4T2ZUTFZfQXRPYmooZCxhKX07dGhpcy5nZXREZWNlbmRhbnRIZXhWQnlOdGhMaXN0PWZ1bmN0aW9uKGQsYyxiKXt2YXIgYT10aGlzLmdldERlY2VuZGFudEluZGV4QnlOdGhMaXN0KGQsYyxiKTtyZXR1cm4gdGhpcy5nZXRIZXhPZlZfQXRPYmooZCxhKX19O0FTTjFIRVguZ2V0VmJ5TGlzdD1mdW5jdGlvbihkLGMsYixlKXt2YXIgYT10aGlzLmdldERlY2VuZGFudEluZGV4QnlOdGhMaXN0KGQsYyxiKTtpZihhPT09dW5kZWZpbmVkKXt0aHJvdyJjYW4ndCBmaW5kIG50aExpc3Qgb2JqZWN0In1pZihlIT09dW5kZWZpbmVkKXtpZihkLnN1YnN0cihhLDIpIT1lKXt0aHJvdyJjaGVja2luZyB0YWcgZG9lc24ndCBtYXRjaDogIitkLnN1YnN0cihhLDIpKyIhPSIrZX19cmV0dXJuIHRoaXMuZ2V0SGV4T2ZWX0F0T2JqKGQsYSl9O0FTTjFIRVguaGV4dG9vaWRzdHI9ZnVuY3Rpb24oZSl7dmFyIGg9ZnVuY3Rpb24oYixhKXtpZihiLmxlbmd0aD49YSl7cmV0dXJuIGJ9cmV0dXJuIG5ldyBBcnJheShhLWIubGVuZ3RoKzEpLmpvaW4oIjAiKStifTt2YXIgbD1bXTt2YXIgbz1lLnN1YnN0cigwLDIpO3ZhciBmPXBhcnNlSW50KG8sMTYpO2xbMF09bmV3IFN0cmluZyhNYXRoLmZsb29yKGYvNDApKTtsWzFdPW5ldyBTdHJpbmcoZiU0MCk7dmFyIG09ZS5zdWJzdHIoMik7dmFyIGs9W107Zm9yKHZhciBnPTA7ZzxtLmxlbmd0aC8yO2crKyl7ay5wdXNoKHBhcnNlSW50KG0uc3Vic3RyKGcqMiwyKSwxNikpfXZhciBqPVtdO3ZhciBkPSIiO2Zvcih2YXIgZz0wO2c8ay5sZW5ndGg7ZysrKXtpZihrW2ddJjEyOCl7ZD1kK2goKGtbZ10mMTI3KS50b1N0cmluZygyKSw3KX1lbHNle2Q9ZCtoKChrW2ddJjEyNykudG9TdHJpbmcoMiksNyk7ai5wdXNoKG5ldyBTdHJpbmcocGFyc2VJbnQoZCwyKSkpO2Q9IiJ9fXZhciBuPWwuam9pbigiLiIpO2lmKGoubGVuZ3RoPjApe249bisiLiIrai5qb2luKCIuIil9cmV0dXJuIG59O0FTTjFIRVguZHVtcD1mdW5jdGlvbihlLGMsayxnKXt2YXIgbz1mdW5jdGlvbih3LGkpe2lmKHcubGVuZ3RoPD1pKjIpe3JldHVybiB3fWVsc2V7dmFyIHY9dy5zdWJzdHIoMCxpKSsiLi4odG90YWwgIit3Lmxlbmd0aC8yKyJieXRlcykuLiIrdy5zdWJzdHIody5sZW5ndGgtaSxpKTtyZXR1cm4gdn19O2lmKGM9PT11bmRlZmluZWQpe2M9e29tbWl0X2xvbmdfb2N0ZXQ6MzJ9fWlmKGs9PT11bmRlZmluZWQpe2s9MH1pZihnPT09dW5kZWZpbmVkKXtnPSIifXZhciByPWMub21taXRfbG9uZ19vY3RldDtpZihlLnN1YnN0cihrLDIpPT0iMDEiKXt2YXIgaD1BU04xSEVYLmdldEhleE9mVl9BdE9iaihlLGspO2lmKGg9PSIwMCIpe3JldHVybiBnKyJCT09MRUFOIEZBTFNFXG4ifWVsc2V7cmV0dXJuIGcrIkJPT0xFQU4gVFJVRVxuIn19aWYoZS5zdWJzdHIoaywyKT09IjAyIil7dmFyIGg9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmooZSxrKTtyZXR1cm4gZysiSU5URUdFUiAiK28oaCxyKSsiXG4ifWlmKGUuc3Vic3RyKGssMik9PSIwMyIpe3ZhciBoPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKGUsayk7cmV0dXJuIGcrIkJJVFNUUklORyAiK28oaCxyKSsiXG4ifWlmKGUuc3Vic3RyKGssMik9PSIwNCIpe3ZhciBoPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKGUsayk7aWYoQVNOMUhFWC5pc0FTTjFIRVgoaCkpe3ZhciBqPWcrIk9DVEVUU1RSSU5HLCBlbmNhcHN1bGF0ZXNcbiI7aj1qK0FTTjFIRVguZHVtcChoLGMsMCxnKyIgICIpO3JldHVybiBqfWVsc2V7cmV0dXJuIGcrIk9DVEVUU1RSSU5HICIrbyhoLHIpKyJcbiJ9fWlmKGUuc3Vic3RyKGssMik9PSIwNSIpe3JldHVybiBnKyJOVUxMXG4ifWlmKGUuc3Vic3RyKGssMik9PSIwNiIpe3ZhciBsPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKGUsayk7dmFyIGE9S0pVUi5hc24xLkFTTjFVdGlsLm9pZEhleFRvSW50KGwpO3ZhciBuPUtKVVIuYXNuMS54NTA5Lk9JRC5vaWQybmFtZShhKTt2YXIgYj1hLnJlcGxhY2UoL1wuL2csIiAiKTtpZihuIT0iIil7cmV0dXJuIGcrIk9iamVjdElkZW50aWZpZXIgIituKyIgKCIrYisiKVxuIn1lbHNle3JldHVybiBnKyJPYmplY3RJZGVudGlmaWVyICgiK2IrIilcbiJ9fWlmKGUuc3Vic3RyKGssMik9PSIwYyIpe3JldHVybiBnKyJVVEY4U3RyaW5nICciK2hleHRvdXRmOChBU04xSEVYLmdldEhleE9mVl9BdE9iaihlLGspKSsiJ1xuIn1pZihlLnN1YnN0cihrLDIpPT0iMTMiKXtyZXR1cm4gZysiUHJpbnRhYmxlU3RyaW5nICciK2hleHRvdXRmOChBU04xSEVYLmdldEhleE9mVl9BdE9iaihlLGspKSsiJ1xuIn1pZihlLnN1YnN0cihrLDIpPT0iMTQiKXtyZXR1cm4gZysiVGVsZXRleFN0cmluZyAnIitoZXh0b3V0ZjgoQVNOMUhFWC5nZXRIZXhPZlZfQXRPYmooZSxrKSkrIidcbiJ9aWYoZS5zdWJzdHIoaywyKT09IjE2Iil7cmV0dXJuIGcrIklBNVN0cmluZyAnIitoZXh0b3V0ZjgoQVNOMUhFWC5nZXRIZXhPZlZfQXRPYmooZSxrKSkrIidcbiJ9aWYoZS5zdWJzdHIoaywyKT09IjE3Iil7cmV0dXJuIGcrIlVUQ1RpbWUgIitoZXh0b3V0ZjgoQVNOMUhFWC5nZXRIZXhPZlZfQXRPYmooZSxrKSkrIlxuIn1pZihlLnN1YnN0cihrLDIpPT0iMTgiKXtyZXR1cm4gZysiR2VuZXJhbGl6ZWRUaW1lICIraGV4dG91dGY4KEFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKGUsaykpKyJcbiJ9aWYoZS5zdWJzdHIoaywyKT09IjMwIil7aWYoZS5zdWJzdHIoayw0KT09IjMwMDAiKXtyZXR1cm4gZysiU0VRVUVOQ0Uge31cbiJ9dmFyIGo9ZysiU0VRVUVOQ0VcbiI7dmFyIGQ9QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmooZSxrKTt2YXIgZj1jO2lmKChkLmxlbmd0aD09Mnx8ZC5sZW5ndGg9PTMpJiZlLnN1YnN0cihkWzBdLDIpPT0iMDYiJiZlLnN1YnN0cihkW2QubGVuZ3RoLTFdLDIpPT0iMDQiKXt2YXIgdD1BU04xSEVYLmdldEhleE9mVl9BdE9iaihlLGRbMF0pO3ZhciBhPUtKVVIuYXNuMS5BU04xVXRpbC5vaWRIZXhUb0ludCh0KTt2YXIgbj1LSlVSLmFzbjEueDUwOS5PSUQub2lkMm5hbWUoYSk7dmFyIHA9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjKSk7cC54NTA5RXh0TmFtZT1uO2Y9cH1mb3IodmFyIHE9MDtxPGQubGVuZ3RoO3ErKyl7aj1qK0FTTjFIRVguZHVtcChlLGYsZFtxXSxnKyIgICIpfXJldHVybiBqfWlmKGUuc3Vic3RyKGssMik9PSIzMSIpe3ZhciBqPWcrIlNFVFxuIjt2YXIgZD1BU04xSEVYLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaihlLGspO2Zvcih2YXIgcT0wO3E8ZC5sZW5ndGg7cSsrKXtqPWorQVNOMUhFWC5kdW1wKGUsYyxkW3FdLGcrIiAgIil9cmV0dXJuIGp9dmFyIHU9cGFyc2VJbnQoZS5zdWJzdHIoaywyKSwxNik7aWYoKHUmMTI4KSE9MCl7dmFyIG09dSYzMTtpZigodSYzMikhPTApe3ZhciBqPWcrIlsiK20rIl1cbiI7dmFyIGQ9QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmooZSxrKTtmb3IodmFyIHE9MDtxPGQubGVuZ3RoO3ErKyl7aj1qK0FTTjFIRVguZHVtcChlLGMsZFtxXSxnKyIgICIpfXJldHVybiBqfWVsc2V7dmFyIGg9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmooZSxrKTtpZihoLnN1YnN0cigwLDgpPT0iNjg3NDc0NzAiKXtoPWhleHRvdXRmOChoKX1pZihjLng1MDlFeHROYW1lPT09InN1YmplY3RBbHROYW1lIiYmbT09Mil7aD1oZXh0b3V0ZjgoaCl9dmFyIGo9ZysiWyIrbSsiXSAiK2grIlxuIjtyZXR1cm4gan19cmV0dXJuIGcrIlVOS05PV04oIitlLnN1YnN0cihrLDIpKyIpICIrQVNOMUhFWC5nZXRIZXhPZlZfQXRPYmooZSxrKSsiXG4ifTtBU04xSEVYLmlzQVNOMUhFWD1mdW5jdGlvbihkKXtpZihkLmxlbmd0aCUyPT0xKXtyZXR1cm4gZmFsc2V9dmFyIGM9QVNOMUhFWC5nZXRJbnRPZkxfQXRPYmooZCwwKTt2YXIgYj1kLnN1YnN0cigwLDIpO3ZhciBlPUFTTjFIRVguZ2V0SGV4T2ZMX0F0T2JqKGQsMCk7dmFyIGE9ZC5sZW5ndGgtYi5sZW5ndGgtZS5sZW5ndGg7aWYoYT09YyoyKXtyZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2V9OwovKiEgYXNuMXg1MDktMS4wLjEzLmpzIChjKSAyMDEzLTIwMTUgS2VuamkgVXJ1c2hpbWEgfCBranVyLmdpdGh1Yi5jb20vanNyc2FzaWduL2xpY2Vuc2UKICovCmlmKHR5cGVvZiBLSlVSPT0idW5kZWZpbmVkInx8IUtKVVIpe0tKVVI9e319aWYodHlwZW9mIEtKVVIuYXNuMT09InVuZGVmaW5lZCJ8fCFLSlVSLmFzbjEpe0tKVVIuYXNuMT17fX1pZih0eXBlb2YgS0pVUi5hc24xLng1MDk9PSJ1bmRlZmluZWQifHwhS0pVUi5hc24xLng1MDkpe0tKVVIuYXNuMS54NTA5PXt9fUtKVVIuYXNuMS54NTA5LkNlcnRpZmljYXRlPWZ1bmN0aW9uKGcpe0tKVVIuYXNuMS54NTA5LkNlcnRpZmljYXRlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt2YXIgYj1udWxsO3ZhciBkPW51bGw7dmFyIGY9bnVsbDt2YXIgYz1udWxsO3ZhciBhPW51bGw7dmFyIGU9bnVsbDt0aGlzLnNldFJzYVBydktleUJ5UEVNYW5kUGFzcz1mdW5jdGlvbihpLGspe3ZhciBoPVBLQ1M1UEtFWS5nZXREZWNyeXB0ZWRLZXlIZXgoaSxrKTt2YXIgaj1uZXcgUlNBS2V5KCk7ai5yZWFkUHJpdmF0ZUtleUZyb21BU04xSGV4U3RyaW5nKGgpO3RoaXMucHJ2S2V5PWp9O3RoaXMuc2lnbj1mdW5jdGlvbigpe3RoaXMuYXNuMVNpZ25hdHVyZUFsZz10aGlzLmFzbjFUQlNDZXJ0LmFzbjFTaWduYXR1cmVBbGc7c2lnPW5ldyBLSlVSLmNyeXB0by5TaWduYXR1cmUoe2FsZzoiU0hBMXdpdGhSU0EifSk7c2lnLmluaXQodGhpcy5wcnZLZXkpO3NpZy51cGRhdGVIZXgodGhpcy5hc24xVEJTQ2VydC5nZXRFbmNvZGVkSGV4KCkpO3RoaXMuaGV4U2lnPXNpZy5zaWduKCk7dGhpcy5hc24xU2lnPW5ldyBLSlVSLmFzbjEuREVSQml0U3RyaW5nKHtoZXg6IjAwIit0aGlzLmhleFNpZ30pO3ZhciBoPW5ldyBLSlVSLmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5Olt0aGlzLmFzbjFUQlNDZXJ0LHRoaXMuYXNuMVNpZ25hdHVyZUFsZyx0aGlzLmFzbjFTaWddfSk7dGhpcy5oVExWPWguZ2V0RW5jb2RlZEhleCgpO3RoaXMuaXNNb2RpZmllZD1mYWxzZX07dGhpcy5zZXRTaWduYXR1cmVIZXg9ZnVuY3Rpb24oaCl7dGhpcy5hc24xU2lnbmF0dXJlQWxnPXRoaXMuYXNuMVRCU0NlcnQuYXNuMVNpZ25hdHVyZUFsZzt0aGlzLmhleFNpZz1oO3RoaXMuYXNuMVNpZz1uZXcgS0pVUi5hc24xLkRFUkJpdFN0cmluZyh7aGV4OiIwMCIrdGhpcy5oZXhTaWd9KTt2YXIgaT1uZXcgS0pVUi5hc24xLkRFUlNlcXVlbmNlKHthcnJheTpbdGhpcy5hc24xVEJTQ2VydCx0aGlzLmFzbjFTaWduYXR1cmVBbGcsdGhpcy5hc24xU2lnXX0pO3RoaXMuaFRMVj1pLmdldEVuY29kZWRIZXgoKTt0aGlzLmlzTW9kaWZpZWQ9ZmFsc2V9O3RoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe2lmKHRoaXMuaXNNb2RpZmllZD09ZmFsc2UmJnRoaXMuaFRMViE9bnVsbCl7cmV0dXJuIHRoaXMuaFRMVn10aHJvdyJub3Qgc2lnbmVkIHlldCJ9O3RoaXMuZ2V0UEVNU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGo9dGhpcy5nZXRFbmNvZGVkSGV4KCk7dmFyIGg9Q3J5cHRvSlMuZW5jLkhleC5wYXJzZShqKTt2YXIgaT1DcnlwdG9KUy5lbmMuQmFzZTY0LnN0cmluZ2lmeShoKTt2YXIgaz1pLnJlcGxhY2UoLyguezY0fSkvZywiJDFcclxuIik7cmV0dXJuIi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLVxyXG4iK2srIlxyXG4tLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tXHJcbiJ9O2lmKHR5cGVvZiBnIT0idW5kZWZpbmVkIil7aWYodHlwZW9mIGcudGJzY2VydG9iaiE9InVuZGVmaW5lZCIpe3RoaXMuYXNuMVRCU0NlcnQ9Zy50YnNjZXJ0b2JqfWlmKHR5cGVvZiBnLnBydmtleW9iaiE9InVuZGVmaW5lZCIpe3RoaXMucHJ2S2V5PWcucHJ2a2V5b2JqfWVsc2V7aWYodHlwZW9mIGcucnNhcHJ2a2V5IT0idW5kZWZpbmVkIil7dGhpcy5wcnZLZXk9Zy5yc2FwcnZrZXl9ZWxzZXtpZigodHlwZW9mIGcucnNhcHJ2cGVtIT0idW5kZWZpbmVkIikmJih0eXBlb2YgZy5yc2FwcnZwYXMhPSJ1bmRlZmluZWQiKSl7dGhpcy5zZXRSc2FQcnZLZXlCeVBFTWFuZFBhc3MoZy5yc2FwcnZwZW0sZy5yc2FwcnZwYXMpfX19fX07WUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLng1MDkuQ2VydGlmaWNhdGUsS0pVUi5hc24xLkFTTjFPYmplY3QpO0tKVVIuYXNuMS54NTA5LlRCU0NlcnRpZmljYXRlPWZ1bmN0aW9uKGEpe0tKVVIuYXNuMS54NTA5LlRCU0NlcnRpZmljYXRlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLl9pbml0aWFsaXplPWZ1bmN0aW9uKCl7dGhpcy5hc24xQXJyYXk9bmV3IEFycmF5KCk7dGhpcy5hc24xVmVyc2lvbj1uZXcgS0pVUi5hc24xLkRFUlRhZ2dlZE9iamVjdCh7b2JqOm5ldyBLSlVSLmFzbjEuREVSSW50ZWdlcih7ImludCI6Mn0pfSk7dGhpcy5hc24xU2VyaWFsTnVtYmVyPW51bGw7dGhpcy5hc24xU2lnbmF0dXJlQWxnPW51bGw7dGhpcy5hc24xSXNzdWVyPW51bGw7dGhpcy5hc24xTm90QmVmb3JlPW51bGw7dGhpcy5hc24xTm90QWZ0ZXI9bnVsbDt0aGlzLmFzbjFTdWJqZWN0PW51bGw7dGhpcy5hc24xU3VialBLZXk9bnVsbDt0aGlzLmV4dGVuc2lvbnNBcnJheT1uZXcgQXJyYXkoKX07dGhpcy5zZXRTZXJpYWxOdW1iZXJCeVBhcmFtPWZ1bmN0aW9uKGIpe3RoaXMuYXNuMVNlcmlhbE51bWJlcj1uZXcgS0pVUi5hc24xLkRFUkludGVnZXIoYil9O3RoaXMuc2V0U2lnbmF0dXJlQWxnQnlQYXJhbT1mdW5jdGlvbihiKXt0aGlzLmFzbjFTaWduYXR1cmVBbGc9bmV3IEtKVVIuYXNuMS54NTA5LkFsZ29yaXRobUlkZW50aWZpZXIoYil9O3RoaXMuc2V0SXNzdWVyQnlQYXJhbT1mdW5jdGlvbihiKXt0aGlzLmFzbjFJc3N1ZXI9bmV3IEtKVVIuYXNuMS54NTA5Llg1MDBOYW1lKGIpfTt0aGlzLnNldE5vdEJlZm9yZUJ5UGFyYW09ZnVuY3Rpb24oYil7dGhpcy5hc24xTm90QmVmb3JlPW5ldyBLSlVSLmFzbjEueDUwOS5UaW1lKGIpfTt0aGlzLnNldE5vdEFmdGVyQnlQYXJhbT1mdW5jdGlvbihiKXt0aGlzLmFzbjFOb3RBZnRlcj1uZXcgS0pVUi5hc24xLng1MDkuVGltZShiKX07dGhpcy5zZXRTdWJqZWN0QnlQYXJhbT1mdW5jdGlvbihiKXt0aGlzLmFzbjFTdWJqZWN0PW5ldyBLSlVSLmFzbjEueDUwOS5YNTAwTmFtZShiKX07dGhpcy5zZXRTdWJqZWN0UHVibGljS2V5QnlQYXJhbT1mdW5jdGlvbihiKXt0aGlzLmFzbjFTdWJqUEtleT1uZXcgS0pVUi5hc24xLng1MDkuU3ViamVjdFB1YmxpY0tleUluZm8oYil9O3RoaXMuc2V0U3ViamVjdFB1YmxpY0tleUJ5R2V0S2V5PWZ1bmN0aW9uKGMpe3ZhciBiPUtFWVVUSUwuZ2V0S2V5KGMpO3RoaXMuYXNuMVN1YmpQS2V5PW5ldyBLSlVSLmFzbjEueDUwOS5TdWJqZWN0UHVibGljS2V5SW5mbyhiKX07dGhpcy5hcHBlbmRFeHRlbnNpb249ZnVuY3Rpb24oYil7dGhpcy5leHRlbnNpb25zQXJyYXkucHVzaChiKX07dGhpcy5hcHBlbmRFeHRlbnNpb25CeU5hbWU9ZnVuY3Rpb24oZCxiKXtpZihkLnRvTG93ZXJDYXNlKCk9PSJiYXNpY2NvbnN0cmFpbnRzIil7dmFyIGM9bmV3IEtKVVIuYXNuMS54NTA5LkJhc2ljQ29uc3RyYWludHMoYik7dGhpcy5hcHBlbmRFeHRlbnNpb24oYyl9ZWxzZXtpZihkLnRvTG93ZXJDYXNlKCk9PSJrZXl1c2FnZSIpe3ZhciBjPW5ldyBLSlVSLmFzbjEueDUwOS5LZXlVc2FnZShiKTt0aGlzLmFwcGVuZEV4dGVuc2lvbihjKX1lbHNle2lmKGQudG9Mb3dlckNhc2UoKT09ImNybGRpc3RyaWJ1dGlvbnBvaW50cyIpe3ZhciBjPW5ldyBLSlVSLmFzbjEueDUwOS5DUkxEaXN0cmlidXRpb25Qb2ludHMoYik7dGhpcy5hcHBlbmRFeHRlbnNpb24oYyl9ZWxzZXtpZihkLnRvTG93ZXJDYXNlKCk9PSJleHRrZXl1c2FnZSIpe3ZhciBjPW5ldyBLSlVSLmFzbjEueDUwOS5FeHRLZXlVc2FnZShiKTt0aGlzLmFwcGVuZEV4dGVuc2lvbihjKX1lbHNle2lmKGQudG9Mb3dlckNhc2UoKT09ImF1dGhvcml0eWtleWlkZW50aWZpZXIiKXt2YXIgYz1uZXcgS0pVUi5hc24xLng1MDkuQXV0aG9yaXR5S2V5SWRlbnRpZmllcihiKTt0aGlzLmFwcGVuZEV4dGVuc2lvbihjKX1lbHNle3Rocm93InVuc3VwcG9ydGVkIGV4dGVuc2lvbiBuYW1lOiAiK2R9fX19fX07dGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7aWYodGhpcy5hc24xTm90QmVmb3JlPT1udWxsfHx0aGlzLmFzbjFOb3RBZnRlcj09bnVsbCl7dGhyb3cibm90QmVmb3JlIGFuZC9vciBub3RBZnRlciBub3Qgc2V0In12YXIgYz1uZXcgS0pVUi5hc24xLkRFUlNlcXVlbmNlKHthcnJheTpbdGhpcy5hc24xTm90QmVmb3JlLHRoaXMuYXNuMU5vdEFmdGVyXX0pO3RoaXMuYXNuMUFycmF5PW5ldyBBcnJheSgpO3RoaXMuYXNuMUFycmF5LnB1c2godGhpcy5hc24xVmVyc2lvbik7dGhpcy5hc24xQXJyYXkucHVzaCh0aGlzLmFzbjFTZXJpYWxOdW1iZXIpO3RoaXMuYXNuMUFycmF5LnB1c2godGhpcy5hc24xU2lnbmF0dXJlQWxnKTt0aGlzLmFzbjFBcnJheS5wdXNoKHRoaXMuYXNuMUlzc3Vlcik7dGhpcy5hc24xQXJyYXkucHVzaChjKTt0aGlzLmFzbjFBcnJheS5wdXNoKHRoaXMuYXNuMVN1YmplY3QpO3RoaXMuYXNuMUFycmF5LnB1c2godGhpcy5hc24xU3VialBLZXkpO2lmKHRoaXMuZXh0ZW5zaW9uc0FycmF5Lmxlbmd0aD4wKXt2YXIgZD1uZXcgS0pVUi5hc24xLkRFUlNlcXVlbmNlKHthcnJheTp0aGlzLmV4dGVuc2lvbnNBcnJheX0pO3ZhciBiPW5ldyBLSlVSLmFzbjEuREVSVGFnZ2VkT2JqZWN0KHtleHBsaWNpdDp0cnVlLHRhZzoiYTMiLG9iajpkfSk7dGhpcy5hc24xQXJyYXkucHVzaChiKX12YXIgZT1uZXcgS0pVUi5hc24xLkRFUlNlcXVlbmNlKHthcnJheTp0aGlzLmFzbjFBcnJheX0pO3RoaXMuaFRMVj1lLmdldEVuY29kZWRIZXgoKTt0aGlzLmlzTW9kaWZpZWQ9ZmFsc2U7cmV0dXJuIHRoaXMuaFRMVn07dGhpcy5faW5pdGlhbGl6ZSgpfTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEueDUwOS5UQlNDZXJ0aWZpY2F0ZSxLSlVSLmFzbjEuQVNOMU9iamVjdCk7S0pVUi5hc24xLng1MDkuRXh0ZW5zaW9uPWZ1bmN0aW9uKGIpe0tKVVIuYXNuMS54NTA5LkV4dGVuc2lvbi5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dmFyIGE9bnVsbDt0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXt2YXIgZj1uZXcgS0pVUi5hc24xLkRFUk9iamVjdElkZW50aWZpZXIoe29pZDp0aGlzLm9pZH0pO3ZhciBlPW5ldyBLSlVSLmFzbjEuREVST2N0ZXRTdHJpbmcoe2hleDp0aGlzLmdldEV4dG5WYWx1ZUhleCgpfSk7dmFyIGQ9bmV3IEFycmF5KCk7ZC5wdXNoKGYpO2lmKHRoaXMuY3JpdGljYWwpe2QucHVzaChuZXcgS0pVUi5hc24xLkRFUkJvb2xlYW4oKSl9ZC5wdXNoKGUpO3ZhciBjPW5ldyBLSlVSLmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5OmR9KTtyZXR1cm4gYy5nZXRFbmNvZGVkSGV4KCl9O3RoaXMuY3JpdGljYWw9ZmFsc2U7aWYodHlwZW9mIGIhPSJ1bmRlZmluZWQiKXtpZih0eXBlb2YgYi5jcml0aWNhbCE9InVuZGVmaW5lZCIpe3RoaXMuY3JpdGljYWw9Yi5jcml0aWNhbH19fTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEueDUwOS5FeHRlbnNpb24sS0pVUi5hc24xLkFTTjFPYmplY3QpO0tKVVIuYXNuMS54NTA5LktleVVzYWdlPWZ1bmN0aW9uKGEpe0tKVVIuYXNuMS54NTA5LktleVVzYWdlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLGEpO3RoaXMuZ2V0RXh0blZhbHVlSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXNuMUV4dG5WYWx1ZS5nZXRFbmNvZGVkSGV4KCl9O3RoaXMub2lkPSIyLjUuMjkuMTUiO2lmKHR5cGVvZiBhIT0idW5kZWZpbmVkIil7aWYodHlwZW9mIGEuYmluIT0idW5kZWZpbmVkIil7dGhpcy5hc24xRXh0blZhbHVlPW5ldyBLSlVSLmFzbjEuREVSQml0U3RyaW5nKGEpfX19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS54NTA5LktleVVzYWdlLEtKVVIuYXNuMS54NTA5LkV4dGVuc2lvbik7S0pVUi5hc24xLng1MDkuQmFzaWNDb25zdHJhaW50cz1mdW5jdGlvbihjKXtLSlVSLmFzbjEueDUwOS5CYXNpY0NvbnN0cmFpbnRzLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLGMpO3ZhciBhPWZhbHNlO3ZhciBiPS0xO3RoaXMuZ2V0RXh0blZhbHVlSGV4PWZ1bmN0aW9uKCl7dmFyIGU9bmV3IEFycmF5KCk7aWYodGhpcy5jQSl7ZS5wdXNoKG5ldyBLSlVSLmFzbjEuREVSQm9vbGVhbigpKX1pZih0aGlzLnBhdGhMZW4+LTEpe2UucHVzaChuZXcgS0pVUi5hc24xLkRFUkludGVnZXIoeyJpbnQiOnRoaXMucGF0aExlbn0pKX12YXIgZD1uZXcgS0pVUi5hc24xLkRFUlNlcXVlbmNlKHthcnJheTplfSk7dGhpcy5hc24xRXh0blZhbHVlPWQ7cmV0dXJuIHRoaXMuYXNuMUV4dG5WYWx1ZS5nZXRFbmNvZGVkSGV4KCl9O3RoaXMub2lkPSIyLjUuMjkuMTkiO3RoaXMuY0E9ZmFsc2U7dGhpcy5wYXRoTGVuPS0xO2lmKHR5cGVvZiBjIT0idW5kZWZpbmVkIil7aWYodHlwZW9mIGMuY0EhPSJ1bmRlZmluZWQiKXt0aGlzLmNBPWMuY0F9aWYodHlwZW9mIGMucGF0aExlbiE9InVuZGVmaW5lZCIpe3RoaXMucGF0aExlbj1jLnBhdGhMZW59fX07WUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLng1MDkuQmFzaWNDb25zdHJhaW50cyxLSlVSLmFzbjEueDUwOS5FeHRlbnNpb24pO0tKVVIuYXNuMS54NTA5LkNSTERpc3RyaWJ1dGlvblBvaW50cz1mdW5jdGlvbihhKXtLSlVSLmFzbjEueDUwOS5DUkxEaXN0cmlidXRpb25Qb2ludHMuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSk7dGhpcy5nZXRFeHRuVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hc24xRXh0blZhbHVlLmdldEVuY29kZWRIZXgoKX07dGhpcy5zZXRCeURQQXJyYXk9ZnVuY3Rpb24oYil7dGhpcy5hc24xRXh0blZhbHVlPW5ldyBLSlVSLmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5OmJ9KX07dGhpcy5zZXRCeU9uZVVSST1mdW5jdGlvbihlKXt2YXIgYj1uZXcgS0pVUi5hc24xLng1MDkuR2VuZXJhbE5hbWVzKFt7dXJpOmV9XSk7dmFyIGQ9bmV3IEtKVVIuYXNuMS54NTA5LkRpc3RyaWJ1dGlvblBvaW50TmFtZShiKTt2YXIgYz1uZXcgS0pVUi5hc24xLng1MDkuRGlzdHJpYnV0aW9uUG9pbnQoe2Rwb2JqOmR9KTt0aGlzLnNldEJ5RFBBcnJheShbY10pfTt0aGlzLm9pZD0iMi41LjI5LjMxIjtpZih0eXBlb2YgYSE9InVuZGVmaW5lZCIpe2lmKHR5cGVvZiBhLmFycmF5IT0idW5kZWZpbmVkIil7dGhpcy5zZXRCeURQQXJyYXkoYS5hcnJheSl9ZWxzZXtpZih0eXBlb2YgYS51cmkhPSJ1bmRlZmluZWQiKXt0aGlzLnNldEJ5T25lVVJJKGEudXJpKX19fX07WUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLng1MDkuQ1JMRGlzdHJpYnV0aW9uUG9pbnRzLEtKVVIuYXNuMS54NTA5LkV4dGVuc2lvbik7S0pVUi5hc24xLng1MDkuRXh0S2V5VXNhZ2U9ZnVuY3Rpb24oYSl7S0pVUi5hc24xLng1MDkuRXh0S2V5VXNhZ2Uuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSk7dGhpcy5zZXRQdXJwb3NlQXJyYXk9ZnVuY3Rpb24oYil7dGhpcy5hc24xRXh0blZhbHVlPW5ldyBLSlVSLmFzbjEuREVSU2VxdWVuY2UoKTtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGQ9bmV3IEtKVVIuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyKGJbY10pO3RoaXMuYXNuMUV4dG5WYWx1ZS5hcHBlbmRBU04xT2JqZWN0KGQpfX07dGhpcy5nZXRFeHRuVmFsdWVIZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hc24xRXh0blZhbHVlLmdldEVuY29kZWRIZXgoKX07dGhpcy5vaWQ9IjIuNS4yOS4zNyI7aWYodHlwZW9mIGEhPSJ1bmRlZmluZWQiKXtpZih0eXBlb2YgYS5hcnJheSE9InVuZGVmaW5lZCIpe3RoaXMuc2V0UHVycG9zZUFycmF5KGEuYXJyYXkpfX19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS54NTA5LkV4dEtleVVzYWdlLEtKVVIuYXNuMS54NTA5LkV4dGVuc2lvbik7S0pVUi5hc24xLng1MDkuQXV0aG9yaXR5S2V5SWRlbnRpZmllcj1mdW5jdGlvbihhKXtLSlVSLmFzbjEueDUwOS5BdXRob3JpdHlLZXlJZGVudGlmaWVyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzLGEpO3RoaXMuYXNuMUtJRD1udWxsO3RoaXMuYXNuMUNlcnRJc3N1ZXI9bnVsbDt0aGlzLmFzbjFDZXJ0U049bnVsbDt0aGlzLmdldEV4dG5WYWx1ZUhleD1mdW5jdGlvbigpe3ZhciBjPW5ldyBBcnJheSgpO2lmKHRoaXMuYXNuMUtJRCl7Yy5wdXNoKG5ldyBLSlVSLmFzbjEuREVSVGFnZ2VkT2JqZWN0KHtleHBsaWNpdDpmYWxzZSx0YWc6IjgwIixvYmo6dGhpcy5hc24xS0lEfSkpfWlmKHRoaXMuYXNuMUNlcnRJc3N1ZXIpe2MucHVzaChuZXcgS0pVUi5hc24xLkRFUlRhZ2dlZE9iamVjdCh7ZXhwbGljaXQ6ZmFsc2UsdGFnOiJhMSIsb2JqOnRoaXMuYXNuMUNlcnRJc3N1ZXJ9KSl9aWYodGhpcy5hc24xQ2VydFNOKXtjLnB1c2gobmV3IEtKVVIuYXNuMS5ERVJUYWdnZWRPYmplY3Qoe2V4cGxpY2l0OmZhbHNlLHRhZzoiODIiLG9iajp0aGlzLmFzbjFDZXJ0U059KSl9dmFyIGI9bmV3IEtKVVIuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6Y30pO3RoaXMuYXNuMUV4dG5WYWx1ZT1iO3JldHVybiB0aGlzLmFzbjFFeHRuVmFsdWUuZ2V0RW5jb2RlZEhleCgpfTt0aGlzLnNldEtJREJ5UGFyYW09ZnVuY3Rpb24oYil7dGhpcy5hc24xS0lEPW5ldyBLSlVSLmFzbjEuREVST2N0ZXRTdHJpbmcoYil9O3RoaXMuc2V0Q2VydElzc3VlckJ5UGFyYW09ZnVuY3Rpb24oYil7dGhpcy5hc24xQ2VydElzc3Vlcj1uZXcgS0pVUi5hc24xLng1MDkuWDUwME5hbWUoYil9O3RoaXMuc2V0Q2VydFNOQnlQYXJhbT1mdW5jdGlvbihiKXt0aGlzLmFzbjFDZXJ0U049bmV3IEtKVVIuYXNuMS5ERVJJbnRlZ2VyKGIpfTt0aGlzLm9pZD0iMi41LjI5LjM1IjtpZih0eXBlb2YgYSE9InVuZGVmaW5lZCIpe2lmKHR5cGVvZiBhLmtpZCE9InVuZGVmaW5lZCIpe3RoaXMuc2V0S0lEQnlQYXJhbShhLmtpZCl9aWYodHlwZW9mIGEuaXNzdWVyIT0idW5kZWZpbmVkIil7dGhpcy5zZXRDZXJ0SXNzdWVyQnlQYXJhbShhLmlzc3Vlcil9aWYodHlwZW9mIGEuc24hPSJ1bmRlZmluZWQiKXt0aGlzLnNldENlcnRTTkJ5UGFyYW0oYS5zbil9fX07WUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLng1MDkuQXV0aG9yaXR5S2V5SWRlbnRpZmllcixLSlVSLmFzbjEueDUwOS5FeHRlbnNpb24pO0tKVVIuYXNuMS54NTA5LkNSTD1mdW5jdGlvbihmKXtLSlVSLmFzbjEueDUwOS5DUkwuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3ZhciBhPW51bGw7dmFyIGM9bnVsbDt2YXIgZT1udWxsO3ZhciBiPW51bGw7dmFyIGQ9bnVsbDt0aGlzLnNldFJzYVBydktleUJ5UEVNYW5kUGFzcz1mdW5jdGlvbihoLGope3ZhciBnPVBLQ1M1UEtFWS5nZXREZWNyeXB0ZWRLZXlIZXgoaCxqKTt2YXIgaT1uZXcgUlNBS2V5KCk7aS5yZWFkUHJpdmF0ZUtleUZyb21BU04xSGV4U3RyaW5nKGcpO3RoaXMucnNhUHJ2S2V5PWl9O3RoaXMuc2lnbj1mdW5jdGlvbigpe3RoaXMuYXNuMVNpZ25hdHVyZUFsZz10aGlzLmFzbjFUQlNDZXJ0TGlzdC5hc24xU2lnbmF0dXJlQWxnO3NpZz1uZXcgS0pVUi5jcnlwdG8uU2lnbmF0dXJlKHthbGc6IlNIQTF3aXRoUlNBIixwcm92OiJjcnlwdG9qcy9qc3JzYSJ9KTtzaWcuaW5pdFNpZ24odGhpcy5yc2FQcnZLZXkpO3NpZy51cGRhdGVIZXgodGhpcy5hc24xVEJTQ2VydExpc3QuZ2V0RW5jb2RlZEhleCgpKTt0aGlzLmhleFNpZz1zaWcuc2lnbigpO3RoaXMuYXNuMVNpZz1uZXcgS0pVUi5hc24xLkRFUkJpdFN0cmluZyh7aGV4OiIwMCIrdGhpcy5oZXhTaWd9KTt2YXIgZz1uZXcgS0pVUi5hc24xLkRFUlNlcXVlbmNlKHthcnJheTpbdGhpcy5hc24xVEJTQ2VydExpc3QsdGhpcy5hc24xU2lnbmF0dXJlQWxnLHRoaXMuYXNuMVNpZ119KTt0aGlzLmhUTFY9Zy5nZXRFbmNvZGVkSGV4KCk7dGhpcy5pc01vZGlmaWVkPWZhbHNlfTt0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXtpZih0aGlzLmlzTW9kaWZpZWQ9PWZhbHNlJiZ0aGlzLmhUTFYhPW51bGwpe3JldHVybiB0aGlzLmhUTFZ9dGhyb3cibm90IHNpZ25lZCB5ZXQifTt0aGlzLmdldFBFTVN0cmluZz1mdW5jdGlvbigpe3ZhciBpPXRoaXMuZ2V0RW5jb2RlZEhleCgpO3ZhciBnPUNyeXB0b0pTLmVuYy5IZXgucGFyc2UoaSk7dmFyIGg9Q3J5cHRvSlMuZW5jLkJhc2U2NC5zdHJpbmdpZnkoZyk7dmFyIGo9aC5yZXBsYWNlKC8oLns2NH0pL2csIiQxXHJcbiIpO3JldHVybiItLS0tLUJFR0lOIFg1MDkgQ1JMLS0tLS1cclxuIitqKyJcclxuLS0tLS1FTkQgWDUwOSBDUkwtLS0tLVxyXG4ifTtpZih0eXBlb2YgZiE9InVuZGVmaW5lZCIpe2lmKHR5cGVvZiBmLnRic29iaiE9InVuZGVmaW5lZCIpe3RoaXMuYXNuMVRCU0NlcnRMaXN0PWYudGJzb2JqfWlmKHR5cGVvZiBmLnJzYXBydmtleSE9InVuZGVmaW5lZCIpe3RoaXMucnNhUHJ2S2V5PWYucnNhcHJ2a2V5fWlmKCh0eXBlb2YgZi5yc2FwcnZwZW0hPSJ1bmRlZmluZWQiKSYmKHR5cGVvZiBmLnJzYXBydnBhcyE9InVuZGVmaW5lZCIpKXt0aGlzLnNldFJzYVBydktleUJ5UEVNYW5kUGFzcyhmLnJzYXBydnBlbSxmLnJzYXBydnBhcyl9fX07WUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLng1MDkuQ1JMLEtKVVIuYXNuMS5BU04xT2JqZWN0KTtLSlVSLmFzbjEueDUwOS5UQlNDZXJ0TGlzdD1mdW5jdGlvbihiKXtLSlVSLmFzbjEueDUwOS5UQlNDZXJ0TGlzdC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dmFyIGE9bnVsbDt0aGlzLnNldFNpZ25hdHVyZUFsZ0J5UGFyYW09ZnVuY3Rpb24oYyl7dGhpcy5hc24xU2lnbmF0dXJlQWxnPW5ldyBLSlVSLmFzbjEueDUwOS5BbGdvcml0aG1JZGVudGlmaWVyKGMpfTt0aGlzLnNldElzc3VlckJ5UGFyYW09ZnVuY3Rpb24oYyl7dGhpcy5hc24xSXNzdWVyPW5ldyBLSlVSLmFzbjEueDUwOS5YNTAwTmFtZShjKX07dGhpcy5zZXRUaGlzVXBkYXRlQnlQYXJhbT1mdW5jdGlvbihjKXt0aGlzLmFzbjFUaGlzVXBkYXRlPW5ldyBLSlVSLmFzbjEueDUwOS5UaW1lKGMpfTt0aGlzLnNldE5leHRVcGRhdGVCeVBhcmFtPWZ1bmN0aW9uKGMpe3RoaXMuYXNuMU5leHRVcGRhdGU9bmV3IEtKVVIuYXNuMS54NTA5LlRpbWUoYyl9O3RoaXMuYWRkUmV2b2tlZENlcnQ9ZnVuY3Rpb24oYyxkKXt2YXIgZj17fTtpZihjIT11bmRlZmluZWQmJmMhPW51bGwpe2Yuc249Y31pZihkIT11bmRlZmluZWQmJmQhPW51bGwpe2YudGltZT1kfXZhciBlPW5ldyBLSlVSLmFzbjEueDUwOS5DUkxFbnRyeShmKTt0aGlzLmFSZXZva2VkQ2VydC5wdXNoKGUpfTt0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXt0aGlzLmFzbjFBcnJheT1uZXcgQXJyYXkoKTtpZih0aGlzLmFzbjFWZXJzaW9uIT1udWxsKXt0aGlzLmFzbjFBcnJheS5wdXNoKHRoaXMuYXNuMVZlcnNpb24pfXRoaXMuYXNuMUFycmF5LnB1c2godGhpcy5hc24xU2lnbmF0dXJlQWxnKTt0aGlzLmFzbjFBcnJheS5wdXNoKHRoaXMuYXNuMUlzc3Vlcik7dGhpcy5hc24xQXJyYXkucHVzaCh0aGlzLmFzbjFUaGlzVXBkYXRlKTtpZih0aGlzLmFzbjFOZXh0VXBkYXRlIT1udWxsKXt0aGlzLmFzbjFBcnJheS5wdXNoKHRoaXMuYXNuMU5leHRVcGRhdGUpfWlmKHRoaXMuYVJldm9rZWRDZXJ0Lmxlbmd0aD4wKXt2YXIgYz1uZXcgS0pVUi5hc24xLkRFUlNlcXVlbmNlKHthcnJheTp0aGlzLmFSZXZva2VkQ2VydH0pO3RoaXMuYXNuMUFycmF5LnB1c2goYyl9dmFyIGQ9bmV3IEtKVVIuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6dGhpcy5hc24xQXJyYXl9KTt0aGlzLmhUTFY9ZC5nZXRFbmNvZGVkSGV4KCk7dGhpcy5pc01vZGlmaWVkPWZhbHNlO3JldHVybiB0aGlzLmhUTFZ9O3RoaXMuX2luaXRpYWxpemU9ZnVuY3Rpb24oKXt0aGlzLmFzbjFWZXJzaW9uPW51bGw7dGhpcy5hc24xU2lnbmF0dXJlQWxnPW51bGw7dGhpcy5hc24xSXNzdWVyPW51bGw7dGhpcy5hc24xVGhpc1VwZGF0ZT1udWxsO3RoaXMuYXNuMU5leHRVcGRhdGU9bnVsbDt0aGlzLmFSZXZva2VkQ2VydD1uZXcgQXJyYXkoKX07dGhpcy5faW5pdGlhbGl6ZSgpfTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEueDUwOS5UQlNDZXJ0TGlzdCxLSlVSLmFzbjEuQVNOMU9iamVjdCk7S0pVUi5hc24xLng1MDkuQ1JMRW50cnk9ZnVuY3Rpb24oYyl7S0pVUi5hc24xLng1MDkuQ1JMRW50cnkuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3ZhciBiPW51bGw7dmFyIGE9bnVsbDt0aGlzLnNldENlcnRTZXJpYWw9ZnVuY3Rpb24oZCl7dGhpcy5zbj1uZXcgS0pVUi5hc24xLkRFUkludGVnZXIoZCl9O3RoaXMuc2V0UmV2b2NhdGlvbkRhdGU9ZnVuY3Rpb24oZCl7dGhpcy50aW1lPW5ldyBLSlVSLmFzbjEueDUwOS5UaW1lKGQpfTt0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXt2YXIgZD1uZXcgS0pVUi5hc24xLkRFUlNlcXVlbmNlKHthcnJheTpbdGhpcy5zbix0aGlzLnRpbWVdfSk7dGhpcy5UTFY9ZC5nZXRFbmNvZGVkSGV4KCk7cmV0dXJuIHRoaXMuVExWfTtpZih0eXBlb2YgYyE9InVuZGVmaW5lZCIpe2lmKHR5cGVvZiBjLnRpbWUhPSJ1bmRlZmluZWQiKXt0aGlzLnNldFJldm9jYXRpb25EYXRlKGMudGltZSl9aWYodHlwZW9mIGMuc24hPSJ1bmRlZmluZWQiKXt0aGlzLnNldENlcnRTZXJpYWwoYy5zbil9fX07WUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLng1MDkuQ1JMRW50cnksS0pVUi5hc24xLkFTTjFPYmplY3QpO0tKVVIuYXNuMS54NTA5Llg1MDBOYW1lPWZ1bmN0aW9uKGIpe0tKVVIuYXNuMS54NTA5Llg1MDBOYW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLmFzbjFBcnJheT1uZXcgQXJyYXkoKTt0aGlzLnNldEJ5U3RyaW5nPWZ1bmN0aW9uKGMpe3ZhciBkPWMuc3BsaXQoIi8iKTtkLnNoaWZ0KCk7Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDtlKyspe3RoaXMuYXNuMUFycmF5LnB1c2gobmV3IEtKVVIuYXNuMS54NTA5LlJETih7c3RyOmRbZV19KSl9fTt0aGlzLnNldEJ5T2JqZWN0PWZ1bmN0aW9uKGUpe2Zvcih2YXIgYyBpbiBlKXtpZihlLmhhc093blByb3BlcnR5KGMpKXt2YXIgZD1uZXcgS0pVUi5hc24xLng1MDkuUkROKHtzdHI6YysiPSIrZVtjXX0pO3RoaXMuYXNuMUFycmF5P3RoaXMuYXNuMUFycmF5LnB1c2goZCk6dGhpcy5hc24xQXJyYXk9W2RdfX19O3RoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe2lmKHR5cGVvZiB0aGlzLmhUTFY9PSJzdHJpbmciKXtyZXR1cm4gdGhpcy5oVExWfXZhciBjPW5ldyBLSlVSLmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5OnRoaXMuYXNuMUFycmF5fSk7dGhpcy5oVExWPWMuZ2V0RW5jb2RlZEhleCgpO3JldHVybiB0aGlzLmhUTFZ9O2lmKHR5cGVvZiBiIT0idW5kZWZpbmVkIil7aWYodHlwZW9mIGIuc3RyIT0idW5kZWZpbmVkIil7dGhpcy5zZXRCeVN0cmluZyhiLnN0cil9ZWxzZXtpZih0eXBlb2YgYj09PSJvYmplY3QiKXt0aGlzLnNldEJ5T2JqZWN0KGIpfX1pZih0eXBlb2YgYi5jZXJ0aXNzdWVyIT0idW5kZWZpbmVkIil7dmFyIGE9bmV3IFg1MDkoKTthLmhleD1YNTA5LnBlbVRvSGV4KGIuY2VydGlzc3Vlcik7dGhpcy5oVExWPWEuZ2V0SXNzdWVySGV4KCl9aWYodHlwZW9mIGIuY2VydHN1YmplY3QhPSJ1bmRlZmluZWQiKXt2YXIgYT1uZXcgWDUwOSgpO2EuaGV4PVg1MDkucGVtVG9IZXgoYi5jZXJ0c3ViamVjdCk7dGhpcy5oVExWPWEuZ2V0U3ViamVjdEhleCgpfX19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS54NTA5Llg1MDBOYW1lLEtKVVIuYXNuMS5BU04xT2JqZWN0KTtLSlVSLmFzbjEueDUwOS5SRE49ZnVuY3Rpb24oYSl7S0pVUi5hc24xLng1MDkuUkROLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLmFzbjFBcnJheT1uZXcgQXJyYXkoKTt0aGlzLmFkZEJ5U3RyaW5nPWZ1bmN0aW9uKGIpe3RoaXMuYXNuMUFycmF5LnB1c2gobmV3IEtKVVIuYXNuMS54NTA5LkF0dHJpYnV0ZVR5cGVBbmRWYWx1ZSh7c3RyOmJ9KSl9O3RoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe3ZhciBiPW5ldyBLSlVSLmFzbjEuREVSU2V0KHthcnJheTp0aGlzLmFzbjFBcnJheX0pO3RoaXMuVExWPWIuZ2V0RW5jb2RlZEhleCgpO3JldHVybiB0aGlzLlRMVn07aWYodHlwZW9mIGEhPSJ1bmRlZmluZWQiKXtpZih0eXBlb2YgYS5zdHIhPSJ1bmRlZmluZWQiKXt0aGlzLmFkZEJ5U3RyaW5nKGEuc3RyKX19fTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEueDUwOS5SRE4sS0pVUi5hc24xLkFTTjFPYmplY3QpO0tKVVIuYXNuMS54NTA5LkF0dHJpYnV0ZVR5cGVBbmRWYWx1ZT1mdW5jdGlvbihiKXtLSlVSLmFzbjEueDUwOS5BdHRyaWJ1dGVUeXBlQW5kVmFsdWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3ZhciBkPW51bGw7dmFyIGM9bnVsbDt2YXIgYT0idXRmOCI7dGhpcy5zZXRCeVN0cmluZz1mdW5jdGlvbihlKXtpZihlLm1hdGNoKC9eKFtePV0rKT0oLispJC8pKXt0aGlzLnNldEJ5QXR0clR5cGVBbmRWYWx1ZVN0cihSZWdFeHAuJDEsUmVnRXhwLiQyKX1lbHNle3Rocm93Im1hbGZvcm1lZCBhdHRyVHlwZUFuZFZhbHVlU3RyOiAiK2V9fTt0aGlzLnNldEJ5QXR0clR5cGVBbmRWYWx1ZVN0cj1mdW5jdGlvbihnLGYpe3RoaXMudHlwZU9iaj1LSlVSLmFzbjEueDUwOS5PSUQuYXR5cGUyb2JqKGcpO3ZhciBlPWE7aWYoZz09IkMiKXtlPSJwcm4ifXRoaXMudmFsdWVPYmo9dGhpcy5nZXRWYWx1ZU9iaihlLGYpfTt0aGlzLmdldFZhbHVlT2JqPWZ1bmN0aW9uKGYsZSl7aWYoZj09InV0ZjgiKXtyZXR1cm4gbmV3IEtKVVIuYXNuMS5ERVJVVEY4U3RyaW5nKHtzdHI6ZX0pfWlmKGY9PSJwcm4iKXtyZXR1cm4gbmV3IEtKVVIuYXNuMS5ERVJQcmludGFibGVTdHJpbmcoe3N0cjplfSl9aWYoZj09InRlbCIpe3JldHVybiBuZXcgS0pVUi5hc24xLkRFUlRlbGV0ZXhTdHJpbmcoe3N0cjplfSl9aWYoZj09ImlhNSIpe3JldHVybiBuZXcgS0pVUi5hc24xLkRFUklBNVN0cmluZyh7c3RyOmV9KX10aHJvdyJ1bnN1cHBvcnRlZCBkaXJlY3Rvcnkgc3RyaW5nIHR5cGU6IHR5cGU9IitmKyIgdmFsdWU9IitlfTt0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgS0pVUi5hc24xLkRFUlNlcXVlbmNlKHthcnJheTpbdGhpcy50eXBlT2JqLHRoaXMudmFsdWVPYmpdfSk7dGhpcy5UTFY9ZS5nZXRFbmNvZGVkSGV4KCk7cmV0dXJuIHRoaXMuVExWfTtpZih0eXBlb2YgYiE9InVuZGVmaW5lZCIpe2lmKHR5cGVvZiBiLnN0ciE9InVuZGVmaW5lZCIpe3RoaXMuc2V0QnlTdHJpbmcoYi5zdHIpfX19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS54NTA5LkF0dHJpYnV0ZVR5cGVBbmRWYWx1ZSxLSlVSLmFzbjEuQVNOMU9iamVjdCk7S0pVUi5hc24xLng1MDkuU3ViamVjdFB1YmxpY0tleUluZm89ZnVuY3Rpb24oZCl7S0pVUi5hc24xLng1MDkuU3ViamVjdFB1YmxpY0tleUluZm8uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3ZhciBiPW51bGw7dmFyIGM9bnVsbDt2YXIgYT1udWxsO3RoaXMuc2V0UlNBS2V5PWZ1bmN0aW9uKGUpe2lmKCFSU0FLZXkucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoZSkpe3Rocm93ImFyZ3VtZW50IGlzIG5vdCBSU0FLZXkgaW5zdGFuY2UifXRoaXMucnNhS2V5PWU7dmFyIGc9bmV3IEtKVVIuYXNuMS5ERVJJbnRlZ2VyKHtiaWdpbnQ6ZS5ufSk7dmFyIGY9bmV3IEtKVVIuYXNuMS5ERVJJbnRlZ2VyKHsiaW50IjplLmV9KTt2YXIgaT1uZXcgS0pVUi5hc24xLkRFUlNlcXVlbmNlKHthcnJheTpbZyxmXX0pO3ZhciBoPWkuZ2V0RW5jb2RlZEhleCgpO3RoaXMuYXNuMUFsZ0lkPW5ldyBLSlVSLmFzbjEueDUwOS5BbGdvcml0aG1JZGVudGlmaWVyKHtuYW1lOiJyc2FFbmNyeXB0aW9uIn0pO3RoaXMuYXNuMVN1YmpQS2V5PW5ldyBLSlVSLmFzbjEuREVSQml0U3RyaW5nKHtoZXg6IjAwIitofSl9O3RoaXMuc2V0UlNBUEVNPWZ1bmN0aW9uKGcpe2lmKGcubWF0Y2goLy0tLS0tQkVHSU4gUFVCTElDIEtFWS0tLS0tLykpe3ZhciBuPWc7bj1uLnJlcGxhY2UoL14tLS0tLVteLV0rLS0tLS0vLCIiKTtuPW4ucmVwbGFjZSgvLS0tLS1bXi1dKy0tLS0tXHMqJC8sIiIpO3ZhciBtPW4ucmVwbGFjZSgvXHMrL2csIiIpO3ZhciBmPUNyeXB0b0pTLmVuYy5CYXNlNjQucGFyc2UobSk7dmFyIGk9Q3J5cHRvSlMuZW5jLkhleC5zdHJpbmdpZnkoZik7dmFyIGs9X3JzYXBlbV9nZXRIZXhWYWx1ZUFycmF5T2ZDaGlsZHJlbkZyb21IZXgoaSk7dmFyIGg9a1sxXTt2YXIgbD1oLnN1YnN0cigyKTt2YXIgZT1fcnNhcGVtX2dldEhleFZhbHVlQXJyYXlPZkNoaWxkcmVuRnJvbUhleChsKTt2YXIgaj1uZXcgUlNBS2V5KCk7ai5zZXRQdWJsaWMoZVswXSxlWzFdKTt0aGlzLnNldFJTQUtleShqKX1lbHNle3Rocm93ImtleSBub3Qgc3VwcG9ydGVkIn19O3RoaXMuZ2V0QVNOMU9iamVjdD1mdW5jdGlvbigpe2lmKHRoaXMuYXNuMUFsZ0lkPT1udWxsfHx0aGlzLmFzbjFTdWJqUEtleT09bnVsbCl7dGhyb3ciYWxnSWQgYW5kL29yIHN1YmpQdWJLZXkgbm90IHNldCJ9dmFyIGU9bmV3IEtKVVIuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6W3RoaXMuYXNuMUFsZ0lkLHRoaXMuYXNuMVN1YmpQS2V5XX0pO3JldHVybiBlfTt0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldEFTTjFPYmplY3QoKTt0aGlzLmhUTFY9ZS5nZXRFbmNvZGVkSGV4KCk7cmV0dXJuIHRoaXMuaFRMVn07dGhpcy5fc2V0UlNBS2V5PWZ1bmN0aW9uKGUpe3ZhciBnPUtKVVIuYXNuMS5BU04xVXRpbC5uZXdPYmplY3Qoe3NlcTpbeyJpbnQiOntiaWdpbnQ6ZS5ufX0seyJpbnQiOnsiaW50IjplLmV9fV19KTt2YXIgZj1nLmdldEVuY29kZWRIZXgoKTt0aGlzLmFzbjFBbGdJZD1uZXcgS0pVUi5hc24xLng1MDkuQWxnb3JpdGhtSWRlbnRpZmllcih7bmFtZToicnNhRW5jcnlwdGlvbiJ9KTt0aGlzLmFzbjFTdWJqUEtleT1uZXcgS0pVUi5hc24xLkRFUkJpdFN0cmluZyh7aGV4OiIwMCIrZn0pfTt0aGlzLl9zZXRFQz1mdW5jdGlvbihlKXt2YXIgZj1uZXcgS0pVUi5hc24xLkRFUk9iamVjdElkZW50aWZpZXIoe25hbWU6ZS5jdXJ2ZU5hbWV9KTt0aGlzLmFzbjFBbGdJZD1uZXcgS0pVUi5hc24xLng1MDkuQWxnb3JpdGhtSWRlbnRpZmllcih7bmFtZToiZWNQdWJsaWNLZXkiLGFzbjFwYXJhbXM6Zn0pO3RoaXMuYXNuMVN1YmpQS2V5PW5ldyBLSlVSLmFzbjEuREVSQml0U3RyaW5nKHtoZXg6IjAwIitlLnB1YktleUhleH0pfTt0aGlzLl9zZXREU0E9ZnVuY3Rpb24oZSl7dmFyIGY9bmV3IEtKVVIuYXNuMS5BU04xVXRpbC5uZXdPYmplY3Qoe3NlcTpbeyJpbnQiOntiaWdpbnQ6ZS5wfX0seyJpbnQiOntiaWdpbnQ6ZS5xfX0seyJpbnQiOntiaWdpbnQ6ZS5nfX1dfSk7dGhpcy5hc24xQWxnSWQ9bmV3IEtKVVIuYXNuMS54NTA5LkFsZ29yaXRobUlkZW50aWZpZXIoe25hbWU6ImRzYSIsYXNuMXBhcmFtczpmfSk7dmFyIGc9bmV3IEtKVVIuYXNuMS5ERVJJbnRlZ2VyKHtiaWdpbnQ6ZS55fSk7dGhpcy5hc24xU3VialBLZXk9bmV3IEtKVVIuYXNuMS5ERVJCaXRTdHJpbmcoe2hleDoiMDAiK2cuZ2V0RW5jb2RlZEhleCgpfSl9O2lmKHR5cGVvZiBkIT0idW5kZWZpbmVkIil7aWYodHlwZW9mIFJTQUtleSE9InVuZGVmaW5lZCImJmQgaW5zdGFuY2VvZiBSU0FLZXkpe3RoaXMuX3NldFJTQUtleShkKX1lbHNle2lmKHR5cGVvZiBLSlVSLmNyeXB0by5FQ0RTQSE9InVuZGVmaW5lZCImJmQgaW5zdGFuY2VvZiBLSlVSLmNyeXB0by5FQ0RTQSl7dGhpcy5fc2V0RUMoZCl9ZWxzZXtpZih0eXBlb2YgS0pVUi5jcnlwdG8uRFNBIT0idW5kZWZpbmVkIiYmZCBpbnN0YW5jZW9mIEtKVVIuY3J5cHRvLkRTQSl7dGhpcy5fc2V0RFNBKGQpfWVsc2V7aWYodHlwZW9mIGQucnNha2V5IT0idW5kZWZpbmVkIil7dGhpcy5zZXRSU0FLZXkoZC5yc2FrZXkpfWVsc2V7aWYodHlwZW9mIGQucnNhcGVtIT0idW5kZWZpbmVkIil7dGhpcy5zZXRSU0FQRU0oZC5yc2FwZW0pfX19fX19fTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEueDUwOS5TdWJqZWN0UHVibGljS2V5SW5mbyxLSlVSLmFzbjEuQVNOMU9iamVjdCk7S0pVUi5hc24xLng1MDkuVGltZT1mdW5jdGlvbihjKXtLSlVSLmFzbjEueDUwOS5UaW1lLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt2YXIgYj1udWxsO3ZhciBhPW51bGw7dGhpcy5zZXRUaW1lUGFyYW1zPWZ1bmN0aW9uKGQpe3RoaXMudGltZVBhcmFtcz1kfTt0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXt2YXIgZD1udWxsO2lmKHRoaXMudGltZVBhcmFtcyE9bnVsbCl7aWYodGhpcy50eXBlPT0idXRjIil7ZD1uZXcgS0pVUi5hc24xLkRFUlVUQ1RpbWUodGhpcy50aW1lUGFyYW1zKX1lbHNle2Q9bmV3IEtKVVIuYXNuMS5ERVJHZW5lcmFsaXplZFRpbWUodGhpcy50aW1lUGFyYW1zKX19ZWxzZXtpZih0aGlzLnR5cGU9PSJ1dGMiKXtkPW5ldyBLSlVSLmFzbjEuREVSVVRDVGltZSgpfWVsc2V7ZD1uZXcgS0pVUi5hc24xLkRFUkdlbmVyYWxpemVkVGltZSgpfX10aGlzLlRMVj1kLmdldEVuY29kZWRIZXgoKTtyZXR1cm4gdGhpcy5UTFZ9O3RoaXMudHlwZT0idXRjIjtpZih0eXBlb2YgYyE9InVuZGVmaW5lZCIpe2lmKHR5cGVvZiBjLnR5cGUhPSJ1bmRlZmluZWQiKXt0aGlzLnR5cGU9Yy50eXBlfWVsc2V7aWYodHlwZW9mIGMuc3RyIT0idW5kZWZpbmVkIil7aWYoYy5zdHIubWF0Y2goL15bMC05XXsxMn1aJC8pKXt0aGlzLnR5cGU9InV0YyJ9aWYoYy5zdHIubWF0Y2goL15bMC05XXsxNH1aJC8pKXt0aGlzLnR5cGU9ImdlbiJ9fX10aGlzLnRpbWVQYXJhbXM9Y319O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS54NTA5LlRpbWUsS0pVUi5hc24xLkFTTjFPYmplY3QpO0tKVVIuYXNuMS54NTA5LkFsZ29yaXRobUlkZW50aWZpZXI9ZnVuY3Rpb24oZSl7S0pVUi5hc24xLng1MDkuQWxnb3JpdGhtSWRlbnRpZmllci5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dmFyIGE9bnVsbDt2YXIgZD1udWxsO3ZhciBiPW51bGw7dmFyIGM9ZmFsc2U7dGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7aWYodGhpcy5uYW1lQWxnPT1udWxsJiZ0aGlzLmFzbjFBbGc9PW51bGwpe3Rocm93ImFsZ29yaXRobSBub3Qgc3BlY2lmaWVkIn1pZih0aGlzLm5hbWVBbGchPW51bGwmJnRoaXMuYXNuMUFsZz09bnVsbCl7dGhpcy5hc24xQWxnPUtKVVIuYXNuMS54NTA5Lk9JRC5uYW1lMm9iaih0aGlzLm5hbWVBbGcpfXZhciBmPVt0aGlzLmFzbjFBbGddO2lmKCF0aGlzLnBhcmFtRW1wdHkpe2YucHVzaCh0aGlzLmFzbjFQYXJhbXMpfXZhciBnPW5ldyBLSlVSLmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5OmZ9KTt0aGlzLmhUTFY9Zy5nZXRFbmNvZGVkSGV4KCk7cmV0dXJuIHRoaXMuaFRMVn07aWYodHlwZW9mIGUhPSJ1bmRlZmluZWQiKXtpZih0eXBlb2YgZS5uYW1lIT0idW5kZWZpbmVkIil7dGhpcy5uYW1lQWxnPWUubmFtZX1pZih0eXBlb2YgZS5hc24xcGFyYW1zIT0idW5kZWZpbmVkIil7dGhpcy5hc24xUGFyYW1zPWUuYXNuMXBhcmFtc31pZih0eXBlb2YgZS5wYXJhbWVtcHR5IT0idW5kZWZpbmVkIil7dGhpcy5wYXJhbUVtcHR5PWUucGFyYW1lbXB0eX19aWYodGhpcy5hc24xUGFyYW1zPT1udWxsKXt0aGlzLmFzbjFQYXJhbXM9bmV3IEtKVVIuYXNuMS5ERVJOdWxsKCl9fTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEueDUwOS5BbGdvcml0aG1JZGVudGlmaWVyLEtKVVIuYXNuMS5BU04xT2JqZWN0KTtLSlVSLmFzbjEueDUwOS5HZW5lcmFsTmFtZT1mdW5jdGlvbihkKXtLSlVSLmFzbjEueDUwOS5HZW5lcmFsTmFtZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dmFyIGM9bnVsbDt2YXIgYj1udWxsO3ZhciBhPXtyZmM4MjI6IjgxIixkbnM6IjgyIixkbjoiYTQiLHVyaToiODYifTt0aGlzLmV4cGxpY2l0PWZhbHNlO3RoaXMuc2V0QnlQYXJhbT1mdW5jdGlvbihrKXt2YXIgaj1udWxsO3ZhciBnPW51bGw7aWYodHlwZW9mIGs9PSJ1bmRlZmluZWQiKXtyZXR1cm59aWYodHlwZW9mIGsucmZjODIyIT0idW5kZWZpbmVkIil7dGhpcy50eXBlPSJyZmM4MjIiO2c9bmV3IEtKVVIuYXNuMS5ERVJJQTVTdHJpbmcoe3N0cjprW3RoaXMudHlwZV19KX1pZih0eXBlb2Ygay5kbnMhPSJ1bmRlZmluZWQiKXt0aGlzLnR5cGU9ImRucyI7Zz1uZXcgS0pVUi5hc24xLkRFUklBNVN0cmluZyh7c3RyOmtbdGhpcy50eXBlXX0pfWlmKHR5cGVvZiBrLnVyaSE9InVuZGVmaW5lZCIpe3RoaXMudHlwZT0idXJpIjtnPW5ldyBLSlVSLmFzbjEuREVSSUE1U3RyaW5nKHtzdHI6a1t0aGlzLnR5cGVdfSl9aWYodHlwZW9mIGsuY2VydGlzc3VlciE9InVuZGVmaW5lZCIpe3RoaXMudHlwZT0iZG4iO3RoaXMuZXhwbGljaXQ9dHJ1ZTt2YXIgaD1rLmNlcnRpc3N1ZXI7dmFyIGY9bnVsbDtpZihoLm1hdGNoKC9eWzAtOUEtRmEtZl0rJC8pKXtmPT1ofWlmKGguaW5kZXhPZigiLS0tLS1CRUdJTiAiKSE9LTEpe2Y9WDUwOS5wZW1Ub0hleChoKX1pZihmPT1udWxsKXt0aHJvdyJjZXJ0aXNzdWVyIHBhcmFtIG5vdCBjZXJ0In12YXIgZT1uZXcgWDUwOSgpO2UuaGV4PWY7dmFyIGk9ZS5nZXRJc3N1ZXJIZXgoKTtnPW5ldyBLSlVSLmFzbjEuQVNOMU9iamVjdCgpO2cuaFRMVj1pfWlmKHR5cGVvZiBrLmNlcnRzdWJqIT0idW5kZWZpbmVkIil7dGhpcy50eXBlPSJkbiI7dGhpcy5leHBsaWNpdD10cnVlO3ZhciBoPWsuY2VydHN1Ymo7dmFyIGY9bnVsbDtpZihoLm1hdGNoKC9eWzAtOUEtRmEtZl0rJC8pKXtmPT1ofWlmKGguaW5kZXhPZigiLS0tLS1CRUdJTiAiKSE9LTEpe2Y9WDUwOS5wZW1Ub0hleChoKX1pZihmPT1udWxsKXt0aHJvdyJjZXJ0c3ViaiBwYXJhbSBub3QgY2VydCJ9dmFyIGU9bmV3IFg1MDkoKTtlLmhleD1mO3ZhciBpPWUuZ2V0U3ViamVjdEhleCgpO2c9bmV3IEtKVVIuYXNuMS5BU04xT2JqZWN0KCk7Zy5oVExWPWl9aWYodGhpcy50eXBlPT1udWxsKXt0aHJvdyJ1bnN1cHBvcnRlZCB0eXBlIGluIHBhcmFtcz0iK2t9dGhpcy5hc24xT2JqPW5ldyBLSlVSLmFzbjEuREVSVGFnZ2VkT2JqZWN0KHtleHBsaWNpdDp0aGlzLmV4cGxpY2l0LHRhZzphW3RoaXMudHlwZV0sb2JqOmd9KX07dGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXNuMU9iai5nZXRFbmNvZGVkSGV4KCl9O2lmKHR5cGVvZiBkIT0idW5kZWZpbmVkIil7dGhpcy5zZXRCeVBhcmFtKGQpfX07WUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLng1MDkuR2VuZXJhbE5hbWUsS0pVUi5hc24xLkFTTjFPYmplY3QpO0tKVVIuYXNuMS54NTA5LkdlbmVyYWxOYW1lcz1mdW5jdGlvbihiKXtLSlVSLmFzbjEueDUwOS5HZW5lcmFsTmFtZXMuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3ZhciBhPW51bGw7dGhpcy5zZXRCeVBhcmFtQXJyYXk9ZnVuY3Rpb24oZSl7Zm9yKHZhciBjPTA7YzxlLmxlbmd0aDtjKyspe3ZhciBkPW5ldyBLSlVSLmFzbjEueDUwOS5HZW5lcmFsTmFtZShlW2NdKTt0aGlzLmFzbjFBcnJheS5wdXNoKGQpfX07dGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7dmFyIGM9bmV3IEtKVVIuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6dGhpcy5hc24xQXJyYXl9KTtyZXR1cm4gYy5nZXRFbmNvZGVkSGV4KCl9O3RoaXMuYXNuMUFycmF5PW5ldyBBcnJheSgpO2lmKHR5cGVvZiBiIT0idW5kZWZpbmVkIil7dGhpcy5zZXRCeVBhcmFtQXJyYXkoYil9fTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEueDUwOS5HZW5lcmFsTmFtZXMsS0pVUi5hc24xLkFTTjFPYmplY3QpO0tKVVIuYXNuMS54NTA5LkRpc3RyaWJ1dGlvblBvaW50TmFtZT1mdW5jdGlvbihiKXtLSlVSLmFzbjEueDUwOS5EaXN0cmlidXRpb25Qb2ludE5hbWUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3ZhciBlPW51bGw7dmFyIGM9bnVsbDt2YXIgYT1udWxsO3ZhciBkPW51bGw7dGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7aWYodGhpcy50eXBlIT0iZnVsbCIpe3Rocm93ImN1cnJlbnRseSB0eXBlIHNoYWxsIGJlICdmdWxsJzogIit0aGlzLnR5cGV9dGhpcy5hc24xT2JqPW5ldyBLSlVSLmFzbjEuREVSVGFnZ2VkT2JqZWN0KHtleHBsaWNpdDpmYWxzZSx0YWc6dGhpcy50YWcsb2JqOnRoaXMuYXNuMVZ9KTt0aGlzLmhUTFY9dGhpcy5hc24xT2JqLmdldEVuY29kZWRIZXgoKTtyZXR1cm4gdGhpcy5oVExWfTtpZih0eXBlb2YgYiE9InVuZGVmaW5lZCIpe2lmKEtKVVIuYXNuMS54NTA5LkdlbmVyYWxOYW1lcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihiKSl7dGhpcy50eXBlPSJmdWxsIjt0aGlzLnRhZz0iYTAiO3RoaXMuYXNuMVY9Yn1lbHNle3Rocm93IlRoaXMgY2xhc3Mgc3VwcG9ydHMgR2VuZXJhbE5hbWVzIG9ubHkgYXMgYXJndW1lbnQifX19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS54NTA5LkRpc3RyaWJ1dGlvblBvaW50TmFtZSxLSlVSLmFzbjEuQVNOMU9iamVjdCk7S0pVUi5hc24xLng1MDkuRGlzdHJpYnV0aW9uUG9pbnQ9ZnVuY3Rpb24oYil7S0pVUi5hc24xLng1MDkuRGlzdHJpYnV0aW9uUG9pbnQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3ZhciBhPW51bGw7dGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7dmFyIGM9bmV3IEtKVVIuYXNuMS5ERVJTZXF1ZW5jZSgpO2lmKHRoaXMuYXNuMURQIT1udWxsKXt2YXIgZD1uZXcgS0pVUi5hc24xLkRFUlRhZ2dlZE9iamVjdCh7ZXhwbGljaXQ6dHJ1ZSx0YWc6ImEwIixvYmo6dGhpcy5hc24xRFB9KTtjLmFwcGVuZEFTTjFPYmplY3QoZCl9dGhpcy5oVExWPWMuZ2V0RW5jb2RlZEhleCgpO3JldHVybiB0aGlzLmhUTFZ9O2lmKHR5cGVvZiBiIT0idW5kZWZpbmVkIil7aWYodHlwZW9mIGIuZHBvYmohPSJ1bmRlZmluZWQiKXt0aGlzLmFzbjFEUD1iLmRwb2JqfX19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS54NTA5LkRpc3RyaWJ1dGlvblBvaW50LEtKVVIuYXNuMS5BU04xT2JqZWN0KTtLSlVSLmFzbjEueDUwOS5PSUQ9bmV3IGZ1bmN0aW9uKGEpe3RoaXMuYXR5cGUyb2lkTGlzdD17QzoiMi41LjQuNiIsTzoiMi41LjQuMTAiLE9VOiIyLjUuNC4xMSIsU1Q6IjIuNS40LjgiLEw6IjIuNS40LjciLENOOiIyLjUuNC4zIixETjoiMi41LjQuNDkiLERDOiIwLjkuMjM0Mi4xOTIwMDMwMC4xMDAuMS4yNSIsfTt0aGlzLm5hbWUyb2lkTGlzdD17c2hhMToiMS4zLjE0LjMuMi4yNiIsc2hhMjU2OiIyLjE2Ljg0MC4xLjEwMS4zLjQuMi4xIixzaGEzODQ6IjIuMTYuODQwLjEuMTAxLjMuNC4yLjIiLHNoYTUxMjoiMi4xNi44NDAuMS4xMDEuMy40LjIuMyIsc2hhMjI0OiIyLjE2Ljg0MC4xLjEwMS4zLjQuMi40IixtZDU6IjEuMi44NDAuMTEzNTQ5LjIuNSIsbWQyOiIxLjMuMTQuNy4yLjIuMSIscmlwZW1kMTYwOiIxLjMuMzYuMy4yLjEiLE1EMndpdGhSU0E6IjEuMi44NDAuMTEzNTQ5LjEuMS4yIixNRDR3aXRoUlNBOiIxLjIuODQwLjExMzU0OS4xLjEuMyIsTUQ1d2l0aFJTQToiMS4yLjg0MC4xMTM1NDkuMS4xLjQiLFNIQTF3aXRoUlNBOiIxLjIuODQwLjExMzU0OS4xLjEuNSIsU0hBMjI0d2l0aFJTQToiMS4yLjg0MC4xMTM1NDkuMS4xLjE0IixTSEEyNTZ3aXRoUlNBOiIxLjIuODQwLjExMzU0OS4xLjEuMTEiLFNIQTM4NHdpdGhSU0E6IjEuMi44NDAuMTEzNTQ5LjEuMS4xMiIsU0hBNTEyd2l0aFJTQToiMS4yLjg0MC4xMTM1NDkuMS4xLjEzIixTSEExd2l0aEVDRFNBOiIxLjIuODQwLjEwMDQ1LjQuMSIsU0hBMjI0d2l0aEVDRFNBOiIxLjIuODQwLjEwMDQ1LjQuMy4xIixTSEEyNTZ3aXRoRUNEU0E6IjEuMi44NDAuMTAwNDUuNC4zLjIiLFNIQTM4NHdpdGhFQ0RTQToiMS4yLjg0MC4xMDA0NS40LjMuMyIsU0hBNTEyd2l0aEVDRFNBOiIxLjIuODQwLjEwMDQ1LjQuMy40Iixkc2E6IjEuMi44NDAuMTAwNDAuNC4xIixTSEExd2l0aERTQToiMS4yLjg0MC4xMDA0MC40LjMiLFNIQTIyNHdpdGhEU0E6IjIuMTYuODQwLjEuMTAxLjMuNC4zLjEiLFNIQTI1NndpdGhEU0E6IjIuMTYuODQwLjEuMTAxLjMuNC4zLjIiLHJzYUVuY3J5cHRpb246IjEuMi44NDAuMTEzNTQ5LjEuMS4xIixjb3VudHJ5TmFtZToiMi41LjQuNiIsb3JnYW5pemF0aW9uOiIyLjUuNC4xMCIsb3JnYW5pemF0aW9uYWxVbml0OiIyLjUuNC4xMSIsc3RhdGVPclByb3ZpbmNlTmFtZToiMi41LjQuOCIsbG9jYWxpdHk6IjIuNS40LjciLGNvbW1vbk5hbWU6IjIuNS40LjMiLHN1YmplY3RLZXlJZGVudGlmaWVyOiIyLjUuMjkuMTQiLGtleVVzYWdlOiIyLjUuMjkuMTUiLHN1YmplY3RBbHROYW1lOiIyLjUuMjkuMTciLGJhc2ljQ29uc3RyYWludHM6IjIuNS4yOS4xOSIsbmFtZUNvbnN0cmFpbnRzOiIyLjUuMjkuMzAiLGNSTERpc3RyaWJ1dGlvblBvaW50czoiMi41LjI5LjMxIixjZXJ0aWZpY2F0ZVBvbGljaWVzOiIyLjUuMjkuMzIiLGF1dGhvcml0eUtleUlkZW50aWZpZXI6IjIuNS4yOS4zNSIscG9saWN5Q29uc3RyYWludHM6IjIuNS4yOS4zNiIsZXh0S2V5VXNhZ2U6IjIuNS4yOS4zNyIsYXV0aG9yaXR5SW5mb0FjY2VzczoiMS4zLjYuMS41LjUuNy4xLjEiLGFueUV4dGVuZGVkS2V5VXNhZ2U6IjIuNS4yOS4zNy4wIixzZXJ2ZXJBdXRoOiIxLjMuNi4xLjUuNS43LjMuMSIsY2xpZW50QXV0aDoiMS4zLjYuMS41LjUuNy4zLjIiLGNvZGVTaWduaW5nOiIxLjMuNi4xLjUuNS43LjMuMyIsZW1haWxQcm90ZWN0aW9uOiIxLjMuNi4xLjUuNS43LjMuNCIsdGltZVN0YW1waW5nOiIxLjMuNi4xLjUuNS43LjMuOCIsb2NzcFNpZ25pbmc6IjEuMy42LjEuNS41LjcuMy45IixlY1B1YmxpY0tleToiMS4yLjg0MC4xMDA0NS4yLjEiLHNlY3AyNTZyMToiMS4yLjg0MC4xMDA0NS4zLjEuNyIsc2VjcDI1NmsxOiIxLjMuMTMyLjAuMTAiLHNlY3AzODRyMToiMS4zLjEzMi4wLjM0Iixwa2NzNVBCRVMyOiIxLjIuODQwLjExMzU0OS4xLjUuMTMiLHBrY3M1UEJLREYyOiIxLjIuODQwLjExMzU0OS4xLjUuMTIiLCJkZXMtRURFMy1DQkMiOiIxLjIuODQwLjExMzU0OS4zLjciLGRhdGE6IjEuMi44NDAuMTEzNTQ5LjEuNy4xIiwic2lnbmVkLWRhdGEiOiIxLjIuODQwLjExMzU0OS4xLjcuMiIsImVudmVsb3BlZC1kYXRhIjoiMS4yLjg0MC4xMTM1NDkuMS43LjMiLCJkaWdlc3RlZC1kYXRhIjoiMS4yLjg0MC4xMTM1NDkuMS43LjUiLCJlbmNyeXB0ZWQtZGF0YSI6IjEuMi44NDAuMTEzNTQ5LjEuNy42IiwiYXV0aGVudGljYXRlZC1kYXRhIjoiMS4yLjg0MC4xMTM1NDkuMS45LjE2LjEuMiIsdHN0aW5mbzoiMS4yLjg0MC4xMTM1NDkuMS45LjE2LjEuNCIsfTt0aGlzLm9iakNhY2hlPXt9O3RoaXMubmFtZTJvYmo9ZnVuY3Rpb24oYil7aWYodHlwZW9mIHRoaXMub2JqQ2FjaGVbYl0hPSJ1bmRlZmluZWQiKXtyZXR1cm4gdGhpcy5vYmpDYWNoZVtiXX1pZih0eXBlb2YgdGhpcy5uYW1lMm9pZExpc3RbYl09PSJ1bmRlZmluZWQiKXt0aHJvdyJOYW1lIG9mIE9iamVjdElkZW50aWZpZXIgbm90IGRlZmluZWQ6ICIrYn12YXIgYz10aGlzLm5hbWUyb2lkTGlzdFtiXTt2YXIgZD1uZXcgS0pVUi5hc24xLkRFUk9iamVjdElkZW50aWZpZXIoe29pZDpjfSk7dGhpcy5vYmpDYWNoZVtiXT1kO3JldHVybiBkfTt0aGlzLmF0eXBlMm9iaj1mdW5jdGlvbihiKXtpZih0eXBlb2YgdGhpcy5vYmpDYWNoZVtiXSE9InVuZGVmaW5lZCIpe3JldHVybiB0aGlzLm9iakNhY2hlW2JdfWlmKHR5cGVvZiB0aGlzLmF0eXBlMm9pZExpc3RbYl09PSJ1bmRlZmluZWQiKXt0aHJvdyJBdHRyaWJ1dGVUeXBlIG5hbWUgdW5kZWZpbmVkOiAiK2J9dmFyIGM9dGhpcy5hdHlwZTJvaWRMaXN0W2JdO3ZhciBkPW5ldyBLSlVSLmFzbjEuREVST2JqZWN0SWRlbnRpZmllcih7b2lkOmN9KTt0aGlzLm9iakNhY2hlW2JdPWQ7cmV0dXJuIGR9fTtLSlVSLmFzbjEueDUwOS5PSUQub2lkMm5hbWU9ZnVuY3Rpb24oYil7dmFyIGM9S0pVUi5hc24xLng1MDkuT0lELm5hbWUyb2lkTGlzdDtmb3IodmFyIGEgaW4gYyl7aWYoY1thXT09Yil7cmV0dXJuIGF9fXJldHVybiIifTtLSlVSLmFzbjEueDUwOS5PSUQubmFtZTJvaWQ9ZnVuY3Rpb24oYSl7dmFyIGI9S0pVUi5hc24xLng1MDkuT0lELm5hbWUyb2lkTGlzdDtpZihiW2FdPT09dW5kZWZpbmVkKXtyZXR1cm4iIn1yZXR1cm4gYlthXX07S0pVUi5hc24xLng1MDkuWDUwOVV0aWw9bmV3IGZ1bmN0aW9uKCl7dGhpcy5nZXRQS0NTOFB1YktleVBFTWZyb21SU0FLZXk9ZnVuY3Rpb24oaSl7dmFyIGg9bnVsbDt2YXIgZj1LSlVSLmFzbjEuQVNOMVV0aWwuYmlnSW50VG9NaW5Ud29zQ29tcGxlbWVudHNIZXgoaS5uKTt2YXIgaj1LSlVSLmFzbjEuQVNOMVV0aWwuaW50ZWdlclRvQnl0ZUhleChpLmUpO3ZhciBhPW5ldyBLSlVSLmFzbjEuREVSSW50ZWdlcih7aGV4OmZ9KTt2YXIgZz1uZXcgS0pVUi5hc24xLkRFUkludGVnZXIoe2hleDpqfSk7dmFyIGw9bmV3IEtKVVIuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6W2EsZ119KTt2YXIgYz1sLmdldEVuY29kZWRIZXgoKTt2YXIgZD1uZXcgS0pVUi5hc24xLng1MDkuQWxnb3JpdGhtSWRlbnRpZmllcih7bmFtZToicnNhRW5jcnlwdGlvbiJ9KTt2YXIgYj1uZXcgS0pVUi5hc24xLkRFUkJpdFN0cmluZyh7aGV4OiIwMCIrY30pO3ZhciBrPW5ldyBLSlVSLmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5OltkLGJdfSk7dmFyIGU9ay5nZXRFbmNvZGVkSGV4KCk7dmFyIGg9S0pVUi5hc24xLkFTTjFVdGlsLmdldFBFTVN0cmluZ0Zyb21IZXgoZSwiUFVCTElDIEtFWSIpO3JldHVybiBofX07S0pVUi5hc24xLng1MDkuWDUwOVV0aWwubmV3Q2VydFBFTT1mdW5jdGlvbihmKXt2YXIgYz1LSlVSLmFzbjEueDUwOTt2YXIgZT1uZXcgYy5UQlNDZXJ0aWZpY2F0ZSgpO2lmKGYuc2VyaWFsIT09dW5kZWZpbmVkKXtlLnNldFNlcmlhbE51bWJlckJ5UGFyYW0oZi5zZXJpYWwpfWVsc2V7dGhyb3cic2VyaWFsIG51bWJlciB1bmRlZmluZWQuIn1pZih0eXBlb2YgZi5zaWdhbGcubmFtZT09InN0cmluZyIpe2Uuc2V0U2lnbmF0dXJlQWxnQnlQYXJhbShmLnNpZ2FsZyl9ZWxzZXt0aHJvdyJ1bnByb3BlciBzaWduYXR1cmUgYWxnb3JpdGhtIG5hbWUifWlmKGYuaXNzdWVyIT09dW5kZWZpbmVkKXtlLnNldElzc3VlckJ5UGFyYW0oZi5pc3N1ZXIpfWVsc2V7dGhyb3ciaXNzdWVyIG5hbWUgdW5kZWZpbmVkLiJ9aWYoZi5ub3RiZWZvcmUhPT11bmRlZmluZWQpe2Uuc2V0Tm90QmVmb3JlQnlQYXJhbShmLm5vdGJlZm9yZSl9ZWxzZXt0aHJvdyJub3RiZWZvcmUgdW5kZWZpbmVkLiJ9aWYoZi5ub3RhZnRlciE9PXVuZGVmaW5lZCl7ZS5zZXROb3RBZnRlckJ5UGFyYW0oZi5ub3RhZnRlcil9ZWxzZXt0aHJvdyJub3RhZnRlciB1bmRlZmluZWQuIn1pZihmLnN1YmplY3QhPT11bmRlZmluZWQpe2Uuc2V0U3ViamVjdEJ5UGFyYW0oZi5zdWJqZWN0KX1lbHNle3Rocm93InN1YmplY3QgbmFtZSB1bmRlZmluZWQuIn1pZihmLnNianB1YmtleSE9PXVuZGVmaW5lZCl7ZS5zZXRTdWJqZWN0UHVibGljS2V5QnlHZXRLZXkoZi5zYmpwdWJrZXkpfWVsc2V7dGhyb3cic3ViamVjdCBwdWJsaWMga2V5IHVuZGVmaW5lZC4ifWlmKGYuZXh0IT09dW5kZWZpbmVkJiZmLmV4dC5sZW5ndGghPT11bmRlZmluZWQpe2Zvcih2YXIgYj0wO2I8Zi5leHQubGVuZ3RoO2IrKyl7Zm9yKGtleSBpbiBmLmV4dFtiXSl7ZS5hcHBlbmRFeHRlbnNpb25CeU5hbWUoa2V5LGYuZXh0W2JdW2tleV0pfX19aWYoZi5jYWtleT09PXVuZGVmaW5lZCYmZi5zaWdoZXg9PT11bmRlZmluZWQpe3Rocm93InBhcmFtIGNha2V5IGFuZCBzaWdoZXggdW5kZWZpbmVkLiJ9dmFyIGQ9bnVsbDt2YXIgYT1udWxsO2lmKGYuY2FrZXkpe2Q9S0VZVVRJTC5nZXRLZXkuYXBwbHkobnVsbCxmLmNha2V5KTthPW5ldyBjLkNlcnRpZmljYXRlKHt0YnNjZXJ0b2JqOmUscHJ2a2V5b2JqOmR9KTthLnNpZ24oKX1pZihmLnNpZ2hleCl7YT1uZXcgYy5DZXJ0aWZpY2F0ZSh7dGJzY2VydG9iajplfSk7YS5zZXRTaWduYXR1cmVIZXgoZi5zaWdoZXgpfXJldHVybiBhLmdldFBFTVN0cmluZygpfTsKLyohIGFzbjFjbXMtMS4wLjIuanMgKGMpIDIwMTMtMjAxNCBLZW5qaSBVcnVzaGltYSB8IGtqdXIuZ2l0aHViLmNvbS9qc3JzYXNpZ24vbGljZW5zZQogKi8KaWYodHlwZW9mIEtKVVI9PSJ1bmRlZmluZWQifHwhS0pVUil7S0pVUj17fX1pZih0eXBlb2YgS0pVUi5hc24xPT0idW5kZWZpbmVkInx8IUtKVVIuYXNuMSl7S0pVUi5hc24xPXt9fWlmKHR5cGVvZiBLSlVSLmFzbjEuY21zPT0idW5kZWZpbmVkInx8IUtKVVIuYXNuMS5jbXMpe0tKVVIuYXNuMS5jbXM9e319S0pVUi5hc24xLmNtcy5BdHRyaWJ1dGU9ZnVuY3Rpb24oYil7S0pVUi5hc24xLmNtcy5BdHRyaWJ1dGUuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3ZhciBhPVtdO3RoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe3ZhciBmLGUsYztmPW5ldyBLSlVSLmFzbjEuREVST2JqZWN0SWRlbnRpZmllcih7b2lkOnRoaXMuYXR0clR5cGVPaWR9KTtlPW5ldyBLSlVSLmFzbjEuREVSU2V0KHthcnJheTp0aGlzLnZhbHVlTGlzdH0pO3RyeXtlLmdldEVuY29kZWRIZXgoKX1jYXRjaChkKXt0aHJvdyJmYWlsIHZhbHVlU2V0LmdldEVuY29kZWRIZXggaW4gQXR0cmlidXRlKDEpLyIrZH1jPW5ldyBLSlVSLmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5OltmLGVdfSk7dHJ5e3RoaXMuaFRMVj1jLmdldEVuY29kZWRIZXgoKX1jYXRjaChkKXt0aHJvdyJmYWlsZWQgc2VxLmdldEVuY29kZWRIZXggaW4gQXR0cmlidXRlKDIpLyIrZH1yZXR1cm4gdGhpcy5oVExWfX07WUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLmNtcy5BdHRyaWJ1dGUsS0pVUi5hc24xLkFTTjFPYmplY3QpO0tKVVIuYXNuMS5jbXMuQ29udGVudFR5cGU9ZnVuY3Rpb24oYil7S0pVUi5hc24xLmNtcy5Db250ZW50VHlwZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5hdHRyVHlwZU9pZD0iMS4yLjg0MC4xMTM1NDkuMS45LjMiO3ZhciBhPW51bGw7aWYodHlwZW9mIGIhPSJ1bmRlZmluZWQiKXt2YXIgYT1uZXcgS0pVUi5hc24xLkRFUk9iamVjdElkZW50aWZpZXIoYik7dGhpcy52YWx1ZUxpc3Q9W2FdfX07WUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLmNtcy5Db250ZW50VHlwZSxLSlVSLmFzbjEuY21zLkF0dHJpYnV0ZSk7S0pVUi5hc24xLmNtcy5NZXNzYWdlRGlnZXN0PWZ1bmN0aW9uKGUpe0tKVVIuYXNuMS5jbXMuTWVzc2FnZURpZ2VzdC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5hdHRyVHlwZU9pZD0iMS4yLjg0MC4xMTM1NDkuMS45LjQiO2lmKHR5cGVvZiBlIT0idW5kZWZpbmVkIil7aWYoZS5lY2lPYmogaW5zdGFuY2VvZiBLSlVSLmFzbjEuY21zLkVuY2Fwc3VsYXRlZENvbnRlbnRJbmZvJiZ0eXBlb2YgZS5oYXNoQWxnPT0ic3RyaW5nIil7dmFyIGI9ZS5lY2lPYmouZUNvbnRlbnRWYWx1ZUhleDt2YXIgYT1lLmhhc2hBbGc7dmFyIGM9S0pVUi5jcnlwdG8uVXRpbC5oYXNoSGV4KGIsYSk7dmFyIGQ9bmV3IEtKVVIuYXNuMS5ERVJPY3RldFN0cmluZyh7aGV4OmN9KTtkLmdldEVuY29kZWRIZXgoKTt0aGlzLnZhbHVlTGlzdD1bZF19ZWxzZXt2YXIgZD1uZXcgS0pVUi5hc24xLkRFUk9jdGV0U3RyaW5nKGUpO2QuZ2V0RW5jb2RlZEhleCgpO3RoaXMudmFsdWVMaXN0PVtkXX19fTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuY21zLk1lc3NhZ2VEaWdlc3QsS0pVUi5hc24xLmNtcy5BdHRyaWJ1dGUpO0tKVVIuYXNuMS5jbXMuU2lnbmluZ1RpbWU9ZnVuY3Rpb24oYyl7S0pVUi5hc24xLmNtcy5TaWduaW5nVGltZS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5hdHRyVHlwZU9pZD0iMS4yLjg0MC4xMTM1NDkuMS45LjUiO2lmKHR5cGVvZiBjIT0idW5kZWZpbmVkIil7dmFyIGE9bmV3IEtKVVIuYXNuMS54NTA5LlRpbWUoYyk7dHJ5e2EuZ2V0RW5jb2RlZEhleCgpfWNhdGNoKGIpe3Rocm93IlNpZ25pbmdUaW1lLmdldEVuY29kZWRIZXgoKSBmYWlsZWQvIitifXRoaXMudmFsdWVMaXN0PVthXX19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5jbXMuU2lnbmluZ1RpbWUsS0pVUi5hc24xLmNtcy5BdHRyaWJ1dGUpO0tKVVIuYXNuMS5jbXMuU2lnbmluZ0NlcnRpZmljYXRlPWZ1bmN0aW9uKGQpe0tKVVIuYXNuMS5jbXMuU2lnbmluZ0NlcnRpZmljYXRlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLmF0dHJUeXBlT2lkPSIxLjIuODQwLjExMzU0OS4xLjkuMTYuMi4xMiI7dmFyIGE9S0pVUi5hc24xO3ZhciBjPUtKVVIuYXNuMS5jbXM7dmFyIGI9S0pVUi5jcnlwdG87dGhpcy5zZXRDZXJ0cz1mdW5jdGlvbihsKXt2YXIgaj1bXTtmb3IodmFyIGg9MDtoPGwubGVuZ3RoO2grKyl7dmFyIGY9S0VZVVRJTC5nZXRIZXhGcm9tUEVNKGxbaF0pO3ZhciBlPWIuVXRpbC5oYXNoSGV4KGYsInNoYTEiKTt2YXIgbT1uZXcgYS5ERVJPY3RldFN0cmluZyh7aGV4OmV9KTttLmdldEVuY29kZWRIZXgoKTt2YXIgaz1uZXcgYy5Jc3N1ZXJBbmRTZXJpYWxOdW1iZXIoe2NlcnQ6bFtoXX0pO2suZ2V0RW5jb2RlZEhleCgpO3ZhciBuPW5ldyBhLkRFUlNlcXVlbmNlKHthcnJheTpbbSxrXX0pO24uZ2V0RW5jb2RlZEhleCgpO2oucHVzaChuKX12YXIgZz1uZXcgYS5ERVJTZXF1ZW5jZSh7YXJyYXk6an0pO2cuZ2V0RW5jb2RlZEhleCgpO3RoaXMudmFsdWVMaXN0PVtnXX07aWYodHlwZW9mIGQhPSJ1bmRlZmluZWQiKXtpZih0eXBlb2YgZC5hcnJheT09Im9iamVjdCIpe3RoaXMuc2V0Q2VydHMoZC5hcnJheSl9fX07WUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLmNtcy5TaWduaW5nQ2VydGlmaWNhdGUsS0pVUi5hc24xLmNtcy5BdHRyaWJ1dGUpO0tKVVIuYXNuMS5jbXMuU2lnbmluZ0NlcnRpZmljYXRlVjI9ZnVuY3Rpb24oZSl7S0pVUi5hc24xLmNtcy5TaWduaW5nQ2VydGlmaWNhdGVWMi5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5hdHRyVHlwZU9pZD0iMS4yLjg0MC4xMTM1NDkuMS45LjE2LjIuNDciO3ZhciBiPUtKVVIuYXNuMTt2YXIgZj1LSlVSLmFzbjEueDUwOTt2YXIgZD1LSlVSLmFzbjEuY21zO3ZhciBjPUtKVVIuY3J5cHRvO3RoaXMuc2V0Q2VydHM9ZnVuY3Rpb24ocCxoKXt2YXIgbj1bXTtmb3IodmFyIGw9MDtsPHAubGVuZ3RoO2wrKyl7dmFyIGo9S0VZVVRJTC5nZXRIZXhGcm9tUEVNKHBbbF0pO3ZhciByPVtdO2lmKGghPSJzaGEyNTYiKXtyLnB1c2gobmV3IGYuQWxnb3JpdGhtSWRlbnRpZmllcih7bmFtZTpofSkpfXZhciBnPWMuVXRpbC5oYXNoSGV4KGosaCk7dmFyIHE9bmV3IGIuREVST2N0ZXRTdHJpbmcoe2hleDpnfSk7cS5nZXRFbmNvZGVkSGV4KCk7ci5wdXNoKHEpO3ZhciBtPW5ldyBkLklzc3VlckFuZFNlcmlhbE51bWJlcih7Y2VydDpwW2xdfSk7bS5nZXRFbmNvZGVkSGV4KCk7ci5wdXNoKG0pO3ZhciBvPW5ldyBiLkRFUlNlcXVlbmNlKHthcnJheTpyfSk7by5nZXRFbmNvZGVkSGV4KCk7bi5wdXNoKG8pfXZhciBrPW5ldyBiLkRFUlNlcXVlbmNlKHthcnJheTpufSk7ay5nZXRFbmNvZGVkSGV4KCk7dGhpcy52YWx1ZUxpc3Q9W2tdfTtpZih0eXBlb2YgZSE9InVuZGVmaW5lZCIpe2lmKHR5cGVvZiBlLmFycmF5PT0ib2JqZWN0Iil7dmFyIGE9InNoYTI1NiI7aWYodHlwZW9mIGUuaGFzaEFsZz09InN0cmluZyIpe2E9ZS5oYXNoQWxnfXRoaXMuc2V0Q2VydHMoZS5hcnJheSxhKX19fTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuY21zLlNpZ25pbmdDZXJ0aWZpY2F0ZVYyLEtKVVIuYXNuMS5jbXMuQXR0cmlidXRlKTtLSlVSLmFzbjEuY21zLklzc3VlckFuZFNlcmlhbE51bWJlcj1mdW5jdGlvbihjKXtLSlVSLmFzbjEuY21zLklzc3VlckFuZFNlcmlhbE51bWJlci5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dmFyIGU9bnVsbDt2YXIgYj1udWxsO3ZhciBhPUtKVVIuYXNuMTt2YXIgZD1hLng1MDk7dGhpcy5zZXRCeUNlcnRQRU09ZnVuY3Rpb24oaSl7dmFyIGc9S0VZVVRJTC5nZXRIZXhGcm9tUEVNKGkpO3ZhciBmPW5ldyBYNTA5KCk7Zi5oZXg9Zzt2YXIgaj1mLmdldElzc3VlckhleCgpO3RoaXMuZElzc3Vlcj1uZXcgZC5YNTAwTmFtZSgpO3RoaXMuZElzc3Vlci5oVExWPWo7dmFyIGg9Zi5nZXRTZXJpYWxOdW1iZXJIZXgoKTt0aGlzLmRTZXJpYWw9bmV3IGEuREVSSW50ZWdlcih7aGV4Omh9KX07dGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7dmFyIGY9bmV3IEtKVVIuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6W3RoaXMuZElzc3Vlcix0aGlzLmRTZXJpYWxdfSk7dGhpcy5oVExWPWYuZ2V0RW5jb2RlZEhleCgpO3JldHVybiB0aGlzLmhUTFZ9O2lmKHR5cGVvZiBjIT0idW5kZWZpbmVkIil7aWYodHlwZW9mIGM9PSJzdHJpbmciJiZjLmluZGV4T2YoIi0tLS0tQkVHSU4gIikhPS0xKXt0aGlzLnNldEJ5Q2VydFBFTShjKX1pZihjLmlzc3VlciYmYy5zZXJpYWwpe2lmKGMuaXNzdWVyIGluc3RhbmNlb2YgS0pVUi5hc24xLng1MDkuWDUwME5hbWUpe3RoaXMuZElzc3Vlcj1jLmlzc3Vlcn1lbHNle3RoaXMuZElzc3Vlcj1uZXcgS0pVUi5hc24xLng1MDkuWDUwME5hbWUoYy5pc3N1ZXIpfWlmKGMuc2VyaWFsIGluc3RhbmNlb2YgS0pVUi5hc24xLkRFUkludGVnZXIpe3RoaXMuZFNlcmlhbD1jLnNlcmlhbH1lbHNle3RoaXMuZFNlcmlhbD1uZXcgS0pVUi5hc24xLkRFUkludGVnZXIoYy5zZXJpYWwpfX1pZih0eXBlb2YgYy5jZXJ0PT0ic3RyaW5nIil7dGhpcy5zZXRCeUNlcnRQRU0oYy5jZXJ0KX19fTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuY21zLklzc3VlckFuZFNlcmlhbE51bWJlcixLSlVSLmFzbjEuQVNOMU9iamVjdCk7S0pVUi5hc24xLmNtcy5BdHRyaWJ1dGVMaXN0PWZ1bmN0aW9uKGEpe0tKVVIuYXNuMS5jbXMuQXR0cmlidXRlTGlzdC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dGhpcy5saXN0PW5ldyBBcnJheSgpO3RoaXMuc29ydEZsYWc9dHJ1ZTt0aGlzLmFkZD1mdW5jdGlvbihiKXtpZihiIGluc3RhbmNlb2YgS0pVUi5hc24xLmNtcy5BdHRyaWJ1dGUpe3RoaXMubGlzdC5wdXNoKGIpfX07dGhpcy5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5saXN0Lmxlbmd0aH07dGhpcy5jbGVhcj1mdW5jdGlvbigpe3RoaXMubGlzdD1uZXcgQXJyYXkoKTt0aGlzLmhUTFY9bnVsbDt0aGlzLmhWPW51bGx9O3RoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe2lmKHR5cGVvZiB0aGlzLmhUTFY9PSJzdHJpbmciKXtyZXR1cm4gdGhpcy5oVExWfXZhciBiPW5ldyBLSlVSLmFzbjEuREVSU2V0KHthcnJheTp0aGlzLmxpc3Qsc29ydGZsYWc6dGhpcy5zb3J0RmxhZ30pO3RoaXMuaFRMVj1iLmdldEVuY29kZWRIZXgoKTtyZXR1cm4gdGhpcy5oVExWfTtpZih0eXBlb2YgYSE9InVuZGVmaW5lZCIpe2lmKHR5cGVvZiBhLnNvcnRmbGFnIT0idW5kZWZpbmVkIiYmYS5zb3J0ZmxhZz09ZmFsc2Upe3RoaXMuc29ydEZsYWc9ZmFsc2V9fX07WUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLmNtcy5BdHRyaWJ1dGVMaXN0LEtKVVIuYXNuMS5BU04xT2JqZWN0KTtLSlVSLmFzbjEuY21zLlNpZ25lckluZm89ZnVuY3Rpb24oYyl7S0pVUi5hc24xLmNtcy5TaWduZXJJbmZvLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt2YXIgYT1LSlVSLmFzbjE7dmFyIGI9S0pVUi5hc24xLmNtczt2YXIgZD1LSlVSLmFzbjEueDUwOTt0aGlzLmRDTVNWZXJzaW9uPW5ldyBhLkRFUkludGVnZXIoeyJpbnQiOjF9KTt0aGlzLmRTaWduZXJJZGVudGlmaWVyPW51bGw7dGhpcy5kRGlnZXN0QWxnb3JpdGhtPW51bGw7dGhpcy5kU2lnbmVkQXR0cnM9bmV3IGIuQXR0cmlidXRlTGlzdCgpO3RoaXMuZFNpZ0FsZz1udWxsO3RoaXMuZFNpZz1udWxsO3RoaXMuZFVuc2lnbmVkQXR0cnM9bmV3IGIuQXR0cmlidXRlTGlzdCgpO3RoaXMuc2V0U2lnbmVySWRlbnRpZmllcj1mdW5jdGlvbihmKXtpZih0eXBlb2YgZj09InN0cmluZyImJmYuaW5kZXhPZigiQ0VSVElGSUNBVEUiKSE9LTEmJmYuaW5kZXhPZigiQkVHSU4iKSE9LTEmJmYuaW5kZXhPZigiRU5EIikhPS0xKXt2YXIgZT1mO3RoaXMuZFNpZ25lcklkZW50aWZpZXI9bmV3IGIuSXNzdWVyQW5kU2VyaWFsTnVtYmVyKHtjZXJ0OmZ9KX19O3RoaXMuc2V0Rm9yQ29udGVudEFuZEhhc2g9ZnVuY3Rpb24oZSl7aWYodHlwZW9mIGUhPSJ1bmRlZmluZWQiKXtpZihlLmVjaU9iaiBpbnN0YW5jZW9mIEtKVVIuYXNuMS5jbXMuRW5jYXBzdWxhdGVkQ29udGVudEluZm8pe3RoaXMuZFNpZ25lZEF0dHJzLmFkZChuZXcgYi5Db250ZW50VHlwZSh7b2lkOiIxLjIuODQwLjExMzU0OS4xLjcuMSJ9KSk7dGhpcy5kU2lnbmVkQXR0cnMuYWRkKG5ldyBiLk1lc3NhZ2VEaWdlc3Qoe2VjaU9iajplLmVjaU9iaixoYXNoQWxnOmUuaGFzaEFsZ30pKX1pZih0eXBlb2YgZS5zZE9iaiE9InVuZGVmaW5lZCImJmUuc2RPYmogaW5zdGFuY2VvZiBLSlVSLmFzbjEuY21zLlNpZ25lZERhdGEpe2lmKGUuc2RPYmouZGlnZXN0QWxnTmFtZUxpc3Quam9pbigiOiIpLmluZGV4T2YoZS5oYXNoQWxnKT09LTEpe2Uuc2RPYmouZGlnZXN0QWxnTmFtZUxpc3QucHVzaChlLmhhc2hBbGcpfX1pZih0eXBlb2YgZS5oYXNoQWxnPT0ic3RyaW5nIil7dGhpcy5kRGlnZXN0QWxnb3JpdGhtPW5ldyBkLkFsZ29yaXRobUlkZW50aWZpZXIoe25hbWU6ZS5oYXNoQWxnfSl9fX07dGhpcy5zaWduPWZ1bmN0aW9uKGosZil7dGhpcy5kU2lnQWxnPW5ldyBkLkFsZ29yaXRobUlkZW50aWZpZXIoe25hbWU6Zn0pO3ZhciBnPXRoaXMuZFNpZ25lZEF0dHJzLmdldEVuY29kZWRIZXgoKTt2YXIgZT1LRVlVVElMLmdldEtleShqKTt2YXIgaT1uZXcgS0pVUi5jcnlwdG8uU2lnbmF0dXJlKHthbGc6Zn0pO2kuaW5pdChlKTtpLnVwZGF0ZUhleChnKTt2YXIgaD1pLnNpZ24oKTt0aGlzLmRTaWc9bmV3IGEuREVST2N0ZXRTdHJpbmcoe2hleDpofSl9O3RoaXMuYWRkVW5zaWduZWQ9ZnVuY3Rpb24oZSl7dGhpcy5oVExWPW51bGw7dGhpcy5kVW5zaWduZWRBdHRycy5oVExWPW51bGw7dGhpcy5kVW5zaWduZWRBdHRycy5hZGQoZSl9O3RoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe2lmKHRoaXMuZFNpZ25lZEF0dHJzIGluc3RhbmNlb2YgS0pVUi5hc24xLmNtcy5BdHRyaWJ1dGVMaXN0JiZ0aGlzLmRTaWduZWRBdHRycy5sZW5ndGgoKT09MCl7dGhyb3ciU2lnbmVkQXR0cnMgbGVuZ3RoID0gMCAoZW1wdHkpIn12YXIgZT1uZXcgYS5ERVJUYWdnZWRPYmplY3Qoe29iajp0aGlzLmRTaWduZWRBdHRycyx0YWc6ImEwIixleHBsaWNpdDpmYWxzZX0pO3ZhciBoPW51bGw7aWYodGhpcy5kVW5zaWduZWRBdHRycy5sZW5ndGgoKT4wKXtoPW5ldyBhLkRFUlRhZ2dlZE9iamVjdCh7b2JqOnRoaXMuZFVuc2lnbmVkQXR0cnMsdGFnOiJhMSIsZXhwbGljaXQ6ZmFsc2V9KX12YXIgZz1bdGhpcy5kQ01TVmVyc2lvbix0aGlzLmRTaWduZXJJZGVudGlmaWVyLHRoaXMuZERpZ2VzdEFsZ29yaXRobSxlLHRoaXMuZFNpZ0FsZyx0aGlzLmRTaWcsXTtpZihoIT1udWxsKXtnLnB1c2goaCl9dmFyIGY9bmV3IGEuREVSU2VxdWVuY2Uoe2FycmF5Omd9KTt0aGlzLmhUTFY9Zi5nZXRFbmNvZGVkSGV4KCk7cmV0dXJuIHRoaXMuaFRMVn19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5jbXMuU2lnbmVySW5mbyxLSlVSLmFzbjEuQVNOMU9iamVjdCk7S0pVUi5hc24xLmNtcy5FbmNhcHN1bGF0ZWRDb250ZW50SW5mbz1mdW5jdGlvbihjKXtLSlVSLmFzbjEuY21zLkVuY2Fwc3VsYXRlZENvbnRlbnRJbmZvLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt2YXIgYT1LSlVSLmFzbjE7dmFyIGI9S0pVUi5hc24xLmNtczt2YXIgZD1LSlVSLmFzbjEueDUwOTt0aGlzLmRFQ29udGVudFR5cGU9bmV3IGEuREVST2JqZWN0SWRlbnRpZmllcih7bmFtZToiZGF0YSJ9KTt0aGlzLmRFQ29udGVudD1udWxsO3RoaXMuaXNEZXRhY2hlZD1mYWxzZTt0aGlzLmVDb250ZW50VmFsdWVIZXg9bnVsbDt0aGlzLnNldENvbnRlbnRUeXBlPWZ1bmN0aW9uKGUpe2lmKGUubWF0Y2goL15bMC0yXVsuXVswLTkuXSskLykpe3RoaXMuZEVDb250ZW50VHlwZT1uZXcgYS5ERVJPYmplY3RJZGVudGlmaWVyKHtvaWQ6ZX0pfWVsc2V7dGhpcy5kRUNvbnRlbnRUeXBlPW5ldyBhLkRFUk9iamVjdElkZW50aWZpZXIoe25hbWU6ZX0pfX07dGhpcy5zZXRDb250ZW50VmFsdWU9ZnVuY3Rpb24oZSl7aWYodHlwZW9mIGUhPSJ1bmRlZmluZWQiKXtpZih0eXBlb2YgZS5oZXg9PSJzdHJpbmciKXt0aGlzLmVDb250ZW50VmFsdWVIZXg9ZS5oZXh9ZWxzZXtpZih0eXBlb2YgZS5zdHI9PSJzdHJpbmciKXt0aGlzLmVDb250ZW50VmFsdWVIZXg9dXRmOHRvaGV4KGUuc3RyKX19fX07dGhpcy5zZXRDb250ZW50VmFsdWVIZXg9ZnVuY3Rpb24oZSl7dGhpcy5lQ29udGVudFZhbHVlSGV4PWV9O3RoaXMuc2V0Q29udGVudFZhbHVlU3RyPWZ1bmN0aW9uKGUpe3RoaXMuZUNvbnRlbnRWYWx1ZUhleD11dGY4dG9oZXgoZSl9O3RoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe2lmKHR5cGVvZiB0aGlzLmVDb250ZW50VmFsdWVIZXghPSJzdHJpbmciKXt0aHJvdyJlQ29udGVudFZhbHVlIG5vdCB5ZXQgc2V0In12YXIgZz1uZXcgYS5ERVJPY3RldFN0cmluZyh7aGV4OnRoaXMuZUNvbnRlbnRWYWx1ZUhleH0pO3RoaXMuZEVDb250ZW50PW5ldyBhLkRFUlRhZ2dlZE9iamVjdCh7b2JqOmcsdGFnOiJhMCIsZXhwbGljaXQ6dHJ1ZX0pO3ZhciBlPVt0aGlzLmRFQ29udGVudFR5cGVdO2lmKCF0aGlzLmlzRGV0YWNoZWQpe2UucHVzaCh0aGlzLmRFQ29udGVudCl9dmFyIGY9bmV3IGEuREVSU2VxdWVuY2Uoe2FycmF5OmV9KTt0aGlzLmhUTFY9Zi5nZXRFbmNvZGVkSGV4KCk7cmV0dXJuIHRoaXMuaFRMVn19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5jbXMuRW5jYXBzdWxhdGVkQ29udGVudEluZm8sS0pVUi5hc24xLkFTTjFPYmplY3QpO0tKVVIuYXNuMS5jbXMuQ29udGVudEluZm89ZnVuY3Rpb24oYyl7S0pVUi5hc24xLmNtcy5Db250ZW50SW5mby5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dmFyIGE9S0pVUi5hc24xO3ZhciBiPUtKVVIuYXNuMS5jbXM7dmFyIGQ9S0pVUi5hc24xLng1MDk7dGhpcy5kQ29udGVudFR5cGU9bnVsbDt0aGlzLmRDb250ZW50PW51bGw7dGhpcy5zZXRDb250ZW50VHlwZT1mdW5jdGlvbihlKXtpZih0eXBlb2YgZT09InN0cmluZyIpe3RoaXMuZENvbnRlbnRUeXBlPWQuT0lELm5hbWUyb2JqKGUpfX07dGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7dmFyIGY9bmV3IGEuREVSVGFnZ2VkT2JqZWN0KHtvYmo6dGhpcy5kQ29udGVudCx0YWc6ImEwIixleHBsaWNpdDp0cnVlfSk7dmFyIGU9bmV3IGEuREVSU2VxdWVuY2Uoe2FycmF5Olt0aGlzLmRDb250ZW50VHlwZSxmXX0pO3RoaXMuaFRMVj1lLmdldEVuY29kZWRIZXgoKTtyZXR1cm4gdGhpcy5oVExWfTtpZih0eXBlb2YgYyE9InVuZGVmaW5lZCIpe2lmKGMudHlwZSl7dGhpcy5zZXRDb250ZW50VHlwZShjLnR5cGUpfWlmKGMub2JqJiZjLm9iaiBpbnN0YW5jZW9mIGEuQVNOMU9iamVjdCl7dGhpcy5kQ29udGVudD1jLm9ian19fTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuY21zLkNvbnRlbnRJbmZvLEtKVVIuYXNuMS5BU04xT2JqZWN0KTtLSlVSLmFzbjEuY21zLlNpZ25lZERhdGE9ZnVuY3Rpb24oYyl7S0pVUi5hc24xLmNtcy5TaWduZWREYXRhLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt2YXIgYT1LSlVSLmFzbjE7dmFyIGI9S0pVUi5hc24xLmNtczt2YXIgZD1LSlVSLmFzbjEueDUwOTt0aGlzLmRDTVNWZXJzaW9uPW5ldyBhLkRFUkludGVnZXIoeyJpbnQiOjF9KTt0aGlzLmREaWdlc3RBbGdzPW51bGw7dGhpcy5kaWdlc3RBbGdOYW1lTGlzdD1bXTt0aGlzLmRFbmNhcENvbnRlbnRJbmZvPW5ldyBiLkVuY2Fwc3VsYXRlZENvbnRlbnRJbmZvKCk7dGhpcy5kQ2VydHM9bnVsbDt0aGlzLmNlcnRpZmljYXRlTGlzdD1bXTt0aGlzLmNybExpc3Q9W107dGhpcy5zaWduZXJJbmZvTGlzdD1bbmV3IGIuU2lnbmVySW5mbygpXTt0aGlzLmFkZENlcnRpZmljYXRlc0J5UEVNPWZ1bmN0aW9uKGUpe3ZhciBmPUtFWVVUSUwuZ2V0SGV4RnJvbVBFTShlKTt2YXIgZz1uZXcgYS5BU04xT2JqZWN0KCk7Zy5oVExWPWY7dGhpcy5jZXJ0aWZpY2F0ZUxpc3QucHVzaChnKX07dGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7aWYodHlwZW9mIHRoaXMuaFRMVj09InN0cmluZyIpe3JldHVybiB0aGlzLmhUTFZ9aWYodGhpcy5kRGlnZXN0QWxncz09bnVsbCl7dmFyIGs9W107Zm9yKHZhciBqPTA7ajx0aGlzLmRpZ2VzdEFsZ05hbWVMaXN0Lmxlbmd0aDtqKyspe3ZhciBoPXRoaXMuZGlnZXN0QWxnTmFtZUxpc3Rbal07dmFyIG09bmV3IGQuQWxnb3JpdGhtSWRlbnRpZmllcih7bmFtZTpofSk7ay5wdXNoKG0pfXRoaXMuZERpZ2VzdEFsZ3M9bmV3IGEuREVSU2V0KHthcnJheTprfSl9dmFyIGU9W3RoaXMuZENNU1ZlcnNpb24sdGhpcy5kRGlnZXN0QWxncyx0aGlzLmRFbmNhcENvbnRlbnRJbmZvXTtpZih0aGlzLmRDZXJ0cz09bnVsbCl7aWYodGhpcy5jZXJ0aWZpY2F0ZUxpc3QubGVuZ3RoPjApe3ZhciBsPW5ldyBhLkRFUlNldCh7YXJyYXk6dGhpcy5jZXJ0aWZpY2F0ZUxpc3R9KTt0aGlzLmRDZXJ0cz1uZXcgYS5ERVJUYWdnZWRPYmplY3Qoe29iajpsLHRhZzoiYTAiLGV4cGxpY2l0OmZhbHNlfSl9fWlmKHRoaXMuZENlcnRzIT1udWxsKXtlLnB1c2godGhpcy5kQ2VydHMpfXZhciBnPW5ldyBhLkRFUlNldCh7YXJyYXk6dGhpcy5zaWduZXJJbmZvTGlzdH0pO2UucHVzaChnKTt2YXIgZj1uZXcgYS5ERVJTZXF1ZW5jZSh7YXJyYXk6ZX0pO3RoaXMuaFRMVj1mLmdldEVuY29kZWRIZXgoKTtyZXR1cm4gdGhpcy5oVExWfTt0aGlzLmdldENvbnRlbnRJbmZvPWZ1bmN0aW9uKCl7dGhpcy5nZXRFbmNvZGVkSGV4KCk7dmFyIGU9bmV3IGIuQ29udGVudEluZm8oe3R5cGU6InNpZ25lZC1kYXRhIixvYmo6dGhpc30pO3JldHVybiBlfTt0aGlzLmdldENvbnRlbnRJbmZvRW5jb2RlZEhleD1mdW5jdGlvbigpe3ZhciBlPXRoaXMuZ2V0Q29udGVudEluZm8oKTt2YXIgZj1lLmdldEVuY29kZWRIZXgoKTtyZXR1cm4gZn07dGhpcy5nZXRQRU09ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmdldENvbnRlbnRJbmZvRW5jb2RlZEhleCgpO3ZhciBmPWEuQVNOMVV0aWwuZ2V0UEVNU3RyaW5nRnJvbUhleChlLCJDTVMiKTtyZXR1cm4gZn19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5jbXMuU2lnbmVkRGF0YSxLSlVSLmFzbjEuQVNOMU9iamVjdCk7S0pVUi5hc24xLmNtcy5DTVNVdGlsPW5ldyBmdW5jdGlvbigpe307S0pVUi5hc24xLmNtcy5DTVNVdGlsLm5ld1NpZ25lZERhdGE9ZnVuY3Rpb24oYSl7dmFyIGg9S0pVUi5hc24xLmNtczt2YXIgZz1LSlVSLmFzbjEuY2FkZXM7dmFyIGY9bmV3IGguU2lnbmVkRGF0YSgpO2YuZEVuY2FwQ29udGVudEluZm8uc2V0Q29udGVudFZhbHVlKGEuY29udGVudCk7aWYodHlwZW9mIGEuY2VydHM9PSJvYmplY3QiKXtmb3IodmFyIGI9MDtiPGEuY2VydHMubGVuZ3RoO2IrKyl7Zi5hZGRDZXJ0aWZpY2F0ZXNCeVBFTShhLmNlcnRzW2JdKX19Zi5zaWduZXJJbmZvTGlzdD1bXTtmb3IodmFyIGI9MDtiPGEuc2lnbmVySW5mb3MubGVuZ3RoO2IrKyl7dmFyIGQ9YS5zaWduZXJJbmZvc1tiXTt2YXIgYz1uZXcgaC5TaWduZXJJbmZvKCk7Yy5zZXRTaWduZXJJZGVudGlmaWVyKGQuc2lnbmVyQ2VydCk7Yy5zZXRGb3JDb250ZW50QW5kSGFzaCh7c2RPYmo6ZixlY2lPYmo6Zi5kRW5jYXBDb250ZW50SW5mbyxoYXNoQWxnOmQuaGFzaEFsZ30pO2ZvcihhdHRyTmFtZSBpbiBkLnNBdHRyKXt2YXIgaj1kLnNBdHRyW2F0dHJOYW1lXTtpZihhdHRyTmFtZT09IlNpZ25pbmdUaW1lIil7dmFyIGU9bmV3IGguU2lnbmluZ1RpbWUoaik7Yy5kU2lnbmVkQXR0cnMuYWRkKGUpfWlmKGF0dHJOYW1lPT0iU2lnbmluZ0NlcnRpZmljYXRlIil7dmFyIGU9bmV3IGguU2lnbmluZ0NlcnRpZmljYXRlKGopO2MuZFNpZ25lZEF0dHJzLmFkZChlKX1pZihhdHRyTmFtZT09IlNpZ25pbmdDZXJ0aWZpY2F0ZVYyIil7dmFyIGU9bmV3IGguU2lnbmluZ0NlcnRpZmljYXRlVjIoaik7Yy5kU2lnbmVkQXR0cnMuYWRkKGUpfWlmKGF0dHJOYW1lPT0iU2lnbmF0dXJlUG9saWN5SWRlbnRpZmllciIpe3ZhciBlPW5ldyBnLlNpZ25hdHVyZVBvbGljeUlkZW50aWZpZXIoaik7Yy5kU2lnbmVkQXR0cnMuYWRkKGUpfX1jLnNpZ24oZC5zaWduZXJQcnZLZXksZC5zaWdBbGcpO2Yuc2lnbmVySW5mb0xpc3QucHVzaChjKX1yZXR1cm4gZn07Ci8qISBhc24xdHNwLTEuMC4xLmpzIChjKSAyMDE0IEtlbmppIFVydXNoaW1hIHwga2p1ci5naXRodWIuY29tL2pzcnNhc2lnbi9saWNlbnNlCiAqLwppZih0eXBlb2YgS0pVUj09InVuZGVmaW5lZCJ8fCFLSlVSKXtLSlVSPXt9fWlmKHR5cGVvZiBLSlVSLmFzbjE9PSJ1bmRlZmluZWQifHwhS0pVUi5hc24xKXtLSlVSLmFzbjE9e319aWYodHlwZW9mIEtKVVIuYXNuMS50c3A9PSJ1bmRlZmluZWQifHwhS0pVUi5hc24xLnRzcCl7S0pVUi5hc24xLnRzcD17fX1LSlVSLmFzbjEudHNwLkFjY3VyYWN5PWZ1bmN0aW9uKGIpe0tKVVIuYXNuMS50c3AuQWNjdXJhY3kuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3ZhciBhPUtKVVIuYXNuMTt0aGlzLnNlY29uZHM9bnVsbDt0aGlzLm1pbGxpcz1udWxsO3RoaXMubWljcm9zPW51bGw7dGhpcy5nZXRFbmNvZGVkSGV4PWZ1bmN0aW9uKCl7dmFyIGU9bnVsbDt2YXIgZz1udWxsO3ZhciBpPW51bGw7dmFyIGM9W107aWYodGhpcy5zZWNvbmRzIT1udWxsKXtlPW5ldyBhLkRFUkludGVnZXIoeyJpbnQiOnRoaXMuc2Vjb25kc30pO2MucHVzaChlKX1pZih0aGlzLm1pbGxpcyE9bnVsbCl7dmFyIGg9bmV3IGEuREVSSW50ZWdlcih7ImludCI6dGhpcy5taWxsaXN9KTtnPW5ldyBhLkRFUlRhZ2dlZE9iamVjdCh7b2JqOmgsdGFnOiI4MCIsZXhwbGljaXQ6ZmFsc2V9KTtjLnB1c2goZyl9aWYodGhpcy5taWNyb3MhPW51bGwpe3ZhciBmPW5ldyBhLkRFUkludGVnZXIoeyJpbnQiOnRoaXMubWljcm9zfSk7aT1uZXcgYS5ERVJUYWdnZWRPYmplY3Qoe29iajpmLHRhZzoiODEiLGV4cGxpY2l0OmZhbHNlfSk7Yy5wdXNoKGkpfXZhciBkPW5ldyBhLkRFUlNlcXVlbmNlKHthcnJheTpjfSk7dGhpcy5oVExWPWQuZ2V0RW5jb2RlZEhleCgpO3JldHVybiB0aGlzLmhUTFZ9O2lmKHR5cGVvZiBiIT0idW5kZWZpbmVkIil7aWYodHlwZW9mIGIuc2Vjb25kcz09Im51bWJlciIpe3RoaXMuc2Vjb25kcz1iLnNlY29uZHN9aWYodHlwZW9mIGIubWlsbGlzPT0ibnVtYmVyIil7dGhpcy5taWxsaXM9Yi5taWxsaXN9aWYodHlwZW9mIGIubWljcm9zPT0ibnVtYmVyIil7dGhpcy5taWNyb3M9Yi5taWNyb3N9fX07WUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLnRzcC5BY2N1cmFjeSxLSlVSLmFzbjEuQVNOMU9iamVjdCk7S0pVUi5hc24xLnRzcC5NZXNzYWdlSW1wcmludD1mdW5jdGlvbihiKXtLSlVSLmFzbjEudHNwLk1lc3NhZ2VJbXByaW50LnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt2YXIgYT1LSlVSLmFzbjE7dmFyIGM9S0pVUi5hc24xLng1MDk7dGhpcy5kSGFzaEFsZz1udWxsO3RoaXMuZEhhc2hWYWx1ZT1udWxsO3RoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe2lmKHR5cGVvZiB0aGlzLmhUTFY9PSJzdHJpbmciKXtyZXR1cm4gdGhpcy5oVExWfXZhciBkPW5ldyBhLkRFUlNlcXVlbmNlKHthcnJheTpbdGhpcy5kSGFzaEFsZyx0aGlzLmRIYXNoVmFsdWVdfSk7cmV0dXJuIGQuZ2V0RW5jb2RlZEhleCgpfTtpZih0eXBlb2YgYiE9InVuZGVmaW5lZCIpe2lmKHR5cGVvZiBiLmhhc2hBbGc9PSJzdHJpbmciKXt0aGlzLmRIYXNoQWxnPW5ldyBjLkFsZ29yaXRobUlkZW50aWZpZXIoe25hbWU6Yi5oYXNoQWxnfSl9aWYodHlwZW9mIGIuaGFzaFZhbHVlPT0ic3RyaW5nIil7dGhpcy5kSGFzaFZhbHVlPW5ldyBhLkRFUk9jdGV0U3RyaW5nKHtoZXg6Yi5oYXNoVmFsdWV9KX19fTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEudHNwLk1lc3NhZ2VJbXByaW50LEtKVVIuYXNuMS5BU04xT2JqZWN0KTtLSlVSLmFzbjEudHNwLlRpbWVTdGFtcFJlcT1mdW5jdGlvbihjKXtLSlVSLmFzbjEudHNwLlRpbWVTdGFtcFJlcS5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dmFyIGE9S0pVUi5hc24xO3ZhciBiPUtKVVIuYXNuMS50c3A7dGhpcy5kVmVyc2lvbj1uZXcgYS5ERVJJbnRlZ2VyKHsiaW50IjoxfSk7dGhpcy5kTWVzc2FnZUltcHJpbnQ9bnVsbDt0aGlzLmRQb2xpY3k9bnVsbDt0aGlzLmROb25jZT1udWxsO3RoaXMuY2VydFJlcT10cnVlO3RoaXMuc2V0TWVzc2FnZUltcHJpbnQ9ZnVuY3Rpb24oZCl7aWYoZCBpbnN0YW5jZW9mIEtKVVIuYXNuMS50c3AuTWVzc2FnZUltcHJpbnQpe3RoaXMuZE1lc3NhZ2VJbXByaW50PWQ7cmV0dXJufWlmKHR5cGVvZiBkPT0ib2JqZWN0Iil7dGhpcy5kTWVzc2FnZUltcHJpbnQ9bmV3IGIuTWVzc2FnZUltcHJpbnQoZCl9fTt0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXtpZih0aGlzLmRNZXNzYWdlSW1wcmludD09bnVsbCl7dGhyb3cibWVzc2FnZUltcHJpbnQgc2hhbGwgYmUgc3BlY2lmaWVkIn12YXIgZD1bdGhpcy5kVmVyc2lvbix0aGlzLmRNZXNzYWdlSW1wcmludF07aWYodGhpcy5kUG9saWN5IT1udWxsKXtkLnB1c2godGhpcy5kUG9saWN5KX1pZih0aGlzLmROb25jZSE9bnVsbCl7ZC5wdXNoKHRoaXMuZE5vbmNlKX1pZih0aGlzLmNlcnRSZXEpe2QucHVzaChuZXcgYS5ERVJCb29sZWFuKCkpfXZhciBlPW5ldyBhLkRFUlNlcXVlbmNlKHthcnJheTpkfSk7dGhpcy5oVExWPWUuZ2V0RW5jb2RlZEhleCgpO3JldHVybiB0aGlzLmhUTFZ9O2lmKHR5cGVvZiBjIT0idW5kZWZpbmVkIil7aWYodHlwZW9mIGMubWk9PSJvYmplY3QiKXt0aGlzLnNldE1lc3NhZ2VJbXByaW50KGMubWkpfWlmKHR5cGVvZiBjLnBvbGljeT09Im9iamVjdCIpe3RoaXMuZFBvbGljeT1uZXcgYS5ERVJPYmplY3RJZGVudGlmaWVyKGMucG9saWN5KX1pZih0eXBlb2YgYy5ub25jZT09Im9iamVjdCIpe3RoaXMuZE5vbmNlPW5ldyBhLkRFUkludGVnZXIoYy5ub25jZSl9aWYodHlwZW9mIGMuY2VydHJlcT09ImJvb2xlYW4iKXt0aGlzLmNlcnRSZXE9Yy5jZXJ0cmVxfX19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS50c3AuVGltZVN0YW1wUmVxLEtKVVIuYXNuMS5BU04xT2JqZWN0KTtLSlVSLmFzbjEudHNwLlRTVEluZm89ZnVuY3Rpb24oYyl7S0pVUi5hc24xLnRzcC5UU1RJbmZvLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt2YXIgYT1LSlVSLmFzbjE7dmFyIGQ9S0pVUi5hc24xLng1MDk7dmFyIGI9S0pVUi5hc24xLnRzcDt0aGlzLmRWZXJzaW9uPW5ldyBhLkRFUkludGVnZXIoeyJpbnQiOjF9KTt0aGlzLmRQb2xpY3k9bnVsbDt0aGlzLmRNZXNzYWdlSW1wcmludD1udWxsO3RoaXMuZFNlcmlhbE51bWJlcj1udWxsO3RoaXMuZEdlblRpbWU9bnVsbDt0aGlzLmRBY2N1cmFjeT1udWxsO3RoaXMuZE9yZGVyaW5nPW51bGw7dGhpcy5kTm9uY2U9bnVsbDt0aGlzLmRUc2E9bnVsbDt0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXt2YXIgZT1bdGhpcy5kVmVyc2lvbl07aWYodGhpcy5kUG9saWN5PT1udWxsKXt0aHJvdyJwb2xpY3kgc2hhbGwgYmUgc3BlY2lmaWVkLiJ9ZS5wdXNoKHRoaXMuZFBvbGljeSk7aWYodGhpcy5kTWVzc2FnZUltcHJpbnQ9PW51bGwpe3Rocm93Im1lc3NhZ2VJbXByaW50IHNoYWxsIGJlIHNwZWNpZmllZC4ifWUucHVzaCh0aGlzLmRNZXNzYWdlSW1wcmludCk7aWYodGhpcy5kU2VyaWFsTnVtYmVyPT1udWxsKXt0aHJvdyJzZXJpYWxOdW1iZXIgc2hhbGwgYmUgc3BlY2lmaWVkLiJ9ZS5wdXNoKHRoaXMuZFNlcmlhbE51bWJlcik7aWYodGhpcy5kR2VuVGltZT09bnVsbCl7dGhyb3ciZ2VuVGltZSBzaGFsbCBiZSBzcGVjaWZpZWQuIn1lLnB1c2godGhpcy5kR2VuVGltZSk7aWYodGhpcy5kQWNjdXJhY3khPW51bGwpe2UucHVzaCh0aGlzLmRBY2N1cmFjeSl9aWYodGhpcy5kT3JkZXJpbmchPW51bGwpe2UucHVzaCh0aGlzLmRPcmRlcmluZyl9aWYodGhpcy5kTm9uY2UhPW51bGwpe2UucHVzaCh0aGlzLmROb25jZSl9aWYodGhpcy5kVHNhIT1udWxsKXtlLnB1c2godGhpcy5kVHNhKX12YXIgZj1uZXcgYS5ERVJTZXF1ZW5jZSh7YXJyYXk6ZX0pO3RoaXMuaFRMVj1mLmdldEVuY29kZWRIZXgoKTtyZXR1cm4gdGhpcy5oVExWfTtpZih0eXBlb2YgYyE9InVuZGVmaW5lZCIpe2lmKHR5cGVvZiBjLnBvbGljeT09InN0cmluZyIpe2lmKCFjLnBvbGljeS5tYXRjaCgvXlswLTkuXSskLykpe3Rocm93InBvbGljeSBzaGFsbCBiZSBvaWQgbGlrZSAwLjEuNC4xMzQifXRoaXMuZFBvbGljeT1uZXcgYS5ERVJPYmplY3RJZGVudGlmaWVyKHtvaWQ6Yy5wb2xpY3l9KX1pZih0eXBlb2YgYy5tZXNzYWdlSW1wcmludCE9InVuZGVmaW5lZCIpe3RoaXMuZE1lc3NhZ2VJbXByaW50PW5ldyBiLk1lc3NhZ2VJbXByaW50KGMubWVzc2FnZUltcHJpbnQpfWlmKHR5cGVvZiBjLnNlcmlhbE51bWJlciE9InVuZGVmaW5lZCIpe3RoaXMuZFNlcmlhbE51bWJlcj1uZXcgYS5ERVJJbnRlZ2VyKGMuc2VyaWFsTnVtYmVyKX1pZih0eXBlb2YgYy5nZW5UaW1lIT0idW5kZWZpbmVkIil7dGhpcy5kR2VuVGltZT1uZXcgYS5ERVJHZW5lcmFsaXplZFRpbWUoYy5nZW5UaW1lKX1pZih0eXBlb2YgYy5hY2N1cmFjeSE9InVuZGVmaW5kIil7dGhpcy5kQWNjdXJhY3k9bmV3IGIuQWNjdXJhY3koYy5hY2N1cmFjeSl9aWYodHlwZW9mIGMub3JkZXJpbmchPSJ1bmRlZmluZWQiJiZjLm9yZGVyaW5nPT10cnVlKXt0aGlzLmRPcmRlcmluZz1uZXcgYS5ERVJCb29sZWFuKCl9aWYodHlwZW9mIGMubm9uY2UhPSJ1bmRlZmluZWQiKXt0aGlzLmROb25jZT1uZXcgYS5ERVJJbnRlZ2VyKGMubm9uY2UpfWlmKHR5cGVvZiBjLnRzYSE9InVuZGVmaW5lZCIpe3RoaXMuZFRzYT1uZXcgZC5YNTAwTmFtZShjLnRzYSl9fX07WUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLnRzcC5UU1RJbmZvLEtKVVIuYXNuMS5BU04xT2JqZWN0KTtLSlVSLmFzbjEudHNwLlRpbWVTdGFtcFJlc3A9ZnVuY3Rpb24oYyl7S0pVUi5hc24xLnRzcC5UaW1lU3RhbXBSZXNwLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt2YXIgYT1LSlVSLmFzbjE7dmFyIGI9S0pVUi5hc24xLnRzcDt0aGlzLmRTdGF0dXM9bnVsbDt0aGlzLmRUU1Q9bnVsbDt0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXtpZih0aGlzLmRTdGF0dXM9PW51bGwpe3Rocm93InN0YXR1cyBzaGFsbCBiZSBzcGVjaWZpZWQifXZhciBkPVt0aGlzLmRTdGF0dXNdO2lmKHRoaXMuZFRTVCE9bnVsbCl7ZC5wdXNoKHRoaXMuZFRTVCl9dmFyIGU9bmV3IGEuREVSU2VxdWVuY2Uoe2FycmF5OmR9KTt0aGlzLmhUTFY9ZS5nZXRFbmNvZGVkSGV4KCk7cmV0dXJuIHRoaXMuaFRMVn07aWYodHlwZW9mIGMhPSJ1bmRlZmluZWQiKXtpZih0eXBlb2YgYy5zdGF0dXM9PSJvYmplY3QiKXt0aGlzLmRTdGF0dXM9bmV3IGIuUEtJU3RhdHVzSW5mbyhjLnN0YXR1cyl9aWYodHlwZW9mIGMudHN0IT0idW5kZWZpbmVkIiYmYy50c3QgaW5zdGFuY2VvZiBLSlVSLmFzbjEuQVNOMU9iamVjdCl7dGhpcy5kVFNUPWMudHN0LmdldENvbnRlbnRJbmZvKCl9fX07WUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLnRzcC5UaW1lU3RhbXBSZXNwLEtKVVIuYXNuMS5BU04xT2JqZWN0KTtLSlVSLmFzbjEudHNwLlBLSVN0YXR1c0luZm89ZnVuY3Rpb24oYyl7S0pVUi5hc24xLnRzcC5QS0lTdGF0dXNJbmZvLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt2YXIgYT1LSlVSLmFzbjE7dmFyIGI9S0pVUi5hc24xLnRzcDt0aGlzLmRTdGF0dXM9bnVsbDt0aGlzLmRTdGF0dXNTdHJpbmc9bnVsbDt0aGlzLmRGYWlsdXJlSW5mbz1udWxsO3RoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe2lmKHRoaXMuZFN0YXR1cz09bnVsbCl7dGhyb3cic3RhdHVzIHNoYWxsIGJlIHNwZWNpZmllZCJ9dmFyIGQ9W3RoaXMuZFN0YXR1c107aWYodGhpcy5kU3RhdHVzU3RyaW5nIT1udWxsKXtkLnB1c2godGhpcy5kU3RhdHVzU3RyaW5nKX1pZih0aGlzLmRGYWlsdXJlSW5mbyE9bnVsbCl7ZC5wdXNoKHRoaXMuZEZhaWx1cmVJbmZvKX12YXIgZT1uZXcgYS5ERVJTZXF1ZW5jZSh7YXJyYXk6ZH0pO3RoaXMuaFRMVj1lLmdldEVuY29kZWRIZXgoKTtyZXR1cm4gdGhpcy5oVExWfTtpZih0eXBlb2YgYyE9InVuZGVmaW5lZCIpe2lmKHR5cGVvZiBjLnN0YXR1cz09Im9iamVjdCIpe3RoaXMuZFN0YXR1cz1uZXcgYi5QS0lTdGF0dXMoYy5zdGF0dXMpfWlmKHR5cGVvZiBjLnN0YXRzdHI9PSJvYmplY3QiKXt0aGlzLmRTdGF0dXNTdHJpbmc9bmV3IGIuUEtJRnJlZVRleHQoe2FycmF5OmMuc3RhdHN0cn0pfWlmKHR5cGVvZiBjLmZhaWxpbmZvPT0ib2JqZWN0Iil7dGhpcy5kRmFpbHVyZUluZm89bmV3IGIuUEtJRmFpbHVyZUluZm8oYy5mYWlsaW5mbyl9fX07WUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLnRzcC5QS0lTdGF0dXNJbmZvLEtKVVIuYXNuMS5BU04xT2JqZWN0KTtLSlVSLmFzbjEudHNwLlBLSVN0YXR1cz1mdW5jdGlvbihlKXtLSlVSLmFzbjEudHNwLlBLSVN0YXR1cy5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dmFyIGE9S0pVUi5hc24xO3ZhciBiPUtKVVIuYXNuMS50c3A7dmFyIGQ9bnVsbDt0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXt0aGlzLmhUTFY9dGhpcy5kU3RhdHVzLmdldEVuY29kZWRIZXgoKTtyZXR1cm4gdGhpcy5oVExWfTtpZih0eXBlb2YgZSE9InVuZGVmaW5lZCIpe2lmKHR5cGVvZiBlLm5hbWUhPSJ1bmRlZmluZWQiKXt2YXIgYz1iLlBLSVN0YXR1cy52YWx1ZUxpc3Q7aWYodHlwZW9mIGNbZS5uYW1lXT09InVuZGVmaW5lZCIpe3Rocm93Im5hbWUgdW5kZWZpbmVkOiAiK2UubmFtZX10aGlzLmRTdGF0dXM9bmV3IGEuREVSSW50ZWdlcih7ImludCI6Y1tlLm5hbWVdfSl9ZWxzZXt0aGlzLmRTdGF0dXM9bmV3IGEuREVSSW50ZWdlcihlKX19fTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEudHNwLlBLSVN0YXR1cyxLSlVSLmFzbjEuQVNOMU9iamVjdCk7S0pVUi5hc24xLnRzcC5QS0lTdGF0dXMudmFsdWVMaXN0PXtncmFudGVkOjAsZ3JhbnRlZFdpdGhNb2RzOjEscmVqZWN0aW9uOjIsd2FpdGluZzozLHJldm9jYXRpb25XYXJuaW5nOjQscmV2b2NhdGlvbk5vdGlmaWNhdGlvbjo1fTtLSlVSLmFzbjEudHNwLlBLSUZyZWVUZXh0PWZ1bmN0aW9uKGIpe0tKVVIuYXNuMS50c3AuUEtJRnJlZVRleHQuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3ZhciBhPUtKVVIuYXNuMTt0aGlzLnRleHRMaXN0PVtdO3RoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe3ZhciBjPVtdO2Zvcih2YXIgZT0wO2U8dGhpcy50ZXh0TGlzdC5sZW5ndGg7ZSsrKXtjLnB1c2gobmV3IGEuREVSVVRGOFN0cmluZyh7c3RyOnRoaXMudGV4dExpc3RbZV19KSl9dmFyIGQ9bmV3IGEuREVSU2VxdWVuY2Uoe2FycmF5OmN9KTt0aGlzLmhUTFY9ZC5nZXRFbmNvZGVkSGV4KCk7cmV0dXJuIHRoaXMuaFRMVn07aWYodHlwZW9mIGIhPSJ1bmRlZmluZWQiKXtpZih0eXBlb2YgYi5hcnJheT09Im9iamVjdCIpe3RoaXMudGV4dExpc3Q9Yi5hcnJheX19fTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEudHNwLlBLSUZyZWVUZXh0LEtKVVIuYXNuMS5BU04xT2JqZWN0KTtLSlVSLmFzbjEudHNwLlBLSUZhaWx1cmVJbmZvPWZ1bmN0aW9uKGQpe0tKVVIuYXNuMS50c3AuUEtJRmFpbHVyZUluZm8uc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3ZhciBhPUtKVVIuYXNuMTt2YXIgYj1LSlVSLmFzbjEudHNwO3RoaXMudmFsdWU9bnVsbDt0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXtpZih0aGlzLnZhbHVlPT1udWxsKXt0aHJvdyJ2YWx1ZSBzaGFsbCBiZSBzcGVjaWZpZWQifXZhciBlPW5ldyBOdW1iZXIodGhpcy52YWx1ZSkudG9TdHJpbmcoMik7dmFyIGY9bmV3IGEuREVSQml0U3RyaW5nKCk7Zi5zZXRCeUJpbmFyeVN0cmluZyhlKTt0aGlzLmhUTFY9Zi5nZXRFbmNvZGVkSGV4KCk7cmV0dXJuIHRoaXMuaFRMVn07aWYodHlwZW9mIGQhPSJ1bmRlZmluZWQiKXtpZih0eXBlb2YgZC5uYW1lPT0ic3RyaW5nIil7dmFyIGM9Yi5QS0lGYWlsdXJlSW5mby52YWx1ZUxpc3Q7aWYodHlwZW9mIGNbZC5uYW1lXT09InVuZGVmaW5lZCIpe3Rocm93Im5hbWUgdW5kZWZpbmVkOiAiK2QubmFtZX10aGlzLnZhbHVlPWNbZC5uYW1lXX1lbHNle2lmKHR5cGVvZiBkWyJpbnQiXT09Im51bWJlciIpe3RoaXMudmFsdWU9ZFsiaW50Il19fX19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS50c3AuUEtJRmFpbHVyZUluZm8sS0pVUi5hc24xLkFTTjFPYmplY3QpO0tKVVIuYXNuMS50c3AuUEtJRmFpbHVyZUluZm8udmFsdWVMaXN0PXtiYWRBbGc6MCxiYWRSZXF1ZXN0OjIsYmFkRGF0YUZvcm1hdDo1LHRpbWVOb3RBdmFpbGFibGU6MTQsdW5hY2NlcHRlZFBvbGljeToxNSx1bmFjY2VwdGVkRXh0ZW5zaW9uOjE2LGFkZEluZm9Ob3RBdmFpbGFibGU6MTcsc3lzdGVtRmFpbHVyZToyNX07S0pVUi5hc24xLnRzcC5BYnN0cmFjdFRTQUFkYXB0ZXI9ZnVuY3Rpb24oYSl7dGhpcy5nZXRUU1RIZXg9ZnVuY3Rpb24oYyxiKXt0aHJvdyJub3QgaW1wbGVtZW50ZWQgeWV0In19O0tKVVIuYXNuMS50c3AuU2ltcGxlVFNBQWRhcHRlcj1mdW5jdGlvbihhKXtLSlVSLmFzbjEudHNwLlNpbXBsZVRTQUFkYXB0ZXIuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3RoaXMucGFyYW1zPW51bGw7dGhpcy5zZXJpYWw9MDt0aGlzLmdldFRTVEhleD1mdW5jdGlvbihjLGIpe3ZhciBlPUtKVVIuY3J5cHRvLlV0aWwuaGFzaEhleChjLGIpO3RoaXMucGFyYW1zLnRzdEluZm8ubWVzc2FnZUltcHJpbnQ9e2hhc2hBbGc6YixoYXNoVmFsdWU6ZX07dGhpcy5wYXJhbXMudHN0SW5mby5zZXJpYWxOdW1iZXI9eyJpbnQiOnRoaXMuc2VyaWFsKyt9O3ZhciBkPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMDAwMDAwMDAwKTt0aGlzLnBhcmFtcy50c3RJbmZvLm5vbmNlPXsiaW50IjpkfTt2YXIgZj1LSlVSLmFzbjEudHNwLlRTUFV0aWwubmV3VGltZVN0YW1wVG9rZW4odGhpcy5wYXJhbXMpO3JldHVybiBmLmdldENvbnRlbnRJbmZvRW5jb2RlZEhleCgpfTtpZih0eXBlb2YgYSE9InVuZGVmaW5lZCIpe3RoaXMucGFyYW1zPWF9fTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEudHNwLlNpbXBsZVRTQUFkYXB0ZXIsS0pVUi5hc24xLnRzcC5BYnN0cmFjdFRTQUFkYXB0ZXIpO0tKVVIuYXNuMS50c3AuRml4ZWRUU0FBZGFwdGVyPWZ1bmN0aW9uKGEpe0tKVVIuYXNuMS50c3AuRml4ZWRUU0FBZGFwdGVyLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLnBhcmFtcz1udWxsO3RoaXMuZ2V0VFNUSGV4PWZ1bmN0aW9uKGMsYil7dmFyIGQ9S0pVUi5jcnlwdG8uVXRpbC5oYXNoSGV4KGMsYik7dGhpcy5wYXJhbXMudHN0SW5mby5tZXNzYWdlSW1wcmludD17aGFzaEFsZzpiLGhhc2hWYWx1ZTpkfTt2YXIgZT1LSlVSLmFzbjEudHNwLlRTUFV0aWwubmV3VGltZVN0YW1wVG9rZW4odGhpcy5wYXJhbXMpO3JldHVybiBlLmdldENvbnRlbnRJbmZvRW5jb2RlZEhleCgpfTtpZih0eXBlb2YgYSE9InVuZGVmaW5lZCIpe3RoaXMucGFyYW1zPWF9fTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEudHNwLkZpeGVkVFNBQWRhcHRlcixLSlVSLmFzbjEudHNwLkFic3RyYWN0VFNBQWRhcHRlcik7S0pVUi5hc24xLnRzcC5UU1BVdGlsPW5ldyBmdW5jdGlvbigpe307S0pVUi5hc24xLnRzcC5UU1BVdGlsLm5ld1RpbWVTdGFtcFRva2VuPWZ1bmN0aW9uKGIpe3ZhciBqPUtKVVIuYXNuMS5jbXM7dmFyIGE9S0pVUi5hc24xLnRzcDt2YXIgZz1uZXcgai5TaWduZWREYXRhKCk7dmFyIGU9bmV3IGEuVFNUSW5mbyhiLnRzdEluZm8pO3ZhciBmPWUuZ2V0RW5jb2RlZEhleCgpO2cuZEVuY2FwQ29udGVudEluZm8uc2V0Q29udGVudFZhbHVlKHtoZXg6Zn0pO2cuZEVuY2FwQ29udGVudEluZm8uc2V0Q29udGVudFR5cGUoInRzdGluZm8iKTtpZih0eXBlb2YgYi5jZXJ0cz09Im9iamVjdCIpe2Zvcih2YXIgYz0wO2M8Yi5jZXJ0cy5sZW5ndGg7YysrKXtnLmFkZENlcnRpZmljYXRlc0J5UEVNKGIuY2VydHNbY10pfX12YXIgZD1nLnNpZ25lckluZm9MaXN0WzBdO2Quc2V0U2lnbmVySWRlbnRpZmllcihiLnNpZ25lckNlcnQpO2Quc2V0Rm9yQ29udGVudEFuZEhhc2goe3NkT2JqOmcsZWNpT2JqOmcuZEVuY2FwQ29udGVudEluZm8saGFzaEFsZzpiLmhhc2hBbGd9KTt2YXIgaD1uZXcgai5TaWduaW5nQ2VydGlmaWNhdGUoe2FycmF5OltiLnNpZ25lckNlcnRdfSk7ZC5kU2lnbmVkQXR0cnMuYWRkKGgpO2Quc2lnbihiLnNpZ25lclBydktleSxiLnNpZ0FsZyk7cmV0dXJuIGd9O0tKVVIuYXNuMS50c3AuVFNQVXRpbC5wYXJzZVRpbWVTdGFtcFJlcT1mdW5jdGlvbihkKXt2YXIgZj17fTtmLmNlcnRyZXE9ZmFsc2U7dmFyIGg9QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmooZCwwKTtpZihoLmxlbmd0aDwyKXt0aHJvdyJUaW1lU3RhbXBSZXEgbXVzdCBoYXZlIGF0IGxlYXN0IDIgaXRlbXMifXZhciBjPUFTTjFIRVguZ2V0SGV4T2ZUTFZfQXRPYmooZCxoWzFdKTtmLm1pPUtKVVIuYXNuMS50c3AuVFNQVXRpbC5wYXJzZU1lc3NhZ2VJbXByaW50KGMpO2Zvcih2YXIgZT0yO2U8aC5sZW5ndGg7ZSsrKXt2YXIgYj1oW2VdO3ZhciBhPWQuc3Vic3RyKGIsMik7aWYoYT09IjA2Iil7dmFyIGc9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmooZCxiKTtmLnBvbGljeT1BU04xSEVYLmhleHRvb2lkc3RyKGcpfWlmKGE9PSIwMiIpe2Yubm9uY2U9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmooZCxiKX1pZihhPT0iMDEiKXtmLmNlcnRyZXE9dHJ1ZX19cmV0dXJuIGZ9O0tKVVIuYXNuMS50c3AuVFNQVXRpbC5wYXJzZU1lc3NhZ2VJbXByaW50PWZ1bmN0aW9uKGMpe3ZhciBoPXt9O2lmKGMuc3Vic3RyKDAsMikhPSIzMCIpe3Rocm93ImhlYWQgb2YgbWVzc2FnZUltcHJpbnQgaGV4IHNoYWxsIGJlICczMCcifXZhciBhPUFTTjFIRVguZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKGMsMCk7dmFyIGk9QVNOMUhFWC5nZXREZWNlbmRhbnRJbmRleEJ5TnRoTGlzdChjLDAsWzAsMF0pO3ZhciBkPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKGMsaSk7dmFyIGU9QVNOMUhFWC5oZXh0b29pZHN0cihkKTt2YXIgZz1LSlVSLmFzbjEueDUwOS5PSUQub2lkMm5hbWUoZSk7aWYoZz09IiIpe3Rocm93Imhhc2hBbGcgbmFtZSB1bmRlZmluZWQ6ICIrZX12YXIgYj1nO3ZhciBmPUFTTjFIRVguZ2V0RGVjZW5kYW50SW5kZXhCeU50aExpc3QoYywwLFsxXSk7aC5oYXNoQWxnPWI7aC5oYXNoVmFsdWU9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmooYyxmKTtyZXR1cm4gaH07Ci8qISBhc24xY2FkZXMtMS4wLjAuanMgKGMpIDIwMTMtMjAxNCBLZW5qaSBVcnVzaGltYSB8IGtqdXIuZ2l0aHViLmNvbS9qc3JzYXNpZ24vbGljZW5zZQogKi8KaWYodHlwZW9mIEtKVVI9PSJ1bmRlZmluZWQifHwhS0pVUil7S0pVUj17fX1pZih0eXBlb2YgS0pVUi5hc24xPT0idW5kZWZpbmVkInx8IUtKVVIuYXNuMSl7S0pVUi5hc24xPXt9fWlmKHR5cGVvZiBLSlVSLmFzbjEuY2FkZXM9PSJ1bmRlZmluZWQifHwhS0pVUi5hc24xLmNhZGVzKXtLSlVSLmFzbjEuY2FkZXM9e319S0pVUi5hc24xLmNhZGVzLlNpZ25hdHVyZVBvbGljeUlkZW50aWZpZXI9ZnVuY3Rpb24oZSl7S0pVUi5hc24xLmNhZGVzLlNpZ25hdHVyZVBvbGljeUlkZW50aWZpZXIuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3RoaXMuYXR0clR5cGVPaWQ9IjEuMi44NDAuMTEzNTQ5LjEuOS4xNi4yLjE1Ijt2YXIgYj1LSlVSLmFzbjE7dmFyIGQ9S0pVUi5hc24xLmNhZGVzO2lmKHR5cGVvZiBlIT0idW5kZWZpbmVkIil7aWYodHlwZW9mIGUub2lkPT0ic3RyaW5nIiYmdHlwZW9mIGUuaGFzaD09Im9iamVjdCIpe3ZhciBmPW5ldyBiLkRFUk9iamVjdElkZW50aWZpZXIoe29pZDplLm9pZH0pO3ZhciBhPW5ldyBkLk90aGVySGFzaEFsZ0FuZFZhbHVlKGUuaGFzaCk7dmFyIGM9bmV3IGIuREVSU2VxdWVuY2Uoe2FycmF5OltmLGFdfSk7dGhpcy52YWx1ZUxpc3Q9W2NdfX19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5jYWRlcy5TaWduYXR1cmVQb2xpY3lJZGVudGlmaWVyLEtKVVIuYXNuMS5jbXMuQXR0cmlidXRlKTtLSlVSLmFzbjEuY2FkZXMuT3RoZXJIYXNoQWxnQW5kVmFsdWU9ZnVuY3Rpb24oYil7S0pVUi5hc24xLmNhZGVzLk90aGVySGFzaEFsZ0FuZFZhbHVlLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt2YXIgYT1LSlVSLmFzbjE7dmFyIGM9S0pVUi5hc24xLng1MDk7dGhpcy5kQWxnPW51bGw7dGhpcy5kSGFzaD1udWxsO3RoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe3ZhciBkPW5ldyBhLkRFUlNlcXVlbmNlKHthcnJheTpbdGhpcy5kQWxnLHRoaXMuZEhhc2hdfSk7dGhpcy5oVExWPWQuZ2V0RW5jb2RlZEhleCgpO3JldHVybiB0aGlzLmhUTFZ9O2lmKHR5cGVvZiBiIT0idW5kZWZpbmVkIil7aWYodHlwZW9mIGIuYWxnPT0ic3RyaW5nIiYmdHlwZW9mIGIuaGFzaD09InN0cmluZyIpe3RoaXMuZEFsZz1uZXcgYy5BbGdvcml0aG1JZGVudGlmaWVyKHtuYW1lOmIuYWxnfSk7dGhpcy5kSGFzaD1uZXcgYS5ERVJPY3RldFN0cmluZyh7aGV4OmIuaGFzaH0pfX19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5jYWRlcy5PdGhlckhhc2hBbGdBbmRWYWx1ZSxLSlVSLmFzbjEuQVNOMU9iamVjdCk7S0pVUi5hc24xLmNhZGVzLlNpZ25hdHVyZVRpbWVTdGFtcD1mdW5jdGlvbihjKXtLSlVSLmFzbjEuY2FkZXMuU2lnbmF0dXJlVGltZVN0YW1wLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLmF0dHJUeXBlT2lkPSIxLjIuODQwLjExMzU0OS4xLjkuMTYuMi4xNCI7dGhpcy50c3RIZXg9bnVsbDt2YXIgYT1LSlVSLmFzbjE7aWYodHlwZW9mIGMhPSJ1bmRlZmluZWQiKXtpZih0eXBlb2YgYy5yZXMhPSJ1bmRlZmluZWQiKXtpZih0eXBlb2YgYy5yZXM9PSJzdHJpbmciJiZjLnJlcy5tYXRjaCgvXlswLTlBLUZhLWZdKyQvKSl7fWVsc2V7aWYoYy5yZXMgaW5zdGFuY2VvZiBLSlVSLmFzbjEuQVNOMU9iamVjdCl7fWVsc2V7dGhyb3cicmVzIHBhcmFtIHNoYWxsIGJlIEFTTjFPYmplY3Qgb3IgaGV4IHN0cmluZyJ9fX1pZih0eXBlb2YgYy50c3QhPSJ1bmRlZmluZWQiKXtpZih0eXBlb2YgYy50c3Q9PSJzdHJpbmciJiZjLnRzdC5tYXRjaCgvXlswLTlBLUZhLWZdKyQvKSl7dmFyIGI9bmV3IGEuQVNOMU9iamVjdCgpO3RoaXMudHN0SGV4PWMudHN0O2IuaFRMVj10aGlzLnRzdEhleDtiLmdldEVuY29kZWRIZXgoKTt0aGlzLnZhbHVlTGlzdD1bYl19ZWxzZXtpZihjLnRzdCBpbnN0YW5jZW9mIEtKVVIuYXNuMS5BU04xT2JqZWN0KXt9ZWxzZXt0aHJvdyJ0c3QgcGFyYW0gc2hhbGwgYmUgQVNOMU9iamVjdCBvciBoZXggc3RyaW5nIn19fX19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5jYWRlcy5TaWduYXR1cmVUaW1lU3RhbXAsS0pVUi5hc24xLmNtcy5BdHRyaWJ1dGUpO0tKVVIuYXNuMS5jYWRlcy5Db21wbGV0ZUNlcnRpZmljYXRlUmVmcz1mdW5jdGlvbihjKXtLSlVSLmFzbjEuY2FkZXMuQ29tcGxldGVDZXJ0aWZpY2F0ZVJlZnMuc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3RoaXMuYXR0clR5cGVPaWQ9IjEuMi44NDAuMTEzNTQ5LjEuOS4xNi4yLjIxIjt2YXIgYT1LSlVSLmFzbjE7dmFyIGI9S0pVUi5hc24xLmNhZGVzO3RoaXMuc2V0QnlBcnJheT1mdW5jdGlvbihkKXt0aGlzLnZhbHVlTGlzdD1bXTtmb3IodmFyIGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9bmV3IGIuT3RoZXJDZXJ0SUQoZFtlXSk7dGhpcy52YWx1ZUxpc3QucHVzaChmKX19O2lmKHR5cGVvZiBjIT0idW5kZWZpbmVkIil7aWYodHlwZW9mIGM9PSJvYmplY3QiJiZ0eXBlb2YgYy5sZW5ndGg9PSJudW1iZXIiKXt0aGlzLnNldEJ5QXJyYXkoYyl9fX07WUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLmNhZGVzLkNvbXBsZXRlQ2VydGlmaWNhdGVSZWZzLEtKVVIuYXNuMS5jbXMuQXR0cmlidXRlKTtLSlVSLmFzbjEuY2FkZXMuT3RoZXJDZXJ0SUQ9ZnVuY3Rpb24oZCl7S0pVUi5hc24xLmNhZGVzLk90aGVyQ2VydElELnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt2YXIgYT1LSlVSLmFzbjE7dmFyIGM9S0pVUi5hc24xLmNtczt2YXIgYj1LSlVSLmFzbjEuY2FkZXM7dGhpcy5oYXNJc3N1ZXJTZXJpYWw9dHJ1ZTt0aGlzLmRPdGhlckNlcnRIYXNoPW51bGw7dGhpcy5kSXNzdWVyU2VyaWFsPW51bGw7dGhpcy5zZXRCeUNlcnRQRU09ZnVuY3Rpb24oZSl7dGhpcy5kT3RoZXJDZXJ0SGFzaD1uZXcgYi5PdGhlckhhc2goZSk7aWYodGhpcy5oYXNJc3N1ZXJTZXJpYWwpe3RoaXMuZElzc3VlclNlcmlhbD1uZXcgYy5Jc3N1ZXJBbmRTZXJpYWxOdW1iZXIoZSl9fTt0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXtpZih0aGlzLmhUTFYhPW51bGwpe3JldHVybiB0aGlzLmhUTFZ9aWYodGhpcy5kT3RoZXJDZXJ0SGFzaD09bnVsbCl7dGhyb3cib3RoZXJDZXJ0SGFzaCBub3Qgc2V0In12YXIgZT1bdGhpcy5kT3RoZXJDZXJ0SGFzaF07aWYodGhpcy5kSXNzdWVyU2VyaWFsIT1udWxsKXtlLnB1c2godGhpcy5kSXNzdWVyU2VyaWFsKX12YXIgZj1uZXcgYS5ERVJTZXF1ZW5jZSh7YXJyYXk6ZX0pO3RoaXMuaFRMVj1mLmdldEVuY29kZWRIZXgoKTtyZXR1cm4gdGhpcy5oVExWfTtpZih0eXBlb2YgZCE9InVuZGVmaW5lZCIpe2lmKHR5cGVvZiBkPT0ic3RyaW5nIiYmZC5pbmRleE9mKCItLS0tLUJFR0lOICIpIT0tMSl7dGhpcy5zZXRCeUNlcnRQRU0oZCl9aWYodHlwZW9mIGQ9PSJvYmplY3QiKXtpZihkLmhhc2lzPT09ZmFsc2Upe3RoaXMuaGFzSXNzdWVyU2VyaWFsPWZhbHNlfWlmKHR5cGVvZiBkLmNlcnQ9PSJzdHJpbmciKXt0aGlzLnNldEJ5Q2VydFBFTShkLmNlcnQpfX19fTtZQUhPTy5sYW5nLmV4dGVuZChLSlVSLmFzbjEuY2FkZXMuT3RoZXJDZXJ0SUQsS0pVUi5hc24xLkFTTjFPYmplY3QpO0tKVVIuYXNuMS5jYWRlcy5PdGhlckhhc2g9ZnVuY3Rpb24oYyl7S0pVUi5hc24xLmNhZGVzLk90aGVySGFzaC5zdXBlcmNsYXNzLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7dmFyIGE9S0pVUi5hc24xO3ZhciBiPUtKVVIuYXNuMS5jYWRlczt0aGlzLmFsZz0ic2hhMjU2Ijt0aGlzLmRPdGhlckhhc2g9bnVsbDt0aGlzLnNldEJ5Q2VydFBFTT1mdW5jdGlvbihkKXtpZihkLmluZGV4T2YoIi0tLS0tQkVHSU4gIik9PS0xKXt0aHJvdyJjZXJ0UEVNIG5vdCB0byBzZWVtIFBFTSBmb3JtYXQifXZhciBlPVg1MDkucGVtVG9IZXgoZCk7dmFyIGY9S0pVUi5jcnlwdG8uVXRpbC5oYXNoSGV4KGUsdGhpcy5hbGcpO3RoaXMuZE90aGVySGFzaD1uZXcgYi5PdGhlckhhc2hBbGdBbmRWYWx1ZSh7YWxnOnRoaXMuYWxnLGhhc2g6Zn0pfTt0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXtpZih0aGlzLmRPdGhlckhhc2g9PW51bGwpe3Rocm93Ik90aGVySGFzaCBub3Qgc2V0In1yZXR1cm4gdGhpcy5kT3RoZXJIYXNoLmdldEVuY29kZWRIZXgoKX07aWYodHlwZW9mIGMhPSJ1bmRlZmluZWQiKXtpZih0eXBlb2YgYz09InN0cmluZyIpe2lmKGMuaW5kZXhPZigiLS0tLS1CRUdJTiAiKSE9LTEpe3RoaXMuc2V0QnlDZXJ0UEVNKGMpfWVsc2V7aWYoYy5tYXRjaCgvXlswLTlBLUZhLWZdKyQvKSl7dGhpcy5kT3RoZXJIYXNoPW5ldyBhLkRFUk9jdGV0U3RyaW5nKHtoZXg6Y30pfWVsc2V7dGhyb3cidW5zdXBwb3J0ZWQgc3RyaW5nIHZhbHVlIGZvciBwYXJhbXMifX19ZWxzZXtpZih0eXBlb2YgYz09Im9iamVjdCIpe2lmKHR5cGVvZiBjLmNlcnQ9PSJzdHJpbmciKXtpZih0eXBlb2YgYy5hbGc9PSJzdHJpbmciKXt0aGlzLmFsZz1jLmFsZ310aGlzLnNldEJ5Q2VydFBFTShjLmNlcnQpfWVsc2V7dGhpcy5kT3RoZXJIYXNoPW5ldyBiLk90aGVySGFzaEFsZ0FuZFZhbHVlKGMpfX19fX07WUFIT08ubGFuZy5leHRlbmQoS0pVUi5hc24xLmNhZGVzLk90aGVySGFzaCxLSlVSLmFzbjEuQVNOMU9iamVjdCk7S0pVUi5hc24xLmNhZGVzLkNBZEVTVXRpbD1uZXcgZnVuY3Rpb24oKXt9O0tKVVIuYXNuMS5jYWRlcy5DQWRFU1V0aWwuYWRkU2lnVFM9ZnVuY3Rpb24oYyxiLGEpe307S0pVUi5hc24xLmNhZGVzLkNBZEVTVXRpbC5wYXJzZVNpZ25lZERhdGFGb3JBZGRpbmdVbnNpZ25lZD1mdW5jdGlvbihkKXt2YXIgcT1LSlVSLmFzbjE7dmFyIHA9S0pVUi5hc24xLmNtczt2YXIgYz1LSlVSLmFzbjEuY2FkZXMuQ0FkRVNVdGlsO3ZhciBhPXt9O2lmKEFTTjFIRVguZ2V0RGVjZW5kYW50SGV4VExWQnlOdGhMaXN0KGQsMCxbMF0pIT0iMDYwOTJhODY0ODg2ZjcwZDAxMDcwMiIpe3Rocm93ImhleCBpcyBub3QgQ01TIFNpZ25lZERhdGEifXZhciBzPUFTTjFIRVguZ2V0RGVjZW5kYW50SW5kZXhCeU50aExpc3QoZCwwLFsxLDBdKTt2YXIgYj1BU04xSEVYLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaihkLHMpO2lmKGIubGVuZ3RoPDQpe3Rocm93Im51bSBvZiBTaWduZWREYXRhIGVsZW0gc2hhbGwgYmUgNCBhdCBsZWFzdCJ9dmFyIGY9Yi5zaGlmdCgpO2EudmVyc2lvbj1BU04xSEVYLmdldEhleE9mVExWX0F0T2JqKGQsZik7dmFyIGw9Yi5zaGlmdCgpO2EuYWxncz1BU04xSEVYLmdldEhleE9mVExWX0F0T2JqKGQsbCk7dmFyIG09Yi5zaGlmdCgpO2EuZW5jYXBjb250ZW50PUFTTjFIRVguZ2V0SGV4T2ZUTFZfQXRPYmooZCxtKTthLmNlcnRzPW51bGw7YS5yZXZzPW51bGw7YS5zaT1bXTt2YXIgbj1iLnNoaWZ0KCk7aWYoZC5zdWJzdHIobiwyKT09ImEwIil7YS5jZXJ0cz1BU04xSEVYLmdldEhleE9mVExWX0F0T2JqKGQsbik7bj1iLnNoaWZ0KCl9aWYoZC5zdWJzdHIobiwyKT09ImExIil7YS5yZXZzPUFTTjFIRVguZ2V0SGV4T2ZUTFZfQXRPYmooZCxuKTtuPWIuc2hpZnQoKX12YXIgaz1uO2lmKGQuc3Vic3RyKGssMikhPSIzMSIpe3Rocm93IkNhbid0IGZpbmQgc2lnbmVySW5mb3MifXZhciBqPUFTTjFIRVguZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKGQsayk7Zm9yKHZhciBoPTA7aDxqLmxlbmd0aDtoKyspe3ZhciBvPWpbaF07dmFyIGU9Yy5wYXJzZVNpZ25lckluZm9Gb3JBZGRpbmdVbnNpZ25lZChkLG8saCk7YS5zaVtoXT1lfXZhciBnPW51bGw7YS5vYmo9bmV3IHAuU2lnbmVkRGF0YSgpO2c9bmV3IHEuQVNOMU9iamVjdCgpO2cuaFRMVj1hLnZlcnNpb247YS5vYmouZENNU1ZlcnNpb249ZztnPW5ldyBxLkFTTjFPYmplY3QoKTtnLmhUTFY9YS5hbGdzO2Eub2JqLmREaWdlc3RBbGdzPWc7Zz1uZXcgcS5BU04xT2JqZWN0KCk7Zy5oVExWPWEuZW5jYXBjb250ZW50O2Eub2JqLmRFbmNhcENvbnRlbnRJbmZvPWc7Zz1uZXcgcS5BU04xT2JqZWN0KCk7Zy5oVExWPWEuY2VydHM7YS5vYmouZENlcnRzPWc7YS5vYmouc2lnbmVySW5mb0xpc3Q9W107Zm9yKHZhciBoPTA7aDxhLnNpLmxlbmd0aDtoKyspe2Eub2JqLnNpZ25lckluZm9MaXN0LnB1c2goYS5zaVtoXS5vYmopfXJldHVybiBhfTtLSlVSLmFzbjEuY2FkZXMuQ0FkRVNVdGlsLnBhcnNlU2lnbmVySW5mb0ZvckFkZGluZ1Vuc2lnbmVkPWZ1bmN0aW9uKGQsayxhKXt2YXIgbT1LSlVSLmFzbjE7dmFyIGw9S0pVUi5hc24xLmNtczt2YXIgYj17fTt2YXIgZT1BU04xSEVYLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaihkLGspO2lmKGUubGVuZ3RoIT02KXt0aHJvdyJub3Qgc3VwcG9ydGVkIGl0ZW1zIGZvciBTaWduZXJJbmZvICghPTYpIn12YXIgZj1lLnNoaWZ0KCk7Yi52ZXJzaW9uPUFTTjFIRVguZ2V0SGV4T2ZUTFZfQXRPYmooZCxmKTt2YXIgbj1lLnNoaWZ0KCk7Yi5zaT1BU04xSEVYLmdldEhleE9mVExWX0F0T2JqKGQsbik7dmFyIGg9ZS5zaGlmdCgpO2IuZGlnYWxnPUFTTjFIRVguZ2V0SGV4T2ZUTFZfQXRPYmooZCxoKTt2YXIgYz1lLnNoaWZ0KCk7Yi5zYXR0cnM9QVNOMUhFWC5nZXRIZXhPZlRMVl9BdE9iaihkLGMpO3ZhciBpPWUuc2hpZnQoKTtiLnNpZ2FsZz1BU04xSEVYLmdldEhleE9mVExWX0F0T2JqKGQsaSk7dmFyIGo9ZS5zaGlmdCgpO2Iuc2lnPUFTTjFIRVguZ2V0SGV4T2ZUTFZfQXRPYmooZCxqKTtiLnNpZ3ZhbD1BU04xSEVYLmdldEhleE9mVl9BdE9iaihkLGopO3ZhciBnPW51bGw7Yi5vYmo9bmV3IGwuU2lnbmVySW5mbygpO2c9bmV3IG0uQVNOMU9iamVjdCgpO2cuaFRMVj1iLnZlcnNpb247Yi5vYmouZENNU1ZlcnNpb249ZztnPW5ldyBtLkFTTjFPYmplY3QoKTtnLmhUTFY9Yi5zaTtiLm9iai5kU2lnbmVySWRlbnRpZmllcj1nO2c9bmV3IG0uQVNOMU9iamVjdCgpO2cuaFRMVj1iLmRpZ2FsZztiLm9iai5kRGlnZXN0QWxnb3JpdGhtPWc7Zz1uZXcgbS5BU04xT2JqZWN0KCk7Zy5oVExWPWIuc2F0dHJzO2Iub2JqLmRTaWduZWRBdHRycz1nO2c9bmV3IG0uQVNOMU9iamVjdCgpO2cuaFRMVj1iLnNpZ2FsZztiLm9iai5kU2lnQWxnPWc7Zz1uZXcgbS5BU04xT2JqZWN0KCk7Zy5oVExWPWIuc2lnO2Iub2JqLmRTaWc9ZztiLm9iai5kVW5zaWduZWRBdHRycz1uZXcgbC5BdHRyaWJ1dGVMaXN0KCk7cmV0dXJuIGJ9OwovKiEgYXNuMWNzci0xLjAuMC5qcyAoYykgMjAxNSBLZW5qaSBVcnVzaGltYSB8IGtqdXIuZ2l0aHViLmNvbS9qc3JzYXNpZ24vbGljZW5zZQogKi8KaWYodHlwZW9mIEtKVVIuYXNuMS5jc3I9PSJ1bmRlZmluZWQifHwhS0pVUi5hc24xLmNzcil7S0pVUi5hc24xLmNzcj17fX1LSlVSLmFzbjEuY3NyLkNlcnRpZmljYXRpb25SZXF1ZXN0PWZ1bmN0aW9uKGYpe0tKVVIuYXNuMS5jc3IuQ2VydGlmaWNhdGlvblJlcXVlc3Quc3VwZXJjbGFzcy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3ZhciBiPW51bGw7dmFyIGQ9bnVsbDt2YXIgZT1udWxsO3ZhciBjPW51bGw7dmFyIGE9bnVsbDt0aGlzLnNpZ249ZnVuY3Rpb24oaSxoKXtpZih0aGlzLnBydktleT09bnVsbCl7dGhpcy5wcnZLZXk9aH10aGlzLmFzbjFTaWduYXR1cmVBbGc9bmV3IEtKVVIuYXNuMS54NTA5LkFsZ29yaXRobUlkZW50aWZpZXIoe25hbWU6aX0pO3NpZz1uZXcgS0pVUi5jcnlwdG8uU2lnbmF0dXJlKHthbGc6aX0pO3NpZy5pbml0U2lnbih0aGlzLnBydktleSk7c2lnLnVwZGF0ZUhleCh0aGlzLmFzbjFDU1JJbmZvLmdldEVuY29kZWRIZXgoKSk7dGhpcy5oZXhTaWc9c2lnLnNpZ24oKTt0aGlzLmFzbjFTaWc9bmV3IEtKVVIuYXNuMS5ERVJCaXRTdHJpbmcoe2hleDoiMDAiK3RoaXMuaGV4U2lnfSk7dmFyIGc9bmV3IEtKVVIuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6W3RoaXMuYXNuMUNTUkluZm8sdGhpcy5hc24xU2lnbmF0dXJlQWxnLHRoaXMuYXNuMVNpZ119KTt0aGlzLmhUTFY9Zy5nZXRFbmNvZGVkSGV4KCk7dGhpcy5pc01vZGlmaWVkPWZhbHNlfTt0aGlzLmdldFBFTVN0cmluZz1mdW5jdGlvbigpe3ZhciBnPUtKVVIuYXNuMS5BU04xVXRpbC5nZXRQRU1TdHJpbmdGcm9tSGV4KHRoaXMuZ2V0RW5jb2RlZEhleCgpLCJDRVJUSUZJQ0FURSBSRVFVRVNUIik7cmV0dXJuIGd9O3RoaXMuZ2V0RW5jb2RlZEhleD1mdW5jdGlvbigpe2lmKHRoaXMuaXNNb2RpZmllZD09ZmFsc2UmJnRoaXMuaFRMViE9bnVsbCl7cmV0dXJuIHRoaXMuaFRMVn10aHJvdyJub3Qgc2lnbmVkIHlldCJ9O2lmKHR5cGVvZiBmIT0idW5kZWZpbmVkIil7aWYodHlwZW9mIGYuY3NyaW5mbyE9InVuZGVmaW5lZCIpe3RoaXMuYXNuMUNTUkluZm89Zi5jc3JpbmZvfX19O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5jc3IuQ2VydGlmaWNhdGlvblJlcXVlc3QsS0pVUi5hc24xLkFTTjFPYmplY3QpO0tKVVIuYXNuMS5jc3IuQ2VydGlmaWNhdGlvblJlcXVlc3RJbmZvPWZ1bmN0aW9uKGEpe0tKVVIuYXNuMS5jc3IuQ2VydGlmaWNhdGlvblJlcXVlc3RJbmZvLnN1cGVyY2xhc3MuY29uc3RydWN0b3IuY2FsbCh0aGlzKTt0aGlzLl9pbml0aWFsaXplPWZ1bmN0aW9uKCl7dGhpcy5hc24xQXJyYXk9bmV3IEFycmF5KCk7dGhpcy5hc24xVmVyc2lvbj1uZXcgS0pVUi5hc24xLkRFUkludGVnZXIoeyJpbnQiOjB9KTt0aGlzLmFzbjFTdWJqZWN0PW51bGw7dGhpcy5hc24xU3VialBLZXk9bnVsbDt0aGlzLmV4dGVuc2lvbnNBcnJheT1uZXcgQXJyYXkoKX07dGhpcy5zZXRTdWJqZWN0QnlQYXJhbT1mdW5jdGlvbihiKXt0aGlzLmFzbjFTdWJqZWN0PW5ldyBLSlVSLmFzbjEueDUwOS5YNTAwTmFtZShiKX07dGhpcy5zZXRTdWJqZWN0UHVibGljS2V5QnlHZXRLZXk9ZnVuY3Rpb24oYyl7dmFyIGI9S0VZVVRJTC5nZXRLZXkoYyk7dGhpcy5hc24xU3VialBLZXk9bmV3IEtKVVIuYXNuMS54NTA5LlN1YmplY3RQdWJsaWNLZXlJbmZvKGIpfTt0aGlzLmdldEVuY29kZWRIZXg9ZnVuY3Rpb24oKXt0aGlzLmFzbjFBcnJheT1uZXcgQXJyYXkoKTt0aGlzLmFzbjFBcnJheS5wdXNoKHRoaXMuYXNuMVZlcnNpb24pO3RoaXMuYXNuMUFycmF5LnB1c2godGhpcy5hc24xU3ViamVjdCk7dGhpcy5hc24xQXJyYXkucHVzaCh0aGlzLmFzbjFTdWJqUEtleSk7dmFyIGM9bmV3IEtKVVIuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6dGhpcy5leHRlbnNpb25zQXJyYXl9KTt2YXIgYj1uZXcgS0pVUi5hc24xLkRFUlRhZ2dlZE9iamVjdCh7ZXhwbGljaXQ6ZmFsc2UsdGFnOiJhMCIsb2JqOmN9KTt0aGlzLmFzbjFBcnJheS5wdXNoKGIpO3ZhciBkPW5ldyBLSlVSLmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5OnRoaXMuYXNuMUFycmF5fSk7dGhpcy5oVExWPWQuZ2V0RW5jb2RlZEhleCgpO3RoaXMuaXNNb2RpZmllZD1mYWxzZTtyZXR1cm4gdGhpcy5oVExWfTt0aGlzLl9pbml0aWFsaXplKCl9O1lBSE9PLmxhbmcuZXh0ZW5kKEtKVVIuYXNuMS5jc3IuQ2VydGlmaWNhdGlvblJlcXVlc3RJbmZvLEtKVVIuYXNuMS5BU04xT2JqZWN0KTtLSlVSLmFzbjEuY3NyLkNTUlV0aWw9bmV3IGZ1bmN0aW9uKCl7fTtLSlVSLmFzbjEuY3NyLkNTUlV0aWwubmV3Q1NSUEVNPWZ1bmN0aW9uKGYpe3ZhciBjPUtKVVIuYXNuMS5jc3I7aWYoZi5zdWJqZWN0PT09dW5kZWZpbmVkKXt0aHJvdyJwYXJhbWV0ZXIgc3ViamVjdCB1bmRlZmluZWQifWlmKGYuc2JqcHVia2V5PT09dW5kZWZpbmVkKXt0aHJvdyJwYXJhbWV0ZXIgc2JqcHVia2V5IHVuZGVmaW5lZCJ9aWYoZi5zaWdhbGc9PT11bmRlZmluZWQpe3Rocm93InBhcmFtZXRlciBzaWdhbGcgdW5kZWZpbmVkIn1pZihmLnNianBydmtleT09PXVuZGVmaW5lZCl7dGhyb3cicGFyYW1ldGVyIHNianB1YmtleSB1bmRlZmluZWQifXZhciBiPW5ldyBjLkNlcnRpZmljYXRpb25SZXF1ZXN0SW5mbygpO2Iuc2V0U3ViamVjdEJ5UGFyYW0oZi5zdWJqZWN0KTtiLnNldFN1YmplY3RQdWJsaWNLZXlCeUdldEtleShmLnNianB1YmtleSk7dmFyIGQ9bmV3IGMuQ2VydGlmaWNhdGlvblJlcXVlc3Qoe2NzcmluZm86Yn0pO3ZhciBhPUtFWVVUSUwuZ2V0S2V5KGYuc2JqcHJ2a2V5KTtkLnNpZ24oZi5zaWdhbGcsYSk7dmFyIGU9ZC5nZXRQRU1TdHJpbmcoKTtyZXR1cm4gZX07Ci8qISBiYXNlNjR4LTEuMS42IChjKSAyMDEyLTIwMTUgS2VuamkgVXJ1c2hpbWEgfCBranVyLmdpdGh1Yi5jb20vanNyc2FzaWduL2xpY2Vuc2UKICovCmZ1bmN0aW9uIEJhc2U2NHgoKXt9ZnVuY3Rpb24gc3RvQkEoZCl7dmFyIGI9bmV3IEFycmF5KCk7Zm9yKHZhciBjPTA7YzxkLmxlbmd0aDtjKyspe2JbY109ZC5jaGFyQ29kZUF0KGMpfXJldHVybiBifWZ1bmN0aW9uIEJBdG9zKGIpe3ZhciBkPSIiO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXtkPWQrU3RyaW5nLmZyb21DaGFyQ29kZShiW2NdKX1yZXR1cm4gZH1mdW5jdGlvbiBCQXRvaGV4KGIpe3ZhciBlPSIiO2Zvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgYz1iW2RdLnRvU3RyaW5nKDE2KTtpZihjLmxlbmd0aD09MSl7Yz0iMCIrY31lPWUrY31yZXR1cm4gZX1mdW5jdGlvbiBzdG9oZXgoYSl7cmV0dXJuIEJBdG9oZXgoc3RvQkEoYSkpfWZ1bmN0aW9uIHN0b2I2NChhKXtyZXR1cm4gaGV4MmI2NChzdG9oZXgoYSkpfWZ1bmN0aW9uIHN0b2I2NHUoYSl7cmV0dXJuIGI2NHRvYjY0dShoZXgyYjY0KHN0b2hleChhKSkpfWZ1bmN0aW9uIGI2NHV0b3MoYSl7cmV0dXJuIEJBdG9zKGI2NHRvQkEoYjY0dXRvYjY0KGEpKSl9ZnVuY3Rpb24gYjY0dG9iNjR1KGEpe2E9YS5yZXBsYWNlKC9cPS9nLCIiKTthPWEucmVwbGFjZSgvXCsvZywiLSIpO2E9YS5yZXBsYWNlKC9cLy9nLCJfIik7cmV0dXJuIGF9ZnVuY3Rpb24gYjY0dXRvYjY0KGEpe2lmKGEubGVuZ3RoJTQ9PTIpe2E9YSsiPT0ifWVsc2V7aWYoYS5sZW5ndGglND09Myl7YT1hKyI9In19YT1hLnJlcGxhY2UoLy0vZywiKyIpO2E9YS5yZXBsYWNlKC9fL2csIi8iKTtyZXR1cm4gYX1mdW5jdGlvbiBoZXh0b2I2NHUoYSl7aWYoYS5sZW5ndGglMj09MSl7YT0iMCIrYX1yZXR1cm4gYjY0dG9iNjR1KGhleDJiNjQoYSkpfWZ1bmN0aW9uIGI2NHV0b2hleChhKXtyZXR1cm4gYjY0dG9oZXgoYjY0dXRvYjY0KGEpKX12YXIgdXRmOHRvYjY0dSxiNjR1dG91dGY4O2lmKHR5cGVvZiBCdWZmZXI9PT0iZnVuY3Rpb24iKXt1dGY4dG9iNjR1PWZ1bmN0aW9uKGEpe3JldHVybiBiNjR0b2I2NHUobmV3IEJ1ZmZlcihhLCJ1dGY4IikudG9TdHJpbmcoImJhc2U2NCIpKX07YjY0dXRvdXRmOD1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IEJ1ZmZlcihiNjR1dG9iNjQoYSksImJhc2U2NCIpLnRvU3RyaW5nKCJ1dGY4Iil9fWVsc2V7dXRmOHRvYjY0dT1mdW5jdGlvbihhKXtyZXR1cm4gaGV4dG9iNjR1KHVyaWNtcHRvaGV4KGVuY29kZVVSSUNvbXBvbmVudEFsbChhKSkpfTtiNjR1dG91dGY4PWZ1bmN0aW9uKGEpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoaGV4dG91cmljbXAoYjY0dXRvaGV4KGEpKSl9fWZ1bmN0aW9uIHV0Zjh0b2I2NChhKXtyZXR1cm4gaGV4MmI2NCh1cmljbXB0b2hleChlbmNvZGVVUklDb21wb25lbnRBbGwoYSkpKX1mdW5jdGlvbiBiNjR0b3V0ZjgoYSl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChoZXh0b3VyaWNtcChiNjR0b2hleChhKSkpfWZ1bmN0aW9uIHV0Zjh0b2hleChhKXtyZXR1cm4gdXJpY21wdG9oZXgoZW5jb2RlVVJJQ29tcG9uZW50QWxsKGEpKX1mdW5jdGlvbiBoZXh0b3V0ZjgoYSl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChoZXh0b3VyaWNtcChhKSl9ZnVuY3Rpb24gaGV4dG9yc3RyKGMpe3ZhciBiPSIiO2Zvcih2YXIgYT0wO2E8Yy5sZW5ndGgtMTthKz0yKXtiKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGMuc3Vic3RyKGEsMiksMTYpKX1yZXR1cm4gYn1mdW5jdGlvbiByc3RydG9oZXgoYyl7dmFyIGE9IiI7Zm9yKHZhciBiPTA7YjxjLmxlbmd0aDtiKyspe2ErPSgiMCIrYy5jaGFyQ29kZUF0KGIpLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTIpfXJldHVybiBhfWZ1bmN0aW9uIGhleHRvYjY0KGEpe3JldHVybiBoZXgyYjY0KGEpfWZ1bmN0aW9uIGhleHRvYjY0bmwoYil7dmFyIGE9aGV4dG9iNjQoYik7dmFyIGM9YS5yZXBsYWNlKC8oLns2NH0pL2csIiQxXHJcbiIpO2M9Yy5yZXBsYWNlKC9cclxuJC8sIiIpO3JldHVybiBjfWZ1bmN0aW9uIGI2NG5sdG9oZXgoYil7dmFyIGE9Yi5yZXBsYWNlKC9bXjAtOUEtWmEtelwvKz1dKi9nLCIiKTt2YXIgYz1iNjR0b2hleChhKTtyZXR1cm4gY31mdW5jdGlvbiB1cmljbXB0b2hleChhKXtyZXR1cm4gYS5yZXBsYWNlKC8lL2csIiIpfWZ1bmN0aW9uIGhleHRvdXJpY21wKGEpe3JldHVybiBhLnJlcGxhY2UoLyguLikvZywiJSQxIil9ZnVuY3Rpb24gZW5jb2RlVVJJQ29tcG9uZW50QWxsKGEpe3ZhciBkPWVuY29kZVVSSUNvbXBvbmVudChhKTt2YXIgYj0iIjtmb3IodmFyIGM9MDtjPGQubGVuZ3RoO2MrKyl7aWYoZFtjXT09IiUiKXtiPWIrZC5zdWJzdHIoYywzKTtjPWMrMn1lbHNle2I9YisiJSIrc3RvaGV4KGRbY10pfX1yZXR1cm4gYn1mdW5jdGlvbiBuZXdsaW5lX3RvVW5peChhKXthPWEucmVwbGFjZSgvXHJcbi9tZywiXG4iKTtyZXR1cm4gYX1mdW5jdGlvbiBuZXdsaW5lX3RvRG9zKGEpe2E9YS5yZXBsYWNlKC9cclxuL21nLCJcbiIpO2E9YS5yZXBsYWNlKC9cbi9tZywiXHJcbiIpO3JldHVybiBhfWZ1bmN0aW9uIGludGFyeXN0cnRvaGV4KGIpe2I9Yi5yZXBsYWNlKC9eXHMqXFtccyovLCIiKTtiPWIucmVwbGFjZSgvXHMqXF1ccyokLywiIik7Yj1iLnJlcGxhY2UoL1xzKi9nLCIiKTt0cnl7dmFyIGM9Yi5zcGxpdCgvLC8pLm1hcChmdW5jdGlvbihnLGUsaCl7dmFyIGY9cGFyc2VJbnQoZyk7aWYoZjwwfHwyNTU8Zil7dGhyb3ciaW50ZWdlciBub3QgaW4gcmFuZ2UgMC0yNTUifXZhciBkPSgiMDAiK2YudG9TdHJpbmcoMTYpKS5zbGljZSgtMik7cmV0dXJuIGR9KS5qb2luKCIiKTtyZXR1cm4gY31jYXRjaChhKXt0aHJvdyJtYWxmb3JtZWQgaW50ZWdlciBhcnJheSBzdHJpbmc6ICIrYX19dmFyIHN0cmRpZmZpZHg9ZnVuY3Rpb24oYyxhKXt2YXIgZD1jLmxlbmd0aDtpZihjLmxlbmd0aD5hLmxlbmd0aCl7ZD1hLmxlbmd0aH1mb3IodmFyIGI9MDtiPGQ7YisrKXtpZihjLmNoYXJDb2RlQXQoYikhPWEuY2hhckNvZGVBdChiKSl7cmV0dXJuIGJ9fWlmKGMubGVuZ3RoIT1hLmxlbmd0aCl7cmV0dXJuIGR9cmV0dXJuIC0xfTsKLyohIGNyeXB0by0xLjEuOC5qcyAoYykgMjAxMy0yMDE2IEtlbmppIFVydXNoaW1hIHwga2p1ci5naXRodWIuY29tL2pzcnNhc2lnbi9saWNlbnNlCiAqLwppZih0eXBlb2YgS0pVUj09InVuZGVmaW5lZCJ8fCFLSlVSKXtLSlVSPXt9fWlmKHR5cGVvZiBLSlVSLmNyeXB0bz09InVuZGVmaW5lZCJ8fCFLSlVSLmNyeXB0byl7S0pVUi5jcnlwdG89e319S0pVUi5jcnlwdG8uVXRpbD1uZXcgZnVuY3Rpb24oKXt0aGlzLkRJR0VTVElORk9IRUFEPXtzaGExOiIzMDIxMzAwOTA2MDUyYjBlMDMwMjFhMDUwMDA0MTQiLHNoYTIyNDoiMzAyZDMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjA0MDUwMDA0MWMiLHNoYTI1NjoiMzAzMTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAxMDUwMDA0MjAiLHNoYTM4NDoiMzA0MTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAyMDUwMDA0MzAiLHNoYTUxMjoiMzA1MTMwMGQwNjA5NjA4NjQ4MDE2NTAzMDQwMjAzMDUwMDA0NDAiLG1kMjoiMzAyMDMwMGMwNjA4MmE4NjQ4ODZmNzBkMDIwMjA1MDAwNDEwIixtZDU6IjMwMjAzMDBjMDYwODJhODY0ODg2ZjcwZDAyMDUwNTAwMDQxMCIscmlwZW1kMTYwOiIzMDIxMzAwOTA2MDUyYjI0MDMwMjAxMDUwMDA0MTQiLH07dGhpcy5ERUZBVUxUUFJPVklERVI9e21kNToiY3J5cHRvanMiLHNoYTE6ImNyeXB0b2pzIixzaGEyMjQ6ImNyeXB0b2pzIixzaGEyNTY6ImNyeXB0b2pzIixzaGEzODQ6ImNyeXB0b2pzIixzaGE1MTI6ImNyeXB0b2pzIixyaXBlbWQxNjA6ImNyeXB0b2pzIixobWFjbWQ1OiJjcnlwdG9qcyIsaG1hY3NoYTE6ImNyeXB0b2pzIixobWFjc2hhMjI0OiJjcnlwdG9qcyIsaG1hY3NoYTI1NjoiY3J5cHRvanMiLGhtYWNzaGEzODQ6ImNyeXB0b2pzIixobWFjc2hhNTEyOiJjcnlwdG9qcyIsaG1hY3JpcGVtZDE2MDoiY3J5cHRvanMiLE1ENXdpdGhSU0E6ImNyeXB0b2pzL2pzcnNhIixTSEExd2l0aFJTQToiY3J5cHRvanMvanNyc2EiLFNIQTIyNHdpdGhSU0E6ImNyeXB0b2pzL2pzcnNhIixTSEEyNTZ3aXRoUlNBOiJjcnlwdG9qcy9qc3JzYSIsU0hBMzg0d2l0aFJTQToiY3J5cHRvanMvanNyc2EiLFNIQTUxMndpdGhSU0E6ImNyeXB0b2pzL2pzcnNhIixSSVBFTUQxNjB3aXRoUlNBOiJjcnlwdG9qcy9qc3JzYSIsTUQ1d2l0aEVDRFNBOiJjcnlwdG9qcy9qc3JzYSIsU0hBMXdpdGhFQ0RTQToiY3J5cHRvanMvanNyc2EiLFNIQTIyNHdpdGhFQ0RTQToiY3J5cHRvanMvanNyc2EiLFNIQTI1NndpdGhFQ0RTQToiY3J5cHRvanMvanNyc2EiLFNIQTM4NHdpdGhFQ0RTQToiY3J5cHRvanMvanNyc2EiLFNIQTUxMndpdGhFQ0RTQToiY3J5cHRvanMvanNyc2EiLFJJUEVNRDE2MHdpdGhFQ0RTQToiY3J5cHRvanMvanNyc2EiLFNIQTF3aXRoRFNBOiJjcnlwdG9qcy9qc3JzYSIsU0hBMjI0d2l0aERTQToiY3J5cHRvanMvanNyc2EiLFNIQTI1NndpdGhEU0E6ImNyeXB0b2pzL2pzcnNhIixNRDV3aXRoUlNBYW5kTUdGMToiY3J5cHRvanMvanNyc2EiLFNIQTF3aXRoUlNBYW5kTUdGMToiY3J5cHRvanMvanNyc2EiLFNIQTIyNHdpdGhSU0FhbmRNR0YxOiJjcnlwdG9qcy9qc3JzYSIsU0hBMjU2d2l0aFJTQWFuZE1HRjE6ImNyeXB0b2pzL2pzcnNhIixTSEEzODR3aXRoUlNBYW5kTUdGMToiY3J5cHRvanMvanNyc2EiLFNIQTUxMndpdGhSU0FhbmRNR0YxOiJjcnlwdG9qcy9qc3JzYSIsUklQRU1EMTYwd2l0aFJTQWFuZE1HRjE6ImNyeXB0b2pzL2pzcnNhIix9O3RoaXMuQ1JZUFRPSlNNRVNTQUdFRElHRVNUTkFNRT17bWQ1OkNyeXB0b0pTLmFsZ28uTUQ1LHNoYTE6Q3J5cHRvSlMuYWxnby5TSEExLHNoYTIyNDpDcnlwdG9KUy5hbGdvLlNIQTIyNCxzaGEyNTY6Q3J5cHRvSlMuYWxnby5TSEEyNTYsc2hhMzg0OkNyeXB0b0pTLmFsZ28uU0hBMzg0LHNoYTUxMjpDcnlwdG9KUy5hbGdvLlNIQTUxMixyaXBlbWQxNjA6Q3J5cHRvSlMuYWxnby5SSVBFTUQxNjB9O3RoaXMuZ2V0RGlnZXN0SW5mb0hleD1mdW5jdGlvbihhLGIpe2lmKHR5cGVvZiB0aGlzLkRJR0VTVElORk9IRUFEW2JdPT0idW5kZWZpbmVkIil7dGhyb3ciYWxnIG5vdCBzdXBwb3J0ZWQgaW4gVXRpbC5ESUdFU1RJTkZPSEVBRDogIitifXJldHVybiB0aGlzLkRJR0VTVElORk9IRUFEW2JdK2F9O3RoaXMuZ2V0UGFkZGVkRGlnZXN0SW5mb0hleD1mdW5jdGlvbihoLGEsail7dmFyIGM9dGhpcy5nZXREaWdlc3RJbmZvSGV4KGgsYSk7dmFyIGQ9ai80O2lmKGMubGVuZ3RoKzIyPmQpe3Rocm93ImtleSBpcyB0b28gc2hvcnQgZm9yIFNpZ0FsZzoga2V5bGVuPSIraisiLCIrYX12YXIgYj0iMDAwMSI7dmFyIGs9IjAwIitjO3ZhciBnPSIiO3ZhciBsPWQtYi5sZW5ndGgtay5sZW5ndGg7Zm9yKHZhciBmPTA7ZjxsO2YrPTIpe2crPSJmZiJ9dmFyIGU9YitnK2s7cmV0dXJuIGV9O3RoaXMuaGFzaFN0cmluZz1mdW5jdGlvbihhLGMpe3ZhciBiPW5ldyBLSlVSLmNyeXB0by5NZXNzYWdlRGlnZXN0KHthbGc6Y30pO3JldHVybiBiLmRpZ2VzdFN0cmluZyhhKX07dGhpcy5oYXNoSGV4PWZ1bmN0aW9uKGIsYyl7dmFyIGE9bmV3IEtKVVIuY3J5cHRvLk1lc3NhZ2VEaWdlc3Qoe2FsZzpjfSk7cmV0dXJuIGEuZGlnZXN0SGV4KGIpfTt0aGlzLnNoYTE9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IEtKVVIuY3J5cHRvLk1lc3NhZ2VEaWdlc3Qoe2FsZzoic2hhMSIscHJvdjoiY3J5cHRvanMifSk7cmV0dXJuIGIuZGlnZXN0U3RyaW5nKGEpfTt0aGlzLnNoYTI1Nj1mdW5jdGlvbihhKXt2YXIgYj1uZXcgS0pVUi5jcnlwdG8uTWVzc2FnZURpZ2VzdCh7YWxnOiJzaGEyNTYiLHByb3Y6ImNyeXB0b2pzIn0pO3JldHVybiBiLmRpZ2VzdFN0cmluZyhhKX07dGhpcy5zaGEyNTZIZXg9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IEtKVVIuY3J5cHRvLk1lc3NhZ2VEaWdlc3Qoe2FsZzoic2hhMjU2Iixwcm92OiJjcnlwdG9qcyJ9KTtyZXR1cm4gYi5kaWdlc3RIZXgoYSl9O3RoaXMuc2hhNTEyPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBLSlVSLmNyeXB0by5NZXNzYWdlRGlnZXN0KHthbGc6InNoYTUxMiIscHJvdjoiY3J5cHRvanMifSk7cmV0dXJuIGIuZGlnZXN0U3RyaW5nKGEpfTt0aGlzLnNoYTUxMkhleD1mdW5jdGlvbihhKXt2YXIgYj1uZXcgS0pVUi5jcnlwdG8uTWVzc2FnZURpZ2VzdCh7YWxnOiJzaGE1MTIiLHByb3Y6ImNyeXB0b2pzIn0pO3JldHVybiBiLmRpZ2VzdEhleChhKX07dGhpcy5tZDU9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IEtKVVIuY3J5cHRvLk1lc3NhZ2VEaWdlc3Qoe2FsZzoibWQ1Iixwcm92OiJjcnlwdG9qcyJ9KTtyZXR1cm4gYi5kaWdlc3RTdHJpbmcoYSl9O3RoaXMucmlwZW1kMTYwPWZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBLSlVSLmNyeXB0by5NZXNzYWdlRGlnZXN0KHthbGc6InJpcGVtZDE2MCIscHJvdjoiY3J5cHRvanMifSk7cmV0dXJuIGIuZGlnZXN0U3RyaW5nKGEpfTt0aGlzLmdldENyeXB0b0pTTURCeU5hbWU9ZnVuY3Rpb24oYSl7fX07S0pVUi5jcnlwdG8uTWVzc2FnZURpZ2VzdD1mdW5jdGlvbihjKXt2YXIgYj1udWxsO3ZhciBhPW51bGw7dmFyIGQ9bnVsbDt0aGlzLnNldEFsZ0FuZFByb3ZpZGVyPWZ1bmN0aW9uKGcsZil7aWYoZyE9bnVsbCYmZj09PXVuZGVmaW5lZCl7Zj1LSlVSLmNyeXB0by5VdGlsLkRFRkFVTFRQUk9WSURFUltnXX1pZigiOm1kNTpzaGExOnNoYTIyNDpzaGEyNTY6c2hhMzg0OnNoYTUxMjpyaXBlbWQxNjA6Ii5pbmRleE9mKGcpIT0tMSYmZj09ImNyeXB0b2pzIil7dHJ5e3RoaXMubWQ9S0pVUi5jcnlwdG8uVXRpbC5DUllQVE9KU01FU1NBR0VESUdFU1ROQU1FW2ddLmNyZWF0ZSgpfWNhdGNoKGUpe3Rocm93InNldEFsZ0FuZFByb3ZpZGVyIGhhc2ggYWxnIHNldCBmYWlsIGFsZz0iK2crIi8iK2V9dGhpcy51cGRhdGVTdHJpbmc9ZnVuY3Rpb24oaCl7dGhpcy5tZC51cGRhdGUoaCl9O3RoaXMudXBkYXRlSGV4PWZ1bmN0aW9uKGgpe3ZhciBpPUNyeXB0b0pTLmVuYy5IZXgucGFyc2UoaCk7dGhpcy5tZC51cGRhdGUoaSl9O3RoaXMuZGlnZXN0PWZ1bmN0aW9uKCl7dmFyIGg9dGhpcy5tZC5maW5hbGl6ZSgpO3JldHVybiBoLnRvU3RyaW5nKENyeXB0b0pTLmVuYy5IZXgpfTt0aGlzLmRpZ2VzdFN0cmluZz1mdW5jdGlvbihoKXt0aGlzLnVwZGF0ZVN0cmluZyhoKTtyZXR1cm4gdGhpcy5kaWdlc3QoKX07dGhpcy5kaWdlc3RIZXg9ZnVuY3Rpb24oaCl7dGhpcy51cGRhdGVIZXgoaCk7cmV0dXJuIHRoaXMuZGlnZXN0KCl9fWlmKCI6c2hhMjU2OiIuaW5kZXhPZihnKSE9LTEmJmY9PSJzamNsIil7dHJ5e3RoaXMubWQ9bmV3IHNqY2wuaGFzaC5zaGEyNTYoKX1jYXRjaChlKXt0aHJvdyJzZXRBbGdBbmRQcm92aWRlciBoYXNoIGFsZyBzZXQgZmFpbCBhbGc9IitnKyIvIitlfXRoaXMudXBkYXRlU3RyaW5nPWZ1bmN0aW9uKGgpe3RoaXMubWQudXBkYXRlKGgpfTt0aGlzLnVwZGF0ZUhleD1mdW5jdGlvbihpKXt2YXIgaD1zamNsLmNvZGVjLmhleC50b0JpdHMoaSk7dGhpcy5tZC51cGRhdGUoaCl9O3RoaXMuZGlnZXN0PWZ1bmN0aW9uKCl7dmFyIGg9dGhpcy5tZC5maW5hbGl6ZSgpO3JldHVybiBzamNsLmNvZGVjLmhleC5mcm9tQml0cyhoKX07dGhpcy5kaWdlc3RTdHJpbmc9ZnVuY3Rpb24oaCl7dGhpcy51cGRhdGVTdHJpbmcoaCk7cmV0dXJuIHRoaXMuZGlnZXN0KCl9O3RoaXMuZGlnZXN0SGV4PWZ1bmN0aW9uKGgpe3RoaXMudXBkYXRlSGV4KGgpO3JldHVybiB0aGlzLmRpZ2VzdCgpfX19O3RoaXMudXBkYXRlU3RyaW5nPWZ1bmN0aW9uKGUpe3Rocm93InVwZGF0ZVN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6ICIrdGhpcy5hbGdOYW1lKyIvIit0aGlzLnByb3ZOYW1lfTt0aGlzLnVwZGF0ZUhleD1mdW5jdGlvbihlKXt0aHJvdyJ1cGRhdGVIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiAiK3RoaXMuYWxnTmFtZSsiLyIrdGhpcy5wcm92TmFtZX07dGhpcy5kaWdlc3Q9ZnVuY3Rpb24oKXt0aHJvdyJkaWdlc3QoKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiAiK3RoaXMuYWxnTmFtZSsiLyIrdGhpcy5wcm92TmFtZX07dGhpcy5kaWdlc3RTdHJpbmc9ZnVuY3Rpb24oZSl7dGhyb3ciZGlnZXN0U3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogIit0aGlzLmFsZ05hbWUrIi8iK3RoaXMucHJvdk5hbWV9O3RoaXMuZGlnZXN0SGV4PWZ1bmN0aW9uKGUpe3Rocm93ImRpZ2VzdEhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6ICIrdGhpcy5hbGdOYW1lKyIvIit0aGlzLnByb3ZOYW1lfTtpZihjIT09dW5kZWZpbmVkKXtpZihjLmFsZyE9PXVuZGVmaW5lZCl7dGhpcy5hbGdOYW1lPWMuYWxnO2lmKGMucHJvdj09PXVuZGVmaW5lZCl7dGhpcy5wcm92TmFtZT1LSlVSLmNyeXB0by5VdGlsLkRFRkFVTFRQUk9WSURFUlt0aGlzLmFsZ05hbWVdfXRoaXMuc2V0QWxnQW5kUHJvdmlkZXIodGhpcy5hbGdOYW1lLHRoaXMucHJvdk5hbWUpfX19O0tKVVIuY3J5cHRvLk1hYz1mdW5jdGlvbihkKXt2YXIgZj1udWxsO3ZhciBjPW51bGw7dmFyIGE9bnVsbDt2YXIgZT1udWxsO3ZhciBiPW51bGw7dGhpcy5zZXRBbGdBbmRQcm92aWRlcj1mdW5jdGlvbihrLGkpe2s9ay50b0xvd2VyQ2FzZSgpO2lmKGs9PW51bGwpe2s9ImhtYWNzaGExIn1rPWsudG9Mb3dlckNhc2UoKTtpZihrLnN1YnN0cigwLDQpIT0iaG1hYyIpe3Rocm93InNldEFsZ0FuZFByb3ZpZGVyIHVuc3VwcG9ydGVkIEhNQUMgYWxnOiAiK2t9aWYoaT09PXVuZGVmaW5lZCl7aT1LSlVSLmNyeXB0by5VdGlsLkRFRkFVTFRQUk9WSURFUltrXX10aGlzLmFsZ1Byb3Y9aysiLyIraTt2YXIgZz1rLnN1YnN0cig0KTtpZigiOm1kNTpzaGExOnNoYTIyNDpzaGEyNTY6c2hhMzg0OnNoYTUxMjpyaXBlbWQxNjA6Ii5pbmRleE9mKGcpIT0tMSYmaT09ImNyeXB0b2pzIil7dHJ5e3ZhciBqPUtKVVIuY3J5cHRvLlV0aWwuQ1JZUFRPSlNNRVNTQUdFRElHRVNUTkFNRVtnXTt0aGlzLm1hYz1DcnlwdG9KUy5hbGdvLkhNQUMuY3JlYXRlKGosdGhpcy5wYXNzKX1jYXRjaChoKXt0aHJvdyJzZXRBbGdBbmRQcm92aWRlciBoYXNoIGFsZyBzZXQgZmFpbCBoYXNoQWxnPSIrZysiLyIraH10aGlzLnVwZGF0ZVN0cmluZz1mdW5jdGlvbihsKXt0aGlzLm1hYy51cGRhdGUobCl9O3RoaXMudXBkYXRlSGV4PWZ1bmN0aW9uKGwpe3ZhciBtPUNyeXB0b0pTLmVuYy5IZXgucGFyc2UobCk7dGhpcy5tYWMudXBkYXRlKG0pfTt0aGlzLmRvRmluYWw9ZnVuY3Rpb24oKXt2YXIgbD10aGlzLm1hYy5maW5hbGl6ZSgpO3JldHVybiBsLnRvU3RyaW5nKENyeXB0b0pTLmVuYy5IZXgpfTt0aGlzLmRvRmluYWxTdHJpbmc9ZnVuY3Rpb24obCl7dGhpcy51cGRhdGVTdHJpbmcobCk7cmV0dXJuIHRoaXMuZG9GaW5hbCgpfTt0aGlzLmRvRmluYWxIZXg9ZnVuY3Rpb24obCl7dGhpcy51cGRhdGVIZXgobCk7cmV0dXJuIHRoaXMuZG9GaW5hbCgpfX19O3RoaXMudXBkYXRlU3RyaW5nPWZ1bmN0aW9uKGcpe3Rocm93InVwZGF0ZVN0cmluZyhzdHIpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6ICIrdGhpcy5hbGdQcm92fTt0aGlzLnVwZGF0ZUhleD1mdW5jdGlvbihnKXt0aHJvdyJ1cGRhdGVIZXgoaGV4KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiAiK3RoaXMuYWxnUHJvdn07dGhpcy5kb0ZpbmFsPWZ1bmN0aW9uKCl7dGhyb3ciZGlnZXN0KCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGcvcHJvdjogIit0aGlzLmFsZ1Byb3Z9O3RoaXMuZG9GaW5hbFN0cmluZz1mdW5jdGlvbihnKXt0aHJvdyJkaWdlc3RTdHJpbmcoc3RyKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZy9wcm92OiAiK3RoaXMuYWxnUHJvdn07dGhpcy5kb0ZpbmFsSGV4PWZ1bmN0aW9uKGcpe3Rocm93ImRpZ2VzdEhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnL3Byb3Y6ICIrdGhpcy5hbGdQcm92fTt0aGlzLnNldFBhc3N3b3JkPWZ1bmN0aW9uKGgpe2lmKHR5cGVvZiBoPT0ic3RyaW5nIil7dmFyIGc9aDtpZihoLmxlbmd0aCUyPT0xfHwhaC5tYXRjaCgvXlswLTlBLUZhLWZdKyQvKSl7Zz1yc3RydG9oZXgoaCl9dGhpcy5wYXNzPUNyeXB0b0pTLmVuYy5IZXgucGFyc2UoZyk7cmV0dXJufWlmKHR5cGVvZiBoIT0ib2JqZWN0Iil7dGhyb3ciS0pVUi5jcnlwdG8uTWFjIHVuc3VwcG9ydGVkIHBhc3N3b3JkIHR5cGU6ICIraH12YXIgZz1udWxsO2lmKGguaGV4IT09dW5kZWZpbmVkKXtpZihoLmhleC5sZW5ndGglMiE9MHx8IWguaGV4Lm1hdGNoKC9eWzAtOUEtRmEtZl0rJC8pKXt0aHJvdyJNYWM6IHdyb25nIGhleCBwYXNzd29yZDogIitoLmhleH1nPWguaGV4fWlmKGgudXRmOCE9PXVuZGVmaW5lZCl7Zz11dGY4dG9oZXgoaC51dGY4KX1pZihoLnJzdHIhPT11bmRlZmluZWQpe2c9cnN0cnRvaGV4KGgucnN0cil9aWYoaC5iNjQhPT11bmRlZmluZWQpe2c9YjY0dG9oZXgoaC5iNjQpfWlmKGguYjY0dSE9PXVuZGVmaW5lZCl7Zz1iNjR1dG9oZXgoaC5iNjR1KX1pZihnPT1udWxsKXt0aHJvdyJLSlVSLmNyeXB0by5NYWMgdW5zdXBwb3J0ZWQgcGFzc3dvcmQgdHlwZTogIitofXRoaXMucGFzcz1DcnlwdG9KUy5lbmMuSGV4LnBhcnNlKGcpfTtpZihkIT09dW5kZWZpbmVkKXtpZihkLnBhc3MhPT11bmRlZmluZWQpe3RoaXMuc2V0UGFzc3dvcmQoZC5wYXNzKX1pZihkLmFsZyE9PXVuZGVmaW5lZCl7dGhpcy5hbGdOYW1lPWQuYWxnO2lmKGQucHJvdj09PXVuZGVmaW5lZCl7dGhpcy5wcm92TmFtZT1LSlVSLmNyeXB0by5VdGlsLkRFRkFVTFRQUk9WSURFUlt0aGlzLmFsZ05hbWVdfXRoaXMuc2V0QWxnQW5kUHJvdmlkZXIodGhpcy5hbGdOYW1lLHRoaXMucHJvdk5hbWUpfX19O0tKVVIuY3J5cHRvLlNpZ25hdHVyZT1mdW5jdGlvbihvKXt2YXIgcT1udWxsO3ZhciBuPW51bGw7dmFyIHI9bnVsbDt2YXIgYz1udWxsO3ZhciBsPW51bGw7dmFyIGQ9bnVsbDt2YXIgaz1udWxsO3ZhciBoPW51bGw7dmFyIHA9bnVsbDt2YXIgZT1udWxsO3ZhciBiPS0xO3ZhciBnPW51bGw7dmFyIGo9bnVsbDt2YXIgYT1udWxsO3ZhciBpPW51bGw7dmFyIGY9bnVsbDt0aGlzLl9zZXRBbGdOYW1lcz1mdW5jdGlvbigpe2lmKHRoaXMuYWxnTmFtZS5tYXRjaCgvXiguKyl3aXRoKC4rKSQvKSl7dGhpcy5tZEFsZ05hbWU9UmVnRXhwLiQxLnRvTG93ZXJDYXNlKCk7dGhpcy5wdWJrZXlBbGdOYW1lPVJlZ0V4cC4kMi50b0xvd2VyQ2FzZSgpfX07dGhpcy5femVyb1BhZGRpbmdPZlNpZ25hdHVyZT1mdW5jdGlvbih4LHcpe3ZhciB2PSIiO3ZhciB0PXcvNC14Lmxlbmd0aDtmb3IodmFyIHU9MDt1PHQ7dSsrKXt2PXYrIjAifXJldHVybiB2K3h9O3RoaXMuc2V0QWxnQW5kUHJvdmlkZXI9ZnVuY3Rpb24odSx0KXt0aGlzLl9zZXRBbGdOYW1lcygpO2lmKHQhPSJjcnlwdG9qcy9qc3JzYSIpe3Rocm93InByb3ZpZGVyIG5vdCBzdXBwb3J0ZWQ6ICIrdH1pZigiOm1kNTpzaGExOnNoYTIyNDpzaGEyNTY6c2hhMzg0OnNoYTUxMjpyaXBlbWQxNjA6Ii5pbmRleE9mKHRoaXMubWRBbGdOYW1lKSE9LTEpe3RyeXt0aGlzLm1kPW5ldyBLSlVSLmNyeXB0by5NZXNzYWdlRGlnZXN0KHthbGc6dGhpcy5tZEFsZ05hbWV9KX1jYXRjaChzKXt0aHJvdyJzZXRBbGdBbmRQcm92aWRlciBoYXNoIGFsZyBzZXQgZmFpbCBhbGc9Iit0aGlzLm1kQWxnTmFtZSsiLyIrc310aGlzLmluaXQ9ZnVuY3Rpb24odyx4KXt2YXIgeT1udWxsO3RyeXtpZih4PT09dW5kZWZpbmVkKXt5PUtFWVVUSUwuZ2V0S2V5KHcpfWVsc2V7eT1LRVlVVElMLmdldEtleSh3LHgpfX1jYXRjaCh2KXt0aHJvdyJpbml0IGZhaWxlZDoiK3Z9aWYoeS5pc1ByaXZhdGU9PT10cnVlKXt0aGlzLnBydktleT15O3RoaXMuc3RhdGU9IlNJR04ifWVsc2V7aWYoeS5pc1B1YmxpYz09PXRydWUpe3RoaXMucHViS2V5PXk7dGhpcy5zdGF0ZT0iVkVSSUZZIn1lbHNle3Rocm93ImluaXQgZmFpbGVkLjoiK3l9fX07dGhpcy5pbml0U2lnbj1mdW5jdGlvbih2KXtpZih0eXBlb2Ygdi5lY3BydmhleD09InN0cmluZyImJnR5cGVvZiB2LmVjY3VydmVuYW1lPT0ic3RyaW5nIil7dGhpcy5lY3BydmhleD12LmVjcHJ2aGV4O3RoaXMuZWNjdXJ2ZW5hbWU9di5lY2N1cnZlbmFtZX1lbHNle3RoaXMucHJ2S2V5PXZ9dGhpcy5zdGF0ZT0iU0lHTiJ9O3RoaXMuaW5pdFZlcmlmeUJ5UHVibGljS2V5PWZ1bmN0aW9uKHYpe2lmKHR5cGVvZiB2LmVjcHViaGV4PT0ic3RyaW5nIiYmdHlwZW9mIHYuZWNjdXJ2ZW5hbWU9PSJzdHJpbmciKXt0aGlzLmVjcHViaGV4PXYuZWNwdWJoZXg7dGhpcy5lY2N1cnZlbmFtZT12LmVjY3VydmVuYW1lfWVsc2V7aWYodiBpbnN0YW5jZW9mIEtKVVIuY3J5cHRvLkVDRFNBKXt0aGlzLnB1YktleT12fWVsc2V7aWYodiBpbnN0YW5jZW9mIFJTQUtleSl7dGhpcy5wdWJLZXk9dn19fXRoaXMuc3RhdGU9IlZFUklGWSJ9O3RoaXMuaW5pdFZlcmlmeUJ5Q2VydGlmaWNhdGVQRU09ZnVuY3Rpb24odil7dmFyIHc9bmV3IFg1MDkoKTt3LnJlYWRDZXJ0UEVNKHYpO3RoaXMucHViS2V5PXcuc3ViamVjdFB1YmxpY0tleVJTQTt0aGlzLnN0YXRlPSJWRVJJRlkifTt0aGlzLnVwZGF0ZVN0cmluZz1mdW5jdGlvbih2KXt0aGlzLm1kLnVwZGF0ZVN0cmluZyh2KX07dGhpcy51cGRhdGVIZXg9ZnVuY3Rpb24odil7dGhpcy5tZC51cGRhdGVIZXgodil9O3RoaXMuc2lnbj1mdW5jdGlvbigpe3RoaXMuc0hhc2hIZXg9dGhpcy5tZC5kaWdlc3QoKTtpZih0eXBlb2YgdGhpcy5lY3BydmhleCE9InVuZGVmaW5lZCImJnR5cGVvZiB0aGlzLmVjY3VydmVuYW1lIT0idW5kZWZpbmVkIil7dmFyIHY9bmV3IEtKVVIuY3J5cHRvLkVDRFNBKHtjdXJ2ZTp0aGlzLmVjY3VydmVuYW1lfSk7dGhpcy5oU2lnbj12LnNpZ25IZXgodGhpcy5zSGFzaEhleCx0aGlzLmVjcHJ2aGV4KX1lbHNle2lmKHRoaXMucHJ2S2V5IGluc3RhbmNlb2YgUlNBS2V5JiZ0aGlzLnB1YmtleUFsZ05hbWU9PSJyc2FhbmRtZ2YxIil7dGhpcy5oU2lnbj10aGlzLnBydktleS5zaWduV2l0aE1lc3NhZ2VIYXNoUFNTKHRoaXMuc0hhc2hIZXgsdGhpcy5tZEFsZ05hbWUsdGhpcy5wc3NTYWx0TGVuKX1lbHNle2lmKHRoaXMucHJ2S2V5IGluc3RhbmNlb2YgUlNBS2V5JiZ0aGlzLnB1YmtleUFsZ05hbWU9PSJyc2EiKXt0aGlzLmhTaWduPXRoaXMucHJ2S2V5LnNpZ25XaXRoTWVzc2FnZUhhc2godGhpcy5zSGFzaEhleCx0aGlzLm1kQWxnTmFtZSl9ZWxzZXtpZih0aGlzLnBydktleSBpbnN0YW5jZW9mIEtKVVIuY3J5cHRvLkVDRFNBKXt0aGlzLmhTaWduPXRoaXMucHJ2S2V5LnNpZ25XaXRoTWVzc2FnZUhhc2godGhpcy5zSGFzaEhleCl9ZWxzZXtpZih0aGlzLnBydktleSBpbnN0YW5jZW9mIEtKVVIuY3J5cHRvLkRTQSl7dGhpcy5oU2lnbj10aGlzLnBydktleS5zaWduV2l0aE1lc3NhZ2VIYXNoKHRoaXMuc0hhc2hIZXgpfWVsc2V7dGhyb3ciU2lnbmF0dXJlOiB1bnN1cHBvcnRlZCBwdWJsaWMga2V5IGFsZzogIit0aGlzLnB1YmtleUFsZ05hbWV9fX19fXJldHVybiB0aGlzLmhTaWdufTt0aGlzLnNpZ25TdHJpbmc9ZnVuY3Rpb24odil7dGhpcy51cGRhdGVTdHJpbmcodik7cmV0dXJuIHRoaXMuc2lnbigpfTt0aGlzLnNpZ25IZXg9ZnVuY3Rpb24odil7dGhpcy51cGRhdGVIZXgodik7cmV0dXJuIHRoaXMuc2lnbigpfTt0aGlzLnZlcmlmeT1mdW5jdGlvbih2KXt0aGlzLnNIYXNoSGV4PXRoaXMubWQuZGlnZXN0KCk7aWYodHlwZW9mIHRoaXMuZWNwdWJoZXghPSJ1bmRlZmluZWQiJiZ0eXBlb2YgdGhpcy5lY2N1cnZlbmFtZSE9InVuZGVmaW5lZCIpe3ZhciB3PW5ldyBLSlVSLmNyeXB0by5FQ0RTQSh7Y3VydmU6dGhpcy5lY2N1cnZlbmFtZX0pO3JldHVybiB3LnZlcmlmeUhleCh0aGlzLnNIYXNoSGV4LHYsdGhpcy5lY3B1YmhleCl9ZWxzZXtpZih0aGlzLnB1YktleSBpbnN0YW5jZW9mIFJTQUtleSYmdGhpcy5wdWJrZXlBbGdOYW1lPT0icnNhYW5kbWdmMSIpe3JldHVybiB0aGlzLnB1YktleS52ZXJpZnlXaXRoTWVzc2FnZUhhc2hQU1ModGhpcy5zSGFzaEhleCx2LHRoaXMubWRBbGdOYW1lLHRoaXMucHNzU2FsdExlbil9ZWxzZXtpZih0aGlzLnB1YktleSBpbnN0YW5jZW9mIFJTQUtleSYmdGhpcy5wdWJrZXlBbGdOYW1lPT0icnNhIil7cmV0dXJuIHRoaXMucHViS2V5LnZlcmlmeVdpdGhNZXNzYWdlSGFzaCh0aGlzLnNIYXNoSGV4LHYpfWVsc2V7aWYodGhpcy5wdWJLZXkgaW5zdGFuY2VvZiBLSlVSLmNyeXB0by5FQ0RTQSl7cmV0dXJuIHRoaXMucHViS2V5LnZlcmlmeVdpdGhNZXNzYWdlSGFzaCh0aGlzLnNIYXNoSGV4LHYpfWVsc2V7aWYodGhpcy5wdWJLZXkgaW5zdGFuY2VvZiBLSlVSLmNyeXB0by5EU0Epe3JldHVybiB0aGlzLnB1YktleS52ZXJpZnlXaXRoTWVzc2FnZUhhc2godGhpcy5zSGFzaEhleCx2KX1lbHNle3Rocm93IlNpZ25hdHVyZTogdW5zdXBwb3J0ZWQgcHVibGljIGtleSBhbGc6ICIrdGhpcy5wdWJrZXlBbGdOYW1lfX19fX19fX07dGhpcy5pbml0PWZ1bmN0aW9uKHMsdCl7dGhyb3ciaW5pdChrZXksIHBhc3MpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9Iit0aGlzLmFsZ1Byb3ZOYW1lfTt0aGlzLmluaXRWZXJpZnlCeVB1YmxpY0tleT1mdW5jdGlvbihzKXt0aHJvdyJpbml0VmVyaWZ5QnlQdWJsaWNLZXkocnNhUHViS2V5eSkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj0iK3RoaXMuYWxnUHJvdk5hbWV9O3RoaXMuaW5pdFZlcmlmeUJ5Q2VydGlmaWNhdGVQRU09ZnVuY3Rpb24ocyl7dGhyb3ciaW5pdFZlcmlmeUJ5Q2VydGlmaWNhdGVQRU0oY2VydFBFTSkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj0iK3RoaXMuYWxnUHJvdk5hbWV9O3RoaXMuaW5pdFNpZ249ZnVuY3Rpb24ocyl7dGhyb3ciaW5pdFNpZ24ocHJ2S2V5KSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PSIrdGhpcy5hbGdQcm92TmFtZX07dGhpcy51cGRhdGVTdHJpbmc9ZnVuY3Rpb24ocyl7dGhyb3cidXBkYXRlU3RyaW5nKHN0cikgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj0iK3RoaXMuYWxnUHJvdk5hbWV9O3RoaXMudXBkYXRlSGV4PWZ1bmN0aW9uKHMpe3Rocm93InVwZGF0ZUhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9Iit0aGlzLmFsZ1Byb3ZOYW1lfTt0aGlzLnNpZ249ZnVuY3Rpb24oKXt0aHJvdyJzaWduKCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj0iK3RoaXMuYWxnUHJvdk5hbWV9O3RoaXMuc2lnblN0cmluZz1mdW5jdGlvbihzKXt0aHJvdyJkaWdlc3RTdHJpbmcoc3RyKSBub3Qgc3VwcG9ydGVkIGZvciB0aGlzIGFsZzpwcm92PSIrdGhpcy5hbGdQcm92TmFtZX07dGhpcy5zaWduSGV4PWZ1bmN0aW9uKHMpe3Rocm93ImRpZ2VzdEhleChoZXgpIG5vdCBzdXBwb3J0ZWQgZm9yIHRoaXMgYWxnOnByb3Y9Iit0aGlzLmFsZ1Byb3ZOYW1lfTt0aGlzLnZlcmlmeT1mdW5jdGlvbihzKXt0aHJvdyJ2ZXJpZnkoaFNpZ1ZhbCkgbm90IHN1cHBvcnRlZCBmb3IgdGhpcyBhbGc6cHJvdj0iK3RoaXMuYWxnUHJvdk5hbWV9O3RoaXMuaW5pdFBhcmFtcz1vO2lmKG8hPT11bmRlZmluZWQpe2lmKG8uYWxnIT09dW5kZWZpbmVkKXt0aGlzLmFsZ05hbWU9by5hbGc7aWYoby5wcm92PT09dW5kZWZpbmVkKXt0aGlzLnByb3ZOYW1lPUtKVVIuY3J5cHRvLlV0aWwuREVGQVVMVFBST1ZJREVSW3RoaXMuYWxnTmFtZV19ZWxzZXt0aGlzLnByb3ZOYW1lPW8ucHJvdn10aGlzLmFsZ1Byb3ZOYW1lPXRoaXMuYWxnTmFtZSsiOiIrdGhpcy5wcm92TmFtZTt0aGlzLnNldEFsZ0FuZFByb3ZpZGVyKHRoaXMuYWxnTmFtZSx0aGlzLnByb3ZOYW1lKTt0aGlzLl9zZXRBbGdOYW1lcygpfWlmKG8ucHNzc2FsdGxlbiE9PXVuZGVmaW5lZCl7dGhpcy5wc3NTYWx0TGVuPW8ucHNzc2FsdGxlbn1pZihvLnBydmtleXBlbSE9PXVuZGVmaW5lZCl7aWYoby5wcnZrZXlwYXMhPT11bmRlZmluZWQpe3Rocm93ImJvdGggcHJ2a2V5cGVtIGFuZCBwcnZrZXlwYXMgcGFyYW1ldGVycyBub3Qgc3VwcG9ydGVkIn1lbHNle3RyeXt2YXIgcT1uZXcgUlNBS2V5KCk7cS5yZWFkUHJpdmF0ZUtleUZyb21QRU1TdHJpbmcoby5wcnZrZXlwZW0pO3RoaXMuaW5pdFNpZ24ocSl9Y2F0Y2gobSl7dGhyb3ciZmF0YWwgZXJyb3IgdG8gbG9hZCBwZW0gcHJpdmF0ZSBrZXk6ICIrbX19fX19O0tKVVIuY3J5cHRvLk9JRD1uZXcgZnVuY3Rpb24oKXt0aGlzLm9pZGhleDJuYW1lPXsiMmE4NjQ4ODZmNzBkMDEwMTAxIjoicnNhRW5jcnlwdGlvbiIsIjJhODY0OGNlM2QwMjAxIjoiZWNQdWJsaWNLZXkiLCIyYTg2NDhjZTM4MDQwMSI6ImRzYSIsIjJhODY0OGNlM2QwMzAxMDciOiJzZWNwMjU2cjEiLCIyYjgxMDQwMDFmIjoic2VjcDE5MmsxIiwiMmI4MTA0MDAyMSI6InNlY3AyMjRyMSIsIjJiODEwNDAwMGEiOiJzZWNwMjU2azEiLCIyYjgxMDQwMDIzIjoic2VjcDUyMXIxIiwiMmI4MTA0MDAyMiI6InNlY3AzODRyMSIsIjJhODY0OGNlMzgwNDAzIjoiU0hBMXdpdGhEU0EiLCI2MDg2NDgwMTY1MDMwNDAzMDEiOiJTSEEyMjR3aXRoRFNBIiwiNjA4NjQ4MDE2NTAzMDQwMzAyIjoiU0hBMjU2d2l0aERTQSIsfX07Ci8qISBlY2RzYS1tb2RpZmllZC0xLjAuNC5qcyAoYykgU3RlcGhhbiBUaG9tYXMsIEtlbmppIFVydXNoaW1hIHwgZ2l0aHViLmNvbS9iaXRjb2luanMvYml0Y29pbmpzLWxpYi9ibG9iL21hc3Rlci9MSUNFTlNFCiAqLwppZih0eXBlb2YgS0pVUj09InVuZGVmaW5lZCJ8fCFLSlVSKXtLSlVSPXt9fWlmKHR5cGVvZiBLSlVSLmNyeXB0bz09InVuZGVmaW5lZCJ8fCFLSlVSLmNyeXB0byl7S0pVUi5jcnlwdG89e319S0pVUi5jcnlwdG8uRUNEU0E9ZnVuY3Rpb24oaCl7dmFyIGU9InNlY3AyNTZyMSI7dmFyIGc9bnVsbDt2YXIgYj1udWxsO3ZhciBmPW51bGw7dmFyIGE9bmV3IFNlY3VyZVJhbmRvbSgpO3ZhciBkPW51bGw7dGhpcy50eXBlPSJFQyI7ZnVuY3Rpb24gYyhzLG8scixuKXt2YXIgaj1NYXRoLm1heChvLmJpdExlbmd0aCgpLG4uYml0TGVuZ3RoKCkpO3ZhciB0PXMuYWRkMkQocik7dmFyIHE9cy5jdXJ2ZS5nZXRJbmZpbml0eSgpO2Zvcih2YXIgcD1qLTE7cD49MDstLXApe3E9cS50d2ljZTJEKCk7cS56PUJpZ0ludGVnZXIuT05FO2lmKG8udGVzdEJpdChwKSl7aWYobi50ZXN0Qml0KHApKXtxPXEuYWRkMkQodCl9ZWxzZXtxPXEuYWRkMkQocyl9fWVsc2V7aWYobi50ZXN0Qml0KHApKXtxPXEuYWRkMkQocil9fX1yZXR1cm4gcX10aGlzLmdldEJpZ1JhbmRvbT1mdW5jdGlvbihpKXtyZXR1cm4gbmV3IEJpZ0ludGVnZXIoaS5iaXRMZW5ndGgoKSxhKS5tb2QoaS5zdWJ0cmFjdChCaWdJbnRlZ2VyLk9ORSkpLmFkZChCaWdJbnRlZ2VyLk9ORSl9O3RoaXMuc2V0TmFtZWRDdXJ2ZT1mdW5jdGlvbihpKXt0aGlzLmVjcGFyYW1zPUtKVVIuY3J5cHRvLkVDUGFyYW1ldGVyREIuZ2V0QnlOYW1lKGkpO3RoaXMucHJ2S2V5SGV4PW51bGw7dGhpcy5wdWJLZXlIZXg9bnVsbDt0aGlzLmN1cnZlTmFtZT1pfTt0aGlzLnNldFByaXZhdGVLZXlIZXg9ZnVuY3Rpb24oaSl7dGhpcy5pc1ByaXZhdGU9dHJ1ZTt0aGlzLnBydktleUhleD1pfTt0aGlzLnNldFB1YmxpY0tleUhleD1mdW5jdGlvbihpKXt0aGlzLmlzUHVibGljPXRydWU7dGhpcy5wdWJLZXlIZXg9aX07dGhpcy5nZW5lcmF0ZUtleVBhaXJIZXg9ZnVuY3Rpb24oKXt2YXIgaz10aGlzLmVjcGFyYW1zLm47dmFyIG49dGhpcy5nZXRCaWdSYW5kb20oayk7dmFyIGw9dGhpcy5lY3BhcmFtcy5HLm11bHRpcGx5KG4pO3ZhciBxPWwuZ2V0WCgpLnRvQmlnSW50ZWdlcigpO3ZhciBvPWwuZ2V0WSgpLnRvQmlnSW50ZWdlcigpO3ZhciBpPXRoaXMuZWNwYXJhbXMua2V5bGVuLzQ7dmFyIG09KCIwMDAwMDAwMDAwIituLnRvU3RyaW5nKDE2KSkuc2xpY2UoLWkpO3ZhciByPSgiMDAwMDAwMDAwMCIrcS50b1N0cmluZygxNikpLnNsaWNlKC1pKTt2YXIgcD0oIjAwMDAwMDAwMDAiK28udG9TdHJpbmcoMTYpKS5zbGljZSgtaSk7dmFyIGo9IjA0IityK3A7dGhpcy5zZXRQcml2YXRlS2V5SGV4KG0pO3RoaXMuc2V0UHVibGljS2V5SGV4KGopO3JldHVybntlY3BydmhleDptLGVjcHViaGV4Omp9fTt0aGlzLnNpZ25XaXRoTWVzc2FnZUhhc2g9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuc2lnbkhleChpLHRoaXMucHJ2S2V5SGV4KX07dGhpcy5zaWduSGV4PWZ1bmN0aW9uKG8sail7dmFyIHQ9bmV3IEJpZ0ludGVnZXIoaiwxNik7dmFyIGw9dGhpcy5lY3BhcmFtcy5uO3ZhciBxPW5ldyBCaWdJbnRlZ2VyKG8sMTYpO2Rve3ZhciBtPXRoaXMuZ2V0QmlnUmFuZG9tKGwpO3ZhciB1PXRoaXMuZWNwYXJhbXMuRzt2YXIgcD11Lm11bHRpcGx5KG0pO3ZhciBpPXAuZ2V0WCgpLnRvQmlnSW50ZWdlcigpLm1vZChsKX13aGlsZShpLmNvbXBhcmVUbyhCaWdJbnRlZ2VyLlpFUk8pPD0wKTt2YXIgdj1tLm1vZEludmVyc2UobCkubXVsdGlwbHkocS5hZGQodC5tdWx0aXBseShpKSkpLm1vZChsKTtyZXR1cm4gS0pVUi5jcnlwdG8uRUNEU0EuYmlSU1NpZ1RvQVNOMVNpZyhpLHYpfTt0aGlzLnNpZ249ZnVuY3Rpb24obSx1KXt2YXIgcT11O3ZhciBqPXRoaXMuZWNwYXJhbXMubjt2YXIgcD1CaWdJbnRlZ2VyLmZyb21CeXRlQXJyYXlVbnNpZ25lZChtKTtkb3t2YXIgbD10aGlzLmdldEJpZ1JhbmRvbShqKTt2YXIgdD10aGlzLmVjcGFyYW1zLkc7dmFyIG89dC5tdWx0aXBseShsKTt2YXIgaT1vLmdldFgoKS50b0JpZ0ludGVnZXIoKS5tb2Qoail9d2hpbGUoaS5jb21wYXJlVG8oQmlnSW50ZWdlci5aRVJPKTw9MCk7dmFyIHY9bC5tb2RJbnZlcnNlKGopLm11bHRpcGx5KHAuYWRkKHEubXVsdGlwbHkoaSkpKS5tb2Qoaik7cmV0dXJuIHRoaXMuc2VyaWFsaXplU2lnKGksdil9O3RoaXMudmVyaWZ5V2l0aE1lc3NhZ2VIYXNoPWZ1bmN0aW9uKGosaSl7cmV0dXJuIHRoaXMudmVyaWZ5SGV4KGosaSx0aGlzLnB1YktleUhleCl9O3RoaXMudmVyaWZ5SGV4PWZ1bmN0aW9uKG0saSxwKXt2YXIgbCxqO3ZhciBvPUtKVVIuY3J5cHRvLkVDRFNBLnBhcnNlU2lnSGV4KGkpO2w9by5yO2o9by5zO3ZhciBrO2s9RUNQb2ludEZwLmRlY29kZUZyb21IZXgodGhpcy5lY3BhcmFtcy5jdXJ2ZSxwKTt2YXIgbj1uZXcgQmlnSW50ZWdlcihtLDE2KTtyZXR1cm4gdGhpcy52ZXJpZnlSYXcobixsLGosayl9O3RoaXMudmVyaWZ5PWZ1bmN0aW9uKG8scCxqKXt2YXIgbCxpO2lmKEJpdGNvaW4uVXRpbC5pc0FycmF5KHApKXt2YXIgbj10aGlzLnBhcnNlU2lnKHApO2w9bi5yO2k9bi5zfWVsc2V7aWYoIm9iamVjdCI9PT10eXBlb2YgcCYmcC5yJiZwLnMpe2w9cC5yO2k9cC5zfWVsc2V7dGhyb3ciSW52YWxpZCB2YWx1ZSBmb3Igc2lnbmF0dXJlIn19dmFyIGs7aWYoaiBpbnN0YW5jZW9mIEVDUG9pbnRGcCl7az1qfWVsc2V7aWYoQml0Y29pbi5VdGlsLmlzQXJyYXkoaikpe2s9RUNQb2ludEZwLmRlY29kZUZyb20odGhpcy5lY3BhcmFtcy5jdXJ2ZSxqKX1lbHNle3Rocm93IkludmFsaWQgZm9ybWF0IGZvciBwdWJrZXkgdmFsdWUsIG11c3QgYmUgYnl0ZSBhcnJheSBvciBFQ1BvaW50RnAifX12YXIgbT1CaWdJbnRlZ2VyLmZyb21CeXRlQXJyYXlVbnNpZ25lZChvKTtyZXR1cm4gdGhpcy52ZXJpZnlSYXcobSxsLGksayl9O3RoaXMudmVyaWZ5UmF3PWZ1bmN0aW9uKG8saSx3LG0pe3ZhciBsPXRoaXMuZWNwYXJhbXMubjt2YXIgdT10aGlzLmVjcGFyYW1zLkc7aWYoaS5jb21wYXJlVG8oQmlnSW50ZWdlci5PTkUpPDB8fGkuY29tcGFyZVRvKGwpPj0wKXtyZXR1cm4gZmFsc2V9aWYody5jb21wYXJlVG8oQmlnSW50ZWdlci5PTkUpPDB8fHcuY29tcGFyZVRvKGwpPj0wKXtyZXR1cm4gZmFsc2V9dmFyIHA9dy5tb2RJbnZlcnNlKGwpO3ZhciBrPW8ubXVsdGlwbHkocCkubW9kKGwpO3ZhciBqPWkubXVsdGlwbHkocCkubW9kKGwpO3ZhciBxPXUubXVsdGlwbHkoaykuYWRkKG0ubXVsdGlwbHkoaikpO3ZhciB0PXEuZ2V0WCgpLnRvQmlnSW50ZWdlcigpLm1vZChsKTtyZXR1cm4gdC5lcXVhbHMoaSl9O3RoaXMuc2VyaWFsaXplU2lnPWZ1bmN0aW9uKGssail7dmFyIGw9ay50b0J5dGVBcnJheVNpZ25lZCgpO3ZhciBpPWoudG9CeXRlQXJyYXlTaWduZWQoKTt2YXIgbT1bXTttLnB1c2goMik7bS5wdXNoKGwubGVuZ3RoKTttPW0uY29uY2F0KGwpO20ucHVzaCgyKTttLnB1c2goaS5sZW5ndGgpO209bS5jb25jYXQoaSk7bS51bnNoaWZ0KG0ubGVuZ3RoKTttLnVuc2hpZnQoNDgpO3JldHVybiBtfTt0aGlzLnBhcnNlU2lnPWZ1bmN0aW9uKG4pe3ZhciBtO2lmKG5bMF0hPTQ4KXt0aHJvdyBuZXcgRXJyb3IoIlNpZ25hdHVyZSBub3QgYSB2YWxpZCBERVJTZXF1ZW5jZSIpfW09MjtpZihuW21dIT0yKXt0aHJvdyBuZXcgRXJyb3IoIkZpcnN0IGVsZW1lbnQgaW4gc2lnbmF0dXJlIG11c3QgYmUgYSBERVJJbnRlZ2VyIil9dmFyIGw9bi5zbGljZShtKzIsbSsyK25bbSsxXSk7bSs9MituW20rMV07aWYoblttXSE9Mil7dGhyb3cgbmV3IEVycm9yKCJTZWNvbmQgZWxlbWVudCBpbiBzaWduYXR1cmUgbXVzdCBiZSBhIERFUkludGVnZXIiKX12YXIgaT1uLnNsaWNlKG0rMixtKzIrblttKzFdKTttKz0yK25bbSsxXTt2YXIgaz1CaWdJbnRlZ2VyLmZyb21CeXRlQXJyYXlVbnNpZ25lZChsKTt2YXIgaj1CaWdJbnRlZ2VyLmZyb21CeXRlQXJyYXlVbnNpZ25lZChpKTtyZXR1cm57cjprLHM6an19O3RoaXMucGFyc2VTaWdDb21wYWN0PWZ1bmN0aW9uKG0pe2lmKG0ubGVuZ3RoIT09NjUpe3Rocm93IlNpZ25hdHVyZSBoYXMgdGhlIHdyb25nIGxlbmd0aCJ9dmFyIGo9bVswXS0yNztpZihqPDB8fGo+Nyl7dGhyb3ciSW52YWxpZCBzaWduYXR1cmUgdHlwZSJ9dmFyIG89dGhpcy5lY3BhcmFtcy5uO3ZhciBsPUJpZ0ludGVnZXIuZnJvbUJ5dGVBcnJheVVuc2lnbmVkKG0uc2xpY2UoMSwzMykpLm1vZChvKTt2YXIgaz1CaWdJbnRlZ2VyLmZyb21CeXRlQXJyYXlVbnNpZ25lZChtLnNsaWNlKDMzLDY1KSkubW9kKG8pO3JldHVybntyOmwsczprLGk6an19O2lmKGghPT11bmRlZmluZWQpe2lmKGguY3VydmUhPT11bmRlZmluZWQpe3RoaXMuY3VydmVOYW1lPWguY3VydmV9fWlmKHRoaXMuY3VydmVOYW1lPT09dW5kZWZpbmVkKXt0aGlzLmN1cnZlTmFtZT1lfXRoaXMuc2V0TmFtZWRDdXJ2ZSh0aGlzLmN1cnZlTmFtZSk7aWYoaCE9PXVuZGVmaW5lZCl7aWYoaC5wcnYhPT11bmRlZmluZWQpe3RoaXMuc2V0UHJpdmF0ZUtleUhleChoLnBydil9aWYoaC5wdWIhPT11bmRlZmluZWQpe3RoaXMuc2V0UHVibGljS2V5SGV4KGgucHViKX19fTtLSlVSLmNyeXB0by5FQ0RTQS5wYXJzZVNpZ0hleD1mdW5jdGlvbihhKXt2YXIgYj1LSlVSLmNyeXB0by5FQ0RTQS5wYXJzZVNpZ0hleEluSGV4UlMoYSk7dmFyIGQ9bmV3IEJpZ0ludGVnZXIoYi5yLDE2KTt2YXIgYz1uZXcgQmlnSW50ZWdlcihiLnMsMTYpO3JldHVybntyOmQsczpjfX07S0pVUi5jcnlwdG8uRUNEU0EucGFyc2VTaWdIZXhJbkhleFJTPWZ1bmN0aW9uKGMpe2lmKGMuc3Vic3RyKDAsMikhPSIzMCIpe3Rocm93InNpZ25hdHVyZSBpcyBub3QgYSBBU04uMSBzZXF1ZW5jZSJ9dmFyIGI9QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmooYywwKTtpZihiLmxlbmd0aCE9Mil7dGhyb3cibnVtYmVyIG9mIHNpZ25hdHVyZSBBU04uMSBzZXF1ZW5jZSBlbGVtZW50cyBzZWVtIHdyb25nIn12YXIgZz1iWzBdO3ZhciBmPWJbMV07aWYoYy5zdWJzdHIoZywyKSE9IjAyIil7dGhyb3ciMXN0IGl0ZW0gb2Ygc2VxdWVuZSBvZiBzaWduYXR1cmUgaXMgbm90IEFTTi4xIGludGVnZXIifWlmKGMuc3Vic3RyKGYsMikhPSIwMiIpe3Rocm93IjJuZCBpdGVtIG9mIHNlcXVlbmUgb2Ygc2lnbmF0dXJlIGlzIG5vdCBBU04uMSBpbnRlZ2VyIn12YXIgZT1BU04xSEVYLmdldEhleE9mVl9BdE9iaihjLGcpO3ZhciBkPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKGMsZik7cmV0dXJue3I6ZSxzOmR9fTtLSlVSLmNyeXB0by5FQ0RTQS5hc24xU2lnVG9Db25jYXRTaWc9ZnVuY3Rpb24oYyl7dmFyIGQ9S0pVUi5jcnlwdG8uRUNEU0EucGFyc2VTaWdIZXhJbkhleFJTKGMpO3ZhciBiPWQucjt2YXIgYT1kLnM7aWYoYi5zdWJzdHIoMCwyKT09IjAwIiYmKCgoYi5sZW5ndGgvMikqOCklKDE2KjgpKT09OCl7Yj1iLnN1YnN0cigyKX1pZihhLnN1YnN0cigwLDIpPT0iMDAiJiYoKChhLmxlbmd0aC8yKSo4KSUoMTYqOCkpPT04KXthPWEuc3Vic3RyKDIpfWlmKCgoKGIubGVuZ3RoLzIpKjgpJSgxNio4KSkhPTApe3Rocm93InVua25vd24gRUNEU0Egc2lnIHIgbGVuZ3RoIGVycm9yIn1pZigoKChhLmxlbmd0aC8yKSo4KSUoMTYqOCkpIT0wKXt0aHJvdyJ1bmtub3duIEVDRFNBIHNpZyBzIGxlbmd0aCBlcnJvciJ9cmV0dXJuIGIrYX07S0pVUi5jcnlwdG8uRUNEU0EuY29uY2F0U2lnVG9BU04xU2lnPWZ1bmN0aW9uKGEpe2lmKCgoKGEubGVuZ3RoLzIpKjgpJSgxNio4KSkhPTApe3Rocm93InVua25vd24gRUNEU0EgY29uY2F0aW5hdGVkIHItcyBzaWcgIGxlbmd0aCBlcnJvciJ9dmFyIGM9YS5zdWJzdHIoMCxhLmxlbmd0aC8yKTt2YXIgYj1hLnN1YnN0cihhLmxlbmd0aC8yKTtyZXR1cm4gS0pVUi5jcnlwdG8uRUNEU0EuaGV4UlNTaWdUb0FTTjFTaWcoYyxiKX07S0pVUi5jcnlwdG8uRUNEU0EuaGV4UlNTaWdUb0FTTjFTaWc9ZnVuY3Rpb24oYixhKXt2YXIgZD1uZXcgQmlnSW50ZWdlcihiLDE2KTt2YXIgYz1uZXcgQmlnSW50ZWdlcihhLDE2KTtyZXR1cm4gS0pVUi5jcnlwdG8uRUNEU0EuYmlSU1NpZ1RvQVNOMVNpZyhkLGMpfTtLSlVSLmNyeXB0by5FQ0RTQS5iaVJTU2lnVG9BU04xU2lnPWZ1bmN0aW9uKGUsYyl7dmFyIGI9bmV3IEtKVVIuYXNuMS5ERVJJbnRlZ2VyKHtiaWdpbnQ6ZX0pO3ZhciBhPW5ldyBLSlVSLmFzbjEuREVSSW50ZWdlcih7YmlnaW50OmN9KTt2YXIgZD1uZXcgS0pVUi5hc24xLkRFUlNlcXVlbmNlKHthcnJheTpbYixhXX0pO3JldHVybiBkLmdldEVuY29kZWRIZXgoKX07Ci8qISBlY3BhcmFtLTEuMC4wLmpzIChjKSAyMDEzIEtlbmppIFVydXNoaW1hIHwga2p1ci5naXRodWIuY29tL2pzcnNhc2lnbi9saWNlbnNlCiAqLwppZih0eXBlb2YgS0pVUj09InVuZGVmaW5lZCJ8fCFLSlVSKXtLSlVSPXt9fWlmKHR5cGVvZiBLSlVSLmNyeXB0bz09InVuZGVmaW5lZCJ8fCFLSlVSLmNyeXB0byl7S0pVUi5jcnlwdG89e319S0pVUi5jcnlwdG8uRUNQYXJhbWV0ZXJEQj1uZXcgZnVuY3Rpb24oKXt2YXIgYj17fTt2YXIgYz17fTtmdW5jdGlvbiBhKGQpe3JldHVybiBuZXcgQmlnSW50ZWdlcihkLDE2KX10aGlzLmdldEJ5TmFtZT1mdW5jdGlvbihlKXt2YXIgZD1lO2lmKHR5cGVvZiBjW2RdIT0idW5kZWZpbmVkIil7ZD1jW2VdfWlmKHR5cGVvZiBiW2RdIT0idW5kZWZpbmVkIil7cmV0dXJuIGJbZF19dGhyb3cidW5yZWdpc3RlcmVkIEVDIGN1cnZlIG5hbWU6ICIrZH07dGhpcy5yZWdpc3Q9ZnVuY3Rpb24oQSxsLG8sZyxtLGUsaixmLGssdSxkLHgpe2JbQV09e307dmFyIHM9YShvKTt2YXIgej1hKGcpO3ZhciB5PWEobSk7dmFyIHQ9YShlKTt2YXIgdz1hKGopO3ZhciByPW5ldyBFQ0N1cnZlRnAocyx6LHkpO3ZhciBxPXIuZGVjb2RlUG9pbnRIZXgoIjA0IitmK2spO2JbQV1bIm5hbWUiXT1BO2JbQV1bImtleWxlbiJdPWw7YltBXVsiY3VydmUiXT1yO2JbQV1bIkciXT1xO2JbQV1bIm4iXT10O2JbQV1bImgiXT13O2JbQV1bIm9pZCJdPWQ7YltBXVsiaW5mbyJdPXg7Zm9yKHZhciB2PTA7djx1Lmxlbmd0aDt2Kyspe2NbdVt2XV09QX19fTtLSlVSLmNyeXB0by5FQ1BhcmFtZXRlckRCLnJlZ2lzdCgic2VjcDEyOHIxIiwxMjgsIkZGRkZGRkZERkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGIiwiRkZGRkZGRkRGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkMiLCJFODc1NzlDMTEwNzlGNDNERDgyNDk5M0MyQ0VFNUVEMyIsIkZGRkZGRkZFMDAwMDAwMDA3NUEzMEQxQjkwMzhBMTE1IiwiMSIsIjE2MUZGNzUyOEI4OTlCMkQwQzI4NjA3Q0E1MkM1Qjg2IiwiQ0Y1QUM4Mzk1QkFGRUIxM0MwMkRBMjkyRERFRDdBODMiLFtdLCIiLCJzZWNwMTI4cjEgOiBTRUNHIGN1cnZlIG92ZXIgYSAxMjggYml0IHByaW1lIGZpZWxkIik7S0pVUi5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoInNlY3AxNjBrMSIsMTYwLCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRUZGRkZBQzczIiwiMCIsIjciLCIwMTAwMDAwMDAwMDAwMDAwMDAwMDAxQjhGQTE2REZBQjlBQ0ExNkI2QjMiLCIxIiwiM0I0QzM4MkNFMzdBQTE5MkE0MDE5RTc2MzAzNkY0RjVERDREN0VCQiIsIjkzOENGOTM1MzE4RkRDRUQ2QkMyODI4NjUzMTczM0MzRjAzQzRGRUUiLFtdLCIiLCJzZWNwMTYwazEgOiBTRUNHIGN1cnZlIG92ZXIgYSAxNjAgYml0IHByaW1lIGZpZWxkIik7S0pVUi5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoInNlY3AxNjByMSIsMTYwLCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjdGRkZGRkZGIiwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkY3RkZGRkZGQyIsIjFDOTdCRUZDNTRCRDdBOEI2NUFDRjg5RjgxRDRENEFEQzU2NUZBNDUiLCIwMTAwMDAwMDAwMDAwMDAwMDAwMDAxRjRDOEY5MjdBRUQzQ0E3NTIyNTciLCIxIiwiNEE5NkI1Njg4RUY1NzMyODQ2NjQ2OTg5NjhDMzhCQjkxM0NCRkM4MiIsIjIzQTYyODU1MzE2ODk0N0Q1OURDQzkxMjA0MjM1MTM3N0FDNUZCMzIiLFtdLCIiLCJzZWNwMTYwcjEgOiBTRUNHIGN1cnZlIG92ZXIgYSAxNjAgYml0IHByaW1lIGZpZWxkIik7S0pVUi5jcnlwdG8uRUNQYXJhbWV0ZXJEQi5yZWdpc3QoInNlY3AxOTJrMSIsMTkyLCJGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkVFMzciLCIwIiwiMyIsIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRTI2RjJGQzE3MEY2OTQ2NkE3NERFRkQ4RCIsIjEiLCJEQjRGRjEwRUMwNTdFOUFFMjZCMDdEMDI4MEI3RjQzNDFEQTVEMUIxRUFFMDZDN0QiLCI5QjJGMkY2RDlDNTYyOEE3ODQ0MTYzRDAxNUJFODYzNDQwODJBQTg4RDk1RTJGOUQiLFtdKTtLSlVSLmNyeXB0by5FQ1BhcmFtZXRlckRCLnJlZ2lzdCgic2VjcDE5MnIxIiwxOTIsIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkZGRkZGRkZGRkZGRiIsIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkZGRkZGRkZGRkZGQyIsIjY0MjEwNTE5RTU5QzgwRTcwRkE3RTlBQjcyMjQzMDQ5RkVCOERFRUNDMTQ2QjlCMSIsIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRjk5REVGODM2MTQ2QkM5QjFCNEQyMjgzMSIsIjEiLCIxODhEQTgwRUIwMzA5MEY2N0NCRjIwRUI0M0ExODgwMEY0RkYwQUZEODJGRjEwMTIiLCIwNzE5MkI5NUZGQzhEQTc4NjMxMDExRUQ2QjI0Q0RENTczRjk3N0ExMUU3OTQ4MTEiLFtdKTtLSlVSLmNyeXB0by5FQ1BhcmFtZXRlckRCLnJlZ2lzdCgic2VjcDIyNHIxIiwyMjQsIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxIiwiRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkVGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkUiLCJCNDA1MEE4NTBDMDRCM0FCRjU0MTMyNTY1MDQ0QjBCN0Q3QkZEOEJBMjcwQjM5NDMyMzU1RkZCNCIsIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkYxNkEyRTBCOEYwM0UxM0REMjk0NTVDNUMyQTNEIiwiMSIsIkI3MEUwQ0JENkJCNEJGN0YzMjEzOTBCOTRBMDNDMUQzNTZDMjExMjIzNDMyODBENjExNUMxRDIxIiwiQkQzNzYzODhCNUY3MjNGQjRDMjJERkU2Q0Q0Mzc1QTA1QTA3NDc2NDQ0RDU4MTk5ODUwMDdFMzQiLFtdKTtLSlVSLmNyeXB0by5FQ1BhcmFtZXRlckRCLnJlZ2lzdCgic2VjcDI1NmsxIiwyNTYsIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFRkZGRkZDMkYiLCIwIiwiNyIsIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZFQkFBRURDRTZBRjQ4QTAzQkJGRDI1RThDRDAzNjQxNDEiLCIxIiwiNzlCRTY2N0VGOURDQkJBQzU1QTA2Mjk1Q0U4NzBCMDcwMjlCRkNEQjJEQ0UyOEQ5NTlGMjgxNUIxNkY4MTc5OCIsIjQ4M0FEQTc3MjZBM0M0NjU1REE0RkJGQzBFMTEwOEE4RkQxN0I0NDhBNjg1NTQxOTlDNDdEMDhGRkIxMEQ0QjgiLFtdKTtLSlVSLmNyeXB0by5FQ1BhcmFtZXRlckRCLnJlZ2lzdCgic2VjcDI1NnIxIiwyNTYsIkZGRkZGRkZGMDAwMDAwMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkYiLCJGRkZGRkZGRjAwMDAwMDAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZDIiwiNUFDNjM1RDhBQTNBOTNFN0IzRUJCRDU1NzY5ODg2QkM2NTFEMDZCMENDNTNCMEY2M0JDRTNDM0UyN0QyNjA0QiIsIkZGRkZGRkZGMDAwMDAwMDBGRkZGRkZGRkZGRkZGRkZGQkNFNkZBQURBNzE3OUU4NEYzQjlDQUMyRkM2MzI1NTEiLCIxIiwiNkIxN0QxRjJFMTJDNDI0N0Y4QkNFNkU1NjNBNDQwRjI3NzAzN0Q4MTJERUIzM0EwRjRBMTM5NDVEODk4QzI5NiIsIjRGRTM0MkUyRkUxQTdGOUI4RUU3RUI0QTdDMEY5RTE2MkJDRTMzNTc2QjMxNUVDRUNCQjY0MDY4MzdCRjUxRjUiLFsiTklTVCBQLTI1NiIsIlAtMjU2IiwicHJpbWUyNTZ2MSJdKTtLSlVSLmNyeXB0by5FQ1BhcmFtZXRlckRCLnJlZ2lzdCgic2VjcDM4NHIxIiwzODQsIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkVGRkZGRkZGRjAwMDAwMDAwMDAwMDAwMDBGRkZGRkZGRiIsIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkVGRkZGRkZGRjAwMDAwMDAwMDAwMDAwMDBGRkZGRkZGQyIsIkIzMzEyRkE3RTIzRUU3RTQ5ODhFMDU2QkUzRjgyRDE5MTgxRDlDNkVGRTgxNDExMjAzMTQwODhGNTAxMzg3NUFDNjU2Mzk4RDhBMkVEMTlEMkE4NUM4RUREM0VDMkFFRiIsIkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkM3NjM0RDgxRjQzNzJEREY1ODFBMERCMjQ4QjBBNzdBRUNFQzE5NkFDQ0M1Mjk3MyIsIjEiLCJBQTg3Q0EyMkJFOEIwNTM3OEVCMUM3MUVGMzIwQUQ3NDZFMUQzQjYyOEJBNzlCOTg1OUY3NDFFMDgyNTQyQTM4NTUwMkYyNURCRjU1Mjk2QzNBNTQ1RTM4NzI3NjBBQjciLCIzNjE3ZGU0YTk2MjYyYzZmNWQ5ZTk4YmY5MjkyZGMyOWY4ZjQxZGJkMjg5YTE0N2NlOWRhMzExM2I1ZjBiOGMwMGE2MGIxY2UxZDdlODE5ZDdhNDMxZDdjOTBlYTBlNWYiLFsiTklTVCBQLTM4NCIsIlAtMzg0Il0pO0tKVVIuY3J5cHRvLkVDUGFyYW1ldGVyREIucmVnaXN0KCJzZWNwNTIxcjEiLDUyMSwiMUZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkYiLCIxRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGQyIsIjA1MTk1M0VCOTYxOEUxQzlBMUY5MjlBMjFBMEI2ODU0MEVFQTJEQTcyNUI5OUIzMTVGM0I4QjQ4OTkxOEVGMTA5RTE1NjE5Mzk1MUVDN0U5MzdCMTY1MkMwQkQzQkIxQkYwNzM1NzNERjg4M0QyQzM0RjFFRjQ1MUZENDZCNTAzRjAwIiwiMUZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGRkZGQTUxODY4NzgzQkYyRjk2NkI3RkNDMDE0OEY3MDlBNUQwM0JCNUM5Qjg4OTlDNDdBRUJCNkZCNzFFOTEzODY0MDkiLCIxIiwiQzY4NThFMDZCNzA0MDRFOUNEOUUzRUNCNjYyMzk1QjQ0MjlDNjQ4MTM5MDUzRkI1MjFGODI4QUY2MDZCNEQzREJBQTE0QjVFNzdFRkU3NTkyOEZFMURDMTI3QTJGRkE4REUzMzQ4QjNDMTg1NkE0MjlCRjk3RTdFMzFDMkU1QkQ2NiIsIjAxMTgzOTI5NmE3ODlhM2JjMDA0NWM4YTVmYjQyYzdkMWJkOTk4ZjU0NDQ5NTc5YjQ0NjgxN2FmYmQxNzI3M2U2NjJjOTdlZTcyOTk1ZWY0MjY0MGM1NTBiOTAxM2ZhZDA3NjEzNTNjNzA4NmEyNzJjMjQwODhiZTk0NzY5ZmQxNjY1MCIsWyJOSVNUIFAtNTIxIiwiUC01MjEiXSk7Ci8qISBkc2EtbW9kaWZpZWQtMS4wLjEuanMgKGMpIFJlY3VyaXR5IExhYnMgR21iSCwgS2VuamkgVXJ1c2hpbW1hIHwgZ2l0aHViLmNvbS9vcGVucGdwanMvb3BlbnBncGpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0UKICovCmlmKHR5cGVvZiBLSlVSPT0idW5kZWZpbmVkInx8IUtKVVIpe0tKVVI9e319aWYodHlwZW9mIEtKVVIuY3J5cHRvPT0idW5kZWZpbmVkInx8IUtKVVIuY3J5cHRvKXtLSlVSLmNyeXB0bz17fX1LSlVSLmNyeXB0by5EU0E9ZnVuY3Rpb24oKXt0aGlzLnA9bnVsbDt0aGlzLnE9bnVsbDt0aGlzLmc9bnVsbDt0aGlzLnk9bnVsbDt0aGlzLng9bnVsbDt0aGlzLnR5cGU9IkRTQSI7dGhpcy5zZXRQcml2YXRlPWZ1bmN0aW9uKHosdyx2LEEsdSl7dGhpcy5pc1ByaXZhdGU9dHJ1ZTt0aGlzLnA9ejt0aGlzLnE9dzt0aGlzLmc9djt0aGlzLnk9QTt0aGlzLng9dX07dGhpcy5zZXRQdWJsaWM9ZnVuY3Rpb24odyx2LHUseil7dGhpcy5pc1B1YmxpYz10cnVlO3RoaXMucD13O3RoaXMucT12O3RoaXMuZz11O3RoaXMueT16O3RoaXMueD1udWxsfTt0aGlzLnNpZ25XaXRoTWVzc2FnZUhhc2g9ZnVuY3Rpb24oeil7dmFyIHY9dGhpcy5wO3ZhciB1PXRoaXMucTt2YXIgQz10aGlzLmc7dmFyIEQ9dGhpcy55O3ZhciBFPXRoaXMueDt2YXIgQT16LnN1YnN0cigwLHUuYml0TGVuZ3RoKCkvNCk7dmFyIEI9bmV3IEJpZ0ludGVnZXIoeiwxNik7dmFyIHc9bihCaWdJbnRlZ2VyLk9ORS5hZGQoQmlnSW50ZWdlci5PTkUpLHUuc3VidHJhY3QoQmlnSW50ZWdlci5PTkUpKTt2YXIgRz0oQy5tb2RQb3codyx2KSkubW9kKHUpO3ZhciBGPSh3Lm1vZEludmVyc2UodSkubXVsdGlwbHkoQi5hZGQoRS5tdWx0aXBseShHKSkpKS5tb2QodSk7dmFyIEg9S0pVUi5hc24xLkFTTjFVdGlsLmpzb25Ub0FTTjFIRVgoe3NlcTpbeyJpbnQiOntiaWdpbnQ6R319LHsiaW50Ijp7YmlnaW50OkZ9fV19KTtyZXR1cm4gSH07dGhpcy52ZXJpZnlXaXRoTWVzc2FnZUhhc2g9ZnVuY3Rpb24oQyxCKXt2YXIgej10aGlzLnA7dmFyIHU9dGhpcy5xO3ZhciBHPXRoaXMuZzt2YXIgSD10aGlzLnk7dmFyIEU9dGhpcy5wYXJzZUFTTjFTaWduYXR1cmUoQik7dmFyIEs9RVswXTt2YXIgSj1FWzFdO3ZhciBDPUMuc3Vic3RyKDAsdS5iaXRMZW5ndGgoKS80KTt2YXIgRD1uZXcgQmlnSW50ZWdlcihDLDE2KTtpZihCaWdJbnRlZ2VyLlpFUk8uY29tcGFyZVRvKEspPjB8fEsuY29tcGFyZVRvKHUpPjB8fEJpZ0ludGVnZXIuWkVSTy5jb21wYXJlVG8oSik+MHx8Si5jb21wYXJlVG8odSk+MCl7dGhyb3ciaW52YWxpZCBEU0Egc2lnbmF0dXJlIn12YXIgST1KLm1vZEludmVyc2UodSk7dmFyIEE9RC5tdWx0aXBseShJKS5tb2QodSk7dmFyIHY9Sy5tdWx0aXBseShJKS5tb2QodSk7dmFyIEY9Ry5tb2RQb3coQSx6KS5tdWx0aXBseShILm1vZFBvdyh2LHopKS5tb2QoeikubW9kKHUpO3JldHVybiBGLmNvbXBhcmVUbyhLKT09MH07dGhpcy5wYXJzZUFTTjFTaWduYXR1cmU9ZnVuY3Rpb24odSl7dHJ5e3ZhciB5PW5ldyBCaWdJbnRlZ2VyKEFTTjFIRVguZ2V0VmJ5TGlzdCh1LDAsWzBdLCIwMiIpLDE2KTt2YXIgdj1uZXcgQmlnSW50ZWdlcihBU04xSEVYLmdldFZieUxpc3QodSwwLFsxXSwiMDIiKSwxNik7cmV0dXJuW3ksdl19Y2F0Y2godyl7dGhyb3cibWFsZm9ybWVkIERTQSBzaWduYXR1cmUifX07ZnVuY3Rpb24gZChFLHcsQix2LHUsQyl7dmFyIHo9S0pVUi5jcnlwdG8uVXRpbC5oYXNoU3RyaW5nKHcsRS50b0xvd2VyQ2FzZSgpKTt2YXIgej16LnN1YnN0cigwLHUuYml0TGVuZ3RoKCkvNCk7dmFyIEE9bmV3IEJpZ0ludGVnZXIoeiwxNik7dmFyIHk9bihCaWdJbnRlZ2VyLk9ORS5hZGQoQmlnSW50ZWdlci5PTkUpLHUuc3VidHJhY3QoQmlnSW50ZWdlci5PTkUpKTt2YXIgRj0oQi5tb2RQb3coeSx2KSkubW9kKHUpO3ZhciBEPSh5Lm1vZEludmVyc2UodSkubXVsdGlwbHkoQS5hZGQoQy5tdWx0aXBseShGKSkpKS5tb2QodSk7dmFyIEc9bmV3IEFycmF5KCk7R1swXT1GO0dbMV09RDtyZXR1cm4gR31mdW5jdGlvbiByKHYpe3ZhciB1PW9wZW5wZ3AuY29uZmlnLmNvbmZpZy5wcmVmZXJfaGFzaF9hbGdvcml0aG07c3dpdGNoKE1hdGgucm91bmQodi5iaXRMZW5ndGgoKS84KSl7Y2FzZSAyMDppZih1IT0yJiZ1PjExJiZ1IT0xMCYmdTw4KXtyZXR1cm4gMn1yZXR1cm4gdTtjYXNlIDI4OmlmKHU+MTEmJnU8OCl7cmV0dXJuIDExfXJldHVybiB1O2Nhc2UgMzI6aWYodT4xMCYmdTw4KXtyZXR1cm4gOH1yZXR1cm4gdTtkZWZhdWx0OnV0aWwucHJpbnRfZGVidWcoIkRTQSBzZWxlY3QgaGFzaCBhbGdvcml0aG06IHJldHVybmluZyBudWxsIGZvciBhbiB1bmtub3duIGxlbmd0aCBvZiBxIik7cmV0dXJuIG51bGx9fXRoaXMuc2VsZWN0X2hhc2hfYWxnb3JpdGhtPXI7ZnVuY3Rpb24gbShJLEssSixCLHosdSxGLEcpe3ZhciBDPUtKVVIuY3J5cHRvLlV0aWwuaGFzaFN0cmluZyhCLEkudG9Mb3dlckNhc2UoKSk7dmFyIEM9Qy5zdWJzdHIoMCx1LmJpdExlbmd0aCgpLzQpO3ZhciBEPW5ldyBCaWdJbnRlZ2VyKEMsMTYpO2lmKEJpZ0ludGVnZXIuWkVSTy5jb21wYXJlVG8oSyk+MHx8Sy5jb21wYXJlVG8odSk+MHx8QmlnSW50ZWdlci5aRVJPLmNvbXBhcmVUbyhKKT4wfHxKLmNvbXBhcmVUbyh1KT4wKXt1dGlsLnByaW50X2Vycm9yKCJpbnZhbGlkIERTQSBTaWduYXR1cmUiKTtyZXR1cm4gbnVsbH12YXIgSD1KLm1vZEludmVyc2UodSk7dmFyIEE9RC5tdWx0aXBseShIKS5tb2QodSk7dmFyIHY9Sy5tdWx0aXBseShIKS5tb2QodSk7dmFyIEU9Ri5tb2RQb3coQSx6KS5tdWx0aXBseShHLm1vZFBvdyh2LHopKS5tb2QoeikubW9kKHUpO3JldHVybiBFLmNvbXBhcmVUbyhLKT09MH1mdW5jdGlvbiBhKHope3ZhciBBPW5ldyBCaWdJbnRlZ2VyKHoscHJpbWVDZW50ZXJpZSk7dmFyIHk9aihxLDUxMik7dmFyIHU9dChwLHEseik7dmFyIHY7ZG97dj1uZXcgQmlnSW50ZWdlcihxLmJpdENvdW50KCkscmFuZCl9d2hpbGUoeC5jb21wYXJlVG8oQmlnSW50ZWdlci5aRVJPKSE9MSYmeC5jb21wYXJlVG8ocSkhPS0xKTt2YXIgdz1nLm1vZFBvdyh4LHApO3JldHVybnt4OnYscTpBLHA6eSxnOnUseTp3fX1mdW5jdGlvbiBqKHkseix3KXtpZih6JTY0IT0wKXtyZXR1cm4gZmFsc2V9dmFyIHU7dmFyIHY7ZG97dT13KGJpdGNvdW50LHRydWUpO3Y9dS5zdWJ0cmFjdChCaWdJbnRlZ2VyLk9ORSk7dT11LnN1YnRyYWN0KHYucmVtYWluZGVyKHkpKX13aGlsZSghdS5pc1Byb2JhYmxlUHJpbWUocHJpbWVDZW50ZXJpZSl8fHUuYml0TGVuZ3RoKCkhPWwpO3JldHVybiB1fWZ1bmN0aW9uIHQoQix6LEEsdyl7dmFyIHU9Qi5zdWJ0cmFjdChCaWdJbnRlZ2VyLk9ORSk7dmFyIHk9dS5kaXZpZGUoeik7dmFyIHY7ZG97dj13KEEpfXdoaWxlKHYuY29tcGFyZVRvKHUpIT0tMSYmdi5jb21wYXJlVG8oQmlnSW50ZWdlci5PTkUpIT0xKTtyZXR1cm4gdi5tb2RQb3coeSxCKX1mdW5jdGlvbiBvKHcseSx1KXt2YXIgdjtkb3t2PXUoeSxmYWxzZSl9d2hpbGUodi5jb21wYXJlVG8odykhPS0xJiZ2LmNvbXBhcmVUbyhCaWdJbnRlZ2VyLlpFUk8pIT0xKTtyZXR1cm4gdn1mdW5jdGlvbiBpKHYsdyl7az1vKHYpO3ZhciB1PWcubW9kUG93KGssdykubW9kKHYpO3JldHVybiB1fWZ1bmN0aW9uIGgoQix3LHksdix6LHUpe3ZhciBBPUIodik7cz0ody5tb2RJbnZlcnNlKHopLm11bHRpcGx5KEEuYWRkKHUubXVsdGlwbHkoeSkpKSkubW9kKHopO3JldHVybiBzfXRoaXMuc2lnbj1kO3RoaXMudmVyaWZ5PW07ZnVuY3Rpb24gbih3LHUpe2lmKHUuY29tcGFyZVRvKHcpPD0wKXtyZXR1cm59dmFyIHY9dS5zdWJ0cmFjdCh3KTt2YXIgeT1lKHYuYml0TGVuZ3RoKCkpO3doaWxlKHk+dil7eT1lKHYuYml0TGVuZ3RoKCkpfXJldHVybiB3LmFkZCh5KX1mdW5jdGlvbiBlKHcpe2lmKHc8MCl7cmV0dXJuIG51bGx9dmFyIHU9TWF0aC5mbG9vcigodys3KS84KTt2YXIgdj1jKHUpO2lmKHclOD4wKXt2PVN0cmluZy5mcm9tQ2hhckNvZGUoKE1hdGgucG93KDIsdyU4KS0xKSZ2LmNoYXJDb2RlQXQoMCkpK3Yuc3Vic3RyaW5nKDEpfXJldHVybiBuZXcgQmlnSW50ZWdlcihmKHYpLDE2KX1mdW5jdGlvbiBjKHcpe3ZhciB1PSIiO2Zvcih2YXIgdj0wO3Y8dzt2Kyspe3UrPVN0cmluZy5mcm9tQ2hhckNvZGUoYigpKX1yZXR1cm4gdX1mdW5jdGlvbiBiKCl7dmFyIHU9bmV3IFVpbnQzMkFycmF5KDEpO3dpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHUpO3JldHVybiB1WzBdJjI1NX1mdW5jdGlvbiBmKHkpe2lmKHk9PW51bGwpe3JldHVybiIifXZhciB2PVtdO3ZhciB3PXkubGVuZ3RoO3ZhciB6PTA7dmFyIHU7d2hpbGUoejx3KXt1PXlbeisrXS5jaGFyQ29kZUF0KCkudG9TdHJpbmcoMTYpO3doaWxlKHUubGVuZ3RoPDIpe3U9IjAiK3V9di5wdXNoKCIiK3UpfXJldHVybiB2LmpvaW4oIiIpfXRoaXMuZ2V0UmFuZG9tQmlnSW50ZWdlckluUmFuZ2U9bjt0aGlzLmdldFJhbmRvbUJpZ0ludGVnZXI9ZTt0aGlzLmdldFJhbmRvbUJ5dGVzPWN9OwovKiEgcGtjczVwa2V5LTEuMC42LmpzIChjKSAyMDEzLTIwMTQgS2VuamkgVXJ1c2hpbWEgfCBranVyLmdpdGh1Yi5jb20vanNyc2FzaWduL2xpY2Vuc2UKICovCnZhciBQS0NTNVBLRVk9ZnVuY3Rpb24oKXt2YXIgYz1mdW5jdGlvbihuLHAsbyl7cmV0dXJuIGkoQ3J5cHRvSlMuQUVTLG4scCxvKX07dmFyIGQ9ZnVuY3Rpb24obixwLG8pe3JldHVybiBpKENyeXB0b0pTLlRyaXBsZURFUyxuLHAsbyl9O3ZhciBpPWZ1bmN0aW9uKHEsdixzLG8pe3ZhciBwPUNyeXB0b0pTLmVuYy5IZXgucGFyc2Uodik7dmFyIHU9Q3J5cHRvSlMuZW5jLkhleC5wYXJzZShzKTt2YXIgbj1DcnlwdG9KUy5lbmMuSGV4LnBhcnNlKG8pO3ZhciByPXt9O3Iua2V5PXU7ci5pdj1uO3IuY2lwaGVydGV4dD1wO3ZhciB0PXEuZGVjcnlwdChyLHUse2l2Om59KTtyZXR1cm4gQ3J5cHRvSlMuZW5jLkhleC5zdHJpbmdpZnkodCl9O3ZhciBqPWZ1bmN0aW9uKG4scCxvKXtyZXR1cm4gZShDcnlwdG9KUy5BRVMsbixwLG8pfTt2YXIgbT1mdW5jdGlvbihuLHAsbyl7cmV0dXJuIGUoQ3J5cHRvSlMuVHJpcGxlREVTLG4scCxvKX07dmFyIGU9ZnVuY3Rpb24ocyx4LHYscCl7dmFyIHI9Q3J5cHRvSlMuZW5jLkhleC5wYXJzZSh4KTt2YXIgdz1DcnlwdG9KUy5lbmMuSGV4LnBhcnNlKHYpO3ZhciBvPUNyeXB0b0pTLmVuYy5IZXgucGFyc2UocCk7dmFyIG49e307dmFyIHU9cy5lbmNyeXB0KHIsdyx7aXY6b30pO3ZhciBxPUNyeXB0b0pTLmVuYy5IZXgucGFyc2UodS50b1N0cmluZygpKTt2YXIgdD1DcnlwdG9KUy5lbmMuQmFzZTY0LnN0cmluZ2lmeShxKTtyZXR1cm4gdH07dmFyIGc9eyJBRVMtMjU2LUNCQyI6e3Byb2M6YyxlcHJvYzpqLGtleWxlbjozMixpdmxlbjoxNn0sIkFFUy0xOTItQ0JDIjp7cHJvYzpjLGVwcm9jOmosa2V5bGVuOjI0LGl2bGVuOjE2fSwiQUVTLTEyOC1DQkMiOntwcm9jOmMsZXByb2M6aixrZXlsZW46MTYsaXZsZW46MTZ9LCJERVMtRURFMy1DQkMiOntwcm9jOmQsZXByb2M6bSxrZXlsZW46MjQsaXZsZW46OH19O3ZhciBiPWZ1bmN0aW9uKG4pe3JldHVybiBnW25dWyJwcm9jIl19O3ZhciBrPWZ1bmN0aW9uKG4pe3ZhciBwPUNyeXB0b0pTLmxpYi5Xb3JkQXJyYXkucmFuZG9tKG4pO3ZhciBvPUNyeXB0b0pTLmVuYy5IZXguc3RyaW5naWZ5KHApO3JldHVybiBvfTt2YXIgbD1mdW5jdGlvbihxKXt2YXIgcj17fTtpZihxLm1hdGNoKG5ldyBSZWdFeHAoIkRFSy1JbmZvOiAoW14sXSspLChbMC05QS1GYS1mXSspIiwibSIpKSl7ci5jaXBoZXI9UmVnRXhwLiQxO3IuaXZzYWx0PVJlZ0V4cC4kMn1pZihxLm1hdGNoKG5ldyBSZWdFeHAoIi0tLS0tQkVHSU4gKFtBLVpdKykgUFJJVkFURSBLRVktLS0tLSIpKSl7ci50eXBlPVJlZ0V4cC4kMX12YXIgcD0tMTt2YXIgdD0wO2lmKHEuaW5kZXhPZigiXHJcblxyXG4iKSE9LTEpe3A9cS5pbmRleE9mKCJcclxuXHJcbiIpO3Q9Mn1pZihxLmluZGV4T2YoIlxuXG4iKSE9LTEpe3A9cS5pbmRleE9mKCJcblxuIik7dD0xfXZhciBvPXEuaW5kZXhPZigiLS0tLS1FTkQiKTtpZihwIT0tMSYmbyE9LTEpe3ZhciBuPXEuc3Vic3RyaW5nKHArdCoyLG8tdCk7bj1uLnJlcGxhY2UoL1xzKy9nLCIiKTtyLmRhdGE9bn1yZXR1cm4gcn07dmFyIGg9ZnVuY3Rpb24obyx3LG4pe3ZhciB0PW4uc3Vic3RyaW5nKDAsMTYpO3ZhciByPUNyeXB0b0pTLmVuYy5IZXgucGFyc2UodCk7dmFyIHA9Q3J5cHRvSlMuZW5jLlV0ZjgucGFyc2Uodyk7dmFyIHM9Z1tvXVsia2V5bGVuIl0rZ1tvXVsiaXZsZW4iXTt2YXIgdj0iIjt2YXIgdT1udWxsO2Zvcig7Oyl7dmFyIHE9Q3J5cHRvSlMuYWxnby5NRDUuY3JlYXRlKCk7aWYodSE9bnVsbCl7cS51cGRhdGUodSl9cS51cGRhdGUocCk7cS51cGRhdGUocik7dT1xLmZpbmFsaXplKCk7dj12K0NyeXB0b0pTLmVuYy5IZXguc3RyaW5naWZ5KHUpO2lmKHYubGVuZ3RoPj1zKjIpe2JyZWFrfX12YXIgeD17fTt4LmtleWhleD12LnN1YnN0cigwLGdbb11bImtleWxlbiJdKjIpO3guaXZoZXg9di5zdWJzdHIoZ1tvXVsia2V5bGVuIl0qMixnW29dWyJpdmxlbiJdKjIpO3JldHVybiB4fTt2YXIgYT1mdW5jdGlvbihuLHQscCx1KXt2YXIgcT1DcnlwdG9KUy5lbmMuQmFzZTY0LnBhcnNlKG4pO3ZhciBvPUNyeXB0b0pTLmVuYy5IZXguc3RyaW5naWZ5KHEpO3ZhciBzPWdbdF1bInByb2MiXTt2YXIgcj1zKG8scCx1KTtyZXR1cm4gcn07dmFyIGY9ZnVuY3Rpb24obixxLG8scyl7dmFyIHA9Z1txXVsiZXByb2MiXTt2YXIgcj1wKG4sbyxzKTtyZXR1cm4gcn07cmV0dXJue3ZlcnNpb246IjEuMC41IixnZXRIZXhGcm9tUEVNOmZ1bmN0aW9uKG8scil7dmFyIHA9bztpZihwLmluZGV4T2YoIkJFR0lOICIrcik9PS0xKXt0aHJvdyJjYW4ndCBmaW5kIFBFTSBoZWFkZXI6ICIrcn1wPXAucmVwbGFjZSgiLS0tLS1CRUdJTiAiK3IrIi0tLS0tIiwiIik7cD1wLnJlcGxhY2UoIi0tLS0tRU5EICIrcisiLS0tLS0iLCIiKTt2YXIgcT1wLnJlcGxhY2UoL1xzKy9nLCIiKTt2YXIgbj1iNjR0b2hleChxKTtyZXR1cm4gbn0sZ2V0RGVjcnlwdGVkS2V5SGV4QnlLZXlJVjpmdW5jdGlvbihvLHIscSxwKXt2YXIgbj1iKHIpO3JldHVybiBuKG8scSxwKX0scGFyc2VQS0NTNVBFTTpmdW5jdGlvbihuKXtyZXR1cm4gbChuKX0sZ2V0S2V5QW5kVW51c2VkSXZCeVBhc3Njb2RlQW5kSXZzYWx0OmZ1bmN0aW9uKG8sbixwKXtyZXR1cm4gaChvLG4scCl9LGRlY3J5cHRLZXlCNjQ6ZnVuY3Rpb24obixwLG8scSl7cmV0dXJuIGEobixwLG8scSl9LGdldERlY3J5cHRlZEtleUhleDpmdW5jdGlvbih3LHYpe3ZhciBvPWwodyk7dmFyIHI9by50eXBlO3ZhciBwPW8uY2lwaGVyO3ZhciBuPW8uaXZzYWx0O3ZhciBxPW8uZGF0YTt2YXIgdT1oKHAsdixuKTt2YXIgdD11LmtleWhleDt2YXIgcz1hKHEscCx0LG4pO3JldHVybiBzfSxnZXRSU0FLZXlGcm9tRW5jcnlwdGVkUEtDUzVQRU06ZnVuY3Rpb24ocCxvKXt2YXIgcT10aGlzLmdldERlY3J5cHRlZEtleUhleChwLG8pO3ZhciBuPW5ldyBSU0FLZXkoKTtuLnJlYWRQcml2YXRlS2V5RnJvbUFTTjFIZXhTdHJpbmcocSk7cmV0dXJuIG59LGdldEVyeXB0ZWRQS0NTNVBFTUZyb21QcnZLZXlIZXg6ZnVuY3Rpb24ocSx4LHIscCl7dmFyIG49IiI7aWYodHlwZW9mIHI9PSJ1bmRlZmluZWQifHxyPT1udWxsKXtyPSJBRVMtMjU2LUNCQyJ9aWYodHlwZW9mIGdbcl09PSJ1bmRlZmluZWQiKXt0aHJvdyJQS0NTNVBLRVkgdW5zdXBwb3J0ZWQgYWxnb3JpdGhtOiAiK3J9aWYodHlwZW9mIHA9PSJ1bmRlZmluZWQifHxwPT1udWxsKXt2YXIgdD1nW3JdWyJpdmxlbiJdO3ZhciBzPWsodCk7cD1zLnRvVXBwZXJDYXNlKCl9dmFyIHc9aChyLHgscCk7dmFyIHY9dy5rZXloZXg7dmFyIHU9ZihxLHIsdixwKTt2YXIgbz11LnJlcGxhY2UoLyguezY0fSkvZywiJDFcclxuIik7dmFyIG49Ii0tLS0tQkVHSU4gUlNBIFBSSVZBVEUgS0VZLS0tLS1cclxuIjtuKz0iUHJvYy1UeXBlOiA0LEVOQ1JZUFRFRFxyXG4iO24rPSJERUstSW5mbzogIityKyIsIitwKyJcclxuIjtuKz0iXHJcbiI7bis9bztuKz0iXHJcbi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0tXHJcbiI7cmV0dXJuIG59LGdldEVyeXB0ZWRQS0NTNVBFTUZyb21SU0FLZXk6ZnVuY3Rpb24oQyxELG8scyl7dmFyIEE9bmV3IEtKVVIuYXNuMS5ERVJJbnRlZ2VyKHsiaW50IjowfSk7dmFyIHY9bmV3IEtKVVIuYXNuMS5ERVJJbnRlZ2VyKHtiaWdpbnQ6Qy5ufSk7dmFyIHo9bmV3IEtKVVIuYXNuMS5ERVJJbnRlZ2VyKHsiaW50IjpDLmV9KTt2YXIgQj1uZXcgS0pVUi5hc24xLkRFUkludGVnZXIoe2JpZ2ludDpDLmR9KTt2YXIgdD1uZXcgS0pVUi5hc24xLkRFUkludGVnZXIoe2JpZ2ludDpDLnB9KTt2YXIgcj1uZXcgS0pVUi5hc24xLkRFUkludGVnZXIoe2JpZ2ludDpDLnF9KTt2YXIgeT1uZXcgS0pVUi5hc24xLkRFUkludGVnZXIoe2JpZ2ludDpDLmRtcDF9KTt2YXIgdT1uZXcgS0pVUi5hc24xLkRFUkludGVnZXIoe2JpZ2ludDpDLmRtcTF9KTt2YXIgeD1uZXcgS0pVUi5hc24xLkRFUkludGVnZXIoe2JpZ2ludDpDLmNvZWZmfSk7dmFyIEU9bmV3IEtKVVIuYXNuMS5ERVJTZXF1ZW5jZSh7YXJyYXk6W0Esdix6LEIsdCxyLHksdSx4XX0pO3ZhciB3PUUuZ2V0RW5jb2RlZEhleCgpO3JldHVybiB0aGlzLmdldEVyeXB0ZWRQS0NTNVBFTUZyb21QcnZLZXlIZXgodyxELG8scyl9LG5ld0VuY3J5cHRlZFBLQ1M1UEVNOmZ1bmN0aW9uKG4sbyxyLHMpe2lmKHR5cGVvZiBvPT0idW5kZWZpbmVkInx8bz09bnVsbCl7bz0xMDI0fWlmKHR5cGVvZiByPT0idW5kZWZpbmVkInx8cj09bnVsbCl7cj0iMTAwMDEifXZhciBwPW5ldyBSU0FLZXkoKTtwLmdlbmVyYXRlKG8scik7dmFyIHE9bnVsbDtpZih0eXBlb2Ygcz09InVuZGVmaW5lZCJ8fHM9PW51bGwpe3E9dGhpcy5nZXRFbmNyeXB0ZWRQS0NTNVBFTUZyb21SU0FLZXkocGtleSxuKX1lbHNle3E9dGhpcy5nZXRFbmNyeXB0ZWRQS0NTNVBFTUZyb21SU0FLZXkocGtleSxuLHMpfXJldHVybiBxfSxnZXRSU0FLZXlGcm9tUGxhaW5QS0NTOFBFTTpmdW5jdGlvbihwKXtpZihwLm1hdGNoKC9FTkNSWVBURUQvKSl7dGhyb3cicGVtIHNoYWxsIGJlIG5vdCBFTkNSWVBURUQifXZhciBvPXRoaXMuZ2V0SGV4RnJvbVBFTShwLCJQUklWQVRFIEtFWSIpO3ZhciBuPXRoaXMuZ2V0UlNBS2V5RnJvbVBsYWluUEtDUzhIZXgobyk7cmV0dXJuIG59LGdldFJTQUtleUZyb21QbGFpblBLQ1M4SGV4OmZ1bmN0aW9uKHEpe3ZhciBwPUFTTjFIRVguZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHEsMCk7aWYocC5sZW5ndGghPTMpe3Rocm93Im91dGVyIERFUlNlcXVlbmNlIHNoYWxsIGhhdmUgMyBlbGVtZW50czogIitwLmxlbmd0aH12YXIgbz1BU04xSEVYLmdldEhleE9mVExWX0F0T2JqKHEscFsxXSk7aWYobyE9IjMwMGQwNjA5MmE4NjQ4ODZmNzBkMDEwMTAxMDUwMCIpe3Rocm93IlBLQ1M4IEFsZ29yaXRobUlkZW50aWZpZXIgaXMgbm90IHJzYUVuYzogIitvfXZhciBvPUFTTjFIRVguZ2V0SGV4T2ZUTFZfQXRPYmoocSxwWzFdKTt2YXIgcj1BU04xSEVYLmdldEhleE9mVExWX0F0T2JqKHEscFsyXSk7dmFyIHM9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmoociwwKTt2YXIgbj1uZXcgUlNBS2V5KCk7bi5yZWFkUHJpdmF0ZUtleUZyb21BU04xSGV4U3RyaW5nKHMpO3JldHVybiBufSxwYXJzZUhleE9mRW5jcnlwdGVkUEtDUzg6ZnVuY3Rpb24odSl7dmFyIHE9e307dmFyIHA9QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodSwwKTtpZihwLmxlbmd0aCE9Mil7dGhyb3cibWFsZm9ybWVkIGZvcm1hdDogU0VRVUVOQ0UoMCkuaXRlbXMgIT0gMjogIitwLmxlbmd0aH1xLmNpcGhlcnRleHQ9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmoodSxwWzFdKTt2YXIgdz1BU04xSEVYLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih1LHBbMF0pO2lmKHcubGVuZ3RoIT0yKXt0aHJvdyJtYWxmb3JtZWQgZm9ybWF0OiBTRVFVRU5DRSgwLjApLml0ZW1zICE9IDI6ICIrdy5sZW5ndGh9aWYoQVNOMUhFWC5nZXRIZXhPZlZfQXRPYmoodSx3WzBdKSE9IjJhODY0ODg2ZjcwZDAxMDUwZCIpe3Rocm93InRoaXMgb25seSBzdXBwb3J0cyBwa2NzNVBCRVMyIn12YXIgbj1BU04xSEVYLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih1LHdbMV0pO2lmKHcubGVuZ3RoIT0yKXt0aHJvdyJtYWxmb3JtZWQgZm9ybWF0OiBTRVFVRU5DRSgwLjAuMSkuaXRlbXMgIT0gMjogIituLmxlbmd0aH12YXIgbz1BU04xSEVYLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih1LG5bMV0pO2lmKG8ubGVuZ3RoIT0yKXt0aHJvdyJtYWxmb3JtZWQgZm9ybWF0OiBTRVFVRU5DRSgwLjAuMS4xKS5pdGVtcyAhPSAyOiAiK28ubGVuZ3RofWlmKEFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKHUsb1swXSkhPSIyYTg2NDg4NmY3MGQwMzA3Iil7dGhyb3cidGhpcyBvbmx5IHN1cHBvcnRzIFRyaXBsZURFUyJ9cS5lbmNyeXB0aW9uU2NoZW1lQWxnPSJUcmlwbGVERVMiO3EuZW5jcnlwdGlvblNjaGVtZUlWPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKHUsb1sxXSk7dmFyIHI9QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodSxuWzBdKTtpZihyLmxlbmd0aCE9Mil7dGhyb3cibWFsZm9ybWVkIGZvcm1hdDogU0VRVUVOQ0UoMC4wLjEuMCkuaXRlbXMgIT0gMjogIityLmxlbmd0aH1pZihBU04xSEVYLmdldEhleE9mVl9BdE9iaih1LHJbMF0pIT0iMmE4NjQ4ODZmNzBkMDEwNTBjIil7dGhyb3cidGhpcyBvbmx5IHN1cHBvcnRzIHBrY3M1UEJLREYyIn12YXIgdj1BU04xSEVYLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih1LHJbMV0pO2lmKHYubGVuZ3RoPDIpe3Rocm93Im1hbGZvcm1lZCBmb3JtYXQ6IFNFUVVFTkNFKDAuMC4xLjAuMSkuaXRlbXMgPCAyOiAiK3YubGVuZ3RofXEucGJrZGYyU2FsdD1BU04xSEVYLmdldEhleE9mVl9BdE9iaih1LHZbMF0pO3ZhciBzPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKHUsdlsxXSk7dHJ5e3EucGJrZGYySXRlcj1wYXJzZUludChzLDE2KX1jYXRjaCh0KXt0aHJvdyJtYWxmb3JtZWQgZm9ybWF0IHBia2RmMkl0ZXI6ICIrc31yZXR1cm4gcX0sZ2V0UEJLREYyS2V5SGV4RnJvbVBhcmFtOmZ1bmN0aW9uKHMsbil7dmFyIHI9Q3J5cHRvSlMuZW5jLkhleC5wYXJzZShzLnBia2RmMlNhbHQpO3ZhciBvPXMucGJrZGYySXRlcjt2YXIgcT1DcnlwdG9KUy5QQktERjIobixyLHtrZXlTaXplOjE5Mi8zMixpdGVyYXRpb25zOm99KTt2YXIgcD1DcnlwdG9KUy5lbmMuSGV4LnN0cmluZ2lmeShxKTtyZXR1cm4gcH0sZ2V0UGxhaW5QS0NTOEhleEZyb21FbmNyeXB0ZWRQS0NTOFBFTTpmdW5jdGlvbih2LHcpe3ZhciBwPXRoaXMuZ2V0SGV4RnJvbVBFTSh2LCJFTkNSWVBURUQgUFJJVkFURSBLRVkiKTt2YXIgbj10aGlzLnBhcnNlSGV4T2ZFbmNyeXB0ZWRQS0NTOChwKTt2YXIgcz1QS0NTNVBLRVkuZ2V0UEJLREYyS2V5SGV4RnJvbVBhcmFtKG4sdyk7dmFyIHQ9e307dC5jaXBoZXJ0ZXh0PUNyeXB0b0pTLmVuYy5IZXgucGFyc2Uobi5jaXBoZXJ0ZXh0KTt2YXIgcj1DcnlwdG9KUy5lbmMuSGV4LnBhcnNlKHMpO3ZhciBxPUNyeXB0b0pTLmVuYy5IZXgucGFyc2Uobi5lbmNyeXB0aW9uU2NoZW1lSVYpO3ZhciB1PUNyeXB0b0pTLlRyaXBsZURFUy5kZWNyeXB0KHQscix7aXY6cX0pO3ZhciBvPUNyeXB0b0pTLmVuYy5IZXguc3RyaW5naWZ5KHUpO3JldHVybiBvfSxnZXRSU0FLZXlGcm9tRW5jcnlwdGVkUEtDUzhQRU06ZnVuY3Rpb24ocSxwKXt2YXIgbz10aGlzLmdldFBsYWluUEtDUzhIZXhGcm9tRW5jcnlwdGVkUEtDUzhQRU0ocSxwKTt2YXIgbj10aGlzLmdldFJTQUtleUZyb21QbGFpblBLQ1M4SGV4KG8pO3JldHVybiBufSxnZXRLZXlGcm9tRW5jcnlwdGVkUEtDUzhQRU06ZnVuY3Rpb24ocSxvKXt2YXIgbj10aGlzLmdldFBsYWluUEtDUzhIZXhGcm9tRW5jcnlwdGVkUEtDUzhQRU0ocSxvKTt2YXIgcD10aGlzLmdldEtleUZyb21QbGFpblByaXZhdGVQS0NTOEhleChuKTtyZXR1cm4gcH0scGFyc2VQbGFpblByaXZhdGVQS0NTOEhleDpmdW5jdGlvbihxKXt2YXIgbz17fTtvLmFsZ3BhcmFtPW51bGw7aWYocS5zdWJzdHIoMCwyKSE9IjMwIil7dGhyb3cibWFsZm9ybWVkIHBsYWluIFBLQ1M4IHByaXZhdGUga2V5KGNvZGU6MDAxKSJ9dmFyIHA9QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoocSwwKTtpZihwLmxlbmd0aCE9Myl7dGhyb3cibWFsZm9ybWVkIHBsYWluIFBLQ1M4IHByaXZhdGUga2V5KGNvZGU6MDAyKSJ9aWYocS5zdWJzdHIocFsxXSwyKSE9IjMwIil7dGhyb3cibWFsZm9ybWVkIFBLQ1M4IHByaXZhdGUga2V5KGNvZGU6MDAzKSJ9dmFyIG49QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoocSxwWzFdKTtpZihuLmxlbmd0aCE9Mil7dGhyb3cibWFsZm9ybWVkIFBLQ1M4IHByaXZhdGUga2V5KGNvZGU6MDA0KSJ9aWYocS5zdWJzdHIoblswXSwyKSE9IjA2Iil7dGhyb3cibWFsZm9ybWVkIFBLQ1M4IHByaXZhdGUga2V5KGNvZGU6MDA1KSJ9by5hbGdvaWQ9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmoocSxuWzBdKTtpZihxLnN1YnN0cihuWzFdLDIpPT0iMDYiKXtvLmFsZ3BhcmFtPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKHEsblsxXSl9aWYocS5zdWJzdHIocFsyXSwyKSE9IjA0Iil7dGhyb3cibWFsZm9ybWVkIFBLQ1M4IHByaXZhdGUga2V5KGNvZGU6MDA2KSJ9by5rZXlpZHg9QVNOMUhFWC5nZXRTdGFydFBvc09mVl9BdE9iaihxLHBbMl0pO3JldHVybiBvfSxnZXRLZXlGcm9tUGxhaW5Qcml2YXRlUEtDUzhQRU06ZnVuY3Rpb24obyl7dmFyIG49dGhpcy5nZXRIZXhGcm9tUEVNKG8sIlBSSVZBVEUgS0VZIik7dmFyIHA9dGhpcy5nZXRLZXlGcm9tUGxhaW5Qcml2YXRlUEtDUzhIZXgobik7cmV0dXJuIHB9LGdldEtleUZyb21QbGFpblByaXZhdGVQS0NTOEhleDpmdW5jdGlvbihuKXt2YXIgcD10aGlzLnBhcnNlUGxhaW5Qcml2YXRlUEtDUzhIZXgobik7aWYocC5hbGdvaWQ9PSIyYTg2NDg4NmY3MGQwMTAxMDEiKXt0aGlzLnBhcnNlUHJpdmF0ZVJhd1JTQUtleUhleEF0T2JqKG4scCk7dmFyIG89cC5rZXk7dmFyIHE9bmV3IFJTQUtleSgpO3Euc2V0UHJpdmF0ZUV4KG8ubixvLmUsby5kLG8ucCxvLnEsby5kcCxvLmRxLG8uY28pO3JldHVybiBxfWVsc2V7aWYocC5hbGdvaWQ9PSIyYTg2NDhjZTNkMDIwMSIpe3RoaXMucGFyc2VQcml2YXRlUmF3RUNLZXlIZXhBdE9iaihuLHApO2lmKEtKVVIuY3J5cHRvLk9JRC5vaWRoZXgybmFtZVtwLmFsZ3BhcmFtXT09PXVuZGVmaW5lZCl7dGhyb3ciS0pVUi5jcnlwdG8uT0lELm9pZGhleDJuYW1lIHVuZGVmaW5lZDogIitwLmFsZ3BhcmFtfXZhciByPUtKVVIuY3J5cHRvLk9JRC5vaWRoZXgybmFtZVtwLmFsZ3BhcmFtXTt2YXIgcT1uZXcgS0pVUi5jcnlwdG8uRUNEU0Eoe2N1cnZlOnIscHJ2OnAua2V5fSk7cmV0dXJuIHF9ZWxzZXt0aHJvdyJ1bnN1cHBvcnRlZCBwcml2YXRlIGtleSBhbGdvcml0aG0ifX19LGdldFJTQUtleUZyb21QdWJsaWNQS0NTOFBFTTpmdW5jdGlvbihvKXt2YXIgcD10aGlzLmdldEhleEZyb21QRU0obywiUFVCTElDIEtFWSIpO3ZhciBuPXRoaXMuZ2V0UlNBS2V5RnJvbVB1YmxpY1BLQ1M4SGV4KHApO3JldHVybiBufSxnZXRLZXlGcm9tUHVibGljUEtDUzhQRU06ZnVuY3Rpb24obyl7dmFyIHA9dGhpcy5nZXRIZXhGcm9tUEVNKG8sIlBVQkxJQyBLRVkiKTt2YXIgbj10aGlzLmdldEtleUZyb21QdWJsaWNQS0NTOEhleChwKTtyZXR1cm4gbn0sZ2V0S2V5RnJvbVB1YmxpY1BLQ1M4SGV4OmZ1bmN0aW9uKG8pe3ZhciBuPXRoaXMucGFyc2VQdWJsaWNQS0NTOEhleChvKTtpZihuLmFsZ29pZD09IjJhODY0ODg2ZjcwZDAxMDEwMSIpe3ZhciByPXRoaXMucGFyc2VQdWJsaWNSYXdSU0FLZXlIZXgobi5rZXkpO3ZhciBwPW5ldyBSU0FLZXkoKTtwLnNldFB1YmxpYyhyLm4sci5lKTtyZXR1cm4gcH1lbHNle2lmKG4uYWxnb2lkPT0iMmE4NjQ4Y2UzZDAyMDEiKXtpZihLSlVSLmNyeXB0by5PSUQub2lkaGV4Mm5hbWVbbi5hbGdwYXJhbV09PT11bmRlZmluZWQpe3Rocm93IktKVVIuY3J5cHRvLk9JRC5vaWRoZXgybmFtZSB1bmRlZmluZWQ6ICIrbi5hbGdwYXJhbX12YXIgcT1LSlVSLmNyeXB0by5PSUQub2lkaGV4Mm5hbWVbbi5hbGdwYXJhbV07dmFyIHA9bmV3IEtKVVIuY3J5cHRvLkVDRFNBKHtjdXJ2ZTpxLHB1YjpuLmtleX0pO3JldHVybiBwfWVsc2V7dGhyb3cidW5zdXBwb3J0ZWQgcHVibGljIGtleSBhbGdvcml0aG0ifX19LHBhcnNlUHVibGljUmF3UlNBS2V5SGV4OmZ1bmN0aW9uKHApe3ZhciBuPXt9O2lmKHAuc3Vic3RyKDAsMikhPSIzMCIpe3Rocm93Im1hbGZvcm1lZCBSU0Ega2V5KGNvZGU6MDAxKSJ9dmFyIG89QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoocCwwKTtpZihvLmxlbmd0aCE9Mil7dGhyb3cibWFsZm9ybWVkIFJTQSBrZXkoY29kZTowMDIpIn1pZihwLnN1YnN0cihvWzBdLDIpIT0iMDIiKXt0aHJvdyJtYWxmb3JtZWQgUlNBIGtleShjb2RlOjAwMykifW4ubj1BU04xSEVYLmdldEhleE9mVl9BdE9iaihwLG9bMF0pO2lmKHAuc3Vic3RyKG9bMV0sMikhPSIwMiIpe3Rocm93Im1hbGZvcm1lZCBSU0Ega2V5KGNvZGU6MDA0KSJ9bi5lPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKHAsb1sxXSk7cmV0dXJuIG59LHBhcnNlUHJpdmF0ZVJhd1JTQUtleUhleEF0T2JqOmZ1bmN0aW9uKG8scSl7dmFyIHA9cS5rZXlpZHg7aWYoby5zdWJzdHIocCwyKSE9IjMwIil7dGhyb3cibWFsZm9ybWVkIFJTQSBwcml2YXRlIGtleShjb2RlOjAwMSkifXZhciBuPUFTTjFIRVguZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKG8scCk7aWYobi5sZW5ndGghPTkpe3Rocm93Im1hbGZvcm1lZCBSU0EgcHJpdmF0ZSBrZXkoY29kZTowMDIpIn1xLmtleT17fTtxLmtleS5uPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKG8sblsxXSk7cS5rZXkuZT1BU04xSEVYLmdldEhleE9mVl9BdE9iaihvLG5bMl0pO3Eua2V5LmQ9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmoobyxuWzNdKTtxLmtleS5wPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKG8sbls0XSk7cS5rZXkucT1BU04xSEVYLmdldEhleE9mVl9BdE9iaihvLG5bNV0pO3Eua2V5LmRwPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKG8sbls2XSk7cS5rZXkuZHE9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmoobyxuWzddKTtxLmtleS5jbz1BU04xSEVYLmdldEhleE9mVl9BdE9iaihvLG5bOF0pfSxwYXJzZVByaXZhdGVSYXdFQ0tleUhleEF0T2JqOmZ1bmN0aW9uKG8scSl7dmFyIHA9cS5rZXlpZHg7aWYoby5zdWJzdHIocCwyKSE9IjMwIil7dGhyb3cibWFsZm9ybWVkIEVDQyBwcml2YXRlIGtleShjb2RlOjAwMSkifXZhciBuPUFTTjFIRVguZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKG8scCk7aWYobi5sZW5ndGghPTMpe3Rocm93Im1hbGZvcm1lZCBFQ0MgcHJpdmF0ZSBrZXkoY29kZTowMDIpIn1pZihvLnN1YnN0cihuWzFdLDIpIT0iMDQiKXt0aHJvdyJtYWxmb3JtZWQgRUNDIHByaXZhdGUga2V5KGNvZGU6MDAzKSJ9cS5rZXk9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmoobyxuWzFdKX0scGFyc2VQdWJsaWNQS0NTOEhleDpmdW5jdGlvbihxKXt2YXIgbz17fTtvLmFsZ3BhcmFtPW51bGw7dmFyIHA9QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoocSwwKTtpZihwLmxlbmd0aCE9Mil7dGhyb3cib3V0ZXIgREVSU2VxdWVuY2Ugc2hhbGwgaGF2ZSAyIGVsZW1lbnRzOiAiK3AubGVuZ3RofXZhciByPXBbMF07aWYocS5zdWJzdHIociwyKSE9IjMwIil7dGhyb3cibWFsZm9ybWVkIFBLQ1M4IHB1YmxpYyBrZXkoY29kZTowMDEpIn12YXIgbj1BU04xSEVYLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaihxLHIpO2lmKG4ubGVuZ3RoIT0yKXt0aHJvdyJtYWxmb3JtZWQgUEtDUzggcHVibGljIGtleShjb2RlOjAwMikifWlmKHEuc3Vic3RyKG5bMF0sMikhPSIwNiIpe3Rocm93Im1hbGZvcm1lZCBQS0NTOCBwdWJsaWMga2V5KGNvZGU6MDAzKSJ9by5hbGdvaWQ9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmoocSxuWzBdKTtpZihxLnN1YnN0cihuWzFdLDIpPT0iMDYiKXtvLmFsZ3BhcmFtPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKHEsblsxXSl9aWYocS5zdWJzdHIocFsxXSwyKSE9IjAzIil7dGhyb3cibWFsZm9ybWVkIFBLQ1M4IHB1YmxpYyBrZXkoY29kZTowMDQpIn1vLmtleT1BU04xSEVYLmdldEhleE9mVl9BdE9iaihxLHBbMV0pLnN1YnN0cigyKTtyZXR1cm4gb30sZ2V0UlNBS2V5RnJvbVB1YmxpY1BLQ1M4SGV4OmZ1bmN0aW9uKHIpe3ZhciBxPUFTTjFIRVguZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHIsMCk7aWYocS5sZW5ndGghPTIpe3Rocm93Im91dGVyIERFUlNlcXVlbmNlIHNoYWxsIGhhdmUgMiBlbGVtZW50czogIitxLmxlbmd0aH12YXIgcD1BU04xSEVYLmdldEhleE9mVExWX0F0T2JqKHIscVswXSk7aWYocCE9IjMwMGQwNjA5MmE4NjQ4ODZmNzBkMDEwMTAxMDUwMCIpe3Rocm93IlBLQ1M4IEFsZ29yaXRobUlkIGlzIG5vdCByc2FFbmNyeXB0aW9uIn1pZihyLnN1YnN0cihxWzFdLDIpIT0iMDMiKXt0aHJvdyJQS0NTOCBQdWJsaWMgS2V5IGlzIG5vdCBCSVRTVFJJTkcgZW5jYXBzbGF0ZWQuIn12YXIgdD1BU04xSEVYLmdldFN0YXJ0UG9zT2ZWX0F0T2JqKHIscVsxXSkrMjtpZihyLnN1YnN0cih0LDIpIT0iMzAiKXt0aHJvdyJQS0NTOCBQdWJsaWMgS2V5IGlzIG5vdCBTRVFVRU5DRS4ifXZhciBuPUFTTjFIRVguZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHIsdCk7aWYobi5sZW5ndGghPTIpe3Rocm93ImlubmVyIERFUlNlcXVlbmNlIHNoYWxsIGhhdmUgMiBlbGVtZW50czogIituLmxlbmd0aH1pZihyLnN1YnN0cihuWzBdLDIpIT0iMDIiKXt0aHJvdyJOIGlzIG5vdCBBU04uMSBJTlRFR0VSIn1pZihyLnN1YnN0cihuWzFdLDIpIT0iMDIiKXt0aHJvdyJFIGlzIG5vdCBBU04uMSBJTlRFR0VSIn12YXIgdT1BU04xSEVYLmdldEhleE9mVl9BdE9iaihyLG5bMF0pO3ZhciBzPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKHIsblsxXSk7dmFyIG89bmV3IFJTQUtleSgpO28uc2V0UHVibGljKHUscyk7cmV0dXJuIG99LH19KCk7Ci8qISBrZXl1dGlsLTEuMC4xMi5qcyAoYykgMjAxMy0yMDE1IEtlbmppIFVydXNoaW1hIHwga2p1ci5naXRodWIuY29tL2pzcnNhc2lnbi9saWNlbnNlCiAqLwp2YXIgS0VZVVRJTD1mdW5jdGlvbigpe3ZhciBkPWZ1bmN0aW9uKHAscixxKXtyZXR1cm4gayhDcnlwdG9KUy5BRVMscCxyLHEpfTt2YXIgZT1mdW5jdGlvbihwLHIscSl7cmV0dXJuIGsoQ3J5cHRvSlMuVHJpcGxlREVTLHAscixxKX07dmFyIGE9ZnVuY3Rpb24ocCxyLHEpe3JldHVybiBrKENyeXB0b0pTLkRFUyxwLHIscSl9O3ZhciBrPWZ1bmN0aW9uKHMseCx1LHEpe3ZhciByPUNyeXB0b0pTLmVuYy5IZXgucGFyc2UoeCk7dmFyIHc9Q3J5cHRvSlMuZW5jLkhleC5wYXJzZSh1KTt2YXIgcD1DcnlwdG9KUy5lbmMuSGV4LnBhcnNlKHEpO3ZhciB0PXt9O3Qua2V5PXc7dC5pdj1wO3QuY2lwaGVydGV4dD1yO3ZhciB2PXMuZGVjcnlwdCh0LHcse2l2OnB9KTtyZXR1cm4gQ3J5cHRvSlMuZW5jLkhleC5zdHJpbmdpZnkodil9O3ZhciBsPWZ1bmN0aW9uKHAscixxKXtyZXR1cm4gZyhDcnlwdG9KUy5BRVMscCxyLHEpfTt2YXIgbz1mdW5jdGlvbihwLHIscSl7cmV0dXJuIGcoQ3J5cHRvSlMuVHJpcGxlREVTLHAscixxKX07dmFyIGY9ZnVuY3Rpb24ocCxyLHEpe3JldHVybiBnKENyeXB0b0pTLkRFUyxwLHIscSl9O3ZhciBnPWZ1bmN0aW9uKHQseSx2LHEpe3ZhciBzPUNyeXB0b0pTLmVuYy5IZXgucGFyc2UoeSk7dmFyIHg9Q3J5cHRvSlMuZW5jLkhleC5wYXJzZSh2KTt2YXIgcD1DcnlwdG9KUy5lbmMuSGV4LnBhcnNlKHEpO3ZhciB3PXQuZW5jcnlwdChzLHgse2l2OnB9KTt2YXIgcj1DcnlwdG9KUy5lbmMuSGV4LnBhcnNlKHcudG9TdHJpbmcoKSk7dmFyIHU9Q3J5cHRvSlMuZW5jLkJhc2U2NC5zdHJpbmdpZnkocik7cmV0dXJuIHV9O3ZhciBpPXsiQUVTLTI1Ni1DQkMiOntwcm9jOmQsZXByb2M6bCxrZXlsZW46MzIsaXZsZW46MTZ9LCJBRVMtMTkyLUNCQyI6e3Byb2M6ZCxlcHJvYzpsLGtleWxlbjoyNCxpdmxlbjoxNn0sIkFFUy0xMjgtQ0JDIjp7cHJvYzpkLGVwcm9jOmwsa2V5bGVuOjE2LGl2bGVuOjE2fSwiREVTLUVERTMtQ0JDIjp7cHJvYzplLGVwcm9jOm8sa2V5bGVuOjI0LGl2bGVuOjh9LCJERVMtQ0JDIjp7cHJvYzphLGVwcm9jOmYsa2V5bGVuOjgsaXZsZW46OH19O3ZhciBjPWZ1bmN0aW9uKHApe3JldHVybiBpW3BdWyJwcm9jIl19O3ZhciBtPWZ1bmN0aW9uKHApe3ZhciByPUNyeXB0b0pTLmxpYi5Xb3JkQXJyYXkucmFuZG9tKHApO3ZhciBxPUNyeXB0b0pTLmVuYy5IZXguc3RyaW5naWZ5KHIpO3JldHVybiBxfTt2YXIgbj1mdW5jdGlvbih0KXt2YXIgdT17fTtpZih0Lm1hdGNoKG5ldyBSZWdFeHAoIkRFSy1JbmZvOiAoW14sXSspLChbMC05QS1GYS1mXSspIiwibSIpKSl7dS5jaXBoZXI9UmVnRXhwLiQxO3UuaXZzYWx0PVJlZ0V4cC4kMn1pZih0Lm1hdGNoKG5ldyBSZWdFeHAoIi0tLS0tQkVHSU4gKFtBLVpdKykgUFJJVkFURSBLRVktLS0tLSIpKSl7dS50eXBlPVJlZ0V4cC4kMX12YXIgcj0tMTt2YXIgdj0wO2lmKHQuaW5kZXhPZigiXHJcblxyXG4iKSE9LTEpe3I9dC5pbmRleE9mKCJcclxuXHJcbiIpO3Y9Mn1pZih0LmluZGV4T2YoIlxuXG4iKSE9LTEpe3I9dC5pbmRleE9mKCJcblxuIik7dj0xfXZhciBxPXQuaW5kZXhPZigiLS0tLS1FTkQiKTtpZihyIT0tMSYmcSE9LTEpe3ZhciBwPXQuc3Vic3RyaW5nKHIrdioyLHEtdik7cD1wLnJlcGxhY2UoL1xzKy9nLCIiKTt1LmRhdGE9cH1yZXR1cm4gdX07dmFyIGo9ZnVuY3Rpb24ocSx5LHApe3ZhciB2PXAuc3Vic3RyaW5nKDAsMTYpO3ZhciB0PUNyeXB0b0pTLmVuYy5IZXgucGFyc2Uodik7dmFyIHI9Q3J5cHRvSlMuZW5jLlV0ZjgucGFyc2UoeSk7dmFyIHU9aVtxXVsia2V5bGVuIl0raVtxXVsiaXZsZW4iXTt2YXIgeD0iIjt2YXIgdz1udWxsO2Zvcig7Oyl7dmFyIHM9Q3J5cHRvSlMuYWxnby5NRDUuY3JlYXRlKCk7aWYodyE9bnVsbCl7cy51cGRhdGUodyl9cy51cGRhdGUocik7cy51cGRhdGUodCk7dz1zLmZpbmFsaXplKCk7eD14K0NyeXB0b0pTLmVuYy5IZXguc3RyaW5naWZ5KHcpO2lmKHgubGVuZ3RoPj11KjIpe2JyZWFrfX12YXIgej17fTt6LmtleWhleD14LnN1YnN0cigwLGlbcV1bImtleWxlbiJdKjIpO3ouaXZoZXg9eC5zdWJzdHIoaVtxXVsia2V5bGVuIl0qMixpW3FdWyJpdmxlbiJdKjIpO3JldHVybiB6fTt2YXIgYj1mdW5jdGlvbihwLHYscix3KXt2YXIgcz1DcnlwdG9KUy5lbmMuQmFzZTY0LnBhcnNlKHApO3ZhciBxPUNyeXB0b0pTLmVuYy5IZXguc3RyaW5naWZ5KHMpO3ZhciB1PWlbdl1bInByb2MiXTt2YXIgdD11KHEscix3KTtyZXR1cm4gdH07dmFyIGg9ZnVuY3Rpb24ocCxzLHEsdSl7dmFyIHI9aVtzXVsiZXByb2MiXTt2YXIgdD1yKHAscSx1KTtyZXR1cm4gdH07cmV0dXJue3ZlcnNpb246IjEuMC4wIixnZXRIZXhGcm9tUEVNOmZ1bmN0aW9uKHEsdSl7dmFyIHI9cTtpZihyLmluZGV4T2YoIi0tLS0tQkVHSU4gIik9PS0xKXt0aHJvdyJjYW4ndCBmaW5kIFBFTSBoZWFkZXI6ICIrdX1pZih0eXBlb2YgdT09InN0cmluZyImJnUhPSIiKXtyPXIucmVwbGFjZSgiLS0tLS1CRUdJTiAiK3UrIi0tLS0tIiwiIik7cj1yLnJlcGxhY2UoIi0tLS0tRU5EICIrdSsiLS0tLS0iLCIiKX1lbHNle3I9ci5yZXBsYWNlKC8tLS0tLUJFR0lOIFteLV0rLS0tLS0vLCIiKTtyPXIucmVwbGFjZSgvLS0tLS1FTkQgW14tXSstLS0tLS8sIiIpfXZhciB0PXIucmVwbGFjZSgvXHMrL2csIiIpO3ZhciBwPWI2NHRvaGV4KHQpO3JldHVybiBwfSxnZXREZWNyeXB0ZWRLZXlIZXhCeUtleUlWOmZ1bmN0aW9uKHEsdCxzLHIpe3ZhciBwPWModCk7cmV0dXJuIHAocSxzLHIpfSxwYXJzZVBLQ1M1UEVNOmZ1bmN0aW9uKHApe3JldHVybiBuKHApfSxnZXRLZXlBbmRVbnVzZWRJdkJ5UGFzc2NvZGVBbmRJdnNhbHQ6ZnVuY3Rpb24ocSxwLHIpe3JldHVybiBqKHEscCxyKX0sZGVjcnlwdEtleUI2NDpmdW5jdGlvbihwLHIscSxzKXtyZXR1cm4gYihwLHIscSxzKX0sZ2V0RGVjcnlwdGVkS2V5SGV4OmZ1bmN0aW9uKHkseCl7dmFyIHE9bih5KTt2YXIgdD1xLnR5cGU7dmFyIHI9cS5jaXBoZXI7dmFyIHA9cS5pdnNhbHQ7dmFyIHM9cS5kYXRhO3ZhciB3PWoocix4LHApO3ZhciB2PXcua2V5aGV4O3ZhciB1PWIocyxyLHYscCk7cmV0dXJuIHV9LGdldFJTQUtleUZyb21FbmNyeXB0ZWRQS0NTNVBFTTpmdW5jdGlvbihyLHEpe3ZhciBzPXRoaXMuZ2V0RGVjcnlwdGVkS2V5SGV4KHIscSk7dmFyIHA9bmV3IFJTQUtleSgpO3AucmVhZFByaXZhdGVLZXlGcm9tQVNOMUhleFN0cmluZyhzKTtyZXR1cm4gcH0sZ2V0RW5jcnlwdGVkUEtDUzVQRU1Gcm9tUHJ2S2V5SGV4OmZ1bmN0aW9uKHgscyxBLHQscil7dmFyIHA9IiI7aWYodHlwZW9mIHQ9PSJ1bmRlZmluZWQifHx0PT1udWxsKXt0PSJBRVMtMjU2LUNCQyJ9aWYodHlwZW9mIGlbdF09PSJ1bmRlZmluZWQiKXt0aHJvdyJLRVlVVElMIHVuc3VwcG9ydGVkIGFsZ29yaXRobTogIit0fWlmKHR5cGVvZiByPT0idW5kZWZpbmVkInx8cj09bnVsbCl7dmFyIHY9aVt0XVsiaXZsZW4iXTt2YXIgdT1tKHYpO3I9dS50b1VwcGVyQ2FzZSgpfXZhciB6PWoodCxBLHIpO3ZhciB5PXoua2V5aGV4O3ZhciB3PWgocyx0LHkscik7dmFyIHE9dy5yZXBsYWNlKC8oLns2NH0pL2csIiQxXHJcbiIpO3ZhciBwPSItLS0tLUJFR0lOICIreCsiIFBSSVZBVEUgS0VZLS0tLS1cclxuIjtwKz0iUHJvYy1UeXBlOiA0LEVOQ1JZUFRFRFxyXG4iO3ArPSJERUstSW5mbzogIit0KyIsIityKyJcclxuIjtwKz0iXHJcbiI7cCs9cTtwKz0iXHJcbi0tLS0tRU5EICIreCsiIFBSSVZBVEUgS0VZLS0tLS1cclxuIjtyZXR1cm4gcH0sZ2V0RW5jcnlwdGVkUEtDUzVQRU1Gcm9tUlNBS2V5OmZ1bmN0aW9uKEQsRSxyLHQpe3ZhciBCPW5ldyBLSlVSLmFzbjEuREVSSW50ZWdlcih7ImludCI6MH0pO3ZhciB3PW5ldyBLSlVSLmFzbjEuREVSSW50ZWdlcih7YmlnaW50OkQubn0pO3ZhciBBPW5ldyBLSlVSLmFzbjEuREVSSW50ZWdlcih7ImludCI6RC5lfSk7dmFyIEM9bmV3IEtKVVIuYXNuMS5ERVJJbnRlZ2VyKHtiaWdpbnQ6RC5kfSk7dmFyIHU9bmV3IEtKVVIuYXNuMS5ERVJJbnRlZ2VyKHtiaWdpbnQ6RC5wfSk7dmFyIHM9bmV3IEtKVVIuYXNuMS5ERVJJbnRlZ2VyKHtiaWdpbnQ6RC5xfSk7dmFyIHo9bmV3IEtKVVIuYXNuMS5ERVJJbnRlZ2VyKHtiaWdpbnQ6RC5kbXAxfSk7dmFyIHY9bmV3IEtKVVIuYXNuMS5ERVJJbnRlZ2VyKHtiaWdpbnQ6RC5kbXExfSk7dmFyIHk9bmV3IEtKVVIuYXNuMS5ERVJJbnRlZ2VyKHtiaWdpbnQ6RC5jb2VmZn0pO3ZhciBGPW5ldyBLSlVSLmFzbjEuREVSU2VxdWVuY2Uoe2FycmF5OltCLHcsQSxDLHUscyx6LHYseV19KTt2YXIgeD1GLmdldEVuY29kZWRIZXgoKTtyZXR1cm4gdGhpcy5nZXRFbmNyeXB0ZWRQS0NTNVBFTUZyb21QcnZLZXlIZXgoIlJTQSIseCxFLHIsdCl9LG5ld0VuY3J5cHRlZFBLQ1M1UEVNOmZ1bmN0aW9uKHAscSx0LHUpe2lmKHR5cGVvZiBxPT0idW5kZWZpbmVkInx8cT09bnVsbCl7cT0xMDI0fWlmKHR5cGVvZiB0PT0idW5kZWZpbmVkInx8dD09bnVsbCl7dD0iMTAwMDEifXZhciByPW5ldyBSU0FLZXkoKTtyLmdlbmVyYXRlKHEsdCk7dmFyIHM9bnVsbDtpZih0eXBlb2YgdT09InVuZGVmaW5lZCJ8fHU9PW51bGwpe3M9dGhpcy5nZXRFbmNyeXB0ZWRQS0NTNVBFTUZyb21SU0FLZXkocixwKX1lbHNle3M9dGhpcy5nZXRFbmNyeXB0ZWRQS0NTNVBFTUZyb21SU0FLZXkocixwLHUpfXJldHVybiBzfSxnZXRSU0FLZXlGcm9tUGxhaW5QS0NTOFBFTTpmdW5jdGlvbihyKXtpZihyLm1hdGNoKC9FTkNSWVBURUQvKSl7dGhyb3cicGVtIHNoYWxsIGJlIG5vdCBFTkNSWVBURUQifXZhciBxPXRoaXMuZ2V0SGV4RnJvbVBFTShyLCJQUklWQVRFIEtFWSIpO3ZhciBwPXRoaXMuZ2V0UlNBS2V5RnJvbVBsYWluUEtDUzhIZXgocSk7cmV0dXJuIHB9LGdldFJTQUtleUZyb21QbGFpblBLQ1M4SGV4OmZ1bmN0aW9uKHMpe3ZhciByPUFTTjFIRVguZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHMsMCk7aWYoci5sZW5ndGghPTMpe3Rocm93Im91dGVyIERFUlNlcXVlbmNlIHNoYWxsIGhhdmUgMyBlbGVtZW50czogIityLmxlbmd0aH12YXIgcT1BU04xSEVYLmdldEhleE9mVExWX0F0T2JqKHMsclsxXSk7aWYocSE9IjMwMGQwNjA5MmE4NjQ4ODZmNzBkMDEwMTAxMDUwMCIpe3Rocm93IlBLQ1M4IEFsZ29yaXRobUlkZW50aWZpZXIgaXMgbm90IHJzYUVuYzogIitxfXZhciBxPUFTTjFIRVguZ2V0SGV4T2ZUTFZfQXRPYmoocyxyWzFdKTt2YXIgdD1BU04xSEVYLmdldEhleE9mVExWX0F0T2JqKHMsclsyXSk7dmFyIHU9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmoodCwwKTt2YXIgcD1uZXcgUlNBS2V5KCk7cC5yZWFkUHJpdmF0ZUtleUZyb21BU04xSGV4U3RyaW5nKHUpO3JldHVybiBwfSxwYXJzZUhleE9mRW5jcnlwdGVkUEtDUzg6ZnVuY3Rpb24odyl7dmFyIHM9e307dmFyIHI9QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodywwKTtpZihyLmxlbmd0aCE9Mil7dGhyb3cibWFsZm9ybWVkIGZvcm1hdDogU0VRVUVOQ0UoMCkuaXRlbXMgIT0gMjogIityLmxlbmd0aH1zLmNpcGhlcnRleHQ9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmoodyxyWzFdKTt2YXIgeT1BU04xSEVYLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih3LHJbMF0pO2lmKHkubGVuZ3RoIT0yKXt0aHJvdyJtYWxmb3JtZWQgZm9ybWF0OiBTRVFVRU5DRSgwLjApLml0ZW1zICE9IDI6ICIreS5sZW5ndGh9aWYoQVNOMUhFWC5nZXRIZXhPZlZfQXRPYmoodyx5WzBdKSE9IjJhODY0ODg2ZjcwZDAxMDUwZCIpe3Rocm93InRoaXMgb25seSBzdXBwb3J0cyBwa2NzNVBCRVMyIn12YXIgcD1BU04xSEVYLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih3LHlbMV0pO2lmKHkubGVuZ3RoIT0yKXt0aHJvdyJtYWxmb3JtZWQgZm9ybWF0OiBTRVFVRU5DRSgwLjAuMSkuaXRlbXMgIT0gMjogIitwLmxlbmd0aH12YXIgcT1BU04xSEVYLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih3LHBbMV0pO2lmKHEubGVuZ3RoIT0yKXt0aHJvdyJtYWxmb3JtZWQgZm9ybWF0OiBTRVFVRU5DRSgwLjAuMS4xKS5pdGVtcyAhPSAyOiAiK3EubGVuZ3RofWlmKEFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKHcscVswXSkhPSIyYTg2NDg4NmY3MGQwMzA3Iil7dGhyb3cidGhpcyBvbmx5IHN1cHBvcnRzIFRyaXBsZURFUyJ9cy5lbmNyeXB0aW9uU2NoZW1lQWxnPSJUcmlwbGVERVMiO3MuZW5jcnlwdGlvblNjaGVtZUlWPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKHcscVsxXSk7dmFyIHQ9QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoodyxwWzBdKTtpZih0Lmxlbmd0aCE9Mil7dGhyb3cibWFsZm9ybWVkIGZvcm1hdDogU0VRVUVOQ0UoMC4wLjEuMCkuaXRlbXMgIT0gMjogIit0Lmxlbmd0aH1pZihBU04xSEVYLmdldEhleE9mVl9BdE9iaih3LHRbMF0pIT0iMmE4NjQ4ODZmNzBkMDEwNTBjIil7dGhyb3cidGhpcyBvbmx5IHN1cHBvcnRzIHBrY3M1UEJLREYyIn12YXIgeD1BU04xSEVYLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaih3LHRbMV0pO2lmKHgubGVuZ3RoPDIpe3Rocm93Im1hbGZvcm1lZCBmb3JtYXQ6IFNFUVVFTkNFKDAuMC4xLjAuMSkuaXRlbXMgPCAyOiAiK3gubGVuZ3RofXMucGJrZGYyU2FsdD1BU04xSEVYLmdldEhleE9mVl9BdE9iaih3LHhbMF0pO3ZhciB1PUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKHcseFsxXSk7dHJ5e3MucGJrZGYySXRlcj1wYXJzZUludCh1LDE2KX1jYXRjaCh2KXt0aHJvdyJtYWxmb3JtZWQgZm9ybWF0IHBia2RmMkl0ZXI6ICIrdX1yZXR1cm4gc30sZ2V0UEJLREYyS2V5SGV4RnJvbVBhcmFtOmZ1bmN0aW9uKHUscCl7dmFyIHQ9Q3J5cHRvSlMuZW5jLkhleC5wYXJzZSh1LnBia2RmMlNhbHQpO3ZhciBxPXUucGJrZGYySXRlcjt2YXIgcz1DcnlwdG9KUy5QQktERjIocCx0LHtrZXlTaXplOjE5Mi8zMixpdGVyYXRpb25zOnF9KTt2YXIgcj1DcnlwdG9KUy5lbmMuSGV4LnN0cmluZ2lmeShzKTtyZXR1cm4gcn0sZ2V0UGxhaW5QS0NTOEhleEZyb21FbmNyeXB0ZWRQS0NTOFBFTTpmdW5jdGlvbih4LHkpe3ZhciByPXRoaXMuZ2V0SGV4RnJvbVBFTSh4LCJFTkNSWVBURUQgUFJJVkFURSBLRVkiKTt2YXIgcD10aGlzLnBhcnNlSGV4T2ZFbmNyeXB0ZWRQS0NTOChyKTt2YXIgdT1LRVlVVElMLmdldFBCS0RGMktleUhleEZyb21QYXJhbShwLHkpO3ZhciB2PXt9O3YuY2lwaGVydGV4dD1DcnlwdG9KUy5lbmMuSGV4LnBhcnNlKHAuY2lwaGVydGV4dCk7dmFyIHQ9Q3J5cHRvSlMuZW5jLkhleC5wYXJzZSh1KTt2YXIgcz1DcnlwdG9KUy5lbmMuSGV4LnBhcnNlKHAuZW5jcnlwdGlvblNjaGVtZUlWKTt2YXIgdz1DcnlwdG9KUy5UcmlwbGVERVMuZGVjcnlwdCh2LHQse2l2OnN9KTt2YXIgcT1DcnlwdG9KUy5lbmMuSGV4LnN0cmluZ2lmeSh3KTtyZXR1cm4gcX0sZ2V0UlNBS2V5RnJvbUVuY3J5cHRlZFBLQ1M4UEVNOmZ1bmN0aW9uKHMscil7dmFyIHE9dGhpcy5nZXRQbGFpblBLQ1M4SGV4RnJvbUVuY3J5cHRlZFBLQ1M4UEVNKHMscik7dmFyIHA9dGhpcy5nZXRSU0FLZXlGcm9tUGxhaW5QS0NTOEhleChxKTtyZXR1cm4gcH0sZ2V0S2V5RnJvbUVuY3J5cHRlZFBLQ1M4UEVNOmZ1bmN0aW9uKHMscSl7dmFyIHA9dGhpcy5nZXRQbGFpblBLQ1M4SGV4RnJvbUVuY3J5cHRlZFBLQ1M4UEVNKHMscSk7dmFyIHI9dGhpcy5nZXRLZXlGcm9tUGxhaW5Qcml2YXRlUEtDUzhIZXgocCk7cmV0dXJuIHJ9LHBhcnNlUGxhaW5Qcml2YXRlUEtDUzhIZXg6ZnVuY3Rpb24ocyl7dmFyIHE9e307cS5hbGdwYXJhbT1udWxsO2lmKHMuc3Vic3RyKDAsMikhPSIzMCIpe3Rocm93Im1hbGZvcm1lZCBwbGFpbiBQS0NTOCBwcml2YXRlIGtleShjb2RlOjAwMSkifXZhciByPUFTTjFIRVguZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHMsMCk7aWYoci5sZW5ndGghPTMpe3Rocm93Im1hbGZvcm1lZCBwbGFpbiBQS0NTOCBwcml2YXRlIGtleShjb2RlOjAwMikifWlmKHMuc3Vic3RyKHJbMV0sMikhPSIzMCIpe3Rocm93Im1hbGZvcm1lZCBQS0NTOCBwcml2YXRlIGtleShjb2RlOjAwMykifXZhciBwPUFTTjFIRVguZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHMsclsxXSk7aWYocC5sZW5ndGghPTIpe3Rocm93Im1hbGZvcm1lZCBQS0NTOCBwcml2YXRlIGtleShjb2RlOjAwNCkifWlmKHMuc3Vic3RyKHBbMF0sMikhPSIwNiIpe3Rocm93Im1hbGZvcm1lZCBQS0NTOCBwcml2YXRlIGtleShjb2RlOjAwNSkifXEuYWxnb2lkPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKHMscFswXSk7aWYocy5zdWJzdHIocFsxXSwyKT09IjA2Iil7cS5hbGdwYXJhbT1BU04xSEVYLmdldEhleE9mVl9BdE9iaihzLHBbMV0pfWlmKHMuc3Vic3RyKHJbMl0sMikhPSIwNCIpe3Rocm93Im1hbGZvcm1lZCBQS0NTOCBwcml2YXRlIGtleShjb2RlOjAwNikifXEua2V5aWR4PUFTTjFIRVguZ2V0U3RhcnRQb3NPZlZfQXRPYmoocyxyWzJdKTtyZXR1cm4gcX0sZ2V0S2V5RnJvbVBsYWluUHJpdmF0ZVBLQ1M4UEVNOmZ1bmN0aW9uKHEpe3ZhciBwPXRoaXMuZ2V0SGV4RnJvbVBFTShxLCJQUklWQVRFIEtFWSIpO3ZhciByPXRoaXMuZ2V0S2V5RnJvbVBsYWluUHJpdmF0ZVBLQ1M4SGV4KHApO3JldHVybiByfSxnZXRLZXlGcm9tUGxhaW5Qcml2YXRlUEtDUzhIZXg6ZnVuY3Rpb24ocCl7dmFyIHc9dGhpcy5wYXJzZVBsYWluUHJpdmF0ZVBLQ1M4SGV4KHApO2lmKHcuYWxnb2lkPT0iMmE4NjQ4ODZmNzBkMDEwMTAxIil7dGhpcy5wYXJzZVByaXZhdGVSYXdSU0FLZXlIZXhBdE9iaihwLHcpO3ZhciB1PXcua2V5O3ZhciB6PW5ldyBSU0FLZXkoKTt6LnNldFByaXZhdGVFeCh1Lm4sdS5lLHUuZCx1LnAsdS5xLHUuZHAsdS5kcSx1LmNvKTtyZXR1cm4gen1lbHNle2lmKHcuYWxnb2lkPT0iMmE4NjQ4Y2UzZDAyMDEiKXt0aGlzLnBhcnNlUHJpdmF0ZVJhd0VDS2V5SGV4QXRPYmoocCx3KTtpZihLSlVSLmNyeXB0by5PSUQub2lkaGV4Mm5hbWVbdy5hbGdwYXJhbV09PT11bmRlZmluZWQpe3Rocm93IktKVVIuY3J5cHRvLk9JRC5vaWRoZXgybmFtZSB1bmRlZmluZWQ6ICIrdy5hbGdwYXJhbX12YXIgdj1LSlVSLmNyeXB0by5PSUQub2lkaGV4Mm5hbWVbdy5hbGdwYXJhbV07dmFyIHo9bmV3IEtKVVIuY3J5cHRvLkVDRFNBKHtjdXJ2ZTp2fSk7ei5zZXRQdWJsaWNLZXlIZXgody5wdWJrZXkpO3ouc2V0UHJpdmF0ZUtleUhleCh3LmtleSk7ei5pc1B1YmxpYz1mYWxzZTtyZXR1cm4gen1lbHNle2lmKHcuYWxnb2lkPT0iMmE4NjQ4Y2UzODA0MDEiKXt2YXIgdD1BU04xSEVYLmdldFZieUxpc3QocCwwLFsxLDEsMF0sIjAyIik7dmFyIHM9QVNOMUhFWC5nZXRWYnlMaXN0KHAsMCxbMSwxLDFdLCIwMiIpO3ZhciB5PUFTTjFIRVguZ2V0VmJ5TGlzdChwLDAsWzEsMSwyXSwiMDIiKTt2YXIgQj1BU04xSEVYLmdldFZieUxpc3QocCwwLFsyLDBdLCIwMiIpO3ZhciByPW5ldyBCaWdJbnRlZ2VyKHQsMTYpO3ZhciBxPW5ldyBCaWdJbnRlZ2VyKHMsMTYpO3ZhciB4PW5ldyBCaWdJbnRlZ2VyKHksMTYpO3ZhciBBPW5ldyBCaWdJbnRlZ2VyKEIsMTYpO3ZhciB6PW5ldyBLSlVSLmNyeXB0by5EU0EoKTt6LnNldFByaXZhdGUocixxLHgsbnVsbCxBKTtyZXR1cm4gen1lbHNle3Rocm93InVuc3VwcG9ydGVkIHByaXZhdGUga2V5IGFsZ29yaXRobSJ9fX19LGdldFJTQUtleUZyb21QdWJsaWNQS0NTOFBFTTpmdW5jdGlvbihxKXt2YXIgcj10aGlzLmdldEhleEZyb21QRU0ocSwiUFVCTElDIEtFWSIpO3ZhciBwPXRoaXMuZ2V0UlNBS2V5RnJvbVB1YmxpY1BLQ1M4SGV4KHIpO3JldHVybiBwfSxnZXRLZXlGcm9tUHVibGljUEtDUzhQRU06ZnVuY3Rpb24ocSl7dmFyIHI9dGhpcy5nZXRIZXhGcm9tUEVNKHEsIlBVQkxJQyBLRVkiKTt2YXIgcD10aGlzLmdldEtleUZyb21QdWJsaWNQS0NTOEhleChyKTtyZXR1cm4gcH0sZ2V0S2V5RnJvbVB1YmxpY1BLQ1M4SGV4OmZ1bmN0aW9uKHEpe3ZhciBwPXRoaXMucGFyc2VQdWJsaWNQS0NTOEhleChxKTtpZihwLmFsZ29pZD09IjJhODY0ODg2ZjcwZDAxMDEwMSIpe3ZhciB1PXRoaXMucGFyc2VQdWJsaWNSYXdSU0FLZXlIZXgocC5rZXkpO3ZhciByPW5ldyBSU0FLZXkoKTtyLnNldFB1YmxpYyh1Lm4sdS5lKTtyZXR1cm4gcn1lbHNle2lmKHAuYWxnb2lkPT0iMmE4NjQ4Y2UzZDAyMDEiKXtpZihLSlVSLmNyeXB0by5PSUQub2lkaGV4Mm5hbWVbcC5hbGdwYXJhbV09PT11bmRlZmluZWQpe3Rocm93IktKVVIuY3J5cHRvLk9JRC5vaWRoZXgybmFtZSB1bmRlZmluZWQ6ICIrcC5hbGdwYXJhbX12YXIgcz1LSlVSLmNyeXB0by5PSUQub2lkaGV4Mm5hbWVbcC5hbGdwYXJhbV07dmFyIHI9bmV3IEtKVVIuY3J5cHRvLkVDRFNBKHtjdXJ2ZTpzLHB1YjpwLmtleX0pO3JldHVybiByfWVsc2V7aWYocC5hbGdvaWQ9PSIyYTg2NDhjZTM4MDQwMSIpe3ZhciB0PXAuYWxncGFyYW07dmFyIHY9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmoocC5rZXksMCk7dmFyIHI9bmV3IEtKVVIuY3J5cHRvLkRTQSgpO3Iuc2V0UHVibGljKG5ldyBCaWdJbnRlZ2VyKHQucCwxNiksbmV3IEJpZ0ludGVnZXIodC5xLDE2KSxuZXcgQmlnSW50ZWdlcih0LmcsMTYpLG5ldyBCaWdJbnRlZ2VyKHYsMTYpKTtyZXR1cm4gcn1lbHNle3Rocm93InVuc3VwcG9ydGVkIHB1YmxpYyBrZXkgYWxnb3JpdGhtIn19fX0scGFyc2VQdWJsaWNSYXdSU0FLZXlIZXg6ZnVuY3Rpb24ocil7dmFyIHA9e307aWYoci5zdWJzdHIoMCwyKSE9IjMwIil7dGhyb3cibWFsZm9ybWVkIFJTQSBrZXkoY29kZTowMDEpIn12YXIgcT1BU04xSEVYLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaihyLDApO2lmKHEubGVuZ3RoIT0yKXt0aHJvdyJtYWxmb3JtZWQgUlNBIGtleShjb2RlOjAwMikifWlmKHIuc3Vic3RyKHFbMF0sMikhPSIwMiIpe3Rocm93Im1hbGZvcm1lZCBSU0Ega2V5KGNvZGU6MDAzKSJ9cC5uPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKHIscVswXSk7aWYoci5zdWJzdHIocVsxXSwyKSE9IjAyIil7dGhyb3cibWFsZm9ybWVkIFJTQSBrZXkoY29kZTowMDQpIn1wLmU9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmoocixxWzFdKTtyZXR1cm4gcH0scGFyc2VQcml2YXRlUmF3UlNBS2V5SGV4QXRPYmo6ZnVuY3Rpb24ocSxzKXt2YXIgcj1zLmtleWlkeDtpZihxLnN1YnN0cihyLDIpIT0iMzAiKXt0aHJvdyJtYWxmb3JtZWQgUlNBIHByaXZhdGUga2V5KGNvZGU6MDAxKSJ9dmFyIHA9QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoocSxyKTtpZihwLmxlbmd0aCE9OSl7dGhyb3cibWFsZm9ybWVkIFJTQSBwcml2YXRlIGtleShjb2RlOjAwMikifXMua2V5PXt9O3Mua2V5Lm49QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmoocSxwWzFdKTtzLmtleS5lPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKHEscFsyXSk7cy5rZXkuZD1BU04xSEVYLmdldEhleE9mVl9BdE9iaihxLHBbM10pO3Mua2V5LnA9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmoocSxwWzRdKTtzLmtleS5xPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKHEscFs1XSk7cy5rZXkuZHA9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmoocSxwWzZdKTtzLmtleS5kcT1BU04xSEVYLmdldEhleE9mVl9BdE9iaihxLHBbN10pO3Mua2V5LmNvPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKHEscFs4XSl9LHBhcnNlUHJpdmF0ZVJhd0VDS2V5SGV4QXRPYmo6ZnVuY3Rpb24ocCx0KXt2YXIgcT10LmtleWlkeDt2YXIgcj1BU04xSEVYLmdldFZieUxpc3QocCxxLFsxXSwiMDQiKTt2YXIgcz1BU04xSEVYLmdldFZieUxpc3QocCxxLFsyLDBdLCIwMyIpLnN1YnN0cigyKTt0LmtleT1yO3QucHVia2V5PXN9LHBhcnNlUHVibGljUEtDUzhIZXg6ZnVuY3Rpb24ocyl7dmFyIHE9e307cS5hbGdwYXJhbT1udWxsO3ZhciByPUFTTjFIRVguZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHMsMCk7aWYoci5sZW5ndGghPTIpe3Rocm93Im91dGVyIERFUlNlcXVlbmNlIHNoYWxsIGhhdmUgMiBlbGVtZW50czogIityLmxlbmd0aH12YXIgdD1yWzBdO2lmKHMuc3Vic3RyKHQsMikhPSIzMCIpe3Rocm93Im1hbGZvcm1lZCBQS0NTOCBwdWJsaWMga2V5KGNvZGU6MDAxKSJ9dmFyIHA9QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmoocyx0KTtpZihwLmxlbmd0aCE9Mil7dGhyb3cibWFsZm9ybWVkIFBLQ1M4IHB1YmxpYyBrZXkoY29kZTowMDIpIn1pZihzLnN1YnN0cihwWzBdLDIpIT0iMDYiKXt0aHJvdyJtYWxmb3JtZWQgUEtDUzggcHVibGljIGtleShjb2RlOjAwMykifXEuYWxnb2lkPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKHMscFswXSk7aWYocy5zdWJzdHIocFsxXSwyKT09IjA2Iil7cS5hbGdwYXJhbT1BU04xSEVYLmdldEhleE9mVl9BdE9iaihzLHBbMV0pfWVsc2V7aWYocy5zdWJzdHIocFsxXSwyKT09IjMwIil7cS5hbGdwYXJhbT17fTtxLmFsZ3BhcmFtLnA9QVNOMUhFWC5nZXRWYnlMaXN0KHMscFsxXSxbMF0sIjAyIik7cS5hbGdwYXJhbS5xPUFTTjFIRVguZ2V0VmJ5TGlzdChzLHBbMV0sWzFdLCIwMiIpO3EuYWxncGFyYW0uZz1BU04xSEVYLmdldFZieUxpc3QocyxwWzFdLFsyXSwiMDIiKX19aWYocy5zdWJzdHIoclsxXSwyKSE9IjAzIil7dGhyb3cibWFsZm9ybWVkIFBLQ1M4IHB1YmxpYyBrZXkoY29kZTowMDQpIn1xLmtleT1BU04xSEVYLmdldEhleE9mVl9BdE9iaihzLHJbMV0pLnN1YnN0cigyKTtyZXR1cm4gcX0sZ2V0UlNBS2V5RnJvbVB1YmxpY1BLQ1M4SGV4OmZ1bmN0aW9uKHQpe3ZhciBzPUFTTjFIRVguZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHQsMCk7aWYocy5sZW5ndGghPTIpe3Rocm93Im91dGVyIERFUlNlcXVlbmNlIHNoYWxsIGhhdmUgMiBlbGVtZW50czogIitzLmxlbmd0aH12YXIgcj1BU04xSEVYLmdldEhleE9mVExWX0F0T2JqKHQsc1swXSk7aWYociE9IjMwMGQwNjA5MmE4NjQ4ODZmNzBkMDEwMTAxMDUwMCIpe3Rocm93IlBLQ1M4IEFsZ29yaXRobUlkIGlzIG5vdCByc2FFbmNyeXB0aW9uIn1pZih0LnN1YnN0cihzWzFdLDIpIT0iMDMiKXt0aHJvdyJQS0NTOCBQdWJsaWMgS2V5IGlzIG5vdCBCSVRTVFJJTkcgZW5jYXBzbGF0ZWQuIn12YXIgdj1BU04xSEVYLmdldFN0YXJ0UG9zT2ZWX0F0T2JqKHQsc1sxXSkrMjtpZih0LnN1YnN0cih2LDIpIT0iMzAiKXt0aHJvdyJQS0NTOCBQdWJsaWMgS2V5IGlzIG5vdCBTRVFVRU5DRS4ifXZhciBwPUFTTjFIRVguZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKHQsdik7aWYocC5sZW5ndGghPTIpe3Rocm93ImlubmVyIERFUlNlcXVlbmNlIHNoYWxsIGhhdmUgMiBlbGVtZW50czogIitwLmxlbmd0aH1pZih0LnN1YnN0cihwWzBdLDIpIT0iMDIiKXt0aHJvdyJOIGlzIG5vdCBBU04uMSBJTlRFR0VSIn1pZih0LnN1YnN0cihwWzFdLDIpIT0iMDIiKXt0aHJvdyJFIGlzIG5vdCBBU04uMSBJTlRFR0VSIn12YXIgdz1BU04xSEVYLmdldEhleE9mVl9BdE9iaih0LHBbMF0pO3ZhciB1PUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKHQscFsxXSk7dmFyIHE9bmV3IFJTQUtleSgpO3Euc2V0UHVibGljKHcsdSk7cmV0dXJuIHF9LH19KCk7S0VZVVRJTC5nZXRLZXk9ZnVuY3Rpb24oZixlLGgpe2lmKHR5cGVvZiBSU0FLZXkhPSJ1bmRlZmluZWQiJiZmIGluc3RhbmNlb2YgUlNBS2V5KXtyZXR1cm4gZn1pZih0eXBlb2YgS0pVUi5jcnlwdG8uRUNEU0EhPSJ1bmRlZmluZWQiJiZmIGluc3RhbmNlb2YgS0pVUi5jcnlwdG8uRUNEU0Epe3JldHVybiBmfWlmKHR5cGVvZiBLSlVSLmNyeXB0by5EU0EhPSJ1bmRlZmluZWQiJiZmIGluc3RhbmNlb2YgS0pVUi5jcnlwdG8uRFNBKXtyZXR1cm4gZn1pZihmLmN1cnZlIT09dW5kZWZpbmVkJiZmLnh5IT09dW5kZWZpbmVkJiZmLmQ9PT11bmRlZmluZWQpe3JldHVybiBuZXcgS0pVUi5jcnlwdG8uRUNEU0Eoe3B1YjpmLnh5LGN1cnZlOmYuY3VydmV9KX1pZihmLmN1cnZlIT09dW5kZWZpbmVkJiZmLmQhPT11bmRlZmluZWQpe3JldHVybiBuZXcgS0pVUi5jcnlwdG8uRUNEU0Eoe3BydjpmLmQsY3VydmU6Zi5jdXJ2ZX0pfWlmKGYua3R5PT09dW5kZWZpbmVkJiZmLm4hPT11bmRlZmluZWQmJmYuZSE9PXVuZGVmaW5lZCYmZi5kPT09dW5kZWZpbmVkKXt2YXIgdz1uZXcgUlNBS2V5KCk7dy5zZXRQdWJsaWMoZi5uLGYuZSk7cmV0dXJuIHd9aWYoZi5rdHk9PT11bmRlZmluZWQmJmYubiE9PXVuZGVmaW5lZCYmZi5lIT09dW5kZWZpbmVkJiZmLmQhPT11bmRlZmluZWQmJmYucCE9PXVuZGVmaW5lZCYmZi5xIT09dW5kZWZpbmVkJiZmLmRwIT09dW5kZWZpbmVkJiZmLmRxIT09dW5kZWZpbmVkJiZmLmNvIT09dW5kZWZpbmVkJiZmLnFpPT09dW5kZWZpbmVkKXt2YXIgdz1uZXcgUlNBS2V5KCk7dy5zZXRQcml2YXRlRXgoZi5uLGYuZSxmLmQsZi5wLGYucSxmLmRwLGYuZHEsZi5jbyk7cmV0dXJuIHd9aWYoZi5rdHk9PT11bmRlZmluZWQmJmYubiE9PXVuZGVmaW5lZCYmZi5lIT09dW5kZWZpbmVkJiZmLmQhPT11bmRlZmluZWQmJmYucD09PXVuZGVmaW5lZCl7dmFyIHc9bmV3IFJTQUtleSgpO3cuc2V0UHJpdmF0ZShmLm4sZi5lLGYuZCk7cmV0dXJuIHd9aWYoZi5wIT09dW5kZWZpbmVkJiZmLnEhPT11bmRlZmluZWQmJmYuZyE9PXVuZGVmaW5lZCYmZi55IT09dW5kZWZpbmVkJiZmLng9PT11bmRlZmluZWQpe3ZhciB3PW5ldyBLSlVSLmNyeXB0by5EU0EoKTt3LnNldFB1YmxpYyhmLnAsZi5xLGYuZyxmLnkpO3JldHVybiB3fWlmKGYucCE9PXVuZGVmaW5lZCYmZi5xIT09dW5kZWZpbmVkJiZmLmchPT11bmRlZmluZWQmJmYueSE9PXVuZGVmaW5lZCYmZi54IT09dW5kZWZpbmVkKXt2YXIgdz1uZXcgS0pVUi5jcnlwdG8uRFNBKCk7dy5zZXRQcml2YXRlKGYucCxmLnEsZi5nLGYueSxmLngpO3JldHVybiB3fWlmKGYua3R5PT09IlJTQSImJmYubiE9PXVuZGVmaW5lZCYmZi5lIT09dW5kZWZpbmVkJiZmLmQ9PT11bmRlZmluZWQpe3ZhciB3PW5ldyBSU0FLZXkoKTt3LnNldFB1YmxpYyhiNjR1dG9oZXgoZi5uKSxiNjR1dG9oZXgoZi5lKSk7cmV0dXJuIHd9aWYoZi5rdHk9PT0iUlNBIiYmZi5uIT09dW5kZWZpbmVkJiZmLmUhPT11bmRlZmluZWQmJmYuZCE9PXVuZGVmaW5lZCYmZi5wIT09dW5kZWZpbmVkJiZmLnEhPT11bmRlZmluZWQmJmYuZHAhPT11bmRlZmluZWQmJmYuZHEhPT11bmRlZmluZWQmJmYucWkhPT11bmRlZmluZWQpe3ZhciB3PW5ldyBSU0FLZXkoKTt3LnNldFByaXZhdGVFeChiNjR1dG9oZXgoZi5uKSxiNjR1dG9oZXgoZi5lKSxiNjR1dG9oZXgoZi5kKSxiNjR1dG9oZXgoZi5wKSxiNjR1dG9oZXgoZi5xKSxiNjR1dG9oZXgoZi5kcCksYjY0dXRvaGV4KGYuZHEpLGI2NHV0b2hleChmLnFpKSk7cmV0dXJuIHd9aWYoZi5rdHk9PT0iUlNBIiYmZi5uIT09dW5kZWZpbmVkJiZmLmUhPT11bmRlZmluZWQmJmYuZCE9PXVuZGVmaW5lZCl7dmFyIHc9bmV3IFJTQUtleSgpO3cuc2V0UHJpdmF0ZShiNjR1dG9oZXgoZi5uKSxiNjR1dG9oZXgoZi5lKSxiNjR1dG9oZXgoZi5kKSk7cmV0dXJuIHd9aWYoZi5rdHk9PT0iRUMiJiZmLmNydiE9PXVuZGVmaW5lZCYmZi54IT09dW5kZWZpbmVkJiZmLnkhPT11bmRlZmluZWQmJmYuZD09PXVuZGVmaW5lZCl7dmFyIGQ9bmV3IEtKVVIuY3J5cHRvLkVDRFNBKHtjdXJ2ZTpmLmNydn0pO3ZhciBsPWQuZWNwYXJhbXMua2V5bGVuLzQ7dmFyIHI9KCIwMDAwMDAwMDAwIitiNjR1dG9oZXgoZi54KSkuc2xpY2UoLWwpO3ZhciBuPSgiMDAwMDAwMDAwMCIrYjY0dXRvaGV4KGYueSkpLnNsaWNlKC1sKTt2YXIgbT0iMDQiK3IrbjtkLnNldFB1YmxpY0tleUhleChtKTtyZXR1cm4gZH1pZihmLmt0eT09PSJFQyImJmYuY3J2IT09dW5kZWZpbmVkJiZmLnghPT11bmRlZmluZWQmJmYueSE9PXVuZGVmaW5lZCYmZi5kIT09dW5kZWZpbmVkKXt2YXIgZD1uZXcgS0pVUi5jcnlwdG8uRUNEU0Eoe2N1cnZlOmYuY3J2fSk7dmFyIGw9ZC5lY3BhcmFtcy5rZXlsZW4vNDt2YXIgYT0oIjAwMDAwMDAwMDAiK2I2NHV0b2hleChmLmQpKS5zbGljZSgtbCk7ZC5zZXRQcml2YXRlS2V5SGV4KGEpO3JldHVybiBkfWlmKGYuaW5kZXhPZigiLUVORCBDRVJUSUZJQ0FURS0iLDApIT0tMXx8Zi5pbmRleE9mKCItRU5EIFg1MDkgQ0VSVElGSUNBVEUtIiwwKSE9LTF8fGYuaW5kZXhPZigiLUVORCBUUlVTVEVEIENFUlRJRklDQVRFLSIsMCkhPS0xKXtyZXR1cm4gWDUwOS5nZXRQdWJsaWNLZXlGcm9tQ2VydFBFTShmKX1pZihoPT09InBrY3M4cHViIil7cmV0dXJuIEtFWVVUSUwuZ2V0S2V5RnJvbVB1YmxpY1BLQ1M4SGV4KGYpfWlmKGYuaW5kZXhPZigiLUVORCBQVUJMSUMgS0VZLSIpIT0tMSl7cmV0dXJuIEtFWVVUSUwuZ2V0S2V5RnJvbVB1YmxpY1BLQ1M4UEVNKGYpfWlmKGg9PT0icGtjczVwcnYiKXt2YXIgdz1uZXcgUlNBS2V5KCk7dy5yZWFkUHJpdmF0ZUtleUZyb21BU04xSGV4U3RyaW5nKGYpO3JldHVybiB3fWlmKGg9PT0icGtjczVwcnYiKXt2YXIgdz1uZXcgUlNBS2V5KCk7dy5yZWFkUHJpdmF0ZUtleUZyb21BU04xSGV4U3RyaW5nKGYpO3JldHVybiB3fWlmKGYuaW5kZXhPZigiLUVORCBSU0EgUFJJVkFURSBLRVktIikhPS0xJiZmLmluZGV4T2YoIjQsRU5DUllQVEVEIik9PS0xKXt2YXIgaT1LRVlVVElMLmdldEhleEZyb21QRU0oZiwiUlNBIFBSSVZBVEUgS0VZIik7cmV0dXJuIEtFWVVUSUwuZ2V0S2V5KGksbnVsbCwicGtjczVwcnYiKX1pZihmLmluZGV4T2YoIi1FTkQgRFNBIFBSSVZBVEUgS0VZLSIpIT0tMSYmZi5pbmRleE9mKCI0LEVOQ1JZUFRFRCIpPT0tMSl7dmFyIHU9dGhpcy5nZXRIZXhGcm9tUEVNKGYsIkRTQSBQUklWQVRFIEtFWSIpO3ZhciB0PUFTTjFIRVguZ2V0VmJ5TGlzdCh1LDAsWzFdLCIwMiIpO3ZhciBzPUFTTjFIRVguZ2V0VmJ5TGlzdCh1LDAsWzJdLCIwMiIpO3ZhciB2PUFTTjFIRVguZ2V0VmJ5TGlzdCh1LDAsWzNdLCIwMiIpO3ZhciBqPUFTTjFIRVguZ2V0VmJ5TGlzdCh1LDAsWzRdLCIwMiIpO3ZhciBrPUFTTjFIRVguZ2V0VmJ5TGlzdCh1LDAsWzVdLCIwMiIpO3ZhciB3PW5ldyBLSlVSLmNyeXB0by5EU0EoKTt3LnNldFByaXZhdGUobmV3IEJpZ0ludGVnZXIodCwxNiksbmV3IEJpZ0ludGVnZXIocywxNiksbmV3IEJpZ0ludGVnZXIodiwxNiksbmV3IEJpZ0ludGVnZXIoaiwxNiksbmV3IEJpZ0ludGVnZXIoaywxNikpO3JldHVybiB3fWlmKGYuaW5kZXhPZigiLUVORCBQUklWQVRFIEtFWS0iKSE9LTEpe3JldHVybiBLRVlVVElMLmdldEtleUZyb21QbGFpblByaXZhdGVQS0NTOFBFTShmKX1pZihmLmluZGV4T2YoIi1FTkQgUlNBIFBSSVZBVEUgS0VZLSIpIT0tMSYmZi5pbmRleE9mKCI0LEVOQ1JZUFRFRCIpIT0tMSl7cmV0dXJuIEtFWVVUSUwuZ2V0UlNBS2V5RnJvbUVuY3J5cHRlZFBLQ1M1UEVNKGYsZSl9aWYoZi5pbmRleE9mKCItRU5EIEVDIFBSSVZBVEUgS0VZLSIpIT0tMSYmZi5pbmRleE9mKCI0LEVOQ1JZUFRFRCIpIT0tMSl7dmFyIHU9S0VZVVRJTC5nZXREZWNyeXB0ZWRLZXlIZXgoZixlKTt2YXIgdz1BU04xSEVYLmdldFZieUxpc3QodSwwLFsxXSwiMDQiKTt2YXIgYz1BU04xSEVYLmdldFZieUxpc3QodSwwLFsyLDBdLCIwNiIpO3ZhciBvPUFTTjFIRVguZ2V0VmJ5TGlzdCh1LDAsWzMsMF0sIjAzIikuc3Vic3RyKDIpO3ZhciBiPSIiO2lmKEtKVVIuY3J5cHRvLk9JRC5vaWRoZXgybmFtZVtjXSE9PXVuZGVmaW5lZCl7Yj1LSlVSLmNyeXB0by5PSUQub2lkaGV4Mm5hbWVbY119ZWxzZXt0aHJvdyJ1bmRlZmluZWQgT0lEKGhleCkgaW4gS0pVUi5jcnlwdG8uT0lEOiAiK2N9dmFyIGQ9bmV3IEtKVVIuY3J5cHRvLkVDRFNBKHtuYW1lOmJ9KTtkLnNldFB1YmxpY0tleUhleChvKTtkLnNldFByaXZhdGVLZXlIZXgodyk7ZC5pc1B1YmxpYz1mYWxzZTtyZXR1cm4gZH1pZihmLmluZGV4T2YoIi1FTkQgRFNBIFBSSVZBVEUgS0VZLSIpIT0tMSYmZi5pbmRleE9mKCI0LEVOQ1JZUFRFRCIpIT0tMSl7dmFyIHU9S0VZVVRJTC5nZXREZWNyeXB0ZWRLZXlIZXgoZixlKTt2YXIgdD1BU04xSEVYLmdldFZieUxpc3QodSwwLFsxXSwiMDIiKTt2YXIgcz1BU04xSEVYLmdldFZieUxpc3QodSwwLFsyXSwiMDIiKTt2YXIgdj1BU04xSEVYLmdldFZieUxpc3QodSwwLFszXSwiMDIiKTt2YXIgaj1BU04xSEVYLmdldFZieUxpc3QodSwwLFs0XSwiMDIiKTt2YXIgaz1BU04xSEVYLmdldFZieUxpc3QodSwwLFs1XSwiMDIiKTt2YXIgdz1uZXcgS0pVUi5jcnlwdG8uRFNBKCk7dy5zZXRQcml2YXRlKG5ldyBCaWdJbnRlZ2VyKHQsMTYpLG5ldyBCaWdJbnRlZ2VyKHMsMTYpLG5ldyBCaWdJbnRlZ2VyKHYsMTYpLG5ldyBCaWdJbnRlZ2VyKGosMTYpLG5ldyBCaWdJbnRlZ2VyKGssMTYpKTtyZXR1cm4gd31pZihmLmluZGV4T2YoIi1FTkQgRU5DUllQVEVEIFBSSVZBVEUgS0VZLSIpIT0tMSl7cmV0dXJuIEtFWVVUSUwuZ2V0S2V5RnJvbUVuY3J5cHRlZFBLQ1M4UEVNKGYsZSl9dGhyb3cibm90IHN1cHBvcnRlZCBhcmd1bWVudCJ9O0tFWVVUSUwuZ2VuZXJhdGVLZXlwYWlyPWZ1bmN0aW9uKGEsYyl7aWYoYT09IlJTQSIpe3ZhciBiPWM7dmFyIGg9bmV3IFJTQUtleSgpO2guZ2VuZXJhdGUoYiwiMTAwMDEiKTtoLmlzUHJpdmF0ZT10cnVlO2guaXNQdWJsaWM9dHJ1ZTt2YXIgZj1uZXcgUlNBS2V5KCk7dmFyIGU9aC5uLnRvU3RyaW5nKDE2KTt2YXIgaT1oLmUudG9TdHJpbmcoMTYpO2Yuc2V0UHVibGljKGUsaSk7Zi5pc1ByaXZhdGU9ZmFsc2U7Zi5pc1B1YmxpYz10cnVlO3ZhciBrPXt9O2sucHJ2S2V5T2JqPWg7ay5wdWJLZXlPYmo9ZjtyZXR1cm4ga31lbHNle2lmKGE9PSJFQyIpe3ZhciBkPWM7dmFyIGc9bmV3IEtKVVIuY3J5cHRvLkVDRFNBKHtjdXJ2ZTpkfSk7dmFyIGo9Zy5nZW5lcmF0ZUtleVBhaXJIZXgoKTt2YXIgaD1uZXcgS0pVUi5jcnlwdG8uRUNEU0Eoe2N1cnZlOmR9KTtoLnNldFByaXZhdGVLZXlIZXgoai5lY3BydmhleCk7aC5pc1ByaXZhdGU9dHJ1ZTtoLmlzUHVibGljPWZhbHNlO3ZhciBmPW5ldyBLSlVSLmNyeXB0by5FQ0RTQSh7Y3VydmU6ZH0pO2Yuc2V0UHVibGljS2V5SGV4KGouZWNwdWJoZXgpO2YuaXNQcml2YXRlPWZhbHNlO2YuaXNQdWJsaWM9dHJ1ZTt2YXIgaz17fTtrLnBydktleU9iaj1oO2sucHViS2V5T2JqPWY7cmV0dXJuIGt9ZWxzZXt0aHJvdyJ1bmtub3duIGFsZ29yaXRobTogIithfX19O0tFWVVUSUwuZ2V0UEVNPWZ1bmN0aW9uKGEscixvLGcsail7dmFyIHY9S0pVUi5hc24xO3ZhciB1PUtKVVIuY3J5cHRvO2Z1bmN0aW9uIHAocyl7dmFyIHc9S0pVUi5hc24xLkFTTjFVdGlsLm5ld09iamVjdCh7c2VxOlt7ImludCI6MH0seyJpbnQiOntiaWdpbnQ6cy5ufX0seyJpbnQiOnMuZX0seyJpbnQiOntiaWdpbnQ6cy5kfX0seyJpbnQiOntiaWdpbnQ6cy5wfX0seyJpbnQiOntiaWdpbnQ6cy5xfX0seyJpbnQiOntiaWdpbnQ6cy5kbXAxfX0seyJpbnQiOntiaWdpbnQ6cy5kbXExfX0seyJpbnQiOntiaWdpbnQ6cy5jb2VmZn19XX0pO3JldHVybiB3fWZ1bmN0aW9uIHEodyl7dmFyIHM9S0pVUi5hc24xLkFTTjFVdGlsLm5ld09iamVjdCh7c2VxOlt7ImludCI6MX0se29jdHN0cjp7aGV4OncucHJ2S2V5SGV4fX0se3RhZzpbImEwIix0cnVlLHtvaWQ6e25hbWU6dy5jdXJ2ZU5hbWV9fV19LHt0YWc6WyJhMSIsdHJ1ZSx7Yml0c3RyOntoZXg6IjAwIit3LnB1YktleUhleH19XX1dfSk7cmV0dXJuIHN9ZnVuY3Rpb24gbihzKXt2YXIgdz1LSlVSLmFzbjEuQVNOMVV0aWwubmV3T2JqZWN0KHtzZXE6W3siaW50IjowfSx7ImludCI6e2JpZ2ludDpzLnB9fSx7ImludCI6e2JpZ2ludDpzLnF9fSx7ImludCI6e2JpZ2ludDpzLmd9fSx7ImludCI6e2JpZ2ludDpzLnl9fSx7ImludCI6e2JpZ2ludDpzLnh9fV19KTtyZXR1cm4gd31pZigoKHR5cGVvZiBSU0FLZXkhPSJ1bmRlZmluZWQiJiZhIGluc3RhbmNlb2YgUlNBS2V5KXx8KHR5cGVvZiB1LkRTQSE9InVuZGVmaW5lZCImJmEgaW5zdGFuY2VvZiB1LkRTQSl8fCh0eXBlb2YgdS5FQ0RTQSE9InVuZGVmaW5lZCImJmEgaW5zdGFuY2VvZiB1LkVDRFNBKSkmJmEuaXNQdWJsaWM9PXRydWUmJihyPT09dW5kZWZpbmVkfHxyPT0iUEtDUzhQVUIiKSl7dmFyIHQ9bmV3IEtKVVIuYXNuMS54NTA5LlN1YmplY3RQdWJsaWNLZXlJbmZvKGEpO3ZhciBtPXQuZ2V0RW5jb2RlZEhleCgpO3JldHVybiB2LkFTTjFVdGlsLmdldFBFTVN0cmluZ0Zyb21IZXgobSwiUFVCTElDIEtFWSIpfWlmKHI9PSJQS0NTMVBSViImJnR5cGVvZiBSU0FLZXkhPSJ1bmRlZmluZWQiJiZhIGluc3RhbmNlb2YgUlNBS2V5JiYobz09PXVuZGVmaW5lZHx8bz09bnVsbCkmJmEuaXNQcml2YXRlPT10cnVlKXt2YXIgdD1wKGEpO3ZhciBtPXQuZ2V0RW5jb2RlZEhleCgpO3JldHVybiB2LkFTTjFVdGlsLmdldFBFTVN0cmluZ0Zyb21IZXgobSwiUlNBIFBSSVZBVEUgS0VZIil9aWYocj09IlBLQ1MxUFJWIiYmdHlwZW9mIFJTQUtleSE9InVuZGVmaW5lZCImJmEgaW5zdGFuY2VvZiBLSlVSLmNyeXB0by5FQ0RTQSYmKG89PT11bmRlZmluZWR8fG89PW51bGwpJiZhLmlzUHJpdmF0ZT09dHJ1ZSl7dmFyIGY9bmV3IEtKVVIuYXNuMS5ERVJPYmplY3RJZGVudGlmaWVyKHtuYW1lOmEuY3VydmVOYW1lfSk7dmFyIGw9Zi5nZXRFbmNvZGVkSGV4KCk7dmFyIGU9cShhKTt2YXIgaz1lLmdldEVuY29kZWRIZXgoKTt2YXIgaT0iIjtpKz12LkFTTjFVdGlsLmdldFBFTVN0cmluZ0Zyb21IZXgobCwiRUMgUEFSQU1FVEVSUyIpO2krPXYuQVNOMVV0aWwuZ2V0UEVNU3RyaW5nRnJvbUhleChrLCJFQyBQUklWQVRFIEtFWSIpO3JldHVybiBpfWlmKHI9PSJQS0NTMVBSViImJnR5cGVvZiBLSlVSLmNyeXB0by5EU0EhPSJ1bmRlZmluZWQiJiZhIGluc3RhbmNlb2YgS0pVUi5jcnlwdG8uRFNBJiYobz09PXVuZGVmaW5lZHx8bz09bnVsbCkmJmEuaXNQcml2YXRlPT10cnVlKXt2YXIgdD1uKGEpO3ZhciBtPXQuZ2V0RW5jb2RlZEhleCgpO3JldHVybiB2LkFTTjFVdGlsLmdldFBFTVN0cmluZ0Zyb21IZXgobSwiRFNBIFBSSVZBVEUgS0VZIil9aWYocj09IlBLQ1M1UFJWIiYmdHlwZW9mIFJTQUtleSE9InVuZGVmaW5lZCImJmEgaW5zdGFuY2VvZiBSU0FLZXkmJihvIT09dW5kZWZpbmVkJiZvIT1udWxsKSYmYS5pc1ByaXZhdGU9PXRydWUpe3ZhciB0PXAoYSk7dmFyIG09dC5nZXRFbmNvZGVkSGV4KCk7aWYoZz09PXVuZGVmaW5lZCl7Zz0iREVTLUVERTMtQ0JDIn1yZXR1cm4gdGhpcy5nZXRFbmNyeXB0ZWRQS0NTNVBFTUZyb21QcnZLZXlIZXgoIlJTQSIsbSxvLGcpfWlmKHI9PSJQS0NTNVBSViImJnR5cGVvZiBLSlVSLmNyeXB0by5FQ0RTQSE9InVuZGVmaW5lZCImJmEgaW5zdGFuY2VvZiBLSlVSLmNyeXB0by5FQ0RTQSYmKG8hPT11bmRlZmluZWQmJm8hPW51bGwpJiZhLmlzUHJpdmF0ZT09dHJ1ZSl7dmFyIHQ9cShhKTt2YXIgbT10LmdldEVuY29kZWRIZXgoKTtpZihnPT09dW5kZWZpbmVkKXtnPSJERVMtRURFMy1DQkMifXJldHVybiB0aGlzLmdldEVuY3J5cHRlZFBLQ1M1UEVNRnJvbVBydktleUhleCgiRUMiLG0sbyxnKX1pZihyPT0iUEtDUzVQUlYiJiZ0eXBlb2YgS0pVUi5jcnlwdG8uRFNBIT0idW5kZWZpbmVkIiYmYSBpbnN0YW5jZW9mIEtKVVIuY3J5cHRvLkRTQSYmKG8hPT11bmRlZmluZWQmJm8hPW51bGwpJiZhLmlzUHJpdmF0ZT09dHJ1ZSl7dmFyIHQ9bihhKTt2YXIgbT10LmdldEVuY29kZWRIZXgoKTtpZihnPT09dW5kZWZpbmVkKXtnPSJERVMtRURFMy1DQkMifXJldHVybiB0aGlzLmdldEVuY3J5cHRlZFBLQ1M1UEVNRnJvbVBydktleUhleCgiRFNBIixtLG8sZyl9dmFyIGg9ZnVuY3Rpb24odyxzKXt2YXIgeT1iKHcscyk7dmFyIHg9bmV3IEtKVVIuYXNuMS5BU04xVXRpbC5uZXdPYmplY3Qoe3NlcTpbe3NlcTpbe29pZDp7bmFtZToicGtjczVQQkVTMiJ9fSx7c2VxOlt7c2VxOlt7b2lkOntuYW1lOiJwa2NzNVBCS0RGMiJ9fSx7c2VxOlt7b2N0c3RyOntoZXg6eS5wYmtkZjJTYWx0fX0seyJpbnQiOnkucGJrZGYySXRlcn1dfV19LHtzZXE6W3tvaWQ6e25hbWU6ImRlcy1FREUzLUNCQyJ9fSx7b2N0c3RyOntoZXg6eS5lbmNyeXB0aW9uU2NoZW1lSVZ9fV19XX1dfSx7b2N0c3RyOntoZXg6eS5jaXBoZXJ0ZXh0fX1dfSk7cmV0dXJuIHguZ2V0RW5jb2RlZEhleCgpfTt2YXIgYj1mdW5jdGlvbihELEUpe3ZhciB4PTEwMDt2YXIgQz1DcnlwdG9KUy5saWIuV29yZEFycmF5LnJhbmRvbSg4KTt2YXIgQj0iREVTLUVERTMtQ0JDIjt2YXIgcz1DcnlwdG9KUy5saWIuV29yZEFycmF5LnJhbmRvbSg4KTt2YXIgeT1DcnlwdG9KUy5QQktERjIoRSxDLHtrZXlTaXplOjE5Mi8zMixpdGVyYXRpb25zOnh9KTt2YXIgej1DcnlwdG9KUy5lbmMuSGV4LnBhcnNlKEQpO3ZhciBBPUNyeXB0b0pTLlRyaXBsZURFUy5lbmNyeXB0KHoseSx7aXY6c30pKyIiO3ZhciB3PXt9O3cuY2lwaGVydGV4dD1BO3cucGJrZGYyU2FsdD1DcnlwdG9KUy5lbmMuSGV4LnN0cmluZ2lmeShDKTt3LnBia2RmMkl0ZXI9eDt3LmVuY3J5cHRpb25TY2hlbWVBbGc9Qjt3LmVuY3J5cHRpb25TY2hlbWVJVj1DcnlwdG9KUy5lbmMuSGV4LnN0cmluZ2lmeShzKTtyZXR1cm4gd307aWYocj09IlBLQ1M4UFJWIiYmdHlwZW9mIFJTQUtleSE9InVuZGVmaW5lZCImJmEgaW5zdGFuY2VvZiBSU0FLZXkmJmEuaXNQcml2YXRlPT10cnVlKXt2YXIgZD1wKGEpO3ZhciBjPWQuZ2V0RW5jb2RlZEhleCgpO3ZhciB0PUtKVVIuYXNuMS5BU04xVXRpbC5uZXdPYmplY3Qoe3NlcTpbeyJpbnQiOjB9LHtzZXE6W3tvaWQ6e25hbWU6InJzYUVuY3J5cHRpb24ifX0seyJudWxsIjp0cnVlfV19LHtvY3RzdHI6e2hleDpjfX1dfSk7dmFyIG09dC5nZXRFbmNvZGVkSGV4KCk7aWYobz09PXVuZGVmaW5lZHx8bz09bnVsbCl7cmV0dXJuIHYuQVNOMVV0aWwuZ2V0UEVNU3RyaW5nRnJvbUhleChtLCJQUklWQVRFIEtFWSIpfWVsc2V7dmFyIGs9aChtLG8pO3JldHVybiB2LkFTTjFVdGlsLmdldFBFTVN0cmluZ0Zyb21IZXgoaywiRU5DUllQVEVEIFBSSVZBVEUgS0VZIil9fWlmKHI9PSJQS0NTOFBSViImJnR5cGVvZiBLSlVSLmNyeXB0by5FQ0RTQSE9InVuZGVmaW5lZCImJmEgaW5zdGFuY2VvZiBLSlVSLmNyeXB0by5FQ0RTQSYmYS5pc1ByaXZhdGU9PXRydWUpe3ZhciBkPW5ldyBLSlVSLmFzbjEuQVNOMVV0aWwubmV3T2JqZWN0KHtzZXE6W3siaW50IjoxfSx7b2N0c3RyOntoZXg6YS5wcnZLZXlIZXh9fSx7dGFnOlsiYTEiLHRydWUse2JpdHN0cjp7aGV4OiIwMCIrYS5wdWJLZXlIZXh9fV19XX0pO3ZhciBjPWQuZ2V0RW5jb2RlZEhleCgpO3ZhciB0PUtKVVIuYXNuMS5BU04xVXRpbC5uZXdPYmplY3Qoe3NlcTpbeyJpbnQiOjB9LHtzZXE6W3tvaWQ6e25hbWU6ImVjUHVibGljS2V5In19LHtvaWQ6e25hbWU6YS5jdXJ2ZU5hbWV9fV19LHtvY3RzdHI6e2hleDpjfX1dfSk7dmFyIG09dC5nZXRFbmNvZGVkSGV4KCk7aWYobz09PXVuZGVmaW5lZHx8bz09bnVsbCl7cmV0dXJuIHYuQVNOMVV0aWwuZ2V0UEVNU3RyaW5nRnJvbUhleChtLCJQUklWQVRFIEtFWSIpfWVsc2V7dmFyIGs9aChtLG8pO3JldHVybiB2LkFTTjFVdGlsLmdldFBFTVN0cmluZ0Zyb21IZXgoaywiRU5DUllQVEVEIFBSSVZBVEUgS0VZIil9fWlmKHI9PSJQS0NTOFBSViImJnR5cGVvZiBLSlVSLmNyeXB0by5EU0EhPSJ1bmRlZmluZWQiJiZhIGluc3RhbmNlb2YgS0pVUi5jcnlwdG8uRFNBJiZhLmlzUHJpdmF0ZT09dHJ1ZSl7dmFyIGQ9bmV3IEtKVVIuYXNuMS5ERVJJbnRlZ2VyKHtiaWdpbnQ6YS54fSk7dmFyIGM9ZC5nZXRFbmNvZGVkSGV4KCk7dmFyIHQ9S0pVUi5hc24xLkFTTjFVdGlsLm5ld09iamVjdCh7c2VxOlt7ImludCI6MH0se3NlcTpbe29pZDp7bmFtZToiZHNhIn19LHtzZXE6W3siaW50Ijp7YmlnaW50OmEucH19LHsiaW50Ijp7YmlnaW50OmEucX19LHsiaW50Ijp7YmlnaW50OmEuZ319XX1dfSx7b2N0c3RyOntoZXg6Y319XX0pO3ZhciBtPXQuZ2V0RW5jb2RlZEhleCgpO2lmKG89PT11bmRlZmluZWR8fG89PW51bGwpe3JldHVybiB2LkFTTjFVdGlsLmdldFBFTVN0cmluZ0Zyb21IZXgobSwiUFJJVkFURSBLRVkiKX1lbHNle3ZhciBrPWgobSxvKTtyZXR1cm4gdi5BU04xVXRpbC5nZXRQRU1TdHJpbmdGcm9tSGV4KGssIkVOQ1JZUFRFRCBQUklWQVRFIEtFWSIpfX10aHJvdyJ1bnN1cHBvcnRlZCBvYmplY3Qgbm9yIGZvcm1hdCJ9O0tFWVVUSUwuZ2V0S2V5RnJvbUNTUlBFTT1mdW5jdGlvbihiKXt2YXIgYT1LRVlVVElMLmdldEhleEZyb21QRU0oYiwiQ0VSVElGSUNBVEUgUkVRVUVTVCIpO3ZhciBjPUtFWVVUSUwuZ2V0S2V5RnJvbUNTUkhleChhKTtyZXR1cm4gY307S0VZVVRJTC5nZXRLZXlGcm9tQ1NSSGV4PWZ1bmN0aW9uKGEpe3ZhciBjPUtFWVVUSUwucGFyc2VDU1JIZXgoYSk7dmFyIGI9S0VZVVRJTC5nZXRLZXkoYy5wOHB1YmtleWhleCxudWxsLCJwa2NzOHB1YiIpO3JldHVybiBifTtLRVlVVElMLnBhcnNlQ1NSSGV4PWZ1bmN0aW9uKGMpe3ZhciBiPXt9O3ZhciBlPWM7aWYoZS5zdWJzdHIoMCwyKSE9IjMwIil7dGhyb3cibWFsZm9ybWVkIENTUihjb2RlOjAwMSkifXZhciBkPUFTTjFIRVguZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKGUsMCk7aWYoZC5sZW5ndGg8MSl7dGhyb3cibWFsZm9ybWVkIENTUihjb2RlOjAwMikifWlmKGUuc3Vic3RyKGRbMF0sMikhPSIzMCIpe3Rocm93Im1hbGZvcm1lZCBDU1IoY29kZTowMDMpIn12YXIgYT1BU04xSEVYLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaihlLGRbMF0pO2lmKGEubGVuZ3RoPDMpe3Rocm93Im1hbGZvcm1lZCBDU1IoY29kZTowMDQpIn1iLnA4cHVia2V5aGV4PUFTTjFIRVguZ2V0SGV4T2ZUTFZfQXRPYmooZSxhWzJdKTtyZXR1cm4gYn07Ci8qISByc2FwZW0tMS4xLmpzIChjKSAyMDEyIEtlbmppIFVydXNoaW1hIHwga2p1ci5naXRodWIuY29tL2pzcnNhc2lnbi9saWNlbnNlCiAqLwpmdW5jdGlvbiBfcnNhcGVtX3BlbVRvQmFzZTY0KGIpe3ZhciBhPWI7YT1hLnJlcGxhY2UoIi0tLS0tQkVHSU4gUlNBIFBSSVZBVEUgS0VZLS0tLS0iLCIiKTthPWEucmVwbGFjZSgiLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0iLCIiKTthPWEucmVwbGFjZSgvWyBcbl0rL2csIiIpO3JldHVybiBhfWZ1bmN0aW9uIF9yc2FwZW1fZ2V0UG9zQXJyYXlPZkNoaWxkcmVuRnJvbUhleChkKXt2YXIgaj1uZXcgQXJyYXkoKTt2YXIgaz1BU04xSEVYLmdldFN0YXJ0UG9zT2ZWX0F0T2JqKGQsMCk7dmFyIGY9QVNOMUhFWC5nZXRQb3NPZk5leHRTaWJsaW5nX0F0T2JqKGQsayk7dmFyIGg9QVNOMUhFWC5nZXRQb3NPZk5leHRTaWJsaW5nX0F0T2JqKGQsZik7dmFyIGI9QVNOMUhFWC5nZXRQb3NPZk5leHRTaWJsaW5nX0F0T2JqKGQsaCk7dmFyIGw9QVNOMUhFWC5nZXRQb3NPZk5leHRTaWJsaW5nX0F0T2JqKGQsYik7dmFyIGU9QVNOMUhFWC5nZXRQb3NPZk5leHRTaWJsaW5nX0F0T2JqKGQsbCk7dmFyIGc9QVNOMUhFWC5nZXRQb3NPZk5leHRTaWJsaW5nX0F0T2JqKGQsZSk7dmFyIGM9QVNOMUhFWC5nZXRQb3NPZk5leHRTaWJsaW5nX0F0T2JqKGQsZyk7dmFyIGk9QVNOMUhFWC5nZXRQb3NPZk5leHRTaWJsaW5nX0F0T2JqKGQsYyk7ai5wdXNoKGssZixoLGIsbCxlLGcsYyxpKTtyZXR1cm4gan1mdW5jdGlvbiBfcnNhcGVtX2dldEhleFZhbHVlQXJyYXlPZkNoaWxkcmVuRnJvbUhleChpKXt2YXIgbz1fcnNhcGVtX2dldFBvc0FycmF5T2ZDaGlsZHJlbkZyb21IZXgoaSk7dmFyIHI9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmooaSxvWzBdKTt2YXIgZj1BU04xSEVYLmdldEhleE9mVl9BdE9iaihpLG9bMV0pO3ZhciBqPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKGksb1syXSk7dmFyIGs9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmooaSxvWzNdKTt2YXIgYz1BU04xSEVYLmdldEhleE9mVl9BdE9iaihpLG9bNF0pO3ZhciBiPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKGksb1s1XSk7dmFyIGg9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmooaSxvWzZdKTt2YXIgZz1BU04xSEVYLmdldEhleE9mVl9BdE9iaihpLG9bN10pO3ZhciBsPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKGksb1s4XSk7dmFyIG09bmV3IEFycmF5KCk7bS5wdXNoKHIsZixqLGssYyxiLGgsZyxsKTtyZXR1cm4gbX1mdW5jdGlvbiBfcnNhcGVtX3JlYWRQcml2YXRlS2V5RnJvbUFTTjFIZXhTdHJpbmcoYyl7dmFyIGI9X3JzYXBlbV9nZXRIZXhWYWx1ZUFycmF5T2ZDaGlsZHJlbkZyb21IZXgoYyk7dGhpcy5zZXRQcml2YXRlRXgoYlsxXSxiWzJdLGJbM10sYls0XSxiWzVdLGJbNl0sYls3XSxiWzhdKX1mdW5jdGlvbiBfcnNhcGVtX3JlYWRQcml2YXRlS2V5RnJvbVBFTVN0cmluZyhlKXt2YXIgYz1fcnNhcGVtX3BlbVRvQmFzZTY0KGUpO3ZhciBkPWI2NHRvaGV4KGMpO3ZhciBiPV9yc2FwZW1fZ2V0SGV4VmFsdWVBcnJheU9mQ2hpbGRyZW5Gcm9tSGV4KGQpO3RoaXMuc2V0UHJpdmF0ZUV4KGJbMV0sYlsyXSxiWzNdLGJbNF0sYls1XSxiWzZdLGJbN10sYls4XSl9UlNBS2V5LnByb3RvdHlwZS5yZWFkUHJpdmF0ZUtleUZyb21QRU1TdHJpbmc9X3JzYXBlbV9yZWFkUHJpdmF0ZUtleUZyb21QRU1TdHJpbmc7UlNBS2V5LnByb3RvdHlwZS5yZWFkUHJpdmF0ZUtleUZyb21BU04xSGV4U3RyaW5nPV9yc2FwZW1fcmVhZFByaXZhdGVLZXlGcm9tQVNOMUhleFN0cmluZzsKLyohIHJzYXNpZ24tMS4yLjcuanMgKGMpIDIwMTIgS2VuamkgVXJ1c2hpbWEgfCBranVyLmdpdGh1Yi5jb20vanNyc2FzaWduL2xpY2Vuc2UKICovCnZhciBfUkVfSEVYREVDT05MWT1uZXcgUmVnRXhwKCIiKTtfUkVfSEVYREVDT05MWS5jb21waWxlKCJbXjAtOWEtZl0iLCJnaSIpO2Z1bmN0aW9uIF9yc2FzaWduX2dldEhleFBhZGRlZERpZ2VzdEluZm9Gb3JTdHJpbmcoZCxlLGEpe3ZhciBiPWZ1bmN0aW9uKGYpe3JldHVybiBLSlVSLmNyeXB0by5VdGlsLmhhc2hTdHJpbmcoZixhKX07dmFyIGM9YihkKTtyZXR1cm4gS0pVUi5jcnlwdG8uVXRpbC5nZXRQYWRkZWREaWdlc3RJbmZvSGV4KGMsYSxlKX1mdW5jdGlvbiBfemVyb1BhZGRpbmdPZlNpZ25hdHVyZShlLGQpe3ZhciBjPSIiO3ZhciBhPWQvNC1lLmxlbmd0aDtmb3IodmFyIGI9MDtiPGE7YisrKXtjPWMrIjAifXJldHVybiBjK2V9ZnVuY3Rpb24gX3JzYXNpZ25fc2lnblN0cmluZyhkLGEpe3ZhciBiPWZ1bmN0aW9uKGUpe3JldHVybiBLSlVSLmNyeXB0by5VdGlsLmhhc2hTdHJpbmcoZSxhKX07dmFyIGM9YihkKTtyZXR1cm4gdGhpcy5zaWduV2l0aE1lc3NhZ2VIYXNoKGMsYSl9ZnVuY3Rpb24gX3JzYXNpZ25fc2lnbldpdGhNZXNzYWdlSGFzaChlLGMpe3ZhciBmPUtKVVIuY3J5cHRvLlV0aWwuZ2V0UGFkZGVkRGlnZXN0SW5mb0hleChlLGMsdGhpcy5uLmJpdExlbmd0aCgpKTt2YXIgYj1wYXJzZUJpZ0ludChmLDE2KTt2YXIgZD10aGlzLmRvUHJpdmF0ZShiKTt2YXIgYT1kLnRvU3RyaW5nKDE2KTtyZXR1cm4gX3plcm9QYWRkaW5nT2ZTaWduYXR1cmUoYSx0aGlzLm4uYml0TGVuZ3RoKCkpfWZ1bmN0aW9uIF9yc2FzaWduX3NpZ25TdHJpbmdXaXRoU0hBMShhKXtyZXR1cm4gX3JzYXNpZ25fc2lnblN0cmluZy5jYWxsKHRoaXMsYSwic2hhMSIpfWZ1bmN0aW9uIF9yc2FzaWduX3NpZ25TdHJpbmdXaXRoU0hBMjU2KGEpe3JldHVybiBfcnNhc2lnbl9zaWduU3RyaW5nLmNhbGwodGhpcyxhLCJzaGEyNTYiKX1mdW5jdGlvbiBwc3NfbWdmMV9zdHIoYyxhLGUpe3ZhciBiPSIiLGQ9MDt3aGlsZShiLmxlbmd0aDxhKXtiKz1oZXh0b3JzdHIoZShyc3RydG9oZXgoYytTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxbKGQmNDI3ODE5MDA4MCk+PjI0LChkJjE2NzExNjgwKT4+MTYsKGQmNjUyODApPj44LGQmMjU1XSkpKSk7ZCs9MX1yZXR1cm4gYn1mdW5jdGlvbiBfcnNhc2lnbl9zaWduU3RyaW5nUFNTKGUsYSxkKXt2YXIgYz1mdW5jdGlvbihmKXtyZXR1cm4gS0pVUi5jcnlwdG8uVXRpbC5oYXNoSGV4KGYsYSl9O3ZhciBiPWMocnN0cnRvaGV4KGUpKTtpZihkPT09dW5kZWZpbmVkKXtkPS0xfXJldHVybiB0aGlzLnNpZ25XaXRoTWVzc2FnZUhhc2hQU1MoYixhLGQpfWZ1bmN0aW9uIF9yc2FzaWduX3NpZ25XaXRoTWVzc2FnZUhhc2hQU1MobCxhLGspe3ZhciBiPWhleHRvcnN0cihsKTt2YXIgZz1iLmxlbmd0aDt2YXIgbT10aGlzLm4uYml0TGVuZ3RoKCktMTt2YXIgYz1NYXRoLmNlaWwobS84KTt2YXIgZDt2YXIgbz1mdW5jdGlvbihpKXtyZXR1cm4gS0pVUi5jcnlwdG8uVXRpbC5oYXNoSGV4KGksYSl9O2lmKGs9PT0tMXx8az09PXVuZGVmaW5lZCl7az1nfWVsc2V7aWYoaz09PS0yKXtrPWMtZy0yfWVsc2V7aWYoazwtMil7dGhyb3ciaW52YWxpZCBzYWx0IGxlbmd0aCJ9fX1pZihjPChnK2srMikpe3Rocm93ImRhdGEgdG9vIGxvbmcifXZhciBmPSIiO2lmKGs+MCl7Zj1uZXcgQXJyYXkoayk7bmV3IFNlY3VyZVJhbmRvbSgpLm5leHRCeXRlcyhmKTtmPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGYpfXZhciBuPWhleHRvcnN0cihvKHJzdHJ0b2hleCgiXHgwMFx4MDBceDAwXHgwMFx4MDBceDAwXHgwMFx4MDAiK2IrZikpKTt2YXIgaj1bXTtmb3IoZD0wO2Q8Yy1rLWctMjtkKz0xKXtqW2RdPTB9dmFyIGU9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsaikrIlx4MDEiK2Y7dmFyIGg9cHNzX21nZjFfc3RyKG4sZS5sZW5ndGgsbyk7dmFyIHE9W107Zm9yKGQ9MDtkPGUubGVuZ3RoO2QrPTEpe3FbZF09ZS5jaGFyQ29kZUF0KGQpXmguY2hhckNvZGVBdChkKX12YXIgcD0oNjUyODA+Pig4KmMtbSkpJjI1NTtxWzBdJj1+cDtmb3IoZD0wO2Q8ZztkKyspe3EucHVzaChuLmNoYXJDb2RlQXQoZCkpfXEucHVzaCgxODgpO3JldHVybiBfemVyb1BhZGRpbmdPZlNpZ25hdHVyZSh0aGlzLmRvUHJpdmF0ZShuZXcgQmlnSW50ZWdlcihxKSkudG9TdHJpbmcoMTYpLHRoaXMubi5iaXRMZW5ndGgoKSl9ZnVuY3Rpb24gX3JzYXNpZ25fZ2V0RGVjcnlwdFNpZ25hdHVyZUJJKGEsZCxjKXt2YXIgYj1uZXcgUlNBS2V5KCk7Yi5zZXRQdWJsaWMoZCxjKTt2YXIgZT1iLmRvUHVibGljKGEpO3JldHVybiBlfWZ1bmN0aW9uIF9yc2FzaWduX2dldEhleERpZ2VzdEluZm9Gcm9tU2lnKGEsYyxiKXt2YXIgZT1fcnNhc2lnbl9nZXREZWNyeXB0U2lnbmF0dXJlQkkoYSxjLGIpO3ZhciBkPWUudG9TdHJpbmcoMTYpLnJlcGxhY2UoL14xZiswMC8sIiIpO3JldHVybiBkfWZ1bmN0aW9uIF9yc2FzaWduX2dldEFsZ05hbWVBbmRIYXNoRnJvbUhleERpc2dlc3RJbmZvKGYpe2Zvcih2YXIgZSBpbiBLSlVSLmNyeXB0by5VdGlsLkRJR0VTVElORk9IRUFEKXt2YXIgZD1LSlVSLmNyeXB0by5VdGlsLkRJR0VTVElORk9IRUFEW2VdO3ZhciBiPWQubGVuZ3RoO2lmKGYuc3Vic3RyaW5nKDAsYik9PWQpe3ZhciBjPVtlLGYuc3Vic3RyaW5nKGIpXTtyZXR1cm4gY319cmV0dXJuW119ZnVuY3Rpb24gX3JzYXNpZ25fdmVyaWZ5U2lnbmF0dXJlV2l0aEFyZ3MoZixiLGcsail7dmFyIGU9X3JzYXNpZ25fZ2V0SGV4RGlnZXN0SW5mb0Zyb21TaWcoYixnLGopO3ZhciBoPV9yc2FzaWduX2dldEFsZ05hbWVBbmRIYXNoRnJvbUhleERpc2dlc3RJbmZvKGUpO2lmKGgubGVuZ3RoPT0wKXtyZXR1cm4gZmFsc2V9dmFyIGQ9aFswXTt2YXIgaT1oWzFdO3ZhciBhPWZ1bmN0aW9uKGspe3JldHVybiBLSlVSLmNyeXB0by5VdGlsLmhhc2hTdHJpbmcoayxkKX07dmFyIGM9YShmKTtyZXR1cm4oaT09Yyl9ZnVuY3Rpb24gX3JzYXNpZ25fdmVyaWZ5SGV4U2lnbmF0dXJlRm9yTWVzc2FnZShjLGIpe3ZhciBkPXBhcnNlQmlnSW50KGMsMTYpO3ZhciBhPV9yc2FzaWduX3ZlcmlmeVNpZ25hdHVyZVdpdGhBcmdzKGIsZCx0aGlzLm4udG9TdHJpbmcoMTYpLHRoaXMuZS50b1N0cmluZygxNikpO3JldHVybiBhfWZ1bmN0aW9uIF9yc2FzaWduX3ZlcmlmeVN0cmluZyhmLGope2o9ai5yZXBsYWNlKF9SRV9IRVhERUNPTkxZLCIiKTtqPWoucmVwbGFjZSgvWyBcbl0rL2csIiIpO3ZhciBiPXBhcnNlQmlnSW50KGosMTYpO2lmKGIuYml0TGVuZ3RoKCk+dGhpcy5uLmJpdExlbmd0aCgpKXtyZXR1cm4gMH12YXIgaT10aGlzLmRvUHVibGljKGIpO3ZhciBlPWkudG9TdHJpbmcoMTYpLnJlcGxhY2UoL14xZiswMC8sIiIpO3ZhciBnPV9yc2FzaWduX2dldEFsZ05hbWVBbmRIYXNoRnJvbUhleERpc2dlc3RJbmZvKGUpO2lmKGcubGVuZ3RoPT0wKXtyZXR1cm4gZmFsc2V9dmFyIGQ9Z1swXTt2YXIgaD1nWzFdO3ZhciBhPWZ1bmN0aW9uKGspe3JldHVybiBLSlVSLmNyeXB0by5VdGlsLmhhc2hTdHJpbmcoayxkKX07dmFyIGM9YShmKTtyZXR1cm4oaD09Yyl9ZnVuY3Rpb24gX3JzYXNpZ25fdmVyaWZ5V2l0aE1lc3NhZ2VIYXNoKGUsYSl7YT1hLnJlcGxhY2UoX1JFX0hFWERFQ09OTFksIiIpO2E9YS5yZXBsYWNlKC9bIFxuXSsvZywiIik7dmFyIGI9cGFyc2VCaWdJbnQoYSwxNik7aWYoYi5iaXRMZW5ndGgoKT50aGlzLm4uYml0TGVuZ3RoKCkpe3JldHVybiAwfXZhciBoPXRoaXMuZG9QdWJsaWMoYik7dmFyIGc9aC50b1N0cmluZygxNikucmVwbGFjZSgvXjFmKzAwLywiIik7dmFyIGM9X3JzYXNpZ25fZ2V0QWxnTmFtZUFuZEhhc2hGcm9tSGV4RGlzZ2VzdEluZm8oZyk7aWYoYy5sZW5ndGg9PTApe3JldHVybiBmYWxzZX12YXIgZD1jWzBdO3ZhciBmPWNbMV07cmV0dXJuKGY9PWUpfWZ1bmN0aW9uIF9yc2FzaWduX3ZlcmlmeVN0cmluZ1BTUyhjLGIsYSxmKXt2YXIgZT1mdW5jdGlvbihnKXtyZXR1cm4gS0pVUi5jcnlwdG8uVXRpbC5oYXNoSGV4KGcsYSl9O3ZhciBkPWUocnN0cnRvaGV4KGMpKTtpZihmPT09dW5kZWZpbmVkKXtmPS0xfXJldHVybiB0aGlzLnZlcmlmeVdpdGhNZXNzYWdlSGFzaFBTUyhkLGIsYSxmKX1mdW5jdGlvbiBfcnNhc2lnbl92ZXJpZnlXaXRoTWVzc2FnZUhhc2hQU1MoZixzLGwsYyl7dmFyIGs9bmV3IEJpZ0ludGVnZXIocywxNik7aWYoay5iaXRMZW5ndGgoKT50aGlzLm4uYml0TGVuZ3RoKCkpe3JldHVybiBmYWxzZX12YXIgcj1mdW5jdGlvbihpKXtyZXR1cm4gS0pVUi5jcnlwdG8uVXRpbC5oYXNoSGV4KGksbCl9O3ZhciBqPWhleHRvcnN0cihmKTt2YXIgaD1qLmxlbmd0aDt2YXIgZz10aGlzLm4uYml0TGVuZ3RoKCktMTt2YXIgbT1NYXRoLmNlaWwoZy84KTt2YXIgcTtpZihjPT09LTF8fGM9PT11bmRlZmluZWQpe2M9aH1lbHNle2lmKGM9PT0tMil7Yz1tLWgtMn1lbHNle2lmKGM8LTIpe3Rocm93ImludmFsaWQgc2FsdCBsZW5ndGgifX19aWYobTwoaCtjKzIpKXt0aHJvdyJkYXRhIHRvbyBsb25nIn12YXIgYT10aGlzLmRvUHVibGljKGspLnRvQnl0ZUFycmF5KCk7Zm9yKHE9MDtxPGEubGVuZ3RoO3ErPTEpe2FbcV0mPTI1NX13aGlsZShhLmxlbmd0aDxtKXthLnVuc2hpZnQoMCl9aWYoYVttLTFdIT09MTg4KXt0aHJvdyJlbmNvZGVkIG1lc3NhZ2UgZG9lcyBub3QgZW5kIGluIDB4YmMifWE9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsYSk7dmFyIGQ9YS5zdWJzdHIoMCxtLWgtMSk7dmFyIGU9YS5zdWJzdHIoZC5sZW5ndGgsaCk7dmFyIHA9KDY1MjgwPj4oOCptLWcpKSYyNTU7aWYoKGQuY2hhckNvZGVBdCgwKSZwKSE9PTApe3Rocm93ImJpdHMgYmV5b25kIGtleXNpemUgbm90IHplcm8ifXZhciBuPXBzc19tZ2YxX3N0cihlLGQubGVuZ3RoLHIpO3ZhciBvPVtdO2ZvcihxPTA7cTxkLmxlbmd0aDtxKz0xKXtvW3FdPWQuY2hhckNvZGVBdChxKV5uLmNoYXJDb2RlQXQocSl9b1swXSY9fnA7dmFyIGI9bS1oLWMtMjtmb3IocT0wO3E8YjtxKz0xKXtpZihvW3FdIT09MCl7dGhyb3cibGVmdG1vc3Qgb2N0ZXRzIG5vdCB6ZXJvIn19aWYob1tiXSE9PTEpe3Rocm93IjB4MDEgbWFya2VyIG5vdCBmb3VuZCJ9cmV0dXJuIGU9PT1oZXh0b3JzdHIocihyc3RydG9oZXgoIlx4MDBceDAwXHgwMFx4MDBceDAwXHgwMFx4MDBceDAwIitqK1N0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLG8uc2xpY2UoLWMpKSkpKX1SU0FLZXkucHJvdG90eXBlLnNpZ25XaXRoTWVzc2FnZUhhc2g9X3JzYXNpZ25fc2lnbldpdGhNZXNzYWdlSGFzaDtSU0FLZXkucHJvdG90eXBlLnNpZ25TdHJpbmc9X3JzYXNpZ25fc2lnblN0cmluZztSU0FLZXkucHJvdG90eXBlLnNpZ25TdHJpbmdXaXRoU0hBMT1fcnNhc2lnbl9zaWduU3RyaW5nV2l0aFNIQTE7UlNBS2V5LnByb3RvdHlwZS5zaWduU3RyaW5nV2l0aFNIQTI1Nj1fcnNhc2lnbl9zaWduU3RyaW5nV2l0aFNIQTI1NjtSU0FLZXkucHJvdG90eXBlLnNpZ249X3JzYXNpZ25fc2lnblN0cmluZztSU0FLZXkucHJvdG90eXBlLnNpZ25XaXRoU0hBMT1fcnNhc2lnbl9zaWduU3RyaW5nV2l0aFNIQTE7UlNBS2V5LnByb3RvdHlwZS5zaWduV2l0aFNIQTI1Nj1fcnNhc2lnbl9zaWduU3RyaW5nV2l0aFNIQTI1NjtSU0FLZXkucHJvdG90eXBlLnNpZ25XaXRoTWVzc2FnZUhhc2hQU1M9X3JzYXNpZ25fc2lnbldpdGhNZXNzYWdlSGFzaFBTUztSU0FLZXkucHJvdG90eXBlLnNpZ25TdHJpbmdQU1M9X3JzYXNpZ25fc2lnblN0cmluZ1BTUztSU0FLZXkucHJvdG90eXBlLnNpZ25QU1M9X3JzYXNpZ25fc2lnblN0cmluZ1BTUztSU0FLZXkuU0FMVF9MRU5fSExFTj0tMTtSU0FLZXkuU0FMVF9MRU5fTUFYPS0yO1JTQUtleS5wcm90b3R5cGUudmVyaWZ5V2l0aE1lc3NhZ2VIYXNoPV9yc2FzaWduX3ZlcmlmeVdpdGhNZXNzYWdlSGFzaDtSU0FLZXkucHJvdG90eXBlLnZlcmlmeVN0cmluZz1fcnNhc2lnbl92ZXJpZnlTdHJpbmc7UlNBS2V5LnByb3RvdHlwZS52ZXJpZnlIZXhTaWduYXR1cmVGb3JNZXNzYWdlPV9yc2FzaWduX3ZlcmlmeUhleFNpZ25hdHVyZUZvck1lc3NhZ2U7UlNBS2V5LnByb3RvdHlwZS52ZXJpZnk9X3JzYXNpZ25fdmVyaWZ5U3RyaW5nO1JTQUtleS5wcm90b3R5cGUudmVyaWZ5SGV4U2lnbmF0dXJlRm9yQnl0ZUFycmF5TWVzc2FnZT1fcnNhc2lnbl92ZXJpZnlIZXhTaWduYXR1cmVGb3JNZXNzYWdlO1JTQUtleS5wcm90b3R5cGUudmVyaWZ5V2l0aE1lc3NhZ2VIYXNoUFNTPV9yc2FzaWduX3ZlcmlmeVdpdGhNZXNzYWdlSGFzaFBTUztSU0FLZXkucHJvdG90eXBlLnZlcmlmeVN0cmluZ1BTUz1fcnNhc2lnbl92ZXJpZnlTdHJpbmdQU1M7UlNBS2V5LnByb3RvdHlwZS52ZXJpZnlQU1M9X3JzYXNpZ25fdmVyaWZ5U3RyaW5nUFNTO1JTQUtleS5TQUxUX0xFTl9SRUNPVkVSPS0yOwovKiEgeDUwOS0xLjEuNi5qcyAoYykgMjAxMi0yMDE1IEtlbmppIFVydXNoaW1hIHwga2p1ci5naXRodWIuY29tL2pzcnNhc2lnbi9saWNlbnNlCiAqLwpmdW5jdGlvbiBYNTA5KCl7dGhpcy5zdWJqZWN0UHVibGljS2V5UlNBPW51bGw7dGhpcy5zdWJqZWN0UHVibGljS2V5UlNBX2hOPW51bGw7dGhpcy5zdWJqZWN0UHVibGljS2V5UlNBX2hFPW51bGw7dGhpcy5oZXg9bnVsbDt0aGlzLmdldFNlcmlhbE51bWJlckhleD1mdW5jdGlvbigpe3JldHVybiBBU04xSEVYLmdldERlY2VuZGFudEhleFZCeU50aExpc3QodGhpcy5oZXgsMCxbMCwxXSl9O3RoaXMuZ2V0SXNzdWVySGV4PWZ1bmN0aW9uKCl7cmV0dXJuIEFTTjFIRVguZ2V0RGVjZW5kYW50SGV4VExWQnlOdGhMaXN0KHRoaXMuaGV4LDAsWzAsM10pfTt0aGlzLmdldElzc3VlclN0cmluZz1mdW5jdGlvbigpe3JldHVybiBYNTA5LmhleDJkbihBU04xSEVYLmdldERlY2VuZGFudEhleFRMVkJ5TnRoTGlzdCh0aGlzLmhleCwwLFswLDNdKSl9O3RoaXMuZ2V0U3ViamVjdEhleD1mdW5jdGlvbigpe3JldHVybiBBU04xSEVYLmdldERlY2VuZGFudEhleFRMVkJ5TnRoTGlzdCh0aGlzLmhleCwwLFswLDVdKX07dGhpcy5nZXRTdWJqZWN0U3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIFg1MDkuaGV4MmRuKEFTTjFIRVguZ2V0RGVjZW5kYW50SGV4VExWQnlOdGhMaXN0KHRoaXMuaGV4LDAsWzAsNV0pKX07dGhpcy5nZXROb3RCZWZvcmU9ZnVuY3Rpb24oKXt2YXIgYT1BU04xSEVYLmdldERlY2VuZGFudEhleFZCeU50aExpc3QodGhpcy5oZXgsMCxbMCw0LDBdKTthPWEucmVwbGFjZSgvKC4uKS9nLCIlJDEiKTthPWRlY29kZVVSSUNvbXBvbmVudChhKTtyZXR1cm4gYX07dGhpcy5nZXROb3RBZnRlcj1mdW5jdGlvbigpe3ZhciBhPUFTTjFIRVguZ2V0RGVjZW5kYW50SGV4VkJ5TnRoTGlzdCh0aGlzLmhleCwwLFswLDQsMV0pO2E9YS5yZXBsYWNlKC8oLi4pL2csIiUkMSIpO2E9ZGVjb2RlVVJJQ29tcG9uZW50KGEpO3JldHVybiBhfTt0aGlzLnJlYWRDZXJ0UEVNPWZ1bmN0aW9uKGMpe3ZhciBlPVg1MDkucGVtVG9IZXgoYyk7dmFyIGI9WDUwOS5nZXRQdWJsaWNLZXlIZXhBcnJheUZyb21DZXJ0SGV4KGUpO3ZhciBkPW5ldyBSU0FLZXkoKTtkLnNldFB1YmxpYyhiWzBdLGJbMV0pO3RoaXMuc3ViamVjdFB1YmxpY0tleVJTQT1kO3RoaXMuc3ViamVjdFB1YmxpY0tleVJTQV9oTj1iWzBdO3RoaXMuc3ViamVjdFB1YmxpY0tleVJTQV9oRT1iWzFdO3RoaXMuaGV4PWV9O3RoaXMucmVhZENlcnRQRU1XaXRob3V0UlNBSW5pdD1mdW5jdGlvbihjKXt2YXIgZD1YNTA5LnBlbVRvSGV4KGMpO3ZhciBiPVg1MDkuZ2V0UHVibGljS2V5SGV4QXJyYXlGcm9tQ2VydEhleChkKTt0aGlzLnN1YmplY3RQdWJsaWNLZXlSU0Euc2V0UHVibGljKGJbMF0sYlsxXSk7dGhpcy5zdWJqZWN0UHVibGljS2V5UlNBX2hOPWJbMF07dGhpcy5zdWJqZWN0UHVibGljS2V5UlNBX2hFPWJbMV07dGhpcy5oZXg9ZH19WDUwOS5wZW1Ub0Jhc2U2ND1mdW5jdGlvbihhKXt2YXIgYj1hO2I9Yi5yZXBsYWNlKCItLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0iLCIiKTtiPWIucmVwbGFjZSgiLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLSIsIiIpO2I9Yi5yZXBsYWNlKC9bIFxuXSsvZywiIik7cmV0dXJuIGJ9O1g1MDkucGVtVG9IZXg9ZnVuY3Rpb24oYSl7dmFyIGM9WDUwOS5wZW1Ub0Jhc2U2NChhKTt2YXIgYj1iNjR0b2hleChjKTtyZXR1cm4gYn07WDUwOS5nZXRTdWJqZWN0UHVibGljS2V5UG9zRnJvbUNlcnRIZXg9ZnVuY3Rpb24oZil7dmFyIGU9WDUwOS5nZXRTdWJqZWN0UHVibGljS2V5SW5mb1Bvc0Zyb21DZXJ0SGV4KGYpO2lmKGU9PS0xKXtyZXR1cm4gLTF9dmFyIGI9QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmooZixlKTtpZihiLmxlbmd0aCE9Mil7cmV0dXJuIC0xfXZhciBkPWJbMV07aWYoZi5zdWJzdHJpbmcoZCxkKzIpIT0iMDMiKXtyZXR1cm4gLTF9dmFyIGM9QVNOMUhFWC5nZXRTdGFydFBvc09mVl9BdE9iaihmLGQpO2lmKGYuc3Vic3RyaW5nKGMsYysyKSE9IjAwIil7cmV0dXJuIC0xfXJldHVybiBjKzJ9O1g1MDkuZ2V0U3ViamVjdFB1YmxpY0tleUluZm9Qb3NGcm9tQ2VydEhleD1mdW5jdGlvbihkKXt2YXIgYz1BU04xSEVYLmdldFN0YXJ0UG9zT2ZWX0F0T2JqKGQsMCk7dmFyIGI9QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmooZCxjKTtpZihiLmxlbmd0aDwxKXtyZXR1cm4gLTF9aWYoZC5zdWJzdHJpbmcoYlswXSxiWzBdKzEwKT09ImEwMDMwMjAxMDIiKXtpZihiLmxlbmd0aDw2KXtyZXR1cm4gLTF9cmV0dXJuIGJbNl19ZWxzZXtpZihiLmxlbmd0aDw1KXtyZXR1cm4gLTF9cmV0dXJuIGJbNV19fTtYNTA5LmdldFB1YmxpY0tleUhleEFycmF5RnJvbUNlcnRIZXg9ZnVuY3Rpb24oZil7dmFyIGU9WDUwOS5nZXRTdWJqZWN0UHVibGljS2V5UG9zRnJvbUNlcnRIZXgoZik7dmFyIGI9QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmooZixlKTtpZihiLmxlbmd0aCE9Mil7cmV0dXJuW119dmFyIGQ9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmooZixiWzBdKTt2YXIgYz1BU04xSEVYLmdldEhleE9mVl9BdE9iaihmLGJbMV0pO2lmKGQhPW51bGwmJmMhPW51bGwpe3JldHVybltkLGNdfWVsc2V7cmV0dXJuW119fTtYNTA5LmdldEhleFRic0NlcnRpZmljYXRlRnJvbUNlcnQ9ZnVuY3Rpb24oYil7dmFyIGE9QVNOMUhFWC5nZXRTdGFydFBvc09mVl9BdE9iaihiLDApO3JldHVybiBhfTtYNTA5LmdldFB1YmxpY0tleUhleEFycmF5RnJvbUNlcnRQRU09ZnVuY3Rpb24oYyl7dmFyIGQ9WDUwOS5wZW1Ub0hleChjKTt2YXIgYj1YNTA5LmdldFB1YmxpY0tleUhleEFycmF5RnJvbUNlcnRIZXgoZCk7cmV0dXJuIGJ9O1g1MDkuaGV4MmRuPWZ1bmN0aW9uKGUpe3ZhciBmPSIiO3ZhciBjPUFTTjFIRVguZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKGUsMCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBiPUFTTjFIRVguZ2V0SGV4T2ZUTFZfQXRPYmooZSxjW2RdKTtmPWYrIi8iK1g1MDkuaGV4MnJkbihiKX1yZXR1cm4gZn07WDUwOS5oZXgycmRuPWZ1bmN0aW9uKGEpe3ZhciBmPUFTTjFIRVguZ2V0RGVjZW5kYW50SGV4VExWQnlOdGhMaXN0KGEsMCxbMCwwXSk7dmFyIGU9QVNOMUhFWC5nZXREZWNlbmRhbnRIZXhWQnlOdGhMaXN0KGEsMCxbMCwxXSk7dmFyIGM9IiI7dHJ5e2M9WDUwOS5ETl9BVFRSSEVYW2ZdfWNhdGNoKGIpe2M9Zn1lPWUucmVwbGFjZSgvKC4uKS9nLCIlJDEiKTt2YXIgZD1kZWNvZGVVUklDb21wb25lbnQoZSk7cmV0dXJuIGMrIj0iK2R9O1g1MDkuRE5fQVRUUkhFWD17IjA2MDM1NTA0MDYiOiJDIiwiMDYwMzU1MDQwYSI6Ik8iLCIwNjAzNTUwNDBiIjoiT1UiLCIwNjAzNTUwNDAzIjoiQ04iLCIwNjAzNTUwNDA1IjoiU04iLCIwNjAzNTUwNDA4IjoiU1QiLCIwNjAzNTUwNDA3IjoiTCIsfTtYNTA5LmdldFB1YmxpY0tleUZyb21DZXJ0UEVNPWZ1bmN0aW9uKGYpe3ZhciBjPVg1MDkuZ2V0UHVibGljS2V5SW5mb1Byb3BPZkNlcnRQRU0oZik7aWYoYy5hbGdvaWQ9PSIyYTg2NDg4NmY3MGQwMTAxMDEiKXt2YXIgaT1LRVlVVElMLnBhcnNlUHVibGljUmF3UlNBS2V5SGV4KGMua2V5aGV4KTt2YXIgaj1uZXcgUlNBS2V5KCk7ai5zZXRQdWJsaWMoaS5uLGkuZSk7cmV0dXJuIGp9ZWxzZXtpZihjLmFsZ29pZD09IjJhODY0OGNlM2QwMjAxIil7dmFyIGU9S0pVUi5jcnlwdG8uT0lELm9pZGhleDJuYW1lW2MuYWxncGFyYW1dO3ZhciBqPW5ldyBLSlVSLmNyeXB0by5FQ0RTQSh7Y3VydmU6ZSxpbmZvOmMua2V5aGV4fSk7ai5zZXRQdWJsaWNLZXlIZXgoYy5rZXloZXgpO3JldHVybiBqfWVsc2V7aWYoYy5hbGdvaWQ9PSIyYTg2NDhjZTM4MDQwMSIpe3ZhciBiPUFTTjFIRVguZ2V0VmJ5TGlzdChjLmFsZ3BhcmFtLDAsWzBdLCIwMiIpO3ZhciBhPUFTTjFIRVguZ2V0VmJ5TGlzdChjLmFsZ3BhcmFtLDAsWzFdLCIwMiIpO3ZhciBkPUFTTjFIRVguZ2V0VmJ5TGlzdChjLmFsZ3BhcmFtLDAsWzJdLCIwMiIpO3ZhciBoPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKGMua2V5aGV4LDApO2g9aC5zdWJzdHIoMik7dmFyIGo9bmV3IEtKVVIuY3J5cHRvLkRTQSgpO2ouc2V0UHVibGljKG5ldyBCaWdJbnRlZ2VyKGIsMTYpLG5ldyBCaWdJbnRlZ2VyKGEsMTYpLG5ldyBCaWdJbnRlZ2VyKGQsMTYpLG5ldyBCaWdJbnRlZ2VyKGgsMTYpKTtyZXR1cm4gan1lbHNle3Rocm93InVuc3VwcG9ydGVkIGtleSJ9fX19O1g1MDkuZ2V0UHVibGljS2V5SW5mb1Byb3BPZkNlcnRQRU09ZnVuY3Rpb24oZSl7dmFyIGM9e307Yy5hbGdwYXJhbT1udWxsO3ZhciBnPVg1MDkucGVtVG9IZXgoZSk7dmFyIGQ9QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmooZywwKTtpZihkLmxlbmd0aCE9Myl7dGhyb3cibWFsZm9ybWVkIFguNTA5IGNlcnRpZmljYXRlIFBFTSAoY29kZTowMDEpIn1pZihnLnN1YnN0cihkWzBdLDIpIT0iMzAiKXt0aHJvdyJtYWxmb3JtZWQgWC41MDkgY2VydGlmaWNhdGUgUEVNIChjb2RlOjAwMikifXZhciBiPUFTTjFIRVguZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKGcsZFswXSk7aWYoYi5sZW5ndGg8Nyl7dGhyb3cibWFsZm9ybWVkIFguNTA5IGNlcnRpZmljYXRlIFBFTSAoY29kZTowMDMpIn12YXIgaD1BU04xSEVYLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaihnLGJbNl0pO2lmKGgubGVuZ3RoIT0yKXt0aHJvdyJtYWxmb3JtZWQgWC41MDkgY2VydGlmaWNhdGUgUEVNIChjb2RlOjAwNCkifXZhciBmPUFTTjFIRVguZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKGcsaFswXSk7aWYoZi5sZW5ndGghPTIpe3Rocm93Im1hbGZvcm1lZCBYLjUwOSBjZXJ0aWZpY2F0ZSBQRU0gKGNvZGU6MDA1KSJ9Yy5hbGdvaWQ9QVNOMUhFWC5nZXRIZXhPZlZfQXRPYmooZyxmWzBdKTtpZihnLnN1YnN0cihmWzFdLDIpPT0iMDYiKXtjLmFsZ3BhcmFtPUFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKGcsZlsxXSl9ZWxzZXtpZihnLnN1YnN0cihmWzFdLDIpPT0iMzAiKXtjLmFsZ3BhcmFtPUFTTjFIRVguZ2V0SGV4T2ZUTFZfQXRPYmooZyxmWzFdKX19aWYoZy5zdWJzdHIoaFsxXSwyKSE9IjAzIil7dGhyb3cibWFsZm9ybWVkIFguNTA5IGNlcnRpZmljYXRlIFBFTSAoY29kZTowMDYpIn12YXIgYT1BU04xSEVYLmdldEhleE9mVl9BdE9iaihnLGhbMV0pO2Mua2V5aGV4PWEuc3Vic3RyKDIpO3JldHVybiBjfTtYNTA5LmdldFB1YmxpY0tleUluZm9Qb3NPZkNlcnRIRVg9ZnVuY3Rpb24oYyl7dmFyIGI9QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmooYywwKTtpZihiLmxlbmd0aCE9Myl7dGhyb3cibWFsZm9ybWVkIFguNTA5IGNlcnRpZmljYXRlIFBFTSAoY29kZTowMDEpIn1pZihjLnN1YnN0cihiWzBdLDIpIT0iMzAiKXt0aHJvdyJtYWxmb3JtZWQgWC41MDkgY2VydGlmaWNhdGUgUEVNIChjb2RlOjAwMikifXZhciBhPUFTTjFIRVguZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKGMsYlswXSk7aWYoYS5sZW5ndGg8Nyl7dGhyb3cibWFsZm9ybWVkIFguNTA5IGNlcnRpZmljYXRlIFBFTSAoY29kZTowMDMpIn1yZXR1cm4gYVs2XX07WDUwOS5nZXRWM0V4dEluZm9MaXN0T2ZDZXJ0SGV4PWZ1bmN0aW9uKGcpe3ZhciBiPUFTTjFIRVguZ2V0UG9zQXJyYXlPZkNoaWxkcmVuX0F0T2JqKGcsMCk7aWYoYi5sZW5ndGghPTMpe3Rocm93Im1hbGZvcm1lZCBYLjUwOSBjZXJ0aWZpY2F0ZSBQRU0gKGNvZGU6MDAxKSJ9aWYoZy5zdWJzdHIoYlswXSwyKSE9IjMwIil7dGhyb3cibWFsZm9ybWVkIFguNTA5IGNlcnRpZmljYXRlIFBFTSAoY29kZTowMDIpIn12YXIgYT1BU04xSEVYLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaihnLGJbMF0pO2lmKGEubGVuZ3RoPDgpe3Rocm93Im1hbGZvcm1lZCBYLjUwOSBjZXJ0aWZpY2F0ZSBQRU0gKGNvZGU6MDAzKSJ9aWYoZy5zdWJzdHIoYVs3XSwyKSE9ImEzIil7dGhyb3cibWFsZm9ybWVkIFguNTA5IGNlcnRpZmljYXRlIFBFTSAoY29kZTowMDQpIn12YXIgaD1BU04xSEVYLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaihnLGFbN10pO2lmKGgubGVuZ3RoIT0xKXt0aHJvdyJtYWxmb3JtZWQgWC41MDkgY2VydGlmaWNhdGUgUEVNIChjb2RlOjAwNSkifWlmKGcuc3Vic3RyKGhbMF0sMikhPSIzMCIpe3Rocm93Im1hbGZvcm1lZCBYLjUwOSBjZXJ0aWZpY2F0ZSBQRU0gKGNvZGU6MDA2KSJ9dmFyIGY9QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmooZyxoWzBdKTt2YXIgZT1mLmxlbmd0aDt2YXIgZD1uZXcgQXJyYXkoZSk7Zm9yKHZhciBjPTA7YzxlO2MrKyl7ZFtjXT1YNTA5LmdldFYzRXh0SXRlbUluZm9fQXRPYmooZyxmW2NdKX1yZXR1cm4gZH07WDUwOS5nZXRWM0V4dEl0ZW1JbmZvX0F0T2JqPWZ1bmN0aW9uKGYsZyl7dmFyIGU9e307ZS5wb3NUTFY9Zzt2YXIgYj1BU04xSEVYLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaihmLGcpO2lmKGIubGVuZ3RoIT0yJiZiLmxlbmd0aCE9Myl7dGhyb3cibWFsZm9ybWVkIFguNTA5djMgRXh0IChjb2RlOjAwMSkifWlmKGYuc3Vic3RyKGJbMF0sMikhPSIwNiIpe3Rocm93Im1hbGZvcm1lZCBYLjUwOXYzIEV4dCAoY29kZTowMDIpIn12YXIgZD1BU04xSEVYLmdldEhleE9mVl9BdE9iaihmLGJbMF0pO2Uub2lkPUFTTjFIRVguaGV4dG9vaWRzdHIoZCk7ZS5jcml0aWNhbD1mYWxzZTtpZihiLmxlbmd0aD09Myl7ZS5jcml0aWNhbD10cnVlfXZhciBjPWJbYi5sZW5ndGgtMV07aWYoZi5zdWJzdHIoYywyKSE9IjA0Iil7dGhyb3cibWFsZm9ybWVkIFguNTA5djMgRXh0IChjb2RlOjAwMykifWUucG9zVj1BU04xSEVYLmdldFN0YXJ0UG9zT2ZWX0F0T2JqKGYsYyk7cmV0dXJuIGV9O1g1MDkuZ2V0SGV4T2ZUTFZfVjNFeHRWYWx1ZT1mdW5jdGlvbihiLGEpe3ZhciBjPVg1MDkuZ2V0UG9zT2ZUTFZfVjNFeHRWYWx1ZShiLGEpO2lmKGM9PS0xKXtyZXR1cm4iIn1yZXR1cm4gQVNOMUhFWC5nZXRIZXhPZlRMVl9BdE9iaihiLGMpfTtYNTA5LmdldEhleE9mVl9WM0V4dFZhbHVlPWZ1bmN0aW9uKGIsYSl7dmFyIGM9WDUwOS5nZXRQb3NPZlRMVl9WM0V4dFZhbHVlKGIsYSk7aWYoYz09LTEpe3JldHVybiIifXJldHVybiBBU04xSEVYLmdldEhleE9mVl9BdE9iaihiLGMpfTtYNTA5LmdldFBvc09mVExWX1YzRXh0VmFsdWU9ZnVuY3Rpb24oZixiKXt2YXIgZD1iO2lmKCFiLm1hdGNoKC9eWzAtOS5dKyQvKSl7ZD1LSlVSLmFzbjEueDUwOS5PSUQubmFtZTJvaWQoYil9aWYoZD09IiIpe3JldHVybiAtMX12YXIgYz1YNTA5LmdldFYzRXh0SW5mb0xpc3RPZkNlcnRIZXgoZik7Zm9yKHZhciBhPTA7YTxjLmxlbmd0aDthKyspe3ZhciBlPWNbYV07aWYoZS5vaWQ9PWQpe3JldHVybiBlLnBvc1Z9fXJldHVybiAtMX07WDUwOS5LRVlVU0FHRV9OQU1FPVsiZGlnaXRhbFNpZ25hdHVyZSIsIm5vblJlcHVkaWF0aW9uIiwia2V5RW5jaXBoZXJtZW50IiwiZGF0YUVuY2lwaGVybWVudCIsImtleUFncmVlbWVudCIsImtleUNlcnRTaWduIiwiY1JMU2lnbiIsImVuY2lwaGVyT25seSIsImRlY2lwaGVyT25seSJdO1g1MDkuZ2V0RXh0S2V5VXNhZ2VCaW49ZnVuY3Rpb24oZCl7dmFyIGI9WDUwOS5nZXRIZXhPZlZfVjNFeHRWYWx1ZShkLCJrZXlVc2FnZSIpO2lmKGI9PSIiKXtyZXR1cm4iIn1pZihiLmxlbmd0aCUyIT0wfHxiLmxlbmd0aDw9Mil7dGhyb3cibWFsZm9ybWVkIGtleSB1c2FnZSB2YWx1ZSJ9dmFyIGE9cGFyc2VJbnQoYi5zdWJzdHIoMCwyKSk7dmFyIGM9cGFyc2VJbnQoYi5zdWJzdHIoMiksMTYpLnRvU3RyaW5nKDIpO3JldHVybiBjLnN1YnN0cigwLGMubGVuZ3RoLWEpfTtYNTA5LmdldEV4dEtleVVzYWdlU3RyaW5nPWZ1bmN0aW9uKGUpe3ZhciBkPVg1MDkuZ2V0RXh0S2V5VXNhZ2VCaW4oZSk7dmFyIGI9bmV3IEFycmF5KCk7Zm9yKHZhciBjPTA7YzxkLmxlbmd0aDtjKyspe2lmKGQuc3Vic3RyKGMsMSk9PSIxIil7Yi5wdXNoKFg1MDkuS0VZVVNBR0VfTkFNRVtjXSl9fXJldHVybiBiLmpvaW4oIiwiKX07WDUwOS5nZXRFeHRBSUFJbmZvPWZ1bmN0aW9uKGcpe3ZhciBqPXt9O2oub2NzcD1bXTtqLmNhaXNzdWVyPVtdO3ZhciBoPVg1MDkuZ2V0UG9zT2ZUTFZfVjNFeHRWYWx1ZShnLCJhdXRob3JpdHlJbmZvQWNjZXNzIik7aWYoaD09LTEpe3JldHVybiBudWxsfWlmKGcuc3Vic3RyKGgsMikhPSIzMCIpe3Rocm93Im1hbGZvcm1lZCBBSUEgRXh0biBWYWx1ZSJ9dmFyIGQ9QVNOMUhFWC5nZXRQb3NBcnJheU9mQ2hpbGRyZW5fQXRPYmooZyxoKTtmb3IodmFyIGM9MDtjPGQubGVuZ3RoO2MrKyl7dmFyIGE9ZFtjXTt2YXIgYj1BU04xSEVYLmdldFBvc0FycmF5T2ZDaGlsZHJlbl9BdE9iaihnLGEpO2lmKGIubGVuZ3RoIT0yKXt0aHJvdyJtYWxmb3JtZWQgQWNjZXNzRGVzY3JpcHRpb24gb2YgQUlBIEV4dG4ifXZhciBlPWJbMF07dmFyIGY9YlsxXTtpZihBU04xSEVYLmdldEhleE9mVl9BdE9iaihnLGUpPT0iMmIwNjAxMDUwNTA3MzAwMSIpe2lmKGcuc3Vic3RyKGYsMik9PSI4NiIpe2oub2NzcC5wdXNoKGhleHRvdXRmOChBU04xSEVYLmdldEhleE9mVl9BdE9iaihnLGYpKSl9fWlmKEFTTjFIRVguZ2V0SGV4T2ZWX0F0T2JqKGcsZSk9PSIyYjA2MDEwNTA1MDczMDAyIil7aWYoZy5zdWJzdHIoZiwyKT09Ijg2Iil7ai5jYWlzc3Vlci5wdXNoKGhleHRvdXRmOChBU04xSEVYLmdldEhleE9mVl9BdE9iaihnLGYpKSl9fX1yZXR1cm4gan07Ci8qISBNaWtlIFNhbXVlbCAoYykgMjAwOSB8IGNvZGUuZ29vZ2xlLmNvbS9wL2pzb24tc2Fucy1ldmFsCiAqLwp2YXIganNvblBhcnNlPShmdW5jdGlvbigpe3ZhciBlPSIoPzotP1xcYig/OjB8WzEtOV1bMC05XSopKD86XFwuWzAtOV0rKT8oPzpbZUVdWystXT9bMC05XSspP1xcYikiO3ZhciBqPScoPzpbXlxcMC1cXHgwOFxceDBhLVxceDFmIlxcXFxdfFxcXFwoPzpbIi9cXFxcYmZucnRdfHVbMC05QS1GYS1mXXs0fSkpJzt2YXIgaT0nKD86IicraisnKiIpJzt2YXIgZD1uZXcgUmVnRXhwKCIoPzpmYWxzZXx0cnVlfG51bGx8W1xce1xcfVxcW1xcXV18IitlKyJ8IitpKyIpIiwiZyIpO3ZhciBrPW5ldyBSZWdFeHAoIlxcXFwoPzooW151XSl8dSguezR9KSkiLCJnIik7dmFyIGc9eyciJzonIicsIi8iOiIvIiwiXFwiOiJcXCIsYjoiXGIiLGY6IlxmIixuOiJcbiIscjoiXHIiLHQ6Ilx0In07ZnVuY3Rpb24gaChsLG0sbil7cmV0dXJuIG0/Z1ttXTpTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KG4sMTYpKX12YXIgYz1uZXcgU3RyaW5nKCIiKTt2YXIgYT0iXFwiO3ZhciBmPXsieyI6T2JqZWN0LCJbIjpBcnJheX07dmFyIGI9T2JqZWN0Lmhhc093blByb3BlcnR5O3JldHVybiBmdW5jdGlvbih1LHEpe3ZhciBwPXUubWF0Y2goZCk7dmFyIHg7dmFyIHY9cFswXTt2YXIgbD1mYWxzZTtpZigieyI9PT12KXt4PXt9fWVsc2V7aWYoIlsiPT09dil7eD1bXX1lbHNle3g9W107bD10cnVlfX12YXIgdDt2YXIgcj1beF07Zm9yKHZhciBvPTEtbCxtPXAubGVuZ3RoO288bTsrK28pe3Y9cFtvXTt2YXIgdztzd2l0Y2godi5jaGFyQ29kZUF0KDApKXtkZWZhdWx0Onc9clswXTt3W3R8fHcubGVuZ3RoXT0rKHYpO3Q9dm9pZCAwO2JyZWFrO2Nhc2UgMzQ6dj12LnN1YnN0cmluZygxLHYubGVuZ3RoLTEpO2lmKHYuaW5kZXhPZihhKSE9PS0xKXt2PXYucmVwbGFjZShrLGgpfXc9clswXTtpZighdCl7aWYodyBpbnN0YW5jZW9mIEFycmF5KXt0PXcubGVuZ3RofWVsc2V7dD12fHxjO2JyZWFrfX13W3RdPXY7dD12b2lkIDA7YnJlYWs7Y2FzZSA5MTp3PXJbMF07ci51bnNoaWZ0KHdbdHx8dy5sZW5ndGhdPVtdKTt0PXZvaWQgMDticmVhaztjYXNlIDkzOnIuc2hpZnQoKTticmVhaztjYXNlIDEwMjp3PXJbMF07d1t0fHx3Lmxlbmd0aF09ZmFsc2U7dD12b2lkIDA7YnJlYWs7Y2FzZSAxMTA6dz1yWzBdO3dbdHx8dy5sZW5ndGhdPW51bGw7dD12b2lkIDA7YnJlYWs7Y2FzZSAxMTY6dz1yWzBdO3dbdHx8dy5sZW5ndGhdPXRydWU7dD12b2lkIDA7YnJlYWs7Y2FzZSAxMjM6dz1yWzBdO3IudW5zaGlmdCh3W3R8fHcubGVuZ3RoXT17fSk7dD12b2lkIDA7YnJlYWs7Y2FzZSAxMjU6ci5zaGlmdCgpO2JyZWFrfX1pZihsKXtpZihyLmxlbmd0aCE9PTEpe3Rocm93IG5ldyBFcnJvcigpfXg9eFswXX1lbHNle2lmKHIubGVuZ3RoKXt0aHJvdyBuZXcgRXJyb3IoKX19aWYocSl7dmFyIHM9ZnVuY3Rpb24oQyxCKXt2YXIgRD1DW0JdO2lmKEQmJnR5cGVvZiBEPT09Im9iamVjdCIpe3ZhciBuPW51bGw7Zm9yKHZhciB6IGluIEQpe2lmKGIuY2FsbChELHopJiZEIT09Qyl7dmFyIHk9cyhELHopO2lmKHkhPT12b2lkIDApe0Rbel09eX1lbHNle2lmKCFuKXtuPVtdfW4ucHVzaCh6KX19fWlmKG4pe2Zvcih2YXIgQT1uLmxlbmd0aDstLUE+PTA7KXtkZWxldGUgRFtuW0FdXX19fXJldHVybiBxLmNhbGwoQyxCLEQpfTt4PXMoeyIiOnh9LCIiKX1yZXR1cm4geH19KSgpOwovKiEgandzLTMuMy4zIChjKSAyMDEzLTIwMTUgS2VuamkgVXJ1c2hpbWEgfCBranVyLmdpdGh1Yi5jb20vanNyc2FzaWduL2xpY2Vuc2UKICovCmlmKHR5cGVvZiBLSlVSPT0idW5kZWZpbmVkInx8IUtKVVIpe0tKVVI9e319aWYodHlwZW9mIEtKVVIuandzPT0idW5kZWZpbmVkInx8IUtKVVIuandzKXtLSlVSLmp3cz17fX1LSlVSLmp3cy5KV1M9ZnVuY3Rpb24oKXt2YXIgYT1LSlVSLmp3cy5KV1M7dGhpcy5wYXJzZUpXUz1mdW5jdGlvbihlLGcpe2lmKCh0aGlzLnBhcnNlZEpXUyE9PXVuZGVmaW5lZCkmJihnfHwodGhpcy5wYXJzZWRKV1Muc2lndmFsSCE9PXVuZGVmaW5lZCkpKXtyZXR1cm59aWYoZS5tYXRjaCgvXihbXi5dKylcLihbXi5dKylcLihbXi5dKykkLyk9PW51bGwpe3Rocm93IkpXUyBzaWduYXR1cmUgaXMgbm90IGEgZm9ybSBvZiAnSGVhZC5QYXlsb2FkLlNpZ1ZhbHVlJy4ifXZhciBoPVJlZ0V4cC4kMTt2YXIgYz1SZWdFeHAuJDI7dmFyIGk9UmVnRXhwLiQzO3ZhciBrPWgrIi4iK2M7dGhpcy5wYXJzZWRKV1M9e307dGhpcy5wYXJzZWRKV1MuaGVhZEI2NFU9aDt0aGlzLnBhcnNlZEpXUy5wYXlsb2FkQjY0VT1jO3RoaXMucGFyc2VkSldTLnNpZ3ZhbEI2NFU9aTt0aGlzLnBhcnNlZEpXUy5zaT1rO2lmKCFnKXt2YXIgZj1iNjR1dG9oZXgoaSk7dmFyIGQ9cGFyc2VCaWdJbnQoZiwxNik7dGhpcy5wYXJzZWRKV1Muc2lndmFsSD1mO3RoaXMucGFyc2VkSldTLnNpZ3ZhbEJJPWR9dmFyIGI9YjY0dXRvdXRmOChoKTt2YXIgaj1iNjR1dG91dGY4KGMpO3RoaXMucGFyc2VkSldTLmhlYWRTPWI7dGhpcy5wYXJzZWRKV1MucGF5bG9hZFM9ajtpZighYS5pc1NhZmVKU09OU3RyaW5nKGIsdGhpcy5wYXJzZWRKV1MsImhlYWRQIikpe3Rocm93Im1hbGZvcm1lZCBKU09OIHN0cmluZyBmb3IgSldTIEhlYWQ6ICIrYn19fTtLSlVSLmp3cy5KV1Muc2lnbj1mdW5jdGlvbihhLGksYyxtLGwpe3ZhciBrPUtKVVIuandzLkpXUzt2YXIgcSxlLGo7aWYodHlwZW9mIGkhPSJzdHJpbmciJiZ0eXBlb2YgaSE9Im9iamVjdCIpe3Rocm93InNwSGVhZGVyIG11c3QgYmUgSlNPTiBzdHJpbmcgb3Igb2JqZWN0OiAiK2l9aWYodHlwZW9mIGk9PSJvYmplY3QiKXtlPWk7cT1KU09OLnN0cmluZ2lmeShlKX1pZih0eXBlb2YgaT09InN0cmluZyIpe3E9aTtpZighay5pc1NhZmVKU09OU3RyaW5nKHEpKXt0aHJvdyJKV1MgSGVhZCBpcyBub3Qgc2FmZSBKU09OIHN0cmluZzogIitxfWU9ay5yZWFkU2FmZUpTT05TdHJpbmcocSl9aj1jO2lmKHR5cGVvZiBjPT0ib2JqZWN0Iil7aj1KU09OLnN0cmluZ2lmeShjKX1pZigoYT09IiJ8fGE9PW51bGwpJiZlLmFsZyE9PXVuZGVmaW5lZCl7YT1lLmFsZ31pZigoYSE9IiImJmEhPW51bGwpJiZlLmFsZz09PXVuZGVmaW5lZCl7ZS5hbGc9YTtxPUpTT04uc3RyaW5naWZ5KGUpfWlmKGEhPT1lLmFsZyl7dGhyb3ciYWxnIGFuZCBzSGVhZGVyLmFsZyBkb2Vzbid0IG1hdGNoOiAiK2ErIiE9IitlLmFsZ312YXIgZD1udWxsO2lmKGsuandzYWxnMnNpZ2FsZ1thXT09PXVuZGVmaW5lZCl7dGhyb3cidW5zdXBwb3J0ZWQgYWxnIG5hbWU6ICIrYX1lbHNle2Q9ay5qd3NhbGcyc2lnYWxnW2FdfXZhciBiPXV0Zjh0b2I2NHUocSk7dmFyIGc9dXRmOHRvYjY0dShqKTt2YXIgbz1iKyIuIitnO3ZhciBuPSIiO2lmKGQuc3Vic3RyKDAsNCk9PSJIbWFjIil7aWYobT09PXVuZGVmaW5lZCl7dGhyb3cibWFjIGtleSBzaGFsbCBiZSBzcGVjaWZpZWQgZm9yIEhTKiBhbGcifXZhciBoPW5ldyBLSlVSLmNyeXB0by5NYWMoe2FsZzpkLHByb3Y6ImNyeXB0b2pzIixwYXNzOm19KTtoLnVwZGF0ZVN0cmluZyhvKTtuPWguZG9GaW5hbCgpfWVsc2V7aWYoZC5pbmRleE9mKCJ3aXRoRUNEU0EiKSE9LTEpe3ZhciBwPW5ldyBLSlVSLmNyeXB0by5TaWduYXR1cmUoe2FsZzpkfSk7cC5pbml0KG0sbCk7cC51cGRhdGVTdHJpbmcobyk7aEFTTjFTaWc9cC5zaWduKCk7bj1LSlVSLmNyeXB0by5FQ0RTQS5hc24xU2lnVG9Db25jYXRTaWcoaEFTTjFTaWcpfWVsc2V7aWYoZCE9Im5vbmUiKXt2YXIgcD1uZXcgS0pVUi5jcnlwdG8uU2lnbmF0dXJlKHthbGc6ZH0pO3AuaW5pdChtLGwpO3AudXBkYXRlU3RyaW5nKG8pO249cC5zaWduKCl9fX12YXIgZj1oZXh0b2I2NHUobik7cmV0dXJuIG8rIi4iK2Z9O0tKVVIuandzLkpXUy52ZXJpZnk9ZnVuY3Rpb24ocCx0LGope3ZhciBtPUtKVVIuandzLkpXUzt2YXIgcT1wLnNwbGl0KCIuIik7dmFyIGQ9cVswXTt2YXIgbD1xWzFdO3ZhciBiPWQrIi4iK2w7dmFyIHI9YjY0dXRvaGV4KHFbMl0pO3ZhciBpPW0ucmVhZFNhZmVKU09OU3RyaW5nKGI2NHV0b3V0ZjgocVswXSkpO3ZhciBoPW51bGw7dmFyIHM9bnVsbDtpZihpLmFsZz09PXVuZGVmaW5lZCl7dGhyb3ciYWxnb3JpdGhtIG5vdCBzcGVjaWZpZWQgaW4gaGVhZGVyIn1lbHNle2g9aS5hbGc7cz1oLnN1YnN0cigwLDIpfWlmKGohPW51bGwmJk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChqKT09PSJbb2JqZWN0IEFycmF5XSImJmoubGVuZ3RoPjApe3ZhciBjPSI6IitqLmpvaW4oIjoiKSsiOiI7aWYoYy5pbmRleE9mKCI6IitoKyI6Iik9PS0xKXt0aHJvdyJhbGdvcml0aG0gJyIraCsiJyBub3QgYWNjZXB0ZWQgaW4gdGhlIGxpc3QifX1pZihoIT0ibm9uZSImJnQ9PT1udWxsKXt0aHJvdyJrZXkgc2hhbGwgYmUgc3BlY2lmaWVkIHRvIHZlcmlmeS4ifWlmKHR5cGVvZiB0PT0ic3RyaW5nIiYmdC5pbmRleE9mKCItLS0tLUJFR0lOICIpIT0tMSl7dD1LRVlVVElMLmdldEtleSh0KX1pZihzPT0iUlMifHxzPT0iUFMiKXtpZighKHQgaW5zdGFuY2VvZiBSU0FLZXkpKXt0aHJvdyJrZXkgc2hhbGwgYmUgYSBSU0FLZXkgb2JqIGZvciBSUyogYW5kIFBTKiBhbGdzIn19aWYocz09IkVTIil7aWYoISh0IGluc3RhbmNlb2YgS0pVUi5jcnlwdG8uRUNEU0EpKXt0aHJvdyJrZXkgc2hhbGwgYmUgYSBFQ0RTQSBvYmogZm9yIEVTKiBhbGdzIn19aWYoaD09Im5vbmUiKXt9dmFyIG49bnVsbDtpZihtLmp3c2FsZzJzaWdhbGdbaS5hbGddPT09dW5kZWZpbmVkKXt0aHJvdyJ1bnN1cHBvcnRlZCBhbGcgbmFtZTogIitofWVsc2V7bj1tLmp3c2FsZzJzaWdhbGdbaF19aWYobj09Im5vbmUiKXt0aHJvdyJub3Qgc3VwcG9ydGVkIn1lbHNle2lmKG4uc3Vic3RyKDAsNCk9PSJIbWFjIil7dmFyIGs9bnVsbDtpZih0PT09dW5kZWZpbmVkKXt0aHJvdyJoZXhhZGVjaW1hbCBrZXkgc2hhbGwgYmUgc3BlY2lmaWVkIGZvciBITUFDIn12YXIgZz1uZXcgS0pVUi5jcnlwdG8uTWFjKHthbGc6bixwYXNzOnR9KTtnLnVwZGF0ZVN0cmluZyhiKTtrPWcuZG9GaW5hbCgpO3JldHVybiByPT1rfWVsc2V7aWYobi5pbmRleE9mKCJ3aXRoRUNEU0EiKSE9LTEpe3ZhciBmPW51bGw7dHJ5e2Y9S0pVUi5jcnlwdG8uRUNEU0EuY29uY2F0U2lnVG9BU04xU2lnKHIpfWNhdGNoKG8pe3JldHVybiBmYWxzZX12YXIgZT1uZXcgS0pVUi5jcnlwdG8uU2lnbmF0dXJlKHthbGc6bn0pO2UuaW5pdCh0KTtlLnVwZGF0ZVN0cmluZyhiKTtyZXR1cm4gZS52ZXJpZnkoZil9ZWxzZXt2YXIgZT1uZXcgS0pVUi5jcnlwdG8uU2lnbmF0dXJlKHthbGc6bn0pO2UuaW5pdCh0KTtlLnVwZGF0ZVN0cmluZyhiKTtyZXR1cm4gZS52ZXJpZnkocil9fX19O0tKVVIuandzLkpXUy5wYXJzZT1mdW5jdGlvbihnKXt2YXIgYz1nLnNwbGl0KCIuIik7dmFyIGI9e307dmFyIGYsZSxkO2lmKGMubGVuZ3RoIT0yJiZjLmxlbmd0aCE9Myl7dGhyb3cibWFsZm9ybWVkIHNKV1M6IHdyb25nIG51bWJlciBvZiAnLicgc3BsaXR0ZWQgZWxlbWVudHMifWY9Y1swXTtlPWNbMV07aWYoYy5sZW5ndGg9PTMpe2Q9Y1syXX1iLmhlYWRlck9iaj1LSlVSLmp3cy5KV1MucmVhZFNhZmVKU09OU3RyaW5nKGI2NHV0b3V0ZjgoZikpO2IucGF5bG9hZE9iaj1LSlVSLmp3cy5KV1MucmVhZFNhZmVKU09OU3RyaW5nKGI2NHV0b3V0ZjgoZSkpO2IuaGVhZGVyUFA9SlNPTi5zdHJpbmdpZnkoYi5oZWFkZXJPYmosbnVsbCwiICAiKTtpZihiLnBheWxvYWRPYmo9PW51bGwpe2IucGF5bG9hZFBQPWI2NHV0b3V0ZjgoZSl9ZWxzZXtiLnBheWxvYWRQUD1KU09OLnN0cmluZ2lmeShiLnBheWxvYWRPYmosbnVsbCwiICAiKX1pZihkIT09dW5kZWZpbmVkKXtiLnNpZ0hleD1iNjR1dG9oZXgoZCl9cmV0dXJuIGJ9O0tKVVIuandzLkpXUy52ZXJpZnlKV1Q9ZnVuY3Rpb24oZCxqLGwpe3ZhciBoPUtKVVIuandzLkpXUzt2YXIgaT1kLnNwbGl0KCIuIik7dmFyIGM9aVswXTt2YXIgZz1pWzFdO3ZhciBtPWMrIi4iK2c7dmFyIGs9YjY0dXRvaGV4KGlbMl0pO3ZhciBmPWgucmVhZFNhZmVKU09OU3RyaW5nKGI2NHV0b3V0ZjgoYykpO3ZhciBlPWgucmVhZFNhZmVKU09OU3RyaW5nKGI2NHV0b3V0ZjgoZykpO2lmKGYuYWxnPT09dW5kZWZpbmVkKXtyZXR1cm4gZmFsc2V9aWYobC5hbGc9PT11bmRlZmluZWQpe3Rocm93ImFjY2VwdEZpZWxkLmFsZyBzaGFsbCBiZSBzcGVjaWZpZWQifWlmKCFoLmluQXJyYXkoZi5hbGcsbC5hbGcpKXtyZXR1cm4gZmFsc2V9aWYoZS5pc3MhPT11bmRlZmluZWQmJnR5cGVvZiBsLmlzcz09PSJvYmplY3QiKXtpZighaC5pbkFycmF5KGUuaXNzLGwuaXNzKSl7cmV0dXJuIGZhbHNlfX1pZihlLnN1YiE9PXVuZGVmaW5lZCYmdHlwZW9mIGwuc3ViPT09Im9iamVjdCIpe2lmKCFoLmluQXJyYXkoZS5zdWIsbC5zdWIpKXtyZXR1cm4gZmFsc2V9fWlmKGUuYXVkIT09dW5kZWZpbmVkJiZ0eXBlb2YgbC5hdWQ9PT0ib2JqZWN0Iil7aWYodHlwZW9mIGUuYXVkPT0ic3RyaW5nIil7aWYoIWguaW5BcnJheShlLmF1ZCxsLmF1ZCkpe3JldHVybiBmYWxzZX19ZWxzZXtpZih0eXBlb2YgZS5hdWQ9PSJvYmplY3QiKXtpZighaC5pbmNsdWRlZEFycmF5KGUuYXVkLGwuYXVkKSl7cmV0dXJuIGZhbHNlfX19fXZhciBiPUtKVVIuandzLkludERhdGUuZ2V0Tm93KCk7aWYobC52ZXJpZnlBdCE9PXVuZGVmaW5lZCYmdHlwZW9mIGwudmVyaWZ5QXQ9PSJudW1iZXIiKXtiPWwudmVyaWZ5QXR9aWYoZS5leHAhPT11bmRlZmluZWQmJnR5cGVvZiBlLmV4cD09Im51bWJlciIpe2lmKGUuZXhwPGIpe3JldHVybiBmYWxzZX19aWYoZS5uYmYhPT11bmRlZmluZWQmJnR5cGVvZiBlLm5iZj09Im51bWJlciIpe2lmKGI8ZS5uYmYpe3JldHVybiBmYWxzZX19aWYoZS5pYXQhPT11bmRlZmluZWQmJnR5cGVvZiBlLmlhdD09Im51bWJlciIpe2lmKGI8ZS5pYXQpe3JldHVybiBmYWxzZX19aWYoZS5qdGkhPT11bmRlZmluZWQmJmwuanRpIT09dW5kZWZpbmVkKXtpZihlLmp0aSE9PWwuanRpKXtyZXR1cm4gZmFsc2V9fWlmKCFLSlVSLmp3cy5KV1MudmVyaWZ5KGQsaixsLmFsZykpe3JldHVybiBmYWxzZX1yZXR1cm4gdHJ1ZX07S0pVUi5qd3MuSldTLmluY2x1ZGVkQXJyYXk9ZnVuY3Rpb24oYixhKXt2YXIgZD1LSlVSLmp3cy5KV1MuaW5BcnJheTtpZihiPT09bnVsbCl7cmV0dXJuIGZhbHNlfWlmKHR5cGVvZiBiIT09Im9iamVjdCIpe3JldHVybiBmYWxzZX1pZih0eXBlb2YgYi5sZW5ndGghPT0ibnVtYmVyIil7cmV0dXJuIGZhbHNlfWZvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXtpZighZChiW2NdLGEpKXtyZXR1cm4gZmFsc2V9fXJldHVybiB0cnVlfTtLSlVSLmp3cy5KV1MuaW5BcnJheT1mdW5jdGlvbihkLGIpe2lmKGI9PT1udWxsKXtyZXR1cm4gZmFsc2V9aWYodHlwZW9mIGIhPT0ib2JqZWN0Iil7cmV0dXJuIGZhbHNlfWlmKHR5cGVvZiBiLmxlbmd0aCE9PSJudW1iZXIiKXtyZXR1cm4gZmFsc2V9Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspe2lmKGJbY109PWQpe3JldHVybiB0cnVlfX1yZXR1cm4gZmFsc2V9O0tKVVIuandzLkpXUy5qd3NhbGcyc2lnYWxnPXtIUzI1NjoiSG1hY1NIQTI1NiIsSFMzODQ6IkhtYWNTSEEzODQiLEhTNTEyOiJIbWFjU0hBNTEyIixSUzI1NjoiU0hBMjU2d2l0aFJTQSIsUlMzODQ6IlNIQTM4NHdpdGhSU0EiLFJTNTEyOiJTSEE1MTJ3aXRoUlNBIixFUzI1NjoiU0hBMjU2d2l0aEVDRFNBIixFUzM4NDoiU0hBMzg0d2l0aEVDRFNBIixQUzI1NjoiU0hBMjU2d2l0aFJTQWFuZE1HRjEiLFBTMzg0OiJTSEEzODR3aXRoUlNBYW5kTUdGMSIsUFM1MTI6IlNIQTUxMndpdGhSU0FhbmRNR0YxIixub25lOiJub25lIix9O0tKVVIuandzLkpXUy5pc1NhZmVKU09OU3RyaW5nPWZ1bmN0aW9uKGMsYixkKXt2YXIgZT1udWxsO3RyeXtlPWpzb25QYXJzZShjKTtpZih0eXBlb2YgZSE9Im9iamVjdCIpe3JldHVybiAwfWlmKGUuY29uc3RydWN0b3I9PT1BcnJheSl7cmV0dXJuIDB9aWYoYil7YltkXT1lfXJldHVybiAxfWNhdGNoKGEpe3JldHVybiAwfX07S0pVUi5qd3MuSldTLnJlYWRTYWZlSlNPTlN0cmluZz1mdW5jdGlvbihiKXt2YXIgYz1udWxsO3RyeXtjPWpzb25QYXJzZShiKTtpZih0eXBlb2YgYyE9Im9iamVjdCIpe3JldHVybiBudWxsfWlmKGMuY29uc3RydWN0b3I9PT1BcnJheSl7cmV0dXJuIG51bGx9cmV0dXJuIGN9Y2F0Y2goYSl7cmV0dXJuIG51bGx9fTtLSlVSLmp3cy5KV1MuZ2V0RW5jb2RlZFNpZ25hdHVyZVZhbHVlRnJvbUpXUz1mdW5jdGlvbihhKXtpZihhLm1hdGNoKC9eW14uXStcLlteLl0rXC4oW14uXSspJC8pPT1udWxsKXt0aHJvdyJKV1Mgc2lnbmF0dXJlIGlzIG5vdCBhIGZvcm0gb2YgJ0hlYWQuUGF5bG9hZC5TaWdWYWx1ZScuIn1yZXR1cm4gUmVnRXhwLiQxfTtLSlVSLmp3cy5KV1MuZ2V0SldLdGh1bWJwcmludD1mdW5jdGlvbihkKXtpZihkLmt0eSE9PSJSU0EiJiZkLmt0eSE9PSJFQyImJmQua3R5IT09Im9jdCIpe3Rocm93InVuc3VwcG9ydGVkIGFsZ29yaXRobSBmb3IgSldLIFRodW1wcmludCJ9dmFyIGE9InsiO2lmKGQua3R5PT09IlJTQSIpe2lmKHR5cGVvZiBkLm4hPSJzdHJpbmcifHx0eXBlb2YgZC5lIT0ic3RyaW5nIil7dGhyb3cid3JvbmcgbiBhbmQgZSB2YWx1ZSBmb3IgUlNBIGtleSJ9YSs9JyJlIjoiJytkLmUrJyIsJzthKz0nImt0eSI6IicrZC5rdHkrJyIsJzthKz0nIm4iOiInK2QubisnIn0nfWVsc2V7aWYoZC5rdHk9PT0iRUMiKXtpZih0eXBlb2YgZC5jcnYhPSJzdHJpbmcifHx0eXBlb2YgZC54IT0ic3RyaW5nInx8dHlwZW9mIGQueSE9InN0cmluZyIpe3Rocm93Indyb25nIGNydiwgeCBhbmQgeSB2YWx1ZSBmb3IgRUMga2V5In1hKz0nImNydiI6IicrZC5jcnYrJyIsJzthKz0nImt0eSI6IicrZC5rdHkrJyIsJzthKz0nIngiOiInK2QueCsnIiwnO2ErPScieSI6IicrZC55KycifSd9ZWxzZXtpZihkLmt0eT09PSJvY3QiKXtpZih0eXBlb2YgZC5rIT0ic3RyaW5nIil7dGhyb3cid3JvbmcgayB2YWx1ZSBmb3Igb2N0KHN5bW1ldHJpYykga2V5In1hKz0nImt0eSI6IicrZC5rdHkrJyIsJzthKz0nImsiOiInK2QuaysnIn0nfX19dmFyIGI9cnN0cnRvaGV4KGEpO3ZhciBjPUtKVVIuY3J5cHRvLlV0aWwuaGFzaEhleChiLCJzaGEyNTYiKTt2YXIgZT1oZXh0b2I2NHUoYyk7cmV0dXJuIGV9O0tKVVIuandzLkludERhdGU9e307S0pVUi5qd3MuSW50RGF0ZS5nZXQ9ZnVuY3Rpb24oYSl7aWYoYT09Im5vdyIpe3JldHVybiBLSlVSLmp3cy5JbnREYXRlLmdldE5vdygpfWVsc2V7aWYoYT09Im5vdyArIDFob3VyIil7cmV0dXJuIEtKVVIuandzLkludERhdGUuZ2V0Tm93KCkrNjAqNjB9ZWxzZXtpZihhPT0ibm93ICsgMWRheSIpe3JldHVybiBLSlVSLmp3cy5JbnREYXRlLmdldE5vdygpKzYwKjYwKjI0fWVsc2V7aWYoYT09Im5vdyArIDFtb250aCIpe3JldHVybiBLSlVSLmp3cy5JbnREYXRlLmdldE5vdygpKzYwKjYwKjI0KjMwfWVsc2V7aWYoYT09Im5vdyArIDF5ZWFyIil7cmV0dXJuIEtKVVIuandzLkludERhdGUuZ2V0Tm93KCkrNjAqNjAqMjQqMzY1fWVsc2V7aWYoYS5tYXRjaCgvWiQvKSl7cmV0dXJuIEtKVVIuandzLkludERhdGUuZ2V0WnVsdShhKX1lbHNle2lmKGEubWF0Y2goL15bMC05XSskLykpe3JldHVybiBwYXJzZUludChhKX19fX19fX10aHJvdyJ1bnN1cHBvcnRlZCBmb3JtYXQ6ICIrYX07S0pVUi5qd3MuSW50RGF0ZS5nZXRadWx1PWZ1bmN0aW9uKGwpe3ZhciBrO2lmKGs9bC5tYXRjaCgvKFxkKykoXGRcZCkoXGRcZCkoXGRcZCkoXGRcZCkoXGRcZClaLykpe3ZhciBiPVJlZ0V4cC4kMTt2YXIgaT1wYXJzZUludChiKTtpZihiLmxlbmd0aD09NCl7fWVsc2V7aWYoYi5sZW5ndGg9PTIpe2lmKDUwPD1pJiZpPDEwMCl7aT0xOTAwK2l9ZWxzZXtpZigwPD1pJiZpPDUwKXtpPTIwMDAraX1lbHNle3Rocm93Im1hbGZvcm1lZCB5ZWFyIHN0cmluZyBmb3IgVVRDVGltZSJ9fX1lbHNle3Rocm93Im1hbGZvcm1lZCB5ZWFyIHN0cmluZyJ9fXZhciBnPXBhcnNlSW50KFJlZ0V4cC4kMiktMTt2YXIgaj1wYXJzZUludChSZWdFeHAuJDMpO3ZhciBjPXBhcnNlSW50KFJlZ0V4cC4kNCk7dmFyIGU9cGFyc2VJbnQoUmVnRXhwLiQ1KTt2YXIgZj1wYXJzZUludChSZWdFeHAuJDYpO3ZhciBoPW5ldyBEYXRlKERhdGUuVVRDKGksZyxqLGMsZSxmKSk7cmV0dXJuIH5+KGgvMTAwMCl9dGhyb3cidW5zdXBwb3J0ZWQgZm9ybWF0OiAiK2x9O0tKVVIuandzLkludERhdGUuZ2V0Tm93PWZ1bmN0aW9uKCl7dmFyIGE9fn4obmV3IERhdGUoKS8xMDAwKTtyZXR1cm4gYX07S0pVUi5qd3MuSW50RGF0ZS5pbnREYXRlMlVUQ1N0cmluZz1mdW5jdGlvbihhKXt2YXIgYj1uZXcgRGF0ZShhKjEwMDApO3JldHVybiBiLnRvVVRDU3RyaW5nKCl9O0tKVVIuandzLkludERhdGUuaW50RGF0ZTJadWx1PWZ1bmN0aW9uKGUpe3ZhciBpPW5ldyBEYXRlKGUqMTAwMCk7dmFyIGg9KCIwMDAwIitpLmdldFVUQ0Z1bGxZZWFyKCkpLnNsaWNlKC00KTt2YXIgZz0oIjAwIisoaS5nZXRVVENNb250aCgpKzEpKS5zbGljZSgtMik7dmFyIGI9KCIwMCIraS5nZXRVVENEYXRlKCkpLnNsaWNlKC0yKTt2YXIgYT0oIjAwIitpLmdldFVUQ0hvdXJzKCkpLnNsaWNlKC0yKTt2YXIgYz0oIjAwIitpLmdldFVUQ01pbnV0ZXMoKSkuc2xpY2UoLTIpO3ZhciBmPSgiMDAiK2kuZ2V0VVRDU2Vjb25kcygpKS5zbGljZSgtMik7cmV0dXJuIGgrZytiK2ErYytmKyJaIn07Ci8qISBqd3Nqcy0yLjAuMSAoYykgMjAxMC0yMDE1IEtlbmppIFVydXNoaW1hIHwga2p1ci5naXRodWIuY29tL2pzandzL2xpY2Vuc2UKICovCmlmKHR5cGVvZiBLSlVSPT0idW5kZWZpbmVkInx8IUtKVVIpe0tKVVI9e319aWYodHlwZW9mIEtKVVIuandzPT0idW5kZWZpbmVkInx8IUtKVVIuandzKXtLSlVSLmp3cz17fX1LSlVSLmp3cy5KV1NKUz1mdW5jdGlvbigpe3ZhciBhPUtKVVIuandzLkpXUzt0aGlzLmFIZWFkZXI9W107dGhpcy5zUGF5bG9hZD0iIjt0aGlzLmFTaWduYXR1cmU9W107dGhpcy5pbml0PWZ1bmN0aW9uKCl7dGhpcy5hSGVhZGVyPVtdO3RoaXMuc1BheWxvYWQ9IiI7dGhpcy5hU2lnbmF0dXJlPVtdfTt0aGlzLmluaXRXaXRoSldTPWZ1bmN0aW9uKGMpe3RoaXMuaW5pdCgpO3ZhciBiPW5ldyBLSlVSLmp3cy5KV1MoKTtiLnBhcnNlSldTKGMpO3RoaXMuYUhlYWRlci5wdXNoKGIucGFyc2VkSldTLmhlYWRCNjRVKTt0aGlzLnNQYXlsb2FkPWIucGFyc2VkSldTLnBheWxvYWRCNjRVO3RoaXMuYVNpZ25hdHVyZS5wdXNoKGIucGFyc2VkSldTLnNpZ3ZhbEI2NFUpfTt0aGlzLmFkZFNpZ25hdHVyZUJ5SGVhZGVyS2V5PWZ1bmN0aW9uKGUsYil7dmFyIGQ9YjY0dXRvdXRmOCh0aGlzLnNQYXlsb2FkKTt2YXIgYz1uZXcgS0pVUi5qd3MuSldTKCk7dmFyIGY9Yy5nZW5lcmF0ZUpXU0J5UDFQcnZLZXkoZSxkLGIpO3RoaXMuYUhlYWRlci5wdXNoKGMucGFyc2VkSldTLmhlYWRCNjRVKTt0aGlzLmFTaWduYXR1cmUucHVzaChjLnBhcnNlZEpXUy5zaWd2YWxCNjRVKX07dGhpcy5hZGRTaWduYXR1cmVCeUhlYWRlclBheWxvYWRLZXk9ZnVuY3Rpb24oZSxkLGIpe3ZhciBjPW5ldyBLSlVSLmp3cy5KV1MoKTt2YXIgZj1jLmdlbmVyYXRlSldTQnlQMVBydktleShlLGQsYik7dGhpcy5hSGVhZGVyLnB1c2goYy5wYXJzZWRKV1MuaGVhZEI2NFUpO3RoaXMuc1BheWxvYWQ9Yy5wYXJzZWRKV1MucGF5bG9hZEI2NFU7dGhpcy5hU2lnbmF0dXJlLnB1c2goYy5wYXJzZWRKV1Muc2lndmFsQjY0VSl9O3RoaXMudmVyaWZ5V2l0aENlcnRzPWZ1bmN0aW9uKGMpe2lmKHRoaXMuYUhlYWRlci5sZW5ndGghPWMubGVuZ3RoKXt0aHJvdyJudW0gaGVhZGVycyBkb2VzIG5vdCBtYXRjaCB3aXRoIG51bSBjZXJ0cyJ9aWYodGhpcy5hU2lnbmF0dXJlLmxlbmd0aCE9Yy5sZW5ndGgpe3Rocm93Im51bSBzaWduYXR1cmVzIGRvZXMgbm90IG1hdGNoIHdpdGggbnVtIGNlcnRzIn12YXIgaz10aGlzLnNQYXlsb2FkO3ZhciBnPSIiO2Zvcih2YXIgZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgZT1jW2RdO3ZhciBmPXRoaXMuYUhlYWRlcltkXTt2YXIgbT10aGlzLmFTaWduYXR1cmVbZF07dmFyIGI9ZisiLiIraysiLiIrbTt2YXIgaj1uZXcgS0pVUi5qd3MuSldTKCk7dHJ5e3ZhciBsPWoudmVyaWZ5SldTQnlQZW1YNTA5Q2VydChiLGUpO2lmKGwhPTEpe2crPShkKzEpKyJ0aCBzaWduYXR1cmUgdW5tYXRjaC4gIn19Y2F0Y2goaCl7Zys9KGQrMSkrInRoIHNpZ25hdHVyZSBmYWlsKCIraCsiKS4gIn19aWYoZz09IiIpe3JldHVybiAxfWVsc2V7dGhyb3cgZ319O3RoaXMucmVhZEpXU0pTPWZ1bmN0aW9uKGIpe3ZhciBjPWEucmVhZFNhZmVKU09OU3RyaW5nKGIpO2lmKGM9PW51bGwpe3Rocm93ImFyZ3VtZW50IGlzIG5vdCBKU09OIHN0cmluZzogIitifXRoaXMuYUhlYWRlcj1jLmhlYWRlcnM7dGhpcy5zUGF5bG9hZD1jLnBheWxvYWQ7dGhpcy5hU2lnbmF0dXJlPWMuc2lnbmF0dXJlc307dGhpcy5nZXRKU09OPWZ1bmN0aW9uKCl7cmV0dXJue2hlYWRlcnM6dGhpcy5hSGVhZGVyLHBheWxvYWQ6dGhpcy5zUGF5bG9hZCxzaWduYXR1cmVzOnRoaXMuYVNpZ25hdHVyZX19O3RoaXMuaXNFbXB0eT1mdW5jdGlvbigpe2lmKHRoaXMuYUhlYWRlci5sZW5ndGg9PTApe3JldHVybiAxfXJldHVybiAwfX07Ci8qISBub2RldXRpbC0xLjAuMCAoYykgMjAxNSBLZW5qaSBVcnVzaGltYSB8IGtqdXIuZ2l0aHViLmNvbS9qc3JzYXNpZ24vbGljZW5zZQogKi8KZnVuY3Rpb24gcmVhZEZpbGVVVEY4KGEpe3JldHVybiByZXF1aXJlKCJmcyIpLnJlYWRGaWxlU3luYyhhLCJ1dGY4Iil9ZnVuY3Rpb24gcmVhZEZpbGVIZXhCeUJpbihjKXt2YXIgYj1yZXF1aXJlKCJqc3JzYXNpZ24iKTt2YXIgYT1yZXF1aXJlKCJmcyIpO3JldHVybiBiLnJzdHJ0b2hleChhLnJlYWRGaWxlU3luYyhjLCJiaW5hcnkiKSl9ZnVuY3Rpb24gcmVhZEZpbGUoYil7dmFyIGE9cmVxdWlyZSgiZnMiKTtyZXR1cm4gYS5yZWFkRmlsZVN5bmMoYiwiYmluYXJ5Iil9ZnVuY3Rpb24gc2F2ZUZpbGUoYyxiKXt2YXIgYT1yZXF1aXJlKCJmcyIpO2Eud3JpdGVGaWxlU3luYyhjLGIsImJpbmFyeSIpfWZ1bmN0aW9uIHNhdmVGaWxlQmluQnlIZXgoZSxiKXt2YXIgYT1yZXF1aXJlKCJmcyIpO3ZhciBjPXJlcXVpcmUoImpzcnNhc2lnbiIpO3ZhciBkPWMuaGV4dG9yc3RyKGIpO2Eud3JpdGVGaWxlU3luYyhlLGQsImJpbmFyeSIpfTsKCmV4cG9ydHMuQmlnSW50ZWdlciA9IEJpZ0ludGVnZXI7CmV4cG9ydHMuUlNBS2V5ID0gUlNBS2V5OwpleHBvcnRzLkVDRFNBID0gS0pVUi5jcnlwdG8uRUNEU0E7CmV4cG9ydHMuRFNBID0gS0pVUi5jcnlwdG8uRFNBOwpleHBvcnRzLlNpZ25hdHVyZSA9IEtKVVIuY3J5cHRvLlNpZ25hdHVyZTsKZXhwb3J0cy5NZXNzYWdlRGlnZXN0ID0gS0pVUi5jcnlwdG8uTWVzc2FnZURpZ2VzdDsKZXhwb3J0cy5NYWMgPSBLSlVSLmNyeXB0by5NYWM7CmV4cG9ydHMuS0VZVVRJTCA9IEtFWVVUSUw7CmV4cG9ydHMuQVNOMUhFWCA9IEFTTjFIRVg7CmV4cG9ydHMuWDUwOSA9IFg1MDk7CmV4cG9ydHMuQ3J5cHRvSlMgPSBDcnlwdG9KUzsKCi8vIGV4dC9iYXNlNjQuanMKZXhwb3J0cy5iNjR0b2hleCA9IGI2NHRvaGV4OwpleHBvcnRzLmI2NHRvQkEgPSBiNjR0b0JBOwoKLy8gYmFzZTY0eC5qcwpleHBvcnRzLnN0b0JBID0gc3RvQkE7CmV4cG9ydHMuQkF0b3MgPSBCQXRvczsKZXhwb3J0cy5CQXRvaGV4ID0gQkF0b2hleDsKZXhwb3J0cy5zdG9oZXggPSBzdG9oZXg7CmV4cG9ydHMuc3RvYjY0ID0gc3RvYjY0OwpleHBvcnRzLnN0b2I2NHUgPSBzdG9iNjR1OwpleHBvcnRzLmI2NHV0b3MgPSBiNjR1dG9zOwpleHBvcnRzLmI2NHRvYjY0dSA9IGI2NHRvYjY0dTsKZXhwb3J0cy5iNjR1dG9iNjQgPSBiNjR1dG9iNjQ7CmV4cG9ydHMuaGV4MmI2NCA9IGhleDJiNjQ7CmV4cG9ydHMuaGV4dG9iNjR1ID0gaGV4dG9iNjR1OwpleHBvcnRzLmI2NHV0b2hleCA9IGI2NHV0b2hleDsKZXhwb3J0cy5iNjR0b2hleCA9IGI2NHRvaGV4OwpleHBvcnRzLnV0Zjh0b2I2NHUgPSB1dGY4dG9iNjR1OwpleHBvcnRzLmI2NHV0b3V0ZjggPSBiNjR1dG91dGY4OwpleHBvcnRzLnV0Zjh0b2I2NCA9IHV0Zjh0b2I2NDsKZXhwb3J0cy5iNjR0b3V0ZjggPSBiNjR0b3V0Zjg7CmV4cG9ydHMudXRmOHRvaGV4ID0gdXRmOHRvaGV4OwpleHBvcnRzLmhleHRvdXRmOCA9IGhleHRvdXRmODsKZXhwb3J0cy5oZXh0b3JzdHIgPSBoZXh0b3JzdHI7CmV4cG9ydHMucnN0cnRvaGV4ID0gcnN0cnRvaGV4OwpleHBvcnRzLm5ld2xpbmVfdG9Vbml4ID0gbmV3bGluZV90b1VuaXg7CmV4cG9ydHMubmV3bGluZV90b0RvcyA9IG5ld2xpbmVfdG9Eb3M7CmV4cG9ydHMuaW50YXJ5c3RydG9oZXggPSBpbnRhcnlzdHJ0b2hleDsKZXhwb3J0cy5zdHJkaWZmaWR4ID0gc3RyZGlmZmlkeDsKCmV4cG9ydHMuY3J5cHRvID0gS0pVUi5jcnlwdG87CmV4cG9ydHMuYXNuMSA9IEtKVVIuYXNuMTsKZXhwb3J0cy5qd3MgPSBLSlVSLmp3czsKCmV4cG9ydHMucmVhZEZpbGVVVEY4ID0gcmVhZEZpbGVVVEY4OwpleHBvcnRzLnJlYWRGaWxlSGV4QnlCaW4gPSByZWFkRmlsZUhleEJ5QmluOwpleHBvcnRzLnJlYWRGaWxlID0gcmVhZEZpbGU7CmV4cG9ydHMuc2F2ZUZpbGUgPSBzYXZlRmlsZTsKZXhwb3J0cy5zYXZlRmlsZUJpbkJ5SGV4ID0gc2F2ZUZpbGVCaW5CeUhleDsKCgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiYnVmZmVyIjo3NiwiZnMiOjY5LCJqc3JzYXNpZ24iOjEzMX1dLDEzMjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CnZhciBibiA9IHJlcXVpcmUoJ2JuLmpzJyk7CnZhciBicm9yYW5kID0gcmVxdWlyZSgnYnJvcmFuZCcpOwoKZnVuY3Rpb24gTWlsbGVyUmFiaW4ocmFuZCkgewogIHRoaXMucmFuZCA9IHJhbmQgfHwgbmV3IGJyb3JhbmQuUmFuZCgpOwp9Cm1vZHVsZS5leHBvcnRzID0gTWlsbGVyUmFiaW47CgpNaWxsZXJSYWJpbi5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUocmFuZCkgewogIHJldHVybiBuZXcgTWlsbGVyUmFiaW4ocmFuZCk7Cn07CgpNaWxsZXJSYWJpbi5wcm90b3R5cGUuX3JhbmQgPSBmdW5jdGlvbiBfcmFuZChuKSB7CiAgdmFyIGxlbiA9IG4uYml0TGVuZ3RoKCk7CiAgdmFyIGJ1ZiA9IHRoaXMucmFuZC5nZW5lcmF0ZShNYXRoLmNlaWwobGVuIC8gOCkpOwoKICAvLyBTZXQgbG93IGJpdHMKICBidWZbMF0gfD0gMzsKCiAgLy8gTWFzayBoaWdoIGJpdHMKICB2YXIgbWFzayA9IGxlbiAmIDB4NzsKICBpZiAobWFzayAhPT0gMCkKICAgIGJ1ZltidWYubGVuZ3RoIC0gMV0gPj49IDcgLSBtYXNrOwoKICByZXR1cm4gbmV3IGJuKGJ1Zik7Cn0KCk1pbGxlclJhYmluLnByb3RvdHlwZS50ZXN0ID0gZnVuY3Rpb24gdGVzdChuLCBrLCBjYikgewogIHZhciBsZW4gPSBuLmJpdExlbmd0aCgpOwogIHZhciByZWQgPSBibi5tb250KG4pOwogIHZhciByb25lID0gbmV3IGJuKDEpLnRvUmVkKHJlZCk7CgogIGlmICghaykKICAgIGsgPSBNYXRoLm1heCgxLCAobGVuIC8gNDgpIHwgMCk7CgogIC8vIEZpbmQgZCBhbmQgcywgKG4gLSAxKSA9ICgyIF4gcykgKiBkOwogIHZhciBuMSA9IG4uc3VibigxKTsKICB2YXIgbjIgPSBuMS5zdWJuKDEpOwogIGZvciAodmFyIHMgPSAwOyAhbjEudGVzdG4ocyk7IHMrKykge30KICB2YXIgZCA9IG4uc2hybihzKTsKCiAgdmFyIHJuMSA9IG4xLnRvUmVkKHJlZCk7CgogIHZhciBwcmltZSA9IHRydWU7CiAgZm9yICg7IGsgPiAwOyBrLS0pIHsKICAgIHZhciBhID0gdGhpcy5fcmFuZChuMik7CiAgICBpZiAoY2IpCiAgICAgIGNiKGEpOwoKICAgIHZhciB4ID0gYS50b1JlZChyZWQpLnJlZFBvdyhkKTsKICAgIGlmICh4LmNtcChyb25lKSA9PT0gMCB8fCB4LmNtcChybjEpID09PSAwKQogICAgICBjb250aW51ZTsKCiAgICBmb3IgKHZhciBpID0gMTsgaSA8IHM7IGkrKykgewogICAgICB4ID0geC5yZWRTcXIoKTsKCiAgICAgIGlmICh4LmNtcChyb25lKSA9PT0gMCkKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIGlmICh4LmNtcChybjEpID09PSAwKQogICAgICAgIGJyZWFrOwogICAgfQoKICAgIGlmIChpID09PSBzKQogICAgICByZXR1cm4gZmFsc2U7CiAgfQoKICByZXR1cm4gcHJpbWU7Cn07CgpNaWxsZXJSYWJpbi5wcm90b3R5cGUuZ2V0RGl2aXNvciA9IGZ1bmN0aW9uIGdldERpdmlzb3IobiwgaykgewogIHZhciBsZW4gPSBuLmJpdExlbmd0aCgpOwogIHZhciByZWQgPSBibi5tb250KG4pOwogIHZhciByb25lID0gbmV3IGJuKDEpLnRvUmVkKHJlZCk7CgogIGlmICghaykKICAgIGsgPSBNYXRoLm1heCgxLCAobGVuIC8gNDgpIHwgMCk7CgogIC8vIEZpbmQgZCBhbmQgcywgKG4gLSAxKSA9ICgyIF4gcykgKiBkOwogIHZhciBuMSA9IG4uc3VibigxKTsKICB2YXIgbjIgPSBuMS5zdWJuKDEpOwogIGZvciAodmFyIHMgPSAwOyAhbjEudGVzdG4ocyk7IHMrKykge30KICB2YXIgZCA9IG4uc2hybihzKTsKCiAgdmFyIHJuMSA9IG4xLnRvUmVkKHJlZCk7CgogIGZvciAoOyBrID4gMDsgay0tKSB7CiAgICB2YXIgYSA9IHRoaXMuX3JhbmQobjIpOwoKICAgIHZhciBnID0gbi5nY2QoYSk7CiAgICBpZiAoZy5jbXBuKDEpICE9PSAwKQogICAgICByZXR1cm4gZzsKCiAgICB2YXIgeCA9IGEudG9SZWQocmVkKS5yZWRQb3coZCk7CiAgICBpZiAoeC5jbXAocm9uZSkgPT09IDAgfHwgeC5jbXAocm4xKSA9PT0gMCkKICAgICAgY29udGludWU7CgogICAgZm9yICh2YXIgaSA9IDE7IGkgPCBzOyBpKyspIHsKICAgICAgeCA9IHgucmVkU3FyKCk7CgogICAgICBpZiAoeC5jbXAocm9uZSkgPT09IDApCiAgICAgICAgcmV0dXJuIHguZnJvbVJlZCgpLnN1Ym4oMSkuZ2NkKG4pOwogICAgICBpZiAoeC5jbXAocm4xKSA9PT0gMCkKICAgICAgICBicmVhazsKICAgIH0KCiAgICBpZiAoaSA9PT0gcykgewogICAgICB4ID0geC5yZWRTcXIoKTsKICAgICAgcmV0dXJuIHguZnJvbVJlZCgpLnN1Ym4oMSkuZ2NkKG4pOwogICAgfQogIH0KCiAgcmV0dXJuIGZhbHNlOwp9OwoKfSx7ImJuLmpzIjo0MiwiYnJvcmFuZCI6NDN9XSwxMzM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewptb2R1bGUuZXhwb3J0cyA9IGFzc2VydDsKCmZ1bmN0aW9uIGFzc2VydCh2YWwsIG1zZykgewogIGlmICghdmFsKQogICAgdGhyb3cgbmV3IEVycm9yKG1zZyB8fCAnQXNzZXJ0aW9uIGZhaWxlZCcpOwp9Cgphc3NlcnQuZXF1YWwgPSBmdW5jdGlvbiBhc3NlcnRFcXVhbChsLCByLCBtc2cpIHsKICBpZiAobCAhPSByKQogICAgdGhyb3cgbmV3IEVycm9yKG1zZyB8fCAoJ0Fzc2VydGlvbiBmYWlsZWQ6ICcgKyBsICsgJyAhPSAnICsgcikpOwp9OwoKfSx7fV0sMTM0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKbW9kdWxlLmV4cG9ydHM9eyIyLjE2Ljg0MC4xLjEwMS4zLjQuMS4xIjogImFlcy0xMjgtZWNiIiwKIjIuMTYuODQwLjEuMTAxLjMuNC4xLjIiOiAiYWVzLTEyOC1jYmMiLAoiMi4xNi44NDAuMS4xMDEuMy40LjEuMyI6ICJhZXMtMTI4LW9mYiIsCiIyLjE2Ljg0MC4xLjEwMS4zLjQuMS40IjogImFlcy0xMjgtY2ZiIiwKIjIuMTYuODQwLjEuMTAxLjMuNC4xLjIxIjogImFlcy0xOTItZWNiIiwKIjIuMTYuODQwLjEuMTAxLjMuNC4xLjIyIjogImFlcy0xOTItY2JjIiwKIjIuMTYuODQwLjEuMTAxLjMuNC4xLjIzIjogImFlcy0xOTItb2ZiIiwKIjIuMTYuODQwLjEuMTAxLjMuNC4xLjI0IjogImFlcy0xOTItY2ZiIiwKIjIuMTYuODQwLjEuMTAxLjMuNC4xLjQxIjogImFlcy0yNTYtZWNiIiwKIjIuMTYuODQwLjEuMTAxLjMuNC4xLjQyIjogImFlcy0yNTYtY2JjIiwKIjIuMTYuODQwLjEuMTAxLjMuNC4xLjQzIjogImFlcy0yNTYtb2ZiIiwKIjIuMTYuODQwLjEuMTAxLjMuNC4xLjQ0IjogImFlcy0yNTYtY2ZiIgp9Cn0se31dLDEzNTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Ci8vIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2luZHV0bnkvc2VsZi1zaWduZWQvYmxvYi9naC1wYWdlcy9saWIvYXNuMS5qcwovLyBGZWRvciwgeW91IGFyZSBhbWF6aW5nLgoKdmFyIGFzbjEgPSByZXF1aXJlKCdhc24xLmpzJykKCnZhciBSU0FQcml2YXRlS2V5ID0gYXNuMS5kZWZpbmUoJ1JTQVByaXZhdGVLZXknLCBmdW5jdGlvbiAoKSB7CiAgdGhpcy5zZXEoKS5vYmooCiAgICB0aGlzLmtleSgndmVyc2lvbicpLmludCgpLAogICAgdGhpcy5rZXkoJ21vZHVsdXMnKS5pbnQoKSwKICAgIHRoaXMua2V5KCdwdWJsaWNFeHBvbmVudCcpLmludCgpLAogICAgdGhpcy5rZXkoJ3ByaXZhdGVFeHBvbmVudCcpLmludCgpLAogICAgdGhpcy5rZXkoJ3ByaW1lMScpLmludCgpLAogICAgdGhpcy5rZXkoJ3ByaW1lMicpLmludCgpLAogICAgdGhpcy5rZXkoJ2V4cG9uZW50MScpLmludCgpLAogICAgdGhpcy5rZXkoJ2V4cG9uZW50MicpLmludCgpLAogICAgdGhpcy5rZXkoJ2NvZWZmaWNpZW50JykuaW50KCkKICApCn0pCmV4cG9ydHMuUlNBUHJpdmF0ZUtleSA9IFJTQVByaXZhdGVLZXkKCnZhciBSU0FQdWJsaWNLZXkgPSBhc24xLmRlZmluZSgnUlNBUHVibGljS2V5JywgZnVuY3Rpb24gKCkgewogIHRoaXMuc2VxKCkub2JqKAogICAgdGhpcy5rZXkoJ21vZHVsdXMnKS5pbnQoKSwKICAgIHRoaXMua2V5KCdwdWJsaWNFeHBvbmVudCcpLmludCgpCiAgKQp9KQpleHBvcnRzLlJTQVB1YmxpY0tleSA9IFJTQVB1YmxpY0tleQoKdmFyIFB1YmxpY0tleSA9IGFzbjEuZGVmaW5lKCdTdWJqZWN0UHVibGljS2V5SW5mbycsIGZ1bmN0aW9uICgpIHsKICB0aGlzLnNlcSgpLm9iaigKICAgIHRoaXMua2V5KCdhbGdvcml0aG0nKS51c2UoQWxnb3JpdGhtSWRlbnRpZmllciksCiAgICB0aGlzLmtleSgnc3ViamVjdFB1YmxpY0tleScpLmJpdHN0cigpCiAgKQp9KQpleHBvcnRzLlB1YmxpY0tleSA9IFB1YmxpY0tleQoKdmFyIEFsZ29yaXRobUlkZW50aWZpZXIgPSBhc24xLmRlZmluZSgnQWxnb3JpdGhtSWRlbnRpZmllcicsIGZ1bmN0aW9uICgpIHsKICB0aGlzLnNlcSgpLm9iaigKICAgIHRoaXMua2V5KCdhbGdvcml0aG0nKS5vYmppZCgpLAogICAgdGhpcy5rZXkoJ25vbmUnKS5udWxsXygpLm9wdGlvbmFsKCksCiAgICB0aGlzLmtleSgnY3VydmUnKS5vYmppZCgpLm9wdGlvbmFsKCksCiAgICB0aGlzLmtleSgncGFyYW1zJykuc2VxKCkub2JqKAogICAgICB0aGlzLmtleSgncCcpLmludCgpLAogICAgICB0aGlzLmtleSgncScpLmludCgpLAogICAgICB0aGlzLmtleSgnZycpLmludCgpCiAgICApLm9wdGlvbmFsKCkKICApCn0pCgp2YXIgUHJpdmF0ZUtleUluZm8gPSBhc24xLmRlZmluZSgnUHJpdmF0ZUtleUluZm8nLCBmdW5jdGlvbiAoKSB7CiAgdGhpcy5zZXEoKS5vYmooCiAgICB0aGlzLmtleSgndmVyc2lvbicpLmludCgpLAogICAgdGhpcy5rZXkoJ2FsZ29yaXRobScpLnVzZShBbGdvcml0aG1JZGVudGlmaWVyKSwKICAgIHRoaXMua2V5KCdzdWJqZWN0UHJpdmF0ZUtleScpLm9jdHN0cigpCiAgKQp9KQpleHBvcnRzLlByaXZhdGVLZXkgPSBQcml2YXRlS2V5SW5mbwp2YXIgRW5jcnlwdGVkUHJpdmF0ZUtleUluZm8gPSBhc24xLmRlZmluZSgnRW5jcnlwdGVkUHJpdmF0ZUtleUluZm8nLCBmdW5jdGlvbiAoKSB7CiAgdGhpcy5zZXEoKS5vYmooCiAgICB0aGlzLmtleSgnYWxnb3JpdGhtJykuc2VxKCkub2JqKAogICAgICB0aGlzLmtleSgnaWQnKS5vYmppZCgpLAogICAgICB0aGlzLmtleSgnZGVjcnlwdCcpLnNlcSgpLm9iaigKICAgICAgICB0aGlzLmtleSgna2RlJykuc2VxKCkub2JqKAogICAgICAgICAgdGhpcy5rZXkoJ2lkJykub2JqaWQoKSwKICAgICAgICAgIHRoaXMua2V5KCdrZGVwYXJhbXMnKS5zZXEoKS5vYmooCiAgICAgICAgICAgIHRoaXMua2V5KCdzYWx0Jykub2N0c3RyKCksCiAgICAgICAgICAgIHRoaXMua2V5KCdpdGVycycpLmludCgpCiAgICAgICAgICApCiAgICAgICAgKSwKICAgICAgICB0aGlzLmtleSgnY2lwaGVyJykuc2VxKCkub2JqKAogICAgICAgICAgdGhpcy5rZXkoJ2FsZ28nKS5vYmppZCgpLAogICAgICAgICAgdGhpcy5rZXkoJ2l2Jykub2N0c3RyKCkKICAgICAgICApCiAgICAgICkKICAgICksCiAgICB0aGlzLmtleSgnc3ViamVjdFByaXZhdGVLZXknKS5vY3RzdHIoKQogICkKfSkKCmV4cG9ydHMuRW5jcnlwdGVkUHJpdmF0ZUtleSA9IEVuY3J5cHRlZFByaXZhdGVLZXlJbmZvCgp2YXIgRFNBUHJpdmF0ZUtleSA9IGFzbjEuZGVmaW5lKCdEU0FQcml2YXRlS2V5JywgZnVuY3Rpb24gKCkgewogIHRoaXMuc2VxKCkub2JqKAogICAgdGhpcy5rZXkoJ3ZlcnNpb24nKS5pbnQoKSwKICAgIHRoaXMua2V5KCdwJykuaW50KCksCiAgICB0aGlzLmtleSgncScpLmludCgpLAogICAgdGhpcy5rZXkoJ2cnKS5pbnQoKSwKICAgIHRoaXMua2V5KCdwdWJfa2V5JykuaW50KCksCiAgICB0aGlzLmtleSgncHJpdl9rZXknKS5pbnQoKQogICkKfSkKZXhwb3J0cy5EU0FQcml2YXRlS2V5ID0gRFNBUHJpdmF0ZUtleQoKZXhwb3J0cy5EU0FwYXJhbSA9IGFzbjEuZGVmaW5lKCdEU0FwYXJhbScsIGZ1bmN0aW9uICgpIHsKICB0aGlzLmludCgpCn0pCnZhciBFQ1ByaXZhdGVLZXkgPSBhc24xLmRlZmluZSgnRUNQcml2YXRlS2V5JywgZnVuY3Rpb24gKCkgewogIHRoaXMuc2VxKCkub2JqKAogICAgdGhpcy5rZXkoJ3ZlcnNpb24nKS5pbnQoKSwKICAgIHRoaXMua2V5KCdwcml2YXRlS2V5Jykub2N0c3RyKCksCiAgICB0aGlzLmtleSgncGFyYW1ldGVycycpLm9wdGlvbmFsKCkuZXhwbGljaXQoMCkudXNlKEVDUGFyYW1ldGVycyksCiAgICB0aGlzLmtleSgncHVibGljS2V5Jykub3B0aW9uYWwoKS5leHBsaWNpdCgxKS5iaXRzdHIoKQogICkKfSkKZXhwb3J0cy5FQ1ByaXZhdGVLZXkgPSBFQ1ByaXZhdGVLZXkKdmFyIEVDUGFyYW1ldGVycyA9IGFzbjEuZGVmaW5lKCdFQ1BhcmFtZXRlcnMnLCBmdW5jdGlvbiAoKSB7CiAgdGhpcy5jaG9pY2UoewogICAgbmFtZWRDdXJ2ZTogdGhpcy5vYmppZCgpCiAgfSkKfSkKCmV4cG9ydHMuc2lnbmF0dXJlID0gYXNuMS5kZWZpbmUoJ3NpZ25hdHVyZScsIGZ1bmN0aW9uICgpIHsKICB0aGlzLnNlcSgpLm9iaigKICAgIHRoaXMua2V5KCdyJykuaW50KCksCiAgICB0aGlzLmtleSgncycpLmludCgpCiAgKQp9KQoKfSx7ImFzbjEuanMiOjF9XSwxMzY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7Ci8vIGFkYXB0ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vYXBhdGlsL3BlbXN0cmlwCnZhciBmaW5kUHJvYyA9IC9Qcm9jLVR5cGU6IDQsRU5DUllQVEVEXHI/XG5ERUstSW5mbzogQUVTLSgoPzoxMjgpfCg/OjE5Mil8KD86MjU2KSktQ0JDLChbMC05QS1IXSspXHI/XG5ccj9cbihbMC05QS16XG5cclwrXC9cPV0rKVxyP1xuL20KdmFyIHN0YXJ0UmVnZXggPSAvXi0tLS0tQkVHSU4gKC4qKSBLRVktLS0tLVxyP1xuL20KdmFyIGZ1bGxSZWdleCA9IC9eLS0tLS1CRUdJTiAoLiopIEtFWS0tLS0tXHI/XG4oWzAtOUEtelxuXHJcK1wvXD1dKylccj9cbi0tLS0tRU5EIFwxIEtFWS0tLS0tJC9tCnZhciBldnAgPSByZXF1aXJlKCdldnBfYnl0ZXN0b2tleScpCnZhciBjaXBoZXJzID0gcmVxdWlyZSgnYnJvd3NlcmlmeS1hZXMnKQptb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChva2V5LCBwYXNzd29yZCkgewogIHZhciBrZXkgPSBva2V5LnRvU3RyaW5nKCkKICB2YXIgbWF0Y2ggPSBrZXkubWF0Y2goZmluZFByb2MpCiAgdmFyIGRlY3J5cHRlZAogIGlmICghbWF0Y2gpIHsKICAgIHZhciBtYXRjaDIgPSBrZXkubWF0Y2goZnVsbFJlZ2V4KQogICAgZGVjcnlwdGVkID0gbmV3IEJ1ZmZlcihtYXRjaDJbMl0ucmVwbGFjZSgvXHI/XG4vZywgJycpLCAnYmFzZTY0JykKICB9IGVsc2UgewogICAgdmFyIHN1aXRlID0gJ2FlcycgKyBtYXRjaFsxXQogICAgdmFyIGl2ID0gbmV3IEJ1ZmZlcihtYXRjaFsyXSwgJ2hleCcpCiAgICB2YXIgY2lwaGVyVGV4dCA9IG5ldyBCdWZmZXIobWF0Y2hbM10ucmVwbGFjZSgvXHI/XG4vZywgJycpLCAnYmFzZTY0JykKICAgIHZhciBjaXBoZXJLZXkgPSBldnAocGFzc3dvcmQsIGl2LnNsaWNlKDAsIDgpLCBwYXJzZUludChtYXRjaFsxXSwgMTApKS5rZXkKICAgIHZhciBvdXQgPSBbXQogICAgdmFyIGNpcGhlciA9IGNpcGhlcnMuY3JlYXRlRGVjaXBoZXJpdihzdWl0ZSwgY2lwaGVyS2V5LCBpdikKICAgIG91dC5wdXNoKGNpcGhlci51cGRhdGUoY2lwaGVyVGV4dCkpCiAgICBvdXQucHVzaChjaXBoZXIuZmluYWwoKSkKICAgIGRlY3J5cHRlZCA9IEJ1ZmZlci5jb25jYXQob3V0KQogIH0KICB2YXIgdGFnID0ga2V5Lm1hdGNoKHN0YXJ0UmVnZXgpWzFdICsgJyBLRVknCiAgcmV0dXJuIHsKICAgIHRhZzogdGFnLAogICAgZGF0YTogZGVjcnlwdGVkCiAgfQp9Cgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiYnJvd3NlcmlmeS1hZXMiOjQ3LCJidWZmZXIiOjc2LCJldnBfYnl0ZXN0b2tleSI6MTE5fV0sMTM3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChCdWZmZXIpewp2YXIgYXNuMSA9IHJlcXVpcmUoJy4vYXNuMScpCnZhciBhZXNpZCA9IHJlcXVpcmUoJy4vYWVzaWQuanNvbicpCnZhciBmaXhQcm9jID0gcmVxdWlyZSgnLi9maXhQcm9jJykKdmFyIGNpcGhlcnMgPSByZXF1aXJlKCdicm93c2VyaWZ5LWFlcycpCnZhciBjb21wYXQgPSByZXF1aXJlKCdwYmtkZjInKQptb2R1bGUuZXhwb3J0cyA9IHBhcnNlS2V5cwoKZnVuY3Rpb24gcGFyc2VLZXlzIChidWZmZXIpIHsKICB2YXIgcGFzc3dvcmQKICBpZiAodHlwZW9mIGJ1ZmZlciA9PT0gJ29iamVjdCcgJiYgIUJ1ZmZlci5pc0J1ZmZlcihidWZmZXIpKSB7CiAgICBwYXNzd29yZCA9IGJ1ZmZlci5wYXNzcGhyYXNlCiAgICBidWZmZXIgPSBidWZmZXIua2V5CiAgfQogIGlmICh0eXBlb2YgYnVmZmVyID09PSAnc3RyaW5nJykgewogICAgYnVmZmVyID0gbmV3IEJ1ZmZlcihidWZmZXIpCiAgfQoKICB2YXIgc3RyaXBwZWQgPSBmaXhQcm9jKGJ1ZmZlciwgcGFzc3dvcmQpCgogIHZhciB0eXBlID0gc3RyaXBwZWQudGFnCiAgdmFyIGRhdGEgPSBzdHJpcHBlZC5kYXRhCiAgdmFyIHN1YnR5cGUsIG5kYXRhCiAgc3dpdGNoICh0eXBlKSB7CiAgICBjYXNlICdQVUJMSUMgS0VZJzoKICAgICAgbmRhdGEgPSBhc24xLlB1YmxpY0tleS5kZWNvZGUoZGF0YSwgJ2RlcicpCiAgICAgIHN1YnR5cGUgPSBuZGF0YS5hbGdvcml0aG0uYWxnb3JpdGhtLmpvaW4oJy4nKQogICAgICBzd2l0Y2ggKHN1YnR5cGUpIHsKICAgICAgICBjYXNlICcxLjIuODQwLjExMzU0OS4xLjEuMSc6CiAgICAgICAgICByZXR1cm4gYXNuMS5SU0FQdWJsaWNLZXkuZGVjb2RlKG5kYXRhLnN1YmplY3RQdWJsaWNLZXkuZGF0YSwgJ2RlcicpCiAgICAgICAgY2FzZSAnMS4yLjg0MC4xMDA0NS4yLjEnOgogICAgICAgICAgbmRhdGEuc3ViamVjdFByaXZhdGVLZXkgPSBuZGF0YS5zdWJqZWN0UHVibGljS2V5CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICB0eXBlOiAnZWMnLAogICAgICAgICAgICBkYXRhOiBuZGF0YQogICAgICAgICAgfQogICAgICAgIGNhc2UgJzEuMi44NDAuMTAwNDAuNC4xJzoKICAgICAgICAgIG5kYXRhLmFsZ29yaXRobS5wYXJhbXMucHViX2tleSA9IGFzbjEuRFNBcGFyYW0uZGVjb2RlKG5kYXRhLnN1YmplY3RQdWJsaWNLZXkuZGF0YSwgJ2RlcicpCiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICB0eXBlOiAnZHNhJywKICAgICAgICAgICAgZGF0YTogbmRhdGEuYWxnb3JpdGhtLnBhcmFtcwogICAgICAgICAgfQogICAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBFcnJvcigndW5rbm93biBrZXkgaWQgJyArIHN1YnR5cGUpCiAgICAgIH0KICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIGtleSB0eXBlICcgKyB0eXBlKQogICAgY2FzZSAnRU5DUllQVEVEIFBSSVZBVEUgS0VZJzoKICAgICAgZGF0YSA9IGFzbjEuRW5jcnlwdGVkUHJpdmF0ZUtleS5kZWNvZGUoZGF0YSwgJ2RlcicpCiAgICAgIGRhdGEgPSBkZWNyeXB0KGRhdGEsIHBhc3N3b3JkKQogICAgICAvLyBmYWxscyB0aHJvdWdoCiAgICBjYXNlICdQUklWQVRFIEtFWSc6CiAgICAgIG5kYXRhID0gYXNuMS5Qcml2YXRlS2V5LmRlY29kZShkYXRhLCAnZGVyJykKICAgICAgc3VidHlwZSA9IG5kYXRhLmFsZ29yaXRobS5hbGdvcml0aG0uam9pbignLicpCiAgICAgIHN3aXRjaCAoc3VidHlwZSkgewogICAgICAgIGNhc2UgJzEuMi44NDAuMTEzNTQ5LjEuMS4xJzoKICAgICAgICAgIHJldHVybiBhc24xLlJTQVByaXZhdGVLZXkuZGVjb2RlKG5kYXRhLnN1YmplY3RQcml2YXRlS2V5LCAnZGVyJykKICAgICAgICBjYXNlICcxLjIuODQwLjEwMDQ1LjIuMSc6CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBjdXJ2ZTogbmRhdGEuYWxnb3JpdGhtLmN1cnZlLAogICAgICAgICAgICBwcml2YXRlS2V5OiBhc24xLkVDUHJpdmF0ZUtleS5kZWNvZGUobmRhdGEuc3ViamVjdFByaXZhdGVLZXksICdkZXInKS5wcml2YXRlS2V5CiAgICAgICAgICB9CiAgICAgICAgY2FzZSAnMS4yLjg0MC4xMDA0MC40LjEnOgogICAgICAgICAgbmRhdGEuYWxnb3JpdGhtLnBhcmFtcy5wcml2X2tleSA9IGFzbjEuRFNBcGFyYW0uZGVjb2RlKG5kYXRhLnN1YmplY3RQcml2YXRlS2V5LCAnZGVyJykKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHR5cGU6ICdkc2EnLAogICAgICAgICAgICBwYXJhbXM6IG5kYXRhLmFsZ29yaXRobS5wYXJhbXMKICAgICAgICAgIH0KICAgICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24ga2V5IGlkICcgKyBzdWJ0eXBlKQogICAgICB9CiAgICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biBrZXkgdHlwZSAnICsgdHlwZSkKICAgIGNhc2UgJ1JTQSBQVUJMSUMgS0VZJzoKICAgICAgcmV0dXJuIGFzbjEuUlNBUHVibGljS2V5LmRlY29kZShkYXRhLCAnZGVyJykKICAgIGNhc2UgJ1JTQSBQUklWQVRFIEtFWSc6CiAgICAgIHJldHVybiBhc24xLlJTQVByaXZhdGVLZXkuZGVjb2RlKGRhdGEsICdkZXInKQogICAgY2FzZSAnRFNBIFBSSVZBVEUgS0VZJzoKICAgICAgcmV0dXJuIHsKICAgICAgICB0eXBlOiAnZHNhJywKICAgICAgICBwYXJhbXM6IGFzbjEuRFNBUHJpdmF0ZUtleS5kZWNvZGUoZGF0YSwgJ2RlcicpCiAgICAgIH0KICAgIGNhc2UgJ0VDIFBSSVZBVEUgS0VZJzoKICAgICAgZGF0YSA9IGFzbjEuRUNQcml2YXRlS2V5LmRlY29kZShkYXRhLCAnZGVyJykKICAgICAgcmV0dXJuIHsKICAgICAgICBjdXJ2ZTogZGF0YS5wYXJhbWV0ZXJzLnZhbHVlLAogICAgICAgIHByaXZhdGVLZXk6IGRhdGEucHJpdmF0ZUtleQogICAgICB9CiAgICBkZWZhdWx0OiB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24ga2V5IHR5cGUgJyArIHR5cGUpCiAgfQp9CnBhcnNlS2V5cy5zaWduYXR1cmUgPSBhc24xLnNpZ25hdHVyZQpmdW5jdGlvbiBkZWNyeXB0IChkYXRhLCBwYXNzd29yZCkgewogIHZhciBzYWx0ID0gZGF0YS5hbGdvcml0aG0uZGVjcnlwdC5rZGUua2RlcGFyYW1zLnNhbHQKICB2YXIgaXRlcnMgPSBwYXJzZUludChkYXRhLmFsZ29yaXRobS5kZWNyeXB0LmtkZS5rZGVwYXJhbXMuaXRlcnMudG9TdHJpbmcoKSwgMTApCiAgdmFyIGFsZ28gPSBhZXNpZFtkYXRhLmFsZ29yaXRobS5kZWNyeXB0LmNpcGhlci5hbGdvLmpvaW4oJy4nKV0KICB2YXIgaXYgPSBkYXRhLmFsZ29yaXRobS5kZWNyeXB0LmNpcGhlci5pdgogIHZhciBjaXBoZXJUZXh0ID0gZGF0YS5zdWJqZWN0UHJpdmF0ZUtleQogIHZhciBrZXlsZW4gPSBwYXJzZUludChhbGdvLnNwbGl0KCctJylbMV0sIDEwKSAvIDgKICB2YXIga2V5ID0gY29tcGF0LnBia2RmMlN5bmMocGFzc3dvcmQsIHNhbHQsIGl0ZXJzLCBrZXlsZW4pCiAgdmFyIGNpcGhlciA9IGNpcGhlcnMuY3JlYXRlRGVjaXBoZXJpdihhbGdvLCBrZXksIGl2KQogIHZhciBvdXQgPSBbXQogIG91dC5wdXNoKGNpcGhlci51cGRhdGUoY2lwaGVyVGV4dCkpCiAgb3V0LnB1c2goY2lwaGVyLmZpbmFsKCkpCiAgcmV0dXJuIEJ1ZmZlci5jb25jYXQob3V0KQp9Cgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiLi9hZXNpZC5qc29uIjoxMzQsIi4vYXNuMSI6MTM1LCIuL2ZpeFByb2MiOjEzNiwiYnJvd3NlcmlmeS1hZXMiOjQ3LCJidWZmZXIiOjc2LCJwYmtkZjIiOjEzOH1dLDEzODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKdmFyIGNyZWF0ZUhtYWMgPSByZXF1aXJlKCdjcmVhdGUtaG1hYycpCnZhciBNQVhfQUxMT0MgPSBNYXRoLnBvdygyLCAzMCkgLSAxIC8vIGRlZmF1bHQgaW4gaW9qcwoKZXhwb3J0cy5wYmtkZjIgPSBwYmtkZjIKZnVuY3Rpb24gcGJrZGYyIChwYXNzd29yZCwgc2FsdCwgaXRlcmF0aW9ucywga2V5bGVuLCBkaWdlc3QsIGNhbGxiYWNrKSB7CiAgaWYgKHR5cGVvZiBkaWdlc3QgPT09ICdmdW5jdGlvbicpIHsKICAgIGNhbGxiYWNrID0gZGlnZXN0CiAgICBkaWdlc3QgPSB1bmRlZmluZWQKICB9CgogIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHsKICAgIHRocm93IG5ldyBFcnJvcignTm8gY2FsbGJhY2sgcHJvdmlkZWQgdG8gcGJrZGYyJykKICB9CgogIHZhciByZXN1bHQgPSBwYmtkZjJTeW5jKHBhc3N3b3JkLCBzYWx0LCBpdGVyYXRpb25zLCBrZXlsZW4sIGRpZ2VzdCkKICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgIGNhbGxiYWNrKHVuZGVmaW5lZCwgcmVzdWx0KQogIH0pCn0KCmV4cG9ydHMucGJrZGYyU3luYyA9IHBia2RmMlN5bmMKZnVuY3Rpb24gcGJrZGYyU3luYyAocGFzc3dvcmQsIHNhbHQsIGl0ZXJhdGlvbnMsIGtleWxlbiwgZGlnZXN0KSB7CiAgaWYgKHR5cGVvZiBpdGVyYXRpb25zICE9PSAnbnVtYmVyJykgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSXRlcmF0aW9ucyBub3QgYSBudW1iZXInKQogIH0KCiAgaWYgKGl0ZXJhdGlvbnMgPCAwKSB7CiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdCYWQgaXRlcmF0aW9ucycpCiAgfQoKICBpZiAodHlwZW9mIGtleWxlbiAhPT0gJ251bWJlcicpIHsKICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0tleSBsZW5ndGggbm90IGEgbnVtYmVyJykKICB9CgogIGlmIChrZXlsZW4gPCAwIHx8IGtleWxlbiA+IE1BWF9BTExPQykgewogICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQmFkIGtleSBsZW5ndGgnKQogIH0KCiAgZGlnZXN0ID0gZGlnZXN0IHx8ICdzaGExJwoKICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihwYXNzd29yZCkpIHBhc3N3b3JkID0gbmV3IEJ1ZmZlcihwYXNzd29yZCwgJ2JpbmFyeScpCiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoc2FsdCkpIHNhbHQgPSBuZXcgQnVmZmVyKHNhbHQsICdiaW5hcnknKQoKICB2YXIgaExlbgogIHZhciBsID0gMQogIHZhciBESyA9IG5ldyBCdWZmZXIoa2V5bGVuKQogIHZhciBibG9jazEgPSBuZXcgQnVmZmVyKHNhbHQubGVuZ3RoICsgNCkKICBzYWx0LmNvcHkoYmxvY2sxLCAwLCAwLCBzYWx0Lmxlbmd0aCkKCiAgdmFyIHIKICB2YXIgVAoKICBmb3IgKHZhciBpID0gMTsgaSA8PSBsOyBpKyspIHsKICAgIGJsb2NrMS53cml0ZVVJbnQzMkJFKGksIHNhbHQubGVuZ3RoKQogICAgdmFyIFUgPSBjcmVhdGVIbWFjKGRpZ2VzdCwgcGFzc3dvcmQpLnVwZGF0ZShibG9jazEpLmRpZ2VzdCgpCgogICAgaWYgKCFoTGVuKSB7CiAgICAgIGhMZW4gPSBVLmxlbmd0aAogICAgICBUID0gbmV3IEJ1ZmZlcihoTGVuKQogICAgICBsID0gTWF0aC5jZWlsKGtleWxlbiAvIGhMZW4pCiAgICAgIHIgPSBrZXlsZW4gLSAobCAtIDEpICogaExlbgogICAgfQoKICAgIFUuY29weShULCAwLCAwLCBoTGVuKQoKICAgIGZvciAodmFyIGogPSAxOyBqIDwgaXRlcmF0aW9uczsgaisrKSB7CiAgICAgIFUgPSBjcmVhdGVIbWFjKGRpZ2VzdCwgcGFzc3dvcmQpLnVwZGF0ZShVKS5kaWdlc3QoKQoKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBoTGVuOyBrKyspIHsKICAgICAgICBUW2tdIF49IFVba10KICAgICAgfQogICAgfQoKICAgIHZhciBkZXN0UG9zID0gKGkgLSAxKSAqIGhMZW4KICAgIHZhciBsZW4gPSAoaSA9PT0gbCA/IHIgOiBoTGVuKQogICAgVC5jb3B5KERLLCBkZXN0UG9zLCAwLCBsZW4pCiAgfQoKICByZXR1cm4gREsKfQoKfSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcikKfSx7ImJ1ZmZlciI6NzYsImNyZWF0ZS1obWFjIjo4NH1dLDEzOTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAocHJvY2Vzcyl7Cid1c2Ugc3RyaWN0JzsKCmlmICghcHJvY2Vzcy52ZXJzaW9uIHx8CiAgICBwcm9jZXNzLnZlcnNpb24uaW5kZXhPZigndjAuJykgPT09IDAgfHwKICAgIHByb2Nlc3MudmVyc2lvbi5pbmRleE9mKCd2MS4nKSA9PT0gMCAmJiBwcm9jZXNzLnZlcnNpb24uaW5kZXhPZigndjEuOC4nKSAhPT0gMCkgewogIG1vZHVsZS5leHBvcnRzID0gbmV4dFRpY2s7Cn0gZWxzZSB7CiAgbW9kdWxlLmV4cG9ydHMgPSBwcm9jZXNzLm5leHRUaWNrOwp9CgpmdW5jdGlvbiBuZXh0VGljayhmbikgewogIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTsKICB2YXIgaSA9IDA7CiAgd2hpbGUgKGkgPCBhcmdzLmxlbmd0aCkgewogICAgYXJnc1tpKytdID0gYXJndW1lbnRzW2ldOwogIH0KICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uIGFmdGVyVGljaygpIHsKICAgIGZuLmFwcGx5KG51bGwsIGFyZ3MpOwogIH0pOwp9Cgp9KS5jYWxsKHRoaXMscmVxdWlyZSgnX3Byb2Nlc3MnKSkKfSx7Il9wcm9jZXNzIjoxNDB9XSwxNDA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXIKCnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTsKdmFyIHF1ZXVlID0gW107CnZhciBkcmFpbmluZyA9IGZhbHNlOwp2YXIgY3VycmVudFF1ZXVlOwp2YXIgcXVldWVJbmRleCA9IC0xOwoKZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkgewogICAgZHJhaW5pbmcgPSBmYWxzZTsKICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7CiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTsKICAgIH0gZWxzZSB7CiAgICAgICAgcXVldWVJbmRleCA9IC0xOwogICAgfQogICAgaWYgKHF1ZXVlLmxlbmd0aCkgewogICAgICAgIGRyYWluUXVldWUoKTsKICAgIH0KfQoKZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHsKICAgIGlmIChkcmFpbmluZykgewogICAgICAgIHJldHVybjsKICAgIH0KICAgIHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChjbGVhblVwTmV4dFRpY2spOwogICAgZHJhaW5pbmcgPSB0cnVlOwoKICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7CiAgICB3aGlsZShsZW4pIHsKICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTsKICAgICAgICBxdWV1ZSA9IFtdOwogICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHsKICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkgewogICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHF1ZXVlSW5kZXggPSAtMTsKICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7CiAgICB9CiAgICBjdXJyZW50UXVldWUgPSBudWxsOwogICAgZHJhaW5pbmcgPSBmYWxzZTsKICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTsKfQoKcHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHsKICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTsKICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgewogICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldOwogICAgICAgIH0KICAgIH0KICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7CiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykgewogICAgICAgIHNldFRpbWVvdXQoZHJhaW5RdWV1ZSwgMCk7CiAgICB9Cn07CgovLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzCmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkgewogICAgdGhpcy5mdW4gPSBmdW47CiAgICB0aGlzLmFycmF5ID0gYXJyYXk7Cn0KSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7Cn07CnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7CnByb2Nlc3MuYnJvd3NlciA9IHRydWU7CnByb2Nlc3MuZW52ID0ge307CnByb2Nlc3MuYXJndiA9IFtdOwpwcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXMKcHJvY2Vzcy52ZXJzaW9ucyA9IHt9OwoKZnVuY3Rpb24gbm9vcCgpIHt9Cgpwcm9jZXNzLm9uID0gbm9vcDsKcHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7CnByb2Nlc3Mub25jZSA9IG5vb3A7CnByb2Nlc3Mub2ZmID0gbm9vcDsKcHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7CnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDsKcHJvY2Vzcy5lbWl0ID0gbm9vcDsKCnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7Cn07Cgpwcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9Owpwcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikgewogICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTsKfTsKcHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTsKCn0se31dLDE0MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CmV4cG9ydHMucHVibGljRW5jcnlwdCA9IHJlcXVpcmUoJy4vcHVibGljRW5jcnlwdCcpOwpleHBvcnRzLnByaXZhdGVEZWNyeXB0ID0gcmVxdWlyZSgnLi9wcml2YXRlRGVjcnlwdCcpOwoKZXhwb3J0cy5wcml2YXRlRW5jcnlwdCA9IGZ1bmN0aW9uIHByaXZhdGVFbmNyeXB0KGtleSwgYnVmKSB7CiAgcmV0dXJuIGV4cG9ydHMucHVibGljRW5jcnlwdChrZXksIGJ1ZiwgdHJ1ZSk7Cn07CgpleHBvcnRzLnB1YmxpY0RlY3J5cHQgPSBmdW5jdGlvbiBwdWJsaWNEZWNyeXB0KGtleSwgYnVmKSB7CiAgcmV0dXJuIGV4cG9ydHMucHJpdmF0ZURlY3J5cHQoa2V5LCBidWYsIHRydWUpOwp9Owp9LHsiLi9wcml2YXRlRGVjcnlwdCI6MTQzLCIuL3B1YmxpY0VuY3J5cHQiOjE0NH1dLDE0MjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKdmFyIGNyZWF0ZUhhc2ggPSByZXF1aXJlKCdjcmVhdGUtaGFzaCcpOwptb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzZWVkLCBsZW4pIHsKICB2YXIgdCA9IG5ldyBCdWZmZXIoJycpOwogIHZhciAgaSA9IDAsIGM7CiAgd2hpbGUgKHQubGVuZ3RoIDwgbGVuKSB7CiAgICBjID0gaTJvcHMoaSsrKTsKICAgIHQgPSBCdWZmZXIuY29uY2F0KFt0LCBjcmVhdGVIYXNoKCdzaGExJykudXBkYXRlKHNlZWQpLnVwZGF0ZShjKS5kaWdlc3QoKV0pOwogIH0KICByZXR1cm4gdC5zbGljZSgwLCBsZW4pOwp9OwoKZnVuY3Rpb24gaTJvcHMoYykgewogIHZhciBvdXQgPSBuZXcgQnVmZmVyKDQpOwogIG91dC53cml0ZVVJbnQzMkJFKGMsMCk7CiAgcmV0dXJuIG91dDsKfQp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiYnVmZmVyIjo3NiwiY3JlYXRlLWhhc2giOjgxfV0sMTQzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChCdWZmZXIpewp2YXIgcGFyc2VLZXlzID0gcmVxdWlyZSgncGFyc2UtYXNuMScpOwp2YXIgbWdmID0gcmVxdWlyZSgnLi9tZ2YnKTsKdmFyIHhvciA9IHJlcXVpcmUoJy4veG9yJyk7CnZhciBibiA9IHJlcXVpcmUoJ2JuLmpzJyk7CnZhciBjcnQgPSByZXF1aXJlKCdicm93c2VyaWZ5LXJzYScpOwp2YXIgY3JlYXRlSGFzaCA9IHJlcXVpcmUoJ2NyZWF0ZS1oYXNoJyk7CnZhciB3aXRoUHVibGljID0gcmVxdWlyZSgnLi93aXRoUHVibGljJyk7Cm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gcHJpdmF0ZURlY3J5cHQocHJpdmF0ZV9rZXksIGVuYywgcmV2ZXJzZSkgewogIHZhciBwYWRkaW5nOwogIGlmIChwcml2YXRlX2tleS5wYWRkaW5nKSB7CiAgICBwYWRkaW5nID0gcHJpdmF0ZV9rZXkucGFkZGluZzsKICB9IGVsc2UgaWYgKHJldmVyc2UpIHsKICAgIHBhZGRpbmcgPSAxOwogIH0gZWxzZSB7CiAgICBwYWRkaW5nID0gNDsKICB9CiAgCiAgdmFyIGtleSA9IHBhcnNlS2V5cyhwcml2YXRlX2tleSk7CiAgdmFyIGsgPSBrZXkubW9kdWx1cy5ieXRlTGVuZ3RoKCk7CiAgaWYgKGVuYy5sZW5ndGggPiBrIHx8IG5ldyBibihlbmMpLmNtcChrZXkubW9kdWx1cykgPj0gMCkgewogICAgdGhyb3cgbmV3IEVycm9yKCdkZWNyeXB0aW9uIGVycm9yJyk7CiAgfQogIHZhciBtc2c7CiAgaWYgKHJldmVyc2UpIHsKICAgIG1zZyA9IHdpdGhQdWJsaWMobmV3IGJuKGVuYyksIGtleSk7CiAgfSBlbHNlIHsKICAgIG1zZyA9IGNydChlbmMsIGtleSk7CiAgfQogIHZhciB6QnVmZmVyID0gbmV3IEJ1ZmZlcihrIC0gbXNnLmxlbmd0aCk7CiAgekJ1ZmZlci5maWxsKDApOwogIG1zZyA9IEJ1ZmZlci5jb25jYXQoW3pCdWZmZXIsIG1zZ10sIGspOwogIGlmIChwYWRkaW5nID09PSA0KSB7CiAgICByZXR1cm4gb2FlcChrZXksIG1zZyk7CiAgfSBlbHNlIGlmIChwYWRkaW5nID09PSAxKSB7CiAgICByZXR1cm4gcGtjczEoa2V5LCBtc2csIHJldmVyc2UpOwogIH0gZWxzZSBpZiAocGFkZGluZyA9PT0gMykgewogICAgcmV0dXJuIG1zZzsKICB9IGVsc2UgewogICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIHBhZGRpbmcnKTsKICB9Cn07CgpmdW5jdGlvbiBvYWVwKGtleSwgbXNnKXsKICB2YXIgbiA9IGtleS5tb2R1bHVzOwogIHZhciBrID0ga2V5Lm1vZHVsdXMuYnl0ZUxlbmd0aCgpOwogIHZhciBtTGVuID0gbXNnLmxlbmd0aDsKICB2YXIgaUhhc2ggPSBjcmVhdGVIYXNoKCdzaGExJykudXBkYXRlKG5ldyBCdWZmZXIoJycpKS5kaWdlc3QoKTsKICB2YXIgaExlbiA9IGlIYXNoLmxlbmd0aDsKICB2YXIgaExlbjIgPSAyICogaExlbjsKICBpZiAobXNnWzBdICE9PSAwKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ2RlY3J5cHRpb24gZXJyb3InKTsKICB9CiAgdmFyIG1hc2tlZFNlZWQgPSBtc2cuc2xpY2UoMSwgaExlbiArIDEpOwogIHZhciBtYXNrZWREYiA9ICBtc2cuc2xpY2UoaExlbiArIDEpOwogIHZhciBzZWVkID0geG9yKG1hc2tlZFNlZWQsIG1nZihtYXNrZWREYiwgaExlbikpOwogIHZhciBkYiA9IHhvcihtYXNrZWREYiwgbWdmKHNlZWQsIGsgLSBoTGVuIC0gMSkpOwogIGlmIChjb21wYXJlKGlIYXNoLCBkYi5zbGljZSgwLCBoTGVuKSkpIHsKICAgIHRocm93IG5ldyBFcnJvcignZGVjcnlwdGlvbiBlcnJvcicpOwogIH0KICB2YXIgaSA9IGhMZW47CiAgd2hpbGUgKGRiW2ldID09PSAwKSB7CiAgICBpKys7CiAgfQogIGlmIChkYltpKytdICE9PSAxKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ2RlY3J5cHRpb24gZXJyb3InKTsKICB9CiAgcmV0dXJuIGRiLnNsaWNlKGkpOwp9CgpmdW5jdGlvbiBwa2NzMShrZXksIG1zZywgcmV2ZXJzZSl7CiAgdmFyIHAxID0gbXNnLnNsaWNlKDAsIDIpOwogIHZhciBpID0gMjsKICB2YXIgc3RhdHVzID0gMDsKICB3aGlsZSAobXNnW2krK10gIT09IDApIHsKICAgIGlmIChpID49IG1zZy5sZW5ndGgpIHsKICAgICAgc3RhdHVzKys7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICB2YXIgcHMgPSBtc2cuc2xpY2UoMiwgaSAtIDEpOwogIHZhciBwMiA9IG1zZy5zbGljZShpIC0gMSwgaSk7CgogIGlmICgocDEudG9TdHJpbmcoJ2hleCcpICE9PSAnMDAwMicgJiYgIXJldmVyc2UpIHx8IChwMS50b1N0cmluZygnaGV4JykgIT09ICcwMDAxJyAmJiByZXZlcnNlKSl7CiAgICBzdGF0dXMrKzsKICB9CiAgaWYgKHBzLmxlbmd0aCA8IDgpIHsKICAgIHN0YXR1cysrOwogIH0KICBpZiAoc3RhdHVzKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ2RlY3J5cHRpb24gZXJyb3InKTsKICB9CiAgcmV0dXJuICBtc2cuc2xpY2UoaSk7Cn0KZnVuY3Rpb24gY29tcGFyZShhLCBiKXsKICBhID0gbmV3IEJ1ZmZlcihhKTsKICBiID0gbmV3IEJ1ZmZlcihiKTsKICB2YXIgZGlmID0gMDsKICB2YXIgbGVuID0gYS5sZW5ndGg7CiAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkgewogICAgZGlmKys7CiAgICBsZW4gPSBNYXRoLm1pbihhLmxlbmd0aCwgYi5sZW5ndGgpOwogIH0KICB2YXIgaSA9IC0xOwogIHdoaWxlICgrK2kgPCBsZW4pIHsKICAgIGRpZiArPSAoYVtpXSBeIGJbaV0pOwogIH0KICByZXR1cm4gZGlmOwp9Cn0pLmNhbGwodGhpcyxyZXF1aXJlKCJidWZmZXIiKS5CdWZmZXIpCn0seyIuL21nZiI6MTQyLCIuL3dpdGhQdWJsaWMiOjE0NSwiLi94b3IiOjE0NiwiYm4uanMiOjQyLCJicm93c2VyaWZ5LXJzYSI6NjMsImJ1ZmZlciI6NzYsImNyZWF0ZS1oYXNoIjo4MSwicGFyc2UtYXNuMSI6MTM3fV0sMTQ0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChCdWZmZXIpewp2YXIgcGFyc2VLZXlzID0gcmVxdWlyZSgncGFyc2UtYXNuMScpOwp2YXIgcmFuZG9tQnl0ZXMgPSByZXF1aXJlKCdyYW5kb21ieXRlcycpOwp2YXIgY3JlYXRlSGFzaCA9IHJlcXVpcmUoJ2NyZWF0ZS1oYXNoJyk7CnZhciBtZ2YgPSByZXF1aXJlKCcuL21nZicpOwp2YXIgeG9yID0gcmVxdWlyZSgnLi94b3InKTsKdmFyIGJuID0gcmVxdWlyZSgnYm4uanMnKTsKdmFyIHdpdGhQdWJsaWMgPSByZXF1aXJlKCcuL3dpdGhQdWJsaWMnKTsKdmFyIGNydCA9IHJlcXVpcmUoJ2Jyb3dzZXJpZnktcnNhJyk7Cgp2YXIgY29uc3RhbnRzID0gewogIFJTQV9QS0NTMV9PQUVQX1BBRERJTkc6IDQsCiAgUlNBX1BLQ1MxX1BBRERJTjogMSwKICBSU0FfTk9fUEFERElORzogMwp9OwoKbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwdWJsaWNFbmNyeXB0KHB1YmxpY19rZXksIG1zZywgcmV2ZXJzZSkgewogIHZhciBwYWRkaW5nOwogIGlmIChwdWJsaWNfa2V5LnBhZGRpbmcpIHsKICAgIHBhZGRpbmcgPSBwdWJsaWNfa2V5LnBhZGRpbmc7CiAgfSBlbHNlIGlmIChyZXZlcnNlKSB7CiAgICBwYWRkaW5nID0gMTsKICB9IGVsc2UgewogICAgcGFkZGluZyA9IDQ7CiAgfQogIHZhciBrZXkgPSBwYXJzZUtleXMocHVibGljX2tleSk7CiAgdmFyIHBhZGRlZE1zZzsKICBpZiAocGFkZGluZyA9PT0gNCkgewogICAgcGFkZGVkTXNnID0gb2FlcChrZXksIG1zZyk7CiAgfSBlbHNlIGlmIChwYWRkaW5nID09PSAxKSB7CiAgICBwYWRkZWRNc2cgPSBwa2NzMShrZXksIG1zZywgcmV2ZXJzZSk7CiAgfSBlbHNlIGlmIChwYWRkaW5nID09PSAzKSB7CiAgICBwYWRkZWRNc2cgPSBuZXcgYm4obXNnKTsKICAgIGlmIChwYWRkZWRNc2cuY21wKGtleS5tb2R1bHVzKSA+PSAwKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcignZGF0YSB0b28gbG9uZyBmb3IgbW9kdWx1cycpOwogICAgfQogIH0gZWxzZSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gcGFkZGluZycpOwogIH0KICBpZiAocmV2ZXJzZSkgewogICAgcmV0dXJuIGNydChwYWRkZWRNc2csIGtleSk7CiAgfSBlbHNlIHsKICAgIHJldHVybiB3aXRoUHVibGljKHBhZGRlZE1zZywga2V5KTsKICB9Cn07CgpmdW5jdGlvbiBvYWVwKGtleSwgbXNnKXsKICB2YXIgayA9IGtleS5tb2R1bHVzLmJ5dGVMZW5ndGgoKTsKICB2YXIgbUxlbiA9IG1zZy5sZW5ndGg7CiAgdmFyIGlIYXNoID0gY3JlYXRlSGFzaCgnc2hhMScpLnVwZGF0ZShuZXcgQnVmZmVyKCcnKSkuZGlnZXN0KCk7CiAgdmFyIGhMZW4gPSBpSGFzaC5sZW5ndGg7CiAgdmFyIGhMZW4yID0gMiAqIGhMZW47CiAgaWYgKG1MZW4gPiBrIC0gaExlbjIgLSAyKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ21lc3NhZ2UgdG9vIGxvbmcnKTsKICB9CiAgdmFyIHBzID0gbmV3IEJ1ZmZlcihrIC0gbUxlbiAtIGhMZW4yIC0gMik7CiAgcHMuZmlsbCgwKTsKICB2YXIgZGJsZW4gPSBrIC0gaExlbiAtIDE7CiAgdmFyIHNlZWQgPSByYW5kb21CeXRlcyhoTGVuKTsKICB2YXIgbWFza2VkRGIgPSB4b3IoQnVmZmVyLmNvbmNhdChbaUhhc2gsIHBzLCBuZXcgQnVmZmVyKFsxXSksIG1zZ10sIGRibGVuKSwgbWdmKHNlZWQsIGRibGVuKSk7CiAgdmFyIG1hc2tlZFNlZWQgPSB4b3Ioc2VlZCwgbWdmKG1hc2tlZERiLCBoTGVuKSk7CiAgcmV0dXJuIG5ldyBibihCdWZmZXIuY29uY2F0KFtuZXcgQnVmZmVyKFswXSksIG1hc2tlZFNlZWQsIG1hc2tlZERiXSwgaykpOwp9CmZ1bmN0aW9uIHBrY3MxKGtleSwgbXNnLCByZXZlcnNlKXsKICB2YXIgbUxlbiA9IG1zZy5sZW5ndGg7CiAgdmFyIGsgPSBrZXkubW9kdWx1cy5ieXRlTGVuZ3RoKCk7CiAgaWYgKG1MZW4gPiBrIC0gMTEpIHsKICAgIHRocm93IG5ldyBFcnJvcignbWVzc2FnZSB0b28gbG9uZycpOwogIH0KICB2YXIgcHM7CiAgaWYgKHJldmVyc2UpIHsKICAgIHBzID0gbmV3IEJ1ZmZlcihrIC0gbUxlbiAtIDMpOwogICAgcHMuZmlsbCgweGZmKTsKICB9IGVsc2UgewogICAgcHMgPSBub25aZXJvKGsgLSBtTGVuIC0gMyk7CiAgfQogIHJldHVybiBuZXcgYm4oQnVmZmVyLmNvbmNhdChbbmV3IEJ1ZmZlcihbMCwgcmV2ZXJzZT8xOjJdKSwgcHMsIG5ldyBCdWZmZXIoWzBdKSwgbXNnXSwgaykpOwp9CmZ1bmN0aW9uIG5vblplcm8obGVuLCBjcnlwdG8pIHsKICB2YXIgb3V0ID0gbmV3IEJ1ZmZlcihsZW4pOwogIHZhciBpID0gMDsKICB2YXIgY2FjaGUgPSByYW5kb21CeXRlcyhsZW4qMik7CiAgdmFyIGN1ciA9IDA7CiAgdmFyIG51bTsKICB3aGlsZSAoaSA8IGxlbikgewogICAgaWYgKGN1ciA9PT0gY2FjaGUubGVuZ3RoKSB7CiAgICAgIGNhY2hlID0gcmFuZG9tQnl0ZXMobGVuKjIpOwogICAgICBjdXIgPSAwOwogICAgfQogICAgbnVtID0gY2FjaGVbY3VyKytdOwogICAgaWYgKG51bSkgewogICAgICBvdXRbaSsrXSA9IG51bTsKICAgIH0KICB9CiAgcmV0dXJuIG91dDsKfQp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiLi9tZ2YiOjE0MiwiLi93aXRoUHVibGljIjoxNDUsIi4veG9yIjoxNDYsImJuLmpzIjo0MiwiYnJvd3NlcmlmeS1yc2EiOjYzLCJidWZmZXIiOjc2LCJjcmVhdGUtaGFzaCI6ODEsInBhcnNlLWFzbjEiOjEzNywicmFuZG9tYnl0ZXMiOjE0N31dLDE0NTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKdmFyIGJuID0gcmVxdWlyZSgnYm4uanMnKTsKZnVuY3Rpb24gd2l0aFB1YmxpYyhwYWRkZWRNc2csIGtleSkgewogIHJldHVybiBuZXcgQnVmZmVyKHBhZGRlZE1zZwogICAgLnRvUmVkKGJuLm1vbnQoa2V5Lm1vZHVsdXMpKQogICAgLnJlZFBvdyhuZXcgYm4oa2V5LnB1YmxpY0V4cG9uZW50KSkKICAgIC5mcm9tUmVkKCkKICAgIC50b0FycmF5KCkpOwp9Cgptb2R1bGUuZXhwb3J0cyA9IHdpdGhQdWJsaWM7Cn0pLmNhbGwodGhpcyxyZXF1aXJlKCJidWZmZXIiKS5CdWZmZXIpCn0seyJibi5qcyI6NDIsImJ1ZmZlciI6NzZ9XSwxNDY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewptb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHhvcihhLCBiKSB7CiAgdmFyIGxlbiA9IGEubGVuZ3RoOwogIHZhciBpID0gLTE7CiAgd2hpbGUgKCsraSA8IGxlbikgewogICAgYVtpXSBePSBiW2ldOwogIH0KICByZXR1cm4gYQp9Owp9LHt9XSwxNDc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKHByb2Nlc3MsZ2xvYmFsLEJ1ZmZlcil7Cid1c2Ugc3RyaWN0JwoKZnVuY3Rpb24gb2xkQnJvd3NlciAoKSB7CiAgdGhyb3cgbmV3IEVycm9yKCdzZWN1cmUgcmFuZG9tIG51bWJlciBnZW5lcmF0aW9uIG5vdCBzdXBwb3J0ZWQgYnkgdGhpcyBicm93c2VyXG51c2UgY2hyb21lLCBGaXJlRm94IG9yIEludGVybmV0IEV4cGxvcmVyIDExJykKfQoKdmFyIGNyeXB0byA9IGdsb2JhbC5jcnlwdG8gfHwgZ2xvYmFsLm1zQ3J5cHRvCgppZiAoY3J5cHRvICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMpIHsKICBtb2R1bGUuZXhwb3J0cyA9IHJhbmRvbUJ5dGVzCn0gZWxzZSB7CiAgbW9kdWxlLmV4cG9ydHMgPSBvbGRCcm93c2VyCn0KCmZ1bmN0aW9uIHJhbmRvbUJ5dGVzIChzaXplLCBjYikgewogIC8vIHBoYW50b21qcyBuZWVkcyB0byB0aHJvdwogIGlmIChzaXplID4gNjU1MzYpIHRocm93IG5ldyBFcnJvcigncmVxdWVzdGVkIHRvbyBtYW55IHJhbmRvbSBieXRlcycpCiAgLy8gaW4gY2FzZSBicm93c2VyaWZ5ICBpc24ndCB1c2luZyB0aGUgVWludDhBcnJheSB2ZXJzaW9uCiAgdmFyIHJhd0J5dGVzID0gbmV3IGdsb2JhbC5VaW50OEFycmF5KHNpemUpCgogIC8vIFRoaXMgd2lsbCBub3Qgd29yayBpbiBvbGRlciBicm93c2Vycy4KICAvLyBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL3dpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzCiAgaWYgKHNpemUgPiAwKSB7ICAvLyBnZXRSYW5kb21WYWx1ZXMgZmFpbHMgb24gSUUgaWYgc2l6ZSA9PSAwCiAgICBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHJhd0J5dGVzKQogIH0KICAvLyBwaGFudG9tanMgZG9lc24ndCBsaWtlIGEgYnVmZmVyIGJlaW5nIHBhc3NlZCBoZXJlCiAgdmFyIGJ5dGVzID0gbmV3IEJ1ZmZlcihyYXdCeXRlcy5idWZmZXIpCgogIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHsKICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgY2IobnVsbCwgYnl0ZXMpCiAgICB9KQogIH0KCiAgcmV0dXJuIGJ5dGVzCn0KCn0pLmNhbGwodGhpcyxyZXF1aXJlKCdfcHJvY2VzcycpLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30scmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiX3Byb2Nlc3MiOjE0MCwiYnVmZmVyIjo3Nn1dLDE0ODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgiLi9saWIvX3N0cmVhbV9kdXBsZXguanMiKQoKfSx7Ii4vbGliL19zdHJlYW1fZHVwbGV4LmpzIjoxNDl9XSwxNDk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewovLyBhIGR1cGxleCBzdHJlYW0gaXMganVzdCBhIHN0cmVhbSB0aGF0IGlzIGJvdGggcmVhZGFibGUgYW5kIHdyaXRhYmxlLgovLyBTaW5jZSBKUyBkb2Vzbid0IGhhdmUgbXVsdGlwbGUgcHJvdG90eXBhbCBpbmhlcml0YW5jZSwgdGhpcyBjbGFzcwovLyBwcm90b3R5cGFsbHkgaW5oZXJpdHMgZnJvbSBSZWFkYWJsZSwgYW5kIHRoZW4gcGFyYXNpdGljYWxseSBmcm9tCi8vIFdyaXRhYmxlLgoKJ3VzZSBzdHJpY3QnOwoKLyo8cmVwbGFjZW1lbnQ+Ki8KCnZhciBvYmplY3RLZXlzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24gKG9iaikgewogIHZhciBrZXlzID0gW107CiAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAga2V5cy5wdXNoKGtleSk7CiAgfXJldHVybiBrZXlzOwp9OwovKjwvcmVwbGFjZW1lbnQ+Ki8KCm1vZHVsZS5leHBvcnRzID0gRHVwbGV4OwoKLyo8cmVwbGFjZW1lbnQ+Ki8KdmFyIHByb2Nlc3NOZXh0VGljayA9IHJlcXVpcmUoJ3Byb2Nlc3MtbmV4dGljay1hcmdzJyk7Ci8qPC9yZXBsYWNlbWVudD4qLwoKLyo8cmVwbGFjZW1lbnQ+Ki8KdmFyIHV0aWwgPSByZXF1aXJlKCdjb3JlLXV0aWwtaXMnKTsKdXRpbC5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7Ci8qPC9yZXBsYWNlbWVudD4qLwoKdmFyIFJlYWRhYmxlID0gcmVxdWlyZSgnLi9fc3RyZWFtX3JlYWRhYmxlJyk7CnZhciBXcml0YWJsZSA9IHJlcXVpcmUoJy4vX3N0cmVhbV93cml0YWJsZScpOwoKdXRpbC5pbmhlcml0cyhEdXBsZXgsIFJlYWRhYmxlKTsKCnZhciBrZXlzID0gb2JqZWN0S2V5cyhXcml0YWJsZS5wcm90b3R5cGUpOwpmb3IgKHZhciB2ID0gMDsgdiA8IGtleXMubGVuZ3RoOyB2KyspIHsKICB2YXIgbWV0aG9kID0ga2V5c1t2XTsKICBpZiAoIUR1cGxleC5wcm90b3R5cGVbbWV0aG9kXSkgRHVwbGV4LnByb3RvdHlwZVttZXRob2RdID0gV3JpdGFibGUucHJvdG90eXBlW21ldGhvZF07Cn0KCmZ1bmN0aW9uIER1cGxleChvcHRpb25zKSB7CiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIER1cGxleCkpIHJldHVybiBuZXcgRHVwbGV4KG9wdGlvbnMpOwoKICBSZWFkYWJsZS5jYWxsKHRoaXMsIG9wdGlvbnMpOwogIFdyaXRhYmxlLmNhbGwodGhpcywgb3B0aW9ucyk7CgogIGlmIChvcHRpb25zICYmIG9wdGlvbnMucmVhZGFibGUgPT09IGZhbHNlKSB0aGlzLnJlYWRhYmxlID0gZmFsc2U7CgogIGlmIChvcHRpb25zICYmIG9wdGlvbnMud3JpdGFibGUgPT09IGZhbHNlKSB0aGlzLndyaXRhYmxlID0gZmFsc2U7CgogIHRoaXMuYWxsb3dIYWxmT3BlbiA9IHRydWU7CiAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5hbGxvd0hhbGZPcGVuID09PSBmYWxzZSkgdGhpcy5hbGxvd0hhbGZPcGVuID0gZmFsc2U7CgogIHRoaXMub25jZSgnZW5kJywgb25lbmQpOwp9CgovLyB0aGUgbm8taGFsZi1vcGVuIGVuZm9yY2VyCmZ1bmN0aW9uIG9uZW5kKCkgewogIC8vIGlmIHdlIGFsbG93IGhhbGYtb3BlbiBzdGF0ZSwgb3IgaWYgdGhlIHdyaXRhYmxlIHNpZGUgZW5kZWQsCiAgLy8gdGhlbiB3ZSdyZSBvay4KICBpZiAodGhpcy5hbGxvd0hhbGZPcGVuIHx8IHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kZWQpIHJldHVybjsKCiAgLy8gbm8gbW9yZSBkYXRhIGNhbiBiZSB3cml0dGVuLgogIC8vIEJ1dCBhbGxvdyBtb3JlIHdyaXRlcyB0byBoYXBwZW4gaW4gdGhpcyB0aWNrLgogIHByb2Nlc3NOZXh0VGljayhvbkVuZE5ULCB0aGlzKTsKfQoKZnVuY3Rpb24gb25FbmROVChzZWxmKSB7CiAgc2VsZi5lbmQoKTsKfQoKZnVuY3Rpb24gZm9yRWFjaCh4cywgZikgewogIGZvciAodmFyIGkgPSAwLCBsID0geHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICBmKHhzW2ldLCBpKTsKICB9Cn0KfSx7Ii4vX3N0cmVhbV9yZWFkYWJsZSI6MTUxLCIuL19zdHJlYW1fd3JpdGFibGUiOjE1MywiY29yZS11dGlsLWlzIjo3OSwiaW5oZXJpdHMiOjEyOCwicHJvY2Vzcy1uZXh0aWNrLWFyZ3MiOjEzOX1dLDE1MDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Ci8vIGEgcGFzc3Rocm91Z2ggc3RyZWFtLgovLyBiYXNpY2FsbHkganVzdCB0aGUgbW9zdCBtaW5pbWFsIHNvcnQgb2YgVHJhbnNmb3JtIHN0cmVhbS4KLy8gRXZlcnkgd3JpdHRlbiBjaHVuayBnZXRzIG91dHB1dCBhcy1pcy4KCid1c2Ugc3RyaWN0JzsKCm1vZHVsZS5leHBvcnRzID0gUGFzc1Rocm91Z2g7Cgp2YXIgVHJhbnNmb3JtID0gcmVxdWlyZSgnLi9fc3RyZWFtX3RyYW5zZm9ybScpOwoKLyo8cmVwbGFjZW1lbnQ+Ki8KdmFyIHV0aWwgPSByZXF1aXJlKCdjb3JlLXV0aWwtaXMnKTsKdXRpbC5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7Ci8qPC9yZXBsYWNlbWVudD4qLwoKdXRpbC5pbmhlcml0cyhQYXNzVGhyb3VnaCwgVHJhbnNmb3JtKTsKCmZ1bmN0aW9uIFBhc3NUaHJvdWdoKG9wdGlvbnMpIHsKICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUGFzc1Rocm91Z2gpKSByZXR1cm4gbmV3IFBhc3NUaHJvdWdoKG9wdGlvbnMpOwoKICBUcmFuc2Zvcm0uY2FsbCh0aGlzLCBvcHRpb25zKTsKfQoKUGFzc1Rocm91Z2gucHJvdG90eXBlLl90cmFuc2Zvcm0gPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikgewogIGNiKG51bGwsIGNodW5rKTsKfTsKfSx7Ii4vX3N0cmVhbV90cmFuc2Zvcm0iOjE1MiwiY29yZS11dGlsLWlzIjo3OSwiaW5oZXJpdHMiOjEyOH1dLDE1MTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAocHJvY2Vzcyl7Cid1c2Ugc3RyaWN0JzsKCm1vZHVsZS5leHBvcnRzID0gUmVhZGFibGU7CgovKjxyZXBsYWNlbWVudD4qLwp2YXIgcHJvY2Vzc05leHRUaWNrID0gcmVxdWlyZSgncHJvY2Vzcy1uZXh0aWNrLWFyZ3MnKTsKLyo8L3JlcGxhY2VtZW50PiovCgovKjxyZXBsYWNlbWVudD4qLwp2YXIgaXNBcnJheSA9IHJlcXVpcmUoJ2lzYXJyYXknKTsKLyo8L3JlcGxhY2VtZW50PiovCgovKjxyZXBsYWNlbWVudD4qLwp2YXIgQnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyOwovKjwvcmVwbGFjZW1lbnQ+Ki8KClJlYWRhYmxlLlJlYWRhYmxlU3RhdGUgPSBSZWFkYWJsZVN0YXRlOwoKdmFyIEVFID0gcmVxdWlyZSgnZXZlbnRzJyk7CgovKjxyZXBsYWNlbWVudD4qLwp2YXIgRUVsaXN0ZW5lckNvdW50ID0gZnVuY3Rpb24gKGVtaXR0ZXIsIHR5cGUpIHsKICByZXR1cm4gZW1pdHRlci5saXN0ZW5lcnModHlwZSkubGVuZ3RoOwp9OwovKjwvcmVwbGFjZW1lbnQ+Ki8KCi8qPHJlcGxhY2VtZW50PiovCnZhciBTdHJlYW07CihmdW5jdGlvbiAoKSB7CiAgdHJ5IHsKICAgIFN0cmVhbSA9IHJlcXVpcmUoJ3N0JyArICdyZWFtJyk7CiAgfSBjYXRjaCAoXykge30gZmluYWxseSB7CiAgICBpZiAoIVN0cmVhbSkgU3RyZWFtID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyOwogIH0KfSkoKTsKLyo8L3JlcGxhY2VtZW50PiovCgp2YXIgQnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyOwoKLyo8cmVwbGFjZW1lbnQ+Ki8KdmFyIHV0aWwgPSByZXF1aXJlKCdjb3JlLXV0aWwtaXMnKTsKdXRpbC5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7Ci8qPC9yZXBsYWNlbWVudD4qLwoKLyo8cmVwbGFjZW1lbnQ+Ki8KdmFyIGRlYnVnVXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTsKdmFyIGRlYnVnID0gdW5kZWZpbmVkOwppZiAoZGVidWdVdGlsICYmIGRlYnVnVXRpbC5kZWJ1Z2xvZykgewogIGRlYnVnID0gZGVidWdVdGlsLmRlYnVnbG9nKCdzdHJlYW0nKTsKfSBlbHNlIHsKICBkZWJ1ZyA9IGZ1bmN0aW9uICgpIHt9Owp9Ci8qPC9yZXBsYWNlbWVudD4qLwoKdmFyIFN0cmluZ0RlY29kZXI7Cgp1dGlsLmluaGVyaXRzKFJlYWRhYmxlLCBTdHJlYW0pOwoKdmFyIER1cGxleDsKZnVuY3Rpb24gUmVhZGFibGVTdGF0ZShvcHRpb25zLCBzdHJlYW0pIHsKICBEdXBsZXggPSBEdXBsZXggfHwgcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpOwoKICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKCiAgLy8gb2JqZWN0IHN0cmVhbSBmbGFnLiBVc2VkIHRvIG1ha2UgcmVhZChuKSBpZ25vcmUgbiBhbmQgdG8KICAvLyBtYWtlIGFsbCB0aGUgYnVmZmVyIG1lcmdpbmcgYW5kIGxlbmd0aCBjaGVja3MgZ28gYXdheQogIHRoaXMub2JqZWN0TW9kZSA9ICEhb3B0aW9ucy5vYmplY3RNb2RlOwoKICBpZiAoc3RyZWFtIGluc3RhbmNlb2YgRHVwbGV4KSB0aGlzLm9iamVjdE1vZGUgPSB0aGlzLm9iamVjdE1vZGUgfHwgISFvcHRpb25zLnJlYWRhYmxlT2JqZWN0TW9kZTsKCiAgLy8gdGhlIHBvaW50IGF0IHdoaWNoIGl0IHN0b3BzIGNhbGxpbmcgX3JlYWQoKSB0byBmaWxsIHRoZSBidWZmZXIKICAvLyBOb3RlOiAwIGlzIGEgdmFsaWQgdmFsdWUsIG1lYW5zICJkb24ndCBjYWxsIF9yZWFkIHByZWVtcHRpdmVseSBldmVyIgogIHZhciBod20gPSBvcHRpb25zLmhpZ2hXYXRlck1hcms7CiAgdmFyIGRlZmF1bHRId20gPSB0aGlzLm9iamVjdE1vZGUgPyAxNiA6IDE2ICogMTAyNDsKICB0aGlzLmhpZ2hXYXRlck1hcmsgPSBod20gfHwgaHdtID09PSAwID8gaHdtIDogZGVmYXVsdEh3bTsKCiAgLy8gY2FzdCB0byBpbnRzLgogIHRoaXMuaGlnaFdhdGVyTWFyayA9IH4gfnRoaXMuaGlnaFdhdGVyTWFyazsKCiAgdGhpcy5idWZmZXIgPSBbXTsKICB0aGlzLmxlbmd0aCA9IDA7CiAgdGhpcy5waXBlcyA9IG51bGw7CiAgdGhpcy5waXBlc0NvdW50ID0gMDsKICB0aGlzLmZsb3dpbmcgPSBudWxsOwogIHRoaXMuZW5kZWQgPSBmYWxzZTsKICB0aGlzLmVuZEVtaXR0ZWQgPSBmYWxzZTsKICB0aGlzLnJlYWRpbmcgPSBmYWxzZTsKCiAgLy8gYSBmbGFnIHRvIGJlIGFibGUgdG8gdGVsbCBpZiB0aGUgb253cml0ZSBjYiBpcyBjYWxsZWQgaW1tZWRpYXRlbHksCiAgLy8gb3Igb24gYSBsYXRlciB0aWNrLiAgV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBhdCBmaXJzdCwgYmVjYXVzZSBhbnkKICAvLyBhY3Rpb25zIHRoYXQgc2hvdWxkbid0IGhhcHBlbiB1bnRpbCAibGF0ZXIiIHNob3VsZCBnZW5lcmFsbHkgYWxzbwogIC8vIG5vdCBoYXBwZW4gYmVmb3JlIHRoZSBmaXJzdCB3cml0ZSBjYWxsLgogIHRoaXMuc3luYyA9IHRydWU7CgogIC8vIHdoZW5ldmVyIHdlIHJldHVybiBudWxsLCB0aGVuIHdlIHNldCBhIGZsYWcgdG8gc2F5CiAgLy8gdGhhdCB3ZSdyZSBhd2FpdGluZyBhICdyZWFkYWJsZScgZXZlbnQgZW1pc3Npb24uCiAgdGhpcy5uZWVkUmVhZGFibGUgPSBmYWxzZTsKICB0aGlzLmVtaXR0ZWRSZWFkYWJsZSA9IGZhbHNlOwogIHRoaXMucmVhZGFibGVMaXN0ZW5pbmcgPSBmYWxzZTsKICB0aGlzLnJlc3VtZVNjaGVkdWxlZCA9IGZhbHNlOwoKICAvLyBDcnlwdG8gaXMga2luZCBvZiBvbGQgYW5kIGNydXN0eS4gIEhpc3RvcmljYWxseSwgaXRzIGRlZmF1bHQgc3RyaW5nCiAgLy8gZW5jb2RpbmcgaXMgJ2JpbmFyeScgc28gd2UgaGF2ZSB0byBtYWtlIHRoaXMgY29uZmlndXJhYmxlLgogIC8vIEV2ZXJ5dGhpbmcgZWxzZSBpbiB0aGUgdW5pdmVyc2UgdXNlcyAndXRmOCcsIHRob3VnaC4KICB0aGlzLmRlZmF1bHRFbmNvZGluZyA9IG9wdGlvbnMuZGVmYXVsdEVuY29kaW5nIHx8ICd1dGY4JzsKCiAgLy8gd2hlbiBwaXBpbmcsIHdlIG9ubHkgY2FyZSBhYm91dCAncmVhZGFibGUnIGV2ZW50cyB0aGF0IGhhcHBlbgogIC8vIGFmdGVyIHJlYWQoKWluZyBhbGwgdGhlIGJ5dGVzIGFuZCBub3QgZ2V0dGluZyBhbnkgcHVzaGJhY2suCiAgdGhpcy5yYW5PdXQgPSBmYWxzZTsKCiAgLy8gdGhlIG51bWJlciBvZiB3cml0ZXJzIHRoYXQgYXJlIGF3YWl0aW5nIGEgZHJhaW4gZXZlbnQgaW4gLnBpcGUoKXMKICB0aGlzLmF3YWl0RHJhaW4gPSAwOwoKICAvLyBpZiB0cnVlLCBhIG1heWJlUmVhZE1vcmUgaGFzIGJlZW4gc2NoZWR1bGVkCiAgdGhpcy5yZWFkaW5nTW9yZSA9IGZhbHNlOwoKICB0aGlzLmRlY29kZXIgPSBudWxsOwogIHRoaXMuZW5jb2RpbmcgPSBudWxsOwogIGlmIChvcHRpb25zLmVuY29kaW5nKSB7CiAgICBpZiAoIVN0cmluZ0RlY29kZXIpIFN0cmluZ0RlY29kZXIgPSByZXF1aXJlKCdzdHJpbmdfZGVjb2Rlci8nKS5TdHJpbmdEZWNvZGVyOwogICAgdGhpcy5kZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXIob3B0aW9ucy5lbmNvZGluZyk7CiAgICB0aGlzLmVuY29kaW5nID0gb3B0aW9ucy5lbmNvZGluZzsKICB9Cn0KCnZhciBEdXBsZXg7CmZ1bmN0aW9uIFJlYWRhYmxlKG9wdGlvbnMpIHsKICBEdXBsZXggPSBEdXBsZXggfHwgcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpOwoKICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVhZGFibGUpKSByZXR1cm4gbmV3IFJlYWRhYmxlKG9wdGlvbnMpOwoKICB0aGlzLl9yZWFkYWJsZVN0YXRlID0gbmV3IFJlYWRhYmxlU3RhdGUob3B0aW9ucywgdGhpcyk7CgogIC8vIGxlZ2FjeQogIHRoaXMucmVhZGFibGUgPSB0cnVlOwoKICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5yZWFkID09PSAnZnVuY3Rpb24nKSB0aGlzLl9yZWFkID0gb3B0aW9ucy5yZWFkOwoKICBTdHJlYW0uY2FsbCh0aGlzKTsKfQoKLy8gTWFudWFsbHkgc2hvdmUgc29tZXRoaW5nIGludG8gdGhlIHJlYWQoKSBidWZmZXIuCi8vIFRoaXMgcmV0dXJucyB0cnVlIGlmIHRoZSBoaWdoV2F0ZXJNYXJrIGhhcyBub3QgYmVlbiBoaXQgeWV0LAovLyBzaW1pbGFyIHRvIGhvdyBXcml0YWJsZS53cml0ZSgpIHJldHVybnMgdHJ1ZSBpZiB5b3Ugc2hvdWxkCi8vIHdyaXRlKCkgc29tZSBtb3JlLgpSZWFkYWJsZS5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcpIHsKICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlOwoKICBpZiAoIXN0YXRlLm9iamVjdE1vZGUgJiYgdHlwZW9mIGNodW5rID09PSAnc3RyaW5nJykgewogICAgZW5jb2RpbmcgPSBlbmNvZGluZyB8fCBzdGF0ZS5kZWZhdWx0RW5jb2Rpbmc7CiAgICBpZiAoZW5jb2RpbmcgIT09IHN0YXRlLmVuY29kaW5nKSB7CiAgICAgIGNodW5rID0gbmV3IEJ1ZmZlcihjaHVuaywgZW5jb2RpbmcpOwogICAgICBlbmNvZGluZyA9ICcnOwogICAgfQogIH0KCiAgcmV0dXJuIHJlYWRhYmxlQWRkQ2h1bmsodGhpcywgc3RhdGUsIGNodW5rLCBlbmNvZGluZywgZmFsc2UpOwp9OwoKLy8gVW5zaGlmdCBzaG91bGQgKmFsd2F5cyogYmUgc29tZXRoaW5nIGRpcmVjdGx5IG91dCBvZiByZWFkKCkKUmVhZGFibGUucHJvdG90eXBlLnVuc2hpZnQgPSBmdW5jdGlvbiAoY2h1bmspIHsKICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlOwogIHJldHVybiByZWFkYWJsZUFkZENodW5rKHRoaXMsIHN0YXRlLCBjaHVuaywgJycsIHRydWUpOwp9OwoKUmVhZGFibGUucHJvdG90eXBlLmlzUGF1c2VkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcgPT09IGZhbHNlOwp9OwoKZnVuY3Rpb24gcmVhZGFibGVBZGRDaHVuayhzdHJlYW0sIHN0YXRlLCBjaHVuaywgZW5jb2RpbmcsIGFkZFRvRnJvbnQpIHsKICB2YXIgZXIgPSBjaHVua0ludmFsaWQoc3RhdGUsIGNodW5rKTsKICBpZiAoZXIpIHsKICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVyKTsKICB9IGVsc2UgaWYgKGNodW5rID09PSBudWxsKSB7CiAgICBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7CiAgICBvbkVvZkNodW5rKHN0cmVhbSwgc3RhdGUpOwogIH0gZWxzZSBpZiAoc3RhdGUub2JqZWN0TW9kZSB8fCBjaHVuayAmJiBjaHVuay5sZW5ndGggPiAwKSB7CiAgICBpZiAoc3RhdGUuZW5kZWQgJiYgIWFkZFRvRnJvbnQpIHsKICAgICAgdmFyIGUgPSBuZXcgRXJyb3IoJ3N0cmVhbS5wdXNoKCkgYWZ0ZXIgRU9GJyk7CiAgICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGUpOwogICAgfSBlbHNlIGlmIChzdGF0ZS5lbmRFbWl0dGVkICYmIGFkZFRvRnJvbnQpIHsKICAgICAgdmFyIGUgPSBuZXcgRXJyb3IoJ3N0cmVhbS51bnNoaWZ0KCkgYWZ0ZXIgZW5kIGV2ZW50Jyk7CiAgICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIGUpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHNraXBBZGQ7CiAgICAgIGlmIChzdGF0ZS5kZWNvZGVyICYmICFhZGRUb0Zyb250ICYmICFlbmNvZGluZykgewogICAgICAgIGNodW5rID0gc3RhdGUuZGVjb2Rlci53cml0ZShjaHVuayk7CiAgICAgICAgc2tpcEFkZCA9ICFzdGF0ZS5vYmplY3RNb2RlICYmIGNodW5rLmxlbmd0aCA9PT0gMDsKICAgICAgfQoKICAgICAgaWYgKCFhZGRUb0Zyb250KSBzdGF0ZS5yZWFkaW5nID0gZmFsc2U7CgogICAgICAvLyBEb24ndCBhZGQgdG8gdGhlIGJ1ZmZlciBpZiB3ZSd2ZSBkZWNvZGVkIHRvIGFuIGVtcHR5IHN0cmluZyBjaHVuayBhbmQKICAgICAgLy8gd2UncmUgbm90IGluIG9iamVjdCBtb2RlCiAgICAgIGlmICghc2tpcEFkZCkgewogICAgICAgIC8vIGlmIHdlIHdhbnQgdGhlIGRhdGEgbm93LCBqdXN0IGVtaXQgaXQuCiAgICAgICAgaWYgKHN0YXRlLmZsb3dpbmcgJiYgc3RhdGUubGVuZ3RoID09PSAwICYmICFzdGF0ZS5zeW5jKSB7CiAgICAgICAgICBzdHJlYW0uZW1pdCgnZGF0YScsIGNodW5rKTsKICAgICAgICAgIHN0cmVhbS5yZWFkKDApOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyB1cGRhdGUgdGhlIGJ1ZmZlciBpbmZvLgogICAgICAgICAgc3RhdGUubGVuZ3RoICs9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoOwogICAgICAgICAgaWYgKGFkZFRvRnJvbnQpIHN0YXRlLmJ1ZmZlci51bnNoaWZ0KGNodW5rKTtlbHNlIHN0YXRlLmJ1ZmZlci5wdXNoKGNodW5rKTsKCiAgICAgICAgICBpZiAoc3RhdGUubmVlZFJlYWRhYmxlKSBlbWl0UmVhZGFibGUoc3RyZWFtKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIG1heWJlUmVhZE1vcmUoc3RyZWFtLCBzdGF0ZSk7CiAgICB9CiAgfSBlbHNlIGlmICghYWRkVG9Gcm9udCkgewogICAgc3RhdGUucmVhZGluZyA9IGZhbHNlOwogIH0KCiAgcmV0dXJuIG5lZWRNb3JlRGF0YShzdGF0ZSk7Cn0KCi8vIGlmIGl0J3MgcGFzdCB0aGUgaGlnaCB3YXRlciBtYXJrLCB3ZSBjYW4gcHVzaCBpbiBzb21lIG1vcmUuCi8vIEFsc28sIGlmIHdlIGhhdmUgbm8gZGF0YSB5ZXQsIHdlIGNhbiBzdGFuZCBzb21lCi8vIG1vcmUgYnl0ZXMuICBUaGlzIGlzIHRvIHdvcmsgYXJvdW5kIGNhc2VzIHdoZXJlIGh3bT0wLAovLyBzdWNoIGFzIHRoZSByZXBsLiAgQWxzbywgaWYgdGhlIHB1c2goKSB0cmlnZ2VyZWQgYQovLyByZWFkYWJsZSBldmVudCwgYW5kIHRoZSB1c2VyIGNhbGxlZCByZWFkKGxhcmdlTnVtYmVyKSBzdWNoIHRoYXQKLy8gbmVlZFJlYWRhYmxlIHdhcyBzZXQsIHRoZW4gd2Ugb3VnaHQgdG8gcHVzaCBtb3JlLCBzbyB0aGF0IGFub3RoZXIKLy8gJ3JlYWRhYmxlJyBldmVudCB3aWxsIGJlIHRyaWdnZXJlZC4KZnVuY3Rpb24gbmVlZE1vcmVEYXRhKHN0YXRlKSB7CiAgcmV0dXJuICFzdGF0ZS5lbmRlZCAmJiAoc3RhdGUubmVlZFJlYWRhYmxlIHx8IHN0YXRlLmxlbmd0aCA8IHN0YXRlLmhpZ2hXYXRlck1hcmsgfHwgc3RhdGUubGVuZ3RoID09PSAwKTsKfQoKLy8gYmFja3dhcmRzIGNvbXBhdGliaWxpdHkuClJlYWRhYmxlLnByb3RvdHlwZS5zZXRFbmNvZGluZyA9IGZ1bmN0aW9uIChlbmMpIHsKICBpZiAoIVN0cmluZ0RlY29kZXIpIFN0cmluZ0RlY29kZXIgPSByZXF1aXJlKCdzdHJpbmdfZGVjb2Rlci8nKS5TdHJpbmdEZWNvZGVyOwogIHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVjb2RlciA9IG5ldyBTdHJpbmdEZWNvZGVyKGVuYyk7CiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmNvZGluZyA9IGVuYzsKICByZXR1cm4gdGhpczsKfTsKCi8vIERvbid0IHJhaXNlIHRoZSBod20gPiA4TUIKdmFyIE1BWF9IV00gPSAweDgwMDAwMDsKZnVuY3Rpb24gY29tcHV0ZU5ld0hpZ2hXYXRlck1hcmsobikgewogIGlmIChuID49IE1BWF9IV00pIHsKICAgIG4gPSBNQVhfSFdNOwogIH0gZWxzZSB7CiAgICAvLyBHZXQgdGhlIG5leHQgaGlnaGVzdCBwb3dlciBvZiAyCiAgICBuLS07CiAgICBuIHw9IG4gPj4+IDE7CiAgICBuIHw9IG4gPj4+IDI7CiAgICBuIHw9IG4gPj4+IDQ7CiAgICBuIHw9IG4gPj4+IDg7CiAgICBuIHw9IG4gPj4+IDE2OwogICAgbisrOwogIH0KICByZXR1cm4gbjsKfQoKZnVuY3Rpb24gaG93TXVjaFRvUmVhZChuLCBzdGF0ZSkgewogIGlmIChzdGF0ZS5sZW5ndGggPT09IDAgJiYgc3RhdGUuZW5kZWQpIHJldHVybiAwOwoKICBpZiAoc3RhdGUub2JqZWN0TW9kZSkgcmV0dXJuIG4gPT09IDAgPyAwIDogMTsKCiAgaWYgKG4gPT09IG51bGwgfHwgaXNOYU4obikpIHsKICAgIC8vIG9ubHkgZmxvdyBvbmUgYnVmZmVyIGF0IGEgdGltZQogICAgaWYgKHN0YXRlLmZsb3dpbmcgJiYgc3RhdGUuYnVmZmVyLmxlbmd0aCkgcmV0dXJuIHN0YXRlLmJ1ZmZlclswXS5sZW5ndGg7ZWxzZSByZXR1cm4gc3RhdGUubGVuZ3RoOwogIH0KCiAgaWYgKG4gPD0gMCkgcmV0dXJuIDA7CgogIC8vIElmIHdlJ3JlIGFza2luZyBmb3IgbW9yZSB0aGFuIHRoZSB0YXJnZXQgYnVmZmVyIGxldmVsLAogIC8vIHRoZW4gcmFpc2UgdGhlIHdhdGVyIG1hcmsuICBCdW1wIHVwIHRvIHRoZSBuZXh0IGhpZ2hlc3QKICAvLyBwb3dlciBvZiAyLCB0byBwcmV2ZW50IGluY3JlYXNpbmcgaXQgZXhjZXNzaXZlbHkgaW4gdGlueQogIC8vIGFtb3VudHMuCiAgaWYgKG4gPiBzdGF0ZS5oaWdoV2F0ZXJNYXJrKSBzdGF0ZS5oaWdoV2F0ZXJNYXJrID0gY29tcHV0ZU5ld0hpZ2hXYXRlck1hcmsobik7CgogIC8vIGRvbid0IGhhdmUgdGhhdCBtdWNoLiAgcmV0dXJuIG51bGwsIHVubGVzcyB3ZSd2ZSBlbmRlZC4KICBpZiAobiA+IHN0YXRlLmxlbmd0aCkgewogICAgaWYgKCFzdGF0ZS5lbmRlZCkgewogICAgICBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlOwogICAgICByZXR1cm4gMDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBzdGF0ZS5sZW5ndGg7CiAgICB9CiAgfQoKICByZXR1cm4gbjsKfQoKLy8geW91IGNhbiBvdmVycmlkZSBlaXRoZXIgdGhpcyBtZXRob2QsIG9yIHRoZSBhc3luYyBfcmVhZChuKSBiZWxvdy4KUmVhZGFibGUucHJvdG90eXBlLnJlYWQgPSBmdW5jdGlvbiAobikgewogIGRlYnVnKCdyZWFkJywgbik7CiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTsKICB2YXIgbk9yaWcgPSBuOwoKICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPiAwKSBzdGF0ZS5lbWl0dGVkUmVhZGFibGUgPSBmYWxzZTsKCiAgLy8gaWYgd2UncmUgZG9pbmcgcmVhZCgwKSB0byB0cmlnZ2VyIGEgcmVhZGFibGUgZXZlbnQsIGJ1dCB3ZQogIC8vIGFscmVhZHkgaGF2ZSBhIGJ1bmNoIG9mIGRhdGEgaW4gdGhlIGJ1ZmZlciwgdGhlbiBqdXN0IHRyaWdnZXIKICAvLyB0aGUgJ3JlYWRhYmxlJyBldmVudCBhbmQgbW92ZSBvbi4KICBpZiAobiA9PT0gMCAmJiBzdGF0ZS5uZWVkUmVhZGFibGUgJiYgKHN0YXRlLmxlbmd0aCA+PSBzdGF0ZS5oaWdoV2F0ZXJNYXJrIHx8IHN0YXRlLmVuZGVkKSkgewogICAgZGVidWcoJ3JlYWQ6IGVtaXRSZWFkYWJsZScsIHN0YXRlLmxlbmd0aCwgc3RhdGUuZW5kZWQpOwogICAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5lbmRlZCkgZW5kUmVhZGFibGUodGhpcyk7ZWxzZSBlbWl0UmVhZGFibGUodGhpcyk7CiAgICByZXR1cm4gbnVsbDsKICB9CgogIG4gPSBob3dNdWNoVG9SZWFkKG4sIHN0YXRlKTsKCiAgLy8gaWYgd2UndmUgZW5kZWQsIGFuZCB3ZSdyZSBub3cgY2xlYXIsIHRoZW4gZmluaXNoIGl0IHVwLgogIGlmIChuID09PSAwICYmIHN0YXRlLmVuZGVkKSB7CiAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSBlbmRSZWFkYWJsZSh0aGlzKTsKICAgIHJldHVybiBudWxsOwogIH0KCiAgLy8gQWxsIHRoZSBhY3R1YWwgY2h1bmsgZ2VuZXJhdGlvbiBsb2dpYyBuZWVkcyB0byBiZQogIC8vICpiZWxvdyogdGhlIGNhbGwgdG8gX3JlYWQuICBUaGUgcmVhc29uIGlzIHRoYXQgaW4gY2VydGFpbgogIC8vIHN5bnRoZXRpYyBzdHJlYW0gY2FzZXMsIHN1Y2ggYXMgcGFzc3Rocm91Z2ggc3RyZWFtcywgX3JlYWQKICAvLyBtYXkgYmUgYSBjb21wbGV0ZWx5IHN5bmNocm9ub3VzIG9wZXJhdGlvbiB3aGljaCBtYXkgY2hhbmdlCiAgLy8gdGhlIHN0YXRlIG9mIHRoZSByZWFkIGJ1ZmZlciwgcHJvdmlkaW5nIGVub3VnaCBkYXRhIHdoZW4KICAvLyBiZWZvcmUgdGhlcmUgd2FzICpub3QqIGVub3VnaC4KICAvLwogIC8vIFNvLCB0aGUgc3RlcHMgYXJlOgogIC8vIDEuIEZpZ3VyZSBvdXQgd2hhdCB0aGUgc3RhdGUgb2YgdGhpbmdzIHdpbGwgYmUgYWZ0ZXIgd2UgZG8KICAvLyBhIHJlYWQgZnJvbSB0aGUgYnVmZmVyLgogIC8vCiAgLy8gMi4gSWYgdGhhdCByZXN1bHRpbmcgc3RhdGUgd2lsbCB0cmlnZ2VyIGEgX3JlYWQsIHRoZW4gY2FsbCBfcmVhZC4KICAvLyBOb3RlIHRoYXQgdGhpcyBtYXkgYmUgYXN5bmNocm9ub3VzLCBvciBzeW5jaHJvbm91cy4gIFllcywgaXQgaXMKICAvLyBkZWVwbHkgdWdseSB0byB3cml0ZSBBUElzIHRoaXMgd2F5LCBidXQgdGhhdCBzdGlsbCBkb2Vzbid0IG1lYW4KICAvLyB0aGF0IHRoZSBSZWFkYWJsZSBjbGFzcyBzaG91bGQgYmVoYXZlIGltcHJvcGVybHksIGFzIHN0cmVhbXMgYXJlCiAgLy8gZGVzaWduZWQgdG8gYmUgc3luYy9hc3luYyBhZ25vc3RpYy4KICAvLyBUYWtlIG5vdGUgaWYgdGhlIF9yZWFkIGNhbGwgaXMgc3luYyBvciBhc3luYyAoaWUsIGlmIHRoZSByZWFkIGNhbGwKICAvLyBoYXMgcmV0dXJuZWQgeWV0KSwgc28gdGhhdCB3ZSBrbm93IHdoZXRoZXIgb3Igbm90IGl0J3Mgc2FmZSB0byBlbWl0CiAgLy8gJ3JlYWRhYmxlJyBldGMuCiAgLy8KICAvLyAzLiBBY3R1YWxseSBwdWxsIHRoZSByZXF1ZXN0ZWQgY2h1bmtzIG91dCBvZiB0aGUgYnVmZmVyIGFuZCByZXR1cm4uCgogIC8vIGlmIHdlIG5lZWQgYSByZWFkYWJsZSBldmVudCwgdGhlbiB3ZSBuZWVkIHRvIGRvIHNvbWUgcmVhZGluZy4KICB2YXIgZG9SZWFkID0gc3RhdGUubmVlZFJlYWRhYmxlOwogIGRlYnVnKCduZWVkIHJlYWRhYmxlJywgZG9SZWFkKTsKCiAgLy8gaWYgd2UgY3VycmVudGx5IGhhdmUgbGVzcyB0aGFuIHRoZSBoaWdoV2F0ZXJNYXJrLCB0aGVuIGFsc28gcmVhZCBzb21lCiAgaWYgKHN0YXRlLmxlbmd0aCA9PT0gMCB8fCBzdGF0ZS5sZW5ndGggLSBuIDwgc3RhdGUuaGlnaFdhdGVyTWFyaykgewogICAgZG9SZWFkID0gdHJ1ZTsKICAgIGRlYnVnKCdsZW5ndGggbGVzcyB0aGFuIHdhdGVybWFyaycsIGRvUmVhZCk7CiAgfQoKICAvLyBob3dldmVyLCBpZiB3ZSd2ZSBlbmRlZCwgdGhlbiB0aGVyZSdzIG5vIHBvaW50LCBhbmQgaWYgd2UncmUgYWxyZWFkeQogIC8vIHJlYWRpbmcsIHRoZW4gaXQncyB1bm5lY2Vzc2FyeS4KICBpZiAoc3RhdGUuZW5kZWQgfHwgc3RhdGUucmVhZGluZykgewogICAgZG9SZWFkID0gZmFsc2U7CiAgICBkZWJ1ZygncmVhZGluZyBvciBlbmRlZCcsIGRvUmVhZCk7CiAgfQoKICBpZiAoZG9SZWFkKSB7CiAgICBkZWJ1ZygnZG8gcmVhZCcpOwogICAgc3RhdGUucmVhZGluZyA9IHRydWU7CiAgICBzdGF0ZS5zeW5jID0gdHJ1ZTsKICAgIC8vIGlmIHRoZSBsZW5ndGggaXMgY3VycmVudGx5IHplcm8sIHRoZW4gd2UgKm5lZWQqIGEgcmVhZGFibGUgZXZlbnQuCiAgICBpZiAoc3RhdGUubGVuZ3RoID09PSAwKSBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlOwogICAgLy8gY2FsbCBpbnRlcm5hbCByZWFkIG1ldGhvZAogICAgdGhpcy5fcmVhZChzdGF0ZS5oaWdoV2F0ZXJNYXJrKTsKICAgIHN0YXRlLnN5bmMgPSBmYWxzZTsKICB9CgogIC8vIElmIF9yZWFkIHB1c2hlZCBkYXRhIHN5bmNocm9ub3VzbHksIHRoZW4gYHJlYWRpbmdgIHdpbGwgYmUgZmFsc2UsCiAgLy8gYW5kIHdlIG5lZWQgdG8gcmUtZXZhbHVhdGUgaG93IG11Y2ggZGF0YSB3ZSBjYW4gcmV0dXJuIHRvIHRoZSB1c2VyLgogIGlmIChkb1JlYWQgJiYgIXN0YXRlLnJlYWRpbmcpIG4gPSBob3dNdWNoVG9SZWFkKG5PcmlnLCBzdGF0ZSk7CgogIHZhciByZXQ7CiAgaWYgKG4gPiAwKSByZXQgPSBmcm9tTGlzdChuLCBzdGF0ZSk7ZWxzZSByZXQgPSBudWxsOwoKICBpZiAocmV0ID09PSBudWxsKSB7CiAgICBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlOwogICAgbiA9IDA7CiAgfQoKICBzdGF0ZS5sZW5ndGggLT0gbjsKCiAgLy8gSWYgd2UgaGF2ZSBub3RoaW5nIGluIHRoZSBidWZmZXIsIHRoZW4gd2Ugd2FudCB0byBrbm93CiAgLy8gYXMgc29vbiBhcyB3ZSAqZG8qIGdldCBzb21ldGhpbmcgaW50byB0aGUgYnVmZmVyLgogIGlmIChzdGF0ZS5sZW5ndGggPT09IDAgJiYgIXN0YXRlLmVuZGVkKSBzdGF0ZS5uZWVkUmVhZGFibGUgPSB0cnVlOwoKICAvLyBJZiB3ZSB0cmllZCB0byByZWFkKCkgcGFzdCB0aGUgRU9GLCB0aGVuIGVtaXQgZW5kIG9uIHRoZSBuZXh0IHRpY2suCiAgaWYgKG5PcmlnICE9PSBuICYmIHN0YXRlLmVuZGVkICYmIHN0YXRlLmxlbmd0aCA9PT0gMCkgZW5kUmVhZGFibGUodGhpcyk7CgogIGlmIChyZXQgIT09IG51bGwpIHRoaXMuZW1pdCgnZGF0YScsIHJldCk7CgogIHJldHVybiByZXQ7Cn07CgpmdW5jdGlvbiBjaHVua0ludmFsaWQoc3RhdGUsIGNodW5rKSB7CiAgdmFyIGVyID0gbnVsbDsKICBpZiAoIUJ1ZmZlci5pc0J1ZmZlcihjaHVuaykgJiYgdHlwZW9mIGNodW5rICE9PSAnc3RyaW5nJyAmJiBjaHVuayAhPT0gbnVsbCAmJiBjaHVuayAhPT0gdW5kZWZpbmVkICYmICFzdGF0ZS5vYmplY3RNb2RlKSB7CiAgICBlciA9IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgbm9uLXN0cmluZy9idWZmZXIgY2h1bmsnKTsKICB9CiAgcmV0dXJuIGVyOwp9CgpmdW5jdGlvbiBvbkVvZkNodW5rKHN0cmVhbSwgc3RhdGUpIHsKICBpZiAoc3RhdGUuZW5kZWQpIHJldHVybjsKICBpZiAoc3RhdGUuZGVjb2RlcikgewogICAgdmFyIGNodW5rID0gc3RhdGUuZGVjb2Rlci5lbmQoKTsKICAgIGlmIChjaHVuayAmJiBjaHVuay5sZW5ndGgpIHsKICAgICAgc3RhdGUuYnVmZmVyLnB1c2goY2h1bmspOwogICAgICBzdGF0ZS5sZW5ndGggKz0gc3RhdGUub2JqZWN0TW9kZSA/IDEgOiBjaHVuay5sZW5ndGg7CiAgICB9CiAgfQogIHN0YXRlLmVuZGVkID0gdHJ1ZTsKCiAgLy8gZW1pdCAncmVhZGFibGUnIG5vdyB0byBtYWtlIHN1cmUgaXQgZ2V0cyBwaWNrZWQgdXAuCiAgZW1pdFJlYWRhYmxlKHN0cmVhbSk7Cn0KCi8vIERvbid0IGVtaXQgcmVhZGFibGUgcmlnaHQgYXdheSBpbiBzeW5jIG1vZGUsIGJlY2F1c2UgdGhpcyBjYW4gdHJpZ2dlcgovLyBhbm90aGVyIHJlYWQoKSBjYWxsID0+IHN0YWNrIG92ZXJmbG93LiAgVGhpcyB3YXksIGl0IG1pZ2h0IHRyaWdnZXIKLy8gYSBuZXh0VGljayByZWN1cnNpb24gd2FybmluZywgYnV0IHRoYXQncyBub3Qgc28gYmFkLgpmdW5jdGlvbiBlbWl0UmVhZGFibGUoc3RyZWFtKSB7CiAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlOwogIHN0YXRlLm5lZWRSZWFkYWJsZSA9IGZhbHNlOwogIGlmICghc3RhdGUuZW1pdHRlZFJlYWRhYmxlKSB7CiAgICBkZWJ1ZygnZW1pdFJlYWRhYmxlJywgc3RhdGUuZmxvd2luZyk7CiAgICBzdGF0ZS5lbWl0dGVkUmVhZGFibGUgPSB0cnVlOwogICAgaWYgKHN0YXRlLnN5bmMpIHByb2Nlc3NOZXh0VGljayhlbWl0UmVhZGFibGVfLCBzdHJlYW0pO2Vsc2UgZW1pdFJlYWRhYmxlXyhzdHJlYW0pOwogIH0KfQoKZnVuY3Rpb24gZW1pdFJlYWRhYmxlXyhzdHJlYW0pIHsKICBkZWJ1ZygnZW1pdCByZWFkYWJsZScpOwogIHN0cmVhbS5lbWl0KCdyZWFkYWJsZScpOwogIGZsb3coc3RyZWFtKTsKfQoKLy8gYXQgdGhpcyBwb2ludCwgdGhlIHVzZXIgaGFzIHByZXN1bWFibHkgc2VlbiB0aGUgJ3JlYWRhYmxlJyBldmVudCwKLy8gYW5kIGNhbGxlZCByZWFkKCkgdG8gY29uc3VtZSBzb21lIGRhdGEuICB0aGF0IG1heSBoYXZlIHRyaWdnZXJlZAovLyBpbiB0dXJuIGFub3RoZXIgX3JlYWQobikgY2FsbCwgaW4gd2hpY2ggY2FzZSByZWFkaW5nID0gdHJ1ZSBpZgovLyBpdCdzIGluIHByb2dyZXNzLgovLyBIb3dldmVyLCBpZiB3ZSdyZSBub3QgZW5kZWQsIG9yIHJlYWRpbmcsIGFuZCB0aGUgbGVuZ3RoIDwgaHdtLAovLyB0aGVuIGdvIGFoZWFkIGFuZCB0cnkgdG8gcmVhZCBzb21lIG1vcmUgcHJlZW1wdGl2ZWx5LgpmdW5jdGlvbiBtYXliZVJlYWRNb3JlKHN0cmVhbSwgc3RhdGUpIHsKICBpZiAoIXN0YXRlLnJlYWRpbmdNb3JlKSB7CiAgICBzdGF0ZS5yZWFkaW5nTW9yZSA9IHRydWU7CiAgICBwcm9jZXNzTmV4dFRpY2sobWF5YmVSZWFkTW9yZV8sIHN0cmVhbSwgc3RhdGUpOwogIH0KfQoKZnVuY3Rpb24gbWF5YmVSZWFkTW9yZV8oc3RyZWFtLCBzdGF0ZSkgewogIHZhciBsZW4gPSBzdGF0ZS5sZW5ndGg7CiAgd2hpbGUgKCFzdGF0ZS5yZWFkaW5nICYmICFzdGF0ZS5mbG93aW5nICYmICFzdGF0ZS5lbmRlZCAmJiBzdGF0ZS5sZW5ndGggPCBzdGF0ZS5oaWdoV2F0ZXJNYXJrKSB7CiAgICBkZWJ1ZygnbWF5YmVSZWFkTW9yZSByZWFkIDAnKTsKICAgIHN0cmVhbS5yZWFkKDApOwogICAgaWYgKGxlbiA9PT0gc3RhdGUubGVuZ3RoKQogICAgICAvLyBkaWRuJ3QgZ2V0IGFueSBkYXRhLCBzdG9wIHNwaW5uaW5nLgogICAgICBicmVhaztlbHNlIGxlbiA9IHN0YXRlLmxlbmd0aDsKICB9CiAgc3RhdGUucmVhZGluZ01vcmUgPSBmYWxzZTsKfQoKLy8gYWJzdHJhY3QgbWV0aG9kLiAgdG8gYmUgb3ZlcnJpZGRlbiBpbiBzcGVjaWZpYyBpbXBsZW1lbnRhdGlvbiBjbGFzc2VzLgovLyBjYWxsIGNiKGVyLCBkYXRhKSB3aGVyZSBkYXRhIGlzIDw9IG4gaW4gbGVuZ3RoLgovLyBmb3IgdmlydHVhbCAobm9uLXN0cmluZywgbm9uLWJ1ZmZlcikgc3RyZWFtcywgImxlbmd0aCIgaXMgc29tZXdoYXQKLy8gYXJiaXRyYXJ5LCBhbmQgcGVyaGFwcyBub3QgdmVyeSBtZWFuaW5nZnVsLgpSZWFkYWJsZS5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbiAobikgewogIHRoaXMuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpKTsKfTsKClJlYWRhYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKGRlc3QsIHBpcGVPcHRzKSB7CiAgdmFyIHNyYyA9IHRoaXM7CiAgdmFyIHN0YXRlID0gdGhpcy5fcmVhZGFibGVTdGF0ZTsKCiAgc3dpdGNoIChzdGF0ZS5waXBlc0NvdW50KSB7CiAgICBjYXNlIDA6CiAgICAgIHN0YXRlLnBpcGVzID0gZGVzdDsKICAgICAgYnJlYWs7CiAgICBjYXNlIDE6CiAgICAgIHN0YXRlLnBpcGVzID0gW3N0YXRlLnBpcGVzLCBkZXN0XTsKICAgICAgYnJlYWs7CiAgICBkZWZhdWx0OgogICAgICBzdGF0ZS5waXBlcy5wdXNoKGRlc3QpOwogICAgICBicmVhazsKICB9CiAgc3RhdGUucGlwZXNDb3VudCArPSAxOwogIGRlYnVnKCdwaXBlIGNvdW50PSVkIG9wdHM9JWonLCBzdGF0ZS5waXBlc0NvdW50LCBwaXBlT3B0cyk7CgogIHZhciBkb0VuZCA9ICghcGlwZU9wdHMgfHwgcGlwZU9wdHMuZW5kICE9PSBmYWxzZSkgJiYgZGVzdCAhPT0gcHJvY2Vzcy5zdGRvdXQgJiYgZGVzdCAhPT0gcHJvY2Vzcy5zdGRlcnI7CgogIHZhciBlbmRGbiA9IGRvRW5kID8gb25lbmQgOiBjbGVhbnVwOwogIGlmIChzdGF0ZS5lbmRFbWl0dGVkKSBwcm9jZXNzTmV4dFRpY2soZW5kRm4pO2Vsc2Ugc3JjLm9uY2UoJ2VuZCcsIGVuZEZuKTsKCiAgZGVzdC5vbigndW5waXBlJywgb251bnBpcGUpOwogIGZ1bmN0aW9uIG9udW5waXBlKHJlYWRhYmxlKSB7CiAgICBkZWJ1Zygnb251bnBpcGUnKTsKICAgIGlmIChyZWFkYWJsZSA9PT0gc3JjKSB7CiAgICAgIGNsZWFudXAoKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIG9uZW5kKCkgewogICAgZGVidWcoJ29uZW5kJyk7CiAgICBkZXN0LmVuZCgpOwogIH0KCiAgLy8gd2hlbiB0aGUgZGVzdCBkcmFpbnMsIGl0IHJlZHVjZXMgdGhlIGF3YWl0RHJhaW4gY291bnRlcgogIC8vIG9uIHRoZSBzb3VyY2UuICBUaGlzIHdvdWxkIGJlIG1vcmUgZWxlZ2FudCB3aXRoIGEgLm9uY2UoKQogIC8vIGhhbmRsZXIgaW4gZmxvdygpLCBidXQgYWRkaW5nIGFuZCByZW1vdmluZyByZXBlYXRlZGx5IGlzCiAgLy8gdG9vIHNsb3cuCiAgdmFyIG9uZHJhaW4gPSBwaXBlT25EcmFpbihzcmMpOwogIGRlc3Qub24oJ2RyYWluJywgb25kcmFpbik7CgogIHZhciBjbGVhbmVkVXAgPSBmYWxzZTsKICBmdW5jdGlvbiBjbGVhbnVwKCkgewogICAgZGVidWcoJ2NsZWFudXAnKTsKICAgIC8vIGNsZWFudXAgZXZlbnQgaGFuZGxlcnMgb25jZSB0aGUgcGlwZSBpcyBicm9rZW4KICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlJywgb25jbG9zZSk7CiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdmaW5pc2gnLCBvbmZpbmlzaCk7CiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdkcmFpbicsIG9uZHJhaW4pOwogICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTsKICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ3VucGlwZScsIG9udW5waXBlKTsKICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZW5kJywgb25lbmQpOwogICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBjbGVhbnVwKTsKICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZGF0YScsIG9uZGF0YSk7CgogICAgY2xlYW5lZFVwID0gdHJ1ZTsKCiAgICAvLyBpZiB0aGUgcmVhZGVyIGlzIHdhaXRpbmcgZm9yIGEgZHJhaW4gZXZlbnQgZnJvbSB0aGlzCiAgICAvLyBzcGVjaWZpYyB3cml0ZXIsIHRoZW4gaXQgd291bGQgY2F1c2UgaXQgdG8gbmV2ZXIgc3RhcnQKICAgIC8vIGZsb3dpbmcgYWdhaW4uCiAgICAvLyBTbywgaWYgdGhpcyBpcyBhd2FpdGluZyBhIGRyYWluLCB0aGVuIHdlIGp1c3QgY2FsbCBpdCBub3cuCiAgICAvLyBJZiB3ZSBkb24ndCBrbm93LCB0aGVuIGFzc3VtZSB0aGF0IHdlIGFyZSB3YWl0aW5nIGZvciBvbmUuCiAgICBpZiAoc3RhdGUuYXdhaXREcmFpbiAmJiAoIWRlc3QuX3dyaXRhYmxlU3RhdGUgfHwgZGVzdC5fd3JpdGFibGVTdGF0ZS5uZWVkRHJhaW4pKSBvbmRyYWluKCk7CiAgfQoKICBzcmMub24oJ2RhdGEnLCBvbmRhdGEpOwogIGZ1bmN0aW9uIG9uZGF0YShjaHVuaykgewogICAgZGVidWcoJ29uZGF0YScpOwogICAgdmFyIHJldCA9IGRlc3Qud3JpdGUoY2h1bmspOwogICAgaWYgKGZhbHNlID09PSByZXQpIHsKICAgICAgLy8gSWYgdGhlIHVzZXIgdW5waXBlZCBkdXJpbmcgYGRlc3Qud3JpdGUoKWAsIGl0IGlzIHBvc3NpYmxlCiAgICAgIC8vIHRvIGdldCBzdHVjayBpbiBhIHBlcm1hbmVudGx5IHBhdXNlZCBzdGF0ZSBpZiB0aGF0IHdyaXRlCiAgICAgIC8vIGFsc28gcmV0dXJuZWQgZmFsc2UuCiAgICAgIGlmIChzdGF0ZS5waXBlc0NvdW50ID09PSAxICYmIHN0YXRlLnBpcGVzWzBdID09PSBkZXN0ICYmIHNyYy5saXN0ZW5lckNvdW50KCdkYXRhJykgPT09IDEgJiYgIWNsZWFuZWRVcCkgewogICAgICAgIGRlYnVnKCdmYWxzZSB3cml0ZSByZXNwb25zZSwgcGF1c2UnLCBzcmMuX3JlYWRhYmxlU3RhdGUuYXdhaXREcmFpbik7CiAgICAgICAgc3JjLl9yZWFkYWJsZVN0YXRlLmF3YWl0RHJhaW4rKzsKICAgICAgfQogICAgICBzcmMucGF1c2UoKTsKICAgIH0KICB9CgogIC8vIGlmIHRoZSBkZXN0IGhhcyBhbiBlcnJvciwgdGhlbiBzdG9wIHBpcGluZyBpbnRvIGl0LgogIC8vIGhvd2V2ZXIsIGRvbid0IHN1cHByZXNzIHRoZSB0aHJvd2luZyBiZWhhdmlvciBmb3IgdGhpcy4KICBmdW5jdGlvbiBvbmVycm9yKGVyKSB7CiAgICBkZWJ1Zygnb25lcnJvcicsIGVyKTsKICAgIHVucGlwZSgpOwogICAgZGVzdC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTsKICAgIGlmIChFRWxpc3RlbmVyQ291bnQoZGVzdCwgJ2Vycm9yJykgPT09IDApIGRlc3QuZW1pdCgnZXJyb3InLCBlcik7CiAgfQogIC8vIFRoaXMgaXMgYSBicnV0YWxseSB1Z2x5IGhhY2sgdG8gbWFrZSBzdXJlIHRoYXQgb3VyIGVycm9yIGhhbmRsZXIKICAvLyBpcyBhdHRhY2hlZCBiZWZvcmUgYW55IHVzZXJsYW5kIG9uZXMuICBORVZFUiBETyBUSElTLgogIGlmICghZGVzdC5fZXZlbnRzIHx8ICFkZXN0Ll9ldmVudHMuZXJyb3IpIGRlc3Qub24oJ2Vycm9yJywgb25lcnJvcik7ZWxzZSBpZiAoaXNBcnJheShkZXN0Ll9ldmVudHMuZXJyb3IpKSBkZXN0Ll9ldmVudHMuZXJyb3IudW5zaGlmdChvbmVycm9yKTtlbHNlIGRlc3QuX2V2ZW50cy5lcnJvciA9IFtvbmVycm9yLCBkZXN0Ll9ldmVudHMuZXJyb3JdOwoKICAvLyBCb3RoIGNsb3NlIGFuZCBmaW5pc2ggc2hvdWxkIHRyaWdnZXIgdW5waXBlLCBidXQgb25seSBvbmNlLgogIGZ1bmN0aW9uIG9uY2xvc2UoKSB7CiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdmaW5pc2gnLCBvbmZpbmlzaCk7CiAgICB1bnBpcGUoKTsKICB9CiAgZGVzdC5vbmNlKCdjbG9zZScsIG9uY2xvc2UpOwogIGZ1bmN0aW9uIG9uZmluaXNoKCkgewogICAgZGVidWcoJ29uZmluaXNoJyk7CiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpOwogICAgdW5waXBlKCk7CiAgfQogIGRlc3Qub25jZSgnZmluaXNoJywgb25maW5pc2gpOwoKICBmdW5jdGlvbiB1bnBpcGUoKSB7CiAgICBkZWJ1ZygndW5waXBlJyk7CiAgICBzcmMudW5waXBlKGRlc3QpOwogIH0KCiAgLy8gdGVsbCB0aGUgZGVzdCB0aGF0IGl0J3MgYmVpbmcgcGlwZWQgdG8KICBkZXN0LmVtaXQoJ3BpcGUnLCBzcmMpOwoKICAvLyBzdGFydCB0aGUgZmxvdyBpZiBpdCBoYXNuJ3QgYmVlbiBzdGFydGVkIGFscmVhZHkuCiAgaWYgKCFzdGF0ZS5mbG93aW5nKSB7CiAgICBkZWJ1ZygncGlwZSByZXN1bWUnKTsKICAgIHNyYy5yZXN1bWUoKTsKICB9CgogIHJldHVybiBkZXN0Owp9OwoKZnVuY3Rpb24gcGlwZU9uRHJhaW4oc3JjKSB7CiAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgIHZhciBzdGF0ZSA9IHNyYy5fcmVhZGFibGVTdGF0ZTsKICAgIGRlYnVnKCdwaXBlT25EcmFpbicsIHN0YXRlLmF3YWl0RHJhaW4pOwogICAgaWYgKHN0YXRlLmF3YWl0RHJhaW4pIHN0YXRlLmF3YWl0RHJhaW4tLTsKICAgIGlmIChzdGF0ZS5hd2FpdERyYWluID09PSAwICYmIEVFbGlzdGVuZXJDb3VudChzcmMsICdkYXRhJykpIHsKICAgICAgc3RhdGUuZmxvd2luZyA9IHRydWU7CiAgICAgIGZsb3coc3JjKTsKICAgIH0KICB9Owp9CgpSZWFkYWJsZS5wcm90b3R5cGUudW5waXBlID0gZnVuY3Rpb24gKGRlc3QpIHsKICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlOwoKICAvLyBpZiB3ZSdyZSBub3QgcGlwaW5nIGFueXdoZXJlLCB0aGVuIGRvIG5vdGhpbmcuCiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDApIHJldHVybiB0aGlzOwoKICAvLyBqdXN0IG9uZSBkZXN0aW5hdGlvbi4gIG1vc3QgY29tbW9uIGNhc2UuCiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDEpIHsKICAgIC8vIHBhc3NlZCBpbiBvbmUsIGJ1dCBpdCdzIG5vdCB0aGUgcmlnaHQgb25lLgogICAgaWYgKGRlc3QgJiYgZGVzdCAhPT0gc3RhdGUucGlwZXMpIHJldHVybiB0aGlzOwoKICAgIGlmICghZGVzdCkgZGVzdCA9IHN0YXRlLnBpcGVzOwoKICAgIC8vIGdvdCBhIG1hdGNoLgogICAgc3RhdGUucGlwZXMgPSBudWxsOwogICAgc3RhdGUucGlwZXNDb3VudCA9IDA7CiAgICBzdGF0ZS5mbG93aW5nID0gZmFsc2U7CiAgICBpZiAoZGVzdCkgZGVzdC5lbWl0KCd1bnBpcGUnLCB0aGlzKTsKICAgIHJldHVybiB0aGlzOwogIH0KCiAgLy8gc2xvdyBjYXNlLiBtdWx0aXBsZSBwaXBlIGRlc3RpbmF0aW9ucy4KCiAgaWYgKCFkZXN0KSB7CiAgICAvLyByZW1vdmUgYWxsLgogICAgdmFyIGRlc3RzID0gc3RhdGUucGlwZXM7CiAgICB2YXIgbGVuID0gc3RhdGUucGlwZXNDb3VudDsKICAgIHN0YXRlLnBpcGVzID0gbnVsbDsKICAgIHN0YXRlLnBpcGVzQ291bnQgPSAwOwogICAgc3RhdGUuZmxvd2luZyA9IGZhbHNlOwoKICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsZW47IF9pKyspIHsKICAgICAgZGVzdHNbX2ldLmVtaXQoJ3VucGlwZScsIHRoaXMpOwogICAgfXJldHVybiB0aGlzOwogIH0KCiAgLy8gdHJ5IHRvIGZpbmQgdGhlIHJpZ2h0IG9uZS4KICB2YXIgaSA9IGluZGV4T2Yoc3RhdGUucGlwZXMsIGRlc3QpOwogIGlmIChpID09PSAtMSkgcmV0dXJuIHRoaXM7CgogIHN0YXRlLnBpcGVzLnNwbGljZShpLCAxKTsKICBzdGF0ZS5waXBlc0NvdW50IC09IDE7CiAgaWYgKHN0YXRlLnBpcGVzQ291bnQgPT09IDEpIHN0YXRlLnBpcGVzID0gc3RhdGUucGlwZXNbMF07CgogIGRlc3QuZW1pdCgndW5waXBlJywgdGhpcyk7CgogIHJldHVybiB0aGlzOwp9OwoKLy8gc2V0IHVwIGRhdGEgZXZlbnRzIGlmIHRoZXkgYXJlIGFza2VkIGZvcgovLyBFbnN1cmUgcmVhZGFibGUgbGlzdGVuZXJzIGV2ZW50dWFsbHkgZ2V0IHNvbWV0aGluZwpSZWFkYWJsZS5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoZXYsIGZuKSB7CiAgdmFyIHJlcyA9IFN0cmVhbS5wcm90b3R5cGUub24uY2FsbCh0aGlzLCBldiwgZm4pOwoKICAvLyBJZiBsaXN0ZW5pbmcgdG8gZGF0YSwgYW5kIGl0IGhhcyBub3QgZXhwbGljaXRseSBiZWVuIHBhdXNlZCwKICAvLyB0aGVuIGNhbGwgcmVzdW1lIHRvIHN0YXJ0IHRoZSBmbG93IG9mIGRhdGEgb24gdGhlIG5leHQgdGljay4KICBpZiAoZXYgPT09ICdkYXRhJyAmJiBmYWxzZSAhPT0gdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKSB7CiAgICB0aGlzLnJlc3VtZSgpOwogIH0KCiAgaWYgKGV2ID09PSAncmVhZGFibGUnICYmICF0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQpIHsKICAgIHZhciBzdGF0ZSA9IHRoaXMuX3JlYWRhYmxlU3RhdGU7CiAgICBpZiAoIXN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nKSB7CiAgICAgIHN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nID0gdHJ1ZTsKICAgICAgc3RhdGUuZW1pdHRlZFJlYWRhYmxlID0gZmFsc2U7CiAgICAgIHN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7CiAgICAgIGlmICghc3RhdGUucmVhZGluZykgewogICAgICAgIHByb2Nlc3NOZXh0VGljayhuUmVhZGluZ05leHRUaWNrLCB0aGlzKTsKICAgICAgfSBlbHNlIGlmIChzdGF0ZS5sZW5ndGgpIHsKICAgICAgICBlbWl0UmVhZGFibGUodGhpcywgc3RhdGUpOwogICAgICB9CiAgICB9CiAgfQoKICByZXR1cm4gcmVzOwp9OwpSZWFkYWJsZS5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBSZWFkYWJsZS5wcm90b3R5cGUub247CgpmdW5jdGlvbiBuUmVhZGluZ05leHRUaWNrKHNlbGYpIHsKICBkZWJ1ZygncmVhZGFibGUgbmV4dHRpY2sgcmVhZCAwJyk7CiAgc2VsZi5yZWFkKDApOwp9CgovLyBwYXVzZSgpIGFuZCByZXN1bWUoKSBhcmUgcmVtbmFudHMgb2YgdGhlIGxlZ2FjeSByZWFkYWJsZSBzdHJlYW0gQVBJCi8vIElmIHRoZSB1c2VyIHVzZXMgdGhlbSwgdGhlbiBzd2l0Y2ggaW50byBvbGQgbW9kZS4KUmVhZGFibGUucHJvdG90eXBlLnJlc3VtZSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlOwogIGlmICghc3RhdGUuZmxvd2luZykgewogICAgZGVidWcoJ3Jlc3VtZScpOwogICAgc3RhdGUuZmxvd2luZyA9IHRydWU7CiAgICByZXN1bWUodGhpcywgc3RhdGUpOwogIH0KICByZXR1cm4gdGhpczsKfTsKCmZ1bmN0aW9uIHJlc3VtZShzdHJlYW0sIHN0YXRlKSB7CiAgaWYgKCFzdGF0ZS5yZXN1bWVTY2hlZHVsZWQpIHsKICAgIHN0YXRlLnJlc3VtZVNjaGVkdWxlZCA9IHRydWU7CiAgICBwcm9jZXNzTmV4dFRpY2socmVzdW1lXywgc3RyZWFtLCBzdGF0ZSk7CiAgfQp9CgpmdW5jdGlvbiByZXN1bWVfKHN0cmVhbSwgc3RhdGUpIHsKICBpZiAoIXN0YXRlLnJlYWRpbmcpIHsKICAgIGRlYnVnKCdyZXN1bWUgcmVhZCAwJyk7CiAgICBzdHJlYW0ucmVhZCgwKTsKICB9CgogIHN0YXRlLnJlc3VtZVNjaGVkdWxlZCA9IGZhbHNlOwogIHN0cmVhbS5lbWl0KCdyZXN1bWUnKTsKICBmbG93KHN0cmVhbSk7CiAgaWYgKHN0YXRlLmZsb3dpbmcgJiYgIXN0YXRlLnJlYWRpbmcpIHN0cmVhbS5yZWFkKDApOwp9CgpSZWFkYWJsZS5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbiAoKSB7CiAgZGVidWcoJ2NhbGwgcGF1c2UgZmxvd2luZz0laicsIHRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyk7CiAgaWYgKGZhbHNlICE9PSB0aGlzLl9yZWFkYWJsZVN0YXRlLmZsb3dpbmcpIHsKICAgIGRlYnVnKCdwYXVzZScpOwogICAgdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nID0gZmFsc2U7CiAgICB0aGlzLmVtaXQoJ3BhdXNlJyk7CiAgfQogIHJldHVybiB0aGlzOwp9OwoKZnVuY3Rpb24gZmxvdyhzdHJlYW0pIHsKICB2YXIgc3RhdGUgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7CiAgZGVidWcoJ2Zsb3cnLCBzdGF0ZS5mbG93aW5nKTsKICBpZiAoc3RhdGUuZmxvd2luZykgewogICAgZG8gewogICAgICB2YXIgY2h1bmsgPSBzdHJlYW0ucmVhZCgpOwogICAgfSB3aGlsZSAobnVsbCAhPT0gY2h1bmsgJiYgc3RhdGUuZmxvd2luZyk7CiAgfQp9CgovLyB3cmFwIGFuIG9sZC1zdHlsZSBzdHJlYW0gYXMgdGhlIGFzeW5jIGRhdGEgc291cmNlLgovLyBUaGlzIGlzICpub3QqIHBhcnQgb2YgdGhlIHJlYWRhYmxlIHN0cmVhbSBpbnRlcmZhY2UuCi8vIEl0IGlzIGFuIHVnbHkgdW5mb3J0dW5hdGUgbWVzcyBvZiBoaXN0b3J5LgpSZWFkYWJsZS5wcm90b3R5cGUud3JhcCA9IGZ1bmN0aW9uIChzdHJlYW0pIHsKICB2YXIgc3RhdGUgPSB0aGlzLl9yZWFkYWJsZVN0YXRlOwogIHZhciBwYXVzZWQgPSBmYWxzZTsKCiAgdmFyIHNlbGYgPSB0aGlzOwogIHN0cmVhbS5vbignZW5kJywgZnVuY3Rpb24gKCkgewogICAgZGVidWcoJ3dyYXBwZWQgZW5kJyk7CiAgICBpZiAoc3RhdGUuZGVjb2RlciAmJiAhc3RhdGUuZW5kZWQpIHsKICAgICAgdmFyIGNodW5rID0gc3RhdGUuZGVjb2Rlci5lbmQoKTsKICAgICAgaWYgKGNodW5rICYmIGNodW5rLmxlbmd0aCkgc2VsZi5wdXNoKGNodW5rKTsKICAgIH0KCiAgICBzZWxmLnB1c2gobnVsbCk7CiAgfSk7CgogIHN0cmVhbS5vbignZGF0YScsIGZ1bmN0aW9uIChjaHVuaykgewogICAgZGVidWcoJ3dyYXBwZWQgZGF0YScpOwogICAgaWYgKHN0YXRlLmRlY29kZXIpIGNodW5rID0gc3RhdGUuZGVjb2Rlci53cml0ZShjaHVuayk7CgogICAgLy8gZG9uJ3Qgc2tpcCBvdmVyIGZhbHN5IHZhbHVlcyBpbiBvYmplY3RNb2RlCiAgICBpZiAoc3RhdGUub2JqZWN0TW9kZSAmJiAoY2h1bmsgPT09IG51bGwgfHwgY2h1bmsgPT09IHVuZGVmaW5lZCkpIHJldHVybjtlbHNlIGlmICghc3RhdGUub2JqZWN0TW9kZSAmJiAoIWNodW5rIHx8ICFjaHVuay5sZW5ndGgpKSByZXR1cm47CgogICAgdmFyIHJldCA9IHNlbGYucHVzaChjaHVuayk7CiAgICBpZiAoIXJldCkgewogICAgICBwYXVzZWQgPSB0cnVlOwogICAgICBzdHJlYW0ucGF1c2UoKTsKICAgIH0KICB9KTsKCiAgLy8gcHJveHkgYWxsIHRoZSBvdGhlciBtZXRob2RzLgogIC8vIGltcG9ydGFudCB3aGVuIHdyYXBwaW5nIGZpbHRlcnMgYW5kIGR1cGxleGVzLgogIGZvciAodmFyIGkgaW4gc3RyZWFtKSB7CiAgICBpZiAodGhpc1tpXSA9PT0gdW5kZWZpbmVkICYmIHR5cGVvZiBzdHJlYW1baV0gPT09ICdmdW5jdGlvbicpIHsKICAgICAgdGhpc1tpXSA9IGZ1bmN0aW9uIChtZXRob2QpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHN0cmVhbVttZXRob2RdLmFwcGx5KHN0cmVhbSwgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KGkpOwogICAgfQogIH0KCiAgLy8gcHJveHkgY2VydGFpbiBpbXBvcnRhbnQgZXZlbnRzLgogIHZhciBldmVudHMgPSBbJ2Vycm9yJywgJ2Nsb3NlJywgJ2Rlc3Ryb3knLCAncGF1c2UnLCAncmVzdW1lJ107CiAgZm9yRWFjaChldmVudHMsIGZ1bmN0aW9uIChldikgewogICAgc3RyZWFtLm9uKGV2LCBzZWxmLmVtaXQuYmluZChzZWxmLCBldikpOwogIH0pOwoKICAvLyB3aGVuIHdlIHRyeSB0byBjb25zdW1lIHNvbWUgbW9yZSBieXRlcywgc2ltcGx5IHVucGF1c2UgdGhlCiAgLy8gdW5kZXJseWluZyBzdHJlYW0uCiAgc2VsZi5fcmVhZCA9IGZ1bmN0aW9uIChuKSB7CiAgICBkZWJ1Zygnd3JhcHBlZCBfcmVhZCcsIG4pOwogICAgaWYgKHBhdXNlZCkgewogICAgICBwYXVzZWQgPSBmYWxzZTsKICAgICAgc3RyZWFtLnJlc3VtZSgpOwogICAgfQogIH07CgogIHJldHVybiBzZWxmOwp9OwoKLy8gZXhwb3NlZCBmb3IgdGVzdGluZyBwdXJwb3NlcyBvbmx5LgpSZWFkYWJsZS5fZnJvbUxpc3QgPSBmcm9tTGlzdDsKCi8vIFBsdWNrIG9mZiBuIGJ5dGVzIGZyb20gYW4gYXJyYXkgb2YgYnVmZmVycy4KLy8gTGVuZ3RoIGlzIHRoZSBjb21iaW5lZCBsZW5ndGhzIG9mIGFsbCB0aGUgYnVmZmVycyBpbiB0aGUgbGlzdC4KZnVuY3Rpb24gZnJvbUxpc3Qobiwgc3RhdGUpIHsKICB2YXIgbGlzdCA9IHN0YXRlLmJ1ZmZlcjsKICB2YXIgbGVuZ3RoID0gc3RhdGUubGVuZ3RoOwogIHZhciBzdHJpbmdNb2RlID0gISFzdGF0ZS5kZWNvZGVyOwogIHZhciBvYmplY3RNb2RlID0gISFzdGF0ZS5vYmplY3RNb2RlOwogIHZhciByZXQ7CgogIC8vIG5vdGhpbmcgaW4gdGhlIGxpc3QsIGRlZmluaXRlbHkgZW1wdHkuCiAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDsKCiAgaWYgKGxlbmd0aCA9PT0gMCkgcmV0ID0gbnVsbDtlbHNlIGlmIChvYmplY3RNb2RlKSByZXQgPSBsaXN0LnNoaWZ0KCk7ZWxzZSBpZiAoIW4gfHwgbiA+PSBsZW5ndGgpIHsKICAgIC8vIHJlYWQgaXQgYWxsLCB0cnVuY2F0ZSB0aGUgYXJyYXkuCiAgICBpZiAoc3RyaW5nTW9kZSkgcmV0ID0gbGlzdC5qb2luKCcnKTtlbHNlIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkgcmV0ID0gbGlzdFswXTtlbHNlIHJldCA9IEJ1ZmZlci5jb25jYXQobGlzdCwgbGVuZ3RoKTsKICAgIGxpc3QubGVuZ3RoID0gMDsKICB9IGVsc2UgewogICAgLy8gcmVhZCBqdXN0IHNvbWUgb2YgaXQuCiAgICBpZiAobiA8IGxpc3RbMF0ubGVuZ3RoKSB7CiAgICAgIC8vIGp1c3QgdGFrZSBhIHBhcnQgb2YgdGhlIGZpcnN0IGxpc3QgaXRlbS4KICAgICAgLy8gc2xpY2UgaXMgdGhlIHNhbWUgZm9yIGJ1ZmZlcnMgYW5kIHN0cmluZ3MuCiAgICAgIHZhciBidWYgPSBsaXN0WzBdOwogICAgICByZXQgPSBidWYuc2xpY2UoMCwgbik7CiAgICAgIGxpc3RbMF0gPSBidWYuc2xpY2Uobik7CiAgICB9IGVsc2UgaWYgKG4gPT09IGxpc3RbMF0ubGVuZ3RoKSB7CiAgICAgIC8vIGZpcnN0IGxpc3QgaXMgYSBwZXJmZWN0IG1hdGNoCiAgICAgIHJldCA9IGxpc3Quc2hpZnQoKTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIGNvbXBsZXggY2FzZS4KICAgICAgLy8gd2UgaGF2ZSBlbm91Z2ggdG8gY292ZXIgaXQsIGJ1dCBpdCBzcGFucyBwYXN0IHRoZSBmaXJzdCBidWZmZXIuCiAgICAgIGlmIChzdHJpbmdNb2RlKSByZXQgPSAnJztlbHNlIHJldCA9IG5ldyBCdWZmZXIobik7CgogICAgICB2YXIgYyA9IDA7CiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gbGlzdC5sZW5ndGg7IGkgPCBsICYmIGMgPCBuOyBpKyspIHsKICAgICAgICB2YXIgYnVmID0gbGlzdFswXTsKICAgICAgICB2YXIgY3B5ID0gTWF0aC5taW4obiAtIGMsIGJ1Zi5sZW5ndGgpOwoKICAgICAgICBpZiAoc3RyaW5nTW9kZSkgcmV0ICs9IGJ1Zi5zbGljZSgwLCBjcHkpO2Vsc2UgYnVmLmNvcHkocmV0LCBjLCAwLCBjcHkpOwoKICAgICAgICBpZiAoY3B5IDwgYnVmLmxlbmd0aCkgbGlzdFswXSA9IGJ1Zi5zbGljZShjcHkpO2Vsc2UgbGlzdC5zaGlmdCgpOwoKICAgICAgICBjICs9IGNweTsKICAgICAgfQogICAgfQogIH0KCiAgcmV0dXJuIHJldDsKfQoKZnVuY3Rpb24gZW5kUmVhZGFibGUoc3RyZWFtKSB7CiAgdmFyIHN0YXRlID0gc3RyZWFtLl9yZWFkYWJsZVN0YXRlOwoKICAvLyBJZiB3ZSBnZXQgaGVyZSBiZWZvcmUgY29uc3VtaW5nIGFsbCB0aGUgYnl0ZXMsIHRoZW4gdGhhdCBpcyBhCiAgLy8gYnVnIGluIG5vZGUuICBTaG91bGQgbmV2ZXIgaGFwcGVuLgogIGlmIChzdGF0ZS5sZW5ndGggPiAwKSB0aHJvdyBuZXcgRXJyb3IoJ2VuZFJlYWRhYmxlIGNhbGxlZCBvbiBub24tZW1wdHkgc3RyZWFtJyk7CgogIGlmICghc3RhdGUuZW5kRW1pdHRlZCkgewogICAgc3RhdGUuZW5kZWQgPSB0cnVlOwogICAgcHJvY2Vzc05leHRUaWNrKGVuZFJlYWRhYmxlTlQsIHN0YXRlLCBzdHJlYW0pOwogIH0KfQoKZnVuY3Rpb24gZW5kUmVhZGFibGVOVChzdGF0ZSwgc3RyZWFtKSB7CiAgLy8gQ2hlY2sgdGhhdCB3ZSBkaWRuJ3QgZ2V0IG9uZSBsYXN0IHVuc2hpZnQuCiAgaWYgKCFzdGF0ZS5lbmRFbWl0dGVkICYmIHN0YXRlLmxlbmd0aCA9PT0gMCkgewogICAgc3RhdGUuZW5kRW1pdHRlZCA9IHRydWU7CiAgICBzdHJlYW0ucmVhZGFibGUgPSBmYWxzZTsKICAgIHN0cmVhbS5lbWl0KCdlbmQnKTsKICB9Cn0KCmZ1bmN0aW9uIGZvckVhY2goeHMsIGYpIHsKICBmb3IgKHZhciBpID0gMCwgbCA9IHhzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgZih4c1tpXSwgaSk7CiAgfQp9CgpmdW5jdGlvbiBpbmRleE9mKHhzLCB4KSB7CiAgZm9yICh2YXIgaSA9IDAsIGwgPSB4cy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgIGlmICh4c1tpXSA9PT0geCkgcmV0dXJuIGk7CiAgfQogIHJldHVybiAtMTsKfQp9KS5jYWxsKHRoaXMscmVxdWlyZSgnX3Byb2Nlc3MnKSkKfSx7Ii4vX3N0cmVhbV9kdXBsZXgiOjE0OSwiX3Byb2Nlc3MiOjE0MCwiYnVmZmVyIjo3NiwiY29yZS11dGlsLWlzIjo3OSwiZXZlbnRzIjoxMTgsImluaGVyaXRzIjoxMjgsImlzYXJyYXkiOjEzMCwicHJvY2Vzcy1uZXh0aWNrLWFyZ3MiOjEzOSwic3RyaW5nX2RlY29kZXIvIjoxNzEsInV0aWwiOjQ0fV0sMTUyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKLy8gYSB0cmFuc2Zvcm0gc3RyZWFtIGlzIGEgcmVhZGFibGUvd3JpdGFibGUgc3RyZWFtIHdoZXJlIHlvdSBkbwovLyBzb21ldGhpbmcgd2l0aCB0aGUgZGF0YS4gIFNvbWV0aW1lcyBpdCdzIGNhbGxlZCBhICJmaWx0ZXIiLAovLyBidXQgdGhhdCdzIG5vdCBhIGdyZWF0IG5hbWUgZm9yIGl0LCBzaW5jZSB0aGF0IGltcGxpZXMgYSB0aGluZyB3aGVyZQovLyBzb21lIGJpdHMgcGFzcyB0aHJvdWdoLCBhbmQgb3RoZXJzIGFyZSBzaW1wbHkgaWdub3JlZC4gIChUaGF0IHdvdWxkCi8vIGJlIGEgdmFsaWQgZXhhbXBsZSBvZiBhIHRyYW5zZm9ybSwgb2YgY291cnNlLikKLy8KLy8gV2hpbGUgdGhlIG91dHB1dCBpcyBjYXVzYWxseSByZWxhdGVkIHRvIHRoZSBpbnB1dCwgaXQncyBub3QgYQovLyBuZWNlc3NhcmlseSBzeW1tZXRyaWMgb3Igc3luY2hyb25vdXMgdHJhbnNmb3JtYXRpb24uICBGb3IgZXhhbXBsZSwKLy8gYSB6bGliIHN0cmVhbSBtaWdodCB0YWtlIG11bHRpcGxlIHBsYWluLXRleHQgd3JpdGVzKCksIGFuZCB0aGVuCi8vIGVtaXQgYSBzaW5nbGUgY29tcHJlc3NlZCBjaHVuayBzb21lIHRpbWUgaW4gdGhlIGZ1dHVyZS4KLy8KLy8gSGVyZSdzIGhvdyB0aGlzIHdvcmtzOgovLwovLyBUaGUgVHJhbnNmb3JtIHN0cmVhbSBoYXMgYWxsIHRoZSBhc3BlY3RzIG9mIHRoZSByZWFkYWJsZSBhbmQgd3JpdGFibGUKLy8gc3RyZWFtIGNsYXNzZXMuICBXaGVuIHlvdSB3cml0ZShjaHVuayksIHRoYXQgY2FsbHMgX3dyaXRlKGNodW5rLGNiKQovLyBpbnRlcm5hbGx5LCBhbmQgcmV0dXJucyBmYWxzZSBpZiB0aGVyZSdzIGEgbG90IG9mIHBlbmRpbmcgd3JpdGVzCi8vIGJ1ZmZlcmVkIHVwLiAgV2hlbiB5b3UgY2FsbCByZWFkKCksIHRoYXQgY2FsbHMgX3JlYWQobikgdW50aWwKLy8gdGhlcmUncyBlbm91Z2ggcGVuZGluZyByZWFkYWJsZSBkYXRhIGJ1ZmZlcmVkIHVwLgovLwovLyBJbiBhIHRyYW5zZm9ybSBzdHJlYW0sIHRoZSB3cml0dGVuIGRhdGEgaXMgcGxhY2VkIGluIGEgYnVmZmVyLiAgV2hlbgovLyBfcmVhZChuKSBpcyBjYWxsZWQsIGl0IHRyYW5zZm9ybXMgdGhlIHF1ZXVlZCB1cCBkYXRhLCBjYWxsaW5nIHRoZQovLyBidWZmZXJlZCBfd3JpdGUgY2IncyBhcyBpdCBjb25zdW1lcyBjaHVua3MuICBJZiBjb25zdW1pbmcgYSBzaW5nbGUKLy8gd3JpdHRlbiBjaHVuayB3b3VsZCByZXN1bHQgaW4gbXVsdGlwbGUgb3V0cHV0IGNodW5rcywgdGhlbiB0aGUgZmlyc3QKLy8gb3V0cHV0dGVkIGJpdCBjYWxscyB0aGUgcmVhZGNiLCBhbmQgc3Vic2VxdWVudCBjaHVua3MganVzdCBnbyBpbnRvCi8vIHRoZSByZWFkIGJ1ZmZlciwgYW5kIHdpbGwgY2F1c2UgaXQgdG8gZW1pdCAncmVhZGFibGUnIGlmIG5lY2Vzc2FyeS4KLy8KLy8gVGhpcyB3YXksIGJhY2stcHJlc3N1cmUgaXMgYWN0dWFsbHkgZGV0ZXJtaW5lZCBieSB0aGUgcmVhZGluZyBzaWRlLAovLyBzaW5jZSBfcmVhZCBoYXMgdG8gYmUgY2FsbGVkIHRvIHN0YXJ0IHByb2Nlc3NpbmcgYSBuZXcgY2h1bmsuICBIb3dldmVyLAovLyBhIHBhdGhvbG9naWNhbCBpbmZsYXRlIHR5cGUgb2YgdHJhbnNmb3JtIGNhbiBjYXVzZSBleGNlc3NpdmUgYnVmZmVyaW5nCi8vIGhlcmUuICBGb3IgZXhhbXBsZSwgaW1hZ2luZSBhIHN0cmVhbSB3aGVyZSBldmVyeSBieXRlIG9mIGlucHV0IGlzCi8vIGludGVycHJldGVkIGFzIGFuIGludGVnZXIgZnJvbSAwLTI1NSwgYW5kIHRoZW4gcmVzdWx0cyBpbiB0aGF0IG1hbnkKLy8gYnl0ZXMgb2Ygb3V0cHV0LiAgV3JpdGluZyB0aGUgNCBieXRlcyB7ZmYsZmYsZmYsZmZ9IHdvdWxkIHJlc3VsdCBpbgovLyAxa2Igb2YgZGF0YSBiZWluZyBvdXRwdXQuICBJbiB0aGlzIGNhc2UsIHlvdSBjb3VsZCB3cml0ZSBhIHZlcnkgc21hbGwKLy8gYW1vdW50IG9mIGlucHV0LCBhbmQgZW5kIHVwIHdpdGggYSB2ZXJ5IGxhcmdlIGFtb3VudCBvZiBvdXRwdXQuICBJbgovLyBzdWNoIGEgcGF0aG9sb2dpY2FsIGluZmxhdGluZyBtZWNoYW5pc20sIHRoZXJlJ2QgYmUgbm8gd2F5IHRvIHRlbGwKLy8gdGhlIHN5c3RlbSB0byBzdG9wIGRvaW5nIHRoZSB0cmFuc2Zvcm0uICBBIHNpbmdsZSA0TUIgd3JpdGUgY291bGQKLy8gY2F1c2UgdGhlIHN5c3RlbSB0byBydW4gb3V0IG9mIG1lbW9yeS4KLy8KLy8gSG93ZXZlciwgZXZlbiBpbiBzdWNoIGEgcGF0aG9sb2dpY2FsIGNhc2UsIG9ubHkgYSBzaW5nbGUgd3JpdHRlbiBjaHVuawovLyB3b3VsZCBiZSBjb25zdW1lZCwgYW5kIHRoZW4gdGhlIHJlc3Qgd291bGQgd2FpdCAodW4tdHJhbnNmb3JtZWQpIHVudGlsCi8vIHRoZSByZXN1bHRzIG9mIHRoZSBwcmV2aW91cyB0cmFuc2Zvcm1lZCBjaHVuayB3ZXJlIGNvbnN1bWVkLgoKJ3VzZSBzdHJpY3QnOwoKbW9kdWxlLmV4cG9ydHMgPSBUcmFuc2Zvcm07Cgp2YXIgRHVwbGV4ID0gcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpOwoKLyo8cmVwbGFjZW1lbnQ+Ki8KdmFyIHV0aWwgPSByZXF1aXJlKCdjb3JlLXV0aWwtaXMnKTsKdXRpbC5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7Ci8qPC9yZXBsYWNlbWVudD4qLwoKdXRpbC5pbmhlcml0cyhUcmFuc2Zvcm0sIER1cGxleCk7CgpmdW5jdGlvbiBUcmFuc2Zvcm1TdGF0ZShzdHJlYW0pIHsKICB0aGlzLmFmdGVyVHJhbnNmb3JtID0gZnVuY3Rpb24gKGVyLCBkYXRhKSB7CiAgICByZXR1cm4gYWZ0ZXJUcmFuc2Zvcm0oc3RyZWFtLCBlciwgZGF0YSk7CiAgfTsKCiAgdGhpcy5uZWVkVHJhbnNmb3JtID0gZmFsc2U7CiAgdGhpcy50cmFuc2Zvcm1pbmcgPSBmYWxzZTsKICB0aGlzLndyaXRlY2IgPSBudWxsOwogIHRoaXMud3JpdGVjaHVuayA9IG51bGw7CiAgdGhpcy53cml0ZWVuY29kaW5nID0gbnVsbDsKfQoKZnVuY3Rpb24gYWZ0ZXJUcmFuc2Zvcm0oc3RyZWFtLCBlciwgZGF0YSkgewogIHZhciB0cyA9IHN0cmVhbS5fdHJhbnNmb3JtU3RhdGU7CiAgdHMudHJhbnNmb3JtaW5nID0gZmFsc2U7CgogIHZhciBjYiA9IHRzLndyaXRlY2I7CgogIGlmICghY2IpIHJldHVybiBzdHJlYW0uZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoJ25vIHdyaXRlY2IgaW4gVHJhbnNmb3JtIGNsYXNzJykpOwoKICB0cy53cml0ZWNodW5rID0gbnVsbDsKICB0cy53cml0ZWNiID0gbnVsbDsKCiAgaWYgKGRhdGEgIT09IG51bGwgJiYgZGF0YSAhPT0gdW5kZWZpbmVkKSBzdHJlYW0ucHVzaChkYXRhKTsKCiAgY2IoZXIpOwoKICB2YXIgcnMgPSBzdHJlYW0uX3JlYWRhYmxlU3RhdGU7CiAgcnMucmVhZGluZyA9IGZhbHNlOwogIGlmIChycy5uZWVkUmVhZGFibGUgfHwgcnMubGVuZ3RoIDwgcnMuaGlnaFdhdGVyTWFyaykgewogICAgc3RyZWFtLl9yZWFkKHJzLmhpZ2hXYXRlck1hcmspOwogIH0KfQoKZnVuY3Rpb24gVHJhbnNmb3JtKG9wdGlvbnMpIHsKICBpZiAoISh0aGlzIGluc3RhbmNlb2YgVHJhbnNmb3JtKSkgcmV0dXJuIG5ldyBUcmFuc2Zvcm0ob3B0aW9ucyk7CgogIER1cGxleC5jYWxsKHRoaXMsIG9wdGlvbnMpOwoKICB0aGlzLl90cmFuc2Zvcm1TdGF0ZSA9IG5ldyBUcmFuc2Zvcm1TdGF0ZSh0aGlzKTsKCiAgLy8gd2hlbiB0aGUgd3JpdGFibGUgc2lkZSBmaW5pc2hlcywgdGhlbiBmbHVzaCBvdXQgYW55dGhpbmcgcmVtYWluaW5nLgogIHZhciBzdHJlYW0gPSB0aGlzOwoKICAvLyBzdGFydCBvdXQgYXNraW5nIGZvciBhIHJlYWRhYmxlIGV2ZW50IG9uY2UgZGF0YSBpcyB0cmFuc2Zvcm1lZC4KICB0aGlzLl9yZWFkYWJsZVN0YXRlLm5lZWRSZWFkYWJsZSA9IHRydWU7CgogIC8vIHdlIGhhdmUgaW1wbGVtZW50ZWQgdGhlIF9yZWFkIG1ldGhvZCwgYW5kIGRvbmUgdGhlIG90aGVyIHRoaW5ncwogIC8vIHRoYXQgUmVhZGFibGUgd2FudHMgYmVmb3JlIHRoZSBmaXJzdCBfcmVhZCBjYWxsLCBzbyB1bnNldCB0aGUKICAvLyBzeW5jIGd1YXJkIGZsYWcuCiAgdGhpcy5fcmVhZGFibGVTdGF0ZS5zeW5jID0gZmFsc2U7CgogIGlmIChvcHRpb25zKSB7CiAgICBpZiAodHlwZW9mIG9wdGlvbnMudHJhbnNmb3JtID09PSAnZnVuY3Rpb24nKSB0aGlzLl90cmFuc2Zvcm0gPSBvcHRpb25zLnRyYW5zZm9ybTsKCiAgICBpZiAodHlwZW9mIG9wdGlvbnMuZmx1c2ggPT09ICdmdW5jdGlvbicpIHRoaXMuX2ZsdXNoID0gb3B0aW9ucy5mbHVzaDsKICB9CgogIHRoaXMub25jZSgncHJlZmluaXNoJywgZnVuY3Rpb24gKCkgewogICAgaWYgKHR5cGVvZiB0aGlzLl9mbHVzaCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fZmx1c2goZnVuY3Rpb24gKGVyKSB7CiAgICAgIGRvbmUoc3RyZWFtLCBlcik7CiAgICB9KTtlbHNlIGRvbmUoc3RyZWFtKTsKICB9KTsKfQoKVHJhbnNmb3JtLnByb3RvdHlwZS5wdXNoID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZykgewogIHRoaXMuX3RyYW5zZm9ybVN0YXRlLm5lZWRUcmFuc2Zvcm0gPSBmYWxzZTsKICByZXR1cm4gRHVwbGV4LnByb3RvdHlwZS5wdXNoLmNhbGwodGhpcywgY2h1bmssIGVuY29kaW5nKTsKfTsKCi8vIFRoaXMgaXMgdGhlIHBhcnQgd2hlcmUgeW91IGRvIHN0dWZmIQovLyBvdmVycmlkZSB0aGlzIGZ1bmN0aW9uIGluIGltcGxlbWVudGF0aW9uIGNsYXNzZXMuCi8vICdjaHVuaycgaXMgYW4gaW5wdXQgY2h1bmsuCi8vCi8vIENhbGwgYHB1c2gobmV3Q2h1bmspYCB0byBwYXNzIGFsb25nIHRyYW5zZm9ybWVkIG91dHB1dAovLyB0byB0aGUgcmVhZGFibGUgc2lkZS4gIFlvdSBtYXkgY2FsbCAncHVzaCcgemVybyBvciBtb3JlIHRpbWVzLgovLwovLyBDYWxsIGBjYihlcnIpYCB3aGVuIHlvdSBhcmUgZG9uZSB3aXRoIHRoaXMgY2h1bmsuICBJZiB5b3UgcGFzcwovLyBhbiBlcnJvciwgdGhlbiB0aGF0J2xsIHB1dCB0aGUgaHVydCBvbiB0aGUgd2hvbGUgb3BlcmF0aW9uLiAgSWYgeW91Ci8vIG5ldmVyIGNhbGwgY2IoKSwgdGhlbiB5b3UnbGwgbmV2ZXIgZ2V0IGFub3RoZXIgY2h1bmsuClRyYW5zZm9ybS5wcm90b3R5cGUuX3RyYW5zZm9ybSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7CiAgdGhyb3cgbmV3IEVycm9yKCdub3QgaW1wbGVtZW50ZWQnKTsKfTsKClRyYW5zZm9ybS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHsKICB2YXIgdHMgPSB0aGlzLl90cmFuc2Zvcm1TdGF0ZTsKICB0cy53cml0ZWNiID0gY2I7CiAgdHMud3JpdGVjaHVuayA9IGNodW5rOwogIHRzLndyaXRlZW5jb2RpbmcgPSBlbmNvZGluZzsKICBpZiAoIXRzLnRyYW5zZm9ybWluZykgewogICAgdmFyIHJzID0gdGhpcy5fcmVhZGFibGVTdGF0ZTsKICAgIGlmICh0cy5uZWVkVHJhbnNmb3JtIHx8IHJzLm5lZWRSZWFkYWJsZSB8fCBycy5sZW5ndGggPCBycy5oaWdoV2F0ZXJNYXJrKSB0aGlzLl9yZWFkKHJzLmhpZ2hXYXRlck1hcmspOwogIH0KfTsKCi8vIERvZXNuJ3QgbWF0dGVyIHdoYXQgdGhlIGFyZ3MgYXJlIGhlcmUuCi8vIF90cmFuc2Zvcm0gZG9lcyBhbGwgdGhlIHdvcmsuCi8vIFRoYXQgd2UgZ290IGhlcmUgbWVhbnMgdGhhdCB0aGUgcmVhZGFibGUgc2lkZSB3YW50cyBtb3JlIGRhdGEuClRyYW5zZm9ybS5wcm90b3R5cGUuX3JlYWQgPSBmdW5jdGlvbiAobikgewogIHZhciB0cyA9IHRoaXMuX3RyYW5zZm9ybVN0YXRlOwoKICBpZiAodHMud3JpdGVjaHVuayAhPT0gbnVsbCAmJiB0cy53cml0ZWNiICYmICF0cy50cmFuc2Zvcm1pbmcpIHsKICAgIHRzLnRyYW5zZm9ybWluZyA9IHRydWU7CiAgICB0aGlzLl90cmFuc2Zvcm0odHMud3JpdGVjaHVuaywgdHMud3JpdGVlbmNvZGluZywgdHMuYWZ0ZXJUcmFuc2Zvcm0pOwogIH0gZWxzZSB7CiAgICAvLyBtYXJrIHRoYXQgd2UgbmVlZCBhIHRyYW5zZm9ybSwgc28gdGhhdCBhbnkgZGF0YSB0aGF0IGNvbWVzIGluCiAgICAvLyB3aWxsIGdldCBwcm9jZXNzZWQsIG5vdyB0aGF0IHdlJ3ZlIGFza2VkIGZvciBpdC4KICAgIHRzLm5lZWRUcmFuc2Zvcm0gPSB0cnVlOwogIH0KfTsKCmZ1bmN0aW9uIGRvbmUoc3RyZWFtLCBlcikgewogIGlmIChlcikgcmV0dXJuIHN0cmVhbS5lbWl0KCdlcnJvcicsIGVyKTsKCiAgLy8gaWYgdGhlcmUncyBub3RoaW5nIGluIHRoZSB3cml0ZSBidWZmZXIsIHRoZW4gdGhhdCBtZWFucwogIC8vIHRoYXQgbm90aGluZyBtb3JlIHdpbGwgZXZlciBiZSBwcm92aWRlZAogIHZhciB3cyA9IHN0cmVhbS5fd3JpdGFibGVTdGF0ZTsKICB2YXIgdHMgPSBzdHJlYW0uX3RyYW5zZm9ybVN0YXRlOwoKICBpZiAod3MubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoJ2NhbGxpbmcgdHJhbnNmb3JtIGRvbmUgd2hlbiB3cy5sZW5ndGggIT0gMCcpOwoKICBpZiAodHMudHJhbnNmb3JtaW5nKSB0aHJvdyBuZXcgRXJyb3IoJ2NhbGxpbmcgdHJhbnNmb3JtIGRvbmUgd2hlbiBzdGlsbCB0cmFuc2Zvcm1pbmcnKTsKCiAgcmV0dXJuIHN0cmVhbS5wdXNoKG51bGwpOwp9Cn0seyIuL19zdHJlYW1fZHVwbGV4IjoxNDksImNvcmUtdXRpbC1pcyI6NzksImluaGVyaXRzIjoxMjh9XSwxNTM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKHByb2Nlc3MpewovLyBBIGJpdCBzaW1wbGVyIHRoYW4gcmVhZGFibGUgc3RyZWFtcy4KLy8gSW1wbGVtZW50IGFuIGFzeW5jIC5fd3JpdGUoY2h1bmssIGVuY29kaW5nLCBjYiksIGFuZCBpdCdsbCBoYW5kbGUgYWxsCi8vIHRoZSBkcmFpbiBldmVudCBlbWlzc2lvbiBhbmQgYnVmZmVyaW5nLgoKJ3VzZSBzdHJpY3QnOwoKbW9kdWxlLmV4cG9ydHMgPSBXcml0YWJsZTsKCi8qPHJlcGxhY2VtZW50PiovCnZhciBwcm9jZXNzTmV4dFRpY2sgPSByZXF1aXJlKCdwcm9jZXNzLW5leHRpY2stYXJncycpOwovKjwvcmVwbGFjZW1lbnQ+Ki8KCi8qPHJlcGxhY2VtZW50PiovCnZhciBhc3luY1dyaXRlID0gIXByb2Nlc3MuYnJvd3NlciAmJiBbJ3YwLjEwJywgJ3YwLjkuJ10uaW5kZXhPZihwcm9jZXNzLnZlcnNpb24uc2xpY2UoMCwgNSkpID4gLTEgPyBzZXRJbW1lZGlhdGUgOiBwcm9jZXNzTmV4dFRpY2s7Ci8qPC9yZXBsYWNlbWVudD4qLwoKLyo8cmVwbGFjZW1lbnQ+Ki8KdmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ2J1ZmZlcicpLkJ1ZmZlcjsKLyo8L3JlcGxhY2VtZW50PiovCgpXcml0YWJsZS5Xcml0YWJsZVN0YXRlID0gV3JpdGFibGVTdGF0ZTsKCi8qPHJlcGxhY2VtZW50PiovCnZhciB1dGlsID0gcmVxdWlyZSgnY29yZS11dGlsLWlzJyk7CnV0aWwuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpOwovKjwvcmVwbGFjZW1lbnQ+Ki8KCi8qPHJlcGxhY2VtZW50PiovCnZhciBpbnRlcm5hbFV0aWwgPSB7CiAgZGVwcmVjYXRlOiByZXF1aXJlKCd1dGlsLWRlcHJlY2F0ZScpCn07Ci8qPC9yZXBsYWNlbWVudD4qLwoKLyo8cmVwbGFjZW1lbnQ+Ki8KdmFyIFN0cmVhbTsKKGZ1bmN0aW9uICgpIHsKICB0cnkgewogICAgU3RyZWFtID0gcmVxdWlyZSgnc3QnICsgJ3JlYW0nKTsKICB9IGNhdGNoIChfKSB7fSBmaW5hbGx5IHsKICAgIGlmICghU3RyZWFtKSBTdHJlYW0gPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXI7CiAgfQp9KSgpOwovKjwvcmVwbGFjZW1lbnQ+Ki8KCnZhciBCdWZmZXIgPSByZXF1aXJlKCdidWZmZXInKS5CdWZmZXI7Cgp1dGlsLmluaGVyaXRzKFdyaXRhYmxlLCBTdHJlYW0pOwoKZnVuY3Rpb24gbm9wKCkge30KCmZ1bmN0aW9uIFdyaXRlUmVxKGNodW5rLCBlbmNvZGluZywgY2IpIHsKICB0aGlzLmNodW5rID0gY2h1bms7CiAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nOwogIHRoaXMuY2FsbGJhY2sgPSBjYjsKICB0aGlzLm5leHQgPSBudWxsOwp9Cgp2YXIgRHVwbGV4OwpmdW5jdGlvbiBXcml0YWJsZVN0YXRlKG9wdGlvbnMsIHN0cmVhbSkgewogIER1cGxleCA9IER1cGxleCB8fCByZXF1aXJlKCcuL19zdHJlYW1fZHVwbGV4Jyk7CgogIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwoKICAvLyBvYmplY3Qgc3RyZWFtIGZsYWcgdG8gaW5kaWNhdGUgd2hldGhlciBvciBub3QgdGhpcyBzdHJlYW0KICAvLyBjb250YWlucyBidWZmZXJzIG9yIG9iamVjdHMuCiAgdGhpcy5vYmplY3RNb2RlID0gISFvcHRpb25zLm9iamVjdE1vZGU7CgogIGlmIChzdHJlYW0gaW5zdGFuY2VvZiBEdXBsZXgpIHRoaXMub2JqZWN0TW9kZSA9IHRoaXMub2JqZWN0TW9kZSB8fCAhIW9wdGlvbnMud3JpdGFibGVPYmplY3RNb2RlOwoKICAvLyB0aGUgcG9pbnQgYXQgd2hpY2ggd3JpdGUoKSBzdGFydHMgcmV0dXJuaW5nIGZhbHNlCiAgLy8gTm90ZTogMCBpcyBhIHZhbGlkIHZhbHVlLCBtZWFucyB0aGF0IHdlIGFsd2F5cyByZXR1cm4gZmFsc2UgaWYKICAvLyB0aGUgZW50aXJlIGJ1ZmZlciBpcyBub3QgZmx1c2hlZCBpbW1lZGlhdGVseSBvbiB3cml0ZSgpCiAgdmFyIGh3bSA9IG9wdGlvbnMuaGlnaFdhdGVyTWFyazsKICB2YXIgZGVmYXVsdEh3bSA9IHRoaXMub2JqZWN0TW9kZSA/IDE2IDogMTYgKiAxMDI0OwogIHRoaXMuaGlnaFdhdGVyTWFyayA9IGh3bSB8fCBod20gPT09IDAgPyBod20gOiBkZWZhdWx0SHdtOwoKICAvLyBjYXN0IHRvIGludHMuCiAgdGhpcy5oaWdoV2F0ZXJNYXJrID0gfiB+dGhpcy5oaWdoV2F0ZXJNYXJrOwoKICB0aGlzLm5lZWREcmFpbiA9IGZhbHNlOwogIC8vIGF0IHRoZSBzdGFydCBvZiBjYWxsaW5nIGVuZCgpCiAgdGhpcy5lbmRpbmcgPSBmYWxzZTsKICAvLyB3aGVuIGVuZCgpIGhhcyBiZWVuIGNhbGxlZCwgYW5kIHJldHVybmVkCiAgdGhpcy5lbmRlZCA9IGZhbHNlOwogIC8vIHdoZW4gJ2ZpbmlzaCcgaXMgZW1pdHRlZAogIHRoaXMuZmluaXNoZWQgPSBmYWxzZTsKCiAgLy8gc2hvdWxkIHdlIGRlY29kZSBzdHJpbmdzIGludG8gYnVmZmVycyBiZWZvcmUgcGFzc2luZyB0byBfd3JpdGU/CiAgLy8gdGhpcyBpcyBoZXJlIHNvIHRoYXQgc29tZSBub2RlLWNvcmUgc3RyZWFtcyBjYW4gb3B0aW1pemUgc3RyaW5nCiAgLy8gaGFuZGxpbmcgYXQgYSBsb3dlciBsZXZlbC4KICB2YXIgbm9EZWNvZGUgPSBvcHRpb25zLmRlY29kZVN0cmluZ3MgPT09IGZhbHNlOwogIHRoaXMuZGVjb2RlU3RyaW5ncyA9ICFub0RlY29kZTsKCiAgLy8gQ3J5cHRvIGlzIGtpbmQgb2Ygb2xkIGFuZCBjcnVzdHkuICBIaXN0b3JpY2FsbHksIGl0cyBkZWZhdWx0IHN0cmluZwogIC8vIGVuY29kaW5nIGlzICdiaW5hcnknIHNvIHdlIGhhdmUgdG8gbWFrZSB0aGlzIGNvbmZpZ3VyYWJsZS4KICAvLyBFdmVyeXRoaW5nIGVsc2UgaW4gdGhlIHVuaXZlcnNlIHVzZXMgJ3V0ZjgnLCB0aG91Z2guCiAgdGhpcy5kZWZhdWx0RW5jb2RpbmcgPSBvcHRpb25zLmRlZmF1bHRFbmNvZGluZyB8fCAndXRmOCc7CgogIC8vIG5vdCBhbiBhY3R1YWwgYnVmZmVyIHdlIGtlZXAgdHJhY2sgb2YsIGJ1dCBhIG1lYXN1cmVtZW50CiAgLy8gb2YgaG93IG11Y2ggd2UncmUgd2FpdGluZyB0byBnZXQgcHVzaGVkIHRvIHNvbWUgdW5kZXJseWluZwogIC8vIHNvY2tldCBvciBmaWxlLgogIHRoaXMubGVuZ3RoID0gMDsKCiAgLy8gYSBmbGFnIHRvIHNlZSB3aGVuIHdlJ3JlIGluIHRoZSBtaWRkbGUgb2YgYSB3cml0ZS4KICB0aGlzLndyaXRpbmcgPSBmYWxzZTsKCiAgLy8gd2hlbiB0cnVlIGFsbCB3cml0ZXMgd2lsbCBiZSBidWZmZXJlZCB1bnRpbCAudW5jb3JrKCkgY2FsbAogIHRoaXMuY29ya2VkID0gMDsKCiAgLy8gYSBmbGFnIHRvIGJlIGFibGUgdG8gdGVsbCBpZiB0aGUgb253cml0ZSBjYiBpcyBjYWxsZWQgaW1tZWRpYXRlbHksCiAgLy8gb3Igb24gYSBsYXRlciB0aWNrLiAgV2Ugc2V0IHRoaXMgdG8gdHJ1ZSBhdCBmaXJzdCwgYmVjYXVzZSBhbnkKICAvLyBhY3Rpb25zIHRoYXQgc2hvdWxkbid0IGhhcHBlbiB1bnRpbCAibGF0ZXIiIHNob3VsZCBnZW5lcmFsbHkgYWxzbwogIC8vIG5vdCBoYXBwZW4gYmVmb3JlIHRoZSBmaXJzdCB3cml0ZSBjYWxsLgogIHRoaXMuc3luYyA9IHRydWU7CgogIC8vIGEgZmxhZyB0byBrbm93IGlmIHdlJ3JlIHByb2Nlc3NpbmcgcHJldmlvdXNseSBidWZmZXJlZCBpdGVtcywgd2hpY2gKICAvLyBtYXkgY2FsbCB0aGUgX3dyaXRlKCkgY2FsbGJhY2sgaW4gdGhlIHNhbWUgdGljaywgc28gdGhhdCB3ZSBkb24ndAogIC8vIGVuZCB1cCBpbiBhbiBvdmVybGFwcGVkIG9ud3JpdGUgc2l0dWF0aW9uLgogIHRoaXMuYnVmZmVyUHJvY2Vzc2luZyA9IGZhbHNlOwoKICAvLyB0aGUgY2FsbGJhY2sgdGhhdCdzIHBhc3NlZCB0byBfd3JpdGUoY2h1bmssY2IpCiAgdGhpcy5vbndyaXRlID0gZnVuY3Rpb24gKGVyKSB7CiAgICBvbndyaXRlKHN0cmVhbSwgZXIpOwogIH07CgogIC8vIHRoZSBjYWxsYmFjayB0aGF0IHRoZSB1c2VyIHN1cHBsaWVzIHRvIHdyaXRlKGNodW5rLGVuY29kaW5nLGNiKQogIHRoaXMud3JpdGVjYiA9IG51bGw7CgogIC8vIHRoZSBhbW91bnQgdGhhdCBpcyBiZWluZyB3cml0dGVuIHdoZW4gX3dyaXRlIGlzIGNhbGxlZC4KICB0aGlzLndyaXRlbGVuID0gMDsKCiAgdGhpcy5idWZmZXJlZFJlcXVlc3QgPSBudWxsOwogIHRoaXMubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IG51bGw7CgogIC8vIG51bWJlciBvZiBwZW5kaW5nIHVzZXItc3VwcGxpZWQgd3JpdGUgY2FsbGJhY2tzCiAgLy8gdGhpcyBtdXN0IGJlIDAgYmVmb3JlICdmaW5pc2gnIGNhbiBiZSBlbWl0dGVkCiAgdGhpcy5wZW5kaW5nY2IgPSAwOwoKICAvLyBlbWl0IHByZWZpbmlzaCBpZiB0aGUgb25seSB0aGluZyB3ZSdyZSB3YWl0aW5nIGZvciBpcyBfd3JpdGUgY2JzCiAgLy8gVGhpcyBpcyByZWxldmFudCBmb3Igc3luY2hyb25vdXMgVHJhbnNmb3JtIHN0cmVhbXMKICB0aGlzLnByZWZpbmlzaGVkID0gZmFsc2U7CgogIC8vIFRydWUgaWYgdGhlIGVycm9yIHdhcyBhbHJlYWR5IGVtaXR0ZWQgYW5kIHNob3VsZCBub3QgYmUgdGhyb3duIGFnYWluCiAgdGhpcy5lcnJvckVtaXR0ZWQgPSBmYWxzZTsKCiAgLy8gY291bnQgYnVmZmVyZWQgcmVxdWVzdHMKICB0aGlzLmJ1ZmZlcmVkUmVxdWVzdENvdW50ID0gMDsKCiAgLy8gY3JlYXRlIHRoZSB0d28gb2JqZWN0cyBuZWVkZWQgdG8gc3RvcmUgdGhlIGNvcmtlZCByZXF1ZXN0cwogIC8vIHRoZXkgYXJlIG5vdCBhIGxpbmtlZCBsaXN0LCBhcyBubyBuZXcgZWxlbWVudHMgYXJlIGluc2VydGVkIGluIHRoZXJlCiAgdGhpcy5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBuZXcgQ29ya2VkUmVxdWVzdCh0aGlzKTsKICB0aGlzLmNvcmtlZFJlcXVlc3RzRnJlZS5uZXh0ID0gbmV3IENvcmtlZFJlcXVlc3QodGhpcyk7Cn0KCldyaXRhYmxlU3RhdGUucHJvdG90eXBlLmdldEJ1ZmZlciA9IGZ1bmN0aW9uIHdyaXRhYmxlU3RhdGVHZXRCdWZmZXIoKSB7CiAgdmFyIGN1cnJlbnQgPSB0aGlzLmJ1ZmZlcmVkUmVxdWVzdDsKICB2YXIgb3V0ID0gW107CiAgd2hpbGUgKGN1cnJlbnQpIHsKICAgIG91dC5wdXNoKGN1cnJlbnQpOwogICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDsKICB9CiAgcmV0dXJuIG91dDsKfTsKCihmdW5jdGlvbiAoKSB7CiAgdHJ5IHsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZVN0YXRlLnByb3RvdHlwZSwgJ2J1ZmZlcicsIHsKICAgICAgZ2V0OiBpbnRlcm5hbFV0aWwuZGVwcmVjYXRlKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRCdWZmZXIoKTsKICAgICAgfSwgJ193cml0YWJsZVN0YXRlLmJ1ZmZlciBpcyBkZXByZWNhdGVkLiBVc2UgX3dyaXRhYmxlU3RhdGUuZ2V0QnVmZmVyICcgKyAnaW5zdGVhZC4nKQogICAgfSk7CiAgfSBjYXRjaCAoXykge30KfSkoKTsKCnZhciBEdXBsZXg7CmZ1bmN0aW9uIFdyaXRhYmxlKG9wdGlvbnMpIHsKICBEdXBsZXggPSBEdXBsZXggfHwgcmVxdWlyZSgnLi9fc3RyZWFtX2R1cGxleCcpOwoKICAvLyBXcml0YWJsZSBjdG9yIGlzIGFwcGxpZWQgdG8gRHVwbGV4ZXMsIHRob3VnaCB0aGV5J3JlIG5vdAogIC8vIGluc3RhbmNlb2YgV3JpdGFibGUsIHRoZXkncmUgaW5zdGFuY2VvZiBSZWFkYWJsZS4KICBpZiAoISh0aGlzIGluc3RhbmNlb2YgV3JpdGFibGUpICYmICEodGhpcyBpbnN0YW5jZW9mIER1cGxleCkpIHJldHVybiBuZXcgV3JpdGFibGUob3B0aW9ucyk7CgogIHRoaXMuX3dyaXRhYmxlU3RhdGUgPSBuZXcgV3JpdGFibGVTdGF0ZShvcHRpb25zLCB0aGlzKTsKCiAgLy8gbGVnYWN5LgogIHRoaXMud3JpdGFibGUgPSB0cnVlOwoKICBpZiAob3B0aW9ucykgewogICAgaWYgKHR5cGVvZiBvcHRpb25zLndyaXRlID09PSAnZnVuY3Rpb24nKSB0aGlzLl93cml0ZSA9IG9wdGlvbnMud3JpdGU7CgogICAgaWYgKHR5cGVvZiBvcHRpb25zLndyaXRldiA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5fd3JpdGV2ID0gb3B0aW9ucy53cml0ZXY7CiAgfQoKICBTdHJlYW0uY2FsbCh0aGlzKTsKfQoKLy8gT3RoZXJ3aXNlIHBlb3BsZSBjYW4gcGlwZSBXcml0YWJsZSBzdHJlYW1zLCB3aGljaCBpcyBqdXN0IHdyb25nLgpXcml0YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHsKICB0aGlzLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKCdDYW5ub3QgcGlwZS4gTm90IHJlYWRhYmxlLicpKTsKfTsKCmZ1bmN0aW9uIHdyaXRlQWZ0ZXJFbmQoc3RyZWFtLCBjYikgewogIHZhciBlciA9IG5ldyBFcnJvcignd3JpdGUgYWZ0ZXIgZW5kJyk7CiAgLy8gVE9ETzogZGVmZXIgZXJyb3IgZXZlbnRzIGNvbnNpc3RlbnRseSBldmVyeXdoZXJlLCBub3QganVzdCB0aGUgY2IKICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7CiAgcHJvY2Vzc05leHRUaWNrKGNiLCBlcik7Cn0KCi8vIElmIHdlIGdldCBzb21ldGhpbmcgdGhhdCBpcyBub3QgYSBidWZmZXIsIHN0cmluZywgbnVsbCwgb3IgdW5kZWZpbmVkLAovLyBhbmQgd2UncmUgbm90IGluIG9iamVjdE1vZGUsIHRoZW4gdGhhdCdzIGFuIGVycm9yLgovLyBPdGhlcndpc2Ugc3RyZWFtIGNodW5rcyBhcmUgYWxsIGNvbnNpZGVyZWQgdG8gYmUgb2YgbGVuZ3RoPTEsIGFuZCB0aGUKLy8gd2F0ZXJtYXJrcyBkZXRlcm1pbmUgaG93IG1hbnkgb2JqZWN0cyB0byBrZWVwIGluIHRoZSBidWZmZXIsIHJhdGhlciB0aGFuCi8vIGhvdyBtYW55IGJ5dGVzIG9yIGNoYXJhY3RlcnMuCmZ1bmN0aW9uIHZhbGlkQ2h1bmsoc3RyZWFtLCBzdGF0ZSwgY2h1bmssIGNiKSB7CiAgdmFyIHZhbGlkID0gdHJ1ZTsKCiAgaWYgKCFCdWZmZXIuaXNCdWZmZXIoY2h1bmspICYmIHR5cGVvZiBjaHVuayAhPT0gJ3N0cmluZycgJiYgY2h1bmsgIT09IG51bGwgJiYgY2h1bmsgIT09IHVuZGVmaW5lZCAmJiAhc3RhdGUub2JqZWN0TW9kZSkgewogICAgdmFyIGVyID0gbmV3IFR5cGVFcnJvcignSW52YWxpZCBub24tc3RyaW5nL2J1ZmZlciBjaHVuaycpOwogICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXIpOwogICAgcHJvY2Vzc05leHRUaWNrKGNiLCBlcik7CiAgICB2YWxpZCA9IGZhbHNlOwogIH0KICByZXR1cm4gdmFsaWQ7Cn0KCldyaXRhYmxlLnByb3RvdHlwZS53cml0ZSA9IGZ1bmN0aW9uIChjaHVuaywgZW5jb2RpbmcsIGNiKSB7CiAgdmFyIHN0YXRlID0gdGhpcy5fd3JpdGFibGVTdGF0ZTsKICB2YXIgcmV0ID0gZmFsc2U7CgogIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdmdW5jdGlvbicpIHsKICAgIGNiID0gZW5jb2Rpbmc7CiAgICBlbmNvZGluZyA9IG51bGw7CiAgfQoKICBpZiAoQnVmZmVyLmlzQnVmZmVyKGNodW5rKSkgZW5jb2RpbmcgPSAnYnVmZmVyJztlbHNlIGlmICghZW5jb2RpbmcpIGVuY29kaW5nID0gc3RhdGUuZGVmYXVsdEVuY29kaW5nOwoKICBpZiAodHlwZW9mIGNiICE9PSAnZnVuY3Rpb24nKSBjYiA9IG5vcDsKCiAgaWYgKHN0YXRlLmVuZGVkKSB3cml0ZUFmdGVyRW5kKHRoaXMsIGNiKTtlbHNlIGlmICh2YWxpZENodW5rKHRoaXMsIHN0YXRlLCBjaHVuaywgY2IpKSB7CiAgICBzdGF0ZS5wZW5kaW5nY2IrKzsKICAgIHJldCA9IHdyaXRlT3JCdWZmZXIodGhpcywgc3RhdGUsIGNodW5rLCBlbmNvZGluZywgY2IpOwogIH0KCiAgcmV0dXJuIHJldDsKfTsKCldyaXRhYmxlLnByb3RvdHlwZS5jb3JrID0gZnVuY3Rpb24gKCkgewogIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7CgogIHN0YXRlLmNvcmtlZCsrOwp9OwoKV3JpdGFibGUucHJvdG90eXBlLnVuY29yayA9IGZ1bmN0aW9uICgpIHsKICB2YXIgc3RhdGUgPSB0aGlzLl93cml0YWJsZVN0YXRlOwoKICBpZiAoc3RhdGUuY29ya2VkKSB7CiAgICBzdGF0ZS5jb3JrZWQtLTsKCiAgICBpZiAoIXN0YXRlLndyaXRpbmcgJiYgIXN0YXRlLmNvcmtlZCAmJiAhc3RhdGUuZmluaXNoZWQgJiYgIXN0YXRlLmJ1ZmZlclByb2Nlc3NpbmcgJiYgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0KSBjbGVhckJ1ZmZlcih0aGlzLCBzdGF0ZSk7CiAgfQp9OwoKV3JpdGFibGUucHJvdG90eXBlLnNldERlZmF1bHRFbmNvZGluZyA9IGZ1bmN0aW9uIHNldERlZmF1bHRFbmNvZGluZyhlbmNvZGluZykgewogIC8vIG5vZGU6OlBhcnNlRW5jb2RpbmcoKSByZXF1aXJlcyBsb3dlciBjYXNlLgogIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdzdHJpbmcnKSBlbmNvZGluZyA9IGVuY29kaW5nLnRvTG93ZXJDYXNlKCk7CiAgaWYgKCEoWydoZXgnLCAndXRmOCcsICd1dGYtOCcsICdhc2NpaScsICdiaW5hcnknLCAnYmFzZTY0JywgJ3VjczInLCAndWNzLTInLCAndXRmMTZsZScsICd1dGYtMTZsZScsICdyYXcnXS5pbmRleE9mKChlbmNvZGluZyArICcnKS50b0xvd2VyQ2FzZSgpKSA+IC0xKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBlbmNvZGluZzogJyArIGVuY29kaW5nKTsKICB0aGlzLl93cml0YWJsZVN0YXRlLmRlZmF1bHRFbmNvZGluZyA9IGVuY29kaW5nOwp9OwoKZnVuY3Rpb24gZGVjb2RlQ2h1bmsoc3RhdGUsIGNodW5rLCBlbmNvZGluZykgewogIGlmICghc3RhdGUub2JqZWN0TW9kZSAmJiBzdGF0ZS5kZWNvZGVTdHJpbmdzICE9PSBmYWxzZSAmJiB0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7CiAgICBjaHVuayA9IG5ldyBCdWZmZXIoY2h1bmssIGVuY29kaW5nKTsKICB9CiAgcmV0dXJuIGNodW5rOwp9CgovLyBpZiB3ZSdyZSBhbHJlYWR5IHdyaXRpbmcgc29tZXRoaW5nLCB0aGVuIGp1c3QgcHV0IHRoaXMKLy8gaW4gdGhlIHF1ZXVlLCBhbmQgd2FpdCBvdXIgdHVybi4gIE90aGVyd2lzZSwgY2FsbCBfd3JpdGUKLy8gSWYgd2UgcmV0dXJuIGZhbHNlLCB0aGVuIHdlIG5lZWQgYSBkcmFpbiBldmVudCwgc28gc2V0IHRoYXQgZmxhZy4KZnVuY3Rpb24gd3JpdGVPckJ1ZmZlcihzdHJlYW0sIHN0YXRlLCBjaHVuaywgZW5jb2RpbmcsIGNiKSB7CiAgY2h1bmsgPSBkZWNvZGVDaHVuayhzdGF0ZSwgY2h1bmssIGVuY29kaW5nKTsKCiAgaWYgKEJ1ZmZlci5pc0J1ZmZlcihjaHVuaykpIGVuY29kaW5nID0gJ2J1ZmZlcic7CiAgdmFyIGxlbiA9IHN0YXRlLm9iamVjdE1vZGUgPyAxIDogY2h1bmsubGVuZ3RoOwoKICBzdGF0ZS5sZW5ndGggKz0gbGVuOwoKICB2YXIgcmV0ID0gc3RhdGUubGVuZ3RoIDwgc3RhdGUuaGlnaFdhdGVyTWFyazsKICAvLyB3ZSBtdXN0IGVuc3VyZSB0aGF0IHByZXZpb3VzIG5lZWREcmFpbiB3aWxsIG5vdCBiZSByZXNldCB0byBmYWxzZS4KICBpZiAoIXJldCkgc3RhdGUubmVlZERyYWluID0gdHJ1ZTsKCiAgaWYgKHN0YXRlLndyaXRpbmcgfHwgc3RhdGUuY29ya2VkKSB7CiAgICB2YXIgbGFzdCA9IHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Q7CiAgICBzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0ID0gbmV3IFdyaXRlUmVxKGNodW5rLCBlbmNvZGluZywgY2IpOwogICAgaWYgKGxhc3QpIHsKICAgICAgbGFzdC5uZXh0ID0gc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDsKICAgIH0gZWxzZSB7CiAgICAgIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCA9IHN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Q7CiAgICB9CiAgICBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudCArPSAxOwogIH0gZWxzZSB7CiAgICBkb1dyaXRlKHN0cmVhbSwgc3RhdGUsIGZhbHNlLCBsZW4sIGNodW5rLCBlbmNvZGluZywgY2IpOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKZnVuY3Rpb24gZG9Xcml0ZShzdHJlYW0sIHN0YXRlLCB3cml0ZXYsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYikgewogIHN0YXRlLndyaXRlbGVuID0gbGVuOwogIHN0YXRlLndyaXRlY2IgPSBjYjsKICBzdGF0ZS53cml0aW5nID0gdHJ1ZTsKICBzdGF0ZS5zeW5jID0gdHJ1ZTsKICBpZiAod3JpdGV2KSBzdHJlYW0uX3dyaXRldihjaHVuaywgc3RhdGUub253cml0ZSk7ZWxzZSBzdHJlYW0uX3dyaXRlKGNodW5rLCBlbmNvZGluZywgc3RhdGUub253cml0ZSk7CiAgc3RhdGUuc3luYyA9IGZhbHNlOwp9CgpmdW5jdGlvbiBvbndyaXRlRXJyb3Ioc3RyZWFtLCBzdGF0ZSwgc3luYywgZXIsIGNiKSB7CiAgLS1zdGF0ZS5wZW5kaW5nY2I7CiAgaWYgKHN5bmMpIHByb2Nlc3NOZXh0VGljayhjYiwgZXIpO2Vsc2UgY2IoZXIpOwoKICBzdHJlYW0uX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkID0gdHJ1ZTsKICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcik7Cn0KCmZ1bmN0aW9uIG9ud3JpdGVTdGF0ZVVwZGF0ZShzdGF0ZSkgewogIHN0YXRlLndyaXRpbmcgPSBmYWxzZTsKICBzdGF0ZS53cml0ZWNiID0gbnVsbDsKICBzdGF0ZS5sZW5ndGggLT0gc3RhdGUud3JpdGVsZW47CiAgc3RhdGUud3JpdGVsZW4gPSAwOwp9CgpmdW5jdGlvbiBvbndyaXRlKHN0cmVhbSwgZXIpIHsKICB2YXIgc3RhdGUgPSBzdHJlYW0uX3dyaXRhYmxlU3RhdGU7CiAgdmFyIHN5bmMgPSBzdGF0ZS5zeW5jOwogIHZhciBjYiA9IHN0YXRlLndyaXRlY2I7CgogIG9ud3JpdGVTdGF0ZVVwZGF0ZShzdGF0ZSk7CgogIGlmIChlcikgb253cml0ZUVycm9yKHN0cmVhbSwgc3RhdGUsIHN5bmMsIGVyLCBjYik7ZWxzZSB7CiAgICAvLyBDaGVjayBpZiB3ZSdyZSBhY3R1YWxseSByZWFkeSB0byBmaW5pc2gsIGJ1dCBkb24ndCBlbWl0IHlldAogICAgdmFyIGZpbmlzaGVkID0gbmVlZEZpbmlzaChzdGF0ZSk7CgogICAgaWYgKCFmaW5pc2hlZCAmJiAhc3RhdGUuY29ya2VkICYmICFzdGF0ZS5idWZmZXJQcm9jZXNzaW5nICYmIHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdCkgewogICAgICBjbGVhckJ1ZmZlcihzdHJlYW0sIHN0YXRlKTsKICAgIH0KCiAgICBpZiAoc3luYykgewogICAgICAvKjxyZXBsYWNlbWVudD4qLwogICAgICBhc3luY1dyaXRlKGFmdGVyV3JpdGUsIHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYik7CiAgICAgIC8qPC9yZXBsYWNlbWVudD4qLwogICAgfSBlbHNlIHsKICAgICAgICBhZnRlcldyaXRlKHN0cmVhbSwgc3RhdGUsIGZpbmlzaGVkLCBjYik7CiAgICAgIH0KICB9Cn0KCmZ1bmN0aW9uIGFmdGVyV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmluaXNoZWQsIGNiKSB7CiAgaWYgKCFmaW5pc2hlZCkgb253cml0ZURyYWluKHN0cmVhbSwgc3RhdGUpOwogIHN0YXRlLnBlbmRpbmdjYi0tOwogIGNiKCk7CiAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7Cn0KCi8vIE11c3QgZm9yY2UgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIG9uIG5leHRUaWNrLCBzbyB0aGF0IHdlIGRvbid0Ci8vIGVtaXQgJ2RyYWluJyBiZWZvcmUgdGhlIHdyaXRlKCkgY29uc3VtZXIgZ2V0cyB0aGUgJ2ZhbHNlJyByZXR1cm4KLy8gdmFsdWUsIGFuZCBoYXMgYSBjaGFuY2UgdG8gYXR0YWNoIGEgJ2RyYWluJyBsaXN0ZW5lci4KZnVuY3Rpb24gb253cml0ZURyYWluKHN0cmVhbSwgc3RhdGUpIHsKICBpZiAoc3RhdGUubGVuZ3RoID09PSAwICYmIHN0YXRlLm5lZWREcmFpbikgewogICAgc3RhdGUubmVlZERyYWluID0gZmFsc2U7CiAgICBzdHJlYW0uZW1pdCgnZHJhaW4nKTsKICB9Cn0KCi8vIGlmIHRoZXJlJ3Mgc29tZXRoaW5nIGluIHRoZSBidWZmZXIgd2FpdGluZywgdGhlbiBwcm9jZXNzIGl0CmZ1bmN0aW9uIGNsZWFyQnVmZmVyKHN0cmVhbSwgc3RhdGUpIHsKICBzdGF0ZS5idWZmZXJQcm9jZXNzaW5nID0gdHJ1ZTsKICB2YXIgZW50cnkgPSBzdGF0ZS5idWZmZXJlZFJlcXVlc3Q7CgogIGlmIChzdHJlYW0uX3dyaXRldiAmJiBlbnRyeSAmJiBlbnRyeS5uZXh0KSB7CiAgICAvLyBGYXN0IGNhc2UsIHdyaXRlIGV2ZXJ5dGhpbmcgdXNpbmcgX3dyaXRldigpCiAgICB2YXIgbCA9IHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50OwogICAgdmFyIGJ1ZmZlciA9IG5ldyBBcnJheShsKTsKICAgIHZhciBob2xkZXIgPSBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWU7CiAgICBob2xkZXIuZW50cnkgPSBlbnRyeTsKCiAgICB2YXIgY291bnQgPSAwOwogICAgd2hpbGUgKGVudHJ5KSB7CiAgICAgIGJ1ZmZlcltjb3VudF0gPSBlbnRyeTsKICAgICAgZW50cnkgPSBlbnRyeS5uZXh0OwogICAgICBjb3VudCArPSAxOwogICAgfQoKICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgdHJ1ZSwgc3RhdGUubGVuZ3RoLCBidWZmZXIsICcnLCBob2xkZXIuZmluaXNoKTsKCiAgICAvLyBkb1dyaXRlIGlzIGFsd2F5cyBhc3luYywgZGVmZXIgdGhlc2UgdG8gc2F2ZSBhIGJpdCBvZiB0aW1lCiAgICAvLyBhcyB0aGUgaG90IHBhdGggZW5kcyB3aXRoIGRvV3JpdGUKICAgIHN0YXRlLnBlbmRpbmdjYisrOwogICAgc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IG51bGw7CiAgICBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBob2xkZXIubmV4dDsKICAgIGhvbGRlci5uZXh0ID0gbnVsbDsKICB9IGVsc2UgewogICAgLy8gU2xvdyBjYXNlLCB3cml0ZSBjaHVua3Mgb25lLWJ5LW9uZQogICAgd2hpbGUgKGVudHJ5KSB7CiAgICAgIHZhciBjaHVuayA9IGVudHJ5LmNodW5rOwogICAgICB2YXIgZW5jb2RpbmcgPSBlbnRyeS5lbmNvZGluZzsKICAgICAgdmFyIGNiID0gZW50cnkuY2FsbGJhY2s7CiAgICAgIHZhciBsZW4gPSBzdGF0ZS5vYmplY3RNb2RlID8gMSA6IGNodW5rLmxlbmd0aDsKCiAgICAgIGRvV3JpdGUoc3RyZWFtLCBzdGF0ZSwgZmFsc2UsIGxlbiwgY2h1bmssIGVuY29kaW5nLCBjYik7CiAgICAgIGVudHJ5ID0gZW50cnkubmV4dDsKICAgICAgLy8gaWYgd2UgZGlkbid0IGNhbGwgdGhlIG9ud3JpdGUgaW1tZWRpYXRlbHksIHRoZW4KICAgICAgLy8gaXQgbWVhbnMgdGhhdCB3ZSBuZWVkIHRvIHdhaXQgdW50aWwgaXQgZG9lcy4KICAgICAgLy8gYWxzbywgdGhhdCBtZWFucyB0aGF0IHRoZSBjaHVuayBhbmQgY2IgYXJlIGN1cnJlbnRseQogICAgICAvLyBiZWluZyBwcm9jZXNzZWQsIHNvIG1vdmUgdGhlIGJ1ZmZlciBjb3VudGVyIHBhc3QgdGhlbS4KICAgICAgaWYgKHN0YXRlLndyaXRpbmcpIHsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIGlmIChlbnRyeSA9PT0gbnVsbCkgc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdCA9IG51bGw7CiAgfQoKICBzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudCA9IDA7CiAgc3RhdGUuYnVmZmVyZWRSZXF1ZXN0ID0gZW50cnk7CiAgc3RhdGUuYnVmZmVyUHJvY2Vzc2luZyA9IGZhbHNlOwp9CgpXcml0YWJsZS5wcm90b3R5cGUuX3dyaXRlID0gZnVuY3Rpb24gKGNodW5rLCBlbmNvZGluZywgY2IpIHsKICBjYihuZXcgRXJyb3IoJ25vdCBpbXBsZW1lbnRlZCcpKTsKfTsKCldyaXRhYmxlLnByb3RvdHlwZS5fd3JpdGV2ID0gbnVsbDsKCldyaXRhYmxlLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoY2h1bmssIGVuY29kaW5nLCBjYikgewogIHZhciBzdGF0ZSA9IHRoaXMuX3dyaXRhYmxlU3RhdGU7CgogIGlmICh0eXBlb2YgY2h1bmsgPT09ICdmdW5jdGlvbicpIHsKICAgIGNiID0gY2h1bms7CiAgICBjaHVuayA9IG51bGw7CiAgICBlbmNvZGluZyA9IG51bGw7CiAgfSBlbHNlIGlmICh0eXBlb2YgZW5jb2RpbmcgPT09ICdmdW5jdGlvbicpIHsKICAgIGNiID0gZW5jb2Rpbmc7CiAgICBlbmNvZGluZyA9IG51bGw7CiAgfQoKICBpZiAoY2h1bmsgIT09IG51bGwgJiYgY2h1bmsgIT09IHVuZGVmaW5lZCkgdGhpcy53cml0ZShjaHVuaywgZW5jb2RpbmcpOwoKICAvLyAuZW5kKCkgZnVsbHkgdW5jb3JrcwogIGlmIChzdGF0ZS5jb3JrZWQpIHsKICAgIHN0YXRlLmNvcmtlZCA9IDE7CiAgICB0aGlzLnVuY29yaygpOwogIH0KCiAgLy8gaWdub3JlIHVubmVjZXNzYXJ5IGVuZCgpIGNhbGxzLgogIGlmICghc3RhdGUuZW5kaW5nICYmICFzdGF0ZS5maW5pc2hlZCkgZW5kV3JpdGFibGUodGhpcywgc3RhdGUsIGNiKTsKfTsKCmZ1bmN0aW9uIG5lZWRGaW5pc2goc3RhdGUpIHsKICByZXR1cm4gc3RhdGUuZW5kaW5nICYmIHN0YXRlLmxlbmd0aCA9PT0gMCAmJiBzdGF0ZS5idWZmZXJlZFJlcXVlc3QgPT09IG51bGwgJiYgIXN0YXRlLmZpbmlzaGVkICYmICFzdGF0ZS53cml0aW5nOwp9CgpmdW5jdGlvbiBwcmVmaW5pc2goc3RyZWFtLCBzdGF0ZSkgewogIGlmICghc3RhdGUucHJlZmluaXNoZWQpIHsKICAgIHN0YXRlLnByZWZpbmlzaGVkID0gdHJ1ZTsKICAgIHN0cmVhbS5lbWl0KCdwcmVmaW5pc2gnKTsKICB9Cn0KCmZ1bmN0aW9uIGZpbmlzaE1heWJlKHN0cmVhbSwgc3RhdGUpIHsKICB2YXIgbmVlZCA9IG5lZWRGaW5pc2goc3RhdGUpOwogIGlmIChuZWVkKSB7CiAgICBpZiAoc3RhdGUucGVuZGluZ2NiID09PSAwKSB7CiAgICAgIHByZWZpbmlzaChzdHJlYW0sIHN0YXRlKTsKICAgICAgc3RhdGUuZmluaXNoZWQgPSB0cnVlOwogICAgICBzdHJlYW0uZW1pdCgnZmluaXNoJyk7CiAgICB9IGVsc2UgewogICAgICBwcmVmaW5pc2goc3RyZWFtLCBzdGF0ZSk7CiAgICB9CiAgfQogIHJldHVybiBuZWVkOwp9CgpmdW5jdGlvbiBlbmRXcml0YWJsZShzdHJlYW0sIHN0YXRlLCBjYikgewogIHN0YXRlLmVuZGluZyA9IHRydWU7CiAgZmluaXNoTWF5YmUoc3RyZWFtLCBzdGF0ZSk7CiAgaWYgKGNiKSB7CiAgICBpZiAoc3RhdGUuZmluaXNoZWQpIHByb2Nlc3NOZXh0VGljayhjYik7ZWxzZSBzdHJlYW0ub25jZSgnZmluaXNoJywgY2IpOwogIH0KICBzdGF0ZS5lbmRlZCA9IHRydWU7CiAgc3RyZWFtLndyaXRhYmxlID0gZmFsc2U7Cn0KCi8vIEl0IHNlZW1zIGEgbGlua2VkIGxpc3QgYnV0IGl0IGlzIG5vdAovLyB0aGVyZSB3aWxsIGJlIG9ubHkgMiBvZiB0aGVzZSBmb3IgZWFjaCBzdHJlYW0KZnVuY3Rpb24gQ29ya2VkUmVxdWVzdChzdGF0ZSkgewogIHZhciBfdGhpcyA9IHRoaXM7CgogIHRoaXMubmV4dCA9IG51bGw7CiAgdGhpcy5lbnRyeSA9IG51bGw7CgogIHRoaXMuZmluaXNoID0gZnVuY3Rpb24gKGVycikgewogICAgdmFyIGVudHJ5ID0gX3RoaXMuZW50cnk7CiAgICBfdGhpcy5lbnRyeSA9IG51bGw7CiAgICB3aGlsZSAoZW50cnkpIHsKICAgICAgdmFyIGNiID0gZW50cnkuY2FsbGJhY2s7CiAgICAgIHN0YXRlLnBlbmRpbmdjYi0tOwogICAgICBjYihlcnIpOwogICAgICBlbnRyeSA9IGVudHJ5Lm5leHQ7CiAgICB9CiAgICBpZiAoc3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlKSB7CiAgICAgIHN0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZS5uZXh0ID0gX3RoaXM7CiAgICB9IGVsc2UgewogICAgICBzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWUgPSBfdGhpczsKICAgIH0KICB9Owp9Cn0pLmNhbGwodGhpcyxyZXF1aXJlKCdfcHJvY2VzcycpKQp9LHsiLi9fc3RyZWFtX2R1cGxleCI6MTQ5LCJfcHJvY2VzcyI6MTQwLCJidWZmZXIiOjc2LCJjb3JlLXV0aWwtaXMiOjc5LCJldmVudHMiOjExOCwiaW5oZXJpdHMiOjEyOCwicHJvY2Vzcy1uZXh0aWNrLWFyZ3MiOjEzOSwidXRpbC1kZXByZWNhdGUiOjE3NH1dLDE1NDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgiLi9saWIvX3N0cmVhbV9wYXNzdGhyb3VnaC5qcyIpCgp9LHsiLi9saWIvX3N0cmVhbV9wYXNzdGhyb3VnaC5qcyI6MTUwfV0sMTU1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKdmFyIFN0cmVhbSA9IChmdW5jdGlvbiAoKXsKICB0cnkgewogICAgcmV0dXJuIHJlcXVpcmUoJ3N0JyArICdyZWFtJyk7IC8vIGhhY2sgdG8gZml4IGEgY2lyY3VsYXIgZGVwZW5kZW5jeSBpc3N1ZSB3aGVuIHVzZWQgd2l0aCBicm93c2VyaWZ5CiAgfSBjYXRjaChfKXt9Cn0oKSk7CmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL19zdHJlYW1fcmVhZGFibGUuanMnKTsKZXhwb3J0cy5TdHJlYW0gPSBTdHJlYW0gfHwgZXhwb3J0czsKZXhwb3J0cy5SZWFkYWJsZSA9IGV4cG9ydHM7CmV4cG9ydHMuV3JpdGFibGUgPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX3dyaXRhYmxlLmpzJyk7CmV4cG9ydHMuRHVwbGV4ID0gcmVxdWlyZSgnLi9saWIvX3N0cmVhbV9kdXBsZXguanMnKTsKZXhwb3J0cy5UcmFuc2Zvcm0gPSByZXF1aXJlKCcuL2xpYi9fc3RyZWFtX3RyYW5zZm9ybS5qcycpOwpleHBvcnRzLlBhc3NUaHJvdWdoID0gcmVxdWlyZSgnLi9saWIvX3N0cmVhbV9wYXNzdGhyb3VnaC5qcycpOwoKfSx7Ii4vbGliL19zdHJlYW1fZHVwbGV4LmpzIjoxNDksIi4vbGliL19zdHJlYW1fcGFzc3Rocm91Z2guanMiOjE1MCwiLi9saWIvX3N0cmVhbV9yZWFkYWJsZS5qcyI6MTUxLCIuL2xpYi9fc3RyZWFtX3RyYW5zZm9ybS5qcyI6MTUyLCIuL2xpYi9fc3RyZWFtX3dyaXRhYmxlLmpzIjoxNTN9XSwxNTY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewptb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoIi4vbGliL19zdHJlYW1fdHJhbnNmb3JtLmpzIikKCn0seyIuL2xpYi9fc3RyZWFtX3RyYW5zZm9ybS5qcyI6MTUyfV0sMTU3OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCIuL2xpYi9fc3RyZWFtX3dyaXRhYmxlLmpzIikKCn0seyIuL2xpYi9fc3RyZWFtX3dyaXRhYmxlLmpzIjoxNTN9XSwxNTg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7Ci8qCkNyeXB0b0pTIHYzLjEuMgpjb2RlLmdvb2dsZS5jb20vcC9jcnlwdG8tanMKKGMpIDIwMDktMjAxMyBieSBKZWZmIE1vdHQuIEFsbCByaWdodHMgcmVzZXJ2ZWQuCmNvZGUuZ29vZ2xlLmNvbS9wL2NyeXB0by1qcy93aWtpL0xpY2Vuc2UKKi8KLyoqIEBwcmVzZXJ2ZQooYykgMjAxMiBieSBDw6lkcmljIE1lc25pbC4gQWxsIHJpZ2h0cyByZXNlcnZlZC4KClJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDoKCiAgICAtIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci4KICAgIC0gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLgoKVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyAiQVMgSVMiIEFORCBBTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgSE9MREVSIE9SIENPTlRSSUJVVE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyAoSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUiBQUk9GSVRTOyBPUiBCVVNJTkVTUyBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVCAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRSBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS4KKi8KCi8vIGNvbnN0YW50cyB0YWJsZQp2YXIgemwgPSBbCiAgMCwgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMiwgMTMsIDE0LCAxNSwKICA3LCA0LCAxMywgMSwgMTAsIDYsIDE1LCAzLCAxMiwgMCwgOSwgNSwgMiwgMTQsIDExLCA4LAogIDMsIDEwLCAxNCwgNCwgOSwgMTUsIDgsIDEsIDIsIDcsIDAsIDYsIDEzLCAxMSwgNSwgMTIsCiAgMSwgOSwgMTEsIDEwLCAwLCA4LCAxMiwgNCwgMTMsIDMsIDcsIDE1LCAxNCwgNSwgNiwgMiwKICA0LCAwLCA1LCA5LCA3LCAxMiwgMiwgMTAsIDE0LCAxLCAzLCA4LCAxMSwgNiwgMTUsIDEzCl0KCnZhciB6ciA9IFsKICA1LCAxNCwgNywgMCwgOSwgMiwgMTEsIDQsIDEzLCA2LCAxNSwgOCwgMSwgMTAsIDMsIDEyLAogIDYsIDExLCAzLCA3LCAwLCAxMywgNSwgMTAsIDE0LCAxNSwgOCwgMTIsIDQsIDksIDEsIDIsCiAgMTUsIDUsIDEsIDMsIDcsIDE0LCA2LCA5LCAxMSwgOCwgMTIsIDIsIDEwLCAwLCA0LCAxMywKICA4LCA2LCA0LCAxLCAzLCAxMSwgMTUsIDAsIDUsIDEyLCAyLCAxMywgOSwgNywgMTAsIDE0LAogIDEyLCAxNSwgMTAsIDQsIDEsIDUsIDgsIDcsIDYsIDIsIDEzLCAxNCwgMCwgMywgOSwgMTEKXQoKdmFyIHNsID0gWwogIDExLCAxNCwgMTUsIDEyLCA1LCA4LCA3LCA5LCAxMSwgMTMsIDE0LCAxNSwgNiwgNywgOSwgOCwKICA3LCA2LCA4LCAxMywgMTEsIDksIDcsIDE1LCA3LCAxMiwgMTUsIDksIDExLCA3LCAxMywgMTIsCiAgMTEsIDEzLCA2LCA3LCAxNCwgOSwgMTMsIDE1LCAxNCwgOCwgMTMsIDYsIDUsIDEyLCA3LCA1LAogIDExLCAxMiwgMTQsIDE1LCAxNCwgMTUsIDksIDgsIDksIDE0LCA1LCA2LCA4LCA2LCA1LCAxMiwKICA5LCAxNSwgNSwgMTEsIDYsIDgsIDEzLCAxMiwgNSwgMTIsIDEzLCAxNCwgMTEsIDgsIDUsIDYKXQoKdmFyIHNyID0gWwogIDgsIDksIDksIDExLCAxMywgMTUsIDE1LCA1LCA3LCA3LCA4LCAxMSwgMTQsIDE0LCAxMiwgNiwKICA5LCAxMywgMTUsIDcsIDEyLCA4LCA5LCAxMSwgNywgNywgMTIsIDcsIDYsIDE1LCAxMywgMTEsCiAgOSwgNywgMTUsIDExLCA4LCA2LCA2LCAxNCwgMTIsIDEzLCA1LCAxNCwgMTMsIDEzLCA3LCA1LAogIDE1LCA1LCA4LCAxMSwgMTQsIDE0LCA2LCAxNCwgNiwgOSwgMTIsIDksIDEyLCA1LCAxNSwgOCwKICA4LCA1LCAxMiwgOSwgMTIsIDUsIDE0LCA2LCA4LCAxMywgNiwgNSwgMTUsIDEzLCAxMSwgMTEKXQoKdmFyIGhsID0gWzB4MDAwMDAwMDAsIDB4NUE4Mjc5OTksIDB4NkVEOUVCQTEsIDB4OEYxQkJDREMsIDB4QTk1M0ZENEVdCnZhciBociA9IFsweDUwQTI4QkU2LCAweDVDNEREMTI0LCAweDZENzAzRUYzLCAweDdBNkQ3NkU5LCAweDAwMDAwMDAwXQoKZnVuY3Rpb24gYnl0ZXNUb1dvcmRzIChieXRlcykgewogIHZhciB3b3JkcyA9IFtdCiAgZm9yICh2YXIgaSA9IDAsIGIgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyssIGIgKz0gOCkgewogICAgd29yZHNbYiA+Pj4gNV0gfD0gYnl0ZXNbaV0gPDwgKDI0IC0gYiAlIDMyKQogIH0KICByZXR1cm4gd29yZHMKfQoKZnVuY3Rpb24gd29yZHNUb0J5dGVzICh3b3JkcykgewogIHZhciBieXRlcyA9IFtdCiAgZm9yICh2YXIgYiA9IDA7IGIgPCB3b3Jkcy5sZW5ndGggKiAzMjsgYiArPSA4KSB7CiAgICBieXRlcy5wdXNoKCh3b3Jkc1tiID4+PiA1XSA+Pj4gKDI0IC0gYiAlIDMyKSkgJiAweEZGKQogIH0KICByZXR1cm4gYnl0ZXMKfQoKZnVuY3Rpb24gcHJvY2Vzc0Jsb2NrIChILCBNLCBvZmZzZXQpIHsKICAvLyBzd2FwIGVuZGlhbgogIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7IGkrKykgewogICAgdmFyIG9mZnNldF9pID0gb2Zmc2V0ICsgaQogICAgdmFyIE1fb2Zmc2V0X2kgPSBNW29mZnNldF9pXQoKICAgIC8vIFN3YXAKICAgIE1bb2Zmc2V0X2ldID0gKAogICAgICAoKChNX29mZnNldF9pIDw8IDgpIHwgKE1fb2Zmc2V0X2kgPj4+IDI0KSkgJiAweDAwZmYwMGZmKSB8CiAgICAgICgoKE1fb2Zmc2V0X2kgPDwgMjQpIHwgKE1fb2Zmc2V0X2kgPj4+IDgpKSAmIDB4ZmYwMGZmMDApCiAgICApCiAgfQoKICAvLyBXb3JraW5nIHZhcmlhYmxlcwogIHZhciBhbCwgYmwsIGNsLCBkbCwgZWwKICB2YXIgYXIsIGJyLCBjciwgZHIsIGVyCgogIGFyID0gYWwgPSBIWzBdCiAgYnIgPSBibCA9IEhbMV0KICBjciA9IGNsID0gSFsyXQogIGRyID0gZGwgPSBIWzNdCiAgZXIgPSBlbCA9IEhbNF0KCiAgLy8gY29tcHV0YXRpb24KICB2YXIgdAogIGZvciAoaSA9IDA7IGkgPCA4MDsgaSArPSAxKSB7CiAgICB0ID0gKGFsICsgTVtvZmZzZXQgKyB6bFtpXV0pIHwgMAogICAgaWYgKGkgPCAxNikgewogICAgICB0ICs9IGYxKGJsLCBjbCwgZGwpICsgaGxbMF0KICAgIH0gZWxzZSBpZiAoaSA8IDMyKSB7CiAgICAgIHQgKz0gZjIoYmwsIGNsLCBkbCkgKyBobFsxXQogICAgfSBlbHNlIGlmIChpIDwgNDgpIHsKICAgICAgdCArPSBmMyhibCwgY2wsIGRsKSArIGhsWzJdCiAgICB9IGVsc2UgaWYgKGkgPCA2NCkgewogICAgICB0ICs9IGY0KGJsLCBjbCwgZGwpICsgaGxbM10KICAgIH0gZWxzZSB7Ly8gaWYgKGk8ODApIHsKICAgICAgdCArPSBmNShibCwgY2wsIGRsKSArIGhsWzRdCiAgICB9CiAgICB0ID0gdCB8IDAKICAgIHQgPSByb3RsKHQsIHNsW2ldKQogICAgdCA9ICh0ICsgZWwpIHwgMAogICAgYWwgPSBlbAogICAgZWwgPSBkbAogICAgZGwgPSByb3RsKGNsLCAxMCkKICAgIGNsID0gYmwKICAgIGJsID0gdAoKICAgIHQgPSAoYXIgKyBNW29mZnNldCArIHpyW2ldXSkgfCAwCiAgICBpZiAoaSA8IDE2KSB7CiAgICAgIHQgKz0gZjUoYnIsIGNyLCBkcikgKyBoclswXQogICAgfSBlbHNlIGlmIChpIDwgMzIpIHsKICAgICAgdCArPSBmNChiciwgY3IsIGRyKSArIGhyWzFdCiAgICB9IGVsc2UgaWYgKGkgPCA0OCkgewogICAgICB0ICs9IGYzKGJyLCBjciwgZHIpICsgaHJbMl0KICAgIH0gZWxzZSBpZiAoaSA8IDY0KSB7CiAgICAgIHQgKz0gZjIoYnIsIGNyLCBkcikgKyBoclszXQogICAgfSBlbHNlIHsvLyBpZiAoaTw4MCkgewogICAgICB0ICs9IGYxKGJyLCBjciwgZHIpICsgaHJbNF0KICAgIH0KCiAgICB0ID0gdCB8IDAKICAgIHQgPSByb3RsKHQsIHNyW2ldKQogICAgdCA9ICh0ICsgZXIpIHwgMAogICAgYXIgPSBlcgogICAgZXIgPSBkcgogICAgZHIgPSByb3RsKGNyLCAxMCkKICAgIGNyID0gYnIKICAgIGJyID0gdAogIH0KCiAgLy8gaW50ZXJtZWRpYXRlIGhhc2ggdmFsdWUKICB0ID0gKEhbMV0gKyBjbCArIGRyKSB8IDAKICBIWzFdID0gKEhbMl0gKyBkbCArIGVyKSB8IDAKICBIWzJdID0gKEhbM10gKyBlbCArIGFyKSB8IDAKICBIWzNdID0gKEhbNF0gKyBhbCArIGJyKSB8IDAKICBIWzRdID0gKEhbMF0gKyBibCArIGNyKSB8IDAKICBIWzBdID0gdAp9CgpmdW5jdGlvbiBmMSAoeCwgeSwgeikgewogIHJldHVybiAoKHgpIF4gKHkpIF4gKHopKQp9CgpmdW5jdGlvbiBmMiAoeCwgeSwgeikgewogIHJldHVybiAoKCh4KSAmICh5KSkgfCAoKH54KSAmICh6KSkpCn0KCmZ1bmN0aW9uIGYzICh4LCB5LCB6KSB7CiAgcmV0dXJuICgoKHgpIHwgKH4oeSkpKSBeICh6KSkKfQoKZnVuY3Rpb24gZjQgKHgsIHksIHopIHsKICByZXR1cm4gKCgoeCkgJiAoeikpIHwgKCh5KSAmICh+KHopKSkpCn0KCmZ1bmN0aW9uIGY1ICh4LCB5LCB6KSB7CiAgcmV0dXJuICgoeCkgXiAoKHkpIHwgKH4oeikpKSkKfQoKZnVuY3Rpb24gcm90bCAoeCwgbikgewogIHJldHVybiAoeCA8PCBuKSB8ICh4ID4+PiAoMzIgLSBuKSkKfQoKZnVuY3Rpb24gcmlwZW1kMTYwIChtZXNzYWdlKSB7CiAgdmFyIEggPSBbMHg2NzQ1MjMwMSwgMHhFRkNEQUI4OSwgMHg5OEJBRENGRSwgMHgxMDMyNTQ3NiwgMHhDM0QyRTFGMF0KCiAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSAnc3RyaW5nJykgewogICAgbWVzc2FnZSA9IG5ldyBCdWZmZXIobWVzc2FnZSwgJ3V0ZjgnKQogIH0KCiAgdmFyIG0gPSBieXRlc1RvV29yZHMobWVzc2FnZSkKCiAgdmFyIG5CaXRzTGVmdCA9IG1lc3NhZ2UubGVuZ3RoICogOAogIHZhciBuQml0c1RvdGFsID0gbWVzc2FnZS5sZW5ndGggKiA4CgogIC8vIEFkZCBwYWRkaW5nCiAgbVtuQml0c0xlZnQgPj4+IDVdIHw9IDB4ODAgPDwgKDI0IC0gbkJpdHNMZWZ0ICUgMzIpCiAgbVsoKChuQml0c0xlZnQgKyA2NCkgPj4+IDkpIDw8IDQpICsgMTRdID0gKAogICAgKCgobkJpdHNUb3RhbCA8PCA4KSB8IChuQml0c1RvdGFsID4+PiAyNCkpICYgMHgwMGZmMDBmZikgfAogICAgKCgobkJpdHNUb3RhbCA8PCAyNCkgfCAobkJpdHNUb3RhbCA+Pj4gOCkpICYgMHhmZjAwZmYwMCkKICApCgogIGZvciAodmFyIGkgPSAwOyBpIDwgbS5sZW5ndGg7IGkgKz0gMTYpIHsKICAgIHByb2Nlc3NCbG9jayhILCBtLCBpKQogIH0KCiAgLy8gc3dhcCBlbmRpYW4KICBmb3IgKGkgPSAwOyBpIDwgNTsgaSsrKSB7CiAgICAvLyBzaG9ydGN1dAogICAgdmFyIEhfaSA9IEhbaV0KCiAgICAvLyBTd2FwCiAgICBIW2ldID0gKCgoSF9pIDw8IDgpIHwgKEhfaSA+Pj4gMjQpKSAmIDB4MDBmZjAwZmYpIHwKICAgICAgKCgoSF9pIDw8IDI0KSB8IChIX2kgPj4+IDgpKSAmIDB4ZmYwMGZmMDApCiAgfQoKICB2YXIgZGlnZXN0Ynl0ZXMgPSB3b3Jkc1RvQnl0ZXMoSCkKICByZXR1cm4gbmV3IEJ1ZmZlcihkaWdlc3RieXRlcykKfQoKbW9kdWxlLmV4cG9ydHMgPSByaXBlbWQxNjAKCn0pLmNhbGwodGhpcyxyZXF1aXJlKCJidWZmZXIiKS5CdWZmZXIpCn0seyJidWZmZXIiOjc2fV0sMTU5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewovKioKKiBDb3B5cmlnaHQgMjAxNiBQVCBJbm92YcOnw6NvIGUgU2lzdGVtYXMgU0EKKiBDb3B5cmlnaHQgMjAxNiBJTkVTQy1JRAoqIENvcHlyaWdodCAyMDE2IFFVT0JJUyBORVRXT1JLUyBTTAoqIENvcHlyaWdodCAyMDE2IEZSQVVOSE9GRVItR0VTRUxMU0NIQUZUIFpVUiBGT0VSREVSVU5HIERFUiBBTkdFV0FORFRFTiBGT1JTQ0hVTkcgRS5WCiogQ29weXJpZ2h0IDIwMTYgT1JBTkdFIFNBCiogQ29weXJpZ2h0IDIwMTYgRGV1dHNjaGUgVGVsZWtvbSBBRwoqIENvcHlyaWdodCAyMDE2IEFwaXplZQoqIENvcHlyaWdodCAyMDE2IFRFQ0hOSVNDSEUgVU5JVkVSU0lUQVQgQkVSTElOCioKKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CioKKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoqCiogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCiogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqKi8KCi8vIERpc3RyaWJ1dGlvbiBmaWxlIGZvciBSdW50aW1lQ2F0YWxvZ3VlLmpzIAovLyB2ZXJzaW9uOiAwLjEuMAoKIWZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmInVuZGVmaW5lZCIhPXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9ZSgpO2Vsc2UgaWYoImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZSk7ZWxzZXt2YXIgdDt0PSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6dGhpcyx0LlJ1bnRpbWVDYXRhbG9ndWU9ZSgpfX0oZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZnVuY3Rpb24gdChlLHIsbil7ZnVuY3Rpb24gaShhLHMpe2lmKCFyW2FdKXtpZighZVthXSl7dmFyIGM9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIXMmJmMpcmV0dXJuIGMoYSwhMCk7aWYobylyZXR1cm4gbyhhLCEwKTt2YXIgdT1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIithKyInIik7dGhyb3cgdS5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIix1fXZhciBsPXJbYV09e2V4cG9ydHM6e319O2VbYV1bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24odCl7dmFyIHI9ZVthXVsxXVt0XTtyZXR1cm4gaShyP3I6dCl9LGwsbC5leHBvcnRzLHQsZSxyLG4pfXJldHVybiByW2FdLmV4cG9ydHN9Zm9yKHZhciBvPSJmdW5jdGlvbiI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGE9MDthPG4ubGVuZ3RoO2ErKylpKG5bYV0pO3JldHVybiBpfSh7MTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvY3JlYXRlIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiOjE4fV0sMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5IiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiOjE5fV0sMzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjIwfV0sNDpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6MjF9XSw1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjoyMn1dLDY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9wcm9taXNlIjoyM31dLDc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCI6MjR9XSw4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvciIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3IiOjI1fV0sOTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL2NsYXNzQ2FsbENoZWNrLmpzIil9LHsiLi9jbGFzc0NhbGxDaGVjay5qcyI6MTB9XSwxMDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sMTE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9jcmVhdGVDbGFzcy5qcyIpfSx7Ii4vY3JlYXRlQ2xhc3MuanMiOjEyfV0sMTI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIGk9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxvPW4oaSk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksKDAsb1siZGVmYXVsdCJdKShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKX0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6Mn1dLDEzOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBpPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLG89bihpKSxhPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIikscz1uKGEpO3JbImRlZmF1bHQiXT1mdW5jdGlvbiBjKGUsdCxyKXtudWxsPT09ZSYmKGU9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgbj0oMCxzWyJkZWZhdWx0Il0pKGUsdCk7aWYodm9pZCAwPT09bil7dmFyIGk9KDAsb1siZGVmYXVsdCJdKShlKTtyZXR1cm4gbnVsbD09PWk/dm9pZCAwOmMoaSx0LHIpfWlmKCJ2YWx1ZSJpbiBuKXJldHVybiBuLnZhbHVlO3ZhciBhPW4uZ2V0O2lmKHZvaWQgMCE9PWEpcmV0dXJuIGEuY2FsbChyKX19LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjMsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NH1dLDE0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBpPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLG89bihpKSxhPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIikscz1uKGEpLGM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZiIpLHU9bihjKTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiKygidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsdVsiZGVmYXVsdCJdKSh0KSkpO2UucHJvdG90eXBlPSgwLHNbImRlZmF1bHQiXSkodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihvWyJkZWZhdWx0Il0/KDAsb1siZGVmYXVsdCJdKShlLHQpOmUuX19wcm90b19fPXQpfX0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSI6MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjo1LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mIjoxN31dLDE1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIil9LHsiLi9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiOjE2fV0sMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX19LHt9XSwxNzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgaT1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yIiksbz1uKGkpLGE9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbCIpLHM9bihhKSxjPSJmdW5jdGlvbiI9PXR5cGVvZiBzWyJkZWZhdWx0Il0mJiJzeW1ib2wiPT10eXBlb2Ygb1siZGVmYXVsdCJdP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBzWyJkZWZhdWx0Il0mJmUuY29uc3RydWN0b3I9PT1zWyJkZWZhdWx0Il0/InN5bWJvbCI6dHlwZW9mIGV9O3JbImRlZmF1bHQiXT0iZnVuY3Rpb24iPT10eXBlb2Ygc1siZGVmYXVsdCJdJiYic3ltYm9sIj09PWMob1siZGVmYXVsdCJdKT9mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGU/InVuZGVmaW5lZCI6YyhlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBzWyJkZWZhdWx0Il0mJmUuY29uc3RydWN0b3I9PT1zWyJkZWZhdWx0Il0/InN5bWJvbCI6InVuZGVmaW5lZCI9PXR5cGVvZiBlPyJ1bmRlZmluZWQiOmMoZSl9fSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiOjcsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IiOjh9XSwxODpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5jcmVhdGUiKTt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNyZWF0ZShlLHQpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozMywiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZSI6OTZ9XSwxOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozMywiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6OTd9XSwyMDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKTt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozMywiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6OTh9XSwyMTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3QuZ2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzMsIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtcHJvdG90eXBlLW9mIjo5OX1dLDIyOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLk9iamVjdC5zZXRQcm90b3R5cGVPZn0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozMywiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnNldC1wcm90b3R5cGUtb2YiOjEwMH1dLDIzOltmdW5jdGlvbihlLHQscil7ZSgiLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyIpLGUoIi4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLGUoIi4uL21vZHVsZXMvZXM2LnByb21pc2UiKSx0LmV4cG9ydHM9ZSgiLi4vbW9kdWxlcy9fY29yZSIpLlByb21pc2V9LHsiLi4vbW9kdWxlcy9fY29yZSI6MzMsIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjEwMSwiLi4vbW9kdWxlcy9lczYucHJvbWlzZSI6MTAyLCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjEwMywiLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjoxMDV9XSwyNDpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN5bWJvbCIpLGUoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSx0LmV4cG9ydHM9ZSgiLi4vLi4vbW9kdWxlcy9fY29yZSIpLlN5bWJvbH0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozMywiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LnRvLXN0cmluZyI6MTAxLCIuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wiOjEwNH1dLDI1OltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIiksZSgiLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX3drcyIpKCJpdGVyYXRvciIpfSx7Ii4uLy4uL21vZHVsZXMvX3drcyI6OTMsIi4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciI6MTAzLCIuLi8uLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiOjEwNX1dLDI2OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgZnVuY3Rpb24hIik7cmV0dXJuIGV9fSx7fV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSx7fV0sMjg6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbil7aWYoIShlIGluc3RhbmNlb2YgdCl8fHZvaWQgMCE9PW4mJm4gaW4gZSl0aHJvdyBUeXBlRXJyb3IocisiOiBpbmNvcnJlY3QgaW52b2NhdGlvbiEiKTtyZXR1cm4gZX19LHt9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighbihlKSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhbiBvYmplY3QhIik7cmV0dXJuIGV9fSx7Ii4vX2lzLW9iamVjdCI6NTJ9XSwzMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWlvYmplY3QiKSxpPWUoIi4vX3RvLWxlbmd0aCIpLG89ZSgiLi9fdG8taW5kZXgiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscixhKXt2YXIgcyxjPW4odCksdT1pKGMubGVuZ3RoKSxsPW8oYSx1KTtpZihlJiZyIT1yKXtmb3IoO3U+bDspaWYocz1jW2wrK10scyE9cylyZXR1cm4hMH1lbHNlIGZvcig7dT5sO2wrKylpZigoZXx8bCBpbiBjKSYmY1tsXT09PXIpcmV0dXJuIGV8fGw7cmV0dXJuIWUmJi0xfX19LHsiLi9fdG8taW5kZXgiOjg2LCIuL190by1pb2JqZWN0Ijo4OCwiLi9fdG8tbGVuZ3RoIjo4OX1dLDMxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY29mIiksaT1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKSxvPSJBcmd1bWVudHMiPT1uKGZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50c30oKSksYT1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChyKXt9fTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQscixzO3JldHVybiB2b2lkIDA9PT1lPyJVbmRlZmluZWQiOm51bGw9PT1lPyJOdWxsIjoic3RyaW5nIj09dHlwZW9mKHI9YSh0PU9iamVjdChlKSxpKSk/cjpvP24odCk6Ik9iamVjdCI9PShzPW4odCkpJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5jYWxsZWU/IkFyZ3VtZW50cyI6c319LHsiLi9fY29mIjozMiwiLi9fd2tzIjo5M31dLDMyOltmdW5jdGlvbihlLHQscil7dmFyIG49e30udG9TdHJpbmc7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSx7fV0sMzM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9e3ZlcnNpb246IjIuMi4xIn07Im51bWJlciI9PXR5cGVvZiBfX2UmJihfX2U9bil9LHt9XSwzNDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2EtZnVuY3Rpb24iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2lmKG4oZSksdm9pZCAwPT09dClyZXR1cm4gZTtzd2l0Y2gocil7Y2FzZSAxOnJldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZS5jYWxsKHQscil9O2Nhc2UgMjpyZXR1cm4gZnVuY3Rpb24ocixuKXtyZXR1cm4gZS5jYWxsKHQscixuKX07Y2FzZSAzOnJldHVybiBmdW5jdGlvbihyLG4saSl7cmV0dXJuIGUuY2FsbCh0LHIsbixpKX19cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGUuYXBwbHkodCxhcmd1bWVudHMpfX19LHsiLi9fYS1mdW5jdGlvbiI6MjZ9XSwzNTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZih2b2lkIDA9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAgIitlKTtyZXR1cm4gZX19LHt9XSwzNjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZmFpbHMiKShmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZmFpbHMiOjQxfV0sMzc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKSxpPWUoIi4vX2dsb2JhbCIpLmRvY3VtZW50LG89bihpKSYmbihpLmNyZWF0ZUVsZW1lbnQpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbz9pLmNyZWF0ZUVsZW1lbnQoZSk6e319fSx7Ii4vX2dsb2JhbCI6NDMsIi4vX2lzLW9iamVjdCI6NTJ9XSwzODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0iY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mIi5zcGxpdCgiLCIpfSx7fV0sMzk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3Qta2V5cyIpLGk9ZSgiLi9fb2JqZWN0LWdvcHMiKSxvPWUoIi4vX29iamVjdC1waWUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9bihlKSxyPWkuZjtpZihyKWZvcih2YXIgYSxzPXIoZSksYz1vLmYsdT0wO3MubGVuZ3RoPnU7KWMuY2FsbChlLGE9c1t1KytdKSYmdC5wdXNoKGEpO3JldHVybiB0fX0seyIuL19vYmplY3QtZ29wcyI6NjksIi4vX29iamVjdC1rZXlzIjo3MiwiLi9fb2JqZWN0LXBpZSI6NzN9XSw0MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2dsb2JhbCIpLGk9ZSgiLi9fY29yZSIpLG89ZSgiLi9fY3R4IiksYT1lKCIuL19oaWRlIikscz0icHJvdG90eXBlIixjPWZ1bmN0aW9uKGUsdCxyKXt2YXIgdSxsLGYscD1lJmMuRixoPWUmYy5HLGQ9ZSZjLlMseT1lJmMuUCxfPWUmYy5CLG09ZSZjLlcsYj1oP2k6aVt0XXx8KGlbdF09e30pLHY9YltzXSxnPWg/bjpkP25bdF06KG5bdF18fHt9KVtzXTtoJiYocj10KTtmb3IodSBpbiByKWw9IXAmJmcmJnZvaWQgMCE9PWdbdV0sbCYmdSBpbiBifHwoZj1sP2dbdV06clt1XSxiW3VdPWgmJiJmdW5jdGlvbiIhPXR5cGVvZiBnW3VdP3JbdV06XyYmbD9vKGYsbik6bSYmZ1t1XT09Zj9mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbih0LHIsbil7aWYodGhpcyBpbnN0YW5jZW9mIGUpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyBlO2Nhc2UgMTpyZXR1cm4gbmV3IGUodCk7Y2FzZSAyOnJldHVybiBuZXcgZSh0LHIpfXJldHVybiBuZXcgZSh0LHIsbil9cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gdFtzXT1lW3NdLHR9KGYpOnkmJiJmdW5jdGlvbiI9PXR5cGVvZiBmP28oRnVuY3Rpb24uY2FsbCxmKTpmLHkmJigoYi52aXJ0dWFsfHwoYi52aXJ0dWFsPXt9KSlbdV09ZixlJmMuUiYmdiYmIXZbdV0mJmEodix1LGYpKSl9O2MuRj0xLGMuRz0yLGMuUz00LGMuUD04LGMuQj0xNixjLlc9MzIsYy5VPTY0LGMuUj0xMjgsdC5leHBvcnRzPWN9LHsiLi9fY29yZSI6MzMsIi4vX2N0eCI6MzQsIi4vX2dsb2JhbCI6NDMsIi4vX2hpZGUiOjQ1fV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiEhZSgpfWNhdGNoKHQpe3JldHVybiEwfX19LHt9XSw0MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2N0eCIpLGk9ZSgiLi9faXRlci1jYWxsIiksbz1lKCIuL19pcy1hcnJheS1pdGVyIiksYT1lKCIuL19hbi1vYmplY3QiKSxzPWUoIi4vX3RvLWxlbmd0aCIpLGM9ZSgiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdSxsKXt2YXIgZixwLGgsZD1sP2Z1bmN0aW9uKCl7cmV0dXJuIGV9OmMoZSkseT1uKHIsdSx0PzI6MSksXz0wO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBkKXRocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGl0ZXJhYmxlISIpO2lmKG8oZCkpZm9yKGY9cyhlLmxlbmd0aCk7Zj5fO18rKyl0P3koYShwPWVbX10pWzBdLHBbMV0pOnkoZVtfXSk7ZWxzZSBmb3IoaD1kLmNhbGwoZSk7IShwPWgubmV4dCgpKS5kb25lOylpKGgseSxwLnZhbHVlLHQpfX0seyIuL19hbi1vYmplY3QiOjI5LCIuL19jdHgiOjM0LCIuL19pcy1hcnJheS1pdGVyIjo1MCwiLi9faXRlci1jYWxsIjo1MywiLi9fdG8tbGVuZ3RoIjo4OSwiLi9jb3JlLmdldC1pdGVyYXRvci1tZXRob2QiOjk0fV0sNDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj10LmV4cG9ydHM9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5NYXRoPT1NYXRoP3dpbmRvdzoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGYmJnNlbGYuTWF0aD09TWF0aD9zZWxmOkZ1bmN0aW9uKCJyZXR1cm4gdGhpcyIpKCk7Im51bWJlciI9PXR5cGVvZiBfX2cmJihfX2c9bil9LHt9XSw0NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9Lmhhc093blByb3BlcnR5O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmNhbGwoZSx0KX19LHt9XSw0NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1kcCIpLGk9ZSgiLi9fcHJvcGVydHktZGVzYyIpO3QuZXhwb3J0cz1lKCIuL19kZXNjcmlwdG9ycyIpP2Z1bmN0aW9uKGUsdCxyKXtyZXR1cm4gbi5mKGUsdCxpKDEscikpfTpmdW5jdGlvbihlLHQscil7cmV0dXJuIGVbdF09cixlfX0seyIuL19kZXNjcmlwdG9ycyI6MzYsIi4vX29iamVjdC1kcCI6NjQsIi4vX3Byb3BlcnR5LWRlc2MiOjc1fV0sNDY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9fZ2xvYmFsIikuZG9jdW1lbnQmJmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH0seyIuL19nbG9iYWwiOjQzfV0sNDc6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2Rlc2NyaXB0b3JzIikmJiFlKCIuL19mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIDchPU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlKCIuL19kb20tY3JlYXRlIikoImRpdiIpLCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2Rlc2NyaXB0b3JzIjozNiwiLi9fZG9tLWNyZWF0ZSI6MzcsIi4vX2ZhaWxzIjo0MX1dLDQ4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbj12b2lkIDA9PT1yO3N3aXRjaCh0Lmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuP2UoKTplLmNhbGwocik7Y2FzZSAxOnJldHVybiBuP2UodFswXSk6ZS5jYWxsKHIsdFswXSk7Y2FzZSAyOnJldHVybiBuP2UodFswXSx0WzFdKTplLmNhbGwocix0WzBdLHRbMV0pO2Nhc2UgMzpyZXR1cm4gbj9lKHRbMF0sdFsxXSx0WzJdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSk7Y2FzZSA0OnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0sdFszXSk6ZS5jYWxsKHIsdFswXSx0WzFdLHRbMl0sdFszXSl9cmV0dXJuIGUuYXBwbHkocix0KX19LHt9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2NvZiIpO3QuZXhwb3J0cz1PYmplY3QoInoiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKT9PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PW4oZSk/ZS5zcGxpdCgiIik6T2JqZWN0KGUpfX0seyIuL19jb2YiOjMyfV0sNTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pdGVyYXRvcnMiKSxpPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLG89QXJyYXkucHJvdG90eXBlO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKG4uQXJyYXk9PT1lfHxvW2ldPT09ZSl9fSx7Ii4vX2l0ZXJhdG9ycyI6NTgsIi4vX3drcyI6OTN9XSw1MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2NvZiIpO3QuZXhwb3J0cz1BcnJheS5pc0FycmF5fHxmdW5jdGlvbihlKXtyZXR1cm4iQXJyYXkiPT1uKGUpfX0seyIuL19jb2YiOjMyfV0sNTI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIm9iamVjdCI9PXR5cGVvZiBlP251bGwhPT1lOiJmdW5jdGlvbiI9PXR5cGVvZiBlfX0se31dLDUzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fYW4tb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGkpe3RyeXtyZXR1cm4gaT90KG4ocilbMF0sclsxXSk6dChyKX1jYXRjaChvKXt2YXIgYT1lWyJyZXR1cm4iXTt0aHJvdyB2b2lkIDAhPT1hJiZuKGEuY2FsbChlKSksb319fSx7Ii4vX2FuLW9iamVjdCI6Mjl9XSw1NDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19vYmplY3QtY3JlYXRlIiksaT1lKCIuL19wcm9wZXJ0eS1kZXNjIiksbz1lKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLGE9e307ZSgiLi9faGlkZSIpKGEsZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLHQuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7ZS5wcm90b3R5cGU9bihhLHtuZXh0OmkoMSxyKX0pLG8oZSx0KyIgSXRlcmF0b3IiKX19LHsiLi9faGlkZSI6NDUsIi4vX29iamVjdC1jcmVhdGUiOjYzLCIuL19wcm9wZXJ0eS1kZXNjIjo3NSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgwLCIuL193a3MiOjkzfV0sNTU6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fbGlicmFyeSIpLGk9ZSgiLi9fZXhwb3J0Iiksbz1lKCIuL19yZWRlZmluZSIpLGE9ZSgiLi9faGlkZSIpLHM9ZSgiLi9faGFzIiksYz1lKCIuL19pdGVyYXRvcnMiKSx1PWUoIi4vX2l0ZXItY3JlYXRlIiksbD1lKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpLGY9ZSgiLi9fb2JqZWN0LWdwbyIpLHA9ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaD0hKFtdLmtleXMmJiJuZXh0ImluW10ua2V5cygpKSxkPSJAQGl0ZXJhdG9yIix5PSJrZXlzIixfPSJ2YWx1ZXMiLG09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGIsdixnLGope3Uocix0LGIpO3ZhciBPLEUsUCxrPWZ1bmN0aW9uKGUpe2lmKCFoJiZlIGluIHgpcmV0dXJuIHhbZV07c3dpdGNoKGUpe2Nhc2UgeTpyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX07Y2FzZSBfOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHIodGhpcyxlKX19LFM9dCsiIEl0ZXJhdG9yIix3PXY9PV8sUj0hMSx4PWUucHJvdG90eXBlLE09eFtwXXx8eFtkXXx8diYmeFt2XSxBPU18fGsodiksVD12P3c/aygiZW50cmllcyIpOkE6dm9pZCAwLE49IkFycmF5Ij09dD94LmVudHJpZXN8fE06TTtpZihOJiYoUD1mKE4uY2FsbChuZXcgZSkpLFAhPT1PYmplY3QucHJvdG90eXBlJiYobChQLFMsITApLG58fHMoUCxwKXx8YShQLHAsbSkpKSx3JiZNJiZNLm5hbWUhPT1fJiYoUj0hMCxBPWZ1bmN0aW9uKCl7cmV0dXJuIE0uY2FsbCh0aGlzKX0pLG4mJiFqfHwhaCYmIVImJnhbcF18fGEoeCxwLEEpLGNbdF09QSxjW1NdPW0sdilpZihPPXt2YWx1ZXM6dz9BOmsoXyksa2V5czpnP0E6ayh5KSxlbnRyaWVzOlR9LGopZm9yKEUgaW4gTylFIGluIHh8fG8oeCxFLE9bRV0pO2Vsc2UgaShpLlAraS5GKihofHxSKSx0LE8pO3JldHVybiBPfX0seyIuL19leHBvcnQiOjQwLCIuL19oYXMiOjQ0LCIuL19oaWRlIjo0NSwiLi9faXRlci1jcmVhdGUiOjU0LCIuL19pdGVyYXRvcnMiOjU4LCIuL19saWJyYXJ5Ijo2MCwiLi9fb2JqZWN0LWdwbyI6NzAsIi4vX3JlZGVmaW5lIjo3NywiLi9fc2V0LXRvLXN0cmluZy10YWciOjgwLCIuL193a3MiOjkzfV0sNTY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPSExO3RyeXt2YXIgbz1bN11bbl0oKTtvWyJyZXR1cm4iXT1mdW5jdGlvbigpe2k9ITB9LEFycmF5LmZyb20obyxmdW5jdGlvbigpe3Rocm93IDJ9KX1jYXRjaChhKXt9dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7aWYoIXQmJiFpKXJldHVybiExO3ZhciByPSExO3RyeXt2YXIgbz1bN10sYT1vW25dKCk7YS5uZXh0PWZ1bmN0aW9uKCl7cj0hMH0sb1tuXT1mdW5jdGlvbigpe3JldHVybiBhfSxlKG8pfWNhdGNoKHMpe31yZXR1cm4gcn19LHsiLi9fd2tzIjo5M31dLDU3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue3ZhbHVlOnQsZG9uZTohIWV9fX0se31dLDU4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXt9fSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3Qta2V5cyIpLGk9ZSgiLi9fdG8taW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcixvPWkoZSksYT1uKG8pLHM9YS5sZW5ndGgsYz0wO3M+YzspaWYob1tyPWFbYysrXV09PT10KXJldHVybiByfX0seyIuL19vYmplY3Qta2V5cyI6NzIsIi4vX3RvLWlvYmplY3QiOjg4fV0sNjA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ITB9LHt9XSw2MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3VpZCIpKCJtZXRhIiksaT1lKCIuL19pcy1vYmplY3QiKSxvPWUoIi4vX2hhcyIpLGE9ZSgiLi9fb2JqZWN0LWRwIikuZixzPTAsYz1PYmplY3QuaXNFeHRlbnNpYmxlfHxmdW5jdGlvbigpe3JldHVybiEwfSx1PSFlKCIuL19mYWlscyIpKGZ1bmN0aW9uKCl7cmV0dXJuIGMoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KSxsPWZ1bmN0aW9uKGUpe2EoZSxuLHt2YWx1ZTp7aToiTyIrICsrcyx3Ont9fX0pfSxmPWZ1bmN0aW9uKGUsdCl7aWYoIWkoZSkpcmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlP2U6KCJzdHJpbmciPT10eXBlb2YgZT8iUyI6IlAiKStlO2lmKCFvKGUsbikpe2lmKCFjKGUpKXJldHVybiJGIjtpZighdClyZXR1cm4iRSI7bChlKX1yZXR1cm4gZVtuXS5pfSxwPWZ1bmN0aW9uKGUsdCl7aWYoIW8oZSxuKSl7aWYoIWMoZSkpcmV0dXJuITA7aWYoIXQpcmV0dXJuITE7bChlKX1yZXR1cm4gZVtuXS53fSxoPWZ1bmN0aW9uKGUpe3JldHVybiB1JiZkLk5FRUQmJmMoZSkmJiFvKGUsbikmJmwoZSksZX0sZD10LmV4cG9ydHM9e0tFWTpuLE5FRUQ6ITEsZmFzdEtleTpmLGdldFdlYWs6cCxvbkZyZWV6ZTpofX0seyIuL19mYWlscyI6NDEsIi4vX2hhcyI6NDQsIi4vX2lzLW9iamVjdCI6NTIsIi4vX29iamVjdC1kcCI6NjQsIi4vX3VpZCI6OTJ9XSw2MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLGksbyxhPWUoIi4vX2dsb2JhbCIpLHM9ZSgiLi9fdGFzayIpLnNldCxjPWEuTXV0YXRpb25PYnNlcnZlcnx8YS5XZWJLaXRNdXRhdGlvbk9ic2VydmVyLHU9YS5wcm9jZXNzLGw9YS5Qcm9taXNlLGY9InByb2Nlc3MiPT1lKCIuL19jb2YiKSh1KSxwPWZ1bmN0aW9uKCl7dmFyIGUsdDtmb3IoZiYmKGU9dS5kb21haW4pJiZlLmV4aXQoKTtuOyl0PW4uZm4sdCgpLG49bi5uZXh0O2k9dm9pZCAwLGUmJmUuZW50ZXIoKX07aWYoZilvPWZ1bmN0aW9uKCl7dS5uZXh0VGljayhwKX07ZWxzZSBpZihjKXt2YXIgaD0hMCxkPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTtuZXcgYyhwKS5vYnNlcnZlKGQse2NoYXJhY3RlckRhdGE6ITB9KSxvPWZ1bmN0aW9uKCl7ZC5kYXRhPWg9IWh9fWVsc2Ugbz1sJiZsLnJlc29sdmU/ZnVuY3Rpb24oKXtsLnJlc29sdmUoKS50aGVuKHApfTpmdW5jdGlvbigpe3MuY2FsbChhLHApfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHQ9e2ZuOmUsbmV4dDp2b2lkIDB9O2kmJihpLm5leHQ9dCksbnx8KG49dCxvKCkpLGk9dH19LHsiLi9fY29mIjozMiwiLi9fZ2xvYmFsIjo0MywiLi9fdGFzayI6ODV9XSw2MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpLGk9ZSgiLi9fb2JqZWN0LWRwcyIpLG89ZSgiLi9fZW51bS1idWcta2V5cyIpLGE9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpLHM9ZnVuY3Rpb24oKXt9LGM9InByb3RvdHlwZSIsdT1mdW5jdGlvbigpe3ZhciB0LHI9ZSgiLi9fZG9tLWNyZWF0ZSIpKCJpZnJhbWUiKSxuPW8ubGVuZ3RoLGk9Ij4iO2ZvcihyLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGUoIi4vX2h0bWwiKS5hcHBlbmRDaGlsZChyKSxyLnNyYz0iamF2YXNjcmlwdDoiLHQ9ci5jb250ZW50V2luZG93LmRvY3VtZW50LHQub3BlbigpLHQud3JpdGUoIjxzY3JpcHQ+ZG9jdW1lbnQuRj1PYmplY3Q8L3NjcmlwdCIraSksdC5jbG9zZSgpLHU9dC5GO24tLTspZGVsZXRlIHVbY11bb1tuXV07cmV0dXJuIHUoKX07dC5leHBvcnRzPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGUsdCl7dmFyIHI7cmV0dXJuIG51bGwhPT1lPyhzW2NdPW4oZSkscj1uZXcgcyxzW2NdPW51bGwsclthXT1lKTpyPXUoKSx2b2lkIDA9PT10P3I6aShyLHQpfX0seyIuL19hbi1vYmplY3QiOjI5LCIuL19kb20tY3JlYXRlIjozNywiLi9fZW51bS1idWcta2V5cyI6MzgsIi4vX2h0bWwiOjQ2LCIuL19vYmplY3QtZHBzIjo2NSwiLi9fc2hhcmVkLWtleSI6ODF9XSw2NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpLGk9ZSgiLi9faWU4LWRvbS1kZWZpbmUiKSxvPWUoIi4vX3RvLXByaW1pdGl2ZSIpLGE9T2JqZWN0LmRlZmluZVByb3BlcnR5O3IuZj1lKCIuL19kZXNjcmlwdG9ycyIpP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihlLHQscil7aWYobihlKSx0PW8odCwhMCksbihyKSxpKXRyeXtyZXR1cm4gYShlLHQscil9Y2F0Y2gocyl7fWlmKCJnZXQiaW4gcnx8InNldCJpbiByKXRocm93IFR5cGVFcnJvcigiQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhIik7cmV0dXJuInZhbHVlImluIHImJihlW3RdPXIudmFsdWUpLGV9fSx7Ii4vX2FuLW9iamVjdCI6MjksIi4vX2Rlc2NyaXB0b3JzIjozNiwiLi9faWU4LWRvbS1kZWZpbmUiOjQ3LCIuL190by1wcmltaXRpdmUiOjkxfV0sNjU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3QtZHAiKSxpPWUoIi4vX2FuLW9iamVjdCIpLG89ZSgiLi9fb2JqZWN0LWtleXMiKTt0LmV4cG9ydHM9ZSgiLi9fZGVzY3JpcHRvcnMiKT9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbihlLHQpe2koZSk7Zm9yKHZhciByLGE9byh0KSxzPWEubGVuZ3RoLGM9MDtzPmM7KW4uZihlLHI9YVtjKytdLHRbcl0pO3JldHVybiBlfX0seyIuL19hbi1vYmplY3QiOjI5LCIuL19kZXNjcmlwdG9ycyI6MzYsIi4vX29iamVjdC1kcCI6NjQsIi4vX29iamVjdC1rZXlzIjo3Mn1dLDY2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LXBpZSIpLGk9ZSgiLi9fcHJvcGVydHktZGVzYyIpLG89ZSgiLi9fdG8taW9iamVjdCIpLGE9ZSgiLi9fdG8tcHJpbWl0aXZlIikscz1lKCIuL19oYXMiKSxjPWUoIi4vX2llOC1kb20tZGVmaW5lIiksdT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO3IuZj1lKCIuL19kZXNjcmlwdG9ycyIpP3U6ZnVuY3Rpb24oZSx0KXtpZihlPW8oZSksdD1hKHQsITApLGMpdHJ5e3JldHVybiB1KGUsdCl9Y2F0Y2gocil7fXJldHVybiBzKGUsdCk/aSghbi5mLmNhbGwoZSx0KSxlW3RdKTp2b2lkIDB9fSx7Ii4vX2Rlc2NyaXB0b3JzIjozNiwiLi9faGFzIjo0NCwiLi9faWU4LWRvbS1kZWZpbmUiOjQ3LCIuL19vYmplY3QtcGllIjo3MywiLi9fcHJvcGVydHktZGVzYyI6NzUsIi4vX3RvLWlvYmplY3QiOjg4LCIuL190by1wcmltaXRpdmUiOjkxfV0sNjc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pb2JqZWN0IiksaT1lKCIuL19vYmplY3QtZ29wbiIpLmYsbz17fS50b1N0cmluZyxhPSJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cmJk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzP09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHdpbmRvdyk6W10scz1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIGkoZSl9Y2F0Y2godCl7cmV0dXJuIGEuc2xpY2UoKX19O3QuZXhwb3J0cy5mPWZ1bmN0aW9uKGUpe3JldHVybiBhJiYiW29iamVjdCBXaW5kb3ddIj09by5jYWxsKGUpP3MoZSk6aShuKGUpKX19LHsiLi9fb2JqZWN0LWdvcG4iOjY4LCIuL190by1pb2JqZWN0Ijo4OH1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiKSxpPWUoIi4vX2VudW0tYnVnLWtleXMiKS5jb25jYXQoImxlbmd0aCIsInByb3RvdHlwZSIpO3IuZj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lc3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSxpKX19LHsiLi9fZW51bS1idWcta2V5cyI6MzgsIi4vX29iamVjdC1rZXlzLWludGVybmFsIjo3MX1dLDY5OltmdW5jdGlvbihlLHQscil7ci5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHN9LHt9XSw3MDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2hhcyIpLGk9ZSgiLi9fdG8tb2JqZWN0Iiksbz1lKCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIiksYT1PYmplY3QucHJvdG90eXBlO3QuZXhwb3J0cz1PYmplY3QuZ2V0UHJvdG90eXBlT2Z8fGZ1bmN0aW9uKGUpe3JldHVybiBlPWkoZSksbihlLG8pP2Vbb106ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJmUgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yP2UuY29uc3RydWN0b3IucHJvdG90eXBlOmUgaW5zdGFuY2VvZiBPYmplY3Q/YTpudWxsfX0seyIuL19oYXMiOjQ0LCIuL19zaGFyZWQta2V5Ijo4MSwiLi9fdG8tb2JqZWN0Ijo5MH1dLDcxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faGFzIiksaT1lKCIuL190by1pb2JqZWN0Iiksbz1lKCIuL19hcnJheS1pbmNsdWRlcyIpKCExKSxhPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPWkoZSksYz0wLHU9W107Zm9yKHIgaW4gcylyIT1hJiZuKHMscikmJnUucHVzaChyKTtmb3IoO3QubGVuZ3RoPmM7KW4ocyxyPXRbYysrXSkmJih+byh1LHIpfHx1LnB1c2gocikpO3JldHVybiB1fX0seyIuL19hcnJheS1pbmNsdWRlcyI6MzAsIi4vX2hhcyI6NDQsIi4vX3NoYXJlZC1rZXkiOjgxLCIuL190by1pb2JqZWN0Ijo4OH1dLDcyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiKSxpPWUoIi4vX2VudW0tYnVnLWtleXMiKTt0LmV4cG9ydHM9T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3JldHVybiBuKGUsaSl9fSx7Ii4vX2VudW0tYnVnLWtleXMiOjM4LCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCI6NzF9XSw3MzpbZnVuY3Rpb24oZSx0LHIpe3IuZj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZX0se31dLDc0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fZXhwb3J0IiksaT1lKCIuL19jb3JlIiksbz1lKCIuL19mYWlscyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByPShpLk9iamVjdHx8e30pW2VdfHxPYmplY3RbZV0sYT17fTthW2VdPXQociksbihuLlMrbi5GKm8oZnVuY3Rpb24oKXtyKDEpfSksIk9iamVjdCIsYSl9fSx7Ii4vX2NvcmUiOjMzLCIuL19leHBvcnQiOjQwLCIuL19mYWlscyI6NDF9XSw3NTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LHt9XSw3NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2hpZGUiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgaSBpbiB0KXImJmVbaV0/ZVtpXT10W2ldOm4oZSxpLHRbaV0pO3JldHVybiBlfX0seyIuL19oaWRlIjo0NX1dLDc3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vX2hpZGUiKX0seyIuL19oaWRlIjo0NX1dLDc4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0IiksaT1lKCIuL19hbi1vYmplY3QiKSxvPWZ1bmN0aW9uKGUsdCl7aWYoaShlKSwhbih0KSYmbnVsbCE9PXQpdGhyb3cgVHlwZUVycm9yKHQrIjogY2FuJ3Qgc2V0IGFzIHByb3RvdHlwZSEiKX07dC5leHBvcnRzPXtzZXQ6T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoIl9fcHJvdG9fXyJpbnt9P2Z1bmN0aW9uKHQscixuKXt0cnl7bj1lKCIuL19jdHgiKShGdW5jdGlvbi5jYWxsLGUoIi4vX29iamVjdC1nb3BkIikuZihPYmplY3QucHJvdG90eXBlLCJfX3Byb3RvX18iKS5zZXQsMiksbih0LFtdKSxyPSEodCBpbnN0YW5jZW9mIEFycmF5KX1jYXRjaChpKXtyPSEwfXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBvKGUsdCkscj9lLl9fcHJvdG9fXz10Om4oZSx0KSxlfX0oe30sITEpOnZvaWQgMCksY2hlY2s6b319LHsiLi9fYW4tb2JqZWN0IjoyOSwiLi9fY3R4IjozNCwiLi9faXMtb2JqZWN0Ijo1MiwiLi9fb2JqZWN0LWdvcGQiOjY2fV0sNzk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fZ2xvYmFsIiksaT1lKCIuL19jb3JlIiksbz1lKCIuL19vYmplY3QtZHAiKSxhPWUoIi4vX2Rlc2NyaXB0b3JzIikscz1lKCIuL193a3MiKSgic3BlY2llcyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD0iZnVuY3Rpb24iPT10eXBlb2YgaVtlXT9pW2VdOm5bZV07YSYmdCYmIXRbc10mJm8uZih0LHMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX19LHsiLi9fY29yZSI6MzMsIi4vX2Rlc2NyaXB0b3JzIjozNiwiLi9fZ2xvYmFsIjo0MywiLi9fb2JqZWN0LWRwIjo2NCwiLi9fd2tzIjo5M31dLDgwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIikuZixpPWUoIi4vX2hhcyIpLG89ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlJiYhaShlPXI/ZTplLnByb3RvdHlwZSxvKSYmbihlLG8se2NvbmZpZ3VyYWJsZTohMCx2YWx1ZTp0fSl9fSx7Ii4vX2hhcyI6NDQsIi4vX29iamVjdC1kcCI6NjQsIi4vX3drcyI6OTN9XSw4MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3NoYXJlZCIpKCJrZXlzIiksaT1lKCIuL191aWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG5bZV18fChuW2VdPWkoZSkpfX0seyIuL19zaGFyZWQiOjgyLCIuL191aWQiOjkyfV0sODI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19nbG9iYWwiKSxpPSJfX2NvcmUtanNfc2hhcmVkX18iLG89bltpXXx8KG5baV09e30pO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gb1tlXXx8KG9bZV09e30pfX0seyIuL19nbG9iYWwiOjQzfV0sODM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKSxpPWUoIi4vX2EtZnVuY3Rpb24iKSxvPWUoIi4vX3drcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsYT1uKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1hfHx2b2lkIDA9PShyPW4oYSlbb10pP3Q6aShyKX19LHsiLi9fYS1mdW5jdGlvbiI6MjYsIi4vX2FuLW9iamVjdCI6MjksIi4vX3drcyI6OTN9XSw4NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWludGVnZXIiKSxpPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQscil7dmFyIG8sYSxzPVN0cmluZyhpKHQpKSxjPW4ociksdT1zLmxlbmd0aDtyZXR1cm4gMD5jfHxjPj11P2U/IiI6dm9pZCAwOihvPXMuY2hhckNvZGVBdChjKSw1NTI5Nj5vfHxvPjU2MzE5fHxjKzE9PT11fHwoYT1zLmNoYXJDb2RlQXQoYysxKSk8NTYzMjB8fGE+NTczNDM/ZT9zLmNoYXJBdChjKTpvOmU/cy5zbGljZShjLGMrMik6KG8tNTUyOTY8PDEwKSsoYS01NjMyMCkrNjU1MzYpfX19LHsiLi9fZGVmaW5lZCI6MzUsIi4vX3RvLWludGVnZXIiOjg3fV0sODU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbixpLG8sYT1lKCIuL19jdHgiKSxzPWUoIi4vX2ludm9rZSIpLGM9ZSgiLi9faHRtbCIpLHU9ZSgiLi9fZG9tLWNyZWF0ZSIpLGw9ZSgiLi9fZ2xvYmFsIiksZj1sLnByb2Nlc3MscD1sLnNldEltbWVkaWF0ZSxoPWwuY2xlYXJJbW1lZGlhdGUsZD1sLk1lc3NhZ2VDaGFubmVsLHk9MCxfPXt9LG09Im9ucmVhZHlzdGF0ZWNoYW5nZSIsYj1mdW5jdGlvbigpe3ZhciBlPSt0aGlzO2lmKF8uaGFzT3duUHJvcGVydHkoZSkpe3ZhciB0PV9bZV07ZGVsZXRlIF9bZV0sdCgpfX0sdj1mdW5jdGlvbihlKXtiLmNhbGwoZS5kYXRhKX07cCYmaHx8KHA9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MTthcmd1bWVudHMubGVuZ3RoPnI7KXQucHVzaChhcmd1bWVudHNbcisrXSk7cmV0dXJuIF9bKyt5XT1mdW5jdGlvbigpe3MoImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTpGdW5jdGlvbihlKSx0KX0sbih5KSx5fSxoPWZ1bmN0aW9uKGUpe2RlbGV0ZSBfW2VdfSwicHJvY2VzcyI9PWUoIi4vX2NvZiIpKGYpP249ZnVuY3Rpb24oZSl7Zi5uZXh0VGljayhhKGIsZSwxKSl9OmQ/KGk9bmV3IGQsbz1pLnBvcnQyLGkucG9ydDEub25tZXNzYWdlPXYsbj1hKG8ucG9zdE1lc3NhZ2UsbywxKSk6bC5hZGRFdmVudExpc3RlbmVyJiYiZnVuY3Rpb24iPT10eXBlb2YgcG9zdE1lc3NhZ2UmJiFsLmltcG9ydFNjcmlwdHM/KG49ZnVuY3Rpb24oZSl7bC5wb3N0TWVzc2FnZShlKyIiLCIqIil9LGwuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsdiwhMSkpOm49bSBpbiB1KCJzY3JpcHQiKT9mdW5jdGlvbihlKXtjLmFwcGVuZENoaWxkKHUoInNjcmlwdCIpKVttXT1mdW5jdGlvbigpe2MucmVtb3ZlQ2hpbGQodGhpcyksYi5jYWxsKGUpfX06ZnVuY3Rpb24oZSl7c2V0VGltZW91dChhKGIsZSwxKSwwKX0pLHQuZXhwb3J0cz17c2V0OnAsY2xlYXI6aH19LHsiLi9fY29mIjozMiwiLi9fY3R4IjozNCwiLi9fZG9tLWNyZWF0ZSI6MzcsIi4vX2dsb2JhbCI6NDMsIi4vX2h0bWwiOjQ2LCIuL19pbnZva2UiOjQ4fV0sODY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pbnRlZ2VyIiksaT1NYXRoLm1heCxvPU1hdGgubWluO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBlPW4oZSksMD5lP2koZSt0LDApOm8oZSx0KX19LHsiLi9fdG8taW50ZWdlciI6ODd9XSw4NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPU1hdGguY2VpbCxpPU1hdGguZmxvb3I7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOihlPjA/aTpuKShlKX19LHt9XSw4ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lvYmplY3QiKSxpPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG4oaShlKSl9fSx7Ii4vX2RlZmluZWQiOjM1LCIuL19pb2JqZWN0Ijo0OX1dLDg5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW50ZWdlciIpLGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBlPjA/aShuKGUpLDkwMDcxOTkyNTQ3NDA5OTEpOjB9fSx7Ii4vX3RvLWludGVnZXIiOjg3fV0sOTA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19kZWZpbmVkIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QobihlKSl9fSx7Ii4vX2RlZmluZWQiOjM1fV0sOTE6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighbihlKSlyZXR1cm4gZTt2YXIgcixpO2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihpPXIuY2FsbChlKSkpcmV0dXJuIGk7aWYoImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS52YWx1ZU9mKSYmIW4oaT1yLmNhbGwoZSkpKXJldHVybiBpO2lmKCF0JiYiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnRvU3RyaW5nKSYmIW4oaT1yLmNhbGwoZSkpKXJldHVybiBpO3Rocm93IFR5cGVFcnJvcigiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlIil9fSx7Ii4vX2lzLW9iamVjdCI6NTJ9XSw5MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPTAsaT1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK24raSkudG9TdHJpbmcoMzYpKX19LHt9XSw5MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3NoYXJlZCIpKCJ3a3MiKSxpPWUoIi4vX3VpZCIpLG89ZSgiLi9fZ2xvYmFsIikuU3ltYm9sLGE9ImZ1bmN0aW9uIj09dHlwZW9mIG87dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1hJiZvW2VdfHwoYT9vOmkpKCJTeW1ib2wuIitlKSl9fSx7Ii4vX2dsb2JhbCI6NDMsIi4vX3NoYXJlZCI6ODIsIi4vX3VpZCI6OTJ9XSw5NDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2NsYXNzb2YiKSxpPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLG89ZSgiLi9faXRlcmF0b3JzIik7dC5leHBvcnRzPWUoIi4vX2NvcmUiKS5nZXRJdGVyYXRvck1ldGhvZD1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT1lP2VbaV18fGVbIkBAaXRlcmF0b3IiXXx8b1tuKGUpXTp2b2lkIDB9fSx7Ii4vX2NsYXNzb2YiOjMxLCIuL19jb3JlIjozMywiLi9faXRlcmF0b3JzIjo1OCwiLi9fd2tzIjo5M31dLDk1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2FkZC10by11bnNjb3BhYmxlcyIpLGk9ZSgiLi9faXRlci1zdGVwIiksbz1lKCIuL19pdGVyYXRvcnMiKSxhPWUoIi4vX3RvLWlvYmplY3QiKTt0LmV4cG9ydHM9ZSgiLi9faXRlci1kZWZpbmUiKShBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7dGhpcy5fdD1hKGUpLHRoaXMuX2k9MCx0aGlzLl9rPXR9LGZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5fdCx0PXRoaXMuX2sscj10aGlzLl9pKys7cmV0dXJuIWV8fHI+PWUubGVuZ3RoPyh0aGlzLl90PXZvaWQgMCxpKDEpKToia2V5cyI9PXQ/aSgwLHIpOiJ2YWx1ZXMiPT10P2koMCxlW3JdKTppKDAsW3IsZVtyXV0pfSwidmFsdWVzIiksby5Bcmd1bWVudHM9by5BcnJheSxuKCJrZXlzIiksbigidmFsdWVzIiksbigiZW50cmllcyIpfSx7Ii4vX2FkZC10by11bnNjb3BhYmxlcyI6MjcsIi4vX2l0ZXItZGVmaW5lIjo1NSwiLi9faXRlci1zdGVwIjo1NywiLi9faXRlcmF0b3JzIjo1OCwiLi9fdG8taW9iamVjdCI6ODh9XSw5NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2V4cG9ydCIpO24obi5TLCJPYmplY3QiLHtjcmVhdGU6ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpfSl9LHsiLi9fZXhwb3J0Ijo0MCwiLi9fb2JqZWN0LWNyZWF0ZSI6NjN9XSw5NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2V4cG9ydCIpO24obi5TK24uRiohZSgiLi9fZGVzY3JpcHRvcnMiKSwiT2JqZWN0Iix7ZGVmaW5lUHJvcGVydHk6ZSgiLi9fb2JqZWN0LWRwIikuZn0pfSx7Ii4vX2Rlc2NyaXB0b3JzIjozNiwiLi9fZXhwb3J0Ijo0MCwiLi9fb2JqZWN0LWRwIjo2NH1dLDk4OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW9iamVjdCIpLGk9ZSgiLi9fb2JqZWN0LWdvcGQiKS5mO2UoIi4vX29iamVjdC1zYXAiKSgiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIixmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBpKG4oZSksdCl9fSl9LHsiLi9fb2JqZWN0LWdvcGQiOjY2LCIuL19vYmplY3Qtc2FwIjo3NCwiLi9fdG8taW9iamVjdCI6ODh9XSw5OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLW9iamVjdCIpLGk9ZSgiLi9fb2JqZWN0LWdwbyIpO2UoIi4vX29iamVjdC1zYXAiKSgiZ2V0UHJvdG90eXBlT2YiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBpKG4oZSkpfX0pfSx7Ii4vX29iamVjdC1ncG8iOjcwLCIuL19vYmplY3Qtc2FwIjo3NCwiLi9fdG8tb2JqZWN0Ijo5MH1dLDEwMDpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2V4cG9ydCIpO24obi5TLCJPYmplY3QiLHtzZXRQcm90b3R5cGVPZjplKCIuL19zZXQtcHJvdG8iKS5zZXR9KX0seyIuL19leHBvcnQiOjQwLCIuL19zZXQtcHJvdG8iOjc4fV0sMTAxOltmdW5jdGlvbihlLHQscil7fSx7fV0sMTAyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuLGksbyxhPWUoIi4vX2xpYnJhcnkiKSxzPWUoIi4vX2dsb2JhbCIpLGM9ZSgiLi9fY3R4IiksdT1lKCIuL19jbGFzc29mIiksbD1lKCIuL19leHBvcnQiKSxmPWUoIi4vX2lzLW9iamVjdCIpLHA9KGUoIi4vX2FuLW9iamVjdCIpLGUoIi4vX2EtZnVuY3Rpb24iKSksaD1lKCIuL19hbi1pbnN0YW5jZSIpLGQ9ZSgiLi9fZm9yLW9mIikseT0oZSgiLi9fc2V0LXByb3RvIikuc2V0LGUoIi4vX3NwZWNpZXMtY29uc3RydWN0b3IiKSksXz1lKCIuL190YXNrIikuc2V0LG09ZSgiLi9fbWljcm90YXNrIiksYj0iUHJvbWlzZSIsdj1zLlR5cGVFcnJvcixnPXMucHJvY2VzcyxqPXNbYl0sZz1zLnByb2Nlc3MsTz0icHJvY2VzcyI9PXUoZyksRT1mdW5jdGlvbigpe30sUD0hIWZ1bmN0aW9uKCl7dHJ5e3ZhciB0PWoucmVzb2x2ZSgxKSxyPSh0LmNvbnN0cnVjdG9yPXt9KVtlKCIuL193a3MiKSgic3BlY2llcyIpXT1mdW5jdGlvbihlKXtlKEUsRSl9O3JldHVybihPfHwiZnVuY3Rpb24iPT10eXBlb2YgUHJvbWlzZVJlamVjdGlvbkV2ZW50KSYmdC50aGVuKEUpaW5zdGFuY2VvZiByfWNhdGNoKG4pe319KCksaz1mdW5jdGlvbihlLHQpe3JldHVybiBlPT09dHx8ZT09PWomJnQ9PT1vfSxTPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBmKGUpJiYiZnVuY3Rpb24iPT10eXBlb2YodD1lLnRoZW4pP3Q6ITF9LHc9ZnVuY3Rpb24oZSl7cmV0dXJuIGsoaixlKT9uZXcgUihlKTpuZXcgaShlKX0sUj1pPWZ1bmN0aW9uKGUpe3ZhciB0LHI7dGhpcy5wcm9taXNlPW5ldyBlKGZ1bmN0aW9uKGUsbil7aWYodm9pZCAwIT09dHx8dm9pZCAwIT09cil0aHJvdyB2KCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvciIpO3Q9ZSxyPW59KSx0aGlzLnJlc29sdmU9cCh0KSx0aGlzLnJlamVjdD1wKHIpfSx4PWZ1bmN0aW9uKGUpe3RyeXtlKCl9Y2F0Y2godCl7cmV0dXJue2Vycm9yOnR9fX0sTT1mdW5jdGlvbihlLHQpe2lmKCFlLl9uKXtlLl9uPSEwO3ZhciByPWUuX2M7bShmdW5jdGlvbigpe2Zvcih2YXIgbj1lLl92LGk9MT09ZS5fcyxvPTAsYT1mdW5jdGlvbih0KXt2YXIgcixvLGE9aT90Lm9rOnQuZmFpbCxzPXQucmVzb2x2ZSxjPXQucmVqZWN0LHU9dC5kb21haW47dHJ5e2E/KGl8fCgyPT1lLl9oJiZOKGUpLGUuX2g9MSksYT09PSEwP3I9bjoodSYmdS5lbnRlcigpLHI9YShuKSx1JiZ1LmV4aXQoKSkscj09PXQucHJvbWlzZT9jKHYoIlByb21pc2UtY2hhaW4gY3ljbGUiKSk6KG89UyhyKSk/by5jYWxsKHIscyxjKTpzKHIpKTpjKG4pfWNhdGNoKGwpe2MobCl9fTtyLmxlbmd0aD5vOylhKHJbbysrXSk7ZS5fYz1bXSxlLl9uPSExLHQmJiFlLl9oJiZBKGUpfSl9fSxBPWZ1bmN0aW9uKGUpe18uY2FsbChzLGZ1bmN0aW9uKCl7dmFyIHQscixuLGk9ZS5fdjtpZihUKGUpJiYodD14KGZ1bmN0aW9uKCl7Tz9nLmVtaXQoInVuaGFuZGxlZFJlamVjdGlvbiIsaSxlKToocj1zLm9udW5oYW5kbGVkcmVqZWN0aW9uKT9yKHtwcm9taXNlOmUscmVhc29uOml9KToobj1zLmNvbnNvbGUpJiZuLmVycm9yJiZuLmVycm9yKCJVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24iLGkpfSksZS5faD1PfHxUKGUpPzI6MSksZS5fYT12b2lkIDAsdCl0aHJvdyB0LmVycm9yfSl9LFQ9ZnVuY3Rpb24oZSl7aWYoMT09ZS5faClyZXR1cm4hMTtmb3IodmFyIHQscj1lLl9hfHxlLl9jLG49MDtyLmxlbmd0aD5uOylpZih0PXJbbisrXSx0LmZhaWx8fCFUKHQucHJvbWlzZSkpcmV0dXJuITE7cmV0dXJuITB9LE49ZnVuY3Rpb24oZSl7Xy5jYWxsKHMsZnVuY3Rpb24oKXt2YXIgdDtPP2cuZW1pdCgicmVqZWN0aW9uSGFuZGxlZCIsZSk6KHQ9cy5vbnJlamVjdGlvbmhhbmRsZWQpJiZ0KHtwcm9taXNlOmUscmVhc29uOmUuX3Z9KX0pfSxJPWZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fZHx8KHQuX2Q9ITAsdD10Ll93fHx0LHQuX3Y9ZSx0Ll9zPTIsdC5fYXx8KHQuX2E9dC5fYy5zbGljZSgpKSxNKHQsITApKX0sQz1mdW5jdGlvbihlKXt2YXIgdCxyPXRoaXM7aWYoIXIuX2Qpe3IuX2Q9ITAscj1yLl93fHxyO3RyeXtpZihyPT09ZSl0aHJvdyB2KCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZiIpOyh0PVMoZSkpP20oZnVuY3Rpb24oKXt2YXIgbj17X3c6cixfZDohMX07dHJ5e3QuY2FsbChlLGMoQyxuLDEpLGMoSSxuLDEpKX1jYXRjaChpKXtJLmNhbGwobixpKX19KTooci5fdj1lLHIuX3M9MSxNKHIsITEpKX1jYXRjaChuKXtJLmNhbGwoe193OnIsX2Q6ITF9LG4pfX19O1B8fChqPWZ1bmN0aW9uKGUpe2godGhpcyxqLGIsIl9oIikscChlKSxuLmNhbGwodGhpcyk7dHJ5e2UoYyhDLHRoaXMsMSksYyhJLHRoaXMsMSkpfWNhdGNoKHQpe0kuY2FsbCh0aGlzLHQpfX0sbj1mdW5jdGlvbihlKXt0aGlzLl9jPVtdLHRoaXMuX2E9dm9pZCAwLHRoaXMuX3M9MCx0aGlzLl9kPSExLHRoaXMuX3Y9dm9pZCAwLHRoaXMuX2g9MCx0aGlzLl9uPSExfSxuLnByb3RvdHlwZT1lKCIuL19yZWRlZmluZS1hbGwiKShqLnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihlLHQpe3ZhciByPXcoeSh0aGlzLGopKTtyZXR1cm4gci5vaz0iZnVuY3Rpb24iPT10eXBlb2YgZT9lOiEwLHIuZmFpbD0iZnVuY3Rpb24iPT10eXBlb2YgdCYmdCxyLmRvbWFpbj1PP2cuZG9tYWluOnZvaWQgMCx0aGlzLl9jLnB1c2gociksdGhpcy5fYSYmdGhpcy5fYS5wdXNoKHIpLHRoaXMuX3MmJk0odGhpcywhMSksci5wcm9taXNlfSwiY2F0Y2giOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnRoZW4odm9pZCAwLGUpfX0pLFI9ZnVuY3Rpb24oKXt2YXIgZT1uZXcgbjt0aGlzLnByb21pc2U9ZSx0aGlzLnJlc29sdmU9YyhDLGUsMSksdGhpcy5yZWplY3Q9YyhJLGUsMSl9KSxsKGwuRytsLlcrbC5GKiFQLHtQcm9taXNlOmp9KSxlKCIuL19zZXQtdG8tc3RyaW5nLXRhZyIpKGosYiksZSgiLi9fc2V0LXNwZWNpZXMiKShiKSxvPWUoIi4vX2NvcmUiKVtiXSxsKGwuUytsLkYqIVAsYix7cmVqZWN0OmZ1bmN0aW9uKGUpe3ZhciB0PXcodGhpcykscj10LnJlamVjdDtyZXR1cm4gcihlKSx0LnByb21pc2V9fSksbChsLlMrbC5GKihhfHwhUCksYix7cmVzb2x2ZTpmdW5jdGlvbihlKXtpZihlIGluc3RhbmNlb2YgaiYmayhlLmNvbnN0cnVjdG9yLHRoaXMpKXJldHVybiBlO3ZhciB0PXcodGhpcykscj10LnJlc29sdmU7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGwobC5TK2wuRiohKFAmJmUoIi4vX2l0ZXItZGV0ZWN0IikoZnVuY3Rpb24oZSl7ai5hbGwoZSlbImNhdGNoIl0oRSl9KSksYix7YWxsOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj13KHQpLG49ci5yZXNvbHZlLGk9ci5yZWplY3Qsbz14KGZ1bmN0aW9uKCl7dmFyIHI9W10sbz0wLGE9MTtkKGUsITEsZnVuY3Rpb24oZSl7dmFyIHM9bysrLGM9ITE7ci5wdXNoKHZvaWQgMCksYSsrLHQucmVzb2x2ZShlKS50aGVuKGZ1bmN0aW9uKGUpe2N8fChjPSEwLHJbc109ZSwtLWF8fG4ocikpfSxpKX0pLC0tYXx8bihyKX0pO3JldHVybiBvJiZpKG8uZXJyb3IpLHIucHJvbWlzZX0scmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9dyh0KSxuPXIucmVqZWN0LGk9eChmdW5jdGlvbigpe2QoZSwhMSxmdW5jdGlvbihlKXt0LnJlc29sdmUoZSkudGhlbihyLnJlc29sdmUsbil9KX0pO3JldHVybiBpJiZuKGkuZXJyb3IpLHIucHJvbWlzZX19KX0seyIuL19hLWZ1bmN0aW9uIjoyNiwiLi9fYW4taW5zdGFuY2UiOjI4LCIuL19hbi1vYmplY3QiOjI5LCIuL19jbGFzc29mIjozMSwiLi9fY29yZSI6MzMsIi4vX2N0eCI6MzQsIi4vX2V4cG9ydCI6NDAsIi4vX2Zvci1vZiI6NDIsIi4vX2dsb2JhbCI6NDMsIi4vX2lzLW9iamVjdCI6NTIsIi4vX2l0ZXItZGV0ZWN0Ijo1NiwiLi9fbGlicmFyeSI6NjAsIi4vX21pY3JvdGFzayI6NjIsIi4vX3JlZGVmaW5lLWFsbCI6NzYsIi4vX3NldC1wcm90byI6NzgsIi4vX3NldC1zcGVjaWVzIjo3OSwiLi9fc2V0LXRvLXN0cmluZy10YWciOjgwLCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIjo4MywiLi9fdGFzayI6ODUsIi4vX3drcyI6OTN9XSwxMDM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fc3RyaW5nLWF0IikoITApO2UoIi4vX2l0ZXItZGVmaW5lIikoU3RyaW5nLCJTdHJpbmciLGZ1bmN0aW9uKGUpe3RoaXMuX3Q9U3RyaW5nKGUpLHRoaXMuX2k9MH0sZnVuY3Rpb24oKXt2YXIgZSx0PXRoaXMuX3Qscj10aGlzLl9pO3JldHVybiByPj10Lmxlbmd0aD97dmFsdWU6dm9pZCAwLGRvbmU6ITB9OihlPW4odCxyKSx0aGlzLl9pKz1lLmxlbmd0aCx7dmFsdWU6ZSxkb25lOiExfSl9KX0seyIuL19pdGVyLWRlZmluZSI6NTUsIi4vX3N0cmluZy1hdCI6ODR9XSwxMDQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fZ2xvYmFsIiksaT1lKCIuL19jb3JlIiksbz1lKCIuL19oYXMiKSxhPWUoIi4vX2Rlc2NyaXB0b3JzIikscz1lKCIuL19leHBvcnQiKSxjPWUoIi4vX3JlZGVmaW5lIiksdT1lKCIuL19tZXRhIikuS0VZLGw9ZSgiLi9fZmFpbHMiKSxmPWUoIi4vX3NoYXJlZCIpLHA9ZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKSxoPWUoIi4vX3VpZCIpLGQ9ZSgiLi9fd2tzIikseT1lKCIuL19rZXlvZiIpLF89ZSgiLi9fZW51bS1rZXlzIiksbT1lKCIuL19pcy1hcnJheSIpLGI9ZSgiLi9fYW4tb2JqZWN0Iiksdj1lKCIuL190by1pb2JqZWN0IiksZz1lKCIuL190by1wcmltaXRpdmUiKSxqPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxPPWUoIi4vX29iamVjdC1jcmVhdGUiKSxFPWUoIi4vX29iamVjdC1nb3BuLWV4dCIpLFA9ZSgiLi9fb2JqZWN0LWdvcGQiKSxrPWUoIi4vX29iamVjdC1kcCIpLFM9UC5mLHc9ay5mLFI9RS5mLHg9bi5TeW1ib2wsTT1uLkpTT04sQT1NJiZNLnN0cmluZ2lmeSxUPSExLE49InByb3RvdHlwZSIsST1kKCJfaGlkZGVuIiksQz1kKCJ0b1ByaW1pdGl2ZSIpLFU9e30ucHJvcGVydHlJc0VudW1lcmFibGUsRD1mKCJzeW1ib2wtcmVnaXN0cnkiKSxMPWYoInN5bWJvbHMiKSxGPU9iamVjdFtOXSxIPSJmdW5jdGlvbiI9PXR5cGVvZiB4LFk9bi5RT2JqZWN0LEI9YSYmbChmdW5jdGlvbigpe3JldHVybiA3IT1PKHcoe30sImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdyh0aGlzLCJhIix7dmFsdWU6N30pLmF9fSkpLmF9KT9mdW5jdGlvbihlLHQscil7dmFyIG49UyhGLHQpO24mJmRlbGV0ZSBGW3RdLHcoZSx0LHIpLG4mJmUhPT1GJiZ3KEYsdCxuKX06dyxxPWZ1bmN0aW9uKGUpe3ZhciB0PUxbZV09Tyh4W05dKTtyZXR1cm4gdC5faz1lLGEmJlQmJkIoRixlLHtjb25maWd1cmFibGU6ITAsc2V0OmZ1bmN0aW9uKHQpe28odGhpcyxJKSYmbyh0aGlzW0ldLGUpJiYodGhpc1tJXVtlXT0hMSksQih0aGlzLGUsaigxLHQpKX19KSx0fSxLPUgmJiJzeW1ib2wiPT10eXBlb2YgeC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlIGluc3RhbmNlb2YgeH0sSj1mdW5jdGlvbihlLHQscil7cmV0dXJuIGIoZSksdD1nKHQsITApLGIociksbyhMLHQpPyhyLmVudW1lcmFibGU/KG8oZSxJKSYmZVtJXVt0XSYmKGVbSV1bdF09ITEpLApyPU8ocix7ZW51bWVyYWJsZTpqKDAsITEpfSkpOihvKGUsSSl8fHcoZSxJLGooMSx7fSkpLGVbSV1bdF09ITApLEIoZSx0LHIpKTp3KGUsdCxyKX0sRz1mdW5jdGlvbihlLHQpe2IoZSk7Zm9yKHZhciByLG49Xyh0PXYodCkpLGk9MCxvPW4ubGVuZ3RoO28+aTspSihlLHI9bltpKytdLHRbcl0pO3JldHVybiBlfSxXPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/TyhlKTpHKE8oZSksdCl9LFY9ZnVuY3Rpb24oZSl7dmFyIHQ9VS5jYWxsKHRoaXMsZT1nKGUsITApKTtyZXR1cm4gdHx8IW8odGhpcyxlKXx8IW8oTCxlKXx8byh0aGlzLEkpJiZ0aGlzW0ldW2VdP3Q6ITB9LHo9ZnVuY3Rpb24oZSx0KXt2YXIgcj1TKGU9dihlKSx0PWcodCwhMCkpO3JldHVybiFyfHwhbyhMLHQpfHxvKGUsSSkmJmVbSV1bdF18fChyLmVudW1lcmFibGU9ITApLHJ9LCQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9Uih2KGUpKSxuPVtdLGk9MDtyLmxlbmd0aD5pOylvKEwsdD1yW2krK10pfHx0PT1JfHx0PT11fHxuLnB1c2godCk7cmV0dXJuIG59LFg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9Uih2KGUpKSxuPVtdLGk9MDtyLmxlbmd0aD5pOylvKEwsdD1yW2krK10pJiZuLnB1c2goTFt0XSk7cmV0dXJuIG59LFE9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09ZSYmIUsoZSkpe2Zvcih2YXIgdCxyLG49W2VdLGk9MTthcmd1bWVudHMubGVuZ3RoPmk7KW4ucHVzaChhcmd1bWVudHNbaSsrXSk7cmV0dXJuIHQ9blsxXSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCksIXImJm0odCl8fCh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLEsodCk/dm9pZCAwOnR9KSxuWzFdPXQsQS5hcHBseShNLG4pfX0sWj1sKGZ1bmN0aW9uKCl7dmFyIGU9eCgpO3JldHVybiJbbnVsbF0iIT1BKFtlXSl8fCJ7fSIhPUEoe2E6ZX0pfHwie30iIT1BKE9iamVjdChlKSl9KTtIfHwoeD1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiB4KXRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yISIpO3JldHVybiBxKGgoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApKX0sYyh4W05dLCJ0b1N0cmluZyIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa30pLFAuZj16LGsuZj1KLGUoIi4vX29iamVjdC1nb3BuIikuZj1FLmY9JCxlKCIuL19vYmplY3QtcGllIikuZj1WLGUoIi4vX29iamVjdC1nb3BzIikuZj1YLGEmJiFlKCIuL19saWJyYXJ5IikmJmMoRiwicHJvcGVydHlJc0VudW1lcmFibGUiLFYsITApKSxzKHMuRytzLlcrcy5GKiFILHtTeW1ib2w6eH0pO2Zvcih2YXIgZWU9Imhhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzIi5zcGxpdCgiLCIpLHRlPTA7ZWUubGVuZ3RoPnRlOyl7dmFyIHJlPWVlW3RlKytdLG5lPWkuU3ltYm9sLGllPWQocmUpO3JlIGluIG5lfHx3KG5lLHJlLHt2YWx1ZTpIP2llOnEoaWUpfSl9WSYmWVtOXSYmWVtOXS5maW5kQ2hpbGR8fChUPSEwKSxzKHMuUytzLkYqIUgsIlN5bWJvbCIseyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBvKEQsZSs9IiIpP0RbZV06RFtlXT14KGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7aWYoSyhlKSlyZXR1cm4geShELGUpO3Rocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgc3ltYm9sISIpfSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtUPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtUPSExfX0pLHMocy5TK3MuRiohSCwiT2JqZWN0Iix7Y3JlYXRlOlcsZGVmaW5lUHJvcGVydHk6SixkZWZpbmVQcm9wZXJ0aWVzOkcsZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOnosZ2V0T3duUHJvcGVydHlOYW1lczokLGdldE93blByb3BlcnR5U3ltYm9sczpYfSksTSYmcyhzLlMrcy5GKighSHx8WiksIkpTT04iLHtzdHJpbmdpZnk6UX0pLHhbTl1bQ118fGUoIi4vX2hpZGUiKSh4W05dLEMseFtOXS52YWx1ZU9mKSxwKHgsIlN5bWJvbCIpLHAoTWF0aCwiTWF0aCIsITApLHAobi5KU09OLCJKU09OIiwhMCl9LHsiLi9fYW4tb2JqZWN0IjoyOSwiLi9fY29yZSI6MzMsIi4vX2Rlc2NyaXB0b3JzIjozNiwiLi9fZW51bS1rZXlzIjozOSwiLi9fZXhwb3J0Ijo0MCwiLi9fZmFpbHMiOjQxLCIuL19nbG9iYWwiOjQzLCIuL19oYXMiOjQ0LCIuL19oaWRlIjo0NSwiLi9faXMtYXJyYXkiOjUxLCIuL19rZXlvZiI6NTksIi4vX2xpYnJhcnkiOjYwLCIuL19tZXRhIjo2MSwiLi9fb2JqZWN0LWNyZWF0ZSI6NjMsIi4vX29iamVjdC1kcCI6NjQsIi4vX29iamVjdC1nb3BkIjo2NiwiLi9fb2JqZWN0LWdvcG4iOjY4LCIuL19vYmplY3QtZ29wbi1leHQiOjY3LCIuL19vYmplY3QtZ29wcyI6NjksIi4vX29iamVjdC1waWUiOjczLCIuL19wcm9wZXJ0eS1kZXNjIjo3NSwiLi9fcmVkZWZpbmUiOjc3LCIuL19zZXQtdG8tc3RyaW5nLXRhZyI6ODAsIi4vX3NoYXJlZCI6ODIsIi4vX3RvLWlvYmplY3QiOjg4LCIuL190by1wcmltaXRpdmUiOjkxLCIuL191aWQiOjkyLCIuL193a3MiOjkzfV0sMTA1OltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTtmb3IodmFyIG49ZSgiLi9fZ2xvYmFsIiksaT1lKCIuL19oaWRlIiksbz1lKCIuL19pdGVyYXRvcnMiKSxhPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpLHM9WyJOb2RlTGlzdCIsIkRPTVRva2VuTGlzdCIsIk1lZGlhTGlzdCIsIlN0eWxlU2hlZXRMaXN0IiwiQ1NTUnVsZUxpc3QiXSxjPTA7NT5jO2MrKyl7dmFyIHU9c1tjXSxsPW5bdV0sZj1sJiZsLnByb3RvdHlwZTtmJiYhZlthXSYmaShmLGEsdSksb1t1XT1vLkFycmF5fX0seyIuL19nbG9iYWwiOjQzLCIuL19oaWRlIjo0NSwiLi9faXRlcmF0b3JzIjo1OCwiLi9fd2tzIjo5MywiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjk1fV0sMTA2OltmdW5jdGlvbih0LHIsbil7IWZ1bmN0aW9uKHQsbil7ImZ1bmN0aW9uIj09dHlwZW9mIGUmJmUuYW1kP2UoW10sbik6InVuZGVmaW5lZCIhPXR5cGVvZiByJiZyLmV4cG9ydHM/ci5leHBvcnRzPW4oKTp0LnR2ND1uKCl9KHRoaXMsZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUpe3JldHVybiBlbmNvZGVVUkkoZSkucmVwbGFjZSgvJTI1WzAtOV1bMC05XS9nLGZ1bmN0aW9uKGUpe3JldHVybiIlIitlLnN1YnN0cmluZygzKX0pfWZ1bmN0aW9uIHQodCl7dmFyIHI9IiI7cFt0LmNoYXJBdCgwKV0mJihyPXQuY2hhckF0KDApLHQ9dC5zdWJzdHJpbmcoMSkpO3ZhciBuPSIiLGk9IiIsbz0hMCxhPSExLHM9ITE7IisiPT09cj9vPSExOiIuIj09PXI/KGk9Ii4iLG49Ii4iKToiLyI9PT1yPyhpPSIvIixuPSIvIik6IiMiPT09cj8oaT0iIyIsbz0hMSk6IjsiPT09cj8oaT0iOyIsbj0iOyIsYT0hMCxzPSEwKToiPyI9PT1yPyhpPSI/IixuPSImIixhPSEwKToiJiI9PT1yJiYoaT0iJiIsbj0iJiIsYT0hMCk7Zm9yKHZhciBjPVtdLHU9dC5zcGxpdCgiLCIpLGw9W10sZj17fSxkPTA7ZDx1Lmxlbmd0aDtkKyspe3ZhciB5PXVbZF0sXz1udWxsO2lmKC0xIT09eS5pbmRleE9mKCI6Iikpe3ZhciBtPXkuc3BsaXQoIjoiKTt5PW1bMF0sXz1wYXJzZUludChtWzFdLDEwKX1mb3IodmFyIGI9e307aFt5LmNoYXJBdCh5Lmxlbmd0aC0xKV07KWJbeS5jaGFyQXQoeS5sZW5ndGgtMSldPSEwLHk9eS5zdWJzdHJpbmcoMCx5Lmxlbmd0aC0xKTt2YXIgdj17dHJ1bmNhdGU6XyxuYW1lOnksc3VmZmljZXM6Yn07bC5wdXNoKHYpLGZbeV09dixjLnB1c2goeSl9dmFyIGc9ZnVuY3Rpb24odCl7Zm9yKHZhciByPSIiLGM9MCx1PTA7dTxsLmxlbmd0aDt1Kyspe3ZhciBmPWxbdV0scD10KGYubmFtZSk7aWYobnVsbD09PXB8fHZvaWQgMD09PXB8fEFycmF5LmlzQXJyYXkocCkmJjA9PT1wLmxlbmd0aHx8Im9iamVjdCI9PXR5cGVvZiBwJiYwPT09T2JqZWN0LmtleXMocCkubGVuZ3RoKWMrKztlbHNlIGlmKHIrPXU9PT1jP2k6bnx8IiwiLEFycmF5LmlzQXJyYXkocCkpe2EmJihyKz1mLm5hbWUrIj0iKTtmb3IodmFyIGg9MDtoPHAubGVuZ3RoO2grKyloPjAmJihyKz1mLnN1ZmZpY2VzWyIqIl0/bnx8IiwiOiIsIixmLnN1ZmZpY2VzWyIqIl0mJmEmJihyKz1mLm5hbWUrIj0iKSkscis9bz9lbmNvZGVVUklDb21wb25lbnQocFtoXSkucmVwbGFjZSgvIS9nLCIlMjEiKTplKHBbaF0pfWVsc2UgaWYoIm9iamVjdCI9PXR5cGVvZiBwKXthJiYhZi5zdWZmaWNlc1siKiJdJiYocis9Zi5uYW1lKyI9Iik7dmFyIGQ9ITA7Zm9yKHZhciB5IGluIHApZHx8KHIrPWYuc3VmZmljZXNbIioiXT9ufHwiLCI6IiwiKSxkPSExLHIrPW8/ZW5jb2RlVVJJQ29tcG9uZW50KHkpLnJlcGxhY2UoLyEvZywiJTIxIik6ZSh5KSxyKz1mLnN1ZmZpY2VzWyIqIl0/Ij0iOiIsIixyKz1vP2VuY29kZVVSSUNvbXBvbmVudChwW3ldKS5yZXBsYWNlKC8hL2csIiUyMSIpOmUocFt5XSl9ZWxzZSBhJiYocis9Zi5uYW1lLHMmJiIiPT09cHx8KHIrPSI9IikpLG51bGwhPWYudHJ1bmNhdGUmJihwPXAuc3Vic3RyaW5nKDAsZi50cnVuY2F0ZSkpLHIrPW8/ZW5jb2RlVVJJQ29tcG9uZW50KHApLnJlcGxhY2UoLyEvZywiJTIxIik6ZShwKX1yZXR1cm4gcn07cmV0dXJuIGcudmFyTmFtZXM9Yyx7cHJlZml4Omksc3Vic3RpdHV0aW9uOmd9fWZ1bmN0aW9uIHIoZSl7aWYoISh0aGlzIGluc3RhbmNlb2YgcikpcmV0dXJuIG5ldyByKGUpO2Zvcih2YXIgbj1lLnNwbGl0KCJ7IiksaT1bbi5zaGlmdCgpXSxvPVtdLGE9W10scz1bXTtuLmxlbmd0aD4wOyl7dmFyIGM9bi5zaGlmdCgpLHU9Yy5zcGxpdCgifSIpWzBdLGw9Yy5zdWJzdHJpbmcodS5sZW5ndGgrMSksZj10KHUpO2EucHVzaChmLnN1YnN0aXR1dGlvbiksby5wdXNoKGYucHJlZml4KSxpLnB1c2gobCkscz1zLmNvbmNhdChmLnN1YnN0aXR1dGlvbi52YXJOYW1lcyl9dGhpcy5maWxsPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1pWzBdLHI9MDtyPGEubGVuZ3RoO3IrKyl7dmFyIG49YVtyXTt0Kz1uKGUpLHQrPWlbcisxXX1yZXR1cm4gdH0sdGhpcy52YXJOYW1lcz1zLHRoaXMudGVtcGxhdGU9ZX1mdW5jdGlvbiBuKGUsdCl7aWYoZT09PXQpcmV0dXJuITA7aWYoZSYmdCYmIm9iamVjdCI9PXR5cGVvZiBlJiYib2JqZWN0Ij09dHlwZW9mIHQpe2lmKEFycmF5LmlzQXJyYXkoZSkhPT1BcnJheS5pc0FycmF5KHQpKXJldHVybiExO2lmKEFycmF5LmlzQXJyYXkoZSkpe2lmKGUubGVuZ3RoIT09dC5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspaWYoIW4oZVtyXSx0W3JdKSlyZXR1cm4hMX1lbHNle3ZhciBpO2ZvcihpIGluIGUpaWYodm9pZCAwPT09dFtpXSYmdm9pZCAwIT09ZVtpXSlyZXR1cm4hMTtmb3IoaSBpbiB0KWlmKHZvaWQgMD09PWVbaV0mJnZvaWQgMCE9PXRbaV0pcmV0dXJuITE7Zm9yKGkgaW4gZSlpZighbihlW2ldLHRbaV0pKXJldHVybiExfXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIGkoZSl7dmFyIHQ9U3RyaW5nKGUpLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKS5tYXRjaCgvXihbXjpcLz8jXSs6KT8oXC9cLyg/OlteOkBdKig/OjpbXjpAXSopP0ApPygoW146XC8/I10qKSg/OjooXGQqKSk/KSk/KFtePyNdKikoXD9bXiNdKik/KCNbXHNcU10qKT8vKTtyZXR1cm4gdD97aHJlZjp0WzBdfHwiIixwcm90b2NvbDp0WzFdfHwiIixhdXRob3JpdHk6dFsyXXx8IiIsaG9zdDp0WzNdfHwiIixob3N0bmFtZTp0WzRdfHwiIixwb3J0OnRbNV18fCIiLHBhdGhuYW1lOnRbNl18fCIiLHNlYXJjaDp0WzddfHwiIixoYXNoOnRbOF18fCIifTpudWxsfWZ1bmN0aW9uIG8oZSx0KXtmdW5jdGlvbiByKGUpe3ZhciB0PVtdO3JldHVybiBlLnJlcGxhY2UoL14oXC5cLj8oXC98JCkpKy8sIiIpLnJlcGxhY2UoL1wvKFwuKFwvfCQpKSsvZywiLyIpLnJlcGxhY2UoL1wvXC5cLiQvLCIvLi4vIikucmVwbGFjZSgvXC8/W15cL10qL2csZnVuY3Rpb24oZSl7Ii8uLiI9PT1lP3QucG9wKCk6dC5wdXNoKGUpfSksdC5qb2luKCIiKS5yZXBsYWNlKC9eXC8vLCIvIj09PWUuY2hhckF0KDApPyIvIjoiIil9cmV0dXJuIHQ9aSh0fHwiIiksZT1pKGV8fCIiKSx0JiZlPyh0LnByb3RvY29sfHxlLnByb3RvY29sKSsodC5wcm90b2NvbHx8dC5hdXRob3JpdHk/dC5hdXRob3JpdHk6ZS5hdXRob3JpdHkpK3IodC5wcm90b2NvbHx8dC5hdXRob3JpdHl8fCIvIj09PXQucGF0aG5hbWUuY2hhckF0KDApP3QucGF0aG5hbWU6dC5wYXRobmFtZT8oZS5hdXRob3JpdHkmJiFlLnBhdGhuYW1lPyIvIjoiIikrZS5wYXRobmFtZS5zbGljZSgwLGUucGF0aG5hbWUubGFzdEluZGV4T2YoIi8iKSsxKSt0LnBhdGhuYW1lOmUucGF0aG5hbWUpKyh0LnByb3RvY29sfHx0LmF1dGhvcml0eXx8dC5wYXRobmFtZT90LnNlYXJjaDp0LnNlYXJjaHx8ZS5zZWFyY2gpK3QuaGFzaDpudWxsfWZ1bmN0aW9uIGEoZSl7cmV0dXJuIGUuc3BsaXQoIiMiKVswXX1mdW5jdGlvbiBzKGUsdCl7aWYoZSYmIm9iamVjdCI9PXR5cGVvZiBlKWlmKHZvaWQgMD09PXQ/dD1lLmlkOiJzdHJpbmciPT10eXBlb2YgZS5pZCYmKHQ9byh0LGUuaWQpLGUuaWQ9dCksQXJyYXkuaXNBcnJheShlKSlmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylzKGVbcl0sdCk7ZWxzZXsic3RyaW5nIj09dHlwZW9mIGUuJHJlZiYmKGUuJHJlZj1vKHQsZS4kcmVmKSk7Zm9yKHZhciBuIGluIGUpImVudW0iIT09biYmcyhlW25dLHQpfX1mdW5jdGlvbiBjKGUpe2U9ZXx8ImVuIjt2YXIgdD1qW2VdO3JldHVybiBmdW5jdGlvbihlKXt2YXIgcj10W2UuY29kZV18fGdbZS5jb2RlXTtpZigic3RyaW5nIiE9dHlwZW9mIHIpcmV0dXJuIlVua25vd24gZXJyb3IgY29kZSAiK2UuY29kZSsiOiAiK0pTT04uc3RyaW5naWZ5KGUubWVzc2FnZVBhcmFtcyk7dmFyIG49ZS5wYXJhbXM7cmV0dXJuIHIucmVwbGFjZSgvXHsoW157fV0qKVx9L2csZnVuY3Rpb24oZSx0KXt2YXIgcj1uW3RdO3JldHVybiJzdHJpbmciPT10eXBlb2Ygcnx8Im51bWJlciI9PXR5cGVvZiByP3I6ZX0pfX1mdW5jdGlvbiB1KGUsdCxyLG4saSl7aWYoRXJyb3IuY2FsbCh0aGlzKSx2b2lkIDA9PT1lKXRocm93IG5ldyBFcnJvcigiTm8gZXJyb3IgY29kZSBzdXBwbGllZDogIituKTt0aGlzLm1lc3NhZ2U9IiIsdGhpcy5wYXJhbXM9dCx0aGlzLmNvZGU9ZSx0aGlzLmRhdGFQYXRoPXJ8fCIiLHRoaXMuc2NoZW1hUGF0aD1ufHwiIix0aGlzLnN1YkVycm9ycz1pfHxudWxsO3ZhciBvPW5ldyBFcnJvcih0aGlzLm1lc3NhZ2UpO2lmKHRoaXMuc3RhY2s9by5zdGFja3x8by5zdGFja3RyYWNlLCF0aGlzLnN0YWNrKXRyeXt0aHJvdyBvfWNhdGNoKG8pe3RoaXMuc3RhY2s9by5zdGFja3x8by5zdGFja3RyYWNlfX1mdW5jdGlvbiBsKGUsdCl7aWYodC5zdWJzdHJpbmcoMCxlLmxlbmd0aCk9PT1lKXt2YXIgcj10LnN1YnN0cmluZyhlLmxlbmd0aCk7aWYodC5sZW5ndGg+MCYmIi8iPT09dC5jaGFyQXQoZS5sZW5ndGgtMSl8fCIjIj09PXIuY2hhckF0KDApfHwiPyI9PT1yLmNoYXJBdCgwKSlyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBmKGUpe3ZhciB0LHIsbj1uZXcgZCxpPXtzZXRFcnJvclJlcG9ydGVyOmZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT90aGlzLmxhbmd1YWdlKGUpOihyPWUsITApfSxhZGRGb3JtYXQ6ZnVuY3Rpb24oKXtuLmFkZEZvcm1hdC5hcHBseShuLGFyZ3VtZW50cyl9LGxhbmd1YWdlOmZ1bmN0aW9uKGUpe3JldHVybiBlPyhqW2VdfHwoZT1lLnNwbGl0KCItIilbMF0pLGpbZV0/KHQ9ZSxlKTohMSk6dH0sYWRkTGFuZ3VhZ2U6ZnVuY3Rpb24oZSx0KXt2YXIgcjtmb3IociBpbiBtKXRbcl0mJiF0W21bcl1dJiYodFttW3JdXT10W3JdKTt2YXIgbj1lLnNwbGl0KCItIilbMF07aWYoaltuXSl7altlXT1PYmplY3QuY3JlYXRlKGpbbl0pO2ZvcihyIGluIHQpInVuZGVmaW5lZCI9PXR5cGVvZiBqW25dW3JdJiYoaltuXVtyXT10W3JdKSxqW2VdW3JdPXRbcl19ZWxzZSBqW2VdPXQsaltuXT10O3JldHVybiB0aGlzfSxmcmVzaEFwaTpmdW5jdGlvbihlKXt2YXIgdD1mKCk7cmV0dXJuIGUmJnQubGFuZ3VhZ2UoZSksdH0sdmFsaWRhdGU6ZnVuY3Rpb24oZSxpLG8sYSl7dmFyIHM9Yyh0KSx1PXI/ZnVuY3Rpb24oZSx0LG4pe3JldHVybiByKGUsdCxuKXx8cyhlLHQsbil9OnMsbD1uZXcgZChuLCExLHUsbyxhKTsic3RyaW5nIj09dHlwZW9mIGkmJihpPXskcmVmOml9KSxsLmFkZFNjaGVtYSgiIixpKTt2YXIgZj1sLnZhbGlkYXRlQWxsKGUsaSxudWxsLG51bGwsIiIpO3JldHVybiFmJiZhJiYoZj1sLmJhblVua25vd25Qcm9wZXJ0aWVzKGUsaSkpLHRoaXMuZXJyb3I9Zix0aGlzLm1pc3Npbmc9bC5taXNzaW5nLHRoaXMudmFsaWQ9bnVsbD09PWYsdGhpcy52YWxpZH0sdmFsaWRhdGVSZXN1bHQ6ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gdGhpcy52YWxpZGF0ZS5hcHBseShlLGFyZ3VtZW50cyksZX0sdmFsaWRhdGVNdWx0aXBsZTpmdW5jdGlvbihlLGksbyxhKXt2YXIgcz1jKHQpLHU9cj9mdW5jdGlvbihlLHQsbil7cmV0dXJuIHIoZSx0LG4pfHxzKGUsdCxuKX06cyxsPW5ldyBkKG4sITAsdSxvLGEpOyJzdHJpbmciPT10eXBlb2YgaSYmKGk9eyRyZWY6aX0pLGwuYWRkU2NoZW1hKCIiLGkpLGwudmFsaWRhdGVBbGwoZSxpLG51bGwsbnVsbCwiIiksYSYmbC5iYW5Vbmtub3duUHJvcGVydGllcyhlLGkpO3ZhciBmPXt9O3JldHVybiBmLmVycm9ycz1sLmVycm9ycyxmLm1pc3Npbmc9bC5taXNzaW5nLGYudmFsaWQ9MD09PWYuZXJyb3JzLmxlbmd0aCxmfSxhZGRTY2hlbWE6ZnVuY3Rpb24oKXtyZXR1cm4gbi5hZGRTY2hlbWEuYXBwbHkobixhcmd1bWVudHMpfSxnZXRTY2hlbWE6ZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRTY2hlbWEuYXBwbHkobixhcmd1bWVudHMpfSxnZXRTY2hlbWFNYXA6ZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRTY2hlbWFNYXAuYXBwbHkobixhcmd1bWVudHMpfSxnZXRTY2hlbWFVcmlzOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0U2NoZW1hVXJpcy5hcHBseShuLGFyZ3VtZW50cyl9LGdldE1pc3NpbmdVcmlzOmZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0TWlzc2luZ1VyaXMuYXBwbHkobixhcmd1bWVudHMpfSxkcm9wU2NoZW1hczpmdW5jdGlvbigpe24uZHJvcFNjaGVtYXMuYXBwbHkobixhcmd1bWVudHMpfSxkZWZpbmVLZXl3b3JkOmZ1bmN0aW9uKCl7bi5kZWZpbmVLZXl3b3JkLmFwcGx5KG4sYXJndW1lbnRzKX0sZGVmaW5lRXJyb3I6ZnVuY3Rpb24oZSx0LHIpe2lmKCJzdHJpbmciIT10eXBlb2YgZXx8IS9eW0EtWl0rKF9bQS1aXSspKiQvLnRlc3QoZSkpdGhyb3cgbmV3IEVycm9yKCJDb2RlIG5hbWUgbXVzdCBiZSBhIHN0cmluZyBpbiBVUFBFUl9DQVNFX1dJVEhfVU5ERVJTQ09SRVMiKTtpZigibnVtYmVyIiE9dHlwZW9mIHR8fHQlMSE9PTB8fDFlND50KXRocm93IG5ldyBFcnJvcigiQ29kZSBudW1iZXIgbXVzdCBiZSBhbiBpbnRlZ2VyID4gMTAwMDAiKTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIG1bZV0pdGhyb3cgbmV3IEVycm9yKCJFcnJvciBhbHJlYWR5IGRlZmluZWQ6ICIrZSsiIGFzICIrbVtlXSk7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBiW3RdKXRocm93IG5ldyBFcnJvcigiRXJyb3IgY29kZSBhbHJlYWR5IHVzZWQ6ICIrYlt0XSsiIGFzICIrdCk7bVtlXT10LGJbdF09ZSxnW2VdPWdbdF09cjtmb3IodmFyIG4gaW4gail7dmFyIGk9altuXTtpW2VdJiYoaVt0XT1pW3RdfHxpW2VdKX19LHJlc2V0OmZ1bmN0aW9uKCl7bi5yZXNldCgpLHRoaXMuZXJyb3I9bnVsbCx0aGlzLm1pc3Npbmc9W10sdGhpcy52YWxpZD0hMH0sbWlzc2luZzpbXSxlcnJvcjpudWxsLHZhbGlkOiEwLG5vcm1TY2hlbWE6cyxyZXNvbHZlVXJsOm8sZ2V0RG9jdW1lbnRVcmk6YSxlcnJvckNvZGVzOm19O3JldHVybiBpLmxhbmd1YWdlKGV8fCJlbiIpLGl9T2JqZWN0LmtleXN8fChPYmplY3Qua2V5cz1mdW5jdGlvbigpe3ZhciBlPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksdD0he3RvU3RyaW5nOm51bGx9LnByb3BlcnR5SXNFbnVtZXJhYmxlKCJ0b1N0cmluZyIpLHI9WyJ0b1N0cmluZyIsInRvTG9jYWxlU3RyaW5nIiwidmFsdWVPZiIsImhhc093blByb3BlcnR5IiwiaXNQcm90b3R5cGVPZiIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiY29uc3RydWN0b3IiXSxuPXIubGVuZ3RoO3JldHVybiBmdW5jdGlvbihpKXtpZigib2JqZWN0IiE9dHlwZW9mIGkmJiJmdW5jdGlvbiIhPXR5cGVvZiBpfHxudWxsPT09aSl0aHJvdyBuZXcgVHlwZUVycm9yKCJPYmplY3Qua2V5cyBjYWxsZWQgb24gbm9uLW9iamVjdCIpO3ZhciBvPVtdO2Zvcih2YXIgYSBpbiBpKWUuY2FsbChpLGEpJiZvLnB1c2goYSk7aWYodClmb3IodmFyIHM9MDtuPnM7cysrKWUuY2FsbChpLHJbc10pJiZvLnB1c2gocltzXSk7cmV0dXJuIG99fSgpKSxPYmplY3QuY3JlYXRlfHwoT2JqZWN0LmNyZWF0ZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKDEhPT1hcmd1bWVudHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcigiT2JqZWN0LmNyZWF0ZSBpbXBsZW1lbnRhdGlvbiBvbmx5IGFjY2VwdHMgb25lIHBhcmFtZXRlci4iKTtyZXR1cm4gZS5wcm90b3R5cGU9dCxuZXcgZX19KCkpLEFycmF5LmlzQXJyYXl8fChBcnJheS5pc0FycmF5PWZ1bmN0aW9uKGUpe3JldHVybiJbb2JqZWN0IEFycmF5XSI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSl9KSxBcnJheS5wcm90b3R5cGUuaW5kZXhPZnx8KEFycmF5LnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKGUpe2lmKG51bGw9PT10aGlzKXRocm93IG5ldyBUeXBlRXJyb3I7dmFyIHQ9T2JqZWN0KHRoaXMpLHI9dC5sZW5ndGg+Pj4wO2lmKDA9PT1yKXJldHVybi0xO3ZhciBuPTA7aWYoYXJndW1lbnRzLmxlbmd0aD4xJiYobj1OdW1iZXIoYXJndW1lbnRzWzFdKSxuIT09bj9uPTA6MCE9PW4mJm4hPT0xLzAmJm4hPT0tKDEvMCkmJihuPShuPjB8fC0xKSpNYXRoLmZsb29yKE1hdGguYWJzKG4pKSkpLG4+PXIpcmV0dXJuLTE7Zm9yKHZhciBpPW4+PTA/bjpNYXRoLm1heChyLU1hdGguYWJzKG4pLDApO3I+aTtpKyspaWYoaSBpbiB0JiZ0W2ldPT09ZSlyZXR1cm4gaTtyZXR1cm4tMX0pLE9iamVjdC5pc0Zyb3plbnx8KE9iamVjdC5pc0Zyb3plbj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9InR2NF90ZXN0X2Zyb3plbl9rZXkiO2UuaGFzT3duUHJvcGVydHkodCk7KXQrPU1hdGgucmFuZG9tKCk7dHJ5e3JldHVybiBlW3RdPSEwLGRlbGV0ZSBlW3RdLCExfWNhdGNoKHIpe3JldHVybiEwfX0pO3ZhciBwPXsiKyI6ITAsIiMiOiEwLCIuIjohMCwiLyI6ITAsIjsiOiEwLCI/IjohMCwiJiI6ITB9LGg9eyIqIjohMH07ci5wcm90b3R5cGU9e3RvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGVtcGxhdGV9LGZpbGxGcm9tT2JqZWN0OmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmZpbGwoZnVuY3Rpb24odCl7cmV0dXJuIGVbdF19KX19O3ZhciBkPWZ1bmN0aW9uKGUsdCxyLG4saSl7aWYodGhpcy5taXNzaW5nPVtdLHRoaXMubWlzc2luZ01hcD17fSx0aGlzLmZvcm1hdFZhbGlkYXRvcnM9ZT9PYmplY3QuY3JlYXRlKGUuZm9ybWF0VmFsaWRhdG9ycyk6e30sdGhpcy5zY2hlbWFzPWU/T2JqZWN0LmNyZWF0ZShlLnNjaGVtYXMpOnt9LHRoaXMuY29sbGVjdE11bHRpcGxlPXQsdGhpcy5lcnJvcnM9W10sdGhpcy5oYW5kbGVFcnJvcj10P3RoaXMuY29sbGVjdEVycm9yOnRoaXMucmV0dXJuRXJyb3IsbiYmKHRoaXMuY2hlY2tSZWN1cnNpdmU9ITAsdGhpcy5zY2FubmVkPVtdLHRoaXMuc2Nhbm5lZEZyb3plbj1bXSx0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzPVtdLHRoaXMuc2Nhbm5lZEZyb3plblZhbGlkYXRpb25FcnJvcnM9W10sdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5PSJ0djRfdmFsaWRhdGlvbl9pZCIsdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5PSJ0djRfdmFsaWRhdGlvbl9lcnJvcnNfaWQiKSxpJiYodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzPSEwLHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzPXt9LHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM9e30pLHRoaXMuZXJyb3JSZXBvcnRlcj1yfHxjKCJlbiIpLCJzdHJpbmciPT10eXBlb2YgdGhpcy5lcnJvclJlcG9ydGVyKXRocm93IG5ldyBFcnJvcigiZGVidWciKTtpZih0aGlzLmRlZmluZWRLZXl3b3Jkcz17fSxlKWZvcih2YXIgbyBpbiBlLmRlZmluZWRLZXl3b3Jkcyl0aGlzLmRlZmluZWRLZXl3b3Jkc1tvXT1lLmRlZmluZWRLZXl3b3Jkc1tvXS5zbGljZSgwKX07ZC5wcm90b3R5cGUuZGVmaW5lS2V5d29yZD1mdW5jdGlvbihlLHQpe3RoaXMuZGVmaW5lZEtleXdvcmRzW2VdPXRoaXMuZGVmaW5lZEtleXdvcmRzW2VdfHxbXSx0aGlzLmRlZmluZWRLZXl3b3Jkc1tlXS5wdXNoKHQpfSxkLnByb3RvdHlwZS5jcmVhdGVFcnJvcj1mdW5jdGlvbihlLHQscixuLGksbyxhKXt2YXIgcz1uZXcgdShlLHQscixuLGkpO3JldHVybiBzLm1lc3NhZ2U9dGhpcy5lcnJvclJlcG9ydGVyKHMsbyxhKSxzfSxkLnByb3RvdHlwZS5yZXR1cm5FcnJvcj1mdW5jdGlvbihlKXtyZXR1cm4gZX0sZC5wcm90b3R5cGUuY29sbGVjdEVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiBlJiZ0aGlzLmVycm9ycy5wdXNoKGUpLG51bGx9LGQucHJvdG90eXBlLnByZWZpeEVycm9ycz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBuPWU7bjx0aGlzLmVycm9ycy5sZW5ndGg7bisrKXRoaXMuZXJyb3JzW25dPXRoaXMuZXJyb3JzW25dLnByZWZpeFdpdGgodCxyKTtyZXR1cm4gdGhpc30sZC5wcm90b3R5cGUuYmFuVW5rbm93blByb3BlcnRpZXM9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHIgaW4gdGhpcy51bmtub3duUHJvcGVydHlQYXRocyl7dmFyIG49dGhpcy5jcmVhdGVFcnJvcihtLlVOS05PV05fUFJPUEVSVFkse3BhdGg6cn0sciwiIixudWxsLGUsdCksaT10aGlzLmhhbmRsZUVycm9yKG4pO2lmKGkpcmV0dXJuIGl9cmV0dXJuIG51bGx9LGQucHJvdG90eXBlLmFkZEZvcm1hdD1mdW5jdGlvbihlLHQpe2lmKCJvYmplY3QiPT10eXBlb2YgZSl7Zm9yKHZhciByIGluIGUpdGhpcy5hZGRGb3JtYXQocixlW3JdKTtyZXR1cm4gdGhpc310aGlzLmZvcm1hdFZhbGlkYXRvcnNbZV09dH0sZC5wcm90b3R5cGUucmVzb2x2ZVJlZnM9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDAhPT1lLiRyZWYpe2lmKHQ9dHx8e30sdFtlLiRyZWZdKXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKG0uQ0lSQ1VMQVJfUkVGRVJFTkNFLHt1cmxzOk9iamVjdC5rZXlzKHQpLmpvaW4oIiwgIil9LCIiLCIiLG51bGwsdm9pZCAwLGUpO3RbZS4kcmVmXT0hMCxlPXRoaXMuZ2V0U2NoZW1hKGUuJHJlZix0KX1yZXR1cm4gZX0sZC5wcm90b3R5cGUuZ2V0U2NoZW1hPWZ1bmN0aW9uKGUsdCl7dmFyIHI7aWYodm9pZCAwIT09dGhpcy5zY2hlbWFzW2VdKXJldHVybiByPXRoaXMuc2NoZW1hc1tlXSx0aGlzLnJlc29sdmVSZWZzKHIsdCk7dmFyIG49ZSxpPSIiO2lmKC0xIT09ZS5pbmRleE9mKCIjIikmJihpPWUuc3Vic3RyaW5nKGUuaW5kZXhPZigiIyIpKzEpLG49ZS5zdWJzdHJpbmcoMCxlLmluZGV4T2YoIiMiKSkpLCJvYmplY3QiPT10eXBlb2YgdGhpcy5zY2hlbWFzW25dKXtyPXRoaXMuc2NoZW1hc1tuXTt2YXIgbz1kZWNvZGVVUklDb21wb25lbnQoaSk7aWYoIiI9PT1vKXJldHVybiB0aGlzLnJlc29sdmVSZWZzKHIsdCk7aWYoIi8iIT09by5jaGFyQXQoMCkpcmV0dXJuO2Zvcih2YXIgYT1vLnNwbGl0KCIvIikuc2xpY2UoMSkscz0wO3M8YS5sZW5ndGg7cysrKXt2YXIgYz1hW3NdLnJlcGxhY2UoL34xL2csIi8iKS5yZXBsYWNlKC9+MC9nLCJ+Iik7aWYodm9pZCAwPT09cltjXSl7cj12b2lkIDA7YnJlYWt9cj1yW2NdfWlmKHZvaWQgMCE9PXIpcmV0dXJuIHRoaXMucmVzb2x2ZVJlZnMocix0KX12b2lkIDA9PT10aGlzLm1pc3Npbmdbbl0mJih0aGlzLm1pc3NpbmcucHVzaChuKSx0aGlzLm1pc3Npbmdbbl09bix0aGlzLm1pc3NpbmdNYXBbbl09bil9LGQucHJvdG90eXBlLnNlYXJjaFNjaGVtYXM9ZnVuY3Rpb24oZSx0KXtpZihBcnJheS5pc0FycmF5KGUpKWZvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKXRoaXMuc2VhcmNoU2NoZW1hcyhlW3JdLHQpO2Vsc2UgaWYoZSYmIm9iamVjdCI9PXR5cGVvZiBlKXsic3RyaW5nIj09dHlwZW9mIGUuaWQmJmwodCxlLmlkKSYmdm9pZCAwPT09dGhpcy5zY2hlbWFzW2UuaWRdJiYodGhpcy5zY2hlbWFzW2UuaWRdPWUpO2Zvcih2YXIgbiBpbiBlKWlmKCJlbnVtIiE9PW4paWYoIm9iamVjdCI9PXR5cGVvZiBlW25dKXRoaXMuc2VhcmNoU2NoZW1hcyhlW25dLHQpO2Vsc2UgaWYoIiRyZWYiPT09bil7dmFyIGk9YShlW25dKTtpJiZ2b2lkIDA9PT10aGlzLnNjaGVtYXNbaV0mJnZvaWQgMD09PXRoaXMubWlzc2luZ01hcFtpXSYmKHRoaXMubWlzc2luZ01hcFtpXT1pKX19fSxkLnByb3RvdHlwZS5hZGRTY2hlbWE9ZnVuY3Rpb24oZSx0KXtpZigic3RyaW5nIiE9dHlwZW9mIGV8fCJ1bmRlZmluZWQiPT10eXBlb2YgdCl7aWYoIm9iamVjdCIhPXR5cGVvZiBlfHwic3RyaW5nIiE9dHlwZW9mIGUuaWQpcmV0dXJuO3Q9ZSxlPXQuaWR9ZT09PWEoZSkrIiMiJiYoZT1hKGUpKSx0aGlzLnNjaGVtYXNbZV09dCxkZWxldGUgdGhpcy5taXNzaW5nTWFwW2VdLHModCxlKSx0aGlzLnNlYXJjaFNjaGVtYXModCxlKX0sZC5wcm90b3R5cGUuZ2V0U2NoZW1hTWFwPWZ1bmN0aW9uKCl7dmFyIGU9e307Zm9yKHZhciB0IGluIHRoaXMuc2NoZW1hcyllW3RdPXRoaXMuc2NoZW1hc1t0XTtyZXR1cm4gZX0sZC5wcm90b3R5cGUuZ2V0U2NoZW1hVXJpcz1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gdGhpcy5zY2hlbWFzKWUmJiFlLnRlc3Qocil8fHQucHVzaChyKTtyZXR1cm4gdH0sZC5wcm90b3R5cGUuZ2V0TWlzc2luZ1VyaXM9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIHRoaXMubWlzc2luZ01hcCllJiYhZS50ZXN0KHIpfHx0LnB1c2gocik7cmV0dXJuIHR9LGQucHJvdG90eXBlLmRyb3BTY2hlbWFzPWZ1bmN0aW9uKCl7dGhpcy5zY2hlbWFzPXt9LHRoaXMucmVzZXQoKX0sZC5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLm1pc3Npbmc9W10sdGhpcy5taXNzaW5nTWFwPXt9LHRoaXMuZXJyb3JzPVtdfSxkLnByb3RvdHlwZS52YWxpZGF0ZUFsbD1mdW5jdGlvbihlLHQscixuLGkpe3ZhciBvO2lmKHQ9dGhpcy5yZXNvbHZlUmVmcyh0KSwhdClyZXR1cm4gbnVsbDtpZih0IGluc3RhbmNlb2YgdSlyZXR1cm4gdGhpcy5lcnJvcnMucHVzaCh0KSx0O3ZhciBhLHM9dGhpcy5lcnJvcnMubGVuZ3RoLGM9bnVsbCxsPW51bGw7aWYodGhpcy5jaGVja1JlY3Vyc2l2ZSYmZSYmIm9iamVjdCI9PXR5cGVvZiBlKXtpZihvPSF0aGlzLnNjYW5uZWQubGVuZ3RoLGVbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XSl7dmFyIGY9ZVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldLmluZGV4T2YodCk7aWYoLTEhPT1mKXJldHVybiB0aGlzLmVycm9ycz10aGlzLmVycm9ycy5jb25jYXQoZVt0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXldW2ZdKSxudWxsfWlmKE9iamVjdC5pc0Zyb3plbihlKSYmKGE9dGhpcy5zY2FubmVkRnJvemVuLmluZGV4T2YoZSksLTEhPT1hKSl7dmFyIHA9dGhpcy5zY2FubmVkRnJvemVuU2NoZW1hc1thXS5pbmRleE9mKHQpO2lmKC0xIT09cClyZXR1cm4gdGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuY29uY2F0KHRoaXMuc2Nhbm5lZEZyb3plblZhbGlkYXRpb25FcnJvcnNbYV1bcF0pLG51bGx9aWYodGhpcy5zY2FubmVkLnB1c2goZSksT2JqZWN0LmlzRnJvemVuKGUpKS0xPT09YSYmKGE9dGhpcy5zY2FubmVkRnJvemVuLmxlbmd0aCx0aGlzLnNjYW5uZWRGcm96ZW4ucHVzaChlKSx0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzLnB1c2goW10pKSxjPXRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXNbYV0ubGVuZ3RoLHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXNbYV1bY109dCx0aGlzLnNjYW5uZWRGcm96ZW5WYWxpZGF0aW9uRXJyb3JzW2FdW2NdPVtdO2Vsc2V7aWYoIWVbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XSl0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5LHt2YWx1ZTpbXSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXkse3ZhbHVlOltdLGNvbmZpZ3VyYWJsZTohMH0pfWNhdGNoKGgpe2VbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XT1bXSxlW3RoaXMudmFsaWRhdGlvbkVycm9yc0tleV09W119bD1lW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV0ubGVuZ3RoLGVbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XVtsXT10LGVbdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5XVtsXT1bXX19dmFyIGQ9dGhpcy5lcnJvcnMubGVuZ3RoLHk9dGhpcy52YWxpZGF0ZUJhc2ljKGUsdCxpKXx8dGhpcy52YWxpZGF0ZU51bWVyaWMoZSx0LGkpfHx0aGlzLnZhbGlkYXRlU3RyaW5nKGUsdCxpKXx8dGhpcy52YWxpZGF0ZUFycmF5KGUsdCxpKXx8dGhpcy52YWxpZGF0ZU9iamVjdChlLHQsaSl8fHRoaXMudmFsaWRhdGVDb21iaW5hdGlvbnMoZSx0LGkpfHx0aGlzLnZhbGlkYXRlSHlwZXJtZWRpYShlLHQsaSl8fHRoaXMudmFsaWRhdGVGb3JtYXQoZSx0LGkpfHx0aGlzLnZhbGlkYXRlRGVmaW5lZEtleXdvcmRzKGUsdCxpKXx8bnVsbDtpZihvKXtmb3IoO3RoaXMuc2Nhbm5lZC5sZW5ndGg7KXt2YXIgXz10aGlzLnNjYW5uZWQucG9wKCk7ZGVsZXRlIF9bdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XX10aGlzLnNjYW5uZWRGcm96ZW49W10sdGhpcy5zY2FubmVkRnJvemVuU2NoZW1hcz1bXX1pZih5fHxkIT09dGhpcy5lcnJvcnMubGVuZ3RoKWZvcig7ciYmci5sZW5ndGh8fG4mJm4ubGVuZ3RoOyl7dmFyIG09ciYmci5sZW5ndGg/IiIrci5wb3AoKTpudWxsLGI9biYmbi5sZW5ndGg/IiIrbi5wb3AoKTpudWxsO3kmJih5PXkucHJlZml4V2l0aChtLGIpKSx0aGlzLnByZWZpeEVycm9ycyhkLG0sYil9cmV0dXJuIG51bGwhPT1jP3RoaXMuc2Nhbm5lZEZyb3plblZhbGlkYXRpb25FcnJvcnNbYV1bY109dGhpcy5lcnJvcnMuc2xpY2Uocyk6bnVsbCE9PWwmJihlW3RoaXMudmFsaWRhdGlvbkVycm9yc0tleV1bbF09dGhpcy5lcnJvcnMuc2xpY2UocykpLHRoaXMuaGFuZGxlRXJyb3IoeSl9LGQucHJvdG90eXBlLnZhbGlkYXRlRm9ybWF0PWZ1bmN0aW9uKGUsdCl7aWYoInN0cmluZyIhPXR5cGVvZiB0LmZvcm1hdHx8IXRoaXMuZm9ybWF0VmFsaWRhdG9yc1t0LmZvcm1hdF0pcmV0dXJuIG51bGw7dmFyIHI9dGhpcy5mb3JtYXRWYWxpZGF0b3JzW3QuZm9ybWF0XS5jYWxsKG51bGwsZSx0KTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIHJ8fCJudW1iZXIiPT10eXBlb2Ygcj90aGlzLmNyZWF0ZUVycm9yKG0uRk9STUFUX0NVU1RPTSx7bWVzc2FnZTpyfSwiIiwiL2Zvcm1hdCIsbnVsbCxlLHQpOnImJiJvYmplY3QiPT10eXBlb2Ygcj90aGlzLmNyZWF0ZUVycm9yKG0uRk9STUFUX0NVU1RPTSx7bWVzc2FnZTpyLm1lc3NhZ2V8fCI/In0sci5kYXRhUGF0aHx8IiIsci5zY2hlbWFQYXRofHwiL2Zvcm1hdCIsbnVsbCxlLHQpOm51bGx9LGQucHJvdG90eXBlLnZhbGlkYXRlRGVmaW5lZEtleXdvcmRzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG4gaW4gdGhpcy5kZWZpbmVkS2V5d29yZHMpaWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0W25dKWZvcih2YXIgaT10aGlzLmRlZmluZWRLZXl3b3Jkc1tuXSxvPTA7bzxpLmxlbmd0aDtvKyspe3ZhciBhPWlbb10scz1hKGUsdFtuXSx0LHIpO2lmKCJzdHJpbmciPT10eXBlb2Ygc3x8Im51bWJlciI9PXR5cGVvZiBzKXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKG0uS0VZV09SRF9DVVNUT00se2tleTpuLG1lc3NhZ2U6c30sIiIsIiIsbnVsbCxlLHQpLnByZWZpeFdpdGgobnVsbCxuKTtpZihzJiYib2JqZWN0Ij09dHlwZW9mIHMpe3ZhciBjPXMuY29kZTtpZigic3RyaW5nIj09dHlwZW9mIGMpe2lmKCFtW2NdKXRocm93IG5ldyBFcnJvcigiVW5kZWZpbmVkIGVycm9yIGNvZGUgKHVzZSBkZWZpbmVFcnJvcik6ICIrYyk7Yz1tW2NdfWVsc2UibnVtYmVyIiE9dHlwZW9mIGMmJihjPW0uS0VZV09SRF9DVVNUT00pO3ZhciB1PSJvYmplY3QiPT10eXBlb2Ygcy5tZXNzYWdlP3MubWVzc2FnZTp7a2V5Om4sbWVzc2FnZTpzLm1lc3NhZ2V8fCI/In0sbD1zLnNjaGVtYVBhdGh8fCIvIituLnJlcGxhY2UoL34vZywifjAiKS5yZXBsYWNlKC9cLy9nLCJ+MSIpO3JldHVybiB0aGlzLmNyZWF0ZUVycm9yKGMsdSxzLmRhdGFQYXRofHxudWxsLGwsbnVsbCxlLHQpfX1yZXR1cm4gbnVsbH0sZC5wcm90b3R5cGUudmFsaWRhdGVCYXNpYz1mdW5jdGlvbihlLHQscil7dmFyIG47cmV0dXJuKG49dGhpcy52YWxpZGF0ZVR5cGUoZSx0LHIpKT9uLnByZWZpeFdpdGgobnVsbCwidHlwZSIpOihuPXRoaXMudmFsaWRhdGVFbnVtKGUsdCxyKSk/bi5wcmVmaXhXaXRoKG51bGwsInR5cGUiKTpudWxsfSxkLnByb3RvdHlwZS52YWxpZGF0ZVR5cGU9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDA9PT10LnR5cGUpcmV0dXJuIG51bGw7dmFyIHI9dHlwZW9mIGU7bnVsbD09PWU/cj0ibnVsbCI6QXJyYXkuaXNBcnJheShlKSYmKHI9ImFycmF5Iik7dmFyIG49dC50eXBlO0FycmF5LmlzQXJyYXkobil8fChuPVtuXSk7Zm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspe3ZhciBvPW5baV07aWYobz09PXJ8fCJpbnRlZ2VyIj09PW8mJiJudW1iZXIiPT09ciYmZSUxPT09MClyZXR1cm4gbnVsbH1yZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihtLklOVkFMSURfVFlQRSx7dHlwZTpyLGV4cGVjdGVkOm4uam9pbigiLyIpfSwiIiwiIixudWxsLGUsdCl9LGQucHJvdG90eXBlLnZhbGlkYXRlRW51bT1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXRbImVudW0iXSlyZXR1cm4gbnVsbDtmb3IodmFyIHI9MDtyPHRbImVudW0iXS5sZW5ndGg7cisrKXt2YXIgaT10WyJlbnVtIl1bcl07aWYobihlLGkpKXJldHVybiBudWxsfXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKG0uRU5VTV9NSVNNQVRDSCx7dmFsdWU6InVuZGVmaW5lZCIhPXR5cGVvZiBKU09OP0pTT04uc3RyaW5naWZ5KGUpOmV9LCIiLCIiLG51bGwsZSx0KX0sZC5wcm90b3R5cGUudmFsaWRhdGVOdW1lcmljPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy52YWxpZGF0ZU11bHRpcGxlT2YoZSx0LHIpfHx0aGlzLnZhbGlkYXRlTWluTWF4KGUsdCxyKXx8dGhpcy52YWxpZGF0ZU5hTihlLHQscil8fG51bGx9O3ZhciB5PU1hdGgucG93KDIsLTUxKSxfPTEteTtkLnByb3RvdHlwZS52YWxpZGF0ZU11bHRpcGxlT2Y9ZnVuY3Rpb24oZSx0KXt2YXIgcj10Lm11bHRpcGxlT2Z8fHQuZGl2aXNpYmxlQnk7aWYodm9pZCAwPT09cilyZXR1cm4gbnVsbDtpZigibnVtYmVyIj09dHlwZW9mIGUpe3ZhciBuPWUvciUxO2lmKG4+PXkmJl8+bilyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihtLk5VTUJFUl9NVUxUSVBMRV9PRix7dmFsdWU6ZSxtdWx0aXBsZU9mOnJ9LCIiLCIiLG51bGwsZSx0KX1yZXR1cm4gbnVsbH0sZC5wcm90b3R5cGUudmFsaWRhdGVNaW5NYXg9ZnVuY3Rpb24oZSx0KXtpZigibnVtYmVyIiE9dHlwZW9mIGUpcmV0dXJuIG51bGw7aWYodm9pZCAwIT09dC5taW5pbXVtKXtpZihlPHQubWluaW11bSlyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihtLk5VTUJFUl9NSU5JTVVNLHt2YWx1ZTplLG1pbmltdW06dC5taW5pbXVtfSwiIiwiL21pbmltdW0iLG51bGwsZSx0KTtpZih0LmV4Y2x1c2l2ZU1pbmltdW0mJmU9PT10Lm1pbmltdW0pcmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IobS5OVU1CRVJfTUlOSU1VTV9FWENMVVNJVkUse3ZhbHVlOmUsbWluaW11bTp0Lm1pbmltdW19LCIiLCIvZXhjbHVzaXZlTWluaW11bSIsbnVsbCxlLHQpfWlmKHZvaWQgMCE9PXQubWF4aW11bSl7aWYoZT50Lm1heGltdW0pcmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IobS5OVU1CRVJfTUFYSU1VTSx7dmFsdWU6ZSxtYXhpbXVtOnQubWF4aW11bX0sIiIsIi9tYXhpbXVtIixudWxsLGUsdCk7aWYodC5leGNsdXNpdmVNYXhpbXVtJiZlPT09dC5tYXhpbXVtKXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKG0uTlVNQkVSX01BWElNVU1fRVhDTFVTSVZFLHt2YWx1ZTplLG1heGltdW06dC5tYXhpbXVtfSwiIiwiL2V4Y2x1c2l2ZU1heGltdW0iLG51bGwsZSx0KX1yZXR1cm4gbnVsbH0sZC5wcm90b3R5cGUudmFsaWRhdGVOYU49ZnVuY3Rpb24oZSx0KXtyZXR1cm4ibnVtYmVyIiE9dHlwZW9mIGU/bnVsbDppc05hTihlKT09PSEwfHxlPT09MS8wfHxlPT09LSgxLzApP3RoaXMuY3JlYXRlRXJyb3IobS5OVU1CRVJfTk9UX0FfTlVNQkVSLHt2YWx1ZTplfSwiIiwiL3R5cGUiLG51bGwsZSx0KTpudWxsfSxkLnByb3RvdHlwZS52YWxpZGF0ZVN0cmluZz1mdW5jdGlvbihlLHQscil7cmV0dXJuIHRoaXMudmFsaWRhdGVTdHJpbmdMZW5ndGgoZSx0LHIpfHx0aGlzLnZhbGlkYXRlU3RyaW5nUGF0dGVybihlLHQscil8fG51bGx9LGQucHJvdG90eXBlLnZhbGlkYXRlU3RyaW5nTGVuZ3RoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuInN0cmluZyIhPXR5cGVvZiBlP251bGw6dm9pZCAwIT09dC5taW5MZW5ndGgmJmUubGVuZ3RoPHQubWluTGVuZ3RoP3RoaXMuY3JlYXRlRXJyb3IobS5TVFJJTkdfTEVOR1RIX1NIT1JULHtsZW5ndGg6ZS5sZW5ndGgsbWluaW11bTp0Lm1pbkxlbmd0aH0sIiIsIi9taW5MZW5ndGgiLG51bGwsZSx0KTp2b2lkIDAhPT10Lm1heExlbmd0aCYmZS5sZW5ndGg+dC5tYXhMZW5ndGg/dGhpcy5jcmVhdGVFcnJvcihtLlNUUklOR19MRU5HVEhfTE9ORyx7bGVuZ3RoOmUubGVuZ3RoLG1heGltdW06dC5tYXhMZW5ndGh9LCIiLCIvbWF4TGVuZ3RoIixudWxsLGUsdCk6bnVsbH0sZC5wcm90b3R5cGUudmFsaWRhdGVTdHJpbmdQYXR0ZXJuPWZ1bmN0aW9uKGUsdCl7aWYoInN0cmluZyIhPXR5cGVvZiBlfHwic3RyaW5nIiE9dHlwZW9mIHQucGF0dGVybiYmISh0LnBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApKXJldHVybiBudWxsO3ZhciByO2lmKHQucGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cClyPXQucGF0dGVybjtlbHNle3ZhciBuLGk9IiIsbz10LnBhdHRlcm4ubWF0Y2goL15cLyguKylcLyhbaW1nXSopJC8pO28/KG49b1sxXSxpPW9bMl0pOm49dC5wYXR0ZXJuLHI9bmV3IFJlZ0V4cChuLGkpfXJldHVybiByLnRlc3QoZSk/bnVsbDp0aGlzLmNyZWF0ZUVycm9yKG0uU1RSSU5HX1BBVFRFUk4se3BhdHRlcm46dC5wYXR0ZXJufSwiIiwiL3BhdHRlcm4iLG51bGwsZSx0KX0sZC5wcm90b3R5cGUudmFsaWRhdGVBcnJheT1mdW5jdGlvbihlLHQscil7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/dGhpcy52YWxpZGF0ZUFycmF5TGVuZ3RoKGUsdCxyKXx8dGhpcy52YWxpZGF0ZUFycmF5VW5pcXVlSXRlbXMoZSx0LHIpfHx0aGlzLnZhbGlkYXRlQXJyYXlJdGVtcyhlLHQscil8fG51bGw6bnVsbH0sZC5wcm90b3R5cGUudmFsaWRhdGVBcnJheUxlbmd0aD1mdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiB2b2lkIDAhPT10Lm1pbkl0ZW1zJiZlLmxlbmd0aDx0Lm1pbkl0ZW1zJiYocj10aGlzLmNyZWF0ZUVycm9yKG0uQVJSQVlfTEVOR1RIX1NIT1JULHtsZW5ndGg6ZS5sZW5ndGgsbWluaW11bTp0Lm1pbkl0ZW1zfSwiIiwiL21pbkl0ZW1zIixudWxsLGUsdCksdGhpcy5oYW5kbGVFcnJvcihyKSk/cjp2b2lkIDAhPT10Lm1heEl0ZW1zJiZlLmxlbmd0aD50Lm1heEl0ZW1zJiYocj10aGlzLmNyZWF0ZUVycm9yKG0uQVJSQVlfTEVOR1RIX0xPTkcse2xlbmd0aDplLmxlbmd0aCxtYXhpbXVtOnQubWF4SXRlbXN9LCIiLCIvbWF4SXRlbXMiLG51bGwsZSx0KSx0aGlzLmhhbmRsZUVycm9yKHIpKT9yOm51bGx9LGQucHJvdG90eXBlLnZhbGlkYXRlQXJyYXlVbmlxdWVJdGVtcz1mdW5jdGlvbihlLHQpe2lmKHQudW5pcXVlSXRlbXMpZm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspZm9yKHZhciBpPXIrMTtpPGUubGVuZ3RoO2krKylpZihuKGVbcl0sZVtpXSkpe3ZhciBvPXRoaXMuY3JlYXRlRXJyb3IobS5BUlJBWV9VTklRVUUse21hdGNoMTpyLG1hdGNoMjppfSwiIiwiL3VuaXF1ZUl0ZW1zIixudWxsLGUsdCk7aWYodGhpcy5oYW5kbGVFcnJvcihvKSlyZXR1cm4gb31yZXR1cm4gbnVsbH0sZC5wcm90b3R5cGUudmFsaWRhdGVBcnJheUl0ZW1zPWZ1bmN0aW9uKGUsdCxyKXtpZih2b2lkIDA9PT10Lml0ZW1zKXJldHVybiBudWxsO3ZhciBuLGk7aWYoQXJyYXkuaXNBcnJheSh0Lml0ZW1zKSl7Zm9yKGk9MDtpPGUubGVuZ3RoO2krKylpZihpPHQuaXRlbXMubGVuZ3RoKXtpZihuPXRoaXMudmFsaWRhdGVBbGwoZVtpXSx0Lml0ZW1zW2ldLFtpXSxbIml0ZW1zIixpXSxyKyIvIitpKSlyZXR1cm4gbn1lbHNlIGlmKHZvaWQgMCE9PXQuYWRkaXRpb25hbEl0ZW1zKWlmKCJib29sZWFuIj09dHlwZW9mIHQuYWRkaXRpb25hbEl0ZW1zKXtpZighdC5hZGRpdGlvbmFsSXRlbXMmJihuPXRoaXMuY3JlYXRlRXJyb3IobS5BUlJBWV9BRERJVElPTkFMX0lURU1TLHt9LCIvIitpLCIvYWRkaXRpb25hbEl0ZW1zIixudWxsLGUsdCksdGhpcy5oYW5kbGVFcnJvcihuKSkpcmV0dXJuIG59ZWxzZSBpZihuPXRoaXMudmFsaWRhdGVBbGwoZVtpXSx0LmFkZGl0aW9uYWxJdGVtcyxbaV0sWyJhZGRpdGlvbmFsSXRlbXMiXSxyKyIvIitpKSlyZXR1cm4gbn1lbHNlIGZvcihpPTA7aTxlLmxlbmd0aDtpKyspaWYobj10aGlzLnZhbGlkYXRlQWxsKGVbaV0sdC5pdGVtcyxbaV0sWyJpdGVtcyJdLHIrIi8iK2kpKXJldHVybiBuO3JldHVybiBudWxsfSxkLnByb3RvdHlwZS52YWxpZGF0ZU9iamVjdD1mdW5jdGlvbihlLHQscil7cmV0dXJuIm9iamVjdCIhPXR5cGVvZiBlfHxudWxsPT09ZXx8QXJyYXkuaXNBcnJheShlKT9udWxsOnRoaXMudmFsaWRhdGVPYmplY3RNaW5NYXhQcm9wZXJ0aWVzKGUsdCxyKXx8dGhpcy52YWxpZGF0ZU9iamVjdFJlcXVpcmVkUHJvcGVydGllcyhlLHQscil8fHRoaXMudmFsaWRhdGVPYmplY3RQcm9wZXJ0aWVzKGUsdCxyKXx8dGhpcy52YWxpZGF0ZU9iamVjdERlcGVuZGVuY2llcyhlLHQscil8fG51bGx9LGQucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0TWluTWF4UHJvcGVydGllcz1mdW5jdGlvbihlLHQpe3ZhciByLG49T2JqZWN0LmtleXMoZSk7cmV0dXJuIHZvaWQgMCE9PXQubWluUHJvcGVydGllcyYmbi5sZW5ndGg8dC5taW5Qcm9wZXJ0aWVzJiYocj10aGlzLmNyZWF0ZUVycm9yKG0uT0JKRUNUX1BST1BFUlRJRVNfTUlOSU1VTSx7cHJvcGVydHlDb3VudDpuLmxlbmd0aCxtaW5pbXVtOnQubWluUHJvcGVydGllc30sIiIsIi9taW5Qcm9wZXJ0aWVzIixudWxsLGUsdCksdGhpcy5oYW5kbGVFcnJvcihyKSk/cjp2b2lkIDAhPT10Lm1heFByb3BlcnRpZXMmJm4ubGVuZ3RoPnQubWF4UHJvcGVydGllcyYmKHI9dGhpcy5jcmVhdGVFcnJvcihtLk9CSkVDVF9QUk9QRVJUSUVTX01BWElNVU0se3Byb3BlcnR5Q291bnQ6bi5sZW5ndGgsbWF4aW11bTp0Lm1heFByb3BlcnRpZXN9LCIiLCIvbWF4UHJvcGVydGllcyIsbnVsbCxlLHQpLHRoaXMuaGFuZGxlRXJyb3IocikpP3I6bnVsbH0sZC5wcm90b3R5cGUudmFsaWRhdGVPYmplY3RSZXF1aXJlZFByb3BlcnRpZXM9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDAhPT10LnJlcXVpcmVkKWZvcih2YXIgcj0wO3I8dC5yZXF1aXJlZC5sZW5ndGg7cisrKXt2YXIgbj10LnJlcXVpcmVkW3JdO2lmKHZvaWQgMD09PWVbbl0pe3ZhciBpPXRoaXMuY3JlYXRlRXJyb3IobS5PQkpFQ1RfUkVRVUlSRUQse2tleTpufSwiIiwiL3JlcXVpcmVkLyIrcixudWxsLGUsdCk7aWYodGhpcy5oYW5kbGVFcnJvcihpKSlyZXR1cm4gaX19cmV0dXJuIG51bGx9LGQucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0UHJvcGVydGllcz1mdW5jdGlvbihlLHQscil7dmFyIG47Zm9yKHZhciBpIGluIGUpe3ZhciBvPXIrIi8iK2kucmVwbGFjZSgvfi9nLCJ+MCIpLnJlcGxhY2UoL1wvL2csIn4xIiksYT0hMTtpZih2b2lkIDAhPT10LnByb3BlcnRpZXMmJnZvaWQgMCE9PXQucHJvcGVydGllc1tpXSYmKGE9ITAsbj10aGlzLnZhbGlkYXRlQWxsKGVbaV0sdC5wcm9wZXJ0aWVzW2ldLFtpXSxbInByb3BlcnRpZXMiLGldLG8pKSlyZXR1cm4gbjtpZih2b2lkIDAhPT10LnBhdHRlcm5Qcm9wZXJ0aWVzKWZvcih2YXIgcyBpbiB0LnBhdHRlcm5Qcm9wZXJ0aWVzKXt2YXIgYz1uZXcgUmVnRXhwKHMpO2lmKGMudGVzdChpKSYmKGE9ITAsbj10aGlzLnZhbGlkYXRlQWxsKGVbaV0sdC5wYXR0ZXJuUHJvcGVydGllc1tzXSxbaV0sWyJwYXR0ZXJuUHJvcGVydGllcyIsc10sbykpKXJldHVybiBufWlmKGEpdGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYodGhpcy5rbm93blByb3BlcnR5UGF0aHNbb109ITAsZGVsZXRlIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHNbb10pO2Vsc2UgaWYodm9pZCAwIT09dC5hZGRpdGlvbmFsUHJvcGVydGllcyl7aWYodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYodGhpcy5rbm93blByb3BlcnR5UGF0aHNbb109ITAsZGVsZXRlIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHNbb10pLCJib29sZWFuIj09dHlwZW9mIHQuYWRkaXRpb25hbFByb3BlcnRpZXMpe2lmKCF0LmFkZGl0aW9uYWxQcm9wZXJ0aWVzJiYobj10aGlzLmNyZWF0ZUVycm9yKG0uT0JKRUNUX0FERElUSU9OQUxfUFJPUEVSVElFUyx7a2V5Oml9LCIiLCIvYWRkaXRpb25hbFByb3BlcnRpZXMiLG51bGwsZSx0KS5wcmVmaXhXaXRoKGksbnVsbCksdGhpcy5oYW5kbGVFcnJvcihuKSkpcmV0dXJuIG59ZWxzZSBpZihuPXRoaXMudmFsaWRhdGVBbGwoZVtpXSx0LmFkZGl0aW9uYWxQcm9wZXJ0aWVzLFtpXSxbImFkZGl0aW9uYWxQcm9wZXJ0aWVzIl0sbykpcmV0dXJuIG59ZWxzZSB0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJiF0aGlzLmtub3duUHJvcGVydHlQYXRoc1tvXSYmKHRoaXMudW5rbm93blByb3BlcnR5UGF0aHNbb109ITApfXJldHVybiBudWxsfSxkLnByb3RvdHlwZS52YWxpZGF0ZU9iamVjdERlcGVuZGVuY2llcz1mdW5jdGlvbihlLHQscil7dmFyIG47aWYodm9pZCAwIT09dC5kZXBlbmRlbmNpZXMpZm9yKHZhciBpIGluIHQuZGVwZW5kZW5jaWVzKWlmKHZvaWQgMCE9PWVbaV0pe3ZhciBvPXQuZGVwZW5kZW5jaWVzW2ldO2lmKCJzdHJpbmciPT10eXBlb2Ygbyl7aWYodm9pZCAwPT09ZVtvXSYmKG49dGhpcy5jcmVhdGVFcnJvcihtLk9CSkVDVF9ERVBFTkRFTkNZX0tFWSx7a2V5OmksbWlzc2luZzpvfSwiIiwiIixudWxsLGUsdCkucHJlZml4V2l0aChudWxsLGkpLnByZWZpeFdpdGgobnVsbCwiZGVwZW5kZW5jaWVzIiksdGhpcy5oYW5kbGVFcnJvcihuKSkpcmV0dXJuIG59ZWxzZSBpZihBcnJheS5pc0FycmF5KG8pKWZvcih2YXIgYT0wO2E8by5sZW5ndGg7YSsrKXt2YXIgcz1vW2FdO2lmKHZvaWQgMD09PWVbc10mJihuPXRoaXMuY3JlYXRlRXJyb3IobS5PQkpFQ1RfREVQRU5ERU5DWV9LRVkse2tleTppLG1pc3Npbmc6c30sIiIsIi8iK2EsbnVsbCxlLHQpLnByZWZpeFdpdGgobnVsbCxpKS5wcmVmaXhXaXRoKG51bGwsImRlcGVuZGVuY2llcyIpLHRoaXMuaGFuZGxlRXJyb3IobikpKXJldHVybiBufWVsc2UgaWYobj10aGlzLnZhbGlkYXRlQWxsKGUsbyxbXSxbImRlcGVuZGVuY2llcyIsaV0scikpcmV0dXJuIG59cmV0dXJuIG51bGx9LGQucHJvdG90eXBlLnZhbGlkYXRlQ29tYmluYXRpb25zPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy52YWxpZGF0ZUFsbE9mKGUsdCxyKXx8dGhpcy52YWxpZGF0ZUFueU9mKGUsdCxyKXx8dGhpcy52YWxpZGF0ZU9uZU9mKGUsdCxyKXx8dGhpcy52YWxpZGF0ZU5vdChlLHQscil8fG51bGx9LGQucHJvdG90eXBlLnZhbGlkYXRlQWxsT2Y9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMD09PXQuYWxsT2YpcmV0dXJuIG51bGw7Zm9yKHZhciBuLGk9MDtpPHQuYWxsT2YubGVuZ3RoO2krKyl7dmFyIG89dC5hbGxPZltpXTtpZihuPXRoaXMudmFsaWRhdGVBbGwoZSxvLFtdLFsiYWxsT2YiLGldLHIpKXJldHVybiBufXJldHVybiBudWxsfSxkLnByb3RvdHlwZS52YWxpZGF0ZUFueU9mPWZ1bmN0aW9uKGUsdCxyKXtpZih2b2lkIDA9PT10LmFueU9mKXJldHVybiBudWxsO3ZhciBuLGksbz1bXSxhPXRoaXMuZXJyb3JzLmxlbmd0aDt0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJihuPXRoaXMudW5rbm93blByb3BlcnR5UGF0aHMsaT10aGlzLmtub3duUHJvcGVydHlQYXRocyk7Zm9yKHZhciBzPSEwLGM9MDtjPHQuYW55T2YubGVuZ3RoO2MrKyl7dGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYodGhpcy51bmtub3duUHJvcGVydHlQYXRocz17fSx0aGlzLmtub3duUHJvcGVydHlQYXRocz17fSk7dmFyIHU9dC5hbnlPZltjXSxsPXRoaXMuZXJyb3JzLmxlbmd0aCxmPXRoaXMudmFsaWRhdGVBbGwoZSx1LFtdLFsiYW55T2YiLGNdLHIpO2lmKG51bGw9PT1mJiZsPT09dGhpcy5lcnJvcnMubGVuZ3RoKXtpZih0aGlzLmVycm9ycz10aGlzLmVycm9ycy5zbGljZSgwLGEpLHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyl7Zm9yKHZhciBwIGluIHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzKWlbcF09ITAsZGVsZXRlIG5bcF07Zm9yKHZhciBoIGluIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMpaVtoXXx8KG5baF09ITApO3M9ITE7Y29udGludWV9cmV0dXJuIG51bGx9ZiYmby5wdXNoKGYucHJlZml4V2l0aChudWxsLCIiK2MpLnByZWZpeFdpdGgobnVsbCwiYW55T2YiKSl9cmV0dXJuIHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM9bix0aGlzLmtub3duUHJvcGVydHlQYXRocz1pKSxzPyhvPW8uY29uY2F0KHRoaXMuZXJyb3JzLnNsaWNlKGEpKSx0aGlzLmVycm9ycz10aGlzLmVycm9ycy5zbGljZSgwLGEpLHRoaXMuY3JlYXRlRXJyb3IobS5BTllfT0ZfTUlTU0lORyx7fSwiIiwiL2FueU9mIixvLGUsdCkpOnZvaWQgMH0sZC5wcm90b3R5cGUudmFsaWRhdGVPbmVPZj1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09dC5vbmVPZilyZXR1cm4gbnVsbDt2YXIgbixpLG89bnVsbCxhPVtdLHM9dGhpcy5lcnJvcnMubGVuZ3RoO3RoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKG49dGhpcy51bmtub3duUHJvcGVydHlQYXRocyxpPXRoaXMua25vd25Qcm9wZXJ0eVBhdGhzKTtmb3IodmFyIGM9MDtjPHQub25lT2YubGVuZ3RoO2MrKyl7dGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYodGhpcy51bmtub3duUHJvcGVydHlQYXRocz17fSx0aGlzLmtub3duUHJvcGVydHlQYXRocz17fSk7dmFyIHU9dC5vbmVPZltjXSxsPXRoaXMuZXJyb3JzLmxlbmd0aCxmPXRoaXMudmFsaWRhdGVBbGwoZSx1LFtdLFsib25lT2YiLGNdLHIpO2lmKG51bGw9PT1mJiZsPT09dGhpcy5lcnJvcnMubGVuZ3RoKXtpZihudWxsIT09bylyZXR1cm4gdGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuc2xpY2UoMCxzKSx0aGlzLmNyZWF0ZUVycm9yKG0uT05FX09GX01VTFRJUExFLHtpbmRleDE6byxpbmRleDI6Y30sIiIsIi9vbmVPZiIsbnVsbCxlLHQpO2lmKG89Yyx0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpe2Zvcih2YXIgcCBpbiB0aGlzLmtub3duUHJvcGVydHlQYXRocylpW3BdPSEwLGRlbGV0ZSBuW3BdO2Zvcih2YXIgaCBpbiB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzKWlbaF18fChuW2hdPSEwKX19ZWxzZSBmJiZhLnB1c2goZil9cmV0dXJuIHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM9bix0aGlzLmtub3duUHJvcGVydHlQYXRocz1pKSxudWxsPT09bz8oYT1hLmNvbmNhdCh0aGlzLmVycm9ycy5zbGljZShzKSksdGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuc2xpY2UoMCxzKSx0aGlzLmNyZWF0ZUVycm9yKG0uT05FX09GX01JU1NJTkcse30sIiIsIi9vbmVPZiIsYSxlLHQpKToodGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuc2xpY2UoMCxzKSxudWxsKX0sZC5wcm90b3R5cGUudmFsaWRhdGVOb3Q9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMD09PXQubm90KXJldHVybiBudWxsO3ZhciBuLGksbz10aGlzLmVycm9ycy5sZW5ndGg7dGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYobj10aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzLGk9dGhpcy5rbm93blByb3BlcnR5UGF0aHMsdGhpcy51bmtub3duUHJvcGVydHlQYXRocz17fSx0aGlzLmtub3duUHJvcGVydHlQYXRocz17fSk7dmFyIGE9dGhpcy52YWxpZGF0ZUFsbChlLHQubm90LG51bGwsbnVsbCxyKSxzPXRoaXMuZXJyb3JzLnNsaWNlKG8pO3JldHVybiB0aGlzLmVycm9ycz10aGlzLmVycm9ycy5zbGljZSgwLG8pLHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM9bix0aGlzLmtub3duUHJvcGVydHlQYXRocz1pKSxudWxsPT09YSYmMD09PXMubGVuZ3RoP3RoaXMuY3JlYXRlRXJyb3IobS5OT1RfUEFTU0VELHt9LCIiLCIvbm90IixudWxsLGUsdCk6bnVsbH0sZC5wcm90b3R5cGUudmFsaWRhdGVIeXBlcm1lZGlhPWZ1bmN0aW9uKGUsdCxuKXtpZighdC5saW5rcylyZXR1cm4gbnVsbDtmb3IodmFyIGksbz0wO288dC5saW5rcy5sZW5ndGg7bysrKXt2YXIgYT10LmxpbmtzW29dO2lmKCJkZXNjcmliZWRieSI9PT1hLnJlbCl7Zm9yKHZhciBzPW5ldyByKGEuaHJlZiksYz0hMCx1PTA7dTxzLnZhck5hbWVzLmxlbmd0aDt1KyspaWYoIShzLnZhck5hbWVzW3VdaW4gZSkpe2M9ITE7YnJlYWt9aWYoYyl7dmFyIGw9cy5maWxsRnJvbU9iamVjdChlKSxmPXskcmVmOmx9O2lmKGk9dGhpcy52YWxpZGF0ZUFsbChlLGYsW10sWyJsaW5rcyIsb10sbikpcmV0dXJuIGl9fX19O3ZhciBtPXtJTlZBTElEX1RZUEU6MCxFTlVNX01JU01BVENIOjEsQU5ZX09GX01JU1NJTkc6MTAsT05FX09GX01JU1NJTkc6MTEsT05FX09GX01VTFRJUExFOjEyLE5PVF9QQVNTRUQ6MTMsTlVNQkVSX01VTFRJUExFX09GOjEwMCxOVU1CRVJfTUlOSU1VTToxMDEsTlVNQkVSX01JTklNVU1fRVhDTFVTSVZFOjEwMixOVU1CRVJfTUFYSU1VTToxMDMsTlVNQkVSX01BWElNVU1fRVhDTFVTSVZFOjEwNCxOVU1CRVJfTk9UX0FfTlVNQkVSOjEwNSxTVFJJTkdfTEVOR1RIX1NIT1JUOjIwMCxTVFJJTkdfTEVOR1RIX0xPTkc6MjAxLFNUUklOR19QQVRURVJOOjIwMixPQkpFQ1RfUFJPUEVSVElFU19NSU5JTVVNOjMwMCxPQkpFQ1RfUFJPUEVSVElFU19NQVhJTVVNOjMwMSxPQkpFQ1RfUkVRVUlSRUQ6MzAyLE9CSkVDVF9BRERJVElPTkFMX1BST1BFUlRJRVM6MzAzLE9CSkVDVF9ERVBFTkRFTkNZX0tFWTozMDQsQVJSQVlfTEVOR1RIX1NIT1JUOjQwMCxBUlJBWV9MRU5HVEhfTE9ORzo0MDEsQVJSQVlfVU5JUVVFOjQwMixBUlJBWV9BRERJVElPTkFMX0lURU1TOjQwMyxGT1JNQVRfQ1VTVE9NOjUwMCxLRVlXT1JEX0NVU1RPTTo1MDEsQ0lSQ1VMQVJfUkVGRVJFTkNFOjYwMCxVTktOT1dOX1BST1BFUlRZOjFlM30sYj17fTtmb3IodmFyIHYgaW4gbSliW21bdl1dPXY7dmFyIGc9e0lOVkFMSURfVFlQRToiSW52YWxpZCB0eXBlOiB7dHlwZX0gKGV4cGVjdGVkIHtleHBlY3RlZH0pIixFTlVNX01JU01BVENIOiJObyBlbnVtIG1hdGNoIGZvcjoge3ZhbHVlfSIsQU5ZX09GX01JU1NJTkc6J0RhdGEgZG9lcyBub3QgbWF0Y2ggYW55IHNjaGVtYXMgZnJvbSAiYW55T2YiJyxPTkVfT0ZfTUlTU0lORzonRGF0YSBkb2VzIG5vdCBtYXRjaCBhbnkgc2NoZW1hcyBmcm9tICJvbmVPZiInLE9ORV9PRl9NVUxUSVBMRTonRGF0YSBpcyB2YWxpZCBhZ2FpbnN0IG1vcmUgdGhhbiBvbmUgc2NoZW1hIGZyb20gIm9uZU9mIjogaW5kaWNlcyB7aW5kZXgxfSBhbmQge2luZGV4Mn0nLE5PVF9QQVNTRUQ6J0RhdGEgbWF0Y2hlcyBzY2hlbWEgZnJvbSAibm90IicsTlVNQkVSX01VTFRJUExFX09GOiJWYWx1ZSB7dmFsdWV9IGlzIG5vdCBhIG11bHRpcGxlIG9mIHttdWx0aXBsZU9mfSIsTlVNQkVSX01JTklNVU06IlZhbHVlIHt2YWx1ZX0gaXMgbGVzcyB0aGFuIG1pbmltdW0ge21pbmltdW19IixOVU1CRVJfTUlOSU1VTV9FWENMVVNJVkU6IlZhbHVlIHt2YWx1ZX0gaXMgZXF1YWwgdG8gZXhjbHVzaXZlIG1pbmltdW0ge21pbmltdW19IixOVU1CRVJfTUFYSU1VTToiVmFsdWUge3ZhbHVlfSBpcyBncmVhdGVyIHRoYW4gbWF4aW11bSB7bWF4aW11bX0iLE5VTUJFUl9NQVhJTVVNX0VYQ0xVU0lWRToiVmFsdWUge3ZhbHVlfSBpcyBlcXVhbCB0byBleGNsdXNpdmUgbWF4aW11bSB7bWF4aW11bX0iLE5VTUJFUl9OT1RfQV9OVU1CRVI6IlZhbHVlIHt2YWx1ZX0gaXMgbm90IGEgdmFsaWQgbnVtYmVyIixTVFJJTkdfTEVOR1RIX1NIT1JUOiJTdHJpbmcgaXMgdG9vIHNob3J0ICh7bGVuZ3RofSBjaGFycyksIG1pbmltdW0ge21pbmltdW19IixTVFJJTkdfTEVOR1RIX0xPTkc6IlN0cmluZyBpcyB0b28gbG9uZyAoe2xlbmd0aH0gY2hhcnMpLCBtYXhpbXVtIHttYXhpbXVtfSIsU1RSSU5HX1BBVFRFUk46IlN0cmluZyBkb2VzIG5vdCBtYXRjaCBwYXR0ZXJuOiB7cGF0dGVybn0iLE9CSkVDVF9QUk9QRVJUSUVTX01JTklNVU06IlRvbyBmZXcgcHJvcGVydGllcyBkZWZpbmVkICh7cHJvcGVydHlDb3VudH0pLCBtaW5pbXVtIHttaW5pbXVtfSIsT0JKRUNUX1BST1BFUlRJRVNfTUFYSU1VTToiVG9vIG1hbnkgcHJvcGVydGllcyBkZWZpbmVkICh7cHJvcGVydHlDb3VudH0pLCBtYXhpbXVtIHttYXhpbXVtfSIsT0JKRUNUX1JFUVVJUkVEOiJNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5OiB7a2V5fSIsT0JKRUNUX0FERElUSU9OQUxfUFJPUEVSVElFUzoiQWRkaXRpb25hbCBwcm9wZXJ0aWVzIG5vdCBhbGxvd2VkIixPQkpFQ1RfREVQRU5ERU5DWV9LRVk6IkRlcGVuZGVuY3kgZmFpbGVkIC0ga2V5IG11c3QgZXhpc3Q6IHttaXNzaW5nfSAoZHVlIHRvIGtleToge2tleX0pIixBUlJBWV9MRU5HVEhfU0hPUlQ6IkFycmF5IGlzIHRvbyBzaG9ydCAoe2xlbmd0aH0pLCBtaW5pbXVtIHttaW5pbXVtfSIsQVJSQVlfTEVOR1RIX0xPTkc6IkFycmF5IGlzIHRvbyBsb25nICh7bGVuZ3RofSksIG1heGltdW0ge21heGltdW19IixBUlJBWV9VTklRVUU6IkFycmF5IGl0ZW1zIGFyZSBub3QgdW5pcXVlIChpbmRpY2VzIHttYXRjaDF9IGFuZCB7bWF0Y2gyfSkiLEFSUkFZX0FERElUSU9OQUxfSVRFTVM6IkFkZGl0aW9uYWwgaXRlbXMgbm90IGFsbG93ZWQiLEZPUk1BVF9DVVNUT006IkZvcm1hdCB2YWxpZGF0aW9uIGZhaWxlZCAoe21lc3NhZ2V9KSIsS0VZV09SRF9DVVNUT006IktleXdvcmQgZmFpbGVkOiB7a2V5fSAoe21lc3NhZ2V9KSIsQ0lSQ1VMQVJfUkVGRVJFTkNFOiJDaXJjdWxhciAkcmVmczoge3VybHN9IixVTktOT1dOX1BST1BFUlRZOiJVbmtub3duIHByb3BlcnR5IChub3QgaW4gc2NoZW1hKSJ9O3UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSx1LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj11LHUucHJvdG90eXBlLm5hbWU9IlZhbGlkYXRpb25FcnJvciIsdS5wcm90b3R5cGUucHJlZml4V2l0aD1mdW5jdGlvbihlLHQpe2lmKG51bGwhPT1lJiYoZT1lLnJlcGxhY2UoL34vZywifjAiKS5yZXBsYWNlKC9cLy9nLCJ+MSIpLHRoaXMuZGF0YVBhdGg9Ii8iK2UrdGhpcy5kYXRhUGF0aCksbnVsbCE9PXQmJih0PXQucmVwbGFjZSgvfi9nLCJ+MCIpLnJlcGxhY2UoL1wvL2csIn4xIiksdGhpcy5zY2hlbWFQYXRoPSIvIit0K3RoaXMuc2NoZW1hUGF0aCksbnVsbCE9PXRoaXMuc3ViRXJyb3JzKWZvcih2YXIgcj0wO3I8dGhpcy5zdWJFcnJvcnMubGVuZ3RoO3IrKyl0aGlzLnN1YkVycm9yc1tyXS5wcmVmaXhXaXRoKGUsdCk7cmV0dXJuIHRoaXN9O3ZhciBqPXt9LE89ZigpO3JldHVybiBPLmFkZExhbmd1YWdlKCJlbi1nYiIsZyksTy50djQ9TyxPfSl9LHt9XSwxMDc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0IilbImRlZmF1bHQiXTtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGk9ZSgiLi9ydW50aW1lLWNhdGFsb2d1ZS9SdW50aW1lQ2F0YWxvZ3VlLUxvY2FsIiksbz1uKGkpO3JbImRlZmF1bHQiXT1vWyJkZWZhdWx0Il0sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL3J1bnRpbWUtY2F0YWxvZ3VlL1J1bnRpbWVDYXRhbG9ndWUtTG9jYWwiOjExNywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0IjoxNX1dLDEwODpbZnVuY3Rpb24oZSx0LHIpewoidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzcyIpWyJkZWZhdWx0Il0saT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVjayIpWyJkZWZhdWx0Il07T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixvLGEscyxjKXtpKHRoaXMsZSksdGhpcy5fZ3VpZD10LHRoaXMuX3R5cGU9cix0aGlzLl92ZXJzaW9uPW4sdGhpcy5fb2JqZWN0TmFtZT1vLHRoaXMuX2Rlc2NyaXB0aW9uPWEsdGhpcy5fbGFuZ3VhZ2U9cyx0aGlzLl9zb3VyY2VQYWNrYWdlVVJMPWMsdGhpcy5fc2lnbmF0dXJlPW51bGwsdGhpcy5fc291cmNlUGFja2FnZT1udWxsfXJldHVybiBuKGUsW3trZXk6Imd1aWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ndWlkfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2d1aWQ9ZSl9fSx7a2V5OiJ0eXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZX0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl90eXBlPWUpfX0se2tleToidmVyc2lvbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZlcnNpb259LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fdmVyc2lvbj1lKX19LHtrZXk6Im9iamVjdE5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vYmplY3ROYW1lfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX29iamVjdE5hbWU9ZSl9fSx7a2V5OiJkZXNjcmlwdGlvbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rlc2NyaXB0aW9ufSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2Rlc2NyaXB0aW9uPWUpfX0se2tleToibGFuZ3VhZ2UiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYW5ndWFnZX0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9sYW5ndWFnZT1lKX19LHtrZXk6InNpZ25hdHVyZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpZ25hdHVyZX0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9zaWduYXR1cmU9ZSl9fSx7a2V5OiJzb3VyY2VQYWNrYWdlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlUGFja2FnZX0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9zb3VyY2VQYWNrYWdlPWUpfX0se2tleToic291cmNlUGFja2FnZVVSTCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZVBhY2thZ2VVUkx9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fc291cmNlUGFja2FnZVVSTD1lKX19XSksZX0oKSxhPXtIWVBFUlRZOiJoeXBlcnR5IixQUk9UT1NUVUI6InByb3Rvc3R1YiIsSFlQRVJUWV9SVU5USU1FOiJoeXBlcnR5X3J1bnRpbWUiLEhZUEVSVFlfSU5URVJDRVBUT1I6Imh5cGVydHlfaW5zcGVjdG9yIixIWVBFUlRZX0RBVEFfT0JKRUNUOiJoeXBlcnR5X2RhdGFfb2JqZWN0IixQT0xJQ1lfRU5GT1JDRVI6InBvbGljeV9lbmZvcmNlciIsREFUQV9TQ0hFTUE6ImRhdGFfc2NoZW1hIn07ci5DYXRhbG9ndWVPYmplY3RUeXBlPWE7dmFyIHM9e0pBVkFTQ1JJUFRfRUNNQTY6ImphdmFzY3JpcHRfZWNtYTYiLEpBVkFTQ1JJUFRfRUNNQTU6ImphdmFzY3JpcHRfZWNtYTUiLEpTT05fU0NIRU1BX1Y0OiJqc29uX3NjaGVtYV92NCIsUFlUSE9OOiJweXRob24iLFRZUEVTQ1JJUFQ6InR5cGVzY3JpcHQifTtyLkRhdGFPYmplY3RTb3VyY2VMYW5ndWFnZT1zLHJbImRlZmF1bHQiXT1vfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIjoxMX1dLDEwOTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IilbImRlZmF1bHQiXSxpPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIilbImRlZmF1bHQiXSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrIilbImRlZmF1bHQiXSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdCIpWyJkZWZhdWx0Il07T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBjPWUoIi4uL3JlVEhJTktPYmplY3QvUmV0aGlua09iamVjdCIpLHU9cyhjKSxsPWUoIi4vQ2F0YWxvZ3VlRGF0YU9iamVjdCIpLGY9cyhsKSxwPWUoIi4vU291cmNlUGFja2FnZSIpLGg9cyhwKSxkPWUoIi4vSHlwZXJ0eURlc2NyaXB0b3IiKSx5PXMoZCksXz1lKCIuL1Byb3RvY29sU3R1YkRlc2NyaXB0b3IiKSxtPXMoXyksYj1lKCIuL0h5cGVydHlSdW50aW1lRGVzY3JpcHRvciIpLHY9cyhiKSxnPWUoIi4vUG9saWN5RW5mb3JjZXJEZXNjcmlwdG9yIiksaj1zKGcpLE89ZSgiLi9EYXRhT2JqZWN0U2NoZW1hIiksRT1zKE8pLFA9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIpe2EodGhpcyx0KSxuKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMsZSxyKX1yZXR1cm4gaSh0LGUpLG8odCxbe2tleToiY3JlYXRlQ2F0YWxvZ3VlRGF0YU9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixpLG8sYSl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBlfHwidW5kZWZpbmVkIj09dHlwZW9mIHR8fCJ1bmRlZmluZWQiPT10eXBlb2Ygcnx8InVuZGVmaW5lZCI9PXR5cGVvZiBufHwidW5kZWZpbmVkIj09dHlwZW9mIGl8fCJ1bmRlZmluZWQiPT10eXBlb2Ygb3x8InVuZGVmaW5lZCI9PXR5cGVvZiBhKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwYXJhbWV0ZXJzISIpO3JldHVybiBuZXcgZlsiZGVmYXVsdCJdKGUsdCxyLG4saSxvLGEpfX0se2tleToiY3JlYXRlSHlwZXJ0eURlc2NyaXB0b3JPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4saSxvLGEscyl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBlfHwidW5kZWZpbmVkIj09dHlwZW9mIHR8fCJ1bmRlZmluZWQiPT10eXBlb2Ygcnx8InVuZGVmaW5lZCI9PXR5cGVvZiBufHwidW5kZWZpbmVkIj09dHlwZW9mIGl8fCJ1bmRlZmluZWQiPT10eXBlb2Ygb3x8InVuZGVmaW5lZCI9PXR5cGVvZiBhfHwidW5kZWZpbmVkIj09dHlwZW9mIHMpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBhcmFtZXRlcnMhIik7cmV0dXJuIG5ldyB5WyJkZWZhdWx0Il0oZSxsLkNhdGFsb2d1ZU9iamVjdFR5cGUuSFlQRVJUWSx0LHIsbixpLG8sYSxzKX19LHtrZXk6ImNyZWF0ZVByb3RvU3R1YkRlc2NyaXB0b3JPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4saSxvLGEscyxjKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIGV8fCJ1bmRlZmluZWQiPT10eXBlb2YgdHx8InVuZGVmaW5lZCI9PXR5cGVvZiByfHwidW5kZWZpbmVkIj09dHlwZW9mIG58fCJ1bmRlZmluZWQiPT10eXBlb2YgaXx8InVuZGVmaW5lZCI9PXR5cGVvZiBvfHwidW5kZWZpbmVkIj09dHlwZW9mIGF8fCJ1bmRlZmluZWQiPT10eXBlb2Ygc3x8InVuZGVmaW5lZCI9PXR5cGVvZiBjKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwYXJhbWV0ZXJzISIpO3JldHVybiBuZXcgbVsiZGVmYXVsdCJdKGUsbC5DYXRhbG9ndWVPYmplY3RUeXBlLlBST1RPU1RVQix0LHIsbixpLG8sYSxzLGMpfX0se2tleToiY3JlYXRlSHlwZXJ0eVJ1bnRpbWVEZXNjcmlwdG9yT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuLGksbyxhLHMsYyl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBlfHwidW5kZWZpbmVkIj09dHlwZW9mIHR8fCJ1bmRlZmluZWQiPT10eXBlb2Ygcnx8InVuZGVmaW5lZCI9PXR5cGVvZiBufHwidW5kZWZpbmVkIj09dHlwZW9mIGl8fCJ1bmRlZmluZWQiPT10eXBlb2Ygb3x8InVuZGVmaW5lZCI9PXR5cGVvZiBhfHwidW5kZWZpbmVkIj09dHlwZW9mIHN8fCJ1bmRlZmluZWQiPT10eXBlb2YgYyl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcGFyYW1ldGVycyEiKTtyZXR1cm4gbmV3IHZbImRlZmF1bHQiXShlLGwuQ2F0YWxvZ3VlT2JqZWN0VHlwZS5IWVBFUlRZX1JVTlRJTUUsdCxyLG4saSxvLGEscyxjKX19LHtrZXk6ImNyZWF0ZVBvbGljeUVuZm9yY2VyRGVzY3JpcHRvck9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixpLG8sYSxzKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIGV8fCJ1bmRlZmluZWQiPT10eXBlb2YgdHx8InVuZGVmaW5lZCI9PXR5cGVvZiByfHwidW5kZWZpbmVkIj09dHlwZW9mIG58fCJ1bmRlZmluZWQiPT10eXBlb2YgaXx8InVuZGVmaW5lZCI9PXR5cGVvZiBvfHwidW5kZWZpbmVkIj09dHlwZW9mIGF8fCJ1bmRlZmluZWQiPT10eXBlb2Ygcyl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcGFyYW1ldGVycyEiKTtyZXR1cm4gbmV3IGpbImRlZmF1bHQiXShlLGwuQ2F0YWxvZ3VlT2JqZWN0VHlwZS5QT0xJQ1lfRU5GT1JDRVIsdCxyLG4saSxvLGEscyl9fSx7a2V5OiJjcmVhdGVEYXRhT2JqZWN0U2NoZW1hIix2YWx1ZTpmdW5jdGlvbihlLHQscixuLGksbyl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBlfHwidW5kZWZpbmVkIj09dHlwZW9mIHR8fCJ1bmRlZmluZWQiPT10eXBlb2Ygcnx8InVuZGVmaW5lZCI9PXR5cGVvZiBufHwidW5kZWZpbmVkIj09dHlwZW9mIGl8fCJ1bmRlZmluZWQiPT10eXBlb2Ygbyl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcGFyYW1ldGVycyEiKTtyZXR1cm4gbmV3IEVbImRlZmF1bHQiXShlLGwuQ2F0YWxvZ3VlT2JqZWN0VHlwZS5EQVRBX1NDSEVNQSx0LHIsbixpLG8pfX0se2tleToiY3JlYXRlU291cmNlUGFja2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIj09dHlwZW9mIHR8fCJ1bmRlZmluZWQiPT10eXBlb2YgZSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcGFyYW1ldGVycyEiKTtyZXR1cm4gbmV3IGhbImRlZmF1bHQiXShlLHQpfX1dKSx0fSh1WyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1QLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vcmVUSElOS09iamVjdC9SZXRoaW5rT2JqZWN0IjoxMTYsIi4vQ2F0YWxvZ3VlRGF0YU9iamVjdCI6MTA4LCIuL0RhdGFPYmplY3RTY2hlbWEiOjExMCwiLi9IeXBlcnR5RGVzY3JpcHRvciI6MTExLCIuL0h5cGVydHlSdW50aW1lRGVzY3JpcHRvciI6MTEyLCIuL1BvbGljeUVuZm9yY2VyRGVzY3JpcHRvciI6MTEzLCIuL1Byb3RvY29sU3R1YkRlc2NyaXB0b3IiOjExNCwiLi9Tb3VyY2VQYWNrYWdlIjoxMTUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTQsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdCI6MTV9XSwxMTA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpWyJkZWZhdWx0Il0saT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKVsiZGVmYXVsdCJdLG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2siKVsiZGVmYXVsdCJdLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0IilbImRlZmF1bHQiXTtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHM9ZSgiLi9DYXRhbG9ndWVEYXRhT2JqZWN0IiksYz1hKHMpLHU9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsaSxhLHMsYyx1KXtvKHRoaXMsdCksbihPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLCJjb25zdHJ1Y3RvciIsdGhpcykuY2FsbCh0aGlzLGUscixpLGEscyxjLHUpfXJldHVybiBpKHQsZSksdH0oY1siZGVmYXVsdCJdKSxsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLGksYSxzLGMsdSl7byh0aGlzLHQpLG4oT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSwiY29uc3RydWN0b3IiLHRoaXMpLmNhbGwodGhpcyxlLHIsaSxhLHMsYyx1KX1yZXR1cm4gaSh0LGUpLHR9KHUpO3IuTWVzc2FnZURhdGFPYmplY3RTY2hlbWE9bDt2YXIgZj1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixpLGEscyxjLHUsbCl7byh0aGlzLHQpLG4oT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSwiY29uc3RydWN0b3IiLHRoaXMpLmNhbGwodGhpcyxlLHIsaSxhLHMsYyx1KSx0aGlzLl9hY2Nlc3NDb250cm9sUG9saWN5PWx9cmV0dXJuIGkodCxlKSx0fSh1KTtyLkh5cGVydHlEYXRhT2JqZWN0U2NoZW1hPWY7dmFyIHA9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsaSxhLHMsYyx1LGwpe28odGhpcyx0KSxuKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMsZSxyLGksYSxzLGMsdSxsKX1yZXR1cm4gaSh0LGUpLHR9KGYpO3IuQ29tbXVuaWNhdGlvbkRhdGFPYmplY3RTY2hlbWE9cDt2YXIgaD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixpLGEscyxjLHUsbCl7byh0aGlzLHQpLG4oT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSwiY29uc3RydWN0b3IiLHRoaXMpLmNhbGwodGhpcyxlLHIsaSxhLHMsYyx1LGwpfXJldHVybiBpKHQsZSksdH0oZik7ci5Db25uZWN0aW9uRGF0YU9iamVjdFNjaGVtYT1oO3ZhciBkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLGksYSxzLGMsdSxsKXtvKHRoaXMsdCksbihPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLCJjb25zdHJ1Y3RvciIsdGhpcykuY2FsbCh0aGlzLGUscixpLGEscyxjLHUsbCl9cmV0dXJuIGkodCxlKSx0fShmKTtyLklkZW50aWZ5RGF0YU9iamVjdFNjaGVtYT1kO3ZhciB5PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLGksYSxzLGMsdSxsKXtvKHRoaXMsdCksbihPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLCJjb25zdHJ1Y3RvciIsdGhpcykuY2FsbCh0aGlzLGUscixpLGEscyxjLHUsbCl9cmV0dXJuIGkodCxlKSx0fShmKTtyLkNvbnRleHREYXRhT2JqZWN0U2NoZW1hPXksclsiZGVmYXVsdCJdPXV9LHsiLi9DYXRhbG9ndWVEYXRhT2JqZWN0IjoxMDgsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0IjoxNX1dLDExMTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IilbImRlZmF1bHQiXSxpPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIilbImRlZmF1bHQiXSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrIilbImRlZmF1bHQiXSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdCIpWyJkZWZhdWx0Il07T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBjPWUoIi4vQ2F0YWxvZ3VlRGF0YU9iamVjdCIpLHU9cyhjKSxsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLGksbyxzLGMsdSxsLGYpe2EodGhpcyx0KSxuKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMsZSxyLGksbyxzLGMsdSksdGhpcy5fY29uZmlndXJhdGlvbj17fSx0aGlzLl9jb25zdHJhaW50cz17fSx0aGlzLl9wb2xpY2llcz17fSx0aGlzLl9tZXNzYWdlU2NoZW1hPW51bGwsdGhpcy5faHlwZXJ0eVR5cGU9bCx0aGlzLl9kYXRhT2JqZWN0cz1mfXJldHVybiBpKHQsZSksbyh0LFt7a2V5OiJoeXBlcnR5VHlwZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2h5cGVydHlUeXBlfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2h5cGVydHlUeXBlPWUpfX0se2tleToiZGF0YU9iamVjdHMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhT2JqZWN0c30sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9kYXRhT2JqZWN0cz1lKX19LHtrZXk6ImNvbmZpZ3VyYXRpb24iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25maWd1cmF0aW9ufSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2NvbmZpZ3VyYXRpb249ZSl9fSx7a2V5OiJjb25zdHJhaW50cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnN0cmFpbnRzfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2NvbnN0cmFpbnRzPWUpfX0se2tleToibWVzc2FnZVNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2VTY2hlbWF9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fbWVzc2FnZVNjaGVtYT1lKX19LHtrZXk6InBvbGljaWVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9saWNpZXN9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fcG9saWNpZXM9ZSl9fV0pLHR9KHVbImRlZmF1bHQiXSksZj17fTtyLlJ1bnRpbWVIeXBlcnR5Q2FwYWJpbGl0eVR5cGU9Zjt2YXIgcD17Q09NTVVOSUNBVE9SOiJjb21tdW5pY2F0b3IiLElERU5USVRZOiJpZGVudGl0eSIsQ09OVEVYVDoiY29udGV4dCJ9O3IuSHlwZXJ0eVR5cGU9cCxyWyJkZWZhdWx0Il09bH0seyIuL0NhdGFsb2d1ZURhdGFPYmplY3QiOjEwOCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2siOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3MiOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0IjoxNX1dLDExMjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IilbImRlZmF1bHQiXSxpPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIilbImRlZmF1bHQiXSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrIilbImRlZmF1bHQiXSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdCIpWyJkZWZhdWx0Il07T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBjPWUoIi4vQ2F0YWxvZ3VlRGF0YU9iamVjdCIpLHU9cyhjKSxsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLGksbyxzLGMsdSxsLGYscCl7YSh0aGlzLHQpLG4oT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSwiY29uc3RydWN0b3IiLHRoaXMpLmNhbGwodGhpcyxlLHIsaSxvLHMsYyx1KSx0aGlzLl9ydW50aW1lVHlwZT1sLGY/dGhpcy5faHlwZXJ0eUNhcGFiaWxpdGllcz1mOnRoaXMuX2h5cGVydHlDYXBhYmlsaXRpZXM9e30scD90aGlzLl9wcm90b2NvbENhcGFiaWxpdGllcz1wOnRoaXMuX3Byb3RvY29sQ2FwYWJpbGl0aWVzPXt9fXJldHVybiBpKHQsZSksbyh0LFt7a2V5OiJydW50aW1lVHlwZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3J1bnRpbWVUeXBlfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX3J1bnRpbWVUeXBlPWUpfX0se2tleToiaHlwZXJ0eUNhcGFiaWxpdGllcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2h5cGVydHlDYXBhYmlsaXRpZXN9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5faHlwZXJ0eUNhcGFiaWxpdGllcz1lKX19LHtrZXk6InByb3RvY29sQ2FwYWJpbGl0aWVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faHlwZXJ0eUNhcGFiaWxpdGllc30sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9wcm90b2NvbENhcGFiaWxpdGllcz1lKX19XSksdH0odVsiZGVmYXVsdCJdKSxmPXtCUk9XU0VSOiJicm93c2VyIixTVEFOREFMT05FOiJzdGFuZGFsb25lIixTRVJWRVI6InNlcnZlciIsR0FURVdBWToiZ2F0ZXdheSJ9O3IuUnVudGltZVR5cGU9Zjt2YXIgcD17TUlDOiJtaWMiLENBTUVSQToiY2FtZXJhIixTRU5TT1I6InNlbnNvciIsV0VCUlRDOiJ3ZWJydGMiLE9SVEM6Im9ydGMifTtyLlJ1bnRpbWVIeXBlcnR5Q2FwYWJpbGl0eVR5cGU9cDt2YXIgaD17SFRUUDoiaHR0cCIsSFRUUFM6Imh0dHBzIixXUzoid3MiLFdTUzoid3NzIixDT0FQOiJjb2FwIixEQVRBQ0hBTkVMOiJkYXRhY2hhbm5lbCJ9O3IuUnVudGltZVByb3RvY29sQ2FwYWJpbGl0eVR5cGU9aCxyWyJkZWZhdWx0Il09bH0seyIuL0NhdGFsb2d1ZURhdGFPYmplY3QiOjEwOCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2siOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3MiOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0IjoxNX1dLDExMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IilbImRlZmF1bHQiXSxpPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIilbImRlZmF1bHQiXSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrIilbImRlZmF1bHQiXSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdCIpWyJkZWZhdWx0Il07T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBjPWUoIi4vQ2F0YWxvZ3VlRGF0YU9iamVjdCIpLHU9cyhjKSxsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLGksbyxzLGMsdSxsLGYpe2EodGhpcyx0KSxuKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMsZSxyLGksbyxzLGMsdSksdGhpcy5fY29uZmlndXJhdGlvbj1sLHRoaXMuX3BvbGljaWVzPWZ9cmV0dXJuIGkodCxlKSxvKHQsW3trZXk6ImNvbmZpZ3VyYXRpb24iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25maWd1cmF0aW9ufSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fY29uZmlndXJhdGlvbj1lfX0se2tleToicG9saWNpZXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9wb2xpY2llc30sc2V0OmZ1bmN0aW9uKGUpe3RoaXMuX3BvbGljaWVzPWV9fV0pLHR9KHVbImRlZmF1bHQiXSk7clsiZGVmYXVsdCJdPWwsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL0NhdGFsb2d1ZURhdGFPYmplY3QiOjEwOCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2siOjksImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3MiOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0IjoxNX1dLDExNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IilbImRlZmF1bHQiXSxpPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIilbImRlZmF1bHQiXSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrIilbImRlZmF1bHQiXSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdCIpWyJkZWZhdWx0Il07T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBjPWUoIi4vQ2F0YWxvZ3VlRGF0YU9iamVjdCIpLHU9cyhjKSxsPWUoIi4vSHlwZXJ0eVJ1bnRpbWVEZXNjcmlwdG9yIiksZj0ocyhsKSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixpLG8scyxjLHUsbCxmLHApe2EodGhpcyx0KSxuKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMsZSxyLGksbyxzLGMsdSksdGhpcy5fbWVzc2FnZVNjaGVtYXM9bCxmP3RoaXMuX2NvbmZpZ3VyYXRpb249Zjp0aGlzLl9jb25maWd1cmF0aW9uPXt9LHA/dGhpcy5fY29uc3RyYWludHM9cDp0aGlzLl9jb25zdHJhaW50cz17fX1yZXR1cm4gaSh0LGUpLG8odCxbe2tleToibWVzc2FnZVNjaGVtYXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNzYWdlU2NoZW1hc30sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9tZXNzYWdlU2NoZW1hcz1lKX19LHtrZXk6ImNvbnN0cmFpbnRzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29uc3RyYWludHN9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fY29uc3RyYWludHM9ZSl9fSx7a2V5OiJjb25maWd1cmF0aW9uIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29uZmlndXJhdGlvbn0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9jb25maWd1cmF0aW9uPWUpfX1dKSx0fSh1WyJkZWZhdWx0Il0pKTtyWyJkZWZhdWx0Il09Zix0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vQ2F0YWxvZ3VlRGF0YU9iamVjdCI6MTA4LCIuL0h5cGVydHlSdW50aW1lRGVzY3JpcHRvciI6MTEyLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVjayI6OSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzcyI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE0LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHQiOjE1fV0sMTE1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3MiKVsiZGVmYXVsdCJdLGk9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2siKVsiZGVmYXVsdCJdO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXtpKHRoaXMsZSksdGhpcy5fc291cmNlQ29kZT1yLHRoaXMuX3NvdXJjZUNvZGVDbGFzc25hbWU9dCx0aGlzLl9lbmNvZGluZz1udWxsLHRoaXMuX3NpZ25hdHVyZT1udWxsfXJldHVybiBuKGUsW3trZXk6InNvdXJjZUNvZGUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zb3VyY2VDb2RlfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX3NvdXJjZUNvZGU9ZSl9fSx7a2V5OiJzb3VyY2VDb2RlQ2xhc3NuYW1lIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlQ29kZUNsYXNzbmFtZX0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9zb3VyY2VDb2RlQ2xhc3NuYW1lPWUpfX0se2tleToiZW5jb2RpbmciLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9lbmNvZGluZ30sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9lbmNvZGluZz1lKX19LHtrZXk6InNpZ25hdHVyZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpZ25hdHVyZX0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9zaWduYXR1cmU9ZSl9fV0pLGV9KCk7clsiZGVmYXVsdCJdPW8sdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVjayI6OSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzcyI6MTF9XSwxMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzcyIpWyJkZWZhdWx0Il0saT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVjayIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHQiKVsiZGVmYXVsdCJdO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgYT1lKCJ0djQiKSxzPW8oYSksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXtpKHRoaXMsZSk7dGhpcy52YWxpZGF0aW9uPXQsdGhpcy5zY2hlbWE9cn1yZXR1cm4gbihlLFt7a2V5OiJ2YWxpZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuc2NoZW1hP3NbImRlZmF1bHQiXS52YWxpZGF0ZShlLHRoaXMuc2NoZW1hKTohMX19XSksZX0oKTtyLlJldGhpbmtPYmplY3Q9YyxyWyJkZWZhdWx0Il09Y30seyJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVjayI6OSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzcyI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdCI6MTUsdHY0OjEwNn1dLDExNzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIilbImRlZmF1bHQiXSxpPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrIilbImRlZmF1bHQiXSxvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIilbImRlZmF1bHQiXSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdCIpWyJkZWZhdWx0Il07T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBzPWUoIi4uL3V0aWxzL3V0aWxzIiksYz1lKCIuLi9jYXRhbG9ndWUtZmFjdG9yeS9DYXRhbG9ndWVEYXRhT2JqZWN0RmFjdG9yeSIpLHU9YShjKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtpZihpKHRoaXMsZSksIXQpdGhyb3cgRXJyb3IoIlRoZSBjYXRhbG9ndWUgbmVlZHMgdGhlIHJ1bnRpbWVGYWN0b3J5Iik7dmFyIHI9dGhpcztyLl9mYWN0b3J5PW5ldyB1WyJkZWZhdWx0Il0oITEsdm9pZCAwKSxyLmh0dHBSZXF1ZXN0PXQuY3JlYXRlSHR0cFJlcXVlc3QoKX1yZXR1cm4gbihlLFt7a2V5OiJnZXRIeXBlcnR5UnVudGltZVVSTCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBlLl9oeXBlcnR5UnVudGltZVVSTH19LHtrZXk6ImdldEh5cGVydHlEZXNjcmlwdG9yIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzO3JldHVybiBuZXcgbyhmdW5jdGlvbihyLG4pe3ZhciBpPSgwLHMuZGl2aWRlVVJMKShlKSxvPWkudHlwZSxhPWkuZG9tYWluLGM9aS5pZGVudGl0eTthfHwoYT1lKSxjJiYoYz1jLnN1YnN0cmluZyhjLmxhc3RJbmRleE9mKCIvIikrMSkpLHQuaHR0cFJlcXVlc3QuZ2V0KG8rIjovLyIrYSsiL3Jlc291cmNlcy9kZXNjcmlwdG9ycy9IeXBlcnRpZXMuanNvbiIpLnRoZW4oZnVuY3Rpb24oZSl7dC5IeXBlcnRpZXM9SlNPTi5wYXJzZShlKTt2YXIgaT10Lkh5cGVydGllc1tjXTtpZihpLmVycm9yKW4oaSk7ZWxzZXt2YXIgbz10Ll9mYWN0b3J5LmNyZWF0ZUh5cGVydHlEZXNjcmlwdG9yT2JqZWN0KGkuY2d1aWQsaS52ZXJzaW9uLGkub2JqZWN0TmFtZSxpLmRlc2NyaXB0aW9uLGkubGFuZ3VhZ2UsaS5zb3VyY2VQYWNrYWdlVVJMLGkudHlwZXx8aS5oeXBlcnR5VHlwZSxpLmRhdGFPYmplY3RzKTtvLmNvbmZpZ3VyYXRpb249aS5jb25maWd1cmF0aW9uLG8uY29uc3RyYWludHM9aS5jb25zdHJhaW50cyxvLm1lc3NhZ2VTY2hlbWE9aS5tZXNzYWdlU2NoZW1hLG8ucG9saWNpZXM9aS5wb2xpY2llcyxvLnNpZ25hdHVyZT1pLnNpZ25hdHVyZTt2YXIgYT1pLnNvdXJjZVBhY2thZ2U7YSYmKG8uc291cmNlUGFja2FnZT10Ll9jcmVhdGVTb3VyY2VQYWNrYWdlKHQuX2ZhY3RvcnksYSkpLGNvbnNvbGUubG9nKCJoeXBlcnR5IGhhcyBzb3VyY2VQYWNrYWdlOiIsbykscihvKX19KX0pfX0se2tleToiZ2V0UnVudGltZURlc2NyaXB0b3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBvKGZ1bmN0aW9uKHIsbil7dmFyIGk9KDAscy5kaXZpZGVVUkwpKGUpLG89aS50eXBlLGE9aS5kb21haW4sYz1pLmlkZW50aXR5O2MmJihjPWMuc3Vic3RyaW5nKGMubGFzdEluZGV4T2YoIi8iKSsxKSksdC5odHRwUmVxdWVzdC5nZXQobysiOi8vIithKyIvcmVzb3VyY2VzL2Rlc2NyaXB0b3JzL1J1bnRpbWVzLmpzb24iKS50aGVuKGZ1bmN0aW9uKGUpe3QuUnVudGltZXM9SlNPTi5wYXJzZShlKTt2YXIgaT10LlJ1bnRpbWVzW2NdO2lmKGkuRVJST1IpbihpKTtlbHNle3RyeXtpLmh5cGVydHlDYXBhYmlsaXRpZXM9SlNPTi5wYXJzZShpLmh5cGVydHlDYXBhYmlsaXRpZXMpLGkucHJvdG9jb2xDYXBhYmlsaXRpZXM9SlNPTi5wYXJzZShpLnByb3RvY29sQ2FwYWJpbGl0aWVzKX1jYXRjaChvKXt9Y29uc29sZS5sb2coImNyZWF0aW5nIHJ1bnRpbWUgZGVzY3JpcHRvciBiYXNlZCBvbjogIixpKTt2YXIgYT10Ll9mYWN0b3J5LmNyZWF0ZUh5cGVydHlSdW50aW1lRGVzY3JpcHRvck9iamVjdChpLmNndWlkLGkudmVyc2lvbixpLm9iamVjdE5hbWUsaS5kZXNjcmlwdGlvbixpLmxhbmd1YWdlLGkuc291cmNlUGFja2FnZVVSTCxpLnR5cGV8fGkucnVudGltZVR5cGUsaS5oeXBlcnR5Q2FwYWJpbGl0aWVzLGkucHJvdG9jb2xDYXBhYmlsaXRpZXMpO2NvbnNvbGUubG9nKCJjcmVhdGVkIHJ1bnRpbWUgZGVzY3JpcHRvciBvYmplY3Q6IixhKTt2YXIgcz1pLnNvdXJjZVBhY2thZ2U7cyYmKGEuc291cmNlUGFja2FnZT10Ll9jcmVhdGVTb3VyY2VQYWNrYWdlKHQuX2ZhY3RvcnkscykpLHIoYSl9fSl9KX19LHtrZXk6ImdldElkcFByb3h5RGVzY3JpcHRvciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8oZnVuY3Rpb24ocixuKXt2YXIgaT0oMCxzLmRpdmlkZVVSTCkoZSksbz1pLnR5cGUsYT1pLmRvbWFpbixjPWkuaWRlbnRpdHk7YyYmKGM9Yy5zdWJzdHJpbmcoYy5sYXN0SW5kZXhPZigiLyIpKzEpKSx0Lmh0dHBSZXF1ZXN0LmdldChvKyI6Ly8iK2ErIi9yZXNvdXJjZXMvZGVzY3JpcHRvcnMvSURQUHJveHlzLmpzb24iKS50aGVuKGZ1bmN0aW9uKGUpe3QuSURQUHJveHlzPUpTT04ucGFyc2UoZSk7dmFyIGk9dC5JRFBQcm94eXNbY107aWYoaS5FUlJPUiluKGkpO2Vsc2V7dmFyIG89dC5fZmFjdG9yeS5jcmVhdGVQcm90b1N0dWJEZXNjcmlwdG9yT2JqZWN0KGkuY2d1aWQsaS52ZXJzaW9uLGkub2JqZWN0TmFtZSxpLmRlc2NyaXB0aW9uLGkubGFuZ3VhZ2UsaS5zb3VyY2VQYWNrYWdlVVJMLGkubWVzc2FnZVNjaGVtYXMsSlNPTi5zdHJpbmdpZnkoaS5jb25maWd1cmF0aW9uKSxpLmNvbnN0cmFpbnRzKTtvLnNpZ25hdHVyZT1pLnNpZ25hdHVyZTt2YXIgYT1pLnNvdXJjZVBhY2thZ2U7YSYmKGE9dC5fY3JlYXRlU291cmNlUGFja2FnZSh0Ll9mYWN0b3J5LGEpLG8uc291cmNlUGFja2FnZT1hKSxyKG8pfX0pfSl9fSx7a2V5OiJnZXRTdHViRGVzY3JpcHRvciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8oZnVuY3Rpb24ocixuKXt2YXIgaT0oMCxzLmRpdmlkZVVSTCkoZSksbz1pLnR5cGUsYT1pLmRvbWFpbixjPWkuaWRlbnRpdHksdT0oMCxzLmRpdmlkZVVSTCkodC5ydW50aW1lVVJMKSxsPXUuZG9tYWluO2F8fChhPWUpLGM9YSE9PWwmJmM/Yy5zdWJzdHJpbmcoYy5sYXN0SW5kZXhPZigiLyIpKzEpOiJkZWZhdWx0Iix0Lmh0dHBSZXF1ZXN0LmdldChvKyI6Ly8iK2ErIi9yZXNvdXJjZXMvZGVzY3JpcHRvcnMvUHJvdG9TdHVicy5qc29uIikudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZX0pWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe3JldHVybiBjPWEsYT1sLGNvbnNvbGUubG9nKCJHZXQgYW4gc3BlY2lmaWMgcHJvdG9zdHViIGZvciBkb21haW4iLGEsIiBzcGVjaWZpYyBmb3I6ICIsYyksdC5odHRwUmVxdWVzdC5nZXQobysiOi8vIithKyIvcmVzb3VyY2VzL2Rlc2NyaXB0b3JzL1Byb3RvU3R1YnMuanNvbiIpfSkudGhlbihmdW5jdGlvbihlKXt0LnByb2Nlc3NTdHViRGVzY3JpcHRvcihlLGMpLnRoZW4oZnVuY3Rpb24oZSl7cihlKX0pWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe24oZSl9KX0pWyJjYXRjaCJdKGZ1bmN0aW9uKGUpe24oZSl9KX0pfX0se2tleToicHJvY2Vzc1N0dWJEZXNjcmlwdG9yIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7cmV0dXJuIG5ldyBvKGZ1bmN0aW9uKG4saSl7dHJ5e3IuUHJvdG9TdHVicz1KU09OLnBhcnNlKGUpfWNhdGNoKG8pe2NvbnNvbGUubG9nKCJBbHJlYWR5IHBhcnNlZCIpfXZhciBhPXIuUHJvdG9TdHVic1t0XTtpZihhLmVycm9yKWkoYSk7ZWxzZXtjb25zb2xlLmxvZygiY3JlYXRpbmcgc3R1YiBkZXNjcmlwdG9yIGJhc2VkIG9uOiAiLGEpO3ZhciBzPXIuX2ZhY3RvcnkuY3JlYXRlUHJvdG9TdHViRGVzY3JpcHRvck9iamVjdChhLmNndWlkLGEudmVyc2lvbixhLm9iamVjdE5hbWUsYS5kZXNjcmlwdGlvbixhLmxhbmd1YWdlLGEuc291cmNlUGFja2FnZVVSTCxhLm1lc3NhZ2VTY2hlbWFzLEpTT04uc3RyaW5naWZ5KGEuY29uZmlndXJhdGlvbiksYS5jb25zdHJhaW50cyksYz1hLnNvdXJjZVBhY2thZ2U7YyYmKGM9ci5fY3JlYXRlU291cmNlUGFja2FnZShyLl9mYWN0b3J5LGMpLHMuc291cmNlUGFja2FnZT1jKSxuKHMpfX0pfX0se2tleToiZ2V0RGF0YVNjaGVtYURlc2NyaXB0b3IiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7cmV0dXJuIG5ldyBvKGZ1bmN0aW9uKHIsbil7dmFyIGk9KDAscy5kaXZpZGVVUkwpKGUpLG89aS50eXBlLGE9aS5kb21haW4sYz1pLmlkZW50aXR5O2MmJihjPWMuc3Vic3RyaW5nKGMubGFzdEluZGV4T2YoIi8iKSsxKSksY29uc29sZS5sb2coImdldERhdGFTY2hlbWFEZXNjcmlwdG9yOiAiLGUsaSksdC5odHRwUmVxdWVzdC5nZXQobysiOi8vIithKyIvcmVzb3VyY2VzL2Rlc2NyaXB0b3JzL0RhdGFTY2hlbWFzLmpzb24iKS50aGVuKGZ1bmN0aW9uKGUpe3QuRGF0YVNjaGVtYXM9SlNPTi5wYXJzZShlKTt2YXIgaT10LkRhdGFTY2hlbWFzW2NdO2lmKGkuRVJST1IpbihpKTtlbHNle2NvbnNvbGUubG9nKCJjcmVhdGluZyBkYXRhU2NoZW1hIGJhc2VkIG9uOiAiLGkpO3ZhciBvPXQuX2ZhY3RvcnkuY3JlYXRlRGF0YU9iamVjdFNjaGVtYShpLmNndWlkLGkudmVyc2lvbixpLm9iamVjdE5hbWUsaS5kZXNjcmlwdGlvbixpLmxhbmd1YWdlLGkuc291cmNlUGFja2FnZVVSTCk7by5zaWduYXR1cmU9aS5zaWduYXR1cmUsY29uc29sZS5sb2coImNyZWF0ZWQgZGF0YVNjaGVtYSBkZXNjcmlwdG9yIG9iamVjdDoiLG8pO3ZhciBhPWkuc291cmNlUGFja2FnZTthJiYoby5zb3VyY2VQYWNrYWdlPXQuX2NyZWF0ZVNvdXJjZVBhY2thZ2UodC5fZmFjdG9yeSxhKSwic3RyaW5nIj09dHlwZW9mIG8uc291cmNlUGFja2FnZS5zb3VyY2VDb2RlJiYoby5zb3VyY2VQYWNrYWdlLnNvdXJjZUNvZGU9SlNPTi5wYXJzZShvLnNvdXJjZVBhY2thZ2Uuc291cmNlQ29kZSkpKSxyKG8pfX0pfSl9fSx7a2V5OiJnZXRTb3VyY2VQYWNrYWdlRnJvbVVSTCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm4gbmV3IG8oZnVuY3Rpb24ocixuKXsiL3NvdXJjZVBhY2thZ2UiPT09ZSYmbigic291cmNlUGFja2FnZSBpcyBhbHJlYWR5IGNvbnRhaW5lZCBpbiBkZXNjcmlwdG9yLCBwbGVhc2UgdXNlIGl0IGRpcmVjdGx5IiksdC5odHRwUmVxdWVzdC5nZXQoZSkudGhlbihmdW5jdGlvbihlKXtpZihlLmVycm9yKW4oZSk7ZWxzZXtlPUpTT04ucGFyc2UoZSk7dmFyIGk9ZS5zb3VyY2VQYWNrYWdlO2k/KGk9dC5fY3JlYXRlU291cmNlUGFja2FnZSh0Ll9mYWN0b3J5LGkpLHIoaSkpOm4oIm5vIHNvdXJjZSBwYWNrYWdlIil9fSlbImNhdGNoIl0oZnVuY3Rpb24oZSl7bihlKX0pfSl9fSx7a2V5OiJfY3JlYXRlU291cmNlUGFja2FnZSIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt0cnl7dD1KU09OLnBhcnNlKHQpfWNhdGNoKHIpe2NvbnNvbGUubG9nKCJwYXJzaW5nIHNvdXJjZVBhY2thZ2UgZmFpbGVkLiBhbHJlYWR5IHBhcnNlZD8gLT4gIix0KX0iYmFzZTY0Ij09PXQuZW5jb2RpbmcmJih0LnNvdXJjZUNvZGU9YXRvYih0LnNvdXJjZUNvZGUpLHQuZW5jb2Rpbmc9IlVURi04Iik7dmFyIG49ZS5jcmVhdGVTb3VyY2VQYWNrYWdlKHQuc291cmNlQ29kZUNsYXNzbmFtZSx0LnNvdXJjZUNvZGUpO3JldHVybiB0Lmhhc093blByb3BlcnR5KCJlbmNvZGluZyIpJiYobi5lbmNvZGluZz10LmVuY29kaW5nKSx0Lmhhc093blByb3BlcnR5KCJzaWduYXR1cmUiKSYmKG4uc2lnbmF0dXJlPXQuc2lnbmF0dXJlKSxufX0se2tleToicnVudGltZVVSTCIsc2V0OmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7dC5fcnVudGltZVVSTD1lfSxnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3JldHVybiBlLl9ydW50aW1lVVJMfX1dKSxlfSgpO3JbImRlZmF1bHQiXT1sLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vY2F0YWxvZ3VlLWZhY3RvcnkvQ2F0YWxvZ3VlRGF0YU9iamVjdEZhY3RvcnkiOjEwOSwiLi4vdXRpbHMvdXRpbHMiOjExOCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjYsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrIjo5LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0IjoxNX1dLDExODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3ZhciB0PS8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpLHI9IiQxLCQyLCQzIixuPWUucmVwbGFjZSh0LHIpLnNwbGl0KCIsIik7blswXT09PWUmJihuWzBdPSJodHRwcyIsblsxXT1lKTt2YXIgaT17dHlwZTpuWzBdLGRvbWFpbjpuWzFdLGlkZW50aXR5Om5bMl19O3JldHVybiBpfWZ1bmN0aW9uIGkoZSl7cmV0dXJuIGU/SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSk6dm9pZCAwfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmRpdmlkZVVSTD1uLHIuZGVlcENsb25lPWl9LHt9XX0se30sWzEwN10pKDEwNyl9KTsKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDE2MDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoZ2xvYmFsKXsKLyoqCiogQ29weXJpZ2h0IDIwMTYgUFQgSW5vdmHDp8OjbyBlIFNpc3RlbWFzIFNBCiogQ29weXJpZ2h0IDIwMTYgSU5FU0MtSUQKKiBDb3B5cmlnaHQgMjAxNiBRVU9CSVMgTkVUV09SS1MgU0wKKiBDb3B5cmlnaHQgMjAxNiBGUkFVTkhPRkVSLUdFU0VMTFNDSEFGVCBaVVIgRk9FUkRFUlVORyBERVIgQU5HRVdBTkRURU4gRk9SU0NIVU5HIEUuVgoqIENvcHlyaWdodCAyMDE2IE9SQU5HRSBTQQoqIENvcHlyaWdodCAyMDE2IERldXRzY2hlIFRlbGVrb20gQUcKKiBDb3B5cmlnaHQgMjAxNiBBcGl6ZWUKKiBDb3B5cmlnaHQgMjAxNiBURUNITklTQ0hFIFVOSVZFUlNJVEFUIEJFUkxJTgoqCiogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoqCiogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKKgoqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKiovCgovLyBEaXN0cmlidXRpb24gZmlsZSBmb3Igc2VydmljZS1mcmFtZXdvcmsuanMgCi8vIHZlcnNpb246IDAuMS4wCgohZnVuY3Rpb24oZSl7aWYoIm9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1lKCk7ZWxzZSBpZigiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSxlKTtlbHNle3ZhciB0O3Q9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHQuc2VydmljZUZyYW1ld29yaz1lKCl9fShmdW5jdGlvbigpe3ZhciBlO3JldHVybiBmdW5jdGlvbiB0KGUscixuKXtmdW5jdGlvbiBvKHMsYSl7aWYoIXJbc10pe2lmKCFlW3NdKXt2YXIgdT0iZnVuY3Rpb24iPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighYSYmdSlyZXR1cm4gdShzLCEwKTtpZihpKXJldHVybiBpKHMsITApO3ZhciBjPW5ldyBFcnJvcigiQ2Fubm90IGZpbmQgbW9kdWxlICciK3MrIiciKTt0aHJvdyBjLmNvZGU9Ik1PRFVMRV9OT1RfRk9VTkQiLGN9dmFyIGw9cltzXT17ZXhwb3J0czp7fX07ZVtzXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbih0KXt2YXIgcj1lW3NdWzFdW3RdO3JldHVybiBvKHI/cjp0KX0sbCxsLmV4cG9ydHMsdCxlLHIsbil9cmV0dXJuIHJbc10uZXhwb3J0c31mb3IodmFyIGk9ImZ1bmN0aW9uIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUscz0wO3M8bi5sZW5ndGg7cysrKW8obltzXSk7cmV0dXJuIG99KHsxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9jcmVhdGUiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2NyZWF0ZSI6MjJ9XSwyOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6MjN9XSwzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9mcmVlemUiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2ZyZWV6ZSI6MjR9XSw0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2dldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6MjV9XSw1OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9nZXQtcHJvdG90eXBlLW9mIjoyNn1dLDY6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMiOjI3fV0sNzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz17ImRlZmF1bHQiOmUoImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6Mjh9XSw4OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UiKSxfX2VzTW9kdWxlOiEwfX0seyJjb3JlLWpzL2xpYnJhcnkvZm4vcHJvbWlzZSI6Mjl9XSw5OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPXsiZGVmYXVsdCI6ZSgiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbCIpLF9fZXNNb2R1bGU6ITB9fSx7ImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wiOjMwfV0sMTA6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9eyJkZWZhdWx0IjplKCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yIiksX19lc01vZHVsZTohMH19LHsiY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvciI6MzF9XSwxMTpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL2NsYXNzQ2FsbENoZWNrLmpzIil9LHsiLi9jbGFzc0NhbGxDaGVjay5qcyI6MTJ9XSwxMjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtyLl9fZXNNb2R1bGU9ITAsclsiZGVmYXVsdCJdPWZ1bmN0aW9uKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIil9fSx7fV0sMTM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9jcmVhdGVDbGFzcy5qcyIpfSx7Ii4vY3JlYXRlQ2xhc3MuanMiOjE0fV0sMTQ6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX1yLl9fZXNNb2R1bGU9ITA7dmFyIG89ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkiKSxpPW4obyk7clsiZGVmYXVsdCJdPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHQpe2Zvcih2YXIgcj0wO3I8dC5sZW5ndGg7cisrKXt2YXIgbj10W3JdO24uZW51bWVyYWJsZT1uLmVudW1lcmFibGV8fCExLG4uY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBuJiYobi53cml0YWJsZT0hMCksKDAsaVsiZGVmYXVsdCJdKShlLG4ua2V5LG4pfX1yZXR1cm4gZnVuY3Rpb24odCxyLG4pe3JldHVybiByJiZlKHQucHJvdG90eXBlLHIpLG4mJmUodCxuKSx0fX0oKX0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eSI6Mn1dLDE1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIiksYT1uKHMpO3JbImRlZmF1bHQiXT1mdW5jdGlvbiB1KGUsdCxyKXtudWxsPT09ZSYmKGU9RnVuY3Rpb24ucHJvdG90eXBlKTt2YXIgbj0oMCxhWyJkZWZhdWx0Il0pKGUsdCk7aWYodm9pZCAwPT09bil7dmFyIG89KDAsaVsiZGVmYXVsdCJdKShlKTtyZXR1cm4gbnVsbD09PW8/dm9pZCAwOnUobyx0LHIpfWlmKCJ2YWx1ZSJpbiBuKXJldHVybiBuLnZhbHVlO3ZhciBzPW4uZ2V0O2lmKHZvaWQgMCE9PXMpcmV0dXJuIHMuY2FsbChyKX19LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOjQsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZ2V0LXByb3RvdHlwZS1vZiI6NX1dLDE2OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZT9lOnsiZGVmYXVsdCI6ZX19ci5fX2VzTW9kdWxlPSEwO3ZhciBvPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLGk9bihvKSxzPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIiksYT1uKHMpLHU9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZiIpLGM9bih1KTtyWyJkZWZhdWx0Il09ZnVuY3Rpb24oZSx0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiKygidW5kZWZpbmVkIj09dHlwZW9mIHQ/InVuZGVmaW5lZCI6KDAsY1siZGVmYXVsdCJdKSh0KSkpO2UucHJvdG90eXBlPSgwLGFbImRlZmF1bHQiXSkodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTplLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pLHQmJihpWyJkZWZhdWx0Il0/KDAsaVsiZGVmYXVsdCJdKShlLHQpOmUuX19wcm90b19fPXQpfX0seyJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2NyZWF0ZSI6MSwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9zZXQtcHJvdG90eXBlLW9mIjo3LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mIjoxOX1dLDE3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWUoIi4vaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIil9LHsiLi9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiOjE4fV0sMTg6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ci5fX2VzTW9kdWxlPSEwLHJbImRlZmF1bHQiXT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX19LHt9XSwxOTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBuKGUpe3JldHVybiBlJiZlLl9fZXNNb2R1bGU/ZTp7ImRlZmF1bHQiOmV9fXIuX19lc01vZHVsZT0hMDt2YXIgbz1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yIiksaT1uKG8pLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbCIpLGE9bihzKSx1PSJmdW5jdGlvbiI9PXR5cGVvZiBhWyJkZWZhdWx0Il0mJiJzeW1ib2wiPT10eXBlb2YgaVsiZGVmYXVsdCJdP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBhWyJkZWZhdWx0Il0mJmUuY29uc3RydWN0b3I9PT1hWyJkZWZhdWx0Il0/InN5bWJvbCI6dHlwZW9mIGV9O3JbImRlZmF1bHQiXT0iZnVuY3Rpb24iPT10eXBlb2YgYVsiZGVmYXVsdCJdJiYic3ltYm9sIj09PXUoaVsiZGVmYXVsdCJdKT9mdW5jdGlvbihlKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIGU/InVuZGVmaW5lZCI6dShlKX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBhWyJkZWZhdWx0Il0mJmUuY29uc3RydWN0b3I9PT1hWyJkZWZhdWx0Il0/InN5bWJvbCI6InVuZGVmaW5lZCI9PXR5cGVvZiBlPyJ1bmRlZmluZWQiOnUoZSl9fSx7ImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiOjksImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IiOjEwfV0sMjA6W2Z1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24ocil7dmFyIG49Im9iamVjdCI9PXR5cGVvZiByP3I6Im9iamVjdCI9PXR5cGVvZiB3aW5kb3c/d2luZG93OiJvYmplY3QiPT10eXBlb2Ygc2VsZj9zZWxmOnRoaXMsbz1uLnJlZ2VuZXJhdG9yUnVudGltZSYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobikuaW5kZXhPZigicmVnZW5lcmF0b3JSdW50aW1lIik+PTAsaT1vJiZuLnJlZ2VuZXJhdG9yUnVudGltZTtpZihuLnJlZ2VuZXJhdG9yUnVudGltZT12b2lkIDAsdC5leHBvcnRzPWUoIi4vcnVudGltZSIpLG8pbi5yZWdlbmVyYXRvclJ1bnRpbWU9aTtlbHNlIHRyeXtkZWxldGUgbi5yZWdlbmVyYXRvclJ1bnRpbWV9Y2F0Y2gocyl7bi5yZWdlbmVyYXRvclJ1bnRpbWU9dm9pZCAwfXQuZXhwb3J0cz17ImRlZmF1bHQiOnQuZXhwb3J0cyxfX2VzTW9kdWxlOiEwfX0pLmNhbGwodGhpcywidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0seyIuL3J1bnRpbWUiOjIxfV0sMjE6W2Z1bmN0aW9uKGUsdCxyKXsoZnVuY3Rpb24ocixuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6eyJkZWZhdWx0IjplfX12YXIgaT1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZSIpLHM9byhpKSxhPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiIpLHU9byhhKSxjPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvY3JlYXRlIiksbD1vKGMpLGY9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZiIpLHA9byhmKSxkPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IiKSxoPW8oZCksYj1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sIikseT1vKGIpOyFmdW5jdGlvbihlKXtmdW5jdGlvbiBuKGUsdCxyLG4pe3ZhciBvPSgwLGxbImRlZmF1bHQiXSkoKHR8fGkpLnByb3RvdHlwZSkscz1uZXcgZyhufHxbXSk7cmV0dXJuIG8uX2ludm9rZT1fKGUscixzKSxvfWZ1bmN0aW9uIG8oZSx0LHIpe3RyeXtyZXR1cm57dHlwZToibm9ybWFsIixhcmc6ZS5jYWxsKHQscil9fWNhdGNoKG4pe3JldHVybnt0eXBlOiJ0aHJvdyIsYXJnOm59fX1mdW5jdGlvbiBpKCl7fWZ1bmN0aW9uIGEoKXt9ZnVuY3Rpb24gYygpe31mdW5jdGlvbiBmKGUpe1sibmV4dCIsInRocm93IiwicmV0dXJuIl0uZm9yRWFjaChmdW5jdGlvbih0KXtlW3RdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UodCxlKX19KX1mdW5jdGlvbiBkKGUpe3RoaXMuYXJnPWV9ZnVuY3Rpb24gYihlKXtmdW5jdGlvbiB0KHQscil7dmFyIG49ZVt0XShyKSxvPW4udmFsdWU7cmV0dXJuIG8gaW5zdGFuY2VvZiBkP3NbImRlZmF1bHQiXS5yZXNvbHZlKG8uYXJnKS50aGVuKGksYSk6c1siZGVmYXVsdCJdLnJlc29sdmUobykudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gbi52YWx1ZT1lLG59KX1mdW5jdGlvbiBuKGUscil7ZnVuY3Rpb24gbigpe3JldHVybiB0KGUscil9cmV0dXJuIG89bz9vLnRoZW4obixuKTpuZXcgc1siZGVmYXVsdCJdKGZ1bmN0aW9uKGUpe2UobigpKX0pfSJvYmplY3QiPT09KCJ1bmRlZmluZWQiPT10eXBlb2Ygcj8idW5kZWZpbmVkIjooMCxwWyJkZWZhdWx0Il0pKHIpKSYmci5kb21haW4mJih0PXIuZG9tYWluLmJpbmQodCkpO3ZhciBvLGk9dC5iaW5kKGUsIm5leHQiKSxhPXQuYmluZChlLCJ0aHJvdyIpO3QuYmluZChlLCJyZXR1cm4iKTt0aGlzLl9pbnZva2U9bn1mdW5jdGlvbiBfKGUsdCxyKXt2YXIgbj1TO3JldHVybiBmdW5jdGlvbihpLHMpe2lmKG49PT14KXRocm93IG5ldyBFcnJvcigiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZyIpO2lmKG49PT1UKXtpZigidGhyb3ciPT09aSl0aHJvdyBzO3JldHVybiBPKCl9Zm9yKDs7KXt2YXIgYT1yLmRlbGVnYXRlO2lmKGEpe2lmKCJyZXR1cm4iPT09aXx8InRocm93Ij09PWkmJmEuaXRlcmF0b3JbaV09PT1FKXtyLmRlbGVnYXRlPW51bGw7dmFyIHU9YS5pdGVyYXRvclsicmV0dXJuIl07aWYodSl7dmFyIGM9byh1LGEuaXRlcmF0b3Iscyk7aWYoInRocm93Ij09PWMudHlwZSl7aT0idGhyb3ciLHM9Yy5hcmc7Y29udGludWV9fWlmKCJyZXR1cm4iPT09aSljb250aW51ZX12YXIgYz1vKGEuaXRlcmF0b3JbaV0sYS5pdGVyYXRvcixzKTtpZigidGhyb3ciPT09Yy50eXBlKXtyLmRlbGVnYXRlPW51bGwsaT0idGhyb3ciLHM9Yy5hcmc7Y29udGludWV9aT0ibmV4dCIscz1FO3ZhciBsPWMuYXJnO2lmKCFsLmRvbmUpcmV0dXJuIG49TSxsO3JbYS5yZXN1bHROYW1lXT1sLnZhbHVlLHIubmV4dD1hLm5leHRMb2Msci5kZWxlZ2F0ZT1udWxsfWlmKCJuZXh0Ij09PWkpci5fc2VudD1zLG49PT1NP3Iuc2VudD1zOnIuc2VudD1FO2Vsc2UgaWYoInRocm93Ij09PWkpe2lmKG49PT1TKXRocm93IG49VCxzO3IuZGlzcGF0Y2hFeGNlcHRpb24ocykmJihpPSJuZXh0IixzPUUpfWVsc2UicmV0dXJuIj09PWkmJnIuYWJydXB0KCJyZXR1cm4iLHMpO249eDt2YXIgYz1vKGUsdCxyKTtpZigibm9ybWFsIj09PWMudHlwZSl7bj1yLmRvbmU/VDpNO3ZhciBsPXt2YWx1ZTpjLmFyZyxkb25lOnIuZG9uZX07aWYoYy5hcmchPT1BKXJldHVybiBsO3IuZGVsZWdhdGUmJiJuZXh0Ij09PWkmJihzPUUpfWVsc2UidGhyb3ciPT09Yy50eXBlJiYobj1ULGk9InRocm93IixzPWMuYXJnKX19fWZ1bmN0aW9uIHYoZSl7dmFyIHQ9e3RyeUxvYzplWzBdfTsxIGluIGUmJih0LmNhdGNoTG9jPWVbMV0pLDIgaW4gZSYmKHQuZmluYWxseUxvYz1lWzJdLHQuYWZ0ZXJMb2M9ZVszXSksdGhpcy50cnlFbnRyaWVzLnB1c2godCl9ZnVuY3Rpb24gbShlKXt2YXIgdD1lLmNvbXBsZXRpb258fHt9O3QudHlwZT0ibm9ybWFsIixkZWxldGUgdC5hcmcsZS5jb21wbGV0aW9uPXR9ZnVuY3Rpb24gZyhlKXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6InJvb3QifV0sZS5mb3JFYWNoKHYsdGhpcyksdGhpcy5yZXNldCghMCl9ZnVuY3Rpb24gaihlKXtpZihlKXt2YXIgdD1lW2tdO2lmKHQpcmV0dXJuIHQuY2FsbChlKTtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5uZXh0KXJldHVybiBlO2lmKCFpc05hTihlLmxlbmd0aCkpe3ZhciByPS0xLG49ZnVuY3Rpb24gbygpe2Zvcig7KytyPGUubGVuZ3RoOylpZih3LmNhbGwoZSxyKSlyZXR1cm4gby52YWx1ZT1lW3JdLG8uZG9uZT0hMSxvO3JldHVybiBvLnZhbHVlPUUsby5kb25lPSEwLG99O3JldHVybiBuLm5leHQ9bn19cmV0dXJue25leHQ6T319ZnVuY3Rpb24gTygpe3JldHVybnt2YWx1ZTpFLGRvbmU6ITB9fXZhciBFLHc9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxrPSJmdW5jdGlvbiI9PXR5cGVvZiB5WyJkZWZhdWx0Il0mJmhbImRlZmF1bHQiXXx8IkBAaXRlcmF0b3IiLFA9Im9iamVjdCI9PT0oInVuZGVmaW5lZCI9PXR5cGVvZiB0PyJ1bmRlZmluZWQiOigwLHBbImRlZmF1bHQiXSkodCkpLFI9ZS5yZWdlbmVyYXRvclJ1bnRpbWU7aWYoUilyZXR1cm4gdm9pZChQJiYodC5leHBvcnRzPVIpKTtSPWUucmVnZW5lcmF0b3JSdW50aW1lPVA/dC5leHBvcnRzOnt9LFIud3JhcD1uO3ZhciBTPSJzdXNwZW5kZWRTdGFydCIsTT0ic3VzcGVuZGVkWWllbGQiLHg9ImV4ZWN1dGluZyIsVD0iY29tcGxldGVkIixBPXt9LE49Yy5wcm90b3R5cGU9aS5wcm90b3R5cGU7YS5wcm90b3R5cGU9Ti5jb25zdHJ1Y3Rvcj1jLGMuY29uc3RydWN0b3I9YSxhLmRpc3BsYXlOYW1lPSJHZW5lcmF0b3JGdW5jdGlvbiIsUi5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBlJiZlLmNvbnN0cnVjdG9yO3JldHVybiB0P3Q9PT1hfHwiR2VuZXJhdG9yRnVuY3Rpb24iPT09KHQuZGlzcGxheU5hbWV8fHQubmFtZSk6ITF9LFIubWFyaz1mdW5jdGlvbihlKXtyZXR1cm4gdVsiZGVmYXVsdCJdPygwLHVbImRlZmF1bHQiXSkoZSxjKTplLl9fcHJvdG9fXz1jLGUucHJvdG90eXBlPSgwLGxbImRlZmF1bHQiXSkoTiksZX0sUi5hd3JhcD1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGQoZSl9LGYoYi5wcm90b3R5cGUpLFIuYXN5bmM9ZnVuY3Rpb24oZSx0LHIsbyl7dmFyIGk9bmV3IGIobihlLHQscixvKSk7cmV0dXJuIFIuaXNHZW5lcmF0b3JGdW5jdGlvbih0KT9pOmkubmV4dCgpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGUuZG9uZT9lLnZhbHVlOmkubmV4dCgpfSl9LGYoTiksTltrXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxOLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIltvYmplY3QgR2VuZXJhdG9yXSJ9LFIua2V5cz1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gZSl0LnB1c2gocik7cmV0dXJuIHQucmV2ZXJzZSgpLGZ1bmN0aW9uIG4oKXtmb3IoO3QubGVuZ3RoOyl7dmFyIHI9dC5wb3AoKTtpZihyIGluIGUpcmV0dXJuIG4udmFsdWU9cixuLmRvbmU9ITEsbn1yZXR1cm4gbi5kb25lPSEwLG59fSxSLnZhbHVlcz1qLGcucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpnLHJlc2V0OmZ1bmN0aW9uKGUpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD1FLHRoaXMuZG9uZT0hMSx0aGlzLmRlbGVnYXRlPW51bGwsdGhpcy50cnlFbnRyaWVzLmZvckVhY2gobSksIWUpZm9yKHZhciB0IGluIHRoaXMpInQiPT09dC5jaGFyQXQoMCkmJncuY2FsbCh0aGlzLHQpJiYhaXNOYU4oK3Quc2xpY2UoMSkpJiYodGhpc1t0XT1FKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgZT10aGlzLnRyeUVudHJpZXNbMF0sdD1lLmNvbXBsZXRpb247aWYoInRocm93Ij09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm4gdGhpcy5ydmFsfSxkaXNwYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQsbil7cmV0dXJuIGkudHlwZT0idGhyb3ciLGkuYXJnPWUsci5uZXh0PXQsISFufWlmKHRoaXMuZG9uZSl0aHJvdyBlO2Zvcih2YXIgcj10aGlzLG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgbz10aGlzLnRyeUVudHJpZXNbbl0saT1vLmNvbXBsZXRpb247aWYoInJvb3QiPT09by50cnlMb2MpcmV0dXJuIHQoImVuZCIpO2lmKG8udHJ5TG9jPD10aGlzLnByZXYpe3ZhciBzPXcuY2FsbChvLCJjYXRjaExvYyIpLGE9dy5jYWxsKG8sImZpbmFsbHlMb2MiKTtpZihzJiZhKXtpZih0aGlzLnByZXY8by5jYXRjaExvYylyZXR1cm4gdChvLmNhdGNoTG9jLCEwKTtpZih0aGlzLnByZXY8by5maW5hbGx5TG9jKXJldHVybiB0KG8uZmluYWxseUxvYyl9ZWxzZSBpZihzKXtpZih0aGlzLnByZXY8by5jYXRjaExvYylyZXR1cm4gdChvLmNhdGNoTG9jLCEwKX1lbHNle2lmKCFhKXRocm93IG5ldyBFcnJvcigidHJ5IHN0YXRlbWVudCB3aXRob3V0IGNhdGNoIG9yIGZpbmFsbHkiKTtpZih0aGlzLnByZXY8by5maW5hbGx5TG9jKXJldHVybiB0KG8uZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbihlLHQpe2Zvcih2YXIgcj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7cj49MDstLXIpe3ZhciBuPXRoaXMudHJ5RW50cmllc1tyXTtpZihuLnRyeUxvYzw9dGhpcy5wcmV2JiZ3LmNhbGwobiwiZmluYWxseUxvYyIpJiZ0aGlzLnByZXY8bi5maW5hbGx5TG9jKXt2YXIgbz1uO2JyZWFrfX1vJiYoImJyZWFrIj09PWV8fCJjb250aW51ZSI9PT1lKSYmby50cnlMb2M8PXQmJnQ8PW8uZmluYWxseUxvYyYmKG89bnVsbCk7dmFyIGk9bz9vLmNvbXBsZXRpb246e307cmV0dXJuIGkudHlwZT1lLGkuYXJnPXQsbz90aGlzLm5leHQ9by5maW5hbGx5TG9jOnRoaXMuY29tcGxldGUoaSksQX0sY29tcGxldGU6ZnVuY3Rpb24oZSx0KXtpZigidGhyb3ciPT09ZS50eXBlKXRocm93IGUuYXJnOyJicmVhayI9PT1lLnR5cGV8fCJjb250aW51ZSI9PT1lLnR5cGU/dGhpcy5uZXh0PWUuYXJnOiJyZXR1cm4iPT09ZS50eXBlPyh0aGlzLnJ2YWw9ZS5hcmcsdGhpcy5uZXh0PSJlbmQiKToibm9ybWFsIj09PWUudHlwZSYmdCYmKHRoaXMubmV4dD10KX0sZmluaXNoOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciByPXRoaXMudHJ5RW50cmllc1t0XTtpZihyLmZpbmFsbHlMb2M9PT1lKXJldHVybiB0aGlzLmNvbXBsZXRlKHIuY29tcGxldGlvbixyLmFmdGVyTG9jKSxtKHIpLEF9fSwiY2F0Y2giOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7dD49MDstLXQpe3ZhciByPXRoaXMudHJ5RW50cmllc1t0XTtpZihyLnRyeUxvYz09PWUpe3ZhciBuPXIuY29tcGxldGlvbjtpZigidGhyb3ciPT09bi50eXBlKXt2YXIgbz1uLmFyZzttKHIpfXJldHVybiBvfX10aHJvdyBuZXcgRXJyb3IoImlsbGVnYWwgY2F0Y2ggYXR0ZW1wdCIpfSxkZWxlZ2F0ZVlpZWxkOmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy5kZWxlZ2F0ZT17aXRlcmF0b3I6aihlKSxyZXN1bHROYW1lOnQsbmV4dExvYzpyfSxBfX19KCJvYmplY3QiPT09KCJ1bmRlZmluZWQiPT10eXBlb2Ygbj8idW5kZWZpbmVkIjooMCxwWyJkZWZhdWx0Il0pKG4pKT9uOiJvYmplY3QiPT09KCJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93PyJ1bmRlZmluZWQiOigwLHBbImRlZmF1bHQiXSkod2luZG93KSk/d2luZG93OiJvYmplY3QiPT09KCJ1bmRlZmluZWQiPT10eXBlb2Ygc2VsZj8idW5kZWZpbmVkIjooMCxwWyJkZWZhdWx0Il0pKHNlbGYpKT9zZWxmOnZvaWQgMCl9KS5jYWxsKHRoaXMsZSgiX3Byb2Nlc3MiKSwidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6InVuZGVmaW5lZCIhPXR5cGVvZiBzZWxmP3NlbGY6InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93Ont9KX0se19wcm9jZXNzOjExNCwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9jcmVhdGUiOjEsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qvc2V0LXByb3RvdHlwZS1vZiI6NywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjgsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wiOjksImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IiOjEwLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mIjoxOX1dLDIyOltmdW5jdGlvbihlLHQscil7ZSgiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmNyZWF0ZSIpO3ZhciBuPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Q7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY3JlYXRlKGUsdCl9fSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM5LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuY3JlYXRlIjoxMDJ9XSwyMzpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5kZWZpbmUtcHJvcGVydHkiKTt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7cmV0dXJuIG4uZGVmaW5lUHJvcGVydHkoZSx0LHIpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozOSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eSI6MTAzfV0sMjQ6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZnJlZXplIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3QuZnJlZXplfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM5LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZnJlZXplIjoxMDR9XSwyNTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiKTt2YXIgbj1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0O3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybiBuLmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpfX0seyIuLi8uLi9tb2R1bGVzL19jb3JlIjozOSwiLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvciI6MTA1fV0sMjY6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0LmdldFByb3RvdHlwZU9mfSx7Ii4uLy4uL21vZHVsZXMvX2NvcmUiOjM5LCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZ2V0LXByb3RvdHlwZS1vZiI6MTA2fV0sMjc6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cyIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL19jb3JlIikuT2JqZWN0LmtleXN9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzksIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzIjoxMDd9XSwyODpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5PYmplY3Quc2V0UHJvdG90eXBlT2Z9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzksIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5zZXQtcHJvdG90eXBlLW9mIjoxMDh9XSwyOTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciKSxlKCIuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiKSxlKCIuLi9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUiKSxlKCIuLi9tb2R1bGVzL2VzNi5wcm9taXNlIiksdC5leHBvcnRzPWUoIi4uL21vZHVsZXMvX2NvcmUiKS5Qcm9taXNlfSx7Ii4uL21vZHVsZXMvX2NvcmUiOjM5LCIuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIjoxMDksIi4uL21vZHVsZXMvZXM2LnByb21pc2UiOjExMCwiLi4vbW9kdWxlcy9lczYuc3RyaW5nLml0ZXJhdG9yIjoxMTEsIi4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSI6MTEzfV0sMzA6W2Z1bmN0aW9uKGUsdCxyKXtlKCIuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wiKSxlKCIuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nIiksdC5leHBvcnRzPWUoIi4uLy4uL21vZHVsZXMvX2NvcmUiKS5TeW1ib2x9LHsiLi4vLi4vbW9kdWxlcy9fY29yZSI6MzksIi4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmciOjEwOSwiLi4vLi4vbW9kdWxlcy9lczYuc3ltYm9sIjoxMTJ9XSwzMTpbZnVuY3Rpb24oZSx0LHIpe2UoIi4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvciIpLGUoIi4uLy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZSIpLHQuZXhwb3J0cz1lKCIuLi8uLi9tb2R1bGVzL193a3MiKSgiaXRlcmF0b3IiKX0seyIuLi8uLi9tb2R1bGVzL193a3MiOjk5LCIuLi8uLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3IiOjExMSwiLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlIjoxMTN9XSwzMjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtpZigiZnVuY3Rpb24iIT10eXBlb2YgZSl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBhIGZ1bmN0aW9uISIpO3JldHVybiBlfX0se31dLDMzOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKCl7fX0se31dLDM0OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLG4pe2lmKCEoZSBpbnN0YW5jZW9mIHQpfHx2b2lkIDAhPT1uJiZuIGluIGUpdGhyb3cgVHlwZUVycm9yKHIrIjogaW5jb3JyZWN0IGludm9jYXRpb24hIik7cmV0dXJuIGV9fSx7fV0sMzU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIW4oZSkpdGhyb3cgVHlwZUVycm9yKGUrIiBpcyBub3QgYW4gb2JqZWN0ISIpO3JldHVybiBlfX0seyIuL19pcy1vYmplY3QiOjU4fV0sMzY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pb2JqZWN0Iiksbz1lKCIuL190by1sZW5ndGgiKSxpPWUoIi4vX3RvLWluZGV4Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LHIscyl7dmFyIGEsdT1uKHQpLGM9byh1Lmxlbmd0aCksbD1pKHMsYyk7aWYoZSYmciE9cil7Zm9yKDtjPmw7KWlmKGE9dVtsKytdLGEhPWEpcmV0dXJuITB9ZWxzZSBmb3IoO2M+bDtsKyspaWYoKGV8fGwgaW4gdSkmJnVbbF09PT1yKXJldHVybiBlfHxsO3JldHVybiFlJiYtMX19fSx7Ii4vX3RvLWluZGV4Ijo5MiwiLi9fdG8taW9iamVjdCI6OTQsIi4vX3RvLWxlbmd0aCI6OTV9XSwzNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2NvZiIpLG89ZSgiLi9fd2tzIikoInRvU3RyaW5nVGFnIiksaT0iQXJndW1lbnRzIj09bihmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpLHM9ZnVuY3Rpb24oZSx0KXt0cnl7cmV0dXJuIGVbdF19Y2F0Y2gocil7fX07dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0LHIsYTtyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihyPXModD1PYmplY3QoZSksbykpP3I6aT9uKHQpOiJPYmplY3QiPT0oYT1uKHQpKSYmImZ1bmN0aW9uIj09dHlwZW9mIHQuY2FsbGVlPyJBcmd1bWVudHMiOmF9fSx7Ii4vX2NvZiI6MzgsIi4vX3drcyI6OTl9XSwzODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXt9LnRvU3RyaW5nO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbi5jYWxsKGUpLnNsaWNlKDgsLTEpfX0se31dLDM5OltmdW5jdGlvbihlLHQscil7dmFyIG49dC5leHBvcnRzPXt2ZXJzaW9uOiIyLjIuMSJ9OyJudW1iZXIiPT10eXBlb2YgX19lJiYoX19lPW4pfSx7fV0sNDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hLWZ1bmN0aW9uIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHZvaWQgMD09PXQpcmV0dXJuIGU7c3dpdGNoKHIpe2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIGUuY2FsbCh0LHIpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUuY2FsbCh0LHIsbil9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24ocixuLG8pe3JldHVybiBlLmNhbGwodCxyLG4sbyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBlLmFwcGx5KHQsYXJndW1lbnRzKX19fSx7Ii4vX2EtZnVuY3Rpb24iOjMyfV0sNDE6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYodm9pZCAwPT1lKXRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gICIrZSk7cmV0dXJuIGV9fSx7fV0sNDI6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSx7Ii4vX2ZhaWxzIjo0N31dLDQzOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faXMtb2JqZWN0Iiksbz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCxpPW4obykmJm4oby5jcmVhdGVFbGVtZW50KTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGk/by5jcmVhdGVFbGVtZW50KGUpOnt9fX0seyIuL19nbG9iYWwiOjQ5LCIuL19pcy1vYmplY3QiOjU4fV0sNDQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ImNvbnN0cnVjdG9yLGhhc093blByb3BlcnR5LGlzUHJvdG90eXBlT2YscHJvcGVydHlJc0VudW1lcmFibGUsdG9Mb2NhbGVTdHJpbmcsdG9TdHJpbmcsdmFsdWVPZiIuc3BsaXQoIiwiKX0se31dLDQ1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWtleXMiKSxvPWUoIi4vX29iamVjdC1nb3BzIiksaT1lKCIuL19vYmplY3QtcGllIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PW4oZSkscj1vLmY7aWYocilmb3IodmFyIHMsYT1yKGUpLHU9aS5mLGM9MDthLmxlbmd0aD5jOyl1LmNhbGwoZSxzPWFbYysrXSkmJnQucHVzaChzKTtyZXR1cm4gdH19LHsiLi9fb2JqZWN0LWdvcHMiOjc1LCIuL19vYmplY3Qta2V5cyI6NzgsIi4vX29iamVjdC1waWUiOjc5fV0sNDY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19nbG9iYWwiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2N0eCIpLHM9ZSgiLi9faGlkZSIpLGE9InByb3RvdHlwZSIsdT1mdW5jdGlvbihlLHQscil7dmFyIGMsbCxmLHA9ZSZ1LkYsZD1lJnUuRyxoPWUmdS5TLGI9ZSZ1LlAseT1lJnUuQixfPWUmdS5XLHY9ZD9vOm9bdF18fChvW3RdPXt9KSxtPXZbYV0sZz1kP246aD9uW3RdOihuW3RdfHx7fSlbYV07ZCYmKHI9dCk7Zm9yKGMgaW4gcilsPSFwJiZnJiZ2b2lkIDAhPT1nW2NdLGwmJmMgaW4gdnx8KGY9bD9nW2NdOnJbY10sdltjXT1kJiYiZnVuY3Rpb24iIT10eXBlb2YgZ1tjXT9yW2NdOnkmJmw/aShmLG4pOl8mJmdbY109PWY/ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24odCxyLG4pe2lmKHRoaXMgaW5zdGFuY2VvZiBlKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiBuZXcgZTtjYXNlIDE6cmV0dXJuIG5ldyBlKHQpO2Nhc2UgMjpyZXR1cm4gbmV3IGUodCxyKX1yZXR1cm4gbmV3IGUodCxyLG4pfXJldHVybiBlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07cmV0dXJuIHRbYV09ZVthXSx0fShmKTpiJiYiZnVuY3Rpb24iPT10eXBlb2YgZj9pKEZ1bmN0aW9uLmNhbGwsZik6ZixiJiYoKHYudmlydHVhbHx8KHYudmlydHVhbD17fSkpW2NdPWYsZSZ1LlImJm0mJiFtW2NdJiZzKG0sYyxmKSkpfTt1LkY9MSx1Lkc9Mix1LlM9NCx1LlA9OCx1LkI9MTYsdS5XPTMyLHUuVT02NCx1LlI9MTI4LHQuZXhwb3J0cz11fSx7Ii4vX2NvcmUiOjM5LCIuL19jdHgiOjQwLCIuL19nbG9iYWwiOjQ5LCIuL19oaWRlIjo1MX1dLDQ3OltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaCh0KXtyZXR1cm4hMH19fSx7fV0sNDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19jdHgiKSxvPWUoIi4vX2l0ZXItY2FsbCIpLGk9ZSgiLi9faXMtYXJyYXktaXRlciIpLHM9ZSgiLi9fYW4tb2JqZWN0IiksYT1lKCIuL190by1sZW5ndGgiKSx1PWUoIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyLGMsbCl7dmFyIGYscCxkLGg9bD9mdW5jdGlvbigpe3JldHVybiBlfTp1KGUpLGI9bihyLGMsdD8yOjEpLHk9MDtpZigiZnVuY3Rpb24iIT10eXBlb2YgaCl0aHJvdyBUeXBlRXJyb3IoZSsiIGlzIG5vdCBpdGVyYWJsZSEiKTtpZihpKGgpKWZvcihmPWEoZS5sZW5ndGgpO2Y+eTt5KyspdD9iKHMocD1lW3ldKVswXSxwWzFdKTpiKGVbeV0pO2Vsc2UgZm9yKGQ9aC5jYWxsKGUpOyEocD1kLm5leHQoKSkuZG9uZTspbyhkLGIscC52YWx1ZSx0KX19LHsiLi9fYW4tb2JqZWN0IjozNSwiLi9fY3R4Ijo0MCwiLi9faXMtYXJyYXktaXRlciI6NTYsIi4vX2l0ZXItY2FsbCI6NTksIi4vX3RvLWxlbmd0aCI6OTUsIi4vY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kIjoxMDB9XSw0OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXQuZXhwb3J0cz0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmd2luZG93Lk1hdGg9PU1hdGg/d2luZG93OiJ1bmRlZmluZWQiIT10eXBlb2Ygc2VsZiYmc2VsZi5NYXRoPT1NYXRoP3NlbGY6RnVuY3Rpb24oInJldHVybiB0aGlzIikoKTsibnVtYmVyIj09dHlwZW9mIF9fZyYmKF9fZz1uKX0se31dLDUwOltmdW5jdGlvbihlLHQscil7dmFyIG49e30uaGFzT3duUHJvcGVydHk7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0se31dLDUxOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fb2JqZWN0LWRwIiksbz1lKCIuL19wcm9wZXJ0eS1kZXNjIik7dC5leHBvcnRzPWUoIi4vX2Rlc2NyaXB0b3JzIik/ZnVuY3Rpb24oZSx0LHIpe3JldHVybiBuLmYoZSx0LG8oMSxyKSl9OmZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gZVt0XT1yLGV9fSx7Ii4vX2Rlc2NyaXB0b3JzIjo0MiwiLi9fb2JqZWN0LWRwIjo3MCwiLi9fcHJvcGVydHktZGVzYyI6ODF9XSw1MjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1lKCIuL19nbG9iYWwiKS5kb2N1bWVudCYmZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50fSx7Ii4vX2dsb2JhbCI6NDl9XSw1MzpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hZSgiLi9fZGVzY3JpcHRvcnMiKSYmIWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KGUoIi4vX2RvbS1jcmVhdGUiKSgiZGl2IiksImEiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSl9LHsiLi9fZGVzY3JpcHRvcnMiOjQyLCIuL19kb20tY3JlYXRlIjo0MywiLi9fZmFpbHMiOjQ3fV0sNTQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXZvaWQgMD09PXI7c3dpdGNoKHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG4/ZSgpOmUuY2FsbChyKTtjYXNlIDE6cmV0dXJuIG4/ZSh0WzBdKTplLmNhbGwocix0WzBdKTtjYXNlIDI6cmV0dXJuIG4/ZSh0WzBdLHRbMV0pOmUuY2FsbChyLHRbMF0sdFsxXSk7Y2FzZSAzOnJldHVybiBuP2UodFswXSx0WzFdLHRbMl0pOmUuY2FsbChyLHRbMF0sdFsxXSx0WzJdKTtjYXNlIDQ6cmV0dXJuIG4/ZSh0WzBdLHRbMV0sdFsyXSx0WzNdKTplLmNhbGwocix0WzBdLHRbMV0sdFsyXSx0WzNdKX1yZXR1cm4gZS5hcHBseShyLHQpfX0se31dLDU1OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY29mIik7dC5leHBvcnRzPU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApP09iamVjdDpmdW5jdGlvbihlKXtyZXR1cm4iU3RyaW5nIj09bihlKT9lLnNwbGl0KCIiKTpPYmplY3QoZSl9fSx7Ii4vX2NvZiI6Mzh9XSw1NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2l0ZXJhdG9ycyIpLG89ZSgiLi9fd2tzIikoIml0ZXJhdG9yIiksaT1BcnJheS5wcm90b3R5cGU7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYobi5BcnJheT09PWV8fGlbb109PT1lKX19LHsiLi9faXRlcmF0b3JzIjo2NCwiLi9fd2tzIjo5OX1dLDU3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fY29mIik7dC5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PW4oZSl9fSx7Ii4vX2NvZiI6Mzh9XSw1ODpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGU/bnVsbCE9PWU6ImZ1bmN0aW9uIj09dHlwZW9mIGV9fSx7fV0sNTk6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19hbi1vYmplY3QiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsbyl7dHJ5e3JldHVybiBvP3QobihyKVswXSxyWzFdKTp0KHIpfWNhdGNoKGkpe3ZhciBzPWVbInJldHVybiJdO3Rocm93IHZvaWQgMCE9PXMmJm4ocy5jYWxsKGUpKSxpfX19LHsiLi9fYW4tb2JqZWN0IjozNX1dLDYwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX29iamVjdC1jcmVhdGUiKSxvPWUoIi4vX3Byb3BlcnR5LWRlc2MiKSxpPWUoIi4vX3NldC10by1zdHJpbmctdGFnIikscz17fTtlKCIuL19oaWRlIikocyxlKCIuL193a3MiKSgiaXRlcmF0b3IiKSxmdW5jdGlvbigpe3JldHVybiB0aGlzfSksdC5leHBvcnRzPWZ1bmN0aW9uKGUsdCxyKXtlLnByb3RvdHlwZT1uKHMse25leHQ6bygxLHIpfSksaShlLHQrIiBJdGVyYXRvciIpfX0seyIuL19oaWRlIjo1MSwiLi9fb2JqZWN0LWNyZWF0ZSI6NjksIi4vX3Byb3BlcnR5LWRlc2MiOjgxLCIuL19zZXQtdG8tc3RyaW5nLXRhZyI6ODYsIi4vX3drcyI6OTl9XSw2MTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19saWJyYXJ5Iiksbz1lKCIuL19leHBvcnQiKSxpPWUoIi4vX3JlZGVmaW5lIikscz1lKCIuL19oaWRlIiksYT1lKCIuL19oYXMiKSx1PWUoIi4vX2l0ZXJhdG9ycyIpLGM9ZSgiLi9faXRlci1jcmVhdGUiKSxsPWUoIi4vX3NldC10by1zdHJpbmctdGFnIiksZj1lKCIuL19vYmplY3QtZ3BvIikscD1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxkPSEoW10ua2V5cyYmIm5leHQiaW5bXS5rZXlzKCkpLGg9IkBAaXRlcmF0b3IiLGI9ImtleXMiLHk9InZhbHVlcyIsXz1mdW5jdGlvbigpe3JldHVybiB0aGlzfTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIsdixtLGcsail7YyhyLHQsdik7dmFyIE8sRSx3LGs9ZnVuY3Rpb24oZSl7aWYoIWQmJmUgaW4gTSlyZXR1cm4gTVtlXTtzd2l0Y2goZSl7Y2FzZSBiOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfTtjYXNlIHk6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyByKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgcih0aGlzLGUpfX0sUD10KyIgSXRlcmF0b3IiLFI9bT09eSxTPSExLE09ZS5wcm90b3R5cGUseD1NW3BdfHxNW2hdfHxtJiZNW21dLFQ9eHx8ayhtKSxBPW0/Uj9rKCJlbnRyaWVzIik6VDp2b2lkIDAsTj0iQXJyYXkiPT10P00uZW50cmllc3x8eDp4O2lmKE4mJih3PWYoTi5jYWxsKG5ldyBlKSksdyE9PU9iamVjdC5wcm90b3R5cGUmJihsKHcsUCwhMCksbnx8YSh3LHApfHxzKHcscCxfKSkpLFImJngmJngubmFtZSE9PXkmJihTPSEwLFQ9ZnVuY3Rpb24oKXtyZXR1cm4geC5jYWxsKHRoaXMpfSksbiYmIWp8fCFkJiYhUyYmTVtwXXx8cyhNLHAsVCksdVt0XT1ULHVbUF09XyxtKWlmKE89e3ZhbHVlczpSP1Q6ayh5KSxrZXlzOmc/VDprKGIpLGVudHJpZXM6QX0sailmb3IoRSBpbiBPKUUgaW4gTXx8aShNLEUsT1tFXSk7ZWxzZSBvKG8uUCtvLkYqKGR8fFMpLHQsTyk7cmV0dXJuIE99fSx7Ii4vX2V4cG9ydCI6NDYsIi4vX2hhcyI6NTAsIi4vX2hpZGUiOjUxLCIuL19pdGVyLWNyZWF0ZSI6NjAsIi4vX2l0ZXJhdG9ycyI6NjQsIi4vX2xpYnJhcnkiOjY2LCIuL19vYmplY3QtZ3BvIjo3NiwiLi9fcmVkZWZpbmUiOjgzLCIuL19zZXQtdG8tc3RyaW5nLXRhZyI6ODYsIi4vX3drcyI6OTl9XSw2MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3drcyIpKCJpdGVyYXRvciIpLG89ITE7dHJ5e3ZhciBpPVs3XVtuXSgpO2lbInJldHVybiJdPWZ1bmN0aW9uKCl7bz0hMH0sQXJyYXkuZnJvbShpLGZ1bmN0aW9uKCl7dGhyb3cgMn0pfWNhdGNoKHMpe310LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighdCYmIW8pcmV0dXJuITE7dmFyIHI9ITE7dHJ5e3ZhciBpPVs3XSxzPWlbbl0oKTtzLm5leHQ9ZnVuY3Rpb24oKXtyPSEwfSxpW25dPWZ1bmN0aW9uKCl7cmV0dXJuIHN9LGUoaSl9Y2F0Y2goYSl7fXJldHVybiByfX0seyIuL193a3MiOjk5fV0sNjM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dmFsdWU6dCxkb25lOiEhZX19fSx7fV0sNjQ6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9e319LHt9XSw2NTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1rZXlzIiksbz1lKCIuL190by1pb2JqZWN0Iik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciByLGk9byhlKSxzPW4oaSksYT1zLmxlbmd0aCx1PTA7YT51OylpZihpW3I9c1t1KytdXT09PXQpcmV0dXJuIHJ9fSx7Ii4vX29iamVjdC1rZXlzIjo3OCwiLi9fdG8taW9iamVjdCI6OTR9XSw2NjpbZnVuY3Rpb24oZSx0LHIpe3QuZXhwb3J0cz0hMH0se31dLDY3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdWlkIikoIm1ldGEiKSxvPWUoIi4vX2lzLW9iamVjdCIpLGk9ZSgiLi9faGFzIikscz1lKCIuL19vYmplY3QtZHAiKS5mLGE9MCx1PU9iamVjdC5pc0V4dGVuc2libGV8fGZ1bmN0aW9uKCl7cmV0dXJuITB9LGM9IWUoIi4vX2ZhaWxzIikoZnVuY3Rpb24oKXtyZXR1cm4gdShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKX0pLGw9ZnVuY3Rpb24oZSl7cyhlLG4se3ZhbHVlOntpOiJPIisgKythLHc6e319fSl9LGY9ZnVuY3Rpb24oZSx0KXtpZighbyhlKSlyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGU/ZTooInN0cmluZyI9PXR5cGVvZiBlPyJTIjoiUCIpK2U7aWYoIWkoZSxuKSl7aWYoIXUoZSkpcmV0dXJuIkYiO2lmKCF0KXJldHVybiJFIjtsKGUpfXJldHVybiBlW25dLml9LHA9ZnVuY3Rpb24oZSx0KXtpZighaShlLG4pKXtpZighdShlKSlyZXR1cm4hMDtpZighdClyZXR1cm4hMTtsKGUpfXJldHVybiBlW25dLnd9LGQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGMmJmguTkVFRCYmdShlKSYmIWkoZSxuKSYmbChlKSxlfSxoPXQuZXhwb3J0cz17S0VZOm4sTkVFRDohMSxmYXN0S2V5OmYsZ2V0V2VhazpwLG9uRnJlZXplOmR9fSx7Ii4vX2ZhaWxzIjo0NywiLi9faGFzIjo1MCwiLi9faXMtb2JqZWN0Ijo1OCwiLi9fb2JqZWN0LWRwIjo3MCwiLi9fdWlkIjo5OH1dLDY4OltmdW5jdGlvbihlLHQscil7dmFyIG4sbyxpLHM9ZSgiLi9fZ2xvYmFsIiksYT1lKCIuL190YXNrIikuc2V0LHU9cy5NdXRhdGlvbk9ic2VydmVyfHxzLldlYktpdE11dGF0aW9uT2JzZXJ2ZXIsYz1zLnByb2Nlc3MsbD1zLlByb21pc2UsZj0icHJvY2VzcyI9PWUoIi4vX2NvZiIpKGMpLHA9ZnVuY3Rpb24oKXt2YXIgZSx0O2ZvcihmJiYoZT1jLmRvbWFpbikmJmUuZXhpdCgpO247KXQ9bi5mbix0KCksbj1uLm5leHQ7bz12b2lkIDAsZSYmZS5lbnRlcigpfTtpZihmKWk9ZnVuY3Rpb24oKXtjLm5leHRUaWNrKHApfTtlbHNlIGlmKHUpe3ZhciBkPSEwLGg9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpO25ldyB1KHApLm9ic2VydmUoaCx7Y2hhcmFjdGVyRGF0YTohMH0pLGk9ZnVuY3Rpb24oKXtoLmRhdGE9ZD0hZH19ZWxzZSBpPWwmJmwucmVzb2x2ZT9mdW5jdGlvbigpe2wucmVzb2x2ZSgpLnRoZW4ocCl9OmZ1bmN0aW9uKCl7YS5jYWxsKHMscCl9O3QuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD17Zm46ZSxuZXh0OnZvaWQgMH07byYmKG8ubmV4dD10KSxufHwobj10LGkoKSksbz10fX0seyIuL19jb2YiOjM4LCIuL19nbG9iYWwiOjQ5LCIuL190YXNrIjo5MX1dLDY5OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fYW4tb2JqZWN0Iiksbz1lKCIuL19vYmplY3QtZHBzIiksaT1lKCIuL19lbnVtLWJ1Zy1rZXlzIikscz1lKCIuL19zaGFyZWQta2V5IikoIklFX1BST1RPIiksYT1mdW5jdGlvbigpe30sdT0icHJvdG90eXBlIixjPWZ1bmN0aW9uKCl7dmFyIHQscj1lKCIuL19kb20tY3JlYXRlIikoImlmcmFtZSIpLG49aS5sZW5ndGgsbz0iPiI7Zm9yKHIuc3R5bGUuZGlzcGxheT0ibm9uZSIsZSgiLi9faHRtbCIpLmFwcGVuZENoaWxkKHIpLHIuc3JjPSJqYXZhc2NyaXB0OiIsdD1yLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQsdC5vcGVuKCksdC53cml0ZSgiPHNjcmlwdD5kb2N1bWVudC5GPU9iamVjdDwvc2NyaXB0IitvKSx0LmNsb3NlKCksYz10LkY7bi0tOylkZWxldGUgY1t1XVtpW25dXTtyZXR1cm4gYygpfTt0LmV4cG9ydHM9T2JqZWN0LmNyZWF0ZXx8ZnVuY3Rpb24oZSx0KXt2YXIgcjtyZXR1cm4gbnVsbCE9PWU/KGFbdV09bihlKSxyPW5ldyBhLGFbdV09bnVsbCxyW3NdPWUpOnI9YygpLHZvaWQgMD09PXQ/cjpvKHIsdCl9fSx7Ii4vX2FuLW9iamVjdCI6MzUsIi4vX2RvbS1jcmVhdGUiOjQzLCIuL19lbnVtLWJ1Zy1rZXlzIjo0NCwiLi9faHRtbCI6NTIsIi4vX29iamVjdC1kcHMiOjcxLCIuL19zaGFyZWQta2V5Ijo4N31dLDcwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fYW4tb2JqZWN0Iiksbz1lKCIuL19pZTgtZG9tLWRlZmluZSIpLGk9ZSgiLi9fdG8tcHJpbWl0aXZlIikscz1PYmplY3QuZGVmaW5lUHJvcGVydHk7ci5mPWUoIi4vX2Rlc2NyaXB0b3JzIik/T2JqZWN0LmRlZmluZVByb3BlcnR5OmZ1bmN0aW9uKGUsdCxyKXtpZihuKGUpLHQ9aSh0LCEwKSxuKHIpLG8pdHJ5e3JldHVybiBzKGUsdCxyKX1jYXRjaChhKXt9aWYoImdldCJpbiByfHwic2V0ImluIHIpdGhyb3cgVHlwZUVycm9yKCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEiKTtyZXR1cm4idmFsdWUiaW4gciYmKGVbdF09ci52YWx1ZSksZX19LHsiLi9fYW4tb2JqZWN0IjozNSwiLi9fZGVzY3JpcHRvcnMiOjQyLCIuL19pZTgtZG9tLWRlZmluZSI6NTMsIi4vX3RvLXByaW1pdGl2ZSI6OTd9XSw3MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX29iamVjdC1kcCIpLG89ZSgiLi9fYW4tb2JqZWN0IiksaT1lKCIuL19vYmplY3Qta2V5cyIpO3QuZXhwb3J0cz1lKCIuL19kZXNjcmlwdG9ycyIpP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7byhlKTtmb3IodmFyIHIscz1pKHQpLGE9cy5sZW5ndGgsdT0wO2E+dTspbi5mKGUscj1zW3UrK10sdFtyXSk7cmV0dXJuIGV9fSx7Ii4vX2FuLW9iamVjdCI6MzUsIi4vX2Rlc2NyaXB0b3JzIjo0MiwiLi9fb2JqZWN0LWRwIjo3MCwiLi9fb2JqZWN0LWtleXMiOjc4fV0sNzI6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3QtcGllIiksbz1lKCIuL19wcm9wZXJ0eS1kZXNjIiksaT1lKCIuL190by1pb2JqZWN0Iikscz1lKCIuL190by1wcmltaXRpdmUiKSxhPWUoIi4vX2hhcyIpLHU9ZSgiLi9faWU4LWRvbS1kZWZpbmUiKSxjPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7ci5mPWUoIi4vX2Rlc2NyaXB0b3JzIik/YzpmdW5jdGlvbihlLHQpe2lmKGU9aShlKSx0PXModCwhMCksdSl0cnl7cmV0dXJuIGMoZSx0KX1jYXRjaChyKXt9cmV0dXJuIGEoZSx0KT9vKCFuLmYuY2FsbChlLHQpLGVbdF0pOnZvaWQgMH19LHsiLi9fZGVzY3JpcHRvcnMiOjQyLCIuL19oYXMiOjUwLCIuL19pZTgtZG9tLWRlZmluZSI6NTMsIi4vX29iamVjdC1waWUiOjc5LCIuL19wcm9wZXJ0eS1kZXNjIjo4MSwiLi9fdG8taW9iamVjdCI6OTQsIi4vX3RvLXByaW1pdGl2ZSI6OTd9XSw3MzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWlvYmplY3QiKSxvPWUoIi4vX29iamVjdC1nb3BuIikuZixpPXt9LnRvU3RyaW5nLHM9Im9iamVjdCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXSxhPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbyhlKX1jYXRjaCh0KXtyZXR1cm4gcy5zbGljZSgpfX07dC5leHBvcnRzLmY9ZnVuY3Rpb24oZSl7cmV0dXJuIHMmJiJbb2JqZWN0IFdpbmRvd10iPT1pLmNhbGwoZSk/YShlKTpvKG4oZSkpfX0seyIuL19vYmplY3QtZ29wbiI6NzQsIi4vX3RvLWlvYmplY3QiOjk0fV0sNzQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG89ZSgiLi9fZW51bS1idWcta2V5cyIpLmNvbmNhdCgibGVuZ3RoIiwicHJvdG90eXBlIik7ci5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gbihlLG8pfX0seyIuL19lbnVtLWJ1Zy1rZXlzIjo0NCwiLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwiOjc3fV0sNzU6W2Z1bmN0aW9uKGUsdCxyKXtyLmY9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9sc30se31dLDc2OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faGFzIiksbz1lKCIuL190by1vYmplY3QiKSxpPWUoIi4vX3NoYXJlZC1rZXkiKSgiSUVfUFJPVE8iKSxzPU9iamVjdC5wcm90b3R5cGU7dC5leHBvcnRzPU9iamVjdC5nZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24oZSl7cmV0dXJuIGU9byhlKSxuKGUsaSk/ZVtpXToiZnVuY3Rpb24iPT10eXBlb2YgZS5jb25zdHJ1Y3RvciYmZSBpbnN0YW5jZW9mIGUuY29uc3RydWN0b3I/ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGU6ZSBpbnN0YW5jZW9mIE9iamVjdD9zOm51bGx9fSx7Ii4vX2hhcyI6NTAsIi4vX3NoYXJlZC1rZXkiOjg3LCIuL190by1vYmplY3QiOjk2fV0sNzc6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19oYXMiKSxvPWUoIi4vX3RvLWlvYmplY3QiKSxpPWUoIi4vX2FycmF5LWluY2x1ZGVzIikoITEpLHM9ZSgiLi9fc2hhcmVkLWtleSIpKCJJRV9QUk9UTyIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciByLGE9byhlKSx1PTAsYz1bXTtmb3IociBpbiBhKXIhPXMmJm4oYSxyKSYmYy5wdXNoKHIpO2Zvcig7dC5sZW5ndGg+dTspbihhLHI9dFt1KytdKSYmKH5pKGMscil8fGMucHVzaChyKSk7cmV0dXJuIGN9fSx7Ii4vX2FycmF5LWluY2x1ZGVzIjozNiwiLi9faGFzIjo1MCwiLi9fc2hhcmVkLWtleSI6ODcsIi4vX3RvLWlvYmplY3QiOjk0fV0sNzg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3Qta2V5cy1pbnRlcm5hbCIpLG89ZSgiLi9fZW51bS1idWcta2V5cyIpO3QuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIG4oZSxvKX19LHsiLi9fZW51bS1idWcta2V5cyI6NDQsIi4vX29iamVjdC1rZXlzLWludGVybmFsIjo3N31dLDc5OltmdW5jdGlvbihlLHQscil7ci5mPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlfSx7fV0sODA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19leHBvcnQiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX2ZhaWxzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7dmFyIHI9KG8uT2JqZWN0fHx7fSlbZV18fE9iamVjdFtlXSxzPXt9O3NbZV09dChyKSxuKG4uUytuLkYqaShmdW5jdGlvbigpe3IoMSl9KSwiT2JqZWN0IixzKX19LHsiLi9fY29yZSI6MzksIi4vX2V4cG9ydCI6NDYsIi4vX2ZhaWxzIjo0N31dLDgxOltmdW5jdGlvbihlLHQscil7dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJue2VudW1lcmFibGU6ISgxJmUpLGNvbmZpZ3VyYWJsZTohKDImZSksd3JpdGFibGU6ISg0JmUpLHZhbHVlOnR9fX0se31dLDgyOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faGlkZSIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQscil7Zm9yKHZhciBvIGluIHQpciYmZVtvXT9lW29dPXRbb106bihlLG8sdFtvXSk7cmV0dXJuIGV9fSx7Ii4vX2hpZGUiOjUxfV0sODM6W2Z1bmN0aW9uKGUsdCxyKXt0LmV4cG9ydHM9ZSgiLi9faGlkZSIpfSx7Ii4vX2hpZGUiOjUxfV0sODQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKSxvPWUoIi4vX2FuLW9iamVjdCIpLGk9ZnVuY3Rpb24oZSx0KXtpZihvKGUpLCFuKHQpJiZudWxsIT09dCl0aHJvdyBUeXBlRXJyb3IodCsiOiBjYW4ndCBzZXQgYXMgcHJvdG90eXBlISIpfTt0LmV4cG9ydHM9e3NldDpPYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24odCxyLG4pe3RyeXtuPWUoIi4vX2N0eCIpKEZ1bmN0aW9uLmNhbGwsZSgiLi9fb2JqZWN0LWdvcGQiKS5mKE9iamVjdC5wcm90b3R5cGUsIl9fcHJvdG9fXyIpLnNldCwyKSxuKHQsW10pLHI9ISh0IGluc3RhbmNlb2YgQXJyYXkpfWNhdGNoKG8pe3I9ITB9cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSx0KSxyP2UuX19wcm90b19fPXQ6bihlLHQpLGV9fSh7fSwhMSk6dm9pZCAwKSxjaGVjazppfX0seyIuL19hbi1vYmplY3QiOjM1LCIuL19jdHgiOjQwLCIuL19pcy1vYmplY3QiOjU4LCIuL19vYmplY3QtZ29wZCI6NzJ9XSw4NTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCIuL19nbG9iYWwiKSxvPWUoIi4vX2NvcmUiKSxpPWUoIi4vX29iamVjdC1kcCIpLHM9ZSgiLi9fZGVzY3JpcHRvcnMiKSxhPWUoIi4vX3drcyIpKCJzcGVjaWVzIik7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PSJmdW5jdGlvbiI9PXR5cGVvZiBvW2VdP29bZV06bltlXTtzJiZ0JiYhdFthXSYmaS5mKHQsYSx7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzfX0pfX0seyIuL19jb3JlIjozOSwiLi9fZGVzY3JpcHRvcnMiOjQyLCIuL19nbG9iYWwiOjQ5LCIuL19vYmplY3QtZHAiOjcwLCIuL193a3MiOjk5fV0sODY6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19vYmplY3QtZHAiKS5mLG89ZSgiLi9faGFzIiksaT1lKCIuL193a3MiKSgidG9TdHJpbmdUYWciKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0LHIpe2UmJiFvKGU9cj9lOmUucHJvdG90eXBlLGkpJiZuKGUsaSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KX19LHsiLi9faGFzIjo1MCwiLi9fb2JqZWN0LWRwIjo3MCwiLi9fd2tzIjo5OX1dLDg3OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fc2hhcmVkIikoImtleXMiKSxvPWUoIi4vX3VpZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbltlXXx8KG5bZV09byhlKSl9fSx7Ii4vX3NoYXJlZCI6ODgsIi4vX3VpZCI6OTh9XSw4ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsaT1uW29dfHwobltvXT17fSk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfHwoaVtlXT17fSl9fSx7Ii4vX2dsb2JhbCI6NDl9XSw4OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2FuLW9iamVjdCIpLG89ZSgiLi9fYS1mdW5jdGlvbiIpLGk9ZSgiLi9fd2tzIikoInNwZWNpZXMiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgcixzPW4oZSkuY29uc3RydWN0b3I7cmV0dXJuIHZvaWQgMD09PXN8fHZvaWQgMD09KHI9bihzKVtpXSk/dDpvKHIpfX0seyIuL19hLWZ1bmN0aW9uIjozMiwiLi9fYW4tb2JqZWN0IjozNSwiLi9fd2tzIjo5OX1dLDkwOltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9fdG8taW50ZWdlciIpLG89ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgaSxzLGE9U3RyaW5nKG8odCkpLHU9bihyKSxjPWEubGVuZ3RoO3JldHVybiAwPnV8fHU+PWM/ZT8iIjp2b2lkIDA6KGk9YS5jaGFyQ29kZUF0KHUpLDU1Mjk2Pml8fGk+NTYzMTl8fHUrMT09PWN8fChzPWEuY2hhckNvZGVBdCh1KzEpKTw1NjMyMHx8cz41NzM0Mz9lP2EuY2hhckF0KHUpOmk6ZT9hLnNsaWNlKHUsdSsyKTooaS01NTI5Njw8MTApKyhzLTU2MzIwKSs2NTUzNil9fX0seyIuL19kZWZpbmVkIjo0MSwiLi9fdG8taW50ZWdlciI6OTN9XSw5MTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuLG8saSxzPWUoIi4vX2N0eCIpLGE9ZSgiLi9faW52b2tlIiksdT1lKCIuL19odG1sIiksYz1lKCIuL19kb20tY3JlYXRlIiksbD1lKCIuL19nbG9iYWwiKSxmPWwucHJvY2VzcyxwPWwuc2V0SW1tZWRpYXRlLGQ9bC5jbGVhckltbWVkaWF0ZSxoPWwuTWVzc2FnZUNoYW5uZWwsYj0wLHk9e30sXz0ib25yZWFkeXN0YXRlY2hhbmdlIix2PWZ1bmN0aW9uKCl7dmFyIGU9K3RoaXM7aWYoeS5oYXNPd25Qcm9wZXJ0eShlKSl7dmFyIHQ9eVtlXTtkZWxldGUgeVtlXSx0KCl9fSxtPWZ1bmN0aW9uKGUpe3YuY2FsbChlLmRhdGEpfTtwJiZkfHwocD1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10scj0xO2FyZ3VtZW50cy5sZW5ndGg+cjspdC5wdXNoKGFyZ3VtZW50c1tyKytdKTtyZXR1cm4geVsrK2JdPWZ1bmN0aW9uKCl7YSgiZnVuY3Rpb24iPT10eXBlb2YgZT9lOkZ1bmN0aW9uKGUpLHQpfSxuKGIpLGJ9LGQ9ZnVuY3Rpb24oZSl7ZGVsZXRlIHlbZV19LCJwcm9jZXNzIj09ZSgiLi9fY29mIikoZik/bj1mdW5jdGlvbihlKXtmLm5leHRUaWNrKHModixlLDEpKX06aD8obz1uZXcgaCxpPW8ucG9ydDIsby5wb3J0MS5vbm1lc3NhZ2U9bSxuPXMoaS5wb3N0TWVzc2FnZSxpLDEpKTpsLmFkZEV2ZW50TGlzdGVuZXImJiJmdW5jdGlvbiI9PXR5cGVvZiBwb3N0TWVzc2FnZSYmIWwuaW1wb3J0U2NyaXB0cz8obj1mdW5jdGlvbihlKXtsLnBvc3RNZXNzYWdlKGUrIiIsIioiKX0sbC5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixtLCExKSk6bj1fIGluIGMoInNjcmlwdCIpP2Z1bmN0aW9uKGUpe3UuYXBwZW5kQ2hpbGQoYygic2NyaXB0IikpW19dPWZ1bmN0aW9uKCl7dS5yZW1vdmVDaGlsZCh0aGlzKSx2LmNhbGwoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KHModixlLDEpLDApfSksdC5leHBvcnRzPXtzZXQ6cCxjbGVhcjpkfX0seyIuL19jb2YiOjM4LCIuL19jdHgiOjQwLCIuL19kb20tY3JlYXRlIjo0MywiLi9fZ2xvYmFsIjo0OSwiLi9faHRtbCI6NTIsIi4vX2ludm9rZSI6NTR9XSw5MjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLWludGVnZXIiKSxvPU1hdGgubWF4LGk9TWF0aC5taW47dC5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU9bihlKSwwPmU/byhlK3QsMCk6aShlLHQpfX0seyIuL190by1pbnRlZ2VyIjo5M31dLDkzOltmdW5jdGlvbihlLHQscil7dmFyIG49TWF0aC5jZWlsLG89TWF0aC5mbG9vcjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGlzTmFOKGU9K2UpPzA6KGU+MD9vOm4pKGUpfX0se31dLDk0OltmdW5jdGlvbihlLHQscil7dmFyIG49ZSgiLi9faW9iamVjdCIpLG89ZSgiLi9fZGVmaW5lZCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gbihvKGUpKX19LHsiLi9fZGVmaW5lZCI6NDEsIi4vX2lvYmplY3QiOjU1fV0sOTU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pbnRlZ2VyIiksbz1NYXRoLm1pbjt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9vKG4oZSksOTAwNzE5OTI1NDc0MDk5MSk6MH19LHsiLi9fdG8taW50ZWdlciI6OTN9XSw5NjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2RlZmluZWQiKTt0LmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChuKGUpKX19LHsiLi9fZGVmaW5lZCI6NDF9XSw5NzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2lzLW9iamVjdCIpO3QuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCFuKGUpKXJldHVybiBlO3ZhciByLG87aWYodCYmImZ1bmN0aW9uIj09dHlwZW9mKHI9ZS50b1N0cmluZykmJiFuKG89ci5jYWxsKGUpKSlyZXR1cm4gbztpZigiZnVuY3Rpb24iPT10eXBlb2Yocj1lLnZhbHVlT2YpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87aWYoIXQmJiJmdW5jdGlvbiI9PXR5cGVvZihyPWUudG9TdHJpbmcpJiYhbihvPXIuY2FsbChlKSkpcmV0dXJuIG87CnRocm93IFR5cGVFcnJvcigiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlIil9fSx7Ii4vX2lzLW9iamVjdCI6NTh9XSw5ODpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPTAsbz1NYXRoLnJhbmRvbSgpO3QuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4iU3ltYm9sKCIuY29uY2F0KHZvaWQgMD09PWU/IiI6ZSwiKV8iLCgrK24rbykudG9TdHJpbmcoMzYpKX19LHt9XSw5OTpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3NoYXJlZCIpKCJ3a3MiKSxvPWUoIi4vX3VpZCIpLGk9ZSgiLi9fZ2xvYmFsIikuU3ltYm9sLHM9ImZ1bmN0aW9uIj09dHlwZW9mIGk7dC5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfHwobltlXT1zJiZpW2VdfHwocz9pOm8pKCJTeW1ib2wuIitlKSl9fSx7Ii4vX2dsb2JhbCI6NDksIi4vX3NoYXJlZCI6ODgsIi4vX3VpZCI6OTh9XSwxMDA6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19jbGFzc29mIiksbz1lKCIuL193a3MiKSgiaXRlcmF0b3IiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpO3QuZXhwb3J0cz1lKCIuL19jb3JlIikuZ2V0SXRlcmF0b3JNZXRob2Q9ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9ZT9lW29dfHxlWyJAQGl0ZXJhdG9yIl18fGlbbihlKV06dm9pZCAwfX0seyIuL19jbGFzc29mIjozNywiLi9fY29yZSI6MzksIi4vX2l0ZXJhdG9ycyI6NjQsIi4vX3drcyI6OTl9XSwxMDE6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiLi9fYWRkLXRvLXVuc2NvcGFibGVzIiksbz1lKCIuL19pdGVyLXN0ZXAiKSxpPWUoIi4vX2l0ZXJhdG9ycyIpLHM9ZSgiLi9fdG8taW9iamVjdCIpO3QuZXhwb3J0cz1lKCIuL19pdGVyLWRlZmluZSIpKEFycmF5LCJBcnJheSIsZnVuY3Rpb24oZSx0KXt0aGlzLl90PXMoZSksdGhpcy5faT0wLHRoaXMuX2s9dH0sZnVuY3Rpb24oKXt2YXIgZT10aGlzLl90LHQ9dGhpcy5fayxyPXRoaXMuX2krKztyZXR1cm4hZXx8cj49ZS5sZW5ndGg/KHRoaXMuX3Q9dm9pZCAwLG8oMSkpOiJrZXlzIj09dD9vKDAscik6InZhbHVlcyI9PXQ/bygwLGVbcl0pOm8oMCxbcixlW3JdXSl9LCJ2YWx1ZXMiKSxpLkFyZ3VtZW50cz1pLkFycmF5LG4oImtleXMiKSxuKCJ2YWx1ZXMiKSxuKCJlbnRyaWVzIil9LHsiLi9fYWRkLXRvLXVuc2NvcGFibGVzIjozMywiLi9faXRlci1kZWZpbmUiOjYxLCIuL19pdGVyLXN0ZXAiOjYzLCIuL19pdGVyYXRvcnMiOjY0LCIuL190by1pb2JqZWN0Ijo5NH1dLDEwMjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX2V4cG9ydCIpO24obi5TLCJPYmplY3QiLHtjcmVhdGU6ZSgiLi9fb2JqZWN0LWNyZWF0ZSIpfSl9LHsiLi9fZXhwb3J0Ijo0NiwiLi9fb2JqZWN0LWNyZWF0ZSI6Njl9XSwxMDM6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19leHBvcnQiKTtuKG4uUytuLkYqIWUoIi4vX2Rlc2NyaXB0b3JzIiksIk9iamVjdCIse2RlZmluZVByb3BlcnR5OmUoIi4vX29iamVjdC1kcCIpLmZ9KX0seyIuL19kZXNjcmlwdG9ycyI6NDIsIi4vX2V4cG9ydCI6NDYsIi4vX29iamVjdC1kcCI6NzB9XSwxMDQ6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19pcy1vYmplY3QiKSxvPWUoIi4vX21ldGEiKS5vbkZyZWV6ZTtlKCIuL19vYmplY3Qtc2FwIikoImZyZWV6ZSIsZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlJiZuKHQpP2Uobyh0KSk6dH19KX0seyIuL19pcy1vYmplY3QiOjU4LCIuL19tZXRhIjo2NywiLi9fb2JqZWN0LXNhcCI6ODB9XSwxMDU6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL190by1pb2JqZWN0Iiksbz1lKCIuL19vYmplY3QtZ29wZCIpLmY7ZSgiLi9fb2JqZWN0LXNhcCIpKCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8obihlKSx0KX19KX0seyIuL19vYmplY3QtZ29wZCI6NzIsIi4vX29iamVjdC1zYXAiOjgwLCIuL190by1pb2JqZWN0Ijo5NH1dLDEwNjpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLW9iamVjdCIpLG89ZSgiLi9fb2JqZWN0LWdwbyIpO2UoIi4vX29iamVjdC1zYXAiKSgiZ2V0UHJvdG90eXBlT2YiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBvKG4oZSkpfX0pfSx7Ii4vX29iamVjdC1ncG8iOjc2LCIuL19vYmplY3Qtc2FwIjo4MCwiLi9fdG8tb2JqZWN0Ijo5Nn1dLDEwNzpbZnVuY3Rpb24oZSx0LHIpe3ZhciBuPWUoIi4vX3RvLW9iamVjdCIpLG89ZSgiLi9fb2JqZWN0LWtleXMiKTtlKCIuL19vYmplY3Qtc2FwIikoImtleXMiLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBvKG4oZSkpfX0pfSx7Ii4vX29iamVjdC1rZXlzIjo3OCwiLi9fb2JqZWN0LXNhcCI6ODAsIi4vX3RvLW9iamVjdCI6OTZ9XSwxMDg6W2Z1bmN0aW9uKGUsdCxyKXt2YXIgbj1lKCIuL19leHBvcnQiKTtuKG4uUywiT2JqZWN0Iix7c2V0UHJvdG90eXBlT2Y6ZSgiLi9fc2V0LXByb3RvIikuc2V0fSl9LHsiLi9fZXhwb3J0Ijo0NiwiLi9fc2V0LXByb3RvIjo4NH1dLDEwOTpbZnVuY3Rpb24oZSx0LHIpe30se31dLDExMDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbixvLGkscz1lKCIuL19saWJyYXJ5IiksYT1lKCIuL19nbG9iYWwiKSx1PWUoIi4vX2N0eCIpLGM9ZSgiLi9fY2xhc3NvZiIpLGw9ZSgiLi9fZXhwb3J0IiksZj1lKCIuL19pcy1vYmplY3QiKSxwPShlKCIuL19hbi1vYmplY3QiKSxlKCIuL19hLWZ1bmN0aW9uIikpLGQ9ZSgiLi9fYW4taW5zdGFuY2UiKSxoPWUoIi4vX2Zvci1vZiIpLGI9KGUoIi4vX3NldC1wcm90byIpLnNldCxlKCIuL19zcGVjaWVzLWNvbnN0cnVjdG9yIikpLHk9ZSgiLi9fdGFzayIpLnNldCxfPWUoIi4vX21pY3JvdGFzayIpLHY9IlByb21pc2UiLG09YS5UeXBlRXJyb3IsZz1hLnByb2Nlc3Msaj1hW3ZdLGc9YS5wcm9jZXNzLE89InByb2Nlc3MiPT1jKGcpLEU9ZnVuY3Rpb24oKXt9LHc9ISFmdW5jdGlvbigpe3RyeXt2YXIgdD1qLnJlc29sdmUoMSkscj0odC5jb25zdHJ1Y3Rvcj17fSlbZSgiLi9fd2tzIikoInNwZWNpZXMiKV09ZnVuY3Rpb24oZSl7ZShFLEUpfTtyZXR1cm4oT3x8ImZ1bmN0aW9uIj09dHlwZW9mIFByb21pc2VSZWplY3Rpb25FdmVudCkmJnQudGhlbihFKWluc3RhbmNlb2Ygcn1jYXRjaChuKXt9fSgpLGs9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT09PXR8fGU9PT1qJiZ0PT09aX0sUD1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZihlKSYmImZ1bmN0aW9uIj09dHlwZW9mKHQ9ZS50aGVuKT90OiExfSxSPWZ1bmN0aW9uKGUpe3JldHVybiBrKGosZSk/bmV3IFMoZSk6bmV3IG8oZSl9LFM9bz1mdW5jdGlvbihlKXt2YXIgdCxyO3RoaXMucHJvbWlzZT1uZXcgZShmdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PXIpdGhyb3cgbSgiQmFkIFByb21pc2UgY29uc3RydWN0b3IiKTt0PWUscj1ufSksdGhpcy5yZXNvbHZlPXAodCksdGhpcy5yZWplY3Q9cChyKX0sTT1mdW5jdGlvbihlKXt0cnl7ZSgpfWNhdGNoKHQpe3JldHVybntlcnJvcjp0fX19LHg9ZnVuY3Rpb24oZSx0KXtpZighZS5fbil7ZS5fbj0hMDt2YXIgcj1lLl9jO18oZnVuY3Rpb24oKXtmb3IodmFyIG49ZS5fdixvPTE9PWUuX3MsaT0wLHM9ZnVuY3Rpb24odCl7dmFyIHIsaSxzPW8/dC5vazp0LmZhaWwsYT10LnJlc29sdmUsdT10LnJlamVjdCxjPXQuZG9tYWluO3RyeXtzPyhvfHwoMj09ZS5faCYmTihlKSxlLl9oPTEpLHM9PT0hMD9yPW46KGMmJmMuZW50ZXIoKSxyPXMobiksYyYmYy5leGl0KCkpLHI9PT10LnByb21pc2U/dShtKCJQcm9taXNlLWNoYWluIGN5Y2xlIikpOihpPVAocikpP2kuY2FsbChyLGEsdSk6YShyKSk6dShuKX1jYXRjaChsKXt1KGwpfX07ci5sZW5ndGg+aTspcyhyW2krK10pO2UuX2M9W10sZS5fbj0hMSx0JiYhZS5faCYmVChlKX0pfX0sVD1mdW5jdGlvbihlKXt5LmNhbGwoYSxmdW5jdGlvbigpe3ZhciB0LHIsbixvPWUuX3Y7aWYoQShlKSYmKHQ9TShmdW5jdGlvbigpe08/Zy5lbWl0KCJ1bmhhbmRsZWRSZWplY3Rpb24iLG8sZSk6KHI9YS5vbnVuaGFuZGxlZHJlamVjdGlvbik/cih7cHJvbWlzZTplLHJlYXNvbjpvfSk6KG49YS5jb25zb2xlKSYmbi5lcnJvciYmbi5lcnJvcigiVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uIixvKX0pLGUuX2g9T3x8QShlKT8yOjEpLGUuX2E9dm9pZCAwLHQpdGhyb3cgdC5lcnJvcn0pfSxBPWZ1bmN0aW9uKGUpe2lmKDE9PWUuX2gpcmV0dXJuITE7Zm9yKHZhciB0LHI9ZS5fYXx8ZS5fYyxuPTA7ci5sZW5ndGg+bjspaWYodD1yW24rK10sdC5mYWlsfHwhQSh0LnByb21pc2UpKXJldHVybiExO3JldHVybiEwfSxOPWZ1bmN0aW9uKGUpe3kuY2FsbChhLGZ1bmN0aW9uKCl7dmFyIHQ7Tz9nLmVtaXQoInJlamVjdGlvbkhhbmRsZWQiLGUpOih0PWEub25yZWplY3Rpb25oYW5kbGVkKSYmdCh7cHJvbWlzZTplLHJlYXNvbjplLl92fSl9KX0sQz1mdW5jdGlvbihlKXt2YXIgdD10aGlzO3QuX2R8fCh0Ll9kPSEwLHQ9dC5fd3x8dCx0Ll92PWUsdC5fcz0yLHQuX2F8fCh0Ll9hPXQuX2Muc2xpY2UoKSkseCh0LCEwKSl9LEk9ZnVuY3Rpb24oZSl7dmFyIHQscj10aGlzO2lmKCFyLl9kKXtyLl9kPSEwLHI9ci5fd3x8cjt0cnl7aWYocj09PWUpdGhyb3cgbSgiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGYiKTsodD1QKGUpKT9fKGZ1bmN0aW9uKCl7dmFyIG49e193OnIsX2Q6ITF9O3RyeXt0LmNhbGwoZSx1KEksbiwxKSx1KEMsbiwxKSl9Y2F0Y2gobyl7Qy5jYWxsKG4sbyl9fSk6KHIuX3Y9ZSxyLl9zPTEseChyLCExKSl9Y2F0Y2gobil7Qy5jYWxsKHtfdzpyLF9kOiExfSxuKX19fTt3fHwoaj1mdW5jdGlvbihlKXtkKHRoaXMsaix2LCJfaCIpLHAoZSksbi5jYWxsKHRoaXMpO3RyeXtlKHUoSSx0aGlzLDEpLHUoQyx0aGlzLDEpKX1jYXRjaCh0KXtDLmNhbGwodGhpcyx0KX19LG49ZnVuY3Rpb24oZSl7dGhpcy5fYz1bXSx0aGlzLl9hPXZvaWQgMCx0aGlzLl9zPTAsdGhpcy5fZD0hMSx0aGlzLl92PXZvaWQgMCx0aGlzLl9oPTAsdGhpcy5fbj0hMX0sbi5wcm90b3R5cGU9ZSgiLi9fcmVkZWZpbmUtYWxsIikoai5wcm90b3R5cGUse3RoZW46ZnVuY3Rpb24oZSx0KXt2YXIgcj1SKGIodGhpcyxqKSk7cmV0dXJuIHIub2s9ImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTohMCxyLmZhaWw9ImZ1bmN0aW9uIj09dHlwZW9mIHQmJnQsci5kb21haW49Tz9nLmRvbWFpbjp2b2lkIDAsdGhpcy5fYy5wdXNoKHIpLHRoaXMuX2EmJnRoaXMuX2EucHVzaChyKSx0aGlzLl9zJiZ4KHRoaXMsITEpLHIucHJvbWlzZX0sImNhdGNoIjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KSxTPWZ1bmN0aW9uKCl7dmFyIGU9bmV3IG47dGhpcy5wcm9taXNlPWUsdGhpcy5yZXNvbHZlPXUoSSxlLDEpLHRoaXMucmVqZWN0PXUoQyxlLDEpfSksbChsLkcrbC5XK2wuRiohdyx7UHJvbWlzZTpqfSksZSgiLi9fc2V0LXRvLXN0cmluZy10YWciKShqLHYpLGUoIi4vX3NldC1zcGVjaWVzIikodiksaT1lKCIuL19jb3JlIilbdl0sbChsLlMrbC5GKiF3LHYse3JlamVjdDpmdW5jdGlvbihlKXt2YXIgdD1SKHRoaXMpLHI9dC5yZWplY3Q7cmV0dXJuIHIoZSksdC5wcm9taXNlfX0pLGwobC5TK2wuRiooc3x8IXcpLHYse3Jlc29sdmU6ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGomJmsoZS5jb25zdHJ1Y3Rvcix0aGlzKSlyZXR1cm4gZTt2YXIgdD1SKHRoaXMpLHI9dC5yZXNvbHZlO3JldHVybiByKGUpLHQucHJvbWlzZX19KSxsKGwuUytsLkYqISh3JiZlKCIuL19pdGVyLWRldGVjdCIpKGZ1bmN0aW9uKGUpe2ouYWxsKGUpWyJjYXRjaCJdKEUpfSkpLHYse2FsbDpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9Uih0KSxuPXIucmVzb2x2ZSxvPXIucmVqZWN0LGk9TShmdW5jdGlvbigpe3ZhciByPVtdLGk9MCxzPTE7aChlLCExLGZ1bmN0aW9uKGUpe3ZhciBhPWkrKyx1PSExO3IucHVzaCh2b2lkIDApLHMrKyx0LnJlc29sdmUoZSkudGhlbihmdW5jdGlvbihlKXt1fHwodT0hMCxyW2FdPWUsLS1zfHxuKHIpKX0sbyl9KSwtLXN8fG4ocil9KTtyZXR1cm4gaSYmbyhpLmVycm9yKSxyLnByb21pc2V9LHJhY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPVIodCksbj1yLnJlamVjdCxvPU0oZnVuY3Rpb24oKXtoKGUsITEsZnVuY3Rpb24oZSl7dC5yZXNvbHZlKGUpLnRoZW4oci5yZXNvbHZlLG4pfSl9KTtyZXR1cm4gbyYmbihvLmVycm9yKSxyLnByb21pc2V9fSl9LHsiLi9fYS1mdW5jdGlvbiI6MzIsIi4vX2FuLWluc3RhbmNlIjozNCwiLi9fYW4tb2JqZWN0IjozNSwiLi9fY2xhc3NvZiI6MzcsIi4vX2NvcmUiOjM5LCIuL19jdHgiOjQwLCIuL19leHBvcnQiOjQ2LCIuL19mb3Itb2YiOjQ4LCIuL19nbG9iYWwiOjQ5LCIuL19pcy1vYmplY3QiOjU4LCIuL19pdGVyLWRldGVjdCI6NjIsIi4vX2xpYnJhcnkiOjY2LCIuL19taWNyb3Rhc2siOjY4LCIuL19yZWRlZmluZS1hbGwiOjgyLCIuL19zZXQtcHJvdG8iOjg0LCIuL19zZXQtc3BlY2llcyI6ODUsIi4vX3NldC10by1zdHJpbmctdGFnIjo4NiwiLi9fc3BlY2llcy1jb25zdHJ1Y3RvciI6ODksIi4vX3Rhc2siOjkxLCIuL193a3MiOjk5fV0sMTExOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX3N0cmluZy1hdCIpKCEwKTtlKCIuL19pdGVyLWRlZmluZSIpKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXt0aGlzLl90PVN0cmluZyhlKSx0aGlzLl9pPTB9LGZ1bmN0aW9uKCl7dmFyIGUsdD10aGlzLl90LHI9dGhpcy5faTtyZXR1cm4gcj49dC5sZW5ndGg/e3ZhbHVlOnZvaWQgMCxkb25lOiEwfTooZT1uKHQsciksdGhpcy5faSs9ZS5sZW5ndGgse3ZhbHVlOmUsZG9uZTohMX0pfSl9LHsiLi9faXRlci1kZWZpbmUiOjYxLCIuL19zdHJpbmctYXQiOjkwfV0sMTEyOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoIi4vX2dsb2JhbCIpLG89ZSgiLi9fY29yZSIpLGk9ZSgiLi9faGFzIikscz1lKCIuL19kZXNjcmlwdG9ycyIpLGE9ZSgiLi9fZXhwb3J0IiksdT1lKCIuL19yZWRlZmluZSIpLGM9ZSgiLi9fbWV0YSIpLktFWSxsPWUoIi4vX2ZhaWxzIiksZj1lKCIuL19zaGFyZWQiKSxwPWUoIi4vX3NldC10by1zdHJpbmctdGFnIiksZD1lKCIuL191aWQiKSxoPWUoIi4vX3drcyIpLGI9ZSgiLi9fa2V5b2YiKSx5PWUoIi4vX2VudW0ta2V5cyIpLF89ZSgiLi9faXMtYXJyYXkiKSx2PWUoIi4vX2FuLW9iamVjdCIpLG09ZSgiLi9fdG8taW9iamVjdCIpLGc9ZSgiLi9fdG8tcHJpbWl0aXZlIiksaj1lKCIuL19wcm9wZXJ0eS1kZXNjIiksTz1lKCIuL19vYmplY3QtY3JlYXRlIiksRT1lKCIuL19vYmplY3QtZ29wbi1leHQiKSx3PWUoIi4vX29iamVjdC1nb3BkIiksaz1lKCIuL19vYmplY3QtZHAiKSxQPXcuZixSPWsuZixTPUUuZixNPW4uU3ltYm9sLHg9bi5KU09OLFQ9eCYmeC5zdHJpbmdpZnksQT0hMSxOPSJwcm90b3R5cGUiLEM9aCgiX2hpZGRlbiIpLEk9aCgidG9QcmltaXRpdmUiKSxVPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLEQ9Zigic3ltYm9sLXJlZ2lzdHJ5IiksTD1mKCJzeW1ib2xzIiksRj1PYmplY3RbTl0sQj0iZnVuY3Rpb24iPT10eXBlb2YgTSxIPW4uUU9iamVjdCxxPXMmJmwoZnVuY3Rpb24oKXtyZXR1cm4gNyE9TyhSKHt9LCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFIodGhpcywiYSIse3ZhbHVlOjd9KS5hfX0pKS5hfSk/ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPVAoRix0KTtuJiZkZWxldGUgRlt0XSxSKGUsdCxyKSxuJiZlIT09RiYmUihGLHQsbil9OlIsWT1mdW5jdGlvbihlKXt2YXIgdD1MW2VdPU8oTVtOXSk7cmV0dXJuIHQuX2s9ZSxzJiZBJiZxKEYsZSx7Y29uZmlndXJhYmxlOiEwLHNldDpmdW5jdGlvbih0KXtpKHRoaXMsQykmJmkodGhpc1tDXSxlKSYmKHRoaXNbQ11bZV09ITEpLHEodGhpcyxlLGooMSx0KSl9fSksdH0sRz1CJiYic3ltYm9sIj09dHlwZW9mIE0uaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuInN5bWJvbCI9PXR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIE19LEs9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB2KGUpLHQ9Zyh0LCEwKSx2KHIpLGkoTCx0KT8oci5lbnVtZXJhYmxlPyhpKGUsQykmJmVbQ11bdF0mJihlW0NdW3RdPSExKSxyPU8ocix7ZW51bWVyYWJsZTpqKDAsITEpfSkpOihpKGUsQyl8fFIoZSxDLGooMSx7fSkpLGVbQ11bdF09ITApLHEoZSx0LHIpKTpSKGUsdCxyKX0sVj1mdW5jdGlvbihlLHQpe3YoZSk7Zm9yKHZhciByLG49eSh0PW0odCkpLG89MCxpPW4ubGVuZ3RoO2k+bzspSyhlLHI9bltvKytdLHRbcl0pO3JldHVybiBlfSxXPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHZvaWQgMD09PXQ/TyhlKTpWKE8oZSksdCl9LHo9ZnVuY3Rpb24oZSl7dmFyIHQ9VS5jYWxsKHRoaXMsZT1nKGUsITApKTtyZXR1cm4gdHx8IWkodGhpcyxlKXx8IWkoTCxlKXx8aSh0aGlzLEMpJiZ0aGlzW0NdW2VdP3Q6ITB9LEo9ZnVuY3Rpb24oZSx0KXt2YXIgcj1QKGU9bShlKSx0PWcodCwhMCkpO3JldHVybiFyfHwhaShMLHQpfHxpKGUsQykmJmVbQ11bdF18fChyLmVudW1lcmFibGU9ITApLHJ9LCQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9UyhtKGUpKSxuPVtdLG89MDtyLmxlbmd0aD5vOylpKEwsdD1yW28rK10pfHx0PT1DfHx0PT1jfHxuLnB1c2godCk7cmV0dXJuIG59LFg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LHI9UyhtKGUpKSxuPVtdLG89MDtyLmxlbmd0aD5vOylpKEwsdD1yW28rK10pJiZuLnB1c2goTFt0XSk7cmV0dXJuIG59LFE9ZnVuY3Rpb24oZSl7aWYodm9pZCAwIT09ZSYmIUcoZSkpe2Zvcih2YXIgdCxyLG49W2VdLG89MTthcmd1bWVudHMubGVuZ3RoPm87KW4ucHVzaChhcmd1bWVudHNbbysrXSk7cmV0dXJuIHQ9blsxXSwiZnVuY3Rpb24iPT10eXBlb2YgdCYmKHI9dCksIXImJl8odCl8fCh0PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHImJih0PXIuY2FsbCh0aGlzLGUsdCkpLEcodCk/dm9pZCAwOnR9KSxuWzFdPXQsVC5hcHBseSh4LG4pfX0sWj1sKGZ1bmN0aW9uKCl7dmFyIGU9TSgpO3JldHVybiJbbnVsbF0iIT1UKFtlXSl8fCJ7fSIhPVQoe2E6ZX0pfHwie30iIT1UKE9iamVjdChlKSl9KTtCfHwoTT1mdW5jdGlvbigpe2lmKHRoaXMgaW5zdGFuY2VvZiBNKXRocm93IFR5cGVFcnJvcigiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yISIpO3JldHVybiBZKGQoYXJndW1lbnRzLmxlbmd0aD4wP2FyZ3VtZW50c1swXTp2b2lkIDApKX0sdShNW05dLCJ0b1N0cmluZyIsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fa30pLHcuZj1KLGsuZj1LLGUoIi4vX29iamVjdC1nb3BuIikuZj1FLmY9JCxlKCIuL19vYmplY3QtcGllIikuZj16LGUoIi4vX29iamVjdC1nb3BzIikuZj1YLHMmJiFlKCIuL19saWJyYXJ5IikmJnUoRiwicHJvcGVydHlJc0VudW1lcmFibGUiLHosITApKSxhKGEuRythLlcrYS5GKiFCLHtTeW1ib2w6TX0pO2Zvcih2YXIgZWU9Imhhc0luc3RhbmNlLGlzQ29uY2F0U3ByZWFkYWJsZSxpdGVyYXRvcixtYXRjaCxyZXBsYWNlLHNlYXJjaCxzcGVjaWVzLHNwbGl0LHRvUHJpbWl0aXZlLHRvU3RyaW5nVGFnLHVuc2NvcGFibGVzIi5zcGxpdCgiLCIpLHRlPTA7ZWUubGVuZ3RoPnRlOyl7dmFyIHJlPWVlW3RlKytdLG5lPW8uU3ltYm9sLG9lPWgocmUpO3JlIGluIG5lfHxSKG5lLHJlLHt2YWx1ZTpCP29lOlkob2UpfSl9SCYmSFtOXSYmSFtOXS5maW5kQ2hpbGR8fChBPSEwKSxhKGEuUythLkYqIUIsIlN5bWJvbCIseyJmb3IiOmZ1bmN0aW9uKGUpe3JldHVybiBpKEQsZSs9IiIpP0RbZV06RFtlXT1NKGUpfSxrZXlGb3I6ZnVuY3Rpb24oZSl7aWYoRyhlKSlyZXR1cm4gYihELGUpO3Rocm93IFR5cGVFcnJvcihlKyIgaXMgbm90IGEgc3ltYm9sISIpfSx1c2VTZXR0ZXI6ZnVuY3Rpb24oKXtBPSEwfSx1c2VTaW1wbGU6ZnVuY3Rpb24oKXtBPSExfX0pLGEoYS5TK2EuRiohQiwiT2JqZWN0Iix7Y3JlYXRlOlcsZGVmaW5lUHJvcGVydHk6SyxkZWZpbmVQcm9wZXJ0aWVzOlYsZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOkosZ2V0T3duUHJvcGVydHlOYW1lczokLGdldE93blByb3BlcnR5U3ltYm9sczpYfSkseCYmYShhLlMrYS5GKighQnx8WiksIkpTT04iLHtzdHJpbmdpZnk6UX0pLE1bTl1bSV18fGUoIi4vX2hpZGUiKShNW05dLEksTVtOXS52YWx1ZU9mKSxwKE0sIlN5bWJvbCIpLHAoTWF0aCwiTWF0aCIsITApLHAobi5KU09OLCJKU09OIiwhMCl9LHsiLi9fYW4tb2JqZWN0IjozNSwiLi9fY29yZSI6MzksIi4vX2Rlc2NyaXB0b3JzIjo0MiwiLi9fZW51bS1rZXlzIjo0NSwiLi9fZXhwb3J0Ijo0NiwiLi9fZmFpbHMiOjQ3LCIuL19nbG9iYWwiOjQ5LCIuL19oYXMiOjUwLCIuL19oaWRlIjo1MSwiLi9faXMtYXJyYXkiOjU3LCIuL19rZXlvZiI6NjUsIi4vX2xpYnJhcnkiOjY2LCIuL19tZXRhIjo2NywiLi9fb2JqZWN0LWNyZWF0ZSI6NjksIi4vX29iamVjdC1kcCI6NzAsIi4vX29iamVjdC1nb3BkIjo3MiwiLi9fb2JqZWN0LWdvcG4iOjc0LCIuL19vYmplY3QtZ29wbi1leHQiOjczLCIuL19vYmplY3QtZ29wcyI6NzUsIi4vX29iamVjdC1waWUiOjc5LCIuL19wcm9wZXJ0eS1kZXNjIjo4MSwiLi9fcmVkZWZpbmUiOjgzLCIuL19zZXQtdG8tc3RyaW5nLXRhZyI6ODYsIi4vX3NoYXJlZCI6ODgsIi4vX3RvLWlvYmplY3QiOjk0LCIuL190by1wcmltaXRpdmUiOjk3LCIuL191aWQiOjk4LCIuL193a3MiOjk5fV0sMTEzOltmdW5jdGlvbihlLHQscil7ZSgiLi9lczYuYXJyYXkuaXRlcmF0b3IiKTtmb3IodmFyIG49ZSgiLi9fZ2xvYmFsIiksbz1lKCIuL19oaWRlIiksaT1lKCIuL19pdGVyYXRvcnMiKSxzPWUoIi4vX3drcyIpKCJ0b1N0cmluZ1RhZyIpLGE9WyJOb2RlTGlzdCIsIkRPTVRva2VuTGlzdCIsIk1lZGlhTGlzdCIsIlN0eWxlU2hlZXRMaXN0IiwiQ1NTUnVsZUxpc3QiXSx1PTA7NT51O3UrKyl7dmFyIGM9YVt1XSxsPW5bY10sZj1sJiZsLnByb3RvdHlwZTtmJiYhZltzXSYmbyhmLHMsYyksaVtjXT1pLkFycmF5fX0seyIuL19nbG9iYWwiOjQ5LCIuL19oaWRlIjo1MSwiLi9faXRlcmF0b3JzIjo2NCwiLi9fd2tzIjo5OSwiLi9lczYuYXJyYXkuaXRlcmF0b3IiOjEwMX1dLDExNDpbZnVuY3Rpb24oZSx0LHIpe2Z1bmN0aW9uIG4oKXtsPSExLGEubGVuZ3RoP2M9YS5jb25jYXQoYyk6Zj0tMSxjLmxlbmd0aCYmbygpfWZ1bmN0aW9uIG8oKXtpZighbCl7dmFyIGU9c2V0VGltZW91dChuKTtsPSEwO2Zvcih2YXIgdD1jLmxlbmd0aDt0Oyl7Zm9yKGE9YyxjPVtdOysrZjx0OylhJiZhW2ZdLnJ1bigpO2Y9LTEsdD1jLmxlbmd0aH1hPW51bGwsbD0hMSxjbGVhclRpbWVvdXQoZSl9fWZ1bmN0aW9uIGkoZSx0KXt0aGlzLmZ1bj1lLHRoaXMuYXJyYXk9dH1mdW5jdGlvbiBzKCl7fXZhciBhLHU9dC5leHBvcnRzPXt9LGM9W10sbD0hMSxmPS0xO3UubmV4dFRpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgcj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspdFtyLTFdPWFyZ3VtZW50c1tyXTtjLnB1c2gobmV3IGkoZSx0KSksMSE9PWMubGVuZ3RofHxsfHxzZXRUaW1lb3V0KG8sMCl9LGkucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LHUudGl0bGU9ImJyb3dzZXIiLHUuYnJvd3Nlcj0hMCx1LmVudj17fSx1LmFyZ3Y9W10sdS52ZXJzaW9uPSIiLHUudmVyc2lvbnM9e30sdS5vbj1zLHUuYWRkTGlzdGVuZXI9cyx1Lm9uY2U9cyx1Lm9mZj1zLHUucmVtb3ZlTGlzdGVuZXI9cyx1LnJlbW92ZUFsbExpc3RlbmVycz1zLHUuZW1pdD1zLHUuYmluZGluZz1mdW5jdGlvbihlKXt0aHJvdyBuZXcgRXJyb3IoInByb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkIil9LHUuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuIi8ifSx1LmNoZGlyPWZ1bmN0aW9uKGUpe3Rocm93IG5ldyBFcnJvcigicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkIil9LHUudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LHt9XSwxMTU6W2Z1bmN0aW9uKHQscixuKXshZnVuY3Rpb24odCxuKXsiZnVuY3Rpb24iPT10eXBlb2YgZSYmZS5hbWQ/ZShbXSxuKToidW5kZWZpbmVkIiE9dHlwZW9mIHImJnIuZXhwb3J0cz9yLmV4cG9ydHM9bigpOnQudHY0PW4oKX0odGhpcyxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSl7cmV0dXJuIGVuY29kZVVSSShlKS5yZXBsYWNlKC8lMjVbMC05XVswLTldL2csZnVuY3Rpb24oZSl7cmV0dXJuIiUiK2Uuc3Vic3RyaW5nKDMpfSl9ZnVuY3Rpb24gdCh0KXt2YXIgcj0iIjtwW3QuY2hhckF0KDApXSYmKHI9dC5jaGFyQXQoMCksdD10LnN1YnN0cmluZygxKSk7dmFyIG49IiIsbz0iIixpPSEwLHM9ITEsYT0hMTsiKyI9PT1yP2k9ITE6Ii4iPT09cj8obz0iLiIsbj0iLiIpOiIvIj09PXI/KG89Ii8iLG49Ii8iKToiIyI9PT1yPyhvPSIjIixpPSExKToiOyI9PT1yPyhvPSI7IixuPSI7IixzPSEwLGE9ITApOiI/Ij09PXI/KG89Ij8iLG49IiYiLHM9ITApOiImIj09PXImJihvPSImIixuPSImIixzPSEwKTtmb3IodmFyIHU9W10sYz10LnNwbGl0KCIsIiksbD1bXSxmPXt9LGg9MDtoPGMubGVuZ3RoO2grKyl7dmFyIGI9Y1toXSx5PW51bGw7aWYoLTEhPT1iLmluZGV4T2YoIjoiKSl7dmFyIF89Yi5zcGxpdCgiOiIpO2I9X1swXSx5PXBhcnNlSW50KF9bMV0sMTApfWZvcih2YXIgdj17fTtkW2IuY2hhckF0KGIubGVuZ3RoLTEpXTspdltiLmNoYXJBdChiLmxlbmd0aC0xKV09ITAsYj1iLnN1YnN0cmluZygwLGIubGVuZ3RoLTEpO3ZhciBtPXt0cnVuY2F0ZTp5LG5hbWU6YixzdWZmaWNlczp2fTtsLnB1c2gobSksZltiXT1tLHUucHVzaChiKX12YXIgZz1mdW5jdGlvbih0KXtmb3IodmFyIHI9IiIsdT0wLGM9MDtjPGwubGVuZ3RoO2MrKyl7dmFyIGY9bFtjXSxwPXQoZi5uYW1lKTtpZihudWxsPT09cHx8dm9pZCAwPT09cHx8QXJyYXkuaXNBcnJheShwKSYmMD09PXAubGVuZ3RofHwib2JqZWN0Ij09dHlwZW9mIHAmJjA9PT1PYmplY3Qua2V5cyhwKS5sZW5ndGgpdSsrO2Vsc2UgaWYocis9Yz09PXU/bzpufHwiLCIsQXJyYXkuaXNBcnJheShwKSl7cyYmKHIrPWYubmFtZSsiPSIpO2Zvcih2YXIgZD0wO2Q8cC5sZW5ndGg7ZCsrKWQ+MCYmKHIrPWYuc3VmZmljZXNbIioiXT9ufHwiLCI6IiwiLGYuc3VmZmljZXNbIioiXSYmcyYmKHIrPWYubmFtZSsiPSIpKSxyKz1pP2VuY29kZVVSSUNvbXBvbmVudChwW2RdKS5yZXBsYWNlKC8hL2csIiUyMSIpOmUocFtkXSl9ZWxzZSBpZigib2JqZWN0Ij09dHlwZW9mIHApe3MmJiFmLnN1ZmZpY2VzWyIqIl0mJihyKz1mLm5hbWUrIj0iKTt2YXIgaD0hMDtmb3IodmFyIGIgaW4gcClofHwocis9Zi5zdWZmaWNlc1siKiJdP258fCIsIjoiLCIpLGg9ITEscis9aT9lbmNvZGVVUklDb21wb25lbnQoYikucmVwbGFjZSgvIS9nLCIlMjEiKTplKGIpLHIrPWYuc3VmZmljZXNbIioiXT8iPSI6IiwiLHIrPWk/ZW5jb2RlVVJJQ29tcG9uZW50KHBbYl0pLnJlcGxhY2UoLyEvZywiJTIxIik6ZShwW2JdKX1lbHNlIHMmJihyKz1mLm5hbWUsYSYmIiI9PT1wfHwocis9Ij0iKSksbnVsbCE9Zi50cnVuY2F0ZSYmKHA9cC5zdWJzdHJpbmcoMCxmLnRydW5jYXRlKSkscis9aT9lbmNvZGVVUklDb21wb25lbnQocCkucmVwbGFjZSgvIS9nLCIlMjEiKTplKHApfXJldHVybiByfTtyZXR1cm4gZy52YXJOYW1lcz11LHtwcmVmaXg6byxzdWJzdGl0dXRpb246Z319ZnVuY3Rpb24gcihlKXtpZighKHRoaXMgaW5zdGFuY2VvZiByKSlyZXR1cm4gbmV3IHIoZSk7Zm9yKHZhciBuPWUuc3BsaXQoInsiKSxvPVtuLnNoaWZ0KCldLGk9W10scz1bXSxhPVtdO24ubGVuZ3RoPjA7KXt2YXIgdT1uLnNoaWZ0KCksYz11LnNwbGl0KCJ9IilbMF0sbD11LnN1YnN0cmluZyhjLmxlbmd0aCsxKSxmPXQoYyk7cy5wdXNoKGYuc3Vic3RpdHV0aW9uKSxpLnB1c2goZi5wcmVmaXgpLG8ucHVzaChsKSxhPWEuY29uY2F0KGYuc3Vic3RpdHV0aW9uLnZhck5hbWVzKX10aGlzLmZpbGw9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PW9bMF0scj0wO3I8cy5sZW5ndGg7cisrKXt2YXIgbj1zW3JdO3QrPW4oZSksdCs9b1tyKzFdfXJldHVybiB0fSx0aGlzLnZhck5hbWVzPWEsdGhpcy50ZW1wbGF0ZT1lfWZ1bmN0aW9uIG4oZSx0KXtpZihlPT09dClyZXR1cm4hMDtpZihlJiZ0JiYib2JqZWN0Ij09dHlwZW9mIGUmJiJvYmplY3QiPT10eXBlb2YgdCl7aWYoQXJyYXkuaXNBcnJheShlKSE9PUFycmF5LmlzQXJyYXkodCkpcmV0dXJuITE7aWYoQXJyYXkuaXNBcnJheShlKSl7aWYoZS5sZW5ndGghPT10Lmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpZighbihlW3JdLHRbcl0pKXJldHVybiExfWVsc2V7dmFyIG87Zm9yKG8gaW4gZSlpZih2b2lkIDA9PT10W29dJiZ2b2lkIDAhPT1lW29dKXJldHVybiExO2ZvcihvIGluIHQpaWYodm9pZCAwPT09ZVtvXSYmdm9pZCAwIT09dFtvXSlyZXR1cm4hMTtmb3IobyBpbiBlKWlmKCFuKGVbb10sdFtvXSkpcmV0dXJuITF9cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gbyhlKXt2YXIgdD1TdHJpbmcoZSkucmVwbGFjZSgvXlxzK3xccyskL2csIiIpLm1hdGNoKC9eKFteOlwvPyNdKzopPyhcL1wvKD86W146QF0qKD86OlteOkBdKik/QCk/KChbXjpcLz8jXSopKD86OihcZCopKT8pKT8oW14/I10qKShcP1teI10qKT8oI1tcc1xTXSopPy8pO3JldHVybiB0P3tocmVmOnRbMF18fCIiLHByb3RvY29sOnRbMV18fCIiLGF1dGhvcml0eTp0WzJdfHwiIixob3N0OnRbM118fCIiLGhvc3RuYW1lOnRbNF18fCIiLHBvcnQ6dFs1XXx8IiIscGF0aG5hbWU6dFs2XXx8IiIsc2VhcmNoOnRbN118fCIiLGhhc2g6dFs4XXx8IiJ9Om51bGx9ZnVuY3Rpb24gaShlLHQpe2Z1bmN0aW9uIHIoZSl7dmFyIHQ9W107cmV0dXJuIGUucmVwbGFjZSgvXihcLlwuPyhcL3wkKSkrLywiIikucmVwbGFjZSgvXC8oXC4oXC98JCkpKy9nLCIvIikucmVwbGFjZSgvXC9cLlwuJC8sIi8uLi8iKS5yZXBsYWNlKC9cLz9bXlwvXSovZyxmdW5jdGlvbihlKXsiLy4uIj09PWU/dC5wb3AoKTp0LnB1c2goZSl9KSx0LmpvaW4oIiIpLnJlcGxhY2UoL15cLy8sIi8iPT09ZS5jaGFyQXQoMCk/Ii8iOiIiKX1yZXR1cm4gdD1vKHR8fCIiKSxlPW8oZXx8IiIpLHQmJmU/KHQucHJvdG9jb2x8fGUucHJvdG9jb2wpKyh0LnByb3RvY29sfHx0LmF1dGhvcml0eT90LmF1dGhvcml0eTplLmF1dGhvcml0eSkrcih0LnByb3RvY29sfHx0LmF1dGhvcml0eXx8Ii8iPT09dC5wYXRobmFtZS5jaGFyQXQoMCk/dC5wYXRobmFtZTp0LnBhdGhuYW1lPyhlLmF1dGhvcml0eSYmIWUucGF0aG5hbWU/Ii8iOiIiKStlLnBhdGhuYW1lLnNsaWNlKDAsZS5wYXRobmFtZS5sYXN0SW5kZXhPZigiLyIpKzEpK3QucGF0aG5hbWU6ZS5wYXRobmFtZSkrKHQucHJvdG9jb2x8fHQuYXV0aG9yaXR5fHx0LnBhdGhuYW1lP3Quc2VhcmNoOnQuc2VhcmNofHxlLnNlYXJjaCkrdC5oYXNoOm51bGx9ZnVuY3Rpb24gcyhlKXtyZXR1cm4gZS5zcGxpdCgiIyIpWzBdfWZ1bmN0aW9uIGEoZSx0KXtpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUpaWYodm9pZCAwPT09dD90PWUuaWQ6InN0cmluZyI9PXR5cGVvZiBlLmlkJiYodD1pKHQsZS5pZCksZS5pZD10KSxBcnJheS5pc0FycmF5KGUpKWZvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWEoZVtyXSx0KTtlbHNleyJzdHJpbmciPT10eXBlb2YgZS4kcmVmJiYoZS4kcmVmPWkodCxlLiRyZWYpKTtmb3IodmFyIG4gaW4gZSkiZW51bSIhPT1uJiZhKGVbbl0sdCl9fWZ1bmN0aW9uIHUoZSl7ZT1lfHwiZW4iO3ZhciB0PWpbZV07cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciByPXRbZS5jb2RlXXx8Z1tlLmNvZGVdO2lmKCJzdHJpbmciIT10eXBlb2YgcilyZXR1cm4iVW5rbm93biBlcnJvciBjb2RlICIrZS5jb2RlKyI6ICIrSlNPTi5zdHJpbmdpZnkoZS5tZXNzYWdlUGFyYW1zKTt2YXIgbj1lLnBhcmFtcztyZXR1cm4gci5yZXBsYWNlKC9ceyhbXnt9XSopXH0vZyxmdW5jdGlvbihlLHQpe3ZhciByPW5bdF07cmV0dXJuInN0cmluZyI9PXR5cGVvZiByfHwibnVtYmVyIj09dHlwZW9mIHI/cjplfSl9fWZ1bmN0aW9uIGMoZSx0LHIsbixvKXtpZihFcnJvci5jYWxsKHRoaXMpLHZvaWQgMD09PWUpdGhyb3cgbmV3IEVycm9yKCJObyBlcnJvciBjb2RlIHN1cHBsaWVkOiAiK24pO3RoaXMubWVzc2FnZT0iIix0aGlzLnBhcmFtcz10LHRoaXMuY29kZT1lLHRoaXMuZGF0YVBhdGg9cnx8IiIsdGhpcy5zY2hlbWFQYXRoPW58fCIiLHRoaXMuc3ViRXJyb3JzPW98fG51bGw7dmFyIGk9bmV3IEVycm9yKHRoaXMubWVzc2FnZSk7aWYodGhpcy5zdGFjaz1pLnN0YWNrfHxpLnN0YWNrdHJhY2UsIXRoaXMuc3RhY2spdHJ5e3Rocm93IGl9Y2F0Y2goaSl7dGhpcy5zdGFjaz1pLnN0YWNrfHxpLnN0YWNrdHJhY2V9fWZ1bmN0aW9uIGwoZSx0KXtpZih0LnN1YnN0cmluZygwLGUubGVuZ3RoKT09PWUpe3ZhciByPXQuc3Vic3RyaW5nKGUubGVuZ3RoKTtpZih0Lmxlbmd0aD4wJiYiLyI9PT10LmNoYXJBdChlLmxlbmd0aC0xKXx8IiMiPT09ci5jaGFyQXQoMCl8fCI/Ij09PXIuY2hhckF0KDApKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIGYoZSl7dmFyIHQscixuPW5ldyBoLG89e3NldEVycm9yUmVwb3J0ZXI6ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlP3RoaXMubGFuZ3VhZ2UoZSk6KHI9ZSwhMCl9LGFkZEZvcm1hdDpmdW5jdGlvbigpe24uYWRkRm9ybWF0LmFwcGx5KG4sYXJndW1lbnRzKX0sbGFuZ3VhZ2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGU/KGpbZV18fChlPWUuc3BsaXQoIi0iKVswXSksaltlXT8odD1lLGUpOiExKTp0fSxhZGRMYW5ndWFnZTpmdW5jdGlvbihlLHQpe3ZhciByO2ZvcihyIGluIF8pdFtyXSYmIXRbX1tyXV0mJih0W19bcl1dPXRbcl0pO3ZhciBuPWUuc3BsaXQoIi0iKVswXTtpZihqW25dKXtqW2VdPU9iamVjdC5jcmVhdGUoaltuXSk7Zm9yKHIgaW4gdCkidW5kZWZpbmVkIj09dHlwZW9mIGpbbl1bcl0mJihqW25dW3JdPXRbcl0pLGpbZV1bcl09dFtyXX1lbHNlIGpbZV09dCxqW25dPXQ7cmV0dXJuIHRoaXN9LGZyZXNoQXBpOmZ1bmN0aW9uKGUpe3ZhciB0PWYoKTtyZXR1cm4gZSYmdC5sYW5ndWFnZShlKSx0fSx2YWxpZGF0ZTpmdW5jdGlvbihlLG8saSxzKXt2YXIgYT11KHQpLGM9cj9mdW5jdGlvbihlLHQsbil7cmV0dXJuIHIoZSx0LG4pfHxhKGUsdCxuKX06YSxsPW5ldyBoKG4sITEsYyxpLHMpOyJzdHJpbmciPT10eXBlb2YgbyYmKG89eyRyZWY6b30pLGwuYWRkU2NoZW1hKCIiLG8pO3ZhciBmPWwudmFsaWRhdGVBbGwoZSxvLG51bGwsbnVsbCwiIik7cmV0dXJuIWYmJnMmJihmPWwuYmFuVW5rbm93blByb3BlcnRpZXMoZSxvKSksdGhpcy5lcnJvcj1mLHRoaXMubWlzc2luZz1sLm1pc3NpbmcsdGhpcy52YWxpZD1udWxsPT09Zix0aGlzLnZhbGlkfSx2YWxpZGF0ZVJlc3VsdDpmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiB0aGlzLnZhbGlkYXRlLmFwcGx5KGUsYXJndW1lbnRzKSxlfSx2YWxpZGF0ZU11bHRpcGxlOmZ1bmN0aW9uKGUsbyxpLHMpe3ZhciBhPXUodCksYz1yP2Z1bmN0aW9uKGUsdCxuKXtyZXR1cm4gcihlLHQsbil8fGEoZSx0LG4pfTphLGw9bmV3IGgobiwhMCxjLGkscyk7InN0cmluZyI9PXR5cGVvZiBvJiYobz17JHJlZjpvfSksbC5hZGRTY2hlbWEoIiIsbyksbC52YWxpZGF0ZUFsbChlLG8sbnVsbCxudWxsLCIiKSxzJiZsLmJhblVua25vd25Qcm9wZXJ0aWVzKGUsbyk7dmFyIGY9e307cmV0dXJuIGYuZXJyb3JzPWwuZXJyb3JzLGYubWlzc2luZz1sLm1pc3NpbmcsZi52YWxpZD0wPT09Zi5lcnJvcnMubGVuZ3RoLGZ9LGFkZFNjaGVtYTpmdW5jdGlvbigpe3JldHVybiBuLmFkZFNjaGVtYS5hcHBseShuLGFyZ3VtZW50cyl9LGdldFNjaGVtYTpmdW5jdGlvbigpe3JldHVybiBuLmdldFNjaGVtYS5hcHBseShuLGFyZ3VtZW50cyl9LGdldFNjaGVtYU1hcDpmdW5jdGlvbigpe3JldHVybiBuLmdldFNjaGVtYU1hcC5hcHBseShuLGFyZ3VtZW50cyl9LGdldFNjaGVtYVVyaXM6ZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRTY2hlbWFVcmlzLmFwcGx5KG4sYXJndW1lbnRzKX0sZ2V0TWlzc2luZ1VyaXM6ZnVuY3Rpb24oKXtyZXR1cm4gbi5nZXRNaXNzaW5nVXJpcy5hcHBseShuLGFyZ3VtZW50cyl9LGRyb3BTY2hlbWFzOmZ1bmN0aW9uKCl7bi5kcm9wU2NoZW1hcy5hcHBseShuLGFyZ3VtZW50cyl9LGRlZmluZUtleXdvcmQ6ZnVuY3Rpb24oKXtuLmRlZmluZUtleXdvcmQuYXBwbHkobixhcmd1bWVudHMpfSxkZWZpbmVFcnJvcjpmdW5jdGlvbihlLHQscil7aWYoInN0cmluZyIhPXR5cGVvZiBlfHwhL15bQS1aXSsoX1tBLVpdKykqJC8udGVzdChlKSl0aHJvdyBuZXcgRXJyb3IoIkNvZGUgbmFtZSBtdXN0IGJlIGEgc3RyaW5nIGluIFVQUEVSX0NBU0VfV0lUSF9VTkRFUlNDT1JFUyIpO2lmKCJudW1iZXIiIT10eXBlb2YgdHx8dCUxIT09MHx8MWU0PnQpdGhyb3cgbmV3IEVycm9yKCJDb2RlIG51bWJlciBtdXN0IGJlIGFuIGludGVnZXIgPiAxMDAwMCIpO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgX1tlXSl0aHJvdyBuZXcgRXJyb3IoIkVycm9yIGFscmVhZHkgZGVmaW5lZDogIitlKyIgYXMgIitfW2VdKTtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHZbdF0pdGhyb3cgbmV3IEVycm9yKCJFcnJvciBjb2RlIGFscmVhZHkgdXNlZDogIit2W3RdKyIgYXMgIit0KTtfW2VdPXQsdlt0XT1lLGdbZV09Z1t0XT1yO2Zvcih2YXIgbiBpbiBqKXt2YXIgbz1qW25dO29bZV0mJihvW3RdPW9bdF18fG9bZV0pfX0scmVzZXQ6ZnVuY3Rpb24oKXtuLnJlc2V0KCksdGhpcy5lcnJvcj1udWxsLHRoaXMubWlzc2luZz1bXSx0aGlzLnZhbGlkPSEwfSxtaXNzaW5nOltdLGVycm9yOm51bGwsdmFsaWQ6ITAsbm9ybVNjaGVtYTphLHJlc29sdmVVcmw6aSxnZXREb2N1bWVudFVyaTpzLGVycm9yQ29kZXM6X307cmV0dXJuIG8ubGFuZ3VhZ2UoZXx8ImVuIiksb31PYmplY3Qua2V5c3x8KE9iamVjdC5rZXlzPWZ1bmN0aW9uKCl7dmFyIGU9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSx0PSF7dG9TdHJpbmc6bnVsbH0ucHJvcGVydHlJc0VudW1lcmFibGUoInRvU3RyaW5nIikscj1bInRvU3RyaW5nIiwidG9Mb2NhbGVTdHJpbmciLCJ2YWx1ZU9mIiwiaGFzT3duUHJvcGVydHkiLCJpc1Byb3RvdHlwZU9mIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJjb25zdHJ1Y3RvciJdLG49ci5sZW5ndGg7cmV0dXJuIGZ1bmN0aW9uKG8pe2lmKCJvYmplY3QiIT10eXBlb2YgbyYmImZ1bmN0aW9uIiE9dHlwZW9mIG98fG51bGw9PT1vKXRocm93IG5ldyBUeXBlRXJyb3IoIk9iamVjdC5rZXlzIGNhbGxlZCBvbiBub24tb2JqZWN0Iik7dmFyIGk9W107Zm9yKHZhciBzIGluIG8pZS5jYWxsKG8scykmJmkucHVzaChzKTtpZih0KWZvcih2YXIgYT0wO24+YTthKyspZS5jYWxsKG8sclthXSkmJmkucHVzaChyW2FdKTtyZXR1cm4gaX19KCkpLE9iamVjdC5jcmVhdGV8fChPYmplY3QuY3JlYXRlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZnVuY3Rpb24odCl7aWYoMSE9PWFyZ3VtZW50cy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKCJPYmplY3QuY3JlYXRlIGltcGxlbWVudGF0aW9uIG9ubHkgYWNjZXB0cyBvbmUgcGFyYW1ldGVyLiIpO3JldHVybiBlLnByb3RvdHlwZT10LG5ldyBlfX0oKSksQXJyYXkuaXNBcnJheXx8KEFycmF5LmlzQXJyYXk9ZnVuY3Rpb24oZSl7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX0pLEFycmF5LnByb3RvdHlwZS5pbmRleE9mfHwoQXJyYXkucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24oZSl7aWYobnVsbD09PXRoaXMpdGhyb3cgbmV3IFR5cGVFcnJvcjt2YXIgdD1PYmplY3QodGhpcykscj10Lmxlbmd0aD4+PjA7aWYoMD09PXIpcmV0dXJuLTE7dmFyIG49MDtpZihhcmd1bWVudHMubGVuZ3RoPjEmJihuPU51bWJlcihhcmd1bWVudHNbMV0pLG4hPT1uP249MDowIT09biYmbiE9PTEvMCYmbiE9PS0oMS8wKSYmKG49KG4+MHx8LTEpKk1hdGguZmxvb3IoTWF0aC5hYnMobikpKSksbj49cilyZXR1cm4tMTtmb3IodmFyIG89bj49MD9uOk1hdGgubWF4KHItTWF0aC5hYnMobiksMCk7cj5vO28rKylpZihvIGluIHQmJnRbb109PT1lKXJldHVybiBvO3JldHVybi0xfSksT2JqZWN0LmlzRnJvemVufHwoT2JqZWN0LmlzRnJvemVuPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0idHY0X3Rlc3RfZnJvemVuX2tleSI7ZS5oYXNPd25Qcm9wZXJ0eSh0KTspdCs9TWF0aC5yYW5kb20oKTt0cnl7cmV0dXJuIGVbdF09ITAsZGVsZXRlIGVbdF0sITF9Y2F0Y2gocil7cmV0dXJuITB9fSk7dmFyIHA9eyIrIjohMCwiIyI6ITAsIi4iOiEwLCIvIjohMCwiOyI6ITAsIj8iOiEwLCImIjohMH0sZD17IioiOiEwfTtyLnByb3RvdHlwZT17dG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZW1wbGF0ZX0sZmlsbEZyb21PYmplY3Q6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuZmlsbChmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0pfX07dmFyIGg9ZnVuY3Rpb24oZSx0LHIsbixvKXtpZih0aGlzLm1pc3Npbmc9W10sdGhpcy5taXNzaW5nTWFwPXt9LHRoaXMuZm9ybWF0VmFsaWRhdG9ycz1lP09iamVjdC5jcmVhdGUoZS5mb3JtYXRWYWxpZGF0b3JzKTp7fSx0aGlzLnNjaGVtYXM9ZT9PYmplY3QuY3JlYXRlKGUuc2NoZW1hcyk6e30sdGhpcy5jb2xsZWN0TXVsdGlwbGU9dCx0aGlzLmVycm9ycz1bXSx0aGlzLmhhbmRsZUVycm9yPXQ/dGhpcy5jb2xsZWN0RXJyb3I6dGhpcy5yZXR1cm5FcnJvcixuJiYodGhpcy5jaGVja1JlY3Vyc2l2ZT0hMCx0aGlzLnNjYW5uZWQ9W10sdGhpcy5zY2FubmVkRnJvemVuPVtdLHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXM9W10sdGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9ycz1bXSx0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXk9InR2NF92YWxpZGF0aW9uX2lkIix0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXk9InR2NF92YWxpZGF0aW9uX2Vycm9yc19pZCIpLG8mJih0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXM9ITAsdGhpcy5rbm93blByb3BlcnR5UGF0aHM9e30sdGhpcy51bmtub3duUHJvcGVydHlQYXRocz17fSksdGhpcy5lcnJvclJlcG9ydGVyPXJ8fHUoImVuIiksInN0cmluZyI9PXR5cGVvZiB0aGlzLmVycm9yUmVwb3J0ZXIpdGhyb3cgbmV3IEVycm9yKCJkZWJ1ZyIpO2lmKHRoaXMuZGVmaW5lZEtleXdvcmRzPXt9LGUpZm9yKHZhciBpIGluIGUuZGVmaW5lZEtleXdvcmRzKXRoaXMuZGVmaW5lZEtleXdvcmRzW2ldPWUuZGVmaW5lZEtleXdvcmRzW2ldLnNsaWNlKDApfTtoLnByb3RvdHlwZS5kZWZpbmVLZXl3b3JkPWZ1bmN0aW9uKGUsdCl7dGhpcy5kZWZpbmVkS2V5d29yZHNbZV09dGhpcy5kZWZpbmVkS2V5d29yZHNbZV18fFtdLHRoaXMuZGVmaW5lZEtleXdvcmRzW2VdLnB1c2godCl9LGgucHJvdG90eXBlLmNyZWF0ZUVycm9yPWZ1bmN0aW9uKGUsdCxyLG4sbyxpLHMpe3ZhciBhPW5ldyBjKGUsdCxyLG4sbyk7cmV0dXJuIGEubWVzc2FnZT10aGlzLmVycm9yUmVwb3J0ZXIoYSxpLHMpLGF9LGgucHJvdG90eXBlLnJldHVybkVycm9yPWZ1bmN0aW9uKGUpe3JldHVybiBlfSxoLnByb3RvdHlwZS5jb2xsZWN0RXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJnRoaXMuZXJyb3JzLnB1c2goZSksbnVsbH0saC5wcm90b3R5cGUucHJlZml4RXJyb3JzPWZ1bmN0aW9uKGUsdCxyKXtmb3IodmFyIG49ZTtuPHRoaXMuZXJyb3JzLmxlbmd0aDtuKyspdGhpcy5lcnJvcnNbbl09dGhpcy5lcnJvcnNbbl0ucHJlZml4V2l0aCh0LHIpO3JldHVybiB0aGlzfSxoLnByb3RvdHlwZS5iYW5Vbmtub3duUHJvcGVydGllcz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgciBpbiB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzKXt2YXIgbj10aGlzLmNyZWF0ZUVycm9yKF8uVU5LTk9XTl9QUk9QRVJUWSx7cGF0aDpyfSxyLCIiLG51bGwsZSx0KSxvPXRoaXMuaGFuZGxlRXJyb3Iobik7aWYobylyZXR1cm4gb31yZXR1cm4gbnVsbH0saC5wcm90b3R5cGUuYWRkRm9ybWF0PWZ1bmN0aW9uKGUsdCl7aWYoIm9iamVjdCI9PXR5cGVvZiBlKXtmb3IodmFyIHIgaW4gZSl0aGlzLmFkZEZvcm1hdChyLGVbcl0pO3JldHVybiB0aGlzfXRoaXMuZm9ybWF0VmFsaWRhdG9yc1tlXT10fSxoLnByb3RvdHlwZS5yZXNvbHZlUmVmcz1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMCE9PWUuJHJlZil7aWYodD10fHx7fSx0W2UuJHJlZl0pcmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoXy5DSVJDVUxBUl9SRUZFUkVOQ0Use3VybHM6T2JqZWN0LmtleXModCkuam9pbigiLCAiKX0sIiIsIiIsbnVsbCx2b2lkIDAsZSk7dFtlLiRyZWZdPSEwLGU9dGhpcy5nZXRTY2hlbWEoZS4kcmVmLHQpfXJldHVybiBlfSxoLnByb3RvdHlwZS5nZXRTY2hlbWE9ZnVuY3Rpb24oZSx0KXt2YXIgcjtpZih2b2lkIDAhPT10aGlzLnNjaGVtYXNbZV0pcmV0dXJuIHI9dGhpcy5zY2hlbWFzW2VdLHRoaXMucmVzb2x2ZVJlZnMocix0KTt2YXIgbj1lLG89IiI7aWYoLTEhPT1lLmluZGV4T2YoIiMiKSYmKG89ZS5zdWJzdHJpbmcoZS5pbmRleE9mKCIjIikrMSksbj1lLnN1YnN0cmluZygwLGUuaW5kZXhPZigiIyIpKSksIm9iamVjdCI9PXR5cGVvZiB0aGlzLnNjaGVtYXNbbl0pe3I9dGhpcy5zY2hlbWFzW25dO3ZhciBpPWRlY29kZVVSSUNvbXBvbmVudChvKTtpZigiIj09PWkpcmV0dXJuIHRoaXMucmVzb2x2ZVJlZnMocix0KTtpZigiLyIhPT1pLmNoYXJBdCgwKSlyZXR1cm47Zm9yKHZhciBzPWkuc3BsaXQoIi8iKS5zbGljZSgxKSxhPTA7YTxzLmxlbmd0aDthKyspe3ZhciB1PXNbYV0ucmVwbGFjZSgvfjEvZywiLyIpLnJlcGxhY2UoL34wL2csIn4iKTtpZih2b2lkIDA9PT1yW3VdKXtyPXZvaWQgMDticmVha31yPXJbdV19aWYodm9pZCAwIT09cilyZXR1cm4gdGhpcy5yZXNvbHZlUmVmcyhyLHQpfXZvaWQgMD09PXRoaXMubWlzc2luZ1tuXSYmKHRoaXMubWlzc2luZy5wdXNoKG4pLHRoaXMubWlzc2luZ1tuXT1uLHRoaXMubWlzc2luZ01hcFtuXT1uKX0saC5wcm90b3R5cGUuc2VhcmNoU2NoZW1hcz1mdW5jdGlvbihlLHQpe2lmKEFycmF5LmlzQXJyYXkoZSkpZm9yKHZhciByPTA7cjxlLmxlbmd0aDtyKyspdGhpcy5zZWFyY2hTY2hlbWFzKGVbcl0sdCk7ZWxzZSBpZihlJiYib2JqZWN0Ij09dHlwZW9mIGUpeyJzdHJpbmciPT10eXBlb2YgZS5pZCYmbCh0LGUuaWQpJiZ2b2lkIDA9PT10aGlzLnNjaGVtYXNbZS5pZF0mJih0aGlzLnNjaGVtYXNbZS5pZF09ZSk7Zm9yKHZhciBuIGluIGUpaWYoImVudW0iIT09bilpZigib2JqZWN0Ij09dHlwZW9mIGVbbl0pdGhpcy5zZWFyY2hTY2hlbWFzKGVbbl0sdCk7ZWxzZSBpZigiJHJlZiI9PT1uKXt2YXIgbz1zKGVbbl0pO28mJnZvaWQgMD09PXRoaXMuc2NoZW1hc1tvXSYmdm9pZCAwPT09dGhpcy5taXNzaW5nTWFwW29dJiYodGhpcy5taXNzaW5nTWFwW29dPW8pfX19LGgucHJvdG90eXBlLmFkZFNjaGVtYT1mdW5jdGlvbihlLHQpe2lmKCJzdHJpbmciIT10eXBlb2YgZXx8InVuZGVmaW5lZCI9PXR5cGVvZiB0KXtpZigib2JqZWN0IiE9dHlwZW9mIGV8fCJzdHJpbmciIT10eXBlb2YgZS5pZClyZXR1cm47dD1lLGU9dC5pZH1lPT09cyhlKSsiIyImJihlPXMoZSkpLHRoaXMuc2NoZW1hc1tlXT10LGRlbGV0ZSB0aGlzLm1pc3NpbmdNYXBbZV0sYSh0LGUpLHRoaXMuc2VhcmNoU2NoZW1hcyh0LGUpfSxoLnByb3RvdHlwZS5nZXRTY2hlbWFNYXA9ZnVuY3Rpb24oKXt2YXIgZT17fTtmb3IodmFyIHQgaW4gdGhpcy5zY2hlbWFzKWVbdF09dGhpcy5zY2hlbWFzW3RdO3JldHVybiBlfSxoLnByb3RvdHlwZS5nZXRTY2hlbWFVcmlzPWZ1bmN0aW9uKGUpe3ZhciB0PVtdO2Zvcih2YXIgciBpbiB0aGlzLnNjaGVtYXMpZSYmIWUudGVzdChyKXx8dC5wdXNoKHIpO3JldHVybiB0fSxoLnByb3RvdHlwZS5nZXRNaXNzaW5nVXJpcz1mdW5jdGlvbihlKXt2YXIgdD1bXTtmb3IodmFyIHIgaW4gdGhpcy5taXNzaW5nTWFwKWUmJiFlLnRlc3Qocil8fHQucHVzaChyKTtyZXR1cm4gdH0saC5wcm90b3R5cGUuZHJvcFNjaGVtYXM9ZnVuY3Rpb24oKXt0aGlzLnNjaGVtYXM9e30sdGhpcy5yZXNldCgpfSxoLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMubWlzc2luZz1bXSx0aGlzLm1pc3NpbmdNYXA9e30sdGhpcy5lcnJvcnM9W119LGgucHJvdG90eXBlLnZhbGlkYXRlQWxsPWZ1bmN0aW9uKGUsdCxyLG4sbyl7dmFyIGk7aWYodD10aGlzLnJlc29sdmVSZWZzKHQpLCF0KXJldHVybiBudWxsO2lmKHQgaW5zdGFuY2VvZiBjKXJldHVybiB0aGlzLmVycm9ycy5wdXNoKHQpLHQ7dmFyIHMsYT10aGlzLmVycm9ycy5sZW5ndGgsdT1udWxsLGw9bnVsbDtpZih0aGlzLmNoZWNrUmVjdXJzaXZlJiZlJiYib2JqZWN0Ij09dHlwZW9mIGUpe2lmKGk9IXRoaXMuc2Nhbm5lZC5sZW5ndGgsZVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldKXt2YXIgZj1lW3RoaXMudmFsaWRhdGVkU2NoZW1hc0tleV0uaW5kZXhPZih0KTtpZigtMSE9PWYpcmV0dXJuIHRoaXMuZXJyb3JzPXRoaXMuZXJyb3JzLmNvbmNhdChlW3RoaXMudmFsaWRhdGlvbkVycm9yc0tleV1bZl0pLG51bGx9aWYoT2JqZWN0LmlzRnJvemVuKGUpJiYocz10aGlzLnNjYW5uZWRGcm96ZW4uaW5kZXhPZihlKSwtMSE9PXMpKXt2YXIgcD10aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzW3NdLmluZGV4T2YodCk7aWYoLTEhPT1wKXJldHVybiB0aGlzLmVycm9ycz10aGlzLmVycm9ycy5jb25jYXQodGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9yc1tzXVtwXSksbnVsbH1pZih0aGlzLnNjYW5uZWQucHVzaChlKSxPYmplY3QuaXNGcm96ZW4oZSkpLTE9PT1zJiYocz10aGlzLnNjYW5uZWRGcm96ZW4ubGVuZ3RoLHRoaXMuc2Nhbm5lZEZyb3plbi5wdXNoKGUpLHRoaXMuc2Nhbm5lZEZyb3plblNjaGVtYXMucHVzaChbXSkpLHU9dGhpcy5zY2FubmVkRnJvemVuU2NoZW1hc1tzXS5sZW5ndGgsdGhpcy5zY2FubmVkRnJvemVuU2NoZW1hc1tzXVt1XT10LHRoaXMuc2Nhbm5lZEZyb3plblZhbGlkYXRpb25FcnJvcnNbc11bdV09W107ZWxzZXtpZighZVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldKXRyeXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXkse3ZhbHVlOltdLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHRoaXMudmFsaWRhdGlvbkVycm9yc0tleSx7dmFsdWU6W10sY29uZmlndXJhYmxlOiEwfSl9Y2F0Y2goZCl7ZVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldPVtdLGVbdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5XT1bXX1sPWVbdGhpcy52YWxpZGF0ZWRTY2hlbWFzS2V5XS5sZW5ndGgsZVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldW2xdPXQsZVt0aGlzLnZhbGlkYXRpb25FcnJvcnNLZXldW2xdPVtdfX12YXIgaD10aGlzLmVycm9ycy5sZW5ndGgsYj10aGlzLnZhbGlkYXRlQmFzaWMoZSx0LG8pfHx0aGlzLnZhbGlkYXRlTnVtZXJpYyhlLHQsbyl8fHRoaXMudmFsaWRhdGVTdHJpbmcoZSx0LG8pfHx0aGlzLnZhbGlkYXRlQXJyYXkoZSx0LG8pfHx0aGlzLnZhbGlkYXRlT2JqZWN0KGUsdCxvKXx8dGhpcy52YWxpZGF0ZUNvbWJpbmF0aW9ucyhlLHQsbyl8fHRoaXMudmFsaWRhdGVIeXBlcm1lZGlhKGUsdCxvKXx8dGhpcy52YWxpZGF0ZUZvcm1hdChlLHQsbyl8fHRoaXMudmFsaWRhdGVEZWZpbmVkS2V5d29yZHMoZSx0LG8pfHxudWxsO2lmKGkpe2Zvcig7dGhpcy5zY2FubmVkLmxlbmd0aDspe3ZhciB5PXRoaXMuc2Nhbm5lZC5wb3AoKTtkZWxldGUgeVt0aGlzLnZhbGlkYXRlZFNjaGVtYXNLZXldfXRoaXMuc2Nhbm5lZEZyb3plbj1bXSx0aGlzLnNjYW5uZWRGcm96ZW5TY2hlbWFzPVtdfWlmKGJ8fGghPT10aGlzLmVycm9ycy5sZW5ndGgpZm9yKDtyJiZyLmxlbmd0aHx8biYmbi5sZW5ndGg7KXt2YXIgXz1yJiZyLmxlbmd0aD8iIityLnBvcCgpOm51bGwsdj1uJiZuLmxlbmd0aD8iIituLnBvcCgpOm51bGw7YiYmKGI9Yi5wcmVmaXhXaXRoKF8sdikpLHRoaXMucHJlZml4RXJyb3JzKGgsXyx2KX1yZXR1cm4gbnVsbCE9PXU/dGhpcy5zY2FubmVkRnJvemVuVmFsaWRhdGlvbkVycm9yc1tzXVt1XT10aGlzLmVycm9ycy5zbGljZShhKTpudWxsIT09bCYmKGVbdGhpcy52YWxpZGF0aW9uRXJyb3JzS2V5XVtsXT10aGlzLmVycm9ycy5zbGljZShhKSksdGhpcy5oYW5kbGVFcnJvcihiKX0saC5wcm90b3R5cGUudmFsaWRhdGVGb3JtYXQ9ZnVuY3Rpb24oZSx0KXtpZigic3RyaW5nIiE9dHlwZW9mIHQuZm9ybWF0fHwhdGhpcy5mb3JtYXRWYWxpZGF0b3JzW3QuZm9ybWF0XSlyZXR1cm4gbnVsbDt2YXIgcj10aGlzLmZvcm1hdFZhbGlkYXRvcnNbdC5mb3JtYXRdLmNhbGwobnVsbCxlLHQpO3JldHVybiJzdHJpbmciPT10eXBlb2Ygcnx8Im51bWJlciI9PXR5cGVvZiByP3RoaXMuY3JlYXRlRXJyb3IoXy5GT1JNQVRfQ1VTVE9NLHttZXNzYWdlOnJ9LCIiLCIvZm9ybWF0IixudWxsLGUsdCk6ciYmIm9iamVjdCI9PXR5cGVvZiByP3RoaXMuY3JlYXRlRXJyb3IoXy5GT1JNQVRfQ1VTVE9NLHttZXNzYWdlOnIubWVzc2FnZXx8Ij8ifSxyLmRhdGFQYXRofHwiIixyLnNjaGVtYVBhdGh8fCIvZm9ybWF0IixudWxsLGUsdCk6bnVsbH0saC5wcm90b3R5cGUudmFsaWRhdGVEZWZpbmVkS2V5d29yZHM9ZnVuY3Rpb24oZSx0LHIpe2Zvcih2YXIgbiBpbiB0aGlzLmRlZmluZWRLZXl3b3JkcylpZigidW5kZWZpbmVkIiE9dHlwZW9mIHRbbl0pZm9yKHZhciBvPXRoaXMuZGVmaW5lZEtleXdvcmRzW25dLGk9MDtpPG8ubGVuZ3RoO2krKyl7dmFyIHM9b1tpXSxhPXMoZSx0W25dLHQscik7aWYoInN0cmluZyI9PXR5cGVvZiBhfHwibnVtYmVyIj09dHlwZW9mIGEpcmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoXy5LRVlXT1JEX0NVU1RPTSx7a2V5Om4sbWVzc2FnZTphfSwiIiwiIixudWxsLGUsdCkucHJlZml4V2l0aChudWxsLG4pO2lmKGEmJiJvYmplY3QiPT10eXBlb2YgYSl7dmFyIHU9YS5jb2RlO2lmKCJzdHJpbmciPT10eXBlb2YgdSl7aWYoIV9bdV0pdGhyb3cgbmV3IEVycm9yKCJVbmRlZmluZWQgZXJyb3IgY29kZSAodXNlIGRlZmluZUVycm9yKTogIit1KTt1PV9bdV19ZWxzZSJudW1iZXIiIT10eXBlb2YgdSYmKHU9Xy5LRVlXT1JEX0NVU1RPTSk7dmFyIGM9Im9iamVjdCI9PXR5cGVvZiBhLm1lc3NhZ2U/YS5tZXNzYWdlOntrZXk6bixtZXNzYWdlOmEubWVzc2FnZXx8Ij8ifSxsPWEuc2NoZW1hUGF0aHx8Ii8iK24ucmVwbGFjZSgvfi9nLCJ+MCIpLnJlcGxhY2UoL1wvL2csIn4xIik7cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IodSxjLGEuZGF0YVBhdGh8fG51bGwsbCxudWxsLGUsdCl9fXJldHVybiBudWxsfSxoLnByb3RvdHlwZS52YWxpZGF0ZUJhc2ljPWZ1bmN0aW9uKGUsdCxyKXt2YXIgbjtyZXR1cm4obj10aGlzLnZhbGlkYXRlVHlwZShlLHQscikpP24ucHJlZml4V2l0aChudWxsLCJ0eXBlIik6KG49dGhpcy52YWxpZGF0ZUVudW0oZSx0LHIpKT9uLnByZWZpeFdpdGgobnVsbCwidHlwZSIpOm51bGx9LGgucHJvdG90eXBlLnZhbGlkYXRlVHlwZT1mdW5jdGlvbihlLHQpe2lmKHZvaWQgMD09PXQudHlwZSlyZXR1cm4gbnVsbDt2YXIgcj10eXBlb2YgZTtudWxsPT09ZT9yPSJudWxsIjpBcnJheS5pc0FycmF5KGUpJiYocj0iYXJyYXkiKTt2YXIgbj10LnR5cGU7QXJyYXkuaXNBcnJheShuKXx8KG49W25dKTtmb3IodmFyIG89MDtvPG4ubGVuZ3RoO28rKyl7dmFyIGk9bltvXTtpZihpPT09cnx8ImludGVnZXIiPT09aSYmIm51bWJlciI9PT1yJiZlJTE9PT0wKXJldHVybiBudWxsfXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKF8uSU5WQUxJRF9UWVBFLHt0eXBlOnIsZXhwZWN0ZWQ6bi5qb2luKCIvIil9LCIiLCIiLG51bGwsZSx0KX0saC5wcm90b3R5cGUudmFsaWRhdGVFbnVtPWZ1bmN0aW9uKGUsdCl7aWYodm9pZCAwPT09dFsiZW51bSJdKXJldHVybiBudWxsO2Zvcih2YXIgcj0wO3I8dFsiZW51bSJdLmxlbmd0aDtyKyspe3ZhciBvPXRbImVudW0iXVtyXTtpZihuKGUsbykpcmV0dXJuIG51bGx9cmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoXy5FTlVNX01JU01BVENILHt2YWx1ZToidW5kZWZpbmVkIiE9dHlwZW9mIEpTT04/SlNPTi5zdHJpbmdpZnkoZSk6ZX0sIiIsIiIsbnVsbCxlLHQpfSxoLnByb3RvdHlwZS52YWxpZGF0ZU51bWVyaWM9ZnVuY3Rpb24oZSx0LHIpe3JldHVybiB0aGlzLnZhbGlkYXRlTXVsdGlwbGVPZihlLHQscil8fHRoaXMudmFsaWRhdGVNaW5NYXgoZSx0LHIpfHx0aGlzLnZhbGlkYXRlTmFOKGUsdCxyKXx8bnVsbH07dmFyIGI9TWF0aC5wb3coMiwtNTEpLHk9MS1iO2gucHJvdG90eXBlLnZhbGlkYXRlTXVsdGlwbGVPZj1mdW5jdGlvbihlLHQpe3ZhciByPXQubXVsdGlwbGVPZnx8dC5kaXZpc2libGVCeTtpZih2b2lkIDA9PT1yKXJldHVybiBudWxsO2lmKCJudW1iZXIiPT10eXBlb2YgZSl7dmFyIG49ZS9yJTE7aWYobj49YiYmeT5uKXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKF8uTlVNQkVSX01VTFRJUExFX09GLHt2YWx1ZTplLG11bHRpcGxlT2Y6cn0sIiIsIiIsbnVsbCxlLHQpfXJldHVybiBudWxsfSxoLnByb3RvdHlwZS52YWxpZGF0ZU1pbk1heD1mdW5jdGlvbihlLHQpe2lmKCJudW1iZXIiIT10eXBlb2YgZSlyZXR1cm4gbnVsbDtpZih2b2lkIDAhPT10Lm1pbmltdW0pe2lmKGU8dC5taW5pbXVtKXJldHVybiB0aGlzLmNyZWF0ZUVycm9yKF8uTlVNQkVSX01JTklNVU0se3ZhbHVlOmUsbWluaW11bTp0Lm1pbmltdW19LCIiLCIvbWluaW11bSIsbnVsbCxlLHQpO2lmKHQuZXhjbHVzaXZlTWluaW11bSYmZT09PXQubWluaW11bSlyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihfLk5VTUJFUl9NSU5JTVVNX0VYQ0xVU0lWRSx7dmFsdWU6ZSxtaW5pbXVtOnQubWluaW11bX0sIiIsIi9leGNsdXNpdmVNaW5pbXVtIixudWxsLGUsdCl9aWYodm9pZCAwIT09dC5tYXhpbXVtKXtpZihlPnQubWF4aW11bSlyZXR1cm4gdGhpcy5jcmVhdGVFcnJvcihfLk5VTUJFUl9NQVhJTVVNLHt2YWx1ZTplLG1heGltdW06dC5tYXhpbXVtfSwiIiwiL21heGltdW0iLG51bGwsZSx0KTtpZih0LmV4Y2x1c2l2ZU1heGltdW0mJmU9PT10Lm1heGltdW0pcmV0dXJuIHRoaXMuY3JlYXRlRXJyb3IoXy5OVU1CRVJfTUFYSU1VTV9FWENMVVNJVkUse3ZhbHVlOmUsbWF4aW11bTp0Lm1heGltdW19LCIiLCIvZXhjbHVzaXZlTWF4aW11bSIsbnVsbCxlLHQpfXJldHVybiBudWxsfSxoLnByb3RvdHlwZS52YWxpZGF0ZU5hTj1mdW5jdGlvbihlLHQpe3JldHVybiJudW1iZXIiIT10eXBlb2YgZT9udWxsOmlzTmFOKGUpPT09ITB8fGU9PT0xLzB8fGU9PT0tKDEvMCk/dGhpcy5jcmVhdGVFcnJvcihfLk5VTUJFUl9OT1RfQV9OVU1CRVIse3ZhbHVlOmV9LCIiLCIvdHlwZSIsbnVsbCxlLHQpOm51bGx9LGgucHJvdG90eXBlLnZhbGlkYXRlU3RyaW5nPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy52YWxpZGF0ZVN0cmluZ0xlbmd0aChlLHQscil8fHRoaXMudmFsaWRhdGVTdHJpbmdQYXR0ZXJuKGUsdCxyKXx8bnVsbH0saC5wcm90b3R5cGUudmFsaWRhdGVTdHJpbmdMZW5ndGg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIGU/bnVsbDp2b2lkIDAhPT10Lm1pbkxlbmd0aCYmZS5sZW5ndGg8dC5taW5MZW5ndGg/dGhpcy5jcmVhdGVFcnJvcihfLlNUUklOR19MRU5HVEhfU0hPUlQse2xlbmd0aDplLmxlbmd0aCxtaW5pbXVtOnQubWluTGVuZ3RofSwiIiwiL21pbkxlbmd0aCIsbnVsbCxlLHQpOnZvaWQgMCE9PXQubWF4TGVuZ3RoJiZlLmxlbmd0aD50Lm1heExlbmd0aD90aGlzLmNyZWF0ZUVycm9yKF8uU1RSSU5HX0xFTkdUSF9MT05HLHtsZW5ndGg6ZS5sZW5ndGgsbWF4aW11bTp0Lm1heExlbmd0aH0sIiIsIi9tYXhMZW5ndGgiLG51bGwsZSx0KTpudWxsfSxoLnByb3RvdHlwZS52YWxpZGF0ZVN0cmluZ1BhdHRlcm49ZnVuY3Rpb24oZSx0KXtpZigic3RyaW5nIiE9dHlwZW9mIGV8fCJzdHJpbmciIT10eXBlb2YgdC5wYXR0ZXJuJiYhKHQucGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCkpcmV0dXJuIG51bGw7dmFyIHI7aWYodC5wYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwKXI9dC5wYXR0ZXJuO2Vsc2V7dmFyIG4sbz0iIixpPXQucGF0dGVybi5tYXRjaCgvXlwvKC4rKVwvKFtpbWddKikkLyk7aT8obj1pWzFdLG89aVsyXSk6bj10LnBhdHRlcm4scj1uZXcgUmVnRXhwKG4sbyl9cmV0dXJuIHIudGVzdChlKT9udWxsOnRoaXMuY3JlYXRlRXJyb3IoXy5TVFJJTkdfUEFUVEVSTix7cGF0dGVybjp0LnBhdHRlcm59LCIiLCIvcGF0dGVybiIsbnVsbCxlLHQpfSxoLnByb3RvdHlwZS52YWxpZGF0ZUFycmF5PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKT90aGlzLnZhbGlkYXRlQXJyYXlMZW5ndGgoZSx0LHIpfHx0aGlzLnZhbGlkYXRlQXJyYXlVbmlxdWVJdGVtcyhlLHQscil8fHRoaXMudmFsaWRhdGVBcnJheUl0ZW1zKGUsdCxyKXx8bnVsbDpudWxsfSxoLnByb3RvdHlwZS52YWxpZGF0ZUFycmF5TGVuZ3RoPWZ1bmN0aW9uKGUsdCl7dmFyIHI7cmV0dXJuIHZvaWQgMCE9PXQubWluSXRlbXMmJmUubGVuZ3RoPHQubWluSXRlbXMmJihyPXRoaXMuY3JlYXRlRXJyb3IoXy5BUlJBWV9MRU5HVEhfU0hPUlQse2xlbmd0aDplLmxlbmd0aCxtaW5pbXVtOnQubWluSXRlbXN9LCIiLCIvbWluSXRlbXMiLG51bGwsZSx0KSx0aGlzLmhhbmRsZUVycm9yKHIpKT9yOnZvaWQgMCE9PXQubWF4SXRlbXMmJmUubGVuZ3RoPnQubWF4SXRlbXMmJihyPXRoaXMuY3JlYXRlRXJyb3IoXy5BUlJBWV9MRU5HVEhfTE9ORyx7bGVuZ3RoOmUubGVuZ3RoLG1heGltdW06dC5tYXhJdGVtc30sIiIsIi9tYXhJdGVtcyIsbnVsbCxlLHQpLHRoaXMuaGFuZGxlRXJyb3IocikpP3I6bnVsbH0saC5wcm90b3R5cGUudmFsaWRhdGVBcnJheVVuaXF1ZUl0ZW1zPWZ1bmN0aW9uKGUsdCl7aWYodC51bmlxdWVJdGVtcylmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylmb3IodmFyIG89cisxO288ZS5sZW5ndGg7bysrKWlmKG4oZVtyXSxlW29dKSl7dmFyIGk9dGhpcy5jcmVhdGVFcnJvcihfLkFSUkFZX1VOSVFVRSx7bWF0Y2gxOnIsbWF0Y2gyOm99LCIiLCIvdW5pcXVlSXRlbXMiLG51bGwsZSx0KTtpZih0aGlzLmhhbmRsZUVycm9yKGkpKXJldHVybiBpfXJldHVybiBudWxsfSxoLnByb3RvdHlwZS52YWxpZGF0ZUFycmF5SXRlbXM9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMD09PXQuaXRlbXMpcmV0dXJuIG51bGw7dmFyIG4sbztpZihBcnJheS5pc0FycmF5KHQuaXRlbXMpKXtmb3Iobz0wO288ZS5sZW5ndGg7bysrKWlmKG88dC5pdGVtcy5sZW5ndGgpe2lmKG49dGhpcy52YWxpZGF0ZUFsbChlW29dLHQuaXRlbXNbb10sW29dLFsiaXRlbXMiLG9dLHIrIi8iK28pKXJldHVybiBufWVsc2UgaWYodm9pZCAwIT09dC5hZGRpdGlvbmFsSXRlbXMpaWYoImJvb2xlYW4iPT10eXBlb2YgdC5hZGRpdGlvbmFsSXRlbXMpe2lmKCF0LmFkZGl0aW9uYWxJdGVtcyYmKG49dGhpcy5jcmVhdGVFcnJvcihfLkFSUkFZX0FERElUSU9OQUxfSVRFTVMse30sIi8iK28sIi9hZGRpdGlvbmFsSXRlbXMiLG51bGwsZSx0KSx0aGlzLmhhbmRsZUVycm9yKG4pKSlyZXR1cm4gbn1lbHNlIGlmKG49dGhpcy52YWxpZGF0ZUFsbChlW29dLHQuYWRkaXRpb25hbEl0ZW1zLFtvXSxbImFkZGl0aW9uYWxJdGVtcyJdLHIrIi8iK28pKXJldHVybiBufWVsc2UgZm9yKG89MDtvPGUubGVuZ3RoO28rKylpZihuPXRoaXMudmFsaWRhdGVBbGwoZVtvXSx0Lml0ZW1zLFtvXSxbIml0ZW1zIl0scisiLyIrbykpcmV0dXJuIG47cmV0dXJuIG51bGx9LGgucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0PWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4ib2JqZWN0IiE9dHlwZW9mIGV8fG51bGw9PT1lfHxBcnJheS5pc0FycmF5KGUpP251bGw6dGhpcy52YWxpZGF0ZU9iamVjdE1pbk1heFByb3BlcnRpZXMoZSx0LHIpfHx0aGlzLnZhbGlkYXRlT2JqZWN0UmVxdWlyZWRQcm9wZXJ0aWVzKGUsdCxyKXx8dGhpcy52YWxpZGF0ZU9iamVjdFByb3BlcnRpZXMoZSx0LHIpfHx0aGlzLnZhbGlkYXRlT2JqZWN0RGVwZW5kZW5jaWVzKGUsdCxyKXx8bnVsbH0saC5wcm90b3R5cGUudmFsaWRhdGVPYmplY3RNaW5NYXhQcm9wZXJ0aWVzPWZ1bmN0aW9uKGUsdCl7dmFyIHIsbj1PYmplY3Qua2V5cyhlKTsKcmV0dXJuIHZvaWQgMCE9PXQubWluUHJvcGVydGllcyYmbi5sZW5ndGg8dC5taW5Qcm9wZXJ0aWVzJiYocj10aGlzLmNyZWF0ZUVycm9yKF8uT0JKRUNUX1BST1BFUlRJRVNfTUlOSU1VTSx7cHJvcGVydHlDb3VudDpuLmxlbmd0aCxtaW5pbXVtOnQubWluUHJvcGVydGllc30sIiIsIi9taW5Qcm9wZXJ0aWVzIixudWxsLGUsdCksdGhpcy5oYW5kbGVFcnJvcihyKSk/cjp2b2lkIDAhPT10Lm1heFByb3BlcnRpZXMmJm4ubGVuZ3RoPnQubWF4UHJvcGVydGllcyYmKHI9dGhpcy5jcmVhdGVFcnJvcihfLk9CSkVDVF9QUk9QRVJUSUVTX01BWElNVU0se3Byb3BlcnR5Q291bnQ6bi5sZW5ndGgsbWF4aW11bTp0Lm1heFByb3BlcnRpZXN9LCIiLCIvbWF4UHJvcGVydGllcyIsbnVsbCxlLHQpLHRoaXMuaGFuZGxlRXJyb3IocikpP3I6bnVsbH0saC5wcm90b3R5cGUudmFsaWRhdGVPYmplY3RSZXF1aXJlZFByb3BlcnRpZXM9ZnVuY3Rpb24oZSx0KXtpZih2b2lkIDAhPT10LnJlcXVpcmVkKWZvcih2YXIgcj0wO3I8dC5yZXF1aXJlZC5sZW5ndGg7cisrKXt2YXIgbj10LnJlcXVpcmVkW3JdO2lmKHZvaWQgMD09PWVbbl0pe3ZhciBvPXRoaXMuY3JlYXRlRXJyb3IoXy5PQkpFQ1RfUkVRVUlSRUQse2tleTpufSwiIiwiL3JlcXVpcmVkLyIrcixudWxsLGUsdCk7aWYodGhpcy5oYW5kbGVFcnJvcihvKSlyZXR1cm4gb319cmV0dXJuIG51bGx9LGgucHJvdG90eXBlLnZhbGlkYXRlT2JqZWN0UHJvcGVydGllcz1mdW5jdGlvbihlLHQscil7dmFyIG47Zm9yKHZhciBvIGluIGUpe3ZhciBpPXIrIi8iK28ucmVwbGFjZSgvfi9nLCJ+MCIpLnJlcGxhY2UoL1wvL2csIn4xIikscz0hMTtpZih2b2lkIDAhPT10LnByb3BlcnRpZXMmJnZvaWQgMCE9PXQucHJvcGVydGllc1tvXSYmKHM9ITAsbj10aGlzLnZhbGlkYXRlQWxsKGVbb10sdC5wcm9wZXJ0aWVzW29dLFtvXSxbInByb3BlcnRpZXMiLG9dLGkpKSlyZXR1cm4gbjtpZih2b2lkIDAhPT10LnBhdHRlcm5Qcm9wZXJ0aWVzKWZvcih2YXIgYSBpbiB0LnBhdHRlcm5Qcm9wZXJ0aWVzKXt2YXIgdT1uZXcgUmVnRXhwKGEpO2lmKHUudGVzdChvKSYmKHM9ITAsbj10aGlzLnZhbGlkYXRlQWxsKGVbb10sdC5wYXR0ZXJuUHJvcGVydGllc1thXSxbb10sWyJwYXR0ZXJuUHJvcGVydGllcyIsYV0saSkpKXJldHVybiBufWlmKHMpdGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYodGhpcy5rbm93blByb3BlcnR5UGF0aHNbaV09ITAsZGVsZXRlIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHNbaV0pO2Vsc2UgaWYodm9pZCAwIT09dC5hZGRpdGlvbmFsUHJvcGVydGllcyl7aWYodGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYodGhpcy5rbm93blByb3BlcnR5UGF0aHNbaV09ITAsZGVsZXRlIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHNbaV0pLCJib29sZWFuIj09dHlwZW9mIHQuYWRkaXRpb25hbFByb3BlcnRpZXMpe2lmKCF0LmFkZGl0aW9uYWxQcm9wZXJ0aWVzJiYobj10aGlzLmNyZWF0ZUVycm9yKF8uT0JKRUNUX0FERElUSU9OQUxfUFJPUEVSVElFUyx7a2V5Om99LCIiLCIvYWRkaXRpb25hbFByb3BlcnRpZXMiLG51bGwsZSx0KS5wcmVmaXhXaXRoKG8sbnVsbCksdGhpcy5oYW5kbGVFcnJvcihuKSkpcmV0dXJuIG59ZWxzZSBpZihuPXRoaXMudmFsaWRhdGVBbGwoZVtvXSx0LmFkZGl0aW9uYWxQcm9wZXJ0aWVzLFtvXSxbImFkZGl0aW9uYWxQcm9wZXJ0aWVzIl0saSkpcmV0dXJuIG59ZWxzZSB0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJiF0aGlzLmtub3duUHJvcGVydHlQYXRoc1tpXSYmKHRoaXMudW5rbm93blByb3BlcnR5UGF0aHNbaV09ITApfXJldHVybiBudWxsfSxoLnByb3RvdHlwZS52YWxpZGF0ZU9iamVjdERlcGVuZGVuY2llcz1mdW5jdGlvbihlLHQscil7dmFyIG47aWYodm9pZCAwIT09dC5kZXBlbmRlbmNpZXMpZm9yKHZhciBvIGluIHQuZGVwZW5kZW5jaWVzKWlmKHZvaWQgMCE9PWVbb10pe3ZhciBpPXQuZGVwZW5kZW5jaWVzW29dO2lmKCJzdHJpbmciPT10eXBlb2YgaSl7aWYodm9pZCAwPT09ZVtpXSYmKG49dGhpcy5jcmVhdGVFcnJvcihfLk9CSkVDVF9ERVBFTkRFTkNZX0tFWSx7a2V5Om8sbWlzc2luZzppfSwiIiwiIixudWxsLGUsdCkucHJlZml4V2l0aChudWxsLG8pLnByZWZpeFdpdGgobnVsbCwiZGVwZW5kZW5jaWVzIiksdGhpcy5oYW5kbGVFcnJvcihuKSkpcmV0dXJuIG59ZWxzZSBpZihBcnJheS5pc0FycmF5KGkpKWZvcih2YXIgcz0wO3M8aS5sZW5ndGg7cysrKXt2YXIgYT1pW3NdO2lmKHZvaWQgMD09PWVbYV0mJihuPXRoaXMuY3JlYXRlRXJyb3IoXy5PQkpFQ1RfREVQRU5ERU5DWV9LRVkse2tleTpvLG1pc3Npbmc6YX0sIiIsIi8iK3MsbnVsbCxlLHQpLnByZWZpeFdpdGgobnVsbCxvKS5wcmVmaXhXaXRoKG51bGwsImRlcGVuZGVuY2llcyIpLHRoaXMuaGFuZGxlRXJyb3IobikpKXJldHVybiBufWVsc2UgaWYobj10aGlzLnZhbGlkYXRlQWxsKGUsaSxbXSxbImRlcGVuZGVuY2llcyIsb10scikpcmV0dXJuIG59cmV0dXJuIG51bGx9LGgucHJvdG90eXBlLnZhbGlkYXRlQ29tYmluYXRpb25zPWZ1bmN0aW9uKGUsdCxyKXtyZXR1cm4gdGhpcy52YWxpZGF0ZUFsbE9mKGUsdCxyKXx8dGhpcy52YWxpZGF0ZUFueU9mKGUsdCxyKXx8dGhpcy52YWxpZGF0ZU9uZU9mKGUsdCxyKXx8dGhpcy52YWxpZGF0ZU5vdChlLHQscil8fG51bGx9LGgucHJvdG90eXBlLnZhbGlkYXRlQWxsT2Y9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMD09PXQuYWxsT2YpcmV0dXJuIG51bGw7Zm9yKHZhciBuLG89MDtvPHQuYWxsT2YubGVuZ3RoO28rKyl7dmFyIGk9dC5hbGxPZltvXTtpZihuPXRoaXMudmFsaWRhdGVBbGwoZSxpLFtdLFsiYWxsT2YiLG9dLHIpKXJldHVybiBufXJldHVybiBudWxsfSxoLnByb3RvdHlwZS52YWxpZGF0ZUFueU9mPWZ1bmN0aW9uKGUsdCxyKXtpZih2b2lkIDA9PT10LmFueU9mKXJldHVybiBudWxsO3ZhciBuLG8saT1bXSxzPXRoaXMuZXJyb3JzLmxlbmd0aDt0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMmJihuPXRoaXMudW5rbm93blByb3BlcnR5UGF0aHMsbz10aGlzLmtub3duUHJvcGVydHlQYXRocyk7Zm9yKHZhciBhPSEwLHU9MDt1PHQuYW55T2YubGVuZ3RoO3UrKyl7dGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYodGhpcy51bmtub3duUHJvcGVydHlQYXRocz17fSx0aGlzLmtub3duUHJvcGVydHlQYXRocz17fSk7dmFyIGM9dC5hbnlPZlt1XSxsPXRoaXMuZXJyb3JzLmxlbmd0aCxmPXRoaXMudmFsaWRhdGVBbGwoZSxjLFtdLFsiYW55T2YiLHVdLHIpO2lmKG51bGw9PT1mJiZsPT09dGhpcy5lcnJvcnMubGVuZ3RoKXtpZih0aGlzLmVycm9ycz10aGlzLmVycm9ycy5zbGljZSgwLHMpLHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyl7Zm9yKHZhciBwIGluIHRoaXMua25vd25Qcm9wZXJ0eVBhdGhzKW9bcF09ITAsZGVsZXRlIG5bcF07Zm9yKHZhciBkIGluIHRoaXMudW5rbm93blByb3BlcnR5UGF0aHMpb1tkXXx8KG5bZF09ITApO2E9ITE7Y29udGludWV9cmV0dXJuIG51bGx9ZiYmaS5wdXNoKGYucHJlZml4V2l0aChudWxsLCIiK3UpLnByZWZpeFdpdGgobnVsbCwiYW55T2YiKSl9cmV0dXJuIHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM9bix0aGlzLmtub3duUHJvcGVydHlQYXRocz1vKSxhPyhpPWkuY29uY2F0KHRoaXMuZXJyb3JzLnNsaWNlKHMpKSx0aGlzLmVycm9ycz10aGlzLmVycm9ycy5zbGljZSgwLHMpLHRoaXMuY3JlYXRlRXJyb3IoXy5BTllfT0ZfTUlTU0lORyx7fSwiIiwiL2FueU9mIixpLGUsdCkpOnZvaWQgMH0saC5wcm90b3R5cGUudmFsaWRhdGVPbmVPZj1mdW5jdGlvbihlLHQscil7aWYodm9pZCAwPT09dC5vbmVPZilyZXR1cm4gbnVsbDt2YXIgbixvLGk9bnVsbCxzPVtdLGE9dGhpcy5lcnJvcnMubGVuZ3RoO3RoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKG49dGhpcy51bmtub3duUHJvcGVydHlQYXRocyxvPXRoaXMua25vd25Qcm9wZXJ0eVBhdGhzKTtmb3IodmFyIHU9MDt1PHQub25lT2YubGVuZ3RoO3UrKyl7dGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYodGhpcy51bmtub3duUHJvcGVydHlQYXRocz17fSx0aGlzLmtub3duUHJvcGVydHlQYXRocz17fSk7dmFyIGM9dC5vbmVPZlt1XSxsPXRoaXMuZXJyb3JzLmxlbmd0aCxmPXRoaXMudmFsaWRhdGVBbGwoZSxjLFtdLFsib25lT2YiLHVdLHIpO2lmKG51bGw9PT1mJiZsPT09dGhpcy5lcnJvcnMubGVuZ3RoKXtpZihudWxsIT09aSlyZXR1cm4gdGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuc2xpY2UoMCxhKSx0aGlzLmNyZWF0ZUVycm9yKF8uT05FX09GX01VTFRJUExFLHtpbmRleDE6aSxpbmRleDI6dX0sIiIsIi9vbmVPZiIsbnVsbCxlLHQpO2lmKGk9dSx0aGlzLnRyYWNrVW5rbm93blByb3BlcnRpZXMpe2Zvcih2YXIgcCBpbiB0aGlzLmtub3duUHJvcGVydHlQYXRocylvW3BdPSEwLGRlbGV0ZSBuW3BdO2Zvcih2YXIgZCBpbiB0aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzKW9bZF18fChuW2RdPSEwKX19ZWxzZSBmJiZzLnB1c2goZil9cmV0dXJuIHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM9bix0aGlzLmtub3duUHJvcGVydHlQYXRocz1vKSxudWxsPT09aT8ocz1zLmNvbmNhdCh0aGlzLmVycm9ycy5zbGljZShhKSksdGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuc2xpY2UoMCxhKSx0aGlzLmNyZWF0ZUVycm9yKF8uT05FX09GX01JU1NJTkcse30sIiIsIi9vbmVPZiIscyxlLHQpKToodGhpcy5lcnJvcnM9dGhpcy5lcnJvcnMuc2xpY2UoMCxhKSxudWxsKX0saC5wcm90b3R5cGUudmFsaWRhdGVOb3Q9ZnVuY3Rpb24oZSx0LHIpe2lmKHZvaWQgMD09PXQubm90KXJldHVybiBudWxsO3ZhciBuLG8saT10aGlzLmVycm9ycy5sZW5ndGg7dGhpcy50cmFja1Vua25vd25Qcm9wZXJ0aWVzJiYobj10aGlzLnVua25vd25Qcm9wZXJ0eVBhdGhzLG89dGhpcy5rbm93blByb3BlcnR5UGF0aHMsdGhpcy51bmtub3duUHJvcGVydHlQYXRocz17fSx0aGlzLmtub3duUHJvcGVydHlQYXRocz17fSk7dmFyIHM9dGhpcy52YWxpZGF0ZUFsbChlLHQubm90LG51bGwsbnVsbCxyKSxhPXRoaXMuZXJyb3JzLnNsaWNlKGkpO3JldHVybiB0aGlzLmVycm9ycz10aGlzLmVycm9ycy5zbGljZSgwLGkpLHRoaXMudHJhY2tVbmtub3duUHJvcGVydGllcyYmKHRoaXMudW5rbm93blByb3BlcnR5UGF0aHM9bix0aGlzLmtub3duUHJvcGVydHlQYXRocz1vKSxudWxsPT09cyYmMD09PWEubGVuZ3RoP3RoaXMuY3JlYXRlRXJyb3IoXy5OT1RfUEFTU0VELHt9LCIiLCIvbm90IixudWxsLGUsdCk6bnVsbH0saC5wcm90b3R5cGUudmFsaWRhdGVIeXBlcm1lZGlhPWZ1bmN0aW9uKGUsdCxuKXtpZighdC5saW5rcylyZXR1cm4gbnVsbDtmb3IodmFyIG8saT0wO2k8dC5saW5rcy5sZW5ndGg7aSsrKXt2YXIgcz10LmxpbmtzW2ldO2lmKCJkZXNjcmliZWRieSI9PT1zLnJlbCl7Zm9yKHZhciBhPW5ldyByKHMuaHJlZiksdT0hMCxjPTA7YzxhLnZhck5hbWVzLmxlbmd0aDtjKyspaWYoIShhLnZhck5hbWVzW2NdaW4gZSkpe3U9ITE7YnJlYWt9aWYodSl7dmFyIGw9YS5maWxsRnJvbU9iamVjdChlKSxmPXskcmVmOmx9O2lmKG89dGhpcy52YWxpZGF0ZUFsbChlLGYsW10sWyJsaW5rcyIsaV0sbikpcmV0dXJuIG99fX19O3ZhciBfPXtJTlZBTElEX1RZUEU6MCxFTlVNX01JU01BVENIOjEsQU5ZX09GX01JU1NJTkc6MTAsT05FX09GX01JU1NJTkc6MTEsT05FX09GX01VTFRJUExFOjEyLE5PVF9QQVNTRUQ6MTMsTlVNQkVSX01VTFRJUExFX09GOjEwMCxOVU1CRVJfTUlOSU1VTToxMDEsTlVNQkVSX01JTklNVU1fRVhDTFVTSVZFOjEwMixOVU1CRVJfTUFYSU1VTToxMDMsTlVNQkVSX01BWElNVU1fRVhDTFVTSVZFOjEwNCxOVU1CRVJfTk9UX0FfTlVNQkVSOjEwNSxTVFJJTkdfTEVOR1RIX1NIT1JUOjIwMCxTVFJJTkdfTEVOR1RIX0xPTkc6MjAxLFNUUklOR19QQVRURVJOOjIwMixPQkpFQ1RfUFJPUEVSVElFU19NSU5JTVVNOjMwMCxPQkpFQ1RfUFJPUEVSVElFU19NQVhJTVVNOjMwMSxPQkpFQ1RfUkVRVUlSRUQ6MzAyLE9CSkVDVF9BRERJVElPTkFMX1BST1BFUlRJRVM6MzAzLE9CSkVDVF9ERVBFTkRFTkNZX0tFWTozMDQsQVJSQVlfTEVOR1RIX1NIT1JUOjQwMCxBUlJBWV9MRU5HVEhfTE9ORzo0MDEsQVJSQVlfVU5JUVVFOjQwMixBUlJBWV9BRERJVElPTkFMX0lURU1TOjQwMyxGT1JNQVRfQ1VTVE9NOjUwMCxLRVlXT1JEX0NVU1RPTTo1MDEsQ0lSQ1VMQVJfUkVGRVJFTkNFOjYwMCxVTktOT1dOX1BST1BFUlRZOjFlM30sdj17fTtmb3IodmFyIG0gaW4gXyl2W19bbV1dPW07dmFyIGc9e0lOVkFMSURfVFlQRToiSW52YWxpZCB0eXBlOiB7dHlwZX0gKGV4cGVjdGVkIHtleHBlY3RlZH0pIixFTlVNX01JU01BVENIOiJObyBlbnVtIG1hdGNoIGZvcjoge3ZhbHVlfSIsQU5ZX09GX01JU1NJTkc6J0RhdGEgZG9lcyBub3QgbWF0Y2ggYW55IHNjaGVtYXMgZnJvbSAiYW55T2YiJyxPTkVfT0ZfTUlTU0lORzonRGF0YSBkb2VzIG5vdCBtYXRjaCBhbnkgc2NoZW1hcyBmcm9tICJvbmVPZiInLE9ORV9PRl9NVUxUSVBMRTonRGF0YSBpcyB2YWxpZCBhZ2FpbnN0IG1vcmUgdGhhbiBvbmUgc2NoZW1hIGZyb20gIm9uZU9mIjogaW5kaWNlcyB7aW5kZXgxfSBhbmQge2luZGV4Mn0nLE5PVF9QQVNTRUQ6J0RhdGEgbWF0Y2hlcyBzY2hlbWEgZnJvbSAibm90IicsTlVNQkVSX01VTFRJUExFX09GOiJWYWx1ZSB7dmFsdWV9IGlzIG5vdCBhIG11bHRpcGxlIG9mIHttdWx0aXBsZU9mfSIsTlVNQkVSX01JTklNVU06IlZhbHVlIHt2YWx1ZX0gaXMgbGVzcyB0aGFuIG1pbmltdW0ge21pbmltdW19IixOVU1CRVJfTUlOSU1VTV9FWENMVVNJVkU6IlZhbHVlIHt2YWx1ZX0gaXMgZXF1YWwgdG8gZXhjbHVzaXZlIG1pbmltdW0ge21pbmltdW19IixOVU1CRVJfTUFYSU1VTToiVmFsdWUge3ZhbHVlfSBpcyBncmVhdGVyIHRoYW4gbWF4aW11bSB7bWF4aW11bX0iLE5VTUJFUl9NQVhJTVVNX0VYQ0xVU0lWRToiVmFsdWUge3ZhbHVlfSBpcyBlcXVhbCB0byBleGNsdXNpdmUgbWF4aW11bSB7bWF4aW11bX0iLE5VTUJFUl9OT1RfQV9OVU1CRVI6IlZhbHVlIHt2YWx1ZX0gaXMgbm90IGEgdmFsaWQgbnVtYmVyIixTVFJJTkdfTEVOR1RIX1NIT1JUOiJTdHJpbmcgaXMgdG9vIHNob3J0ICh7bGVuZ3RofSBjaGFycyksIG1pbmltdW0ge21pbmltdW19IixTVFJJTkdfTEVOR1RIX0xPTkc6IlN0cmluZyBpcyB0b28gbG9uZyAoe2xlbmd0aH0gY2hhcnMpLCBtYXhpbXVtIHttYXhpbXVtfSIsU1RSSU5HX1BBVFRFUk46IlN0cmluZyBkb2VzIG5vdCBtYXRjaCBwYXR0ZXJuOiB7cGF0dGVybn0iLE9CSkVDVF9QUk9QRVJUSUVTX01JTklNVU06IlRvbyBmZXcgcHJvcGVydGllcyBkZWZpbmVkICh7cHJvcGVydHlDb3VudH0pLCBtaW5pbXVtIHttaW5pbXVtfSIsT0JKRUNUX1BST1BFUlRJRVNfTUFYSU1VTToiVG9vIG1hbnkgcHJvcGVydGllcyBkZWZpbmVkICh7cHJvcGVydHlDb3VudH0pLCBtYXhpbXVtIHttYXhpbXVtfSIsT0JKRUNUX1JFUVVJUkVEOiJNaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5OiB7a2V5fSIsT0JKRUNUX0FERElUSU9OQUxfUFJPUEVSVElFUzoiQWRkaXRpb25hbCBwcm9wZXJ0aWVzIG5vdCBhbGxvd2VkIixPQkpFQ1RfREVQRU5ERU5DWV9LRVk6IkRlcGVuZGVuY3kgZmFpbGVkIC0ga2V5IG11c3QgZXhpc3Q6IHttaXNzaW5nfSAoZHVlIHRvIGtleToge2tleX0pIixBUlJBWV9MRU5HVEhfU0hPUlQ6IkFycmF5IGlzIHRvbyBzaG9ydCAoe2xlbmd0aH0pLCBtaW5pbXVtIHttaW5pbXVtfSIsQVJSQVlfTEVOR1RIX0xPTkc6IkFycmF5IGlzIHRvbyBsb25nICh7bGVuZ3RofSksIG1heGltdW0ge21heGltdW19IixBUlJBWV9VTklRVUU6IkFycmF5IGl0ZW1zIGFyZSBub3QgdW5pcXVlIChpbmRpY2VzIHttYXRjaDF9IGFuZCB7bWF0Y2gyfSkiLEFSUkFZX0FERElUSU9OQUxfSVRFTVM6IkFkZGl0aW9uYWwgaXRlbXMgbm90IGFsbG93ZWQiLEZPUk1BVF9DVVNUT006IkZvcm1hdCB2YWxpZGF0aW9uIGZhaWxlZCAoe21lc3NhZ2V9KSIsS0VZV09SRF9DVVNUT006IktleXdvcmQgZmFpbGVkOiB7a2V5fSAoe21lc3NhZ2V9KSIsQ0lSQ1VMQVJfUkVGRVJFTkNFOiJDaXJjdWxhciAkcmVmczoge3VybHN9IixVTktOT1dOX1BST1BFUlRZOiJVbmtub3duIHByb3BlcnR5IChub3QgaW4gc2NoZW1hKSJ9O2MucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKSxjLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1jLGMucHJvdG90eXBlLm5hbWU9IlZhbGlkYXRpb25FcnJvciIsYy5wcm90b3R5cGUucHJlZml4V2l0aD1mdW5jdGlvbihlLHQpe2lmKG51bGwhPT1lJiYoZT1lLnJlcGxhY2UoL34vZywifjAiKS5yZXBsYWNlKC9cLy9nLCJ+MSIpLHRoaXMuZGF0YVBhdGg9Ii8iK2UrdGhpcy5kYXRhUGF0aCksbnVsbCE9PXQmJih0PXQucmVwbGFjZSgvfi9nLCJ+MCIpLnJlcGxhY2UoL1wvL2csIn4xIiksdGhpcy5zY2hlbWFQYXRoPSIvIit0K3RoaXMuc2NoZW1hUGF0aCksbnVsbCE9PXRoaXMuc3ViRXJyb3JzKWZvcih2YXIgcj0wO3I8dGhpcy5zdWJFcnJvcnMubGVuZ3RoO3IrKyl0aGlzLnN1YkVycm9yc1tyXS5wcmVmaXhXaXRoKGUsdCk7cmV0dXJuIHRoaXN9O3ZhciBqPXt9LE89ZigpO3JldHVybiBPLmFkZExhbmd1YWdlKCJlbi1nYiIsZyksTy50djQ9TyxPfSl9LHt9XSwxMTY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzcyIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVjayIpWyJkZWZhdWx0Il07T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixpLHMsYSx1KXtvKHRoaXMsZSksdGhpcy5fZ3VpZD10LHRoaXMuX3R5cGU9cix0aGlzLl92ZXJzaW9uPW4sdGhpcy5fb2JqZWN0TmFtZT1pLHRoaXMuX2Rlc2NyaXB0aW9uPXMsdGhpcy5fbGFuZ3VhZ2U9YSx0aGlzLl9zb3VyY2VQYWNrYWdlVVJMPXUsdGhpcy5fc2lnbmF0dXJlPW51bGwsdGhpcy5fc291cmNlUGFja2FnZT1udWxsfXJldHVybiBuKGUsW3trZXk6Imd1aWQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ndWlkfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2d1aWQ9ZSl9fSx7a2V5OiJ0eXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdHlwZX0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl90eXBlPWUpfX0se2tleToidmVyc2lvbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3ZlcnNpb259LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fdmVyc2lvbj1lKX19LHtrZXk6Im9iamVjdE5hbWUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9vYmplY3ROYW1lfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX29iamVjdE5hbWU9ZSl9fSx7a2V5OiJkZXNjcmlwdGlvbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Rlc2NyaXB0aW9ufSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2Rlc2NyaXB0aW9uPWUpfX0se2tleToibGFuZ3VhZ2UiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9sYW5ndWFnZX0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9sYW5ndWFnZT1lKX19LHtrZXk6InNpZ25hdHVyZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NpZ25hdHVyZX0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9zaWduYXR1cmU9ZSl9fSx7a2V5OiJzb3VyY2VQYWNrYWdlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlUGFja2FnZX0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9zb3VyY2VQYWNrYWdlPWUpfX0se2tleToic291cmNlUGFja2FnZVVSTCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZVBhY2thZ2VVUkx9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fc291cmNlUGFja2FnZVVSTD1lKX19XSksZX0oKSxzPXtIWVBFUlRZOiJoeXBlcnR5IixQUk9UT1NUVUI6InByb3Rvc3R1YiIsSFlQRVJUWV9SVU5USU1FOiJoeXBlcnR5X3J1bnRpbWUiLEhZUEVSVFlfSU5URVJDRVBUT1I6Imh5cGVydHlfaW5zcGVjdG9yIixIWVBFUlRZX0RBVEFfT0JKRUNUOiJoeXBlcnR5X2RhdGFfb2JqZWN0IixQT0xJQ1lfRU5GT1JDRVI6InBvbGljeV9lbmZvcmNlciIsREFUQV9TQ0hFTUE6ImRhdGFfc2NoZW1hIn07ci5DYXRhbG9ndWVPYmplY3RUeXBlPXM7dmFyIGE9e0pBVkFTQ1JJUFRfRUNNQTY6ImphdmFzY3JpcHRfZWNtYTYiLEpBVkFTQ1JJUFRfRUNNQTU6ImphdmFzY3JpcHRfZWNtYTUiLEpTT05fU0NIRU1BX1Y0OiJqc29uX3NjaGVtYV92NCIsUFlUSE9OOiJweXRob24iLFRZUEVTQ1JJUFQ6InR5cGVzY3JpcHQifTtyLkRhdGFPYmplY3RTb3VyY2VMYW5ndWFnZT1hLHJbImRlZmF1bHQiXT1pfSx7ImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzcyI6MTN9XSwxMTc6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKVsiZGVmYXVsdCJdLGk9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzcyIpWyJkZWZhdWx0Il0scz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVjayIpWyJkZWZhdWx0Il0sYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHQiKVsiZGVmYXVsdCJdO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgdT1lKCIuLi9yZVRISU5LT2JqZWN0L1JldGhpbmtPYmplY3QiKSxjPWEodSksbD1lKCIuL0NhdGFsb2d1ZURhdGFPYmplY3QiKSxmPWEobCkscD1lKCIuL1NvdXJjZVBhY2thZ2UiKSxkPWEocCksaD1lKCIuL0h5cGVydHlEZXNjcmlwdG9yIiksYj1hKGgpLHk9ZSgiLi9Qcm90b2NvbFN0dWJEZXNjcmlwdG9yIiksXz1hKHkpLHY9ZSgiLi9IeXBlcnR5UnVudGltZURlc2NyaXB0b3IiKSxtPWEodiksZz1lKCIuL1BvbGljeUVuZm9yY2VyRGVzY3JpcHRvciIpLGo9YShnKSxPPWUoIi4vRGF0YU9iamVjdFNjaGVtYSIpLEU9YShPKSx3PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyKXtzKHRoaXMsdCksbihPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLCJjb25zdHJ1Y3RvciIsdGhpcykuY2FsbCh0aGlzLGUscil9cmV0dXJuIG8odCxlKSxpKHQsW3trZXk6ImNyZWF0ZUNhdGFsb2d1ZURhdGFPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sbyxpLHMpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgZXx8InVuZGVmaW5lZCI9PXR5cGVvZiB0fHwidW5kZWZpbmVkIj09dHlwZW9mIHJ8fCJ1bmRlZmluZWQiPT10eXBlb2Ygbnx8InVuZGVmaW5lZCI9PXR5cGVvZiBvfHwidW5kZWZpbmVkIj09dHlwZW9mIGl8fCJ1bmRlZmluZWQiPT10eXBlb2Ygcyl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcGFyYW1ldGVycyEiKTtyZXR1cm4gbmV3IGZbImRlZmF1bHQiXShlLHQscixuLG8saSxzKX19LHtrZXk6ImNyZWF0ZUh5cGVydHlEZXNjcmlwdG9yT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuLG8saSxzLGEpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgZXx8InVuZGVmaW5lZCI9PXR5cGVvZiB0fHwidW5kZWZpbmVkIj09dHlwZW9mIHJ8fCJ1bmRlZmluZWQiPT10eXBlb2Ygbnx8InVuZGVmaW5lZCI9PXR5cGVvZiBvfHwidW5kZWZpbmVkIj09dHlwZW9mIGl8fCJ1bmRlZmluZWQiPT10eXBlb2Ygc3x8InVuZGVmaW5lZCI9PXR5cGVvZiBhKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwYXJhbWV0ZXJzISIpO3JldHVybiBuZXcgYlsiZGVmYXVsdCJdKGUsbC5DYXRhbG9ndWVPYmplY3RUeXBlLkhZUEVSVFksdCxyLG4sbyxpLHMsYSl9fSx7a2V5OiJjcmVhdGVQcm90b1N0dWJEZXNjcmlwdG9yT2JqZWN0Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuLG8saSxzLGEsdSl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBlfHwidW5kZWZpbmVkIj09dHlwZW9mIHR8fCJ1bmRlZmluZWQiPT10eXBlb2Ygcnx8InVuZGVmaW5lZCI9PXR5cGVvZiBufHwidW5kZWZpbmVkIj09dHlwZW9mIG98fCJ1bmRlZmluZWQiPT10eXBlb2YgaXx8InVuZGVmaW5lZCI9PXR5cGVvZiBzfHwidW5kZWZpbmVkIj09dHlwZW9mIGF8fCJ1bmRlZmluZWQiPT10eXBlb2YgdSl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcGFyYW1ldGVycyEiKTtyZXR1cm4gbmV3IF9bImRlZmF1bHQiXShlLGwuQ2F0YWxvZ3VlT2JqZWN0VHlwZS5QUk9UT1NUVUIsdCxyLG4sbyxpLHMsYSx1KX19LHtrZXk6ImNyZWF0ZUh5cGVydHlSdW50aW1lRGVzY3JpcHRvck9iamVjdCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixvLGkscyxhLHUpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgZXx8InVuZGVmaW5lZCI9PXR5cGVvZiB0fHwidW5kZWZpbmVkIj09dHlwZW9mIHJ8fCJ1bmRlZmluZWQiPT10eXBlb2Ygbnx8InVuZGVmaW5lZCI9PXR5cGVvZiBvfHwidW5kZWZpbmVkIj09dHlwZW9mIGl8fCJ1bmRlZmluZWQiPT10eXBlb2Ygc3x8InVuZGVmaW5lZCI9PXR5cGVvZiBhfHwidW5kZWZpbmVkIj09dHlwZW9mIHUpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBhcmFtZXRlcnMhIik7cmV0dXJuIG5ldyBtWyJkZWZhdWx0Il0oZSxsLkNhdGFsb2d1ZU9iamVjdFR5cGUuSFlQRVJUWV9SVU5USU1FLHQscixuLG8saSxzLGEsdSl9fSx7a2V5OiJjcmVhdGVQb2xpY3lFbmZvcmNlckRlc2NyaXB0b3JPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4sbyxpLHMsYSl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBlfHwidW5kZWZpbmVkIj09dHlwZW9mIHR8fCJ1bmRlZmluZWQiPT10eXBlb2Ygcnx8InVuZGVmaW5lZCI9PXR5cGVvZiBufHwidW5kZWZpbmVkIj09dHlwZW9mIG98fCJ1bmRlZmluZWQiPT10eXBlb2YgaXx8InVuZGVmaW5lZCI9PXR5cGVvZiBzfHwidW5kZWZpbmVkIj09dHlwZW9mIGEpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBhcmFtZXRlcnMhIik7cmV0dXJuIG5ldyBqWyJkZWZhdWx0Il0oZSxsLkNhdGFsb2d1ZU9iamVjdFR5cGUuUE9MSUNZX0VORk9SQ0VSLHQscixuLG8saSxzLGEpfX0se2tleToiY3JlYXRlRGF0YU9iamVjdFNjaGVtYSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbixvLGkpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgZXx8InVuZGVmaW5lZCI9PXR5cGVvZiB0fHwidW5kZWZpbmVkIj09dHlwZW9mIHJ8fCJ1bmRlZmluZWQiPT10eXBlb2Ygbnx8InVuZGVmaW5lZCI9PXR5cGVvZiBvfHwidW5kZWZpbmVkIj09dHlwZW9mIGkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBhcmFtZXRlcnMhIik7cmV0dXJuIG5ldyBFWyJkZWZhdWx0Il0oZSxsLkNhdGFsb2d1ZU9iamVjdFR5cGUuREFUQV9TQ0hFTUEsdCxyLG4sbyxpKX19LHtrZXk6ImNyZWF0ZVNvdXJjZVBhY2thZ2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiB0fHwidW5kZWZpbmVkIj09dHlwZW9mIGUpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHBhcmFtZXRlcnMhIik7cmV0dXJuIG5ldyBkWyJkZWZhdWx0Il0oZSx0KX19XSksdH0oY1siZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09dyx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3JlVEhJTktPYmplY3QvUmV0aGlua09iamVjdCI6MTI3LCIuL0NhdGFsb2d1ZURhdGFPYmplY3QiOjExNiwiLi9EYXRhT2JqZWN0U2NoZW1hIjoxMTgsIi4vSHlwZXJ0eURlc2NyaXB0b3IiOjExOSwiLi9IeXBlcnR5UnVudGltZURlc2NyaXB0b3IiOjEyMCwiLi9Qb2xpY3lFbmZvcmNlckRlc2NyaXB0b3IiOjEyMSwiLi9Qcm90b2NvbFN0dWJEZXNjcmlwdG9yIjoxMjIsIi4vU291cmNlUGFja2FnZSI6MTIzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0IjoxN31dLDExODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IilbImRlZmF1bHQiXSxvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpWyJkZWZhdWx0Il0saT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVjayIpWyJkZWZhdWx0Il0scz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHQiKVsiZGVmYXVsdCJdO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgYT1lKCIuL0NhdGFsb2d1ZURhdGFPYmplY3QiKSx1PXMoYSksYz1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixvLHMsYSx1LGMpe2kodGhpcyx0KSxuKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMsZSxyLG8scyxhLHUsYyl9cmV0dXJuIG8odCxlKSx0fSh1WyJkZWZhdWx0Il0pLGw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbyxzLGEsdSxjKXtpKHRoaXMsdCksbihPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLCJjb25zdHJ1Y3RvciIsdGhpcykuY2FsbCh0aGlzLGUscixvLHMsYSx1LGMpfXJldHVybiBvKHQsZSksdH0oYyk7ci5NZXNzYWdlRGF0YU9iamVjdFNjaGVtYT1sO3ZhciBmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG8scyxhLHUsYyxsKXtpKHRoaXMsdCksbihPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLCJjb25zdHJ1Y3RvciIsdGhpcykuY2FsbCh0aGlzLGUscixvLHMsYSx1LGMpLHRoaXMuX2FjY2Vzc0NvbnRyb2xQb2xpY3k9bH1yZXR1cm4gbyh0LGUpLHR9KGMpO3IuSHlwZXJ0eURhdGFPYmplY3RTY2hlbWE9Zjt2YXIgcD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixvLHMsYSx1LGMsbCl7aSh0aGlzLHQpLG4oT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSwiY29uc3RydWN0b3IiLHRoaXMpLmNhbGwodGhpcyxlLHIsbyxzLGEsdSxjLGwpfXJldHVybiBvKHQsZSksdH0oZik7ci5Db21tdW5pY2F0aW9uRGF0YU9iamVjdFNjaGVtYT1wO3ZhciBkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG8scyxhLHUsYyxsKXtpKHRoaXMsdCksbihPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLCJjb25zdHJ1Y3RvciIsdGhpcykuY2FsbCh0aGlzLGUscixvLHMsYSx1LGMsbCl9cmV0dXJuIG8odCxlKSx0fShmKTtyLkNvbm5lY3Rpb25EYXRhT2JqZWN0U2NoZW1hPWQ7dmFyIGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbyxzLGEsdSxjLGwpe2kodGhpcyx0KSxuKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMsZSxyLG8scyxhLHUsYyxsKX1yZXR1cm4gbyh0LGUpLHR9KGYpO3IuSWRlbnRpZnlEYXRhT2JqZWN0U2NoZW1hPWg7dmFyIGI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbyxzLGEsdSxjLGwpe2kodGhpcyx0KSxuKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMsZSxyLG8scyxhLHUsYyxsKX1yZXR1cm4gbyh0LGUpLHR9KGYpO3IuQ29udGV4dERhdGFPYmplY3RTY2hlbWE9YixyWyJkZWZhdWx0Il09Y30seyIuL0NhdGFsb2d1ZURhdGFPYmplY3QiOjExNiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0IjoxN31dLDExOTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IilbImRlZmF1bHQiXSxvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpWyJkZWZhdWx0Il0saT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIilbImRlZmF1bHQiXSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrIilbImRlZmF1bHQiXSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdCIpWyJkZWZhdWx0Il07T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciB1PWUoIi4vQ2F0YWxvZ3VlRGF0YU9iamVjdCIpLGM9YSh1KSxsPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG8saSxhLHUsYyxsLGYpe3ModGhpcyx0KSxuKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMsZSxyLG8saSxhLHUsYyksdGhpcy5fY29uZmlndXJhdGlvbj17fSx0aGlzLl9jb25zdHJhaW50cz17fSx0aGlzLl9wb2xpY2llcz17fSx0aGlzLl9tZXNzYWdlU2NoZW1hPW51bGwsdGhpcy5faHlwZXJ0eVR5cGU9bCx0aGlzLl9kYXRhT2JqZWN0cz1mfXJldHVybiBvKHQsZSksaSh0LFt7a2V5OiJoeXBlcnR5VHlwZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2h5cGVydHlUeXBlfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2h5cGVydHlUeXBlPWUpfX0se2tleToiZGF0YU9iamVjdHMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhT2JqZWN0c30sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9kYXRhT2JqZWN0cz1lKX19LHtrZXk6ImNvbmZpZ3VyYXRpb24iLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25maWd1cmF0aW9ufSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2NvbmZpZ3VyYXRpb249ZSl9fSx7a2V5OiJjb25zdHJhaW50cyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbnN0cmFpbnRzfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2NvbnN0cmFpbnRzPWUpfX0se2tleToibWVzc2FnZVNjaGVtYSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21lc3NhZ2VTY2hlbWF9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fbWVzc2FnZVNjaGVtYT1lKX19LHtrZXk6InBvbGljaWVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcG9saWNpZXN9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fcG9saWNpZXM9ZSl9fV0pLHR9KGNbImRlZmF1bHQiXSksZj17fTtyLlJ1bnRpbWVIeXBlcnR5Q2FwYWJpbGl0eVR5cGU9Zjt2YXIgcD17Q09NTVVOSUNBVE9SOiJjb21tdW5pY2F0b3IiLElERU5USVRZOiJpZGVudGl0eSIsQ09OVEVYVDoiY29udGV4dCJ9O3IuSHlwZXJ0eVR5cGU9cCxyWyJkZWZhdWx0Il09bH0seyIuL0NhdGFsb2d1ZURhdGFPYmplY3QiOjExNiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTYsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdCI6MTd9XSwxMjA6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKVsiZGVmYXVsdCJdLGk9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzcyIpWyJkZWZhdWx0Il0scz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVjayIpWyJkZWZhdWx0Il0sYT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHQiKVsiZGVmYXVsdCJdO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgdT1lKCIuL0NhdGFsb2d1ZURhdGFPYmplY3QiKSxjPWEodSksbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixvLGksYSx1LGMsbCxmLHApe3ModGhpcyx0KSxuKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMsZSxyLG8saSxhLHUsYyksdGhpcy5fcnVudGltZVR5cGU9bCxmP3RoaXMuX2h5cGVydHlDYXBhYmlsaXRpZXM9Zjp0aGlzLl9oeXBlcnR5Q2FwYWJpbGl0aWVzPXt9LHA/dGhpcy5fcHJvdG9jb2xDYXBhYmlsaXRpZXM9cDp0aGlzLl9wcm90b2NvbENhcGFiaWxpdGllcz17fX1yZXR1cm4gbyh0LGUpLGkodCxbe2tleToicnVudGltZVR5cGUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9ydW50aW1lVHlwZX0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9ydW50aW1lVHlwZT1lKX19LHtrZXk6Imh5cGVydHlDYXBhYmlsaXRpZXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9oeXBlcnR5Q2FwYWJpbGl0aWVzfSxzZXQ6ZnVuY3Rpb24oZSl7ZSYmKHRoaXMuX2h5cGVydHlDYXBhYmlsaXRpZXM9ZSl9fSx7a2V5OiJwcm90b2NvbENhcGFiaWxpdGllcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2h5cGVydHlDYXBhYmlsaXRpZXN9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fcHJvdG9jb2xDYXBhYmlsaXRpZXM9ZSl9fV0pLHR9KGNbImRlZmF1bHQiXSksZj17QlJPV1NFUjoiYnJvd3NlciIsU1RBTkRBTE9ORToic3RhbmRhbG9uZSIsU0VSVkVSOiJzZXJ2ZXIiLEdBVEVXQVk6ImdhdGV3YXkifTtyLlJ1bnRpbWVUeXBlPWY7dmFyIHA9e01JQzoibWljIixDQU1FUkE6ImNhbWVyYSIsU0VOU09SOiJzZW5zb3IiLFdFQlJUQzoid2VicnRjIixPUlRDOiJvcnRjIn07ci5SdW50aW1lSHlwZXJ0eUNhcGFiaWxpdHlUeXBlPXA7dmFyIGQ9e0hUVFA6Imh0dHAiLEhUVFBTOiJodHRwcyIsV1M6IndzIixXU1M6IndzcyIsQ09BUDoiY29hcCIsREFUQUNIQU5FTDoiZGF0YWNoYW5uZWwifTtyLlJ1bnRpbWVQcm90b2NvbENhcGFiaWxpdHlUeXBlPWQsclsiZGVmYXVsdCJdPWx9LHsiLi9DYXRhbG9ndWVEYXRhT2JqZWN0IjoxMTYsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzcyI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiOjE1LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiOjE2LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHQiOjE3fV0sMTIxOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9nZXQiKVsiZGVmYXVsdCJdLG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIilbImRlZmF1bHQiXSxpPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3MiKVsiZGVmYXVsdCJdLHM9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2siKVsiZGVmYXVsdCJdLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0IilbImRlZmF1bHQiXTtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHU9ZSgiLi9DYXRhbG9ndWVEYXRhT2JqZWN0IiksYz1hKHUpLGw9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbyxpLGEsdSxjLGwsZil7cyh0aGlzLHQpLG4oT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSwiY29uc3RydWN0b3IiLHRoaXMpLmNhbGwodGhpcyxlLHIsbyxpLGEsdSxjKSx0aGlzLl9jb25maWd1cmF0aW9uPWwsdGhpcy5fcG9saWNpZXM9Zn1yZXR1cm4gbyh0LGUpLGkodCxbe2tleToiY29uZmlndXJhdGlvbiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NvbmZpZ3VyYXRpb259LHNldDpmdW5jdGlvbihlKXt0aGlzLl9jb25maWd1cmF0aW9uPWV9fSx7a2V5OiJwb2xpY2llcyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BvbGljaWVzfSxzZXQ6ZnVuY3Rpb24oZSl7dGhpcy5fcG9saWNpZXM9ZX19XSksdH0oY1siZGVmYXVsdCJdKTtyWyJkZWZhdWx0Il09bCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vQ2F0YWxvZ3VlRGF0YU9iamVjdCI6MTE2LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0IjoxN31dLDEyMjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IilbImRlZmF1bHQiXSxvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpWyJkZWZhdWx0Il0saT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIilbImRlZmF1bHQiXSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrIilbImRlZmF1bHQiXSxhPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdCIpWyJkZWZhdWx0Il07T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciB1PWUoIi4vQ2F0YWxvZ3VlRGF0YU9iamVjdCIpLGM9YSh1KSxsPWUoIi4vSHlwZXJ0eVJ1bnRpbWVEZXNjcmlwdG9yIiksZj0oYShsKSxmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixvLGksYSx1LGMsbCxmLHApe3ModGhpcyx0KSxuKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMsZSxyLG8saSxhLHUsYyksdGhpcy5fbWVzc2FnZVNjaGVtYXM9bCxmP3RoaXMuX2NvbmZpZ3VyYXRpb249Zjp0aGlzLl9jb25maWd1cmF0aW9uPXt9LHA/dGhpcy5fY29uc3RyYWludHM9cDp0aGlzLl9jb25zdHJhaW50cz17fX1yZXR1cm4gbyh0LGUpLGkodCxbe2tleToibWVzc2FnZVNjaGVtYXMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9tZXNzYWdlU2NoZW1hc30sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9tZXNzYWdlU2NoZW1hcz1lKX19LHtrZXk6ImNvbnN0cmFpbnRzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29uc3RyYWludHN9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fY29uc3RyYWludHM9ZSl9fSx7a2V5OiJjb25maWd1cmF0aW9uIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY29uZmlndXJhdGlvbn0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9jb25maWd1cmF0aW9uPWUpfX1dKSx0fShjWyJkZWZhdWx0Il0pKTtyWyJkZWZhdWx0Il09Zix0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4vQ2F0YWxvZ3VlRGF0YU9iamVjdCI6MTE2LCIuL0h5cGVydHlSdW50aW1lRGVzY3JpcHRvciI6MTIwLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0IjoxN31dLDEyMzpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIilbImRlZmF1bHQiXSxvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrIilbImRlZmF1bHQiXTtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7byh0aGlzLGUpLHRoaXMuX3NvdXJjZUNvZGU9cix0aGlzLl9zb3VyY2VDb2RlQ2xhc3NuYW1lPXQsdGhpcy5fZW5jb2Rpbmc9bnVsbCx0aGlzLl9zaWduYXR1cmU9bnVsbH1yZXR1cm4gbihlLFt7a2V5OiJzb3VyY2VDb2RlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc291cmNlQ29kZX0sc2V0OmZ1bmN0aW9uKGUpe2UmJih0aGlzLl9zb3VyY2VDb2RlPWUpfX0se2tleToic291cmNlQ29kZUNsYXNzbmFtZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NvdXJjZUNvZGVDbGFzc25hbWV9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fc291cmNlQ29kZUNsYXNzbmFtZT1lKX19LHtrZXk6ImVuY29kaW5nIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZW5jb2Rpbmd9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fZW5jb2Rpbmc9ZSl9fSx7a2V5OiJzaWduYXR1cmUiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zaWduYXR1cmV9LHNldDpmdW5jdGlvbihlKXtlJiYodGhpcy5fc2lnbmF0dXJlPWUpfX1dKSxlfSgpO3JbImRlZmF1bHQiXT1pLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIjoxM31dLDEyNDpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIilbImRlZmF1bHQiXSxvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrIilbImRlZmF1bHQiXTtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLGkscyl7byh0aGlzLGUpLHRoaXMuaWQ9dCx0aGlzLmZyb209cix0aGlzLnRvPW4sdGhpcy50eXBlPWksdGhpcy5ib2R5PXN9cmV0dXJuIG4oZSxbe2tleToiYXNzZXJ0SWRlbnRpdHkiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYoIWV8fCF0KXRocm93IG5ldyBFcnJvcigibWVzc2FnZSwgdG9rZW4gdG8gYmUgcmVtb3ZlZCwgYW5kIGFzc2VydGVkSWRlbnRpdHkgbXVzdCBiZSBwcm92aWRlZCIpO3ZhciByPXRoaXMuYm9keTtyZXR1cm4gci5pZFRva2VuPW51bGwsci5hc3NlcnRlZElkZW50aXR5PXQsdGhpcy5ib2R5PXIsdGhpc319LHtrZXk6ImFkZElkVG9rZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKCFlKXRocm93IG5ldyBFcnJvcigibWVzc2FnZSwgdG9rZW4gdG8gYmUgYWRkZWQsIG11c3QgYmUgcHJvdmlkZWQiKTt2YXIgdD10aGlzLmJvZHk7cmV0dXJuIHQuaWRUb2tlbj1lLHRoaXMuYm9keT10LHRoaXN9fSx7a2V5OiJhZGRBY2Nlc3NUb2tlbiIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYoIWUpdGhyb3cgbmV3IEVycm9yKCJtZXNzYWdlLCB0b2tlbiB0byBiZSBhZGRlZCwgbXVzdCBiZSBwcm92aWRlZCIpO3ZhciB0PXRoaXMuYm9keTtyZXR1cm4gdC5hY2Nlc3NUb2tlbj1lLHRoaXMuYm9keT10LHRoaXN9fV0pLGV9KCk7ci5NZXNzYWdlPWk7dmFyIHM9e0NSRUFURToiY3JlYXRlIixSRUFEOiJyZWFkIixVUERBVEU6InVwZGF0ZSIsREVMRVRFOiJkZWxldGUiLFNVQlNDUklCRToic3Vic2NyaWJlIixVTlNVQlNDUklCRToidW5zdWJzY3JpYmUiLFJFU1BPTlNFOiJyZXNwb25zZSIsRk9SV0FSRDoiZm9yd2FyZCJ9O3IuTWVzc2FnZVR5cGU9cyxyWyJkZWZhdWx0Il09aX0seyJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3MiOjEzfV0sMTI1OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oZSl7dmFyIHQ9YShlKS5yZWR1Y2UoZnVuY3Rpb24odCxyKXtyZXR1cm4gdFtlW3JdXT1yLHR9LHt9KTtyZXR1cm4gdShhKGUpLnJlZHVjZShmdW5jdGlvbih0LHIpe3JldHVybiB0W3JdPWVbcl0sdH0sZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19KSl9dmFyIG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2siKVsiZGVmYXVsdCJdLGk9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpWyJkZWZhdWx0Il0scz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKVsiZGVmYXVsdCJdLGE9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIilbImRlZmF1bHQiXSx1PWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZnJlZXplIilbImRlZmF1bHQiXTtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5FbnVtPW47dmFyIGM9ZnVuY3Rpb24gdihlLHQscixuLGkpe28odGhpcyx2KSx0aGlzLmlkVG9rZW49ZSx0aGlzLmFjY2Vzc1Rva2VuPXQsdGhpcy5yZXNvdXJjZT1yLHRoaXMuc2NoZW1hPW4sdGhpcy5hc3NlcnRlZElkZW50aXR5PWl9O3IuTWVzc2FnZUJvZHk9Yzt2YXIgbD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuLHMsYSx1LGMpe2lmKG8odGhpcyx0KSwhZSl0aHJvdyBuZXcgRXJyb3IoIlRoZSB2YWx1ZSBwYXJhbWV0ZXIgaXMgbnVsbCIpO2koT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSwiY29uc3RydWN0b3IiLHRoaXMpLmNhbGwodGhpcyxuLHMsYSx1LGMsdSxjKSx0aGlzLnZhbHVlPWUsciYmKHRoaXMucG9saWN5PXIpfXJldHVybiBzKHQsZSksdH0oYyk7ci5DcmVhdGVNZXNzYWdlQm9keT1sO3ZhciBmPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4scyxhLHUsYyxsKXtvKHRoaXMsdCksaShPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLCJjb25zdHJ1Y3RvciIsdGhpcykuY2FsbCh0aGlzLGUscixuLHMsYSksdSYmKHRoaXMuYXR0cmlidXRlPXUpLGMmJih0aGlzLmNyaXRlcmlhU3ludGF4PWMpLGwmJih0aGlzLmNyaXRlcmlhPWwpfXJldHVybiBzKHQsZSksdH0oYyk7ci5SZWFkTWVzc2FnZUJvZHk9Zjt2YXIgcD1mdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUscixuLHMsYSx1KXtvKHRoaXMsdCksaShPYmplY3QuZ2V0UHJvdG90eXBlT2YodC5wcm90b3R5cGUpLCJjb25zdHJ1Y3RvciIsdGhpcykuY2FsbCh0aGlzLGUscixuLHMsYSksdSYmKHRoaXMuYXR0cmlidXRlPXUpfXJldHVybiBzKHQsZSksdH0oYyk7ci5EZWxldGVNZXNzYWdlQm9keT1wO3ZhciBkPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4scyxhLHUsYyl7byh0aGlzLHQpLGkoT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSwiY29uc3RydWN0b3IiLHRoaXMpLmNhbGwodGhpcyxlLHIsbixzLGEpLHRoaXMuYXR0cmlidXRlPXUsdGhpcy52YWx1ZT1jfXJldHVybiBzKHQsZSksdH0oYyk7ci5VcGRhdGVNZXNzYWdlQm9keT1kO3ZhciBoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG4scyxhLHUpe28odGhpcyx0KSxpKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMsZSxyLG4scyxhKSx0aGlzLm1lc3NhZ2U9dX1yZXR1cm4gcyh0LGUpLHR9KGMpO3IuRm9yd2FyZE1lc3NhZ2VCb2R5PWg7dmFyIGI9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIsbixzLGEpe28odGhpcyx0KSxpKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMsZSxyLG4pLHMmJih0aGlzLmNvZGU9cyx0aGlzLmRlc2NyaXB0aW9uPV9bc10pLGEmJih0aGlzLnZhbHVlPWEpfXJldHVybiBzKHQsZSksdH0oYyk7ci5SZXNwb25zZU1lc3NhZ2VCb2R5PWI7dmFyIHk9bih7MTAwOiIxMDAiLDEwMToiMTAxIiwyMDA6IjIwMCIsMjAxOiIyMDEiLDIwMjoiMjAyIiwyMDM6IjIwMyIsMjA0OiIyMDQiLDIwNToiMjA1IiwyMDY6IjIwNiIsMzAwOiIzMDAiLDMwMToiMzAxIiwzMDI6IjMwMiIsMzAzOiIzMDMiLDMwNDoiMzA0IiwzMDU6IjMwNSIsMzA3OiIzMDciLDQwMDoiNDAwIiw0MDE6IjQwMSIsNDAyOiI0MDIiLDQwMzoiNDAzIiw0MDQ6IjQwNCIsNDA1OiI0MDUiLDQwNjoiNDA2Iiw0MDc6IjQwNyIsNDA4OiI0MDgiLDQwOToiNDA5Iiw0MTA6IjQxMCIsNDExOiI0MTEiLDQxMjoiNDEyIiw0MTM6IjQxMyIsNDE0OiI0MTQiLDQxNToiNDE1Iiw0MTY6IjQxNiIsNDE3OiI0MTciLDQyNjoiNDI2Iiw1MDA6IjUwMCIsNTAxOiI1MDEiLDUwMjoiNTAyIiw1MDM6IjUwMyIsNTA0OiI1MDQiLDUwNToiNTA1In0pO3IuUkVTUE9OU0VfQ09ERT15O3ZhciBfPW4oezEwMDoiQ29udGludWUiLDEwMToiU3dpdGNoaW5nIFByb3RvY29scyIsMjAwOiJPSyIsMjAxOiJDcmVhdGVkIiwyMDI6IkFjY2VwdGVkIiwyMDM6Ik5vbi1BdXRob3JpdGF0aXZlIEluZm9ybWF0aW9uIiwyMDQ6Ik5vIENvbnRlbnQiLDIwNToiUmVzZXQgQ29udGVudCIsMjA2OiJQYXJ0aWFsIENvbnRlbnQiLDMwMDoiTXVsdGlwbGUgQ2hvaWNlcyIsMzAxOiJNb3ZlZCBQZXJtYW5lbnRseSIsMzAyOiJGb3VuZCIsMzAzOiJTZWUgT3RoZXIiLDMwNDoiTm90IE1vZGlmaWVkIiwzMDU6IlVzZSBQcm94eSIsMzA3OiJUZW1wb3JhcnkgUmVkaXJlY3QiLDQwMDoiQmFkIFJlcXVlc3QiLDQwMToiVW5hdXRob3JpemVkIiw0MDI6IlBheW1lbnQgUmVxdWlyZWQiLDQwMzoiRm9yYmlkZGVuIiw0MDQ6Ik5vdCBGb3VuZCIsNDA1OiJNZXRob2QgTm90IEFsbG93ZWQiLDQwNjoiTm90IEFjY2VwdGFibGUiLDQwNzoiUHJveHkgQXV0aGVudGljYXRpb24gUmVxdWlyZWQiLDQwODoiUmVxdWVzdCBUaW1lb3V0Iiw0MDk6IkNvbmZsaWN0Iiw0MTA6IkdvbmUiLDQxMToiTGVuZ3RoIFJlcXVpcmVkIiw0MTI6IlByZWNvbmRpdGlvbiBGYWlsZWQiLDQxMzoiUGF5bG9hZCBUb28gTGFyZ2UiLDQxNDoiUmVxdWVzdC1VUkkgVG9vIExvbmciLDQxNToiVW5zdXBwb3J0ZWQgTWVkaWEgVHlwZSIsNDE2OiJSYW5nZSBOb3QgU2F0aXNmaWFibGUiLDQxNzoiRXhwZWN0YXRpb24gRmFpbGVkIiw0MjY6IlVwZ3JhZGUgUmVxdWlyZWQiLDUwMDoiSW50ZXJuYWwgU2VydmVyIEVycm9yIiw1MDE6Ik5vdCBJbXBsZW1lbnRlZCIsNTAyOiJCYWQgR2F0ZXdheSIsNTAzOiJTZXJ2aWNlIFVuYXZhaWxhYmxlIiw1MDQ6IkdhdGV3YXkgVGltZS1vdXQiLDUwNToiSFRUUCBWZXJzaW9uIE5vdCBTdXBwb3J0ZWQifSk7ci5SRUFTT05fUEhSQVNFPV8sclsiZGVmYXVsdCJdPWN9LHsiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9mcmVlemUiOjMsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IjoxNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzIjoxNn1dLDEyNjpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IilbImRlZmF1bHQiXSxvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpWyJkZWZhdWx0Il0saT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIilbImRlZmF1bHQiXSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrIilbImRlZmF1bHQiXSxhPWUoImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3IiKVsiZGVmYXVsdCJdLHU9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0IilbImRlZmF1bHQiXTtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGM9ZSgiLi4vcmVUSElOS09iamVjdC9SZXRoaW5rT2JqZWN0LmpzIiksbD11KGMpLGY9ZSgiLi9NZXNzYWdlLmpzIikscD11KGYpLGQ9ZSgiLi9NZXNzYWdlQm9keS5qcyIpLGg9ZnVuY3Rpb24oZSl7ZnVuY3Rpb24gdChlLHIpe3ModGhpcyx0KSxuKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMsZSxyKSx0aGlzLm15R2VuZXJhdG9yPShuZXcgYikuaWRNYWtlcigpfXJldHVybiBvKHQsZSksaSh0LFt7a2V5OiJ2YWxpZGF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIG4oT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSwidmFsaWRhdGUiLHRoaXMpLmNhbGwodGhpcyxlKX19LHtrZXk6ImNyZWF0ZUNyZWF0ZU1lc3NhZ2VSZXF1ZXN0Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuKXtpZighZXx8IXR8fCFyKXRocm93IG5ldyBFcnJvcigiZnJvbSwgdG8sIGFuZCB2YWx1ZSBvZiBvYmplY3QgdG8gYmUgY3JlYXRlZCBNVVNUIGJlIHNwZWNpZmllZCIpO3ZhciBvPXRoaXMubXlHZW5lcmF0b3IubmV4dCgpLnZhbHVlLGk9bmV3IGQuQ3JlYXRlTWVzc2FnZUJvZHkocixuLG51bGwsbnVsbCxudWxsLG51bGwsbnVsbCkscz1uZXcgcFsiZGVmYXVsdCJdKG8sZSx0LGYuTWVzc2FnZVR5cGUuQ1JFQVRFLGkpO3JldHVybiBzfX0se2tleToiY3JlYXRlRm9yd2FyZE1lc3NhZ2VSZXF1ZXN0Iix2YWx1ZTpmdW5jdGlvbihlLHQscil7aWYoIWV8fCF0fHwhcil0aHJvdyBuZXcgRXJyb3IoImZyb20sIHRvLCBhbmQgbWVzc2FnZSB0byBmb3J3YXJkIE1VU1QgYmUgc3BlY2lmaWVkIik7dmFyIG49dGhpcy5teUdlbmVyYXRvci5uZXh0KCkudmFsdWUsbz1uZXcgZC5Gb3J3YXJkTWVzc2FnZUJvZHkobnVsbCxudWxsLG51bGwsbnVsbCxudWxsLHIpLGk9bmV3IHBbImRlZmF1bHQiXShuLGUsdCxmLk1lc3NhZ2VUeXBlLkZPUldBUkQsbyk7cmV0dXJuIGl9fSx7a2V5OiJjcmVhdGVEZWxldGVNZXNzYWdlUmVxdWVzdCIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIsbil7aWYoIWV8fCF0KXRocm93IG5ldyBFcnJvcigiZnJvbSBhbmQgdG8gcGFyYW1ldGVycyBNVVNUIGJlIHNwZWNpZmllZCIpO3ZhciBvPXRoaXMubXlHZW5lcmF0b3IubmV4dCgpLnZhbHVlLGk9bmV3IGQuRGVsZXRlTWVzc2FnZUJvZHkobnVsbCxudWxsLHIsbixudWxsLG51bGwpLHM9bmV3IHBbImRlZmF1bHQiXShvLGUsdCxmLk1lc3NhZ2VUeXBlLkRFTEVURSxpKTtyZXR1cm4gc319LHtrZXk6ImNyZWF0ZVVwZGF0ZU1lc3NhZ2VSZXF1ZXN0Iix2YWx1ZTpmdW5jdGlvbihlLHQscixuLG8pe2lmKCFlfHwhdHx8IXIpdGhyb3cgbmV3IEVycm9yKCJmcm9tLCBhbmQgdG8gYW5kIHZhbHVlIE1VU1QgYmUgc3BlY2lmaWVkIik7dmFyIGk9dGhpcy5teUdlbmVyYXRvci5uZXh0KCkudmFsdWUscz1uZXcgZC5VcGRhdGVNZXNzYWdlQm9keShudWxsLG51bGwsbixudWxsLG51bGwsbyxyKSxhPW5ldyBwWyJkZWZhdWx0Il0oaSxlLHQsZi5NZXNzYWdlVHlwZS5VUERBVEUscyk7cmV0dXJuIGF9fSx7a2V5OiJjcmVhdGVSZWFkTWVzc2FnZVJlcXVlc3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe2lmKCFlfHwhdHx8IXIpdGhyb3cgbmV3IEVycm9yKCJmcm9tLCB0byBhbmQgdGhlIHJlc291cmNlIHRvIHJlYWQgZnJvbSBNVVNUIGJlIHNwZWNpZmllZCIpO3ZhciBvPXRoaXMubXlHZW5lcmF0b3IubmV4dCgpLnZhbHVlLGk9bmV3IGQuUmVhZE1lc3NhZ2VCb2R5KG51bGwsbnVsbCxyLG51bGwsbnVsbCxuLG51bGwsbnVsbCkscz1uZXcgcFsiZGVmYXVsdCJdKG8sZSx0LGYuTWVzc2FnZVR5cGUuUkVBRCxpKTtyZXR1cm4gc319LHtrZXk6ImNyZWF0ZVN1YnNjcmliZU1lc3NhZ2VSZXF1ZXN0Iix2YWx1ZTpmdW5jdGlvbihlLHQscil7aWYoIWV8fCF0fHwhcil0aHJvdyBuZXcgRXJyb3IoImZyb20sIHRvIGFuZCB0aGUgcmVzb3VyY2UgdG8gc3Vic2NyaWJlIHRvIE1VU1QgYmUgc3BlY2lmaWVkIik7dmFyIG49dGhpcy5teUdlbmVyYXRvci5uZXh0KCkudmFsdWUsbz1uZXcgZC5NZXNzYWdlQm9keShudWxsLG51bGwscixudWxsLG51bGwpLGk9bmV3IHBbImRlZmF1bHQiXShuLGUsdCxmLk1lc3NhZ2VUeXBlLlNVQlNDUklCRSxvKTtyZXR1cm4gaX19LHtrZXk6ImNyZWF0ZVVuc3Vic2NyaWJlTWVzc2FnZVJlcXVlc3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyKXtpZighZXx8IXR8fCFyKXRocm93IG5ldyBFcnJvcigiZnJvbSwgdG8gYW5kIHRoZSByZXNvdXJjZSB0byBzdWJzY3JpYmUgdG8gTVVTVCBiZSBzcGVjaWZpZWQiKTt2YXIgbj10aGlzLm15R2VuZXJhdG9yLm5leHQoKS52YWx1ZSxvPW5ldyBkLk1lc3NhZ2VCb2R5KG51bGwsbnVsbCxyLG51bGwsbnVsbCksaT1uZXcgcFsiZGVmYXVsdCJdKG4sZSx0LGYuTWVzc2FnZVR5cGUuVU5TVUJTQ1JJQkUsbyk7cmV0dXJuIGl9fSx7a2V5OiJjcmVhdGVNZXNzYWdlUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUsdCxyLG4pe2lmKCF0KXRocm93IG5ldyBFcnJvcigicmVzcG9uc2UgQ29kZSBNVVNUIGJlIHNwZWNpZmllZCIpO3ZhciBvPW5ldyBkLlJlc3BvbnNlTWVzc2FnZUJvZHkobnVsbCxudWxsLG51bGwsdCxyLG4pO3JldHVybiBuZXcgcFsiZGVmYXVsdCJdKGUuaWQsZS50byxlLmZyb20sZi5NZXNzYWdlVHlwZS5SRVNQT05TRSxvKX19LHtrZXk6ImdlbmVyYXRlTWVzc2FnZVJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlLHQscil7aWYoIWV8fCF0KXRocm93IG5ldyBFcnJvcigibWVzc2FnZSBhbmQgcmVzcG9uc2UgY29kZSBNVVNUIGJlIHNwZWNpZmllZCIpO3ZhciBuPWUuYm9keSxvPW4uaWRUb2tlbixpPW4uYWNjZXNzVG9rZW4scz1uLnJlc291cmNlLGE9bmV3IGQuUmVzcG9uc2VNZXNzYWdlQm9keShvLGkscyx0LHIpLHU9dGhpcy5teUdlbmVyYXRvci5uZXh0KCkudmFsdWU7cmV0dXJuIG5ldyBwWyJkZWZhdWx0Il0odSxlLnRvLGUuZnJvbSxmLk1lc3NhZ2VUeXBlLlJFU1BPTlNFLGEpfX1dKSx0fShsWyJkZWZhdWx0Il0pLGI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7cyh0aGlzLGUpfXJldHVybiBpKGUsW3trZXk6ImlkTWFrZXIiLHZhbHVlOmEubWFyayhmdW5jdGlvbiB0KCl7dmFyIGU7cmV0dXJuIGEud3JhcChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDplPTE7Y2FzZSAxOmlmKCEoMWU1PmUpKXt0Lm5leHQ9NjticmVha31yZXR1cm4gdC5uZXh0PTQsZSsrO2Nhc2UgNDp0Lm5leHQ9MTticmVhaztjYXNlIDY6Y2FzZSJlbmQiOnJldHVybiB0LnN0b3AoKX19LHQsdGhpcyl9KX1dKSxlfSgpO3IuSWRHZW5lcmF0b3I9YixyWyJkZWZhdWx0Il09aH0seyIuLi9yZVRISU5LT2JqZWN0L1JldGhpbmtPYmplY3QuanMiOjEyNywiLi9NZXNzYWdlLmpzIjoxMjQsIi4vTWVzc2FnZUJvZHkuanMiOjEyNSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTYsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdCI6MTcsImJhYmVsLXJ1bnRpbWUvcmVnZW5lcmF0b3IiOjIwfV0sMTI3OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3MiKVsiZGVmYXVsdCJdLG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2siKVsiZGVmYXVsdCJdLGk9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0IilbImRlZmF1bHQiXTtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHM9ZSgidHY0IiksYT1pKHMpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscil7byh0aGlzLGUpO3RoaXMudmFsaWRhdGlvbj10LHRoaXMuc2NoZW1hPXJ9cmV0dXJuIG4oZSxbe2tleToidmFsaWRhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnNjaGVtYT9hWyJkZWZhdWx0Il0udmFsaWRhdGUoZSx0aGlzLnNjaGVtYSk6ITF9fV0pLGV9KCk7ci5SZXRoaW5rT2JqZWN0PXUsclsiZGVmYXVsdCJdPXV9LHsiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0IjoxNywKdHY0OjExNX1dLDEyODpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHQiKVsiZGVmYXVsdCJdO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgbz1lKCIuL2NhdGFsb2d1ZS1mYWN0b3J5L0NhdGFsb2d1ZURhdGFPYmplY3RGYWN0b3J5IiksaT1uKG8pLHM9ZSgiLi9tZXNzYWdlLWZhY3RvcnkvTWVzc2FnZUZhY3RvcnkiKSxhPW4ocyksdT1lKCIuL3N5bmNoZXIvU3luY2hlciIpLGM9bih1KSxsPWUoIi4vc3luY2hlci9EYXRhT2JqZWN0UmVwb3J0ZXIiKSxmPW4obCkscD1lKCIuL3N5bmNoZXIvRGF0YU9iamVjdE9ic2VydmVyIiksZD1uKHApLGg9ZSgiLi9jYXRhbG9ndWUtZmFjdG9yeS9IeXBlcnR5RGVzY3JpcHRvciIpLGI9bihoKSx5PWUoIi4vY2F0YWxvZ3VlLWZhY3RvcnkvUHJvdG9jb2xTdHViRGVzY3JpcHRvciIpLF89bih5KSx2PWUoIi4vY2F0YWxvZ3VlLWZhY3RvcnkvU291cmNlUGFja2FnZSIpLG09bih2KTtyLkNhdGFsb2d1ZUZhY3Rvcnk9aVsiZGVmYXVsdCJdLHIuTWVzc2FnZUZhY3Rvcnk9YVsiZGVmYXVsdCJdLHIuU3luY2hlcj1jWyJkZWZhdWx0Il0sci5EYXRhT2JqZWN0UmVwb3J0ZXI9ZlsiZGVmYXVsdCJdLHIuRGF0YU9iamVjdE9ic2VydmVyPWRbImRlZmF1bHQiXSxyLkh5cGVydHlEZXNjcmlwdG9yPWJbImRlZmF1bHQiXSxyLlByb3RvY29sU3R1YkRlc2NyaXB0b3I9X1siZGVmYXVsdCJdLHIuU291cmNlUGFja2FnZT1tWyJkZWZhdWx0Il19LHsiLi9jYXRhbG9ndWUtZmFjdG9yeS9DYXRhbG9ndWVEYXRhT2JqZWN0RmFjdG9yeSI6MTE3LCIuL2NhdGFsb2d1ZS1mYWN0b3J5L0h5cGVydHlEZXNjcmlwdG9yIjoxMTksIi4vY2F0YWxvZ3VlLWZhY3RvcnkvUHJvdG9jb2xTdHViRGVzY3JpcHRvciI6MTIyLCIuL2NhdGFsb2d1ZS1mYWN0b3J5L1NvdXJjZVBhY2thZ2UiOjEyMywiLi9tZXNzYWdlLWZhY3RvcnkvTWVzc2FnZUZhY3RvcnkiOjEyNiwiLi9zeW5jaGVyL0RhdGFPYmplY3RPYnNlcnZlciI6MTMxLCIuL3N5bmNoZXIvRGF0YU9iamVjdFJlcG9ydGVyIjoxMzIsIi4vc3luY2hlci9TeW5jaGVyIjoxMzUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdCI6MTd9XSwxMjk6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzcyIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVjayIpWyJkZWZhdWx0Il0saT1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKVsiZGVmYXVsdCJdLHM9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiKVsiZGVmYXVsdCJdLGE9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0IilbImRlZmF1bHQiXTtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHU9ZSgiLi9TeW5jT2JqZWN0IiksYz1hKHUpLGw9ZSgiLi9EYXRhT2JqZWN0Q2hpbGQiKSxmPWEobCkscD1lKCIuLi91dGlscy91dGlscy5qcyIpLGQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLGkscyxhKXtvKHRoaXMsZSk7dmFyIHU9dGhpczt1Ll9zeW5jaGVyPXQsdS5fdXJsPXIsdS5fc2NoZW1hPW4sdS5fc3RhdHVzPWksdS5fc3luY09iaj1uZXcgY1siZGVmYXVsdCJdKHMpLHUuX2NoaWxkcmVucz1hLHUuX3ZlcnNpb249MCx1Ll9jaGlsZElkPTAsdS5fY2hpbGRyZW5PYmplY3RzPXt9LHUuX2NoaWxkcmVuTGlzdGVuZXJzPVtdLHUuX293bmVyPXQuX293bmVyLHUuX2J1cz10Ll9idXN9cmV0dXJuIG4oZSxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD10aGlzLHI9dC5fdXJsKyIvY2hpbGRyZW4vIjt0Ll9jaGlsZHJlbnMmJnQuX2NoaWxkcmVucy5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciBvPXIrbixpPXQuX2J1cy5hZGRMaXN0ZW5lcihvLGZ1bmN0aW9uKHIpe2lmKHIuZnJvbSE9PWUuX293bmVyKXN3aXRjaChjb25zb2xlLmxvZygiRGF0YU9iamVjdC1DaGlsZHJlbi1SQ1Y6ICIsciksci50eXBlKXtjYXNlImNyZWF0ZSI6dC5fb25DaGlsZHJlbkNyZWF0ZShyKTticmVhaztjYXNlImRlbGV0ZSI6Y29uc29sZS5sb2cocik7YnJlYWs7ZGVmYXVsdDp0Ll9jaGFuZ2VDaGlsZHJlbihyKX19KTt0Ll9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKGkpfSl9fSx7a2V5OiJfcmVsZWFzZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2NoaWxkcmVuTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKX0pLGkoZS5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX2NoaWxkcmVuT2JqZWN0c1t0XS5fcmVsZWFzZUxpc3RlbmVycygpfSl9fSx7a2V5OiJwYXVzZSIsdmFsdWU6ZnVuY3Rpb24oKXt0aHJvdyJOb3QgaW1wbGVtZW50ZWQifX0se2tleToicmVzdW1lIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJzdG9wIix2YWx1ZTpmdW5jdGlvbigpe3Rocm93Ik5vdCBpbXBsZW1lbnRlZCJ9fSx7a2V5OiJhZGRDaGlsZHJlbiIsdmFsdWU6ZnVuY3Rpb24oZSx0KXt2YXIgcj10aGlzO3IuX2NoaWxkSWQrKzt2YXIgbj1yLl9vd25lcisiIyIrci5fY2hpbGRJZCxvPXIuX3VybCsiL2NoaWxkcmVuLyIrZSxpPXt0eXBlOiJjcmVhdGUiLGZyb206ci5fb3duZXIsdG86byxib2R5OntyZXNvdXJjZTpuLHZhbHVlOnR9fTtyZXR1cm4gbmV3IHMoZnVuY3Rpb24oZSl7dmFyIHM9ci5fYnVzLnBvc3RNZXNzYWdlKGkpO2NvbnNvbGUubG9nKCJjcmVhdGUtcmVwb3J0ZXItY2hpbGQoICIrci5fb3duZXIrIiApOiAiLGkpO3ZhciBhPW5ldyBmWyJkZWZhdWx0Il0ocixuLHQsci5fb3duZXIscyk7YS5vbkNoYW5nZShmdW5jdGlvbihlKXtyLl9vbkNoYW5nZShlLHtwYXRoOm8sY2hpbGRJZDpufSl9KSxyLl9jaGlsZHJlbk9iamVjdHNbbl09YSxlKGEpfSl9fSx7a2V5OiJvbkFkZENoaWxkcmVuIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vbkFkZENoaWxkcmVuSGFuZGxlcj1lfX0se2tleToiX29uQ2hpbGRyZW5DcmVhdGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2U7Y29uc29sZS5sb2coImNyZWF0ZS1vYnNlcnZlci1jaGlsZCggIit0Ll9vd25lcisiICk6ICIsZSk7dmFyIG49bmV3IGZbImRlZmF1bHQiXSh0LHIsZS5ib2R5LnZhbHVlKTt0Ll9jaGlsZHJlbk9iamVjdHNbcl09bixzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNvdXJjZTp0Ll9vd25lcn19KX0pO3ZhciBvPXt0eXBlOmUudHlwZSxmcm9tOmUuZnJvbSx1cmw6ZS50byx2YWx1ZTplLmJvZHkudmFsdWUsY2hpbGRJZDpyfTt0Ll9vbkFkZENoaWxkcmVuSGFuZGxlciYmKGNvbnNvbGUubG9nKCJBREQtQ0hJTERSRU4tRVZFTlQ6ICIsbyksdC5fb25BZGRDaGlsZHJlbkhhbmRsZXIobykpfX0se2tleToiX29uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5fdmVyc2lvbisrLCJvbiI9PT1yLl9zdGF0dXMpe3ZhciBuPXt0eXBlOiJ1cGRhdGUiLGZyb206ci5fdXJsLHRvOnIuX3VybCsiL2NoYW5nZXMiLGJvZHk6e3ZlcnNpb246ci5fdmVyc2lvbixzb3VyY2U6ci5fb3duZXIsYXR0cmlidXRlOmUuZmllbGR9fTtlLm9UeXBlPT09dS5PYmplY3RUeXBlLk9CSkVDVD9lLmNUeXBlIT09dS5DaGFuZ2VUeXBlLlJFTU9WRSYmKG4uYm9keS52YWx1ZT1lLmRhdGEpOihuLmJvZHkuYXR0cmlidXRlVHlwZT1lLm9UeXBlLG4uYm9keS52YWx1ZT1lLmRhdGEsZS5jVHlwZSE9PXUuQ2hhbmdlVHlwZS5VUERBVEUmJihuLmJvZHkub3BlcmF0aW9uPWUuY1R5cGUpKSx0JiYobi50bz10LnBhdGgsbi5ib2R5LnJlc291cmNlPXQuY2hpbGRJZCksci5fYnVzLnBvc3RNZXNzYWdlKG4pfX19LHtrZXk6Il9jaGFuZ2VPYmplY3QiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcztpZihyLl92ZXJzaW9uKzE9PT10LmJvZHkudmVyc2lvbil7ci5fdmVyc2lvbisrO3ZhciBuPXQuYm9keS5hdHRyaWJ1dGUsbz0oMCxwLmRlZXBDbG9uZSkodC5ib2R5LnZhbHVlKSxpPWUuZmluZEJlZm9yZShuKTtpZih0LmJvZHkuYXR0cmlidXRlVHlwZT09PXUuT2JqZWN0VHlwZS5BUlJBWSlpZih0LmJvZHkub3BlcmF0aW9uPT09dS5DaGFuZ2VUeXBlLkFERCl7dmFyIHM9aS5vYmosYT1pLmxhc3Q7QXJyYXkucHJvdG90eXBlLnNwbGljZS5hcHBseShzLFthLDBdLmNvbmNhdChvKSl9ZWxzZSBpZih0LmJvZHkub3BlcmF0aW9uPT09dS5DaGFuZ2VUeXBlLlJFTU9WRSl7dmFyIHM9aS5vYmosYT1pLmxhc3Q7cy5zcGxpY2UoYSxvKX1lbHNlIGkub2JqW2kubGFzdF09bztlbHNlIHQuYm9keS52YWx1ZT9pLm9ialtpLmxhc3RdPW86ZGVsZXRlIGkub2JqW2kubGFzdF19ZWxzZSBjb25zb2xlLmxvZygiVU5TWU5DSFJPTklaRUQgVkVSU0lPTjogKGRhdGEgPT4gIityLl92ZXJzaW9uKyIsIG1zZyA9PiAiK3QuYm9keS52ZXJzaW9uKyIpIil9fSx7a2V5OiJfY2hhbmdlQ2hpbGRyZW4iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7Y29uc29sZS5sb2coIkNoYW5nZSBjaGlsZHJlbjogIix0Ll9vd25lcixlKTt2YXIgcj1lLmJvZHkucmVzb3VyY2Usbj10Ll9jaGlsZHJlbk9iamVjdHNbcl07bj90Ll9jaGFuZ2VPYmplY3Qobi5fc3luY09iaixlKTpjb25zb2xlLmxvZygiTm8gY2hpbGRyZW4gZm91bmQgZm9yOiAiLHIpfX0se2tleToidXJsIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdXJsfX0se2tleToic2NoZW1hIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2NoZW1hfX0se2tleToic3RhdHVzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc3RhdHVzfX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3N5bmNPYmouZGF0YX19LHtrZXk6ImNoaWxkcmVucyIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuT2JqZWN0c319XSksZX0oKTtyWyJkZWZhdWx0Il09ZCx0LmV4cG9ydHM9clsiZGVmYXVsdCJdfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMzYsIi4vRGF0YU9iamVjdENoaWxkIjoxMzAsIi4vU3luY09iamVjdCI6MTM0LCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiOjYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIjo4LCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3MiOjEzLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHQiOjE3fV0sMTMwOltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3MiKVsiZGVmYXVsdCJdLG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2siKVsiZGVmYXVsdCJdLGk9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0IilbImRlZmF1bHQiXTtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHM9ZSgiLi9TeW5jT2JqZWN0IiksYT1pKHMpLHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQscixuLGkscyl7byh0aGlzLGUpO3ZhciB1PXRoaXM7dS5fcGFyZW50PXQsdS5fY2hpbGRJZD1yLHUuX293bmVyPWksdS5fbXNnSWQ9cyx1Ll9zeW5jT2JqPW5ldyBhWyJkZWZhdWx0Il0obiksdS5fYnVzPXQuX2J1cyx1Ll9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybiBuKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX293bmVyJiYoZS5fbGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX293bmVyLGZ1bmN0aW9uKHQpeyJyZXNwb25zZSI9PT10LnR5cGUmJnQuaWQ9PT1lLl9tc2dJZCYmKGNvbnNvbGUubG9nKCJEYXRhT2JqZWN0Q2hpbGQub25SZXNwb25zZToiLHQpLGUuX29uUmVzcG9uc2UodCkpfSkpfX0se2tleToiX3JlbGVhc2VMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztlLl9saXN0ZW5lciYmZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJkZWxldGUiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcztkZWxldGUgZS5fcGFyZW50Ll9jaGlsZHJlbltlLl9jaGlsZElkXSxlLl9yZWxlYXNlTGlzdGVuZXJzKCl9fSx7a2V5OiJvbkNoYW5nZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fc3luY09iai5vYnNlcnZlKGZ1bmN0aW9uKHQpe2UodCl9KX19LHtrZXk6Im9uUmVzcG9uc2UiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uUmVzcG9uc2VIYW5kbGVyPWV9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5ib2R5LnNvdXJjZSxjb2RlOmUuYm9keS5jb2RlfTt0Ll9vblJlc3BvbnNlSGFuZGxlciYmdC5fb25SZXNwb25zZUhhbmRsZXIocil9fSx7a2V5OiJjaGlsZElkIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRJZH19LHtrZXk6ImRhdGEiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zeW5jT2JqLmRhdGF9fV0pLGV9KCk7clsiZGVmYXVsdCJdPXUsdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyIuL1N5bmNPYmplY3QiOjEzNCwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0IjoxN31dLDEzMTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZ2V0IilbImRlZmF1bHQiXSxvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyIpWyJkZWZhdWx0Il0saT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIilbImRlZmF1bHQiXSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrIilbImRlZmF1bHQiXSxhPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyIpWyJkZWZhdWx0Il0sdT1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW50ZXJvcC1yZXF1aXJlLWRlZmF1bHQiKVsiZGVmYXVsdCJdO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KTt2YXIgYz1lKCIuL0RhdGFPYmplY3QiKSxsPXUoYyksZj1lKCIuL0RhdGFPYmplY3RDaGlsZCIpLHA9dShmKSxkPXtBTlk6ImFueSIsU1RBUlQ6InN0YXJ0IixFWEFDVDoiZXhhY3QifSxoPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG8saSx1LGMsbCl7cyh0aGlzLHQpLG4oT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSwiY29uc3RydWN0b3IiLHRoaXMpLmNhbGwodGhpcyxlLHIsbyxpLHUuZGF0YSxjKTt2YXIgZj10aGlzO2YuX3ZlcnNpb249bCxmLl9maWx0ZXJzPXt9LGYuX3N5bmNPYmoub2JzZXJ2ZShmdW5jdGlvbihlKXtmLl9vbkZpbHRlcihlKX0pLGEodS5jaGlsZHJlbnMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9dS5jaGlsZHJlbnNbZV07Zi5fY2hpbGRyZW5PYmplY3RzW2VdPW5ldyBwWyJkZWZhdWx0Il0oZixlLHQpfSksZi5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4gbyh0LGUpLGkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe24oT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fY2hhbmdlTGlzdGVuZXI9ZS5fYnVzLmFkZExpc3RlbmVyKGUuX3VybCsiL2NoYW5nZXMiLGZ1bmN0aW9uKHQpeyJ1cGRhdGUiPT09dC50eXBlJiYoY29uc29sZS5sb2coIkRhdGFPYmplY3RPYnNlcnZlci0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VPYmplY3QoZS5fc3luY09iaix0KSl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe24oT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKX19LHtrZXk6ImRlbGV0ZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fb2JzZXJ2ZXJzW2UuX3VybF19fSx7a2V5OiJ1bnN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLHQ9e3R5cGU6InVuc3Vic2NyaWJlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdE9ic2VydmVyLVVOU1VCU0NSSUJFOiAiLHQpLDIwMD09PXQuYm9keS5jb2RlJiYoZS5fcmVsZWFzZUxpc3RlbmVycygpLGRlbGV0ZSBlLl9zeW5jaGVyLl9vYnNlcnZlcnNbZS5fdXJsXSl9KX19LHtrZXk6Im9uQ2hhbmdlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPWUsbj17dHlwZTpkLkVYQUNULGNhbGxiYWNrOnR9LG89ZS5pbmRleE9mKCIqIik7bz09PWUubGVuZ3RoLTEmJigwPT09bz9uLnR5cGU9ZC5BTlk6KG4udHlwZT1kLlNUQVJULHI9ZS5zdWJzdHIoMCxlLmxlbmd0aC0xKSkpLHRoaXMuX2ZpbHRlcnNbcl09bn19LHtrZXk6Il9vbkZpbHRlciIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczthKHQuX2ZpbHRlcnMpLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIG49dC5fZmlsdGVyc1tyXTtuLnR5cGU9PT1kLkFOWT9uLmNhbGxiYWNrKGUpOm4udHlwZT09PWQuU1RBUlQ/MD09PWUuZmllbGQuaW5kZXhPZihyKSYmbi5jYWxsYmFjayhlKTpuLnR5cGU9PT1kLkVYQUNUJiZlLmZpZWxkPT09ciYmbi5jYWxsYmFjayhlKX0pfX1dKSx0fShsWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1oLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0IjoxMjksIi4vRGF0YU9iamVjdENoaWxkIjoxMzAsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTYsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdCI6MTd9XSwxMzI6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMiKVsiZGVmYXVsdCJdLGk9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzcyIpWyJkZWZhdWx0Il0scz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVjayIpWyJkZWZhdWx0Il0sYT1lKCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMiKVsiZGVmYXVsdCJdLHU9ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2ludGVyb3AtcmVxdWlyZS1kZWZhdWx0IilbImRlZmF1bHQiXTtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIGM9ZSgiLi9EYXRhT2JqZWN0IiksbD11KGMpLGY9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxwPWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSxyLG8saSxhLHUpe3ModGhpcyx0KSxuKE9iamVjdC5nZXRQcm90b3R5cGVPZih0LnByb3RvdHlwZSksImNvbnN0cnVjdG9yIix0aGlzKS5jYWxsKHRoaXMsZSxyLG8saSxhLHUpO3ZhciBjPXRoaXM7Yy5fc3Vic2NyaXB0aW9ucz17fSxjLl9zeW5jT2JqLm9ic2VydmUoZnVuY3Rpb24oZSl7Y29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci0iK3IrIi1TRU5EOiAiLGUpLGMuX29uQ2hhbmdlKGUpfSksYy5fYWxsb2NhdGVMaXN0ZW5lcnMoKX1yZXR1cm4gbyh0LGUpLGkodCxbe2tleToiX2FsbG9jYXRlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe24oT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSwiX2FsbG9jYXRlTGlzdGVuZXJzIix0aGlzKS5jYWxsKHRoaXMpO3ZhciBlPXRoaXM7ZS5fcmVzcG9uc2VMaXN0ZW5lcj1lLl9idXMuYWRkTGlzdGVuZXIoZS5fdXJsLGZ1bmN0aW9uKHQpeyJyZXNwb25zZSI9PT10LnR5cGUmJmUuX29uUmVzcG9uc2UodCl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe24oT2JqZWN0LmdldFByb3RvdHlwZU9mKHQucHJvdG90eXBlKSwiX3JlbGVhc2VMaXN0ZW5lcnMiLHRoaXMpLmNhbGwodGhpcyk7dmFyIGU9dGhpcztlLl9yZXNwb25zZUxpc3RlbmVyLnJlbW92ZSgpfX0se2tleToiZGVsZXRlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMsdD17dHlwZToiZGVsZXRlIixmcm9tOmUuX293bmVyLHRvOmUuX3N5bmNoZXIuX3N1YlVSTCxib2R5OntyZXNvdXJjZTplLl91cmx9fTtlLl9idXMucG9zdE1lc3NhZ2UodCxmdW5jdGlvbih0KXtjb25zb2xlLmxvZygiRGF0YU9iamVjdFJlcG9ydGVyLURFTEVURTogIix0KSwyMDA9PT10LmJvZHkuY29kZSYmKGUuX3JlbGVhc2VMaXN0ZW5lcnMoKSxkZWxldGUgZS5fc3luY2hlci5fcmVwb3J0ZXJzW2UuX3VybF0pfSl9fSx7a2V5OiJvblN1YnNjcmlwdGlvbiIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy5fb25TdWJzY3JpcHRpb25IYW5kbGVyPWV9fSx7a2V5OiJvblJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlKXt0aGlzLl9vblJlc3BvbnNlSGFuZGxlcj1lfX0se2tleToiX29uRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztzd2l0Y2goY29uc29sZS5sb2coIkRhdGFPYmplY3RSZXBvcnRlci1SQ1Y6ICIsZSksZS5ib2R5LnR5cGUpe2Nhc2Uic3Vic2NyaWJlIjp0Ll9vblN1YnNjcmliZShlKTticmVhaztjYXNlInVuc3Vic2NyaWJlIjp0Ll9vblVuU3Vic2NyaWJlKGUpfX19LHtrZXk6Il9vblN1YnNjcmliZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuYm9keS5mcm9tLG49e3R5cGU6ZS5ib2R5LnR5cGUsdXJsOnIsYWNjZXB0OmZ1bmN0aW9uKCl7dmFyIG49e3VybDpyLHN0YXR1czoib24ifTt0Ll9zdWJzY3JpcHRpb25zW3JdPW47dmFyIG89e307cmV0dXJuIGEodC5fY2hpbGRyZW5PYmplY3RzKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXQuX2NoaWxkcmVuT2JqZWN0c1tlXS5kYXRhO29bZV09KDAsZi5kZWVwQ2xvbmUpKHIpfSksdC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6MjAwLHNjaGVtYTp0Ll9zY2hlbWEsdmVyc2lvbjp0Ll92ZXJzaW9uLHZhbHVlOntkYXRhOigwLGYuZGVlcENsb25lKSh0LmRhdGEpLGNoaWxkcmVuczpvfX19KSxufSxyZWplY3Q6ZnVuY3Rpb24ocil7dC5fYnVzLnBvc3RNZXNzYWdlKHtpZDplLmlkLHR5cGU6InJlc3BvbnNlIixmcm9tOmUudG8sdG86ZS5mcm9tLGJvZHk6e2NvZGU6NDAzLGRlc2M6cn19KX19O3QuX29uU3Vic2NyaXB0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJTVUJTQ1JJUFRJT04tRVZFTlQ6ICIsbiksdC5fb25TdWJzY3JpcHRpb25IYW5kbGVyKG4pKX19LHtrZXk6Il9vblVuU3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLHI9ZS5ib2R5LmZyb20sbj10Ll9zdWJzY3JpcHRpb25zW3JdO2RlbGV0ZSB0Ll9zdWJzY3JpcHRpb25zW3JdO3ZhciBvPXt0eXBlOmUuYm9keS50eXBlLHVybDpyLG9iamVjdDpufTt0Ll9vblN1YnNjcmlwdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiVU4tU1VCU0NSSVBUSU9OLUVWRU5UOiAiLG8pLHQuX29uU3Vic2NyaXB0aW9uSGFuZGxlcihvKSl9fSx7a2V5OiJfb25SZXNwb25zZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXt0eXBlOmUudHlwZSx1cmw6ZS5mcm9tLGNvZGU6ZS5ib2R5LmNvZGV9O3QuX29uUmVzcG9uc2VIYW5kbGVyJiYoY29uc29sZS5sb2coIlJFU1BPTlNFLUVWRU5UOiAiLHIpLHQuX29uUmVzcG9uc2VIYW5kbGVyKHIpKX19LHtrZXk6InN1YnNjcmlwdGlvbnMiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zdWJzY3JpcHRpb25zfX1dKSx0fShsWyJkZWZhdWx0Il0pO3JbImRlZmF1bHQiXT1wLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi4vdXRpbHMvdXRpbHMuanMiOjEzNiwiLi9EYXRhT2JqZWN0IjoxMjksImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIjoxMywiYmFiZWwtcnVudGltZS9oZWxwZXJzL2dldCI6MTUsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyI6MTYsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdCI6MTd9XSwxMzM6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7dmFyIG49ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzcyIpWyJkZWZhdWx0Il0sbz1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVjayIpWyJkZWZhdWx0Il07T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixpKXtvKHRoaXMsZSk7dmFyIHM9dGhpcztzLl9vd25lcj10LHMuX3VybD1yLHMuX2J1cz1uLHMuX2NoaWxkcmVuPWkscy5fY2hhbmdlcz1bXSxzLl9hbGxvY2F0ZUxpc3RlbmVycygpfXJldHVybiBuKGUsW3trZXk6Il9hbGxvY2F0ZUxpc3RlbmVycyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzO2UuX2xpc3RlbmVyPWUuX2J1cy5hZGRMaXN0ZW5lcihlLl91cmwsZnVuY3Rpb24odCl7Y29uc29sZS5sb2coIkRhdGFQcm92aXNpb25hbC0iK2UuX3VybCsiLVJDVjogIix0KSxlLl9jaGFuZ2VzLnB1c2godCl9KX19LHtrZXk6Il9yZWxlYXNlTGlzdGVuZXJzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXM7ZS5fbGlzdGVuZXIucmVtb3ZlKCl9fSx7a2V5OiJhcHBseSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpczt0Ll9jaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24odCl7ZS5fY2hhbmdlT2JqZWN0KGUuX3N5bmNPYmosdCl9KX19LHtrZXk6ImNoaWxkcmVuIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW59fV0pLGV9KCk7clsiZGVmYXVsdCJdPWksdC5leHBvcnRzPXJbImRlZmF1bHQiXX0seyJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3MtY2FsbC1jaGVjayI6MTEsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3MiOjEzfV0sMTM0OltmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO3ZhciBuPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGUtY2xhc3MiKVsiZGVmYXVsdCJdLG89ZSgiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2siKVsiZGVmYXVsdCJdLGk9ZSgiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzIilbImRlZmF1bHQiXTtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSk7dmFyIHM9ZSgiLi4vdXRpbHMvdXRpbHMuanMiKSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0KXtvKHRoaXMsZSk7dmFyIHI9dGhpcztyLl9vYnNlcnZlcnM9W10sci5fZmlsdGVycz17fSx0P3IuX2RhdGE9KDAscy5kZWVwQ2xvbmUpKHQpOnIuX2RhdGE9e30sci5faW50ZXJuYWxPYnNlcnZlKG5ldyB1LHIuX2RhdGEpfXJldHVybiBuKGUsW3trZXk6Im9ic2VydmUiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29ic2VydmVycy5wdXNoKGUpfX0se2tleToiZmluZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zcGxpdCgiLiIpO3JldHVybiB0aGlzLl9maW5kV2l0aFNwbGl0KHQpfX0se2tleToiZmluZEJlZm9yZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9e30scj1lLnNwbGl0KCIuIik7cmV0dXJuIHQubGFzdD1yLnBvcCgpLHQub2JqPXRoaXMuX2ZpbmRXaXRoU3BsaXQociksdH19LHtrZXk6Il9maW5kV2l0aFNwbGl0Iix2YWx1ZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLl9kYXRhO3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7dD10W2VdfSksdH19LHtrZXk6Il9maXJlRXZlbnQiLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QoZSl9KX19LHtrZXk6Il9pc09ic2VydmFibGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3JldHVybiBlLmNvbnN0cnVjdG9yPT09T2JqZWN0fHxlLmNvbnN0cnVjdG9yPT09QXJyYXl9fSx7a2V5OiJfaW50ZXJuYWxPYnNlcnZlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7aWYoci5faXNPYnNlcnZhYmxlKHQpKXt2YXIgbj1mdW5jdGlvbih0KXtyLl9vbkNoYW5nZXMoZSx0KX07aWYodC5jb25zdHJ1Y3Rvcj09PU9iamVjdCl7T2JqZWN0Lm9ic2VydmUodCxuKTtmb3IodmFyIG8gaW4gdClyLl9pc09ic2VydmFibGUodFtvXSkmJnIuX2ludGVybmFsT2JzZXJ2ZShlWyJuZXciXShvKSx0W29dKX1lbHNlIGlmKHQuY29uc3RydWN0b3I9PT1BcnJheSl7QXJyYXkub2JzZXJ2ZSh0LG4pO2Zvcih2YXIgbyBpbiB0KWlmKHIuX2lzT2JzZXJ2YWJsZSh0W29dKSl7dmFyIGk9ZVsibmV3Il0obmV3IGModFtvXSxvKSk7ci5faW50ZXJuYWxPYnNlcnZlKGksdFtvXSl9fX19fSx7a2V5OiJfb25DaGFuZ2VzIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXM7Zm9yKHZhciBuIGluIHQpe3ZhciBvPXRbbl0ub2JqZWN0LGk9dm9pZCAwO2lmKG8uY29uc3RydWN0b3I9PT1PYmplY3QmJihpPWYuT0JKRUNUKSxvLmNvbnN0cnVjdG9yPT09QXJyYXkmJihpPWYuQVJSQVkpLCJzcGxpY2UiPT09dFtuXS50eXBlKSFmdW5jdGlvbigpe3ZhciBhPXRbbl0uaW5kZXgsdT1lWyJuZXciXSgiIithKSxmPXUudG9TdHJpbmcoKSxwPXRbbl0ucmVtb3ZlZC5sZW5ndGg7aWYoMCE9PXApe3ZhciBkPXRbbl0ucmVtb3ZlZDtkLmZvckVhY2goZnVuY3Rpb24odCxuKXtyLl9pc09ic2VydmFibGUodCkmJmUucmVtb3ZlSW5kZXgoYStuKX0pLHIuX2ZpcmVFdmVudCh7Y1R5cGU6bC5SRU1PVkUsb1R5cGU6aSxmaWVsZDpmLGRhdGE6cH0pfXZhciBoPXRbbl0uYWRkZWRDb3VudDtpZigwIT09aCl7dmFyIGI9by5zbGljZShhLGEraCk7Yi5mb3JFYWNoKGZ1bmN0aW9uKHQsbil7aWYoci5faXNPYnNlcnZhYmxlKHQpKXt2YXIgbz1lWyJuZXciXShuZXcgYyh0LGErbikpO3IuX2ludGVybmFsT2JzZXJ2ZShvLHQpfX0pLHIuX2ZpcmVFdmVudCh7Y1R5cGU6bC5BREQsb1R5cGU6aSxmaWVsZDpmLGRhdGE6KDAscy5kZWVwQ2xvbmUpKGIpfSl9YSE9PW8ubGVuZ3RoLTEmJmUucmVJbmRleEZyb20obyl9KCk7ZWxzZXt2YXIgYT1lWyJuZXciXSh0W25dLm5hbWUpLHU9YS50b1N0cmluZygpO2lmKC0xIT09dS5pbmRleE9mKCJTeW1ib2wiKSljb250aW51ZTt2YXIgcD1vW3Rbbl0ubmFtZV07InVwZGF0ZSI9PT10W25dLnR5cGUmJnRoaXMuX2ZpcmVFdmVudCh7Y1R5cGU6bC5VUERBVEUsb1R5cGU6aSxmaWVsZDp1LGRhdGE6KDAscy5kZWVwQ2xvbmUpKHApfSksImFkZCI9PT10W25dLnR5cGUmJih0aGlzLl9pbnRlcm5hbE9ic2VydmUoYSxwKSx0aGlzLl9maXJlRXZlbnQoe2NUeXBlOmwuQURELG9UeXBlOmksZmllbGQ6dSxkYXRhOigwLHMuZGVlcENsb25lKShwKX0pKSwiZGVsZXRlIj09PXRbbl0udHlwZSYmdGhpcy5fZmlyZUV2ZW50KHtjVHlwZTpsLlJFTU9WRSxvVHlwZTppLGZpZWxkOnV9KX19fX0se2tleToiZGF0YSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGF9fV0pLGV9KCksdT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtvKHRoaXMsZSksdGhpcy5fcGF0aD1bXSx0aGlzLl9vYnNlcnZhYmxlcz17fX1yZXR1cm4gbihlLFt7a2V5OiJyZW1vdmVJbmRleCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZGVsZXRlIHRoaXMuX29ic2VydmFibGVzW2VdfX0se2tleToicmVJbmRleEZyb20iLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7aSh0aGlzLl9vYnNlcnZhYmxlcykuZm9yRWFjaChmdW5jdGlvbihyKXt2YXIgbj10Ll9vYnNlcnZhYmxlc1tyXSxvPWUuaW5kZXhPZihuLm9iaik7bi5pZHghPW8mJihuLmlkeD1vLGRlbGV0ZSB0Ll9vYnNlcnZhYmxlc1tyXSx0Ll9vYnNlcnZhYmxlc1tvXT1uKX0pfX0se2tleToibmV3Iix2YWx1ZTpmdW5jdGlvbihlKXtlLmNvbnN0cnVjdG9yPT1jJiYodGhpcy5fb2JzZXJ2YWJsZXNbZS5pZHhdPWUpO3ZhciB0PXRoaXMuY2xvbmUoKTtyZXR1cm4gdC5fcGF0aC5wdXNoKGUpLHR9fSx7a2V5OiJjbG9uZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1uZXcgZTtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuX3BhdGgucHVzaChlKX0pLHR9fSx7a2V5OiJ0b1N0cmluZyIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT0iIjtyZXR1cm4gdGhpcy5fcGF0aC5mb3JFYWNoKGZ1bmN0aW9uKHQscil7MD09PXI/ZT10LnRvU3RyaW5nKCk6ZSs9Ii4iK3QudG9TdHJpbmcoKX0pLGV9fV0pLGV9KCksYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXtvKHRoaXMsZSksdGhpcy5vYmo9dCx0aGlzLmlkeD1yfXJldHVybiBuKGUsW3trZXk6InRvU3RyaW5nIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkeC50b1N0cmluZygpfX1dKSxlfSgpLGw9e1VQREFURToidXBkYXRlIixBREQ6ImFkZCIsUkVNT1ZFOiJyZW1vdmUifTtyLkNoYW5nZVR5cGU9bDt2YXIgZj17T0JKRUNUOiJvYmplY3QiLEFSUkFZOiJhcnJheSJ9O3IuT2JqZWN0VHlwZT1mLHJbImRlZmF1bHQiXT1hfSx7Ii4uL3V0aWxzL3V0aWxzLmpzIjoxMzYsImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cyI6NiwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzLWNhbGwtY2hlY2siOjExLCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIjoxM31dLDEzNTpbZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgbj1lKCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlLWNsYXNzIilbImRlZmF1bHQiXSxvPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrIilbImRlZmF1bHQiXSxpPWUoImJhYmVsLXJ1bnRpbWUvY29yZS1qcy9wcm9taXNlIilbImRlZmF1bHQiXSxzPWUoImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdCIpWyJkZWZhdWx0Il07T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBhPWUoIi4vRGF0YU9iamVjdFJlcG9ydGVyIiksdT1zKGEpLGM9ZSgiLi9EYXRhT2JqZWN0T2JzZXJ2ZXIiKSxsPXMoYyksZj1lKCIuL0RhdGFQcm92aXNpb25hbCIpLHA9cyhmKSxkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbil7byh0aGlzLGUpO3ZhciBpPXRoaXM7aS5fb3duZXI9dCxpLl9idXM9cixpLl9zdWJVUkw9bi5ydW50aW1lVVJMKyIvc20iLGkuX3JlcG9ydGVycz17fSxpLl9vYnNlcnZlcnM9e30saS5fcHJvdmlzaW9uYWxzPXt9LHIuYWRkTGlzdGVuZXIodCxmdW5jdGlvbihlKXtpZihlLmZyb20hPT10KXN3aXRjaChjb25zb2xlLmxvZygiU3luY2hlci1SQ1Y6ICIsZSksZS50eXBlKXtjYXNlImZvcndhcmQiOmkuX29uRm9yd2FyZChlKTticmVhaztjYXNlImNyZWF0ZSI6aS5fb25SZW1vdGVDcmVhdGUoZSk7YnJlYWs7Y2FzZSJkZWxldGUiOmkuX29uUmVtb3RlRGVsZXRlKGUpfX0pfXJldHVybiBuKGUsW3trZXk6ImNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSx0LHIpe3ZhciBuPXRoaXMsbz17dHlwZToiY3JlYXRlIixmcm9tOm4uX293bmVyLHRvOm4uX3N1YlVSTCxib2R5OntzY2hlbWE6ZSx2YWx1ZTpyLGF1dGhvcmlzZTp0fX07cmV0dXJuIG5ldyBpKGZ1bmN0aW9uKHQsaSl7bi5fYnVzLnBvc3RNZXNzYWdlKG8sZnVuY3Rpb24obyl7aWYoY29uc29sZS5sb2coImNyZWF0ZS1yZXNwb25zZTogIixvKSwyMDA9PT1vLmJvZHkuY29kZSl7dmFyIHM9by5ib2R5LnJlc291cmNlLGE9bmV3IHVbImRlZmF1bHQiXShuLHMsZSwib24iLHIsby5ib2R5LmNoaWxkcmVuUmVzb3VyY2VzKTtuLl9yZXBvcnRlcnNbc109YSx0KGEpfWVsc2UgaShvLmJvZHkuZGVzYyl9KX0pfX0se2tleToic3Vic2NyaWJlIix2YWx1ZTpmdW5jdGlvbihlLHQpe3ZhciByPXRoaXMsbj17dHlwZToic3Vic2NyaWJlIixmcm9tOnIuX293bmVyLHRvOnIuX3N1YlVSTCxib2R5OntzY2hlbWE6ZSxyZXNvdXJjZTp0fX07cmV0dXJuIG5ldyBpKGZ1bmN0aW9uKG8saSl7ci5fYnVzLnBvc3RNZXNzYWdlKG4sZnVuY3Rpb24obil7Y29uc29sZS5sb2coInN1YnNjcmliZS1yZXNwb25zZTogIixuKTt2YXIgcz1yLl9wcm92aXNpb25hbHNbdF07aWYoZGVsZXRlIHIuX3Byb3Zpc2lvbmFsc1t0XSxzJiZzLl9yZWxlYXNlTGlzdGVuZXJzKCksbi5ib2R5LmNvZGU8MjAwKXM9bmV3IHBbImRlZmF1bHQiXShyLl9vd25lcix0LHIuX2J1cyxuLmJvZHkuY2hpbGRyZW5SZXNvdXJjZXMpLHIuX3Byb3Zpc2lvbmFsc1t0XT1zO2Vsc2UgaWYoMjAwPT09bi5ib2R5LmNvZGUpe3ZhciBhPW5ldyBsWyJkZWZhdWx0Il0ocix0LGUsIm9uIixuLmJvZHkudmFsdWUscy5jaGlsZHJlbixuLmJvZHkudmVyc2lvbik7ci5fb2JzZXJ2ZXJzW3RdPWEsbyhhKSxzLmFwcGx5KGEpfWVsc2UgaShuLmJvZHkuZGVzYyl9KX0pfX0se2tleToib25Ob3RpZmljYXRpb24iLHZhbHVlOmZ1bmN0aW9uKGUpe3RoaXMuX29uTm90aWZpY2F0aW9uSGFuZGxlcj1lfX0se2tleToiX29uRm9yd2FyZCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPXQuX3JlcG9ydGVyc1tlLmJvZHkudG9dO3IuX29uRm9yd2FyZChlKX19LHtrZXk6Il9vblJlbW90ZUNyZWF0ZSIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxyPWUuZnJvbS5zbGljZSgwLC0xMyksbj17dHlwZTplLnR5cGUsZnJvbTplLmJvZHkuc291cmNlLHVybDpyLHNjaGVtYTplLmJvZHkuc2NoZW1hLHZhbHVlOmUuYm9keS52YWx1ZSxpZGVudGl0eTplLmJvZHkuaWRUb2tlbixhY2s6ZnVuY3Rpb24ocil7dmFyIG49MjAwO3ImJihuPXIpLHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOm59fSl9fTt0Ll9vbk5vdGlmaWNhdGlvbkhhbmRsZXImJihjb25zb2xlLmxvZygiTk9USUZJQ0FUSU9OLUVWRU5UOiAiLG4pLHQuX29uTm90aWZpY2F0aW9uSGFuZGxlcihuKSl9fSx7a2V5OiJfb25SZW1vdGVEZWxldGUiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMscj1lLmJvZHkucmVzb3VyY2Usbj10Ll9vYnNlcnZlcnNbcl07aWYobil7dmFyIG89e3R5cGU6ZS50eXBlLHVybDpyLGlkZW50aXR5OmUuYm9keS5pZFRva2VuLGFjazpmdW5jdGlvbihyKXt2YXIgbz0yMDA7ciYmKG89ciksMjAwPT09byYmblsiZGVsZXRlIl0oKSx0Ll9idXMucG9zdE1lc3NhZ2Uoe2lkOmUuaWQsdHlwZToicmVzcG9uc2UiLGZyb206ZS50byx0bzplLmZyb20sYm9keTp7Y29kZTpvLHNvdXJjZTp0Ll9vd25lcn19KX19O3QuX29uTm90aWZpY2F0aW9uSGFuZGxlciYmKGNvbnNvbGUubG9nKCJOT1RJRklDQVRJT04tRVZFTlQ6ICIsbyksdC5fb25Ob3RpZmljYXRpb25IYW5kbGVyKG8pKX1lbHNlIHQuX2J1cy5wb3N0TWVzc2FnZSh7aWQ6ZS5pZCx0eXBlOiJyZXNwb25zZSIsZnJvbTplLnRvLHRvOmUuZnJvbSxib2R5Ontjb2RlOjQwNCxzb3VyY2U6dC5fb3duZXJ9fSl9fSx7a2V5OiJvd25lciIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX293bmVyfX0se2tleToicmVwb3J0ZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcmVwb3J0ZXJzfX0se2tleToib2JzZXJ2ZXJzIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb2JzZXJ2ZXJzfX1dKSxlfSgpO3JbImRlZmF1bHQiXT1kLHQuZXhwb3J0cz1yWyJkZWZhdWx0Il19LHsiLi9EYXRhT2JqZWN0T2JzZXJ2ZXIiOjEzMSwiLi9EYXRhT2JqZWN0UmVwb3J0ZXIiOjEzMiwiLi9EYXRhUHJvdmlzaW9uYWwiOjEzMywiYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UiOjgsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzcy1jYWxsLWNoZWNrIjoxMSwiYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZS1jbGFzcyI6MTMsImJhYmVsLXJ1bnRpbWUvaGVscGVycy9pbnRlcm9wLXJlcXVpcmUtZGVmYXVsdCI6MTd9XSwxMzY6W2Z1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihlKXt2YXIgdD0vKFthLXpBLVotXSopOlwvXC8oPzpcLik/KFstYS16QS1aMC05QDolLl9cK34jPV17MiwyNTZ9KShbLWEtekEtWjAtOUA6JS5fXCt+Iz1cL10qKS9naSxyPSIkMSwkMiwkMyIsbj1lLnJlcGxhY2UodCxyKS5zcGxpdCgiLCIpO25bMF09PT1lJiYoblswXT0iaHR0cHMiLG5bMV09ZSk7dmFyIG89e3R5cGU6blswXSxkb21haW46blsxXSxpZGVudGl0eTpuWzJdfTtyZXR1cm4gb31mdW5jdGlvbiBvKGUpe3JldHVybiBlP0pTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpOnZvaWQgMH1PYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kaXZpZGVVUkw9bixyLmRlZXBDbG9uZT1vfSx7fV19LHt9LFsxMjhdKSgxMjgpfSk7Cn0pLmNhbGwodGhpcyx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHt9XSwxNjE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7Ci8vIHByb3RvdHlwZSBjbGFzcyBmb3IgaGFzaCBmdW5jdGlvbnMKZnVuY3Rpb24gSGFzaCAoYmxvY2tTaXplLCBmaW5hbFNpemUpIHsKICB0aGlzLl9ibG9jayA9IG5ldyBCdWZmZXIoYmxvY2tTaXplKQogIHRoaXMuX2ZpbmFsU2l6ZSA9IGZpbmFsU2l6ZQogIHRoaXMuX2Jsb2NrU2l6ZSA9IGJsb2NrU2l6ZQogIHRoaXMuX2xlbiA9IDAKICB0aGlzLl9zID0gMAp9CgpIYXNoLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoZGF0YSwgZW5jKSB7CiAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykgewogICAgZW5jID0gZW5jIHx8ICd1dGY4JwogICAgZGF0YSA9IG5ldyBCdWZmZXIoZGF0YSwgZW5jKQogIH0KCiAgdmFyIGwgPSB0aGlzLl9sZW4gKz0gZGF0YS5sZW5ndGgKICB2YXIgcyA9IHRoaXMuX3MgfHwgMAogIHZhciBmID0gMAogIHZhciBidWZmZXIgPSB0aGlzLl9ibG9jawoKICB3aGlsZSAocyA8IGwpIHsKICAgIHZhciB0ID0gTWF0aC5taW4oZGF0YS5sZW5ndGgsIGYgKyB0aGlzLl9ibG9ja1NpemUgLSAocyAlIHRoaXMuX2Jsb2NrU2l6ZSkpCiAgICB2YXIgY2ggPSAodCAtIGYpCgogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaDsgaSsrKSB7CiAgICAgIGJ1ZmZlclsocyAlIHRoaXMuX2Jsb2NrU2l6ZSkgKyBpXSA9IGRhdGFbaSArIGZdCiAgICB9CgogICAgcyArPSBjaAogICAgZiArPSBjaAoKICAgIGlmICgocyAlIHRoaXMuX2Jsb2NrU2l6ZSkgPT09IDApIHsKICAgICAgdGhpcy5fdXBkYXRlKGJ1ZmZlcikKICAgIH0KICB9CiAgdGhpcy5fcyA9IHMKCiAgcmV0dXJuIHRoaXMKfQoKSGFzaC5wcm90b3R5cGUuZGlnZXN0ID0gZnVuY3Rpb24gKGVuYykgewogIC8vIFN1cHBvc2UgdGhlIGxlbmd0aCBvZiB0aGUgbWVzc2FnZSBNLCBpbiBiaXRzLCBpcyBsCiAgdmFyIGwgPSB0aGlzLl9sZW4gKiA4CgogIC8vIEFwcGVuZCB0aGUgYml0IDEgdG8gdGhlIGVuZCBvZiB0aGUgbWVzc2FnZQogIHRoaXMuX2Jsb2NrW3RoaXMuX2xlbiAlIHRoaXMuX2Jsb2NrU2l6ZV0gPSAweDgwCgogIC8vIGFuZCB0aGVuIGsgemVybyBiaXRzLCB3aGVyZSBrIGlzIHRoZSBzbWFsbGVzdCBub24tbmVnYXRpdmUgc29sdXRpb24gdG8gdGhlIGVxdWF0aW9uIChsICsgMSArIGspID09PSBmaW5hbFNpemUgbW9kIGJsb2NrU2l6ZQogIHRoaXMuX2Jsb2NrLmZpbGwoMCwgdGhpcy5fbGVuICUgdGhpcy5fYmxvY2tTaXplICsgMSkKCiAgaWYgKGwgJSAodGhpcy5fYmxvY2tTaXplICogOCkgPj0gdGhpcy5fZmluYWxTaXplICogOCkgewogICAgdGhpcy5fdXBkYXRlKHRoaXMuX2Jsb2NrKQogICAgdGhpcy5fYmxvY2suZmlsbCgwKQogIH0KCiAgLy8gdG8gdGhpcyBhcHBlbmQgdGhlIGJsb2NrIHdoaWNoIGlzIGVxdWFsIHRvIHRoZSBudW1iZXIgbCB3cml0dGVuIGluIGJpbmFyeQogIC8vIFRPRE86IGhhbmRsZSBjYXNlIHdoZXJlIGwgaXMgPiBNYXRoLnBvdygyLCAyOSkKICB0aGlzLl9ibG9jay53cml0ZUludDMyQkUobCwgdGhpcy5fYmxvY2tTaXplIC0gNCkKCiAgdmFyIGhhc2ggPSB0aGlzLl91cGRhdGUodGhpcy5fYmxvY2spIHx8IHRoaXMuX2hhc2goKQoKICByZXR1cm4gZW5jID8gaGFzaC50b1N0cmluZyhlbmMpIDogaGFzaAp9CgpIYXNoLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKCkgewogIHRocm93IG5ldyBFcnJvcignX3VwZGF0ZSBtdXN0IGJlIGltcGxlbWVudGVkIGJ5IHN1YmNsYXNzJykKfQoKbW9kdWxlLmV4cG9ydHMgPSBIYXNoCgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiYnVmZmVyIjo3Nn1dLDE2MjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CnZhciBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBTSEEgKGFsZ29yaXRobSkgewogIGFsZ29yaXRobSA9IGFsZ29yaXRobS50b0xvd2VyQ2FzZSgpCgogIHZhciBBbGdvcml0aG0gPSBleHBvcnRzW2FsZ29yaXRobV0KICBpZiAoIUFsZ29yaXRobSkgdGhyb3cgbmV3IEVycm9yKGFsZ29yaXRobSArICcgaXMgbm90IHN1cHBvcnRlZCAod2UgYWNjZXB0IHB1bGwgcmVxdWVzdHMpJykKCiAgcmV0dXJuIG5ldyBBbGdvcml0aG0oKQp9CgpleHBvcnRzLnNoYSA9IHJlcXVpcmUoJy4vc2hhJykKZXhwb3J0cy5zaGExID0gcmVxdWlyZSgnLi9zaGExJykKZXhwb3J0cy5zaGEyMjQgPSByZXF1aXJlKCcuL3NoYTIyNCcpCmV4cG9ydHMuc2hhMjU2ID0gcmVxdWlyZSgnLi9zaGEyNTYnKQpleHBvcnRzLnNoYTM4NCA9IHJlcXVpcmUoJy4vc2hhMzg0JykKZXhwb3J0cy5zaGE1MTIgPSByZXF1aXJlKCcuL3NoYTUxMicpCgp9LHsiLi9zaGEiOjE2MywiLi9zaGExIjoxNjQsIi4vc2hhMjI0IjoxNjUsIi4vc2hhMjU2IjoxNjYsIi4vc2hhMzg0IjoxNjcsIi4vc2hhNTEyIjoxNjh9XSwxNjM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7Ci8qCiAqIEEgSmF2YVNjcmlwdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgU2VjdXJlIEhhc2ggQWxnb3JpdGhtLCBTSEEtMCwgYXMgZGVmaW5lZAogKiBpbiBGSVBTIFBVQiAxODAtMQogKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGRlcml2ZWQgZnJvbSBzaGExLmpzIG9mIHRoZSBzYW1lIHJlcG9zaXRvcnkuCiAqIFRoZSBkaWZmZXJlbmNlIGJldHdlZW4gU0hBLTAgYW5kIFNIQS0xIGlzIGp1c3QgYSBiaXR3aXNlIHJvdGF0ZSBsZWZ0CiAqIG9wZXJhdGlvbiB3YXMgYWRkZWQuCiAqLwoKdmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKQp2YXIgSGFzaCA9IHJlcXVpcmUoJy4vaGFzaCcpCgp2YXIgSyA9IFsKICAweDVhODI3OTk5LCAweDZlZDllYmExLCAweDhmMWJiY2RjIHwgMCwgMHhjYTYyYzFkNiB8IDAKXQoKdmFyIFcgPSBuZXcgQXJyYXkoODApCgpmdW5jdGlvbiBTaGEgKCkgewogIHRoaXMuaW5pdCgpCiAgdGhpcy5fdyA9IFcKCiAgSGFzaC5jYWxsKHRoaXMsIDY0LCA1NikKfQoKaW5oZXJpdHMoU2hhLCBIYXNoKQoKU2hhLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkgewogIHRoaXMuX2EgPSAweDY3NDUyMzAxCiAgdGhpcy5fYiA9IDB4ZWZjZGFiODkKICB0aGlzLl9jID0gMHg5OGJhZGNmZQogIHRoaXMuX2QgPSAweDEwMzI1NDc2CiAgdGhpcy5fZSA9IDB4YzNkMmUxZjAKCiAgcmV0dXJuIHRoaXMKfQoKZnVuY3Rpb24gcm90bDUgKG51bSkgewogIHJldHVybiAobnVtIDw8IDUpIHwgKG51bSA+Pj4gMjcpCn0KCmZ1bmN0aW9uIHJvdGwzMCAobnVtKSB7CiAgcmV0dXJuIChudW0gPDwgMzApIHwgKG51bSA+Pj4gMikKfQoKZnVuY3Rpb24gZnQgKHMsIGIsIGMsIGQpIHsKICBpZiAocyA9PT0gMCkgcmV0dXJuIChiICYgYykgfCAoKH5iKSAmIGQpCiAgaWYgKHMgPT09IDIpIHJldHVybiAoYiAmIGMpIHwgKGIgJiBkKSB8IChjICYgZCkKICByZXR1cm4gYiBeIGMgXiBkCn0KClNoYS5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIChNKSB7CiAgdmFyIFcgPSB0aGlzLl93CgogIHZhciBhID0gdGhpcy5fYSB8IDAKICB2YXIgYiA9IHRoaXMuX2IgfCAwCiAgdmFyIGMgPSB0aGlzLl9jIHwgMAogIHZhciBkID0gdGhpcy5fZCB8IDAKICB2YXIgZSA9IHRoaXMuX2UgfCAwCgogIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7ICsraSkgV1tpXSA9IE0ucmVhZEludDMyQkUoaSAqIDQpCiAgZm9yICg7IGkgPCA4MDsgKytpKSBXW2ldID0gV1tpIC0gM10gXiBXW2kgLSA4XSBeIFdbaSAtIDE0XSBeIFdbaSAtIDE2XQoKICBmb3IgKHZhciBqID0gMDsgaiA8IDgwOyArK2opIHsKICAgIHZhciBzID0gfn4oaiAvIDIwKQogICAgdmFyIHQgPSAocm90bDUoYSkgKyBmdChzLCBiLCBjLCBkKSArIGUgKyBXW2pdICsgS1tzXSkgfCAwCgogICAgZSA9IGQKICAgIGQgPSBjCiAgICBjID0gcm90bDMwKGIpCiAgICBiID0gYQogICAgYSA9IHQKICB9CgogIHRoaXMuX2EgPSAoYSArIHRoaXMuX2EpIHwgMAogIHRoaXMuX2IgPSAoYiArIHRoaXMuX2IpIHwgMAogIHRoaXMuX2MgPSAoYyArIHRoaXMuX2MpIHwgMAogIHRoaXMuX2QgPSAoZCArIHRoaXMuX2QpIHwgMAogIHRoaXMuX2UgPSAoZSArIHRoaXMuX2UpIHwgMAp9CgpTaGEucHJvdG90eXBlLl9oYXNoID0gZnVuY3Rpb24gKCkgewogIHZhciBIID0gbmV3IEJ1ZmZlcigyMCkKCiAgSC53cml0ZUludDMyQkUodGhpcy5fYSB8IDAsIDApCiAgSC53cml0ZUludDMyQkUodGhpcy5fYiB8IDAsIDQpCiAgSC53cml0ZUludDMyQkUodGhpcy5fYyB8IDAsIDgpCiAgSC53cml0ZUludDMyQkUodGhpcy5fZCB8IDAsIDEyKQogIEgud3JpdGVJbnQzMkJFKHRoaXMuX2UgfCAwLCAxNikKCiAgcmV0dXJuIEgKfQoKbW9kdWxlLmV4cG9ydHMgPSBTaGEKCn0pLmNhbGwodGhpcyxyZXF1aXJlKCJidWZmZXIiKS5CdWZmZXIpCn0seyIuL2hhc2giOjE2MSwiYnVmZmVyIjo3NiwiaW5oZXJpdHMiOjEyOH1dLDE2NDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKLyoKICogQSBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBTZWN1cmUgSGFzaCBBbGdvcml0aG0sIFNIQS0xLCBhcyBkZWZpbmVkCiAqIGluIEZJUFMgUFVCIDE4MC0xCiAqIFZlcnNpb24gMi4xYSBDb3B5cmlnaHQgUGF1bCBKb2huc3RvbiAyMDAwIC0gMjAwMi4KICogT3RoZXIgY29udHJpYnV0b3JzOiBHcmVnIEhvbHQsIEFuZHJldyBLZXBlcnQsIFlkbmFyLCBMb3N0aW5ldAogKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIExpY2Vuc2UKICogU2VlIGh0dHA6Ly9wYWpob21lLm9yZy51ay9jcnlwdC9tZDUgZm9yIGRldGFpbHMuCiAqLwoKdmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKQp2YXIgSGFzaCA9IHJlcXVpcmUoJy4vaGFzaCcpCgp2YXIgSyA9IFsKICAweDVhODI3OTk5LCAweDZlZDllYmExLCAweDhmMWJiY2RjIHwgMCwgMHhjYTYyYzFkNiB8IDAKXQoKdmFyIFcgPSBuZXcgQXJyYXkoODApCgpmdW5jdGlvbiBTaGExICgpIHsKICB0aGlzLmluaXQoKQogIHRoaXMuX3cgPSBXCgogIEhhc2guY2FsbCh0aGlzLCA2NCwgNTYpCn0KCmluaGVyaXRzKFNoYTEsIEhhc2gpCgpTaGExLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkgewogIHRoaXMuX2EgPSAweDY3NDUyMzAxCiAgdGhpcy5fYiA9IDB4ZWZjZGFiODkKICB0aGlzLl9jID0gMHg5OGJhZGNmZQogIHRoaXMuX2QgPSAweDEwMzI1NDc2CiAgdGhpcy5fZSA9IDB4YzNkMmUxZjAKCiAgcmV0dXJuIHRoaXMKfQoKZnVuY3Rpb24gcm90bDEgKG51bSkgewogIHJldHVybiAobnVtIDw8IDEpIHwgKG51bSA+Pj4gMzEpCn0KCmZ1bmN0aW9uIHJvdGw1IChudW0pIHsKICByZXR1cm4gKG51bSA8PCA1KSB8IChudW0gPj4+IDI3KQp9CgpmdW5jdGlvbiByb3RsMzAgKG51bSkgewogIHJldHVybiAobnVtIDw8IDMwKSB8IChudW0gPj4+IDIpCn0KCmZ1bmN0aW9uIGZ0IChzLCBiLCBjLCBkKSB7CiAgaWYgKHMgPT09IDApIHJldHVybiAoYiAmIGMpIHwgKCh+YikgJiBkKQogIGlmIChzID09PSAyKSByZXR1cm4gKGIgJiBjKSB8IChiICYgZCkgfCAoYyAmIGQpCiAgcmV0dXJuIGIgXiBjIF4gZAp9CgpTaGExLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKE0pIHsKICB2YXIgVyA9IHRoaXMuX3cKCiAgdmFyIGEgPSB0aGlzLl9hIHwgMAogIHZhciBiID0gdGhpcy5fYiB8IDAKICB2YXIgYyA9IHRoaXMuX2MgfCAwCiAgdmFyIGQgPSB0aGlzLl9kIHwgMAogIHZhciBlID0gdGhpcy5fZSB8IDAKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgKytpKSBXW2ldID0gTS5yZWFkSW50MzJCRShpICogNCkKICBmb3IgKDsgaSA8IDgwOyArK2kpIFdbaV0gPSByb3RsMShXW2kgLSAzXSBeIFdbaSAtIDhdIF4gV1tpIC0gMTRdIF4gV1tpIC0gMTZdKQoKICBmb3IgKHZhciBqID0gMDsgaiA8IDgwOyArK2opIHsKICAgIHZhciBzID0gfn4oaiAvIDIwKQogICAgdmFyIHQgPSAocm90bDUoYSkgKyBmdChzLCBiLCBjLCBkKSArIGUgKyBXW2pdICsgS1tzXSkgfCAwCgogICAgZSA9IGQKICAgIGQgPSBjCiAgICBjID0gcm90bDMwKGIpCiAgICBiID0gYQogICAgYSA9IHQKICB9CgogIHRoaXMuX2EgPSAoYSArIHRoaXMuX2EpIHwgMAogIHRoaXMuX2IgPSAoYiArIHRoaXMuX2IpIHwgMAogIHRoaXMuX2MgPSAoYyArIHRoaXMuX2MpIHwgMAogIHRoaXMuX2QgPSAoZCArIHRoaXMuX2QpIHwgMAogIHRoaXMuX2UgPSAoZSArIHRoaXMuX2UpIHwgMAp9CgpTaGExLnByb3RvdHlwZS5faGFzaCA9IGZ1bmN0aW9uICgpIHsKICB2YXIgSCA9IG5ldyBCdWZmZXIoMjApCgogIEgud3JpdGVJbnQzMkJFKHRoaXMuX2EgfCAwLCAwKQogIEgud3JpdGVJbnQzMkJFKHRoaXMuX2IgfCAwLCA0KQogIEgud3JpdGVJbnQzMkJFKHRoaXMuX2MgfCAwLCA4KQogIEgud3JpdGVJbnQzMkJFKHRoaXMuX2QgfCAwLCAxMikKICBILndyaXRlSW50MzJCRSh0aGlzLl9lIHwgMCwgMTYpCgogIHJldHVybiBICn0KCm1vZHVsZS5leHBvcnRzID0gU2hhMQoKfSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcikKfSx7Ii4vaGFzaCI6MTYxLCJidWZmZXIiOjc2LCJpbmhlcml0cyI6MTI4fV0sMTY1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChCdWZmZXIpewovKioKICogQSBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBTZWN1cmUgSGFzaCBBbGdvcml0aG0sIFNIQS0yNTYsIGFzIGRlZmluZWQKICogaW4gRklQUyAxODAtMgogKiBWZXJzaW9uIDIuMi1iZXRhIENvcHlyaWdodCBBbmdlbCBNYXJpbiwgUGF1bCBKb2huc3RvbiAyMDAwIC0gMjAwOS4KICogT3RoZXIgY29udHJpYnV0b3JzOiBHcmVnIEhvbHQsIEFuZHJldyBLZXBlcnQsIFlkbmFyLCBMb3N0aW5ldAogKgogKi8KCnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJykKdmFyIFNoYTI1NiA9IHJlcXVpcmUoJy4vc2hhMjU2JykKdmFyIEhhc2ggPSByZXF1aXJlKCcuL2hhc2gnKQoKdmFyIFcgPSBuZXcgQXJyYXkoNjQpCgpmdW5jdGlvbiBTaGEyMjQgKCkgewogIHRoaXMuaW5pdCgpCgogIHRoaXMuX3cgPSBXIC8vIG5ldyBBcnJheSg2NCkKCiAgSGFzaC5jYWxsKHRoaXMsIDY0LCA1NikKfQoKaW5oZXJpdHMoU2hhMjI0LCBTaGEyNTYpCgpTaGEyMjQucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbiAoKSB7CiAgdGhpcy5fYSA9IDB4YzEwNTllZDgKICB0aGlzLl9iID0gMHgzNjdjZDUwNwogIHRoaXMuX2MgPSAweDMwNzBkZDE3CiAgdGhpcy5fZCA9IDB4ZjcwZTU5MzkKICB0aGlzLl9lID0gMHhmZmMwMGIzMQogIHRoaXMuX2YgPSAweDY4NTgxNTExCiAgdGhpcy5fZyA9IDB4NjRmOThmYTcKICB0aGlzLl9oID0gMHhiZWZhNGZhNAoKICByZXR1cm4gdGhpcwp9CgpTaGEyMjQucHJvdG90eXBlLl9oYXNoID0gZnVuY3Rpb24gKCkgewogIHZhciBIID0gbmV3IEJ1ZmZlcigyOCkKCiAgSC53cml0ZUludDMyQkUodGhpcy5fYSwgMCkKICBILndyaXRlSW50MzJCRSh0aGlzLl9iLCA0KQogIEgud3JpdGVJbnQzMkJFKHRoaXMuX2MsIDgpCiAgSC53cml0ZUludDMyQkUodGhpcy5fZCwgMTIpCiAgSC53cml0ZUludDMyQkUodGhpcy5fZSwgMTYpCiAgSC53cml0ZUludDMyQkUodGhpcy5fZiwgMjApCiAgSC53cml0ZUludDMyQkUodGhpcy5fZywgMjQpCgogIHJldHVybiBICn0KCm1vZHVsZS5leHBvcnRzID0gU2hhMjI0Cgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiLi9oYXNoIjoxNjEsIi4vc2hhMjU2IjoxNjYsImJ1ZmZlciI6NzYsImluaGVyaXRzIjoxMjh9XSwxNjY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7Ci8qKgogKiBBIEphdmFTY3JpcHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIFNlY3VyZSBIYXNoIEFsZ29yaXRobSwgU0hBLTI1NiwgYXMgZGVmaW5lZAogKiBpbiBGSVBTIDE4MC0yCiAqIFZlcnNpb24gMi4yLWJldGEgQ29weXJpZ2h0IEFuZ2VsIE1hcmluLCBQYXVsIEpvaG5zdG9uIDIwMDAgLSAyMDA5LgogKiBPdGhlciBjb250cmlidXRvcnM6IEdyZWcgSG9sdCwgQW5kcmV3IEtlcGVydCwgWWRuYXIsIExvc3RpbmV0CiAqCiAqLwoKdmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKQp2YXIgSGFzaCA9IHJlcXVpcmUoJy4vaGFzaCcpCgp2YXIgSyA9IFsKICAweDQyOEEyRjk4LCAweDcxMzc0NDkxLCAweEI1QzBGQkNGLCAweEU5QjVEQkE1LAogIDB4Mzk1NkMyNUIsIDB4NTlGMTExRjEsIDB4OTIzRjgyQTQsIDB4QUIxQzVFRDUsCiAgMHhEODA3QUE5OCwgMHgxMjgzNUIwMSwgMHgyNDMxODVCRSwgMHg1NTBDN0RDMywKICAweDcyQkU1RDc0LCAweDgwREVCMUZFLCAweDlCREMwNkE3LCAweEMxOUJGMTc0LAogIDB4RTQ5QjY5QzEsIDB4RUZCRTQ3ODYsIDB4MEZDMTlEQzYsIDB4MjQwQ0ExQ0MsCiAgMHgyREU5MkM2RiwgMHg0QTc0ODRBQSwgMHg1Q0IwQTlEQywgMHg3NkY5ODhEQSwKICAweDk4M0U1MTUyLCAweEE4MzFDNjZELCAweEIwMDMyN0M4LCAweEJGNTk3RkM3LAogIDB4QzZFMDBCRjMsIDB4RDVBNzkxNDcsIDB4MDZDQTYzNTEsIDB4MTQyOTI5NjcsCiAgMHgyN0I3MEE4NSwgMHgyRTFCMjEzOCwgMHg0RDJDNkRGQywgMHg1MzM4MEQxMywKICAweDY1MEE3MzU0LCAweDc2NkEwQUJCLCAweDgxQzJDOTJFLCAweDkyNzIyQzg1LAogIDB4QTJCRkU4QTEsIDB4QTgxQTY2NEIsIDB4QzI0QjhCNzAsIDB4Qzc2QzUxQTMsCiAgMHhEMTkyRTgxOSwgMHhENjk5MDYyNCwgMHhGNDBFMzU4NSwgMHgxMDZBQTA3MCwKICAweDE5QTRDMTE2LCAweDFFMzc2QzA4LCAweDI3NDg3NzRDLCAweDM0QjBCQ0I1LAogIDB4MzkxQzBDQjMsIDB4NEVEOEFBNEEsIDB4NUI5Q0NBNEYsIDB4NjgyRTZGRjMsCiAgMHg3NDhGODJFRSwgMHg3OEE1NjM2RiwgMHg4NEM4NzgxNCwgMHg4Q0M3MDIwOCwKICAweDkwQkVGRkZBLCAweEE0NTA2Q0VCLCAweEJFRjlBM0Y3LCAweEM2NzE3OEYyCl0KCnZhciBXID0gbmV3IEFycmF5KDY0KQoKZnVuY3Rpb24gU2hhMjU2ICgpIHsKICB0aGlzLmluaXQoKQoKICB0aGlzLl93ID0gVyAvLyBuZXcgQXJyYXkoNjQpCgogIEhhc2guY2FsbCh0aGlzLCA2NCwgNTYpCn0KCmluaGVyaXRzKFNoYTI1NiwgSGFzaCkKClNoYTI1Ni5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHsKICB0aGlzLl9hID0gMHg2YTA5ZTY2NwogIHRoaXMuX2IgPSAweGJiNjdhZTg1CiAgdGhpcy5fYyA9IDB4M2M2ZWYzNzIKICB0aGlzLl9kID0gMHhhNTRmZjUzYQogIHRoaXMuX2UgPSAweDUxMGU1MjdmCiAgdGhpcy5fZiA9IDB4OWIwNTY4OGMKICB0aGlzLl9nID0gMHgxZjgzZDlhYgogIHRoaXMuX2ggPSAweDViZTBjZDE5CgogIHJldHVybiB0aGlzCn0KCmZ1bmN0aW9uIGNoICh4LCB5LCB6KSB7CiAgcmV0dXJuIHogXiAoeCAmICh5IF4geikpCn0KCmZ1bmN0aW9uIG1haiAoeCwgeSwgeikgewogIHJldHVybiAoeCAmIHkpIHwgKHogJiAoeCB8IHkpKQp9CgpmdW5jdGlvbiBzaWdtYTAgKHgpIHsKICByZXR1cm4gKHggPj4+IDIgfCB4IDw8IDMwKSBeICh4ID4+PiAxMyB8IHggPDwgMTkpIF4gKHggPj4+IDIyIHwgeCA8PCAxMCkKfQoKZnVuY3Rpb24gc2lnbWExICh4KSB7CiAgcmV0dXJuICh4ID4+PiA2IHwgeCA8PCAyNikgXiAoeCA+Pj4gMTEgfCB4IDw8IDIxKSBeICh4ID4+PiAyNSB8IHggPDwgNykKfQoKZnVuY3Rpb24gZ2FtbWEwICh4KSB7CiAgcmV0dXJuICh4ID4+PiA3IHwgeCA8PCAyNSkgXiAoeCA+Pj4gMTggfCB4IDw8IDE0KSBeICh4ID4+PiAzKQp9CgpmdW5jdGlvbiBnYW1tYTEgKHgpIHsKICByZXR1cm4gKHggPj4+IDE3IHwgeCA8PCAxNSkgXiAoeCA+Pj4gMTkgfCB4IDw8IDEzKSBeICh4ID4+PiAxMCkKfQoKU2hhMjU2LnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24gKE0pIHsKICB2YXIgVyA9IHRoaXMuX3cKCiAgdmFyIGEgPSB0aGlzLl9hIHwgMAogIHZhciBiID0gdGhpcy5fYiB8IDAKICB2YXIgYyA9IHRoaXMuX2MgfCAwCiAgdmFyIGQgPSB0aGlzLl9kIHwgMAogIHZhciBlID0gdGhpcy5fZSB8IDAKICB2YXIgZiA9IHRoaXMuX2YgfCAwCiAgdmFyIGcgPSB0aGlzLl9nIHwgMAogIHZhciBoID0gdGhpcy5faCB8IDAKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgKytpKSBXW2ldID0gTS5yZWFkSW50MzJCRShpICogNCkKICBmb3IgKDsgaSA8IDY0OyArK2kpIFdbaV0gPSAoZ2FtbWExKFdbaSAtIDJdKSArIFdbaSAtIDddICsgZ2FtbWEwKFdbaSAtIDE1XSkgKyBXW2kgLSAxNl0pIHwgMAoKICBmb3IgKHZhciBqID0gMDsgaiA8IDY0OyArK2opIHsKICAgIHZhciBUMSA9IChoICsgc2lnbWExKGUpICsgY2goZSwgZiwgZykgKyBLW2pdICsgV1tqXSkgfCAwCiAgICB2YXIgVDIgPSAoc2lnbWEwKGEpICsgbWFqKGEsIGIsIGMpKSB8IDAKCiAgICBoID0gZwogICAgZyA9IGYKICAgIGYgPSBlCiAgICBlID0gKGQgKyBUMSkgfCAwCiAgICBkID0gYwogICAgYyA9IGIKICAgIGIgPSBhCiAgICBhID0gKFQxICsgVDIpIHwgMAogIH0KCiAgdGhpcy5fYSA9IChhICsgdGhpcy5fYSkgfCAwCiAgdGhpcy5fYiA9IChiICsgdGhpcy5fYikgfCAwCiAgdGhpcy5fYyA9IChjICsgdGhpcy5fYykgfCAwCiAgdGhpcy5fZCA9IChkICsgdGhpcy5fZCkgfCAwCiAgdGhpcy5fZSA9IChlICsgdGhpcy5fZSkgfCAwCiAgdGhpcy5fZiA9IChmICsgdGhpcy5fZikgfCAwCiAgdGhpcy5fZyA9IChnICsgdGhpcy5fZykgfCAwCiAgdGhpcy5faCA9IChoICsgdGhpcy5faCkgfCAwCn0KClNoYTI1Ni5wcm90b3R5cGUuX2hhc2ggPSBmdW5jdGlvbiAoKSB7CiAgdmFyIEggPSBuZXcgQnVmZmVyKDMyKQoKICBILndyaXRlSW50MzJCRSh0aGlzLl9hLCAwKQogIEgud3JpdGVJbnQzMkJFKHRoaXMuX2IsIDQpCiAgSC53cml0ZUludDMyQkUodGhpcy5fYywgOCkKICBILndyaXRlSW50MzJCRSh0aGlzLl9kLCAxMikKICBILndyaXRlSW50MzJCRSh0aGlzLl9lLCAxNikKICBILndyaXRlSW50MzJCRSh0aGlzLl9mLCAyMCkKICBILndyaXRlSW50MzJCRSh0aGlzLl9nLCAyNCkKICBILndyaXRlSW50MzJCRSh0aGlzLl9oLCAyOCkKCiAgcmV0dXJuIEgKfQoKbW9kdWxlLmV4cG9ydHMgPSBTaGEyNTYKCn0pLmNhbGwodGhpcyxyZXF1aXJlKCJidWZmZXIiKS5CdWZmZXIpCn0seyIuL2hhc2giOjE2MSwiYnVmZmVyIjo3NiwiaW5oZXJpdHMiOjEyOH1dLDE2NzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKdmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKQp2YXIgU0hBNTEyID0gcmVxdWlyZSgnLi9zaGE1MTInKQp2YXIgSGFzaCA9IHJlcXVpcmUoJy4vaGFzaCcpCgp2YXIgVyA9IG5ldyBBcnJheSgxNjApCgpmdW5jdGlvbiBTaGEzODQgKCkgewogIHRoaXMuaW5pdCgpCiAgdGhpcy5fdyA9IFcKCiAgSGFzaC5jYWxsKHRoaXMsIDEyOCwgMTEyKQp9Cgppbmhlcml0cyhTaGEzODQsIFNIQTUxMikKClNoYTM4NC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHsKICB0aGlzLl9haCA9IDB4Y2JiYjlkNWQKICB0aGlzLl9iaCA9IDB4NjI5YTI5MmEKICB0aGlzLl9jaCA9IDB4OTE1OTAxNWEKICB0aGlzLl9kaCA9IDB4MTUyZmVjZDgKICB0aGlzLl9laCA9IDB4NjczMzI2NjcKICB0aGlzLl9maCA9IDB4OGViNDRhODcKICB0aGlzLl9naCA9IDB4ZGIwYzJlMGQKICB0aGlzLl9oaCA9IDB4NDdiNTQ4MWQKCiAgdGhpcy5fYWwgPSAweGMxMDU5ZWQ4CiAgdGhpcy5fYmwgPSAweDM2N2NkNTA3CiAgdGhpcy5fY2wgPSAweDMwNzBkZDE3CiAgdGhpcy5fZGwgPSAweGY3MGU1OTM5CiAgdGhpcy5fZWwgPSAweGZmYzAwYjMxCiAgdGhpcy5fZmwgPSAweDY4NTgxNTExCiAgdGhpcy5fZ2wgPSAweDY0Zjk4ZmE3CiAgdGhpcy5faGwgPSAweGJlZmE0ZmE0CgogIHJldHVybiB0aGlzCn0KClNoYTM4NC5wcm90b3R5cGUuX2hhc2ggPSBmdW5jdGlvbiAoKSB7CiAgdmFyIEggPSBuZXcgQnVmZmVyKDQ4KQoKICBmdW5jdGlvbiB3cml0ZUludDY0QkUgKGgsIGwsIG9mZnNldCkgewogICAgSC53cml0ZUludDMyQkUoaCwgb2Zmc2V0KQogICAgSC53cml0ZUludDMyQkUobCwgb2Zmc2V0ICsgNCkKICB9CgogIHdyaXRlSW50NjRCRSh0aGlzLl9haCwgdGhpcy5fYWwsIDApCiAgd3JpdGVJbnQ2NEJFKHRoaXMuX2JoLCB0aGlzLl9ibCwgOCkKICB3cml0ZUludDY0QkUodGhpcy5fY2gsIHRoaXMuX2NsLCAxNikKICB3cml0ZUludDY0QkUodGhpcy5fZGgsIHRoaXMuX2RsLCAyNCkKICB3cml0ZUludDY0QkUodGhpcy5fZWgsIHRoaXMuX2VsLCAzMikKICB3cml0ZUludDY0QkUodGhpcy5fZmgsIHRoaXMuX2ZsLCA0MCkKCiAgcmV0dXJuIEgKfQoKbW9kdWxlLmV4cG9ydHMgPSBTaGEzODQKCn0pLmNhbGwodGhpcyxyZXF1aXJlKCJidWZmZXIiKS5CdWZmZXIpCn0seyIuL2hhc2giOjE2MSwiLi9zaGE1MTIiOjE2OCwiYnVmZmVyIjo3NiwiaW5oZXJpdHMiOjEyOH1dLDE2ODpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAoQnVmZmVyKXsKdmFyIGluaGVyaXRzID0gcmVxdWlyZSgnaW5oZXJpdHMnKQp2YXIgSGFzaCA9IHJlcXVpcmUoJy4vaGFzaCcpCgp2YXIgSyA9IFsKICAweDQyOGEyZjk4LCAweGQ3MjhhZTIyLCAweDcxMzc0NDkxLCAweDIzZWY2NWNkLAogIDB4YjVjMGZiY2YsIDB4ZWM0ZDNiMmYsIDB4ZTliNWRiYTUsIDB4ODE4OWRiYmMsCiAgMHgzOTU2YzI1YiwgMHhmMzQ4YjUzOCwgMHg1OWYxMTFmMSwgMHhiNjA1ZDAxOSwKICAweDkyM2Y4MmE0LCAweGFmMTk0ZjliLCAweGFiMWM1ZWQ1LCAweGRhNmQ4MTE4LAogIDB4ZDgwN2FhOTgsIDB4YTMwMzAyNDIsIDB4MTI4MzViMDEsIDB4NDU3MDZmYmUsCiAgMHgyNDMxODViZSwgMHg0ZWU0YjI4YywgMHg1NTBjN2RjMywgMHhkNWZmYjRlMiwKICAweDcyYmU1ZDc0LCAweGYyN2I4OTZmLCAweDgwZGViMWZlLCAweDNiMTY5NmIxLAogIDB4OWJkYzA2YTcsIDB4MjVjNzEyMzUsIDB4YzE5YmYxNzQsIDB4Y2Y2OTI2OTQsCiAgMHhlNDliNjljMSwgMHg5ZWYxNGFkMiwgMHhlZmJlNDc4NiwgMHgzODRmMjVlMywKICAweDBmYzE5ZGM2LCAweDhiOGNkNWI1LCAweDI0MGNhMWNjLCAweDc3YWM5YzY1LAogIDB4MmRlOTJjNmYsIDB4NTkyYjAyNzUsIDB4NGE3NDg0YWEsIDB4NmVhNmU0ODMsCiAgMHg1Y2IwYTlkYywgMHhiZDQxZmJkNCwgMHg3NmY5ODhkYSwgMHg4MzExNTNiNSwKICAweDk4M2U1MTUyLCAweGVlNjZkZmFiLCAweGE4MzFjNjZkLCAweDJkYjQzMjEwLAogIDB4YjAwMzI3YzgsIDB4OThmYjIxM2YsIDB4YmY1OTdmYzcsIDB4YmVlZjBlZTQsCiAgMHhjNmUwMGJmMywgMHgzZGE4OGZjMiwgMHhkNWE3OTE0NywgMHg5MzBhYTcyNSwKICAweDA2Y2E2MzUxLCAweGUwMDM4MjZmLCAweDE0MjkyOTY3LCAweDBhMGU2ZTcwLAogIDB4MjdiNzBhODUsIDB4NDZkMjJmZmMsIDB4MmUxYjIxMzgsIDB4NWMyNmM5MjYsCiAgMHg0ZDJjNmRmYywgMHg1YWM0MmFlZCwgMHg1MzM4MGQxMywgMHg5ZDk1YjNkZiwKICAweDY1MGE3MzU0LCAweDhiYWY2M2RlLCAweDc2NmEwYWJiLCAweDNjNzdiMmE4LAogIDB4ODFjMmM5MmUsIDB4NDdlZGFlZTYsIDB4OTI3MjJjODUsIDB4MTQ4MjM1M2IsCiAgMHhhMmJmZThhMSwgMHg0Y2YxMDM2NCwgMHhhODFhNjY0YiwgMHhiYzQyMzAwMSwKICAweGMyNGI4YjcwLCAweGQwZjg5NzkxLCAweGM3NmM1MWEzLCAweDA2NTRiZTMwLAogIDB4ZDE5MmU4MTksIDB4ZDZlZjUyMTgsIDB4ZDY5OTA2MjQsIDB4NTU2NWE5MTAsCiAgMHhmNDBlMzU4NSwgMHg1NzcxMjAyYSwgMHgxMDZhYTA3MCwgMHgzMmJiZDFiOCwKICAweDE5YTRjMTE2LCAweGI4ZDJkMGM4LCAweDFlMzc2YzA4LCAweDUxNDFhYjUzLAogIDB4Mjc0ODc3NGMsIDB4ZGY4ZWViOTksIDB4MzRiMGJjYjUsIDB4ZTE5YjQ4YTgsCiAgMHgzOTFjMGNiMywgMHhjNWM5NWE2MywgMHg0ZWQ4YWE0YSwgMHhlMzQxOGFjYiwKICAweDViOWNjYTRmLCAweDc3NjNlMzczLCAweDY4MmU2ZmYzLCAweGQ2YjJiOGEzLAogIDB4NzQ4ZjgyZWUsIDB4NWRlZmIyZmMsIDB4NzhhNTYzNmYsIDB4NDMxNzJmNjAsCiAgMHg4NGM4NzgxNCwgMHhhMWYwYWI3MiwgMHg4Y2M3MDIwOCwgMHgxYTY0MzllYywKICAweDkwYmVmZmZhLCAweDIzNjMxZTI4LCAweGE0NTA2Y2ViLCAweGRlODJiZGU5LAogIDB4YmVmOWEzZjcsIDB4YjJjNjc5MTUsIDB4YzY3MTc4ZjIsIDB4ZTM3MjUzMmIsCiAgMHhjYTI3M2VjZSwgMHhlYTI2NjE5YywgMHhkMTg2YjhjNywgMHgyMWMwYzIwNywKICAweGVhZGE3ZGQ2LCAweGNkZTBlYjFlLCAweGY1N2Q0ZjdmLCAweGVlNmVkMTc4LAogIDB4MDZmMDY3YWEsIDB4NzIxNzZmYmEsIDB4MGE2MzdkYzUsIDB4YTJjODk4YTYsCiAgMHgxMTNmOTgwNCwgMHhiZWY5MGRhZSwgMHgxYjcxMGIzNSwgMHgxMzFjNDcxYiwKICAweDI4ZGI3N2Y1LCAweDIzMDQ3ZDg0LCAweDMyY2FhYjdiLCAweDQwYzcyNDkzLAogIDB4M2M5ZWJlMGEsIDB4MTVjOWJlYmMsIDB4NDMxZDY3YzQsIDB4OWMxMDBkNGMsCiAgMHg0Y2M1ZDRiZSwgMHhjYjNlNDJiNiwgMHg1OTdmMjk5YywgMHhmYzY1N2UyYSwKICAweDVmY2I2ZmFiLCAweDNhZDZmYWVjLCAweDZjNDQxOThjLCAweDRhNDc1ODE3Cl0KCnZhciBXID0gbmV3IEFycmF5KDE2MCkKCmZ1bmN0aW9uIFNoYTUxMiAoKSB7CiAgdGhpcy5pbml0KCkKICB0aGlzLl93ID0gVwoKICBIYXNoLmNhbGwodGhpcywgMTI4LCAxMTIpCn0KCmluaGVyaXRzKFNoYTUxMiwgSGFzaCkKClNoYTUxMi5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHsKICB0aGlzLl9haCA9IDB4NmEwOWU2NjcKICB0aGlzLl9iaCA9IDB4YmI2N2FlODUKICB0aGlzLl9jaCA9IDB4M2M2ZWYzNzIKICB0aGlzLl9kaCA9IDB4YTU0ZmY1M2EKICB0aGlzLl9laCA9IDB4NTEwZTUyN2YKICB0aGlzLl9maCA9IDB4OWIwNTY4OGMKICB0aGlzLl9naCA9IDB4MWY4M2Q5YWIKICB0aGlzLl9oaCA9IDB4NWJlMGNkMTkKCiAgdGhpcy5fYWwgPSAweGYzYmNjOTA4CiAgdGhpcy5fYmwgPSAweDg0Y2FhNzNiCiAgdGhpcy5fY2wgPSAweGZlOTRmODJiCiAgdGhpcy5fZGwgPSAweDVmMWQzNmYxCiAgdGhpcy5fZWwgPSAweGFkZTY4MmQxCiAgdGhpcy5fZmwgPSAweDJiM2U2YzFmCiAgdGhpcy5fZ2wgPSAweGZiNDFiZDZiCiAgdGhpcy5faGwgPSAweDEzN2UyMTc5CgogIHJldHVybiB0aGlzCn0KCmZ1bmN0aW9uIENoICh4LCB5LCB6KSB7CiAgcmV0dXJuIHogXiAoeCAmICh5IF4geikpCn0KCmZ1bmN0aW9uIG1haiAoeCwgeSwgeikgewogIHJldHVybiAoeCAmIHkpIHwgKHogJiAoeCB8IHkpKQp9CgpmdW5jdGlvbiBzaWdtYTAgKHgsIHhsKSB7CiAgcmV0dXJuICh4ID4+PiAyOCB8IHhsIDw8IDQpIF4gKHhsID4+PiAyIHwgeCA8PCAzMCkgXiAoeGwgPj4+IDcgfCB4IDw8IDI1KQp9CgpmdW5jdGlvbiBzaWdtYTEgKHgsIHhsKSB7CiAgcmV0dXJuICh4ID4+PiAxNCB8IHhsIDw8IDE4KSBeICh4ID4+PiAxOCB8IHhsIDw8IDE0KSBeICh4bCA+Pj4gOSB8IHggPDwgMjMpCn0KCmZ1bmN0aW9uIEdhbW1hMCAoeCwgeGwpIHsKICByZXR1cm4gKHggPj4+IDEgfCB4bCA8PCAzMSkgXiAoeCA+Pj4gOCB8IHhsIDw8IDI0KSBeICh4ID4+PiA3KQp9CgpmdW5jdGlvbiBHYW1tYTBsICh4LCB4bCkgewogIHJldHVybiAoeCA+Pj4gMSB8IHhsIDw8IDMxKSBeICh4ID4+PiA4IHwgeGwgPDwgMjQpIF4gKHggPj4+IDcgfCB4bCA8PCAyNSkKfQoKZnVuY3Rpb24gR2FtbWExICh4LCB4bCkgewogIHJldHVybiAoeCA+Pj4gMTkgfCB4bCA8PCAxMykgXiAoeGwgPj4+IDI5IHwgeCA8PCAzKSBeICh4ID4+PiA2KQp9CgpmdW5jdGlvbiBHYW1tYTFsICh4LCB4bCkgewogIHJldHVybiAoeCA+Pj4gMTkgfCB4bCA8PCAxMykgXiAoeGwgPj4+IDI5IHwgeCA8PCAzKSBeICh4ID4+PiA2IHwgeGwgPDwgMjYpCn0KCmZ1bmN0aW9uIGdldENhcnJ5IChhLCBiKSB7CiAgcmV0dXJuIChhID4+PiAwKSA8IChiID4+PiAwKSA/IDEgOiAwCn0KClNoYTUxMi5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uIChNKSB7CiAgdmFyIFcgPSB0aGlzLl93CgogIHZhciBhaCA9IHRoaXMuX2FoIHwgMAogIHZhciBiaCA9IHRoaXMuX2JoIHwgMAogIHZhciBjaCA9IHRoaXMuX2NoIHwgMAogIHZhciBkaCA9IHRoaXMuX2RoIHwgMAogIHZhciBlaCA9IHRoaXMuX2VoIHwgMAogIHZhciBmaCA9IHRoaXMuX2ZoIHwgMAogIHZhciBnaCA9IHRoaXMuX2doIHwgMAogIHZhciBoaCA9IHRoaXMuX2hoIHwgMAoKICB2YXIgYWwgPSB0aGlzLl9hbCB8IDAKICB2YXIgYmwgPSB0aGlzLl9ibCB8IDAKICB2YXIgY2wgPSB0aGlzLl9jbCB8IDAKICB2YXIgZGwgPSB0aGlzLl9kbCB8IDAKICB2YXIgZWwgPSB0aGlzLl9lbCB8IDAKICB2YXIgZmwgPSB0aGlzLl9mbCB8IDAKICB2YXIgZ2wgPSB0aGlzLl9nbCB8IDAKICB2YXIgaGwgPSB0aGlzLl9obCB8IDAKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCAzMjsgaSArPSAyKSB7CiAgICBXW2ldID0gTS5yZWFkSW50MzJCRShpICogNCkKICAgIFdbaSArIDFdID0gTS5yZWFkSW50MzJCRShpICogNCArIDQpCiAgfQogIGZvciAoOyBpIDwgMTYwOyBpICs9IDIpIHsKICAgIHZhciB4aCA9IFdbaSAtIDE1ICogMl0KICAgIHZhciB4bCA9IFdbaSAtIDE1ICogMiArIDFdCiAgICB2YXIgZ2FtbWEwID0gR2FtbWEwKHhoLCB4bCkKICAgIHZhciBnYW1tYTBsID0gR2FtbWEwbCh4bCwgeGgpCgogICAgeGggPSBXW2kgLSAyICogMl0KICAgIHhsID0gV1tpIC0gMiAqIDIgKyAxXQogICAgdmFyIGdhbW1hMSA9IEdhbW1hMSh4aCwgeGwpCiAgICB2YXIgZ2FtbWExbCA9IEdhbW1hMWwoeGwsIHhoKQoKICAgIC8vIFdbaV0gPSBnYW1tYTAgKyBXW2kgLSA3XSArIGdhbW1hMSArIFdbaSAtIDE2XQogICAgdmFyIFdpN2ggPSBXW2kgLSA3ICogMl0KICAgIHZhciBXaTdsID0gV1tpIC0gNyAqIDIgKyAxXQoKICAgIHZhciBXaTE2aCA9IFdbaSAtIDE2ICogMl0KICAgIHZhciBXaTE2bCA9IFdbaSAtIDE2ICogMiArIDFdCgogICAgdmFyIFdpbCA9IChnYW1tYTBsICsgV2k3bCkgfCAwCiAgICB2YXIgV2loID0gKGdhbW1hMCArIFdpN2ggKyBnZXRDYXJyeShXaWwsIGdhbW1hMGwpKSB8IDAKICAgIFdpbCA9IChXaWwgKyBnYW1tYTFsKSB8IDAKICAgIFdpaCA9IChXaWggKyBnYW1tYTEgKyBnZXRDYXJyeShXaWwsIGdhbW1hMWwpKSB8IDAKICAgIFdpbCA9IChXaWwgKyBXaTE2bCkgfCAwCiAgICBXaWggPSAoV2loICsgV2kxNmggKyBnZXRDYXJyeShXaWwsIFdpMTZsKSkgfCAwCgogICAgV1tpXSA9IFdpaAogICAgV1tpICsgMV0gPSBXaWwKICB9CgogIGZvciAodmFyIGogPSAwOyBqIDwgMTYwOyBqICs9IDIpIHsKICAgIFdpaCA9IFdbal0KICAgIFdpbCA9IFdbaiArIDFdCgogICAgdmFyIG1hamggPSBtYWooYWgsIGJoLCBjaCkKICAgIHZhciBtYWpsID0gbWFqKGFsLCBibCwgY2wpCgogICAgdmFyIHNpZ21hMGggPSBzaWdtYTAoYWgsIGFsKQogICAgdmFyIHNpZ21hMGwgPSBzaWdtYTAoYWwsIGFoKQogICAgdmFyIHNpZ21hMWggPSBzaWdtYTEoZWgsIGVsKQogICAgdmFyIHNpZ21hMWwgPSBzaWdtYTEoZWwsIGVoKQoKICAgIC8vIHQxID0gaCArIHNpZ21hMSArIGNoICsgS1tqXSArIFdbal0KICAgIHZhciBLaWggPSBLW2pdCiAgICB2YXIgS2lsID0gS1tqICsgMV0KCiAgICB2YXIgY2hoID0gQ2goZWgsIGZoLCBnaCkKICAgIHZhciBjaGwgPSBDaChlbCwgZmwsIGdsKQoKICAgIHZhciB0MWwgPSAoaGwgKyBzaWdtYTFsKSB8IDAKICAgIHZhciB0MWggPSAoaGggKyBzaWdtYTFoICsgZ2V0Q2FycnkodDFsLCBobCkpIHwgMAogICAgdDFsID0gKHQxbCArIGNobCkgfCAwCiAgICB0MWggPSAodDFoICsgY2hoICsgZ2V0Q2FycnkodDFsLCBjaGwpKSB8IDAKICAgIHQxbCA9ICh0MWwgKyBLaWwpIHwgMAogICAgdDFoID0gKHQxaCArIEtpaCArIGdldENhcnJ5KHQxbCwgS2lsKSkgfCAwCiAgICB0MWwgPSAodDFsICsgV2lsKSB8IDAKICAgIHQxaCA9ICh0MWggKyBXaWggKyBnZXRDYXJyeSh0MWwsIFdpbCkpIHwgMAoKICAgIC8vIHQyID0gc2lnbWEwICsgbWFqCiAgICB2YXIgdDJsID0gKHNpZ21hMGwgKyBtYWpsKSB8IDAKICAgIHZhciB0MmggPSAoc2lnbWEwaCArIG1hamggKyBnZXRDYXJyeSh0MmwsIHNpZ21hMGwpKSB8IDAKCiAgICBoaCA9IGdoCiAgICBobCA9IGdsCiAgICBnaCA9IGZoCiAgICBnbCA9IGZsCiAgICBmaCA9IGVoCiAgICBmbCA9IGVsCiAgICBlbCA9IChkbCArIHQxbCkgfCAwCiAgICBlaCA9IChkaCArIHQxaCArIGdldENhcnJ5KGVsLCBkbCkpIHwgMAogICAgZGggPSBjaAogICAgZGwgPSBjbAogICAgY2ggPSBiaAogICAgY2wgPSBibAogICAgYmggPSBhaAogICAgYmwgPSBhbAogICAgYWwgPSAodDFsICsgdDJsKSB8IDAKICAgIGFoID0gKHQxaCArIHQyaCArIGdldENhcnJ5KGFsLCB0MWwpKSB8IDAKICB9CgogIHRoaXMuX2FsID0gKHRoaXMuX2FsICsgYWwpIHwgMAogIHRoaXMuX2JsID0gKHRoaXMuX2JsICsgYmwpIHwgMAogIHRoaXMuX2NsID0gKHRoaXMuX2NsICsgY2wpIHwgMAogIHRoaXMuX2RsID0gKHRoaXMuX2RsICsgZGwpIHwgMAogIHRoaXMuX2VsID0gKHRoaXMuX2VsICsgZWwpIHwgMAogIHRoaXMuX2ZsID0gKHRoaXMuX2ZsICsgZmwpIHwgMAogIHRoaXMuX2dsID0gKHRoaXMuX2dsICsgZ2wpIHwgMAogIHRoaXMuX2hsID0gKHRoaXMuX2hsICsgaGwpIHwgMAoKICB0aGlzLl9haCA9ICh0aGlzLl9haCArIGFoICsgZ2V0Q2FycnkodGhpcy5fYWwsIGFsKSkgfCAwCiAgdGhpcy5fYmggPSAodGhpcy5fYmggKyBiaCArIGdldENhcnJ5KHRoaXMuX2JsLCBibCkpIHwgMAogIHRoaXMuX2NoID0gKHRoaXMuX2NoICsgY2ggKyBnZXRDYXJyeSh0aGlzLl9jbCwgY2wpKSB8IDAKICB0aGlzLl9kaCA9ICh0aGlzLl9kaCArIGRoICsgZ2V0Q2FycnkodGhpcy5fZGwsIGRsKSkgfCAwCiAgdGhpcy5fZWggPSAodGhpcy5fZWggKyBlaCArIGdldENhcnJ5KHRoaXMuX2VsLCBlbCkpIHwgMAogIHRoaXMuX2ZoID0gKHRoaXMuX2ZoICsgZmggKyBnZXRDYXJyeSh0aGlzLl9mbCwgZmwpKSB8IDAKICB0aGlzLl9naCA9ICh0aGlzLl9naCArIGdoICsgZ2V0Q2FycnkodGhpcy5fZ2wsIGdsKSkgfCAwCiAgdGhpcy5faGggPSAodGhpcy5faGggKyBoaCArIGdldENhcnJ5KHRoaXMuX2hsLCBobCkpIHwgMAp9CgpTaGE1MTIucHJvdG90eXBlLl9oYXNoID0gZnVuY3Rpb24gKCkgewogIHZhciBIID0gbmV3IEJ1ZmZlcig2NCkKCiAgZnVuY3Rpb24gd3JpdGVJbnQ2NEJFIChoLCBsLCBvZmZzZXQpIHsKICAgIEgud3JpdGVJbnQzMkJFKGgsIG9mZnNldCkKICAgIEgud3JpdGVJbnQzMkJFKGwsIG9mZnNldCArIDQpCiAgfQoKICB3cml0ZUludDY0QkUodGhpcy5fYWgsIHRoaXMuX2FsLCAwKQogIHdyaXRlSW50NjRCRSh0aGlzLl9iaCwgdGhpcy5fYmwsIDgpCiAgd3JpdGVJbnQ2NEJFKHRoaXMuX2NoLCB0aGlzLl9jbCwgMTYpCiAgd3JpdGVJbnQ2NEJFKHRoaXMuX2RoLCB0aGlzLl9kbCwgMjQpCiAgd3JpdGVJbnQ2NEJFKHRoaXMuX2VoLCB0aGlzLl9lbCwgMzIpCiAgd3JpdGVJbnQ2NEJFKHRoaXMuX2ZoLCB0aGlzLl9mbCwgNDApCiAgd3JpdGVJbnQ2NEJFKHRoaXMuX2doLCB0aGlzLl9nbCwgNDgpCiAgd3JpdGVJbnQ2NEJFKHRoaXMuX2hoLCB0aGlzLl9obCwgNTYpCgogIHJldHVybiBICn0KCm1vZHVsZS5leHBvcnRzID0gU2hhNTEyCgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiLi9oYXNoIjoxNjEsImJ1ZmZlciI6NzYsImluaGVyaXRzIjoxMjh9XSwxNjk6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7ZnVuY3Rpb24gcShhKXt0aHJvdyBhO312YXIgcz12b2lkIDAsdT0hMTt2YXIgc2pjbD17Y2lwaGVyOnt9LGhhc2g6e30sa2V5ZXhjaGFuZ2U6e30sbW9kZTp7fSxtaXNjOnt9LGNvZGVjOnt9LGV4Y2VwdGlvbjp7Y29ycnVwdDpmdW5jdGlvbihhKXt0aGlzLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIkNPUlJVUFQ6ICIrdGhpcy5tZXNzYWdlfTt0aGlzLm1lc3NhZ2U9YX0saW52YWxpZDpmdW5jdGlvbihhKXt0aGlzLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIklOVkFMSUQ6ICIrdGhpcy5tZXNzYWdlfTt0aGlzLm1lc3NhZ2U9YX0sYnVnOmZ1bmN0aW9uKGEpe3RoaXMudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iQlVHOiAiK3RoaXMubWVzc2FnZX07dGhpcy5tZXNzYWdlPWF9LG5vdFJlYWR5OmZ1bmN0aW9uKGEpe3RoaXMudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iTk9UIFJFQURZOiAiK3RoaXMubWVzc2FnZX07dGhpcy5tZXNzYWdlPWF9fX07CiJ1bmRlZmluZWQiIT09dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz1zamNsKTsiZnVuY3Rpb24iPT09dHlwZW9mIGRlZmluZSYmZGVmaW5lKFtdLGZ1bmN0aW9uKCl7cmV0dXJuIHNqY2x9KTsKc2pjbC5jaXBoZXIuYWVzPWZ1bmN0aW9uKGEpe3RoaXMua1swXVswXVswXXx8dGhpcy5EKCk7dmFyIGIsYyxkLGUsZj10aGlzLmtbMF1bNF0sZz10aGlzLmtbMV07Yj1hLmxlbmd0aDt2YXIgaD0xOzQhPT1iJiYoNiE9PWImJjghPT1iKSYmcShuZXcgc2pjbC5leGNlcHRpb24uaW52YWxpZCgiaW52YWxpZCBhZXMga2V5IHNpemUiKSk7dGhpcy5iPVtkPWEuc2xpY2UoMCksZT1bXV07Zm9yKGE9YjthPDQqYisyODthKyspe2M9ZFthLTFdO2lmKDA9PT1hJWJ8fDg9PT1iJiY0PT09YSViKWM9ZltjPj4+MjRdPDwyNF5mW2M+PjE2JjI1NV08PDE2XmZbYz4+OCYyNTVdPDw4XmZbYyYyNTVdLDA9PT1hJWImJihjPWM8PDheYz4+PjI0Xmg8PDI0LGg9aDw8MV4yODMqKGg+PjcpKTtkW2FdPWRbYS1iXV5jfWZvcihiPTA7YTtiKyssYS0tKWM9ZFtiJjM/YTphLTRdLGVbYl09ND49YXx8ND5iP2M6Z1swXVtmW2M+Pj4yNF1dXmdbMV1bZltjPj4xNiYyNTVdXV5nWzJdW2ZbYz4+OCYyNTVdXV5nWzNdW2ZbYyYKMjU1XV19OwpzamNsLmNpcGhlci5hZXMucHJvdG90eXBlPXtlbmNyeXB0OmZ1bmN0aW9uKGEpe3JldHVybiB3KHRoaXMsYSwwKX0sZGVjcnlwdDpmdW5jdGlvbihhKXtyZXR1cm4gdyh0aGlzLGEsMSl9LGs6W1tbXSxbXSxbXSxbXSxbXV0sW1tdLFtdLFtdLFtdLFtdXV0sRDpmdW5jdGlvbigpe3ZhciBhPXRoaXMua1swXSxiPXRoaXMua1sxXSxjPWFbNF0sZD1iWzRdLGUsZixnLGg9W10sbD1bXSxrLG4sbSxwO2ZvcihlPTA7MHgxMDA+ZTtlKyspbFsoaFtlXT1lPDwxXjI4MyooZT4+NykpXmVdPWU7Zm9yKGY9Zz0wOyFjW2ZdO2ZePWt8fDEsZz1sW2ddfHwxKXttPWdeZzw8MV5nPDwyXmc8PDNeZzw8NDttPW0+PjhebSYyNTVeOTk7Y1tmXT1tO2RbbV09ZjtuPWhbZT1oW2s9aFtmXV1dO3A9MHgxMDEwMTAxKm5eMHgxMDAwMSplXjB4MTAxKmteMHgxMDEwMTAwKmY7bj0weDEwMSpoW21dXjB4MTAxMDEwMCptO2ZvcihlPTA7ND5lO2UrKylhW2VdW2ZdPW49bjw8MjRebj4+PjgsYltlXVttXT1wPXA8PDI0XnA+Pj44fWZvcihlPQowOzU+ZTtlKyspYVtlXT1hW2VdLnNsaWNlKDApLGJbZV09YltlXS5zbGljZSgwKX19OwpmdW5jdGlvbiB3KGEsYixjKXs0IT09Yi5sZW5ndGgmJnEobmV3IHNqY2wuZXhjZXB0aW9uLmludmFsaWQoImludmFsaWQgYWVzIGJsb2NrIHNpemUiKSk7dmFyIGQ9YS5iW2NdLGU9YlswXV5kWzBdLGY9YltjPzM6MV1eZFsxXSxnPWJbMl1eZFsyXTtiPWJbYz8xOjNdXmRbM107dmFyIGgsbCxrLG49ZC5sZW5ndGgvNC0yLG0scD00LHQ9WzAsMCwwLDBdO2g9YS5rW2NdO2E9aFswXTt2YXIgcj1oWzFdLHY9aFsyXSx5PWhbM10sej1oWzRdO2ZvcihtPTA7bTxuO20rKyloPWFbZT4+PjI0XV5yW2Y+PjE2JjI1NV1edltnPj44JjI1NV1eeVtiJjI1NV1eZFtwXSxsPWFbZj4+PjI0XV5yW2c+PjE2JjI1NV1edltiPj44JjI1NV1eeVtlJjI1NV1eZFtwKzFdLGs9YVtnPj4+MjRdXnJbYj4+MTYmMjU1XV52W2U+PjgmMjU1XV55W2YmMjU1XV5kW3ArMl0sYj1hW2I+Pj4yNF1ecltlPj4xNiYyNTVdXnZbZj4+OCYyNTVdXnlbZyYyNTVdXmRbcCszXSxwKz00LGU9aCxmPWwsZz1rO2ZvcihtPTA7ND4KbTttKyspdFtjPzMmLW06bV09eltlPj4+MjRdPDwyNF56W2Y+PjE2JjI1NV08PDE2XnpbZz4+OCYyNTVdPDw4XnpbYiYyNTVdXmRbcCsrXSxoPWUsZT1mLGY9ZyxnPWIsYj1oO3JldHVybiB0fQpzamNsLmJpdEFycmF5PXtiaXRTbGljZTpmdW5jdGlvbihhLGIsYyl7YT1zamNsLmJpdEFycmF5LlAoYS5zbGljZShiLzMyKSwzMi0oYiYzMSkpLnNsaWNlKDEpO3JldHVybiBjPT09cz9hOnNqY2wuYml0QXJyYXkuY2xhbXAoYSxjLWIpfSxleHRyYWN0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1NYXRoLmZsb29yKC1iLWMmMzEpO3JldHVybigoYitjLTFeYikmLTMyP2FbYi8zMnwwXTw8MzItZF5hW2IvMzIrMXwwXT4+PmQ6YVtiLzMyfDBdPj4+ZCkmKDE8PGMpLTF9LGNvbmNhdDpmdW5jdGlvbihhLGIpe2lmKDA9PT1hLmxlbmd0aHx8MD09PWIubGVuZ3RoKXJldHVybiBhLmNvbmNhdChiKTt2YXIgYz1hW2EubGVuZ3RoLTFdLGQ9c2pjbC5iaXRBcnJheS5nZXRQYXJ0aWFsKGMpO3JldHVybiAzMj09PWQ/YS5jb25jYXQoYik6c2pjbC5iaXRBcnJheS5QKGIsZCxjfDAsYS5zbGljZSgwLGEubGVuZ3RoLTEpKX0sYml0TGVuZ3RoOmZ1bmN0aW9uKGEpe3ZhciBiPWEubGVuZ3RoO3JldHVybiAwPT09CmI/MDozMiooYi0xKStzamNsLmJpdEFycmF5LmdldFBhcnRpYWwoYVtiLTFdKX0sY2xhbXA6ZnVuY3Rpb24oYSxiKXtpZigzMiphLmxlbmd0aDxiKXJldHVybiBhO2E9YS5zbGljZSgwLE1hdGguY2VpbChiLzMyKSk7dmFyIGM9YS5sZW5ndGg7YiY9MzE7MDxjJiZiJiYoYVtjLTFdPXNqY2wuYml0QXJyYXkucGFydGlhbChiLGFbYy0xXSYyMTQ3NDgzNjQ4Pj5iLTEsMSkpO3JldHVybiBhfSxwYXJ0aWFsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gMzI9PT1hP2I6KGM/YnwwOmI8PDMyLWEpKzB4MTAwMDAwMDAwMDAqYX0sZ2V0UGFydGlhbDpmdW5jdGlvbihhKXtyZXR1cm4gTWF0aC5yb3VuZChhLzB4MTAwMDAwMDAwMDApfHwzMn0sZXF1YWw6ZnVuY3Rpb24oYSxiKXtpZihzamNsLmJpdEFycmF5LmJpdExlbmd0aChhKSE9PXNqY2wuYml0QXJyYXkuYml0TGVuZ3RoKGIpKXJldHVybiB1O3ZhciBjPTAsZDtmb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWN8PWFbZF1eYltkXTtyZXR1cm4gMD09PQpjfSxQOmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlO2U9MDtmb3IoZD09PXMmJihkPVtdKTszMjw9YjtiLT0zMilkLnB1c2goYyksYz0wO2lmKDA9PT1iKXJldHVybiBkLmNvbmNhdChhKTtmb3IoZT0wO2U8YS5sZW5ndGg7ZSsrKWQucHVzaChjfGFbZV0+Pj5iKSxjPWFbZV08PDMyLWI7ZT1hLmxlbmd0aD9hW2EubGVuZ3RoLTFdOjA7YT1zamNsLmJpdEFycmF5LmdldFBhcnRpYWwoZSk7ZC5wdXNoKHNqY2wuYml0QXJyYXkucGFydGlhbChiK2EmMzEsMzI8YithP2M6ZC5wb3AoKSwxKSk7cmV0dXJuIGR9LGw6ZnVuY3Rpb24oYSxiKXtyZXR1cm5bYVswXV5iWzBdLGFbMV1eYlsxXSxhWzJdXmJbMl0sYVszXV5iWzNdXX0sYnl0ZXN3YXBNOmZ1bmN0aW9uKGEpe3ZhciBiLGM7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYiljPWFbYl0sYVtiXT1jPj4+MjR8Yz4+PjgmMHhmZjAwfChjJjB4ZmYwMCk8PDh8Yzw8MjQ7cmV0dXJuIGF9fTsKc2pjbC5jb2RlYy51dGY4U3RyaW5nPXtmcm9tQml0czpmdW5jdGlvbihhKXt2YXIgYj0iIixjPXNqY2wuYml0QXJyYXkuYml0TGVuZ3RoKGEpLGQsZTtmb3IoZD0wO2Q8Yy84O2QrKykwPT09KGQmMykmJihlPWFbZC80XSksYis9U3RyaW5nLmZyb21DaGFyQ29kZShlPj4+MjQpLGU8PD04O3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKGIpKX0sdG9CaXRzOmZ1bmN0aW9uKGEpe2E9dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGEpKTt2YXIgYj1bXSxjLGQ9MDtmb3IoYz0wO2M8YS5sZW5ndGg7YysrKWQ9ZDw8OHxhLmNoYXJDb2RlQXQoYyksMz09PShjJjMpJiYoYi5wdXNoKGQpLGQ9MCk7YyYzJiZiLnB1c2goc2pjbC5iaXRBcnJheS5wYXJ0aWFsKDgqKGMmMyksZCkpO3JldHVybiBifX07CnNqY2wuY29kZWMuaGV4PXtmcm9tQml0czpmdW5jdGlvbihhKXt2YXIgYj0iIixjO2ZvcihjPTA7YzxhLmxlbmd0aDtjKyspYis9KChhW2NdfDApKzB4ZjAwMDAwMDAwMDAwKS50b1N0cmluZygxNikuc3Vic3RyKDQpO3JldHVybiBiLnN1YnN0cigwLHNqY2wuYml0QXJyYXkuYml0TGVuZ3RoKGEpLzQpfSx0b0JpdHM6ZnVuY3Rpb24oYSl7dmFyIGIsYz1bXSxkO2E9YS5yZXBsYWNlKC9cc3wweC9nLCIiKTtkPWEubGVuZ3RoO2ErPSIwMDAwMDAwMCI7Zm9yKGI9MDtiPGEubGVuZ3RoO2IrPTgpYy5wdXNoKHBhcnNlSW50KGEuc3Vic3RyKGIsOCksMTYpXjApO3JldHVybiBzamNsLmJpdEFycmF5LmNsYW1wKGMsNCpkKX19OwpzamNsLmNvZGVjLmJhc2U2ND17SjoiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIsZnJvbUJpdHM6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPSIiLGU9MCxmPXNqY2wuY29kZWMuYmFzZTY0LkosZz0wLGg9c2pjbC5iaXRBcnJheS5iaXRMZW5ndGgoYSk7YyYmKGY9Zi5zdWJzdHIoMCw2MikrIi1fIik7Zm9yKGM9MDs2KmQubGVuZ3RoPGg7KWQrPWYuY2hhckF0KChnXmFbY10+Pj5lKT4+PjI2KSw2PmU/KGc9YVtjXTw8Ni1lLGUrPTI2LGMrKyk6KGc8PD02LGUtPTYpO2Zvcig7ZC5sZW5ndGgmMyYmIWI7KWQrPSI9IjtyZXR1cm4gZH0sdG9CaXRzOmZ1bmN0aW9uKGEsYil7YT1hLnJlcGxhY2UoL1xzfD0vZywiIik7dmFyIGM9W10sZCxlPTAsZj1zamNsLmNvZGVjLmJhc2U2NC5KLGc9MCxoO2ImJihmPWYuc3Vic3RyKDAsNjIpKyItXyIpO2ZvcihkPTA7ZDxhLmxlbmd0aDtkKyspaD1mLmluZGV4T2YoYS5jaGFyQXQoZCkpLAowPmgmJnEobmV3IHNqY2wuZXhjZXB0aW9uLmludmFsaWQoInRoaXMgaXNuJ3QgYmFzZTY0ISIpKSwyNjxlPyhlLT0yNixjLnB1c2goZ15oPj4+ZSksZz1oPDwzMi1lKTooZSs9NixnXj1oPDwzMi1lKTtlJjU2JiZjLnB1c2goc2pjbC5iaXRBcnJheS5wYXJ0aWFsKGUmNTYsZywxKSk7cmV0dXJuIGN9fTtzamNsLmNvZGVjLmJhc2U2NHVybD17ZnJvbUJpdHM6ZnVuY3Rpb24oYSl7cmV0dXJuIHNqY2wuY29kZWMuYmFzZTY0LmZyb21CaXRzKGEsMSwxKX0sdG9CaXRzOmZ1bmN0aW9uKGEpe3JldHVybiBzamNsLmNvZGVjLmJhc2U2NC50b0JpdHMoYSwxKX19O3NqY2wuaGFzaC5zaGEyNTY9ZnVuY3Rpb24oYSl7dGhpcy5iWzBdfHx0aGlzLkQoKTthPyh0aGlzLnI9YS5yLnNsaWNlKDApLHRoaXMubz1hLm8uc2xpY2UoMCksdGhpcy5oPWEuaCk6dGhpcy5yZXNldCgpfTtzamNsLmhhc2guc2hhMjU2Lmhhc2g9ZnVuY3Rpb24oYSl7cmV0dXJuKG5ldyBzamNsLmhhc2guc2hhMjU2KS51cGRhdGUoYSkuZmluYWxpemUoKX07CnNqY2wuaGFzaC5zaGEyNTYucHJvdG90eXBlPXtibG9ja1NpemU6NTEyLHJlc2V0OmZ1bmN0aW9uKCl7dGhpcy5yPXRoaXMuTi5zbGljZSgwKTt0aGlzLm89W107dGhpcy5oPTA7cmV0dXJuIHRoaXN9LHVwZGF0ZTpmdW5jdGlvbihhKXsic3RyaW5nIj09PXR5cGVvZiBhJiYoYT1zamNsLmNvZGVjLnV0ZjhTdHJpbmcudG9CaXRzKGEpKTt2YXIgYixjPXRoaXMubz1zamNsLmJpdEFycmF5LmNvbmNhdCh0aGlzLm8sYSk7Yj10aGlzLmg7YT10aGlzLmg9YitzamNsLmJpdEFycmF5LmJpdExlbmd0aChhKTtmb3IoYj01MTIrYiYtNTEyO2I8PWE7Yis9NTEyKXgodGhpcyxjLnNwbGljZSgwLDE2KSk7cmV0dXJuIHRoaXN9LGZpbmFsaXplOmZ1bmN0aW9uKCl7dmFyIGEsYj10aGlzLm8sYz10aGlzLnIsYj1zamNsLmJpdEFycmF5LmNvbmNhdChiLFtzamNsLmJpdEFycmF5LnBhcnRpYWwoMSwxKV0pO2ZvcihhPWIubGVuZ3RoKzI7YSYxNTthKyspYi5wdXNoKDApO2IucHVzaChNYXRoLmZsb29yKHRoaXMuaC8KNDI5NDk2NzI5NikpO2ZvcihiLnB1c2godGhpcy5ofDApO2IubGVuZ3RoOyl4KHRoaXMsYi5zcGxpY2UoMCwxNikpO3RoaXMucmVzZXQoKTtyZXR1cm4gY30sTjpbXSxiOltdLEQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3JldHVybiAweDEwMDAwMDAwMCooYS1NYXRoLmZsb29yKGEpKXwwfXZhciBiPTAsYz0yLGQ7YTpmb3IoOzY0PmI7YysrKXtmb3IoZD0yO2QqZDw9YztkKyspaWYoMD09PWMlZCljb250aW51ZSBhOzg+YiYmKHRoaXMuTltiXT1hKE1hdGgucG93KGMsMC41KSkpO3RoaXMuYltiXT1hKE1hdGgucG93KGMsMS8zKSk7YisrfX19OwpmdW5jdGlvbiB4KGEsYil7dmFyIGMsZCxlLGY9Yi5zbGljZSgwKSxnPWEucixoPWEuYixsPWdbMF0saz1nWzFdLG49Z1syXSxtPWdbM10scD1nWzRdLHQ9Z1s1XSxyPWdbNl0sdj1nWzddO2ZvcihjPTA7NjQ+YztjKyspMTY+Yz9kPWZbY106KGQ9ZltjKzEmMTVdLGU9ZltjKzE0JjE1XSxkPWZbYyYxNV09KGQ+Pj43XmQ+Pj4xOF5kPj4+M15kPDwyNV5kPDwxNCkrKGU+Pj4xN15lPj4+MTleZT4+PjEwXmU8PDE1XmU8PDEzKStmW2MmMTVdK2ZbYys5JjE1XXwwKSxkPWQrdisocD4+PjZecD4+PjExXnA+Pj4yNV5wPDwyNl5wPDwyMV5wPDw3KSsocl5wJih0XnIpKStoW2NdLHY9cixyPXQsdD1wLHA9bStkfDAsbT1uLG49ayxrPWwsbD1kKyhrJm5ebSYoa15uKSkrKGs+Pj4yXms+Pj4xM15rPj4+MjJeazw8MzBeazw8MTleazw8MTApfDA7Z1swXT1nWzBdK2x8MDtnWzFdPWdbMV0ra3wwO2dbMl09Z1syXStufDA7Z1szXT1nWzNdK218MDtnWzRdPWdbNF0rcHwwO2dbNV09Z1s1XSt0fDA7Z1s2XT0KZ1s2XStyfDA7Z1s3XT1nWzddK3Z8MH0Kc2pjbC5tb2RlLmNjbT17bmFtZToiY2NtIixlbmNyeXB0OmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZz1iLnNsaWNlKDApLGg9c2pjbC5iaXRBcnJheSxsPWguYml0TGVuZ3RoKGMpLzgsaz1oLmJpdExlbmd0aChnKS84O2U9ZXx8NjQ7ZD1kfHxbXTs3PmwmJnEobmV3IHNqY2wuZXhjZXB0aW9uLmludmFsaWQoImNjbTogaXYgbXVzdCBiZSBhdCBsZWFzdCA3IGJ5dGVzIikpO2ZvcihmPTI7ND5mJiZrPj4+OCpmO2YrKyk7ZjwxNS1sJiYoZj0xNS1sKTtjPWguY2xhbXAoYyw4KigxNS1mKSk7Yj1zamNsLm1vZGUuY2NtLkwoYSxiLGMsZCxlLGYpO2c9c2pjbC5tb2RlLmNjbS5wKGEsZyxjLGIsZSxmKTtyZXR1cm4gaC5jb25jYXQoZy5kYXRhLGcudGFnKX0sZGVjcnlwdDpmdW5jdGlvbihhLGIsYyxkLGUpe2U9ZXx8NjQ7ZD1kfHxbXTt2YXIgZj1zamNsLmJpdEFycmF5LGc9Zi5iaXRMZW5ndGgoYykvOCxoPWYuYml0TGVuZ3RoKGIpLGw9Zi5jbGFtcChiLGgtZSksaz1mLmJpdFNsaWNlKGIsCmgtZSksaD0oaC1lKS84Ozc+ZyYmcShuZXcgc2pjbC5leGNlcHRpb24uaW52YWxpZCgiY2NtOiBpdiBtdXN0IGJlIGF0IGxlYXN0IDcgYnl0ZXMiKSk7Zm9yKGI9Mjs0PmImJmg+Pj44KmI7YisrKTtiPDE1LWcmJihiPTE1LWcpO2M9Zi5jbGFtcChjLDgqKDE1LWIpKTtsPXNqY2wubW9kZS5jY20ucChhLGwsYyxrLGUsYik7YT1zamNsLm1vZGUuY2NtLkwoYSxsLmRhdGEsYyxkLGUsYik7Zi5lcXVhbChsLnRhZyxhKXx8cShuZXcgc2pjbC5leGNlcHRpb24uY29ycnVwdCgiY2NtOiB0YWcgZG9lc24ndCBtYXRjaCIpKTtyZXR1cm4gbC5kYXRhfSxMOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1bXSxoPXNqY2wuYml0QXJyYXksbD1oLmw7ZS89ODsoZSUyfHw0PmV8fDE2PGUpJiZxKG5ldyBzamNsLmV4Y2VwdGlvbi5pbnZhbGlkKCJjY206IGludmFsaWQgdGFnIGxlbmd0aCIpKTsoMHhmZmZmZmZmZjxkLmxlbmd0aHx8MHhmZmZmZmZmZjxiLmxlbmd0aCkmJnEobmV3IHNqY2wuZXhjZXB0aW9uLmJ1ZygiY2NtOiBjYW4ndCBkZWFsIHdpdGggNEdpQiBvciBtb3JlIGRhdGEiKSk7CmY9W2gucGFydGlhbCg4LChkLmxlbmd0aD82NDowKXxlLTI8PDJ8Zi0xKV07Zj1oLmNvbmNhdChmLGMpO2ZbM118PWguYml0TGVuZ3RoKGIpLzg7Zj1hLmVuY3J5cHQoZik7aWYoZC5sZW5ndGgpe2M9aC5iaXRMZW5ndGgoZCkvODs2NTI3OT49Yz9nPVtoLnBhcnRpYWwoMTYsYyldOjB4ZmZmZmZmZmY+PWMmJihnPWguY29uY2F0KFtoLnBhcnRpYWwoMTYsNjU1MzQpXSxbY10pKTtnPWguY29uY2F0KGcsZCk7Zm9yKGQ9MDtkPGcubGVuZ3RoO2QrPTQpZj1hLmVuY3J5cHQobChmLGcuc2xpY2UoZCxkKzQpLmNvbmNhdChbMCwwLDBdKSkpfWZvcihkPTA7ZDxiLmxlbmd0aDtkKz00KWY9YS5lbmNyeXB0KGwoZixiLnNsaWNlKGQsZCs0KS5jb25jYXQoWzAsMCwwXSkpKTtyZXR1cm4gaC5jbGFtcChmLDgqZSl9LHA6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnLGg9c2pjbC5iaXRBcnJheTtnPWgubDt2YXIgbD1iLmxlbmd0aCxrPWguYml0TGVuZ3RoKGIpO2M9aC5jb25jYXQoW2gucGFydGlhbCg4LApmLTEpXSxjKS5jb25jYXQoWzAsMCwwXSkuc2xpY2UoMCw0KTtkPWguYml0U2xpY2UoZyhkLGEuZW5jcnlwdChjKSksMCxlKTtpZighbClyZXR1cm57dGFnOmQsZGF0YTpbXX07Zm9yKGc9MDtnPGw7Zys9NCljWzNdKyssZT1hLmVuY3J5cHQoYyksYltnXV49ZVswXSxiW2crMV1ePWVbMV0sYltnKzJdXj1lWzJdLGJbZyszXV49ZVszXTtyZXR1cm57dGFnOmQsZGF0YTpoLmNsYW1wKGIsayl9fX07CnNqY2wubW9kZS5vY2IyPXtuYW1lOiJvY2IyIixlbmNyeXB0OmZ1bmN0aW9uKGEsYixjLGQsZSxmKXsxMjghPT1zamNsLmJpdEFycmF5LmJpdExlbmd0aChjKSYmcShuZXcgc2pjbC5leGNlcHRpb24uaW52YWxpZCgib2NiIGl2IG11c3QgYmUgMTI4IGJpdHMiKSk7dmFyIGcsaD1zamNsLm1vZGUub2NiMi5ILGw9c2pjbC5iaXRBcnJheSxrPWwubCxuPVswLDAsMCwwXTtjPWgoYS5lbmNyeXB0KGMpKTt2YXIgbSxwPVtdO2Q9ZHx8W107ZT1lfHw2NDtmb3IoZz0wO2crNDxiLmxlbmd0aDtnKz00KW09Yi5zbGljZShnLGcrNCksbj1rKG4sbSkscD1wLmNvbmNhdChrKGMsYS5lbmNyeXB0KGsoYyxtKSkpKSxjPWgoYyk7bT1iLnNsaWNlKGcpO2I9bC5iaXRMZW5ndGgobSk7Zz1hLmVuY3J5cHQoayhjLFswLDAsMCxiXSkpO209bC5jbGFtcChrKG0uY29uY2F0KFswLDAsMF0pLGcpLGIpO249ayhuLGsobS5jb25jYXQoWzAsMCwwXSksZykpO249YS5lbmNyeXB0KGsobixrKGMsaChjKSkpKTtkLmxlbmd0aCYmCihuPWsobixmP2Q6c2pjbC5tb2RlLm9jYjIucG1hYyhhLGQpKSk7cmV0dXJuIHAuY29uY2F0KGwuY29uY2F0KG0sbC5jbGFtcChuLGUpKSl9LGRlY3J5cHQ6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpezEyOCE9PXNqY2wuYml0QXJyYXkuYml0TGVuZ3RoKGMpJiZxKG5ldyBzamNsLmV4Y2VwdGlvbi5pbnZhbGlkKCJvY2IgaXYgbXVzdCBiZSAxMjggYml0cyIpKTtlPWV8fDY0O3ZhciBnPXNqY2wubW9kZS5vY2IyLkgsaD1zamNsLmJpdEFycmF5LGw9aC5sLGs9WzAsMCwwLDBdLG49ZyhhLmVuY3J5cHQoYykpLG0scCx0PXNqY2wuYml0QXJyYXkuYml0TGVuZ3RoKGIpLWUscj1bXTtkPWR8fFtdO2ZvcihjPTA7Yys0PHQvMzI7Yys9NCltPWwobixhLmRlY3J5cHQobChuLGIuc2xpY2UoYyxjKzQpKSkpLGs9bChrLG0pLHI9ci5jb25jYXQobSksbj1nKG4pO3A9dC0zMipjO209YS5lbmNyeXB0KGwobixbMCwwLDAscF0pKTttPWwobSxoLmNsYW1wKGIuc2xpY2UoYykscCkuY29uY2F0KFswLDAsMF0pKTsKaz1sKGssbSk7az1hLmVuY3J5cHQobChrLGwobixnKG4pKSkpO2QubGVuZ3RoJiYoaz1sKGssZj9kOnNqY2wubW9kZS5vY2IyLnBtYWMoYSxkKSkpO2guZXF1YWwoaC5jbGFtcChrLGUpLGguYml0U2xpY2UoYix0KSl8fHEobmV3IHNqY2wuZXhjZXB0aW9uLmNvcnJ1cHQoIm9jYjogdGFnIGRvZXNuJ3QgbWF0Y2giKSk7cmV0dXJuIHIuY29uY2F0KGguY2xhbXAobSxwKSl9LHBtYWM6ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPXNqY2wubW9kZS5vY2IyLkgsZT1zamNsLmJpdEFycmF5LGY9ZS5sLGc9WzAsMCwwLDBdLGg9YS5lbmNyeXB0KFswLDAsMCwwXSksaD1mKGgsZChkKGgpKSk7Zm9yKGM9MDtjKzQ8Yi5sZW5ndGg7Yys9NCloPWQoaCksZz1mKGcsYS5lbmNyeXB0KGYoaCxiLnNsaWNlKGMsYys0KSkpKTtjPWIuc2xpY2UoYyk7MTI4PmUuYml0TGVuZ3RoKGMpJiYoaD1mKGgsZChoKSksYz1lLmNvbmNhdChjLFstMjE0NzQ4MzY0OCwwLDAsMF0pKTtnPWYoZyxjKTtyZXR1cm4gYS5lbmNyeXB0KGYoZChmKGgsCmQoaCkpKSxnKSl9LEg6ZnVuY3Rpb24oYSl7cmV0dXJuW2FbMF08PDFeYVsxXT4+PjMxLGFbMV08PDFeYVsyXT4+PjMxLGFbMl08PDFeYVszXT4+PjMxLGFbM108PDFeMTM1KihhWzBdPj4+MzEpXX19OwpzamNsLm1vZGUuZ2NtPXtuYW1lOiJnY20iLGVuY3J5cHQ6ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1iLnNsaWNlKDApO2I9c2pjbC5iaXRBcnJheTtkPWR8fFtdO2E9c2pjbC5tb2RlLmdjbS5wKCEwLGEsZixkLGMsZXx8MTI4KTtyZXR1cm4gYi5jb25jYXQoYS5kYXRhLGEudGFnKX0sZGVjcnlwdDpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWIuc2xpY2UoMCksZz1zamNsLmJpdEFycmF5LGg9Zy5iaXRMZW5ndGgoZik7ZT1lfHwxMjg7ZD1kfHxbXTtlPD1oPyhiPWcuYml0U2xpY2UoZixoLWUpLGY9Zy5iaXRTbGljZShmLDAsaC1lKSk6KGI9ZixmPVtdKTthPXNqY2wubW9kZS5nY20ucCh1LGEsZixkLGMsZSk7Zy5lcXVhbChhLnRhZyxiKXx8cShuZXcgc2pjbC5leGNlcHRpb24uY29ycnVwdCgiZ2NtOiB0YWcgZG9lc24ndCBtYXRjaCIpKTtyZXR1cm4gYS5kYXRhfSxaOmZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZyxoPXNqY2wuYml0QXJyYXkubDtlPVswLDAsMCwwXTtmPWIuc2xpY2UoMCk7CmZvcihjPTA7MTI4PmM7YysrKXsoZD0wIT09KGFbTWF0aC5mbG9vcihjLzMyKV0mMTw8MzEtYyUzMikpJiYoZT1oKGUsZikpO2c9MCE9PShmWzNdJjEpO2ZvcihkPTM7MDxkO2QtLSlmW2RdPWZbZF0+Pj4xfChmW2QtMV0mMSk8PDMxO2ZbMF0+Pj49MTtnJiYoZlswXV49LTB4MWYwMDAwMDApfXJldHVybiBlfSxnOmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlPWMubGVuZ3RoO2I9Yi5zbGljZSgwKTtmb3IoZD0wO2Q8ZTtkKz00KWJbMF1ePTB4ZmZmZmZmZmYmY1tkXSxiWzFdXj0weGZmZmZmZmZmJmNbZCsxXSxiWzJdXj0weGZmZmZmZmZmJmNbZCsyXSxiWzNdXj0weGZmZmZmZmZmJmNbZCszXSxiPXNqY2wubW9kZS5nY20uWihiLGEpO3JldHVybiBifSxwOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZyxoLGwsayxuLG0scCx0LHI9c2pjbC5iaXRBcnJheTttPWMubGVuZ3RoO3A9ci5iaXRMZW5ndGgoYyk7dD1yLmJpdExlbmd0aChkKTtoPXIuYml0TGVuZ3RoKGUpO2c9Yi5lbmNyeXB0KFswLAowLDAsMF0pOzk2PT09aD8oZT1lLnNsaWNlKDApLGU9ci5jb25jYXQoZSxbMV0pKTooZT1zamNsLm1vZGUuZ2NtLmcoZyxbMCwwLDAsMF0sZSksZT1zamNsLm1vZGUuZ2NtLmcoZyxlLFswLDAsTWF0aC5mbG9vcihoLzB4MTAwMDAwMDAwKSxoJjB4ZmZmZmZmZmZdKSk7aD1zamNsLm1vZGUuZ2NtLmcoZyxbMCwwLDAsMF0sZCk7bj1lLnNsaWNlKDApO2Q9aC5zbGljZSgwKTthfHwoZD1zamNsLm1vZGUuZ2NtLmcoZyxoLGMpKTtmb3Ioaz0wO2s8bTtrKz00KW5bM10rKyxsPWIuZW5jcnlwdChuKSxjW2tdXj1sWzBdLGNbaysxXV49bFsxXSxjW2srMl1ePWxbMl0sY1trKzNdXj1sWzNdO2M9ci5jbGFtcChjLHApO2EmJihkPXNqY2wubW9kZS5nY20uZyhnLGgsYykpO2E9W01hdGguZmxvb3IodC8weDEwMDAwMDAwMCksdCYweGZmZmZmZmZmLE1hdGguZmxvb3IocC8weDEwMDAwMDAwMCkscCYweGZmZmZmZmZmXTtkPXNqY2wubW9kZS5nY20uZyhnLGQsYSk7bD1iLmVuY3J5cHQoZSk7ZFswXV49bFswXTsKZFsxXV49bFsxXTtkWzJdXj1sWzJdO2RbM11ePWxbM107cmV0dXJue3RhZzpyLmJpdFNsaWNlKGQsMCxmKSxkYXRhOmN9fX07c2pjbC5taXNjLmhtYWM9ZnVuY3Rpb24oYSxiKXt0aGlzLk09Yj1ifHxzamNsLmhhc2guc2hhMjU2O3ZhciBjPVtbXSxbXV0sZCxlPWIucHJvdG90eXBlLmJsb2NrU2l6ZS8zMjt0aGlzLm49W25ldyBiLG5ldyBiXTthLmxlbmd0aD5lJiYoYT1iLmhhc2goYSkpO2ZvcihkPTA7ZDxlO2QrKyljWzBdW2RdPWFbZF1eOTA5NTIyNDg2LGNbMV1bZF09YVtkXV4xNTQ5NTU2ODI4O3RoaXMublswXS51cGRhdGUoY1swXSk7dGhpcy5uWzFdLnVwZGF0ZShjWzFdKTt0aGlzLkc9bmV3IGIodGhpcy5uWzBdKX07CnNqY2wubWlzYy5obWFjLnByb3RvdHlwZS5lbmNyeXB0PXNqY2wubWlzYy5obWFjLnByb3RvdHlwZS5tYWM9ZnVuY3Rpb24oYSl7dGhpcy5RJiZxKG5ldyBzamNsLmV4Y2VwdGlvbi5pbnZhbGlkKCJlbmNyeXB0IG9uIGFscmVhZHkgdXBkYXRlZCBobWFjIGNhbGxlZCEiKSk7dGhpcy51cGRhdGUoYSk7cmV0dXJuIHRoaXMuZGlnZXN0KGEpfTtzamNsLm1pc2MuaG1hYy5wcm90b3R5cGUucmVzZXQ9ZnVuY3Rpb24oKXt0aGlzLkc9bmV3IHRoaXMuTSh0aGlzLm5bMF0pO3RoaXMuUT11fTtzamNsLm1pc2MuaG1hYy5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3RoaXMuUT0hMDt0aGlzLkcudXBkYXRlKGEpfTtzamNsLm1pc2MuaG1hYy5wcm90b3R5cGUuZGlnZXN0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5HLmZpbmFsaXplKCksYT0obmV3IHRoaXMuTSh0aGlzLm5bMV0pKS51cGRhdGUoYSkuZmluYWxpemUoKTt0aGlzLnJlc2V0KCk7cmV0dXJuIGF9OwpzamNsLm1pc2MucGJrZGYyPWZ1bmN0aW9uKGEsYixjLGQsZSl7Yz1jfHwxRTM7KDA+ZHx8MD5jKSYmcShzamNsLmV4Y2VwdGlvbi5pbnZhbGlkKCJpbnZhbGlkIHBhcmFtcyB0byBwYmtkZjIiKSk7InN0cmluZyI9PT10eXBlb2YgYSYmKGE9c2pjbC5jb2RlYy51dGY4U3RyaW5nLnRvQml0cyhhKSk7InN0cmluZyI9PT10eXBlb2YgYiYmKGI9c2pjbC5jb2RlYy51dGY4U3RyaW5nLnRvQml0cyhiKSk7ZT1lfHxzamNsLm1pc2MuaG1hYzthPW5ldyBlKGEpO3ZhciBmLGcsaCxsLGs9W10sbj1zamNsLmJpdEFycmF5O2ZvcihsPTE7MzIqay5sZW5ndGg8KGR8fDEpO2wrKyl7ZT1mPWEuZW5jcnlwdChuLmNvbmNhdChiLFtsXSkpO2ZvcihnPTE7ZzxjO2crKyl7Zj1hLmVuY3J5cHQoZik7Zm9yKGg9MDtoPGYubGVuZ3RoO2grKyllW2hdXj1mW2hdfWs9ay5jb25jYXQoZSl9ZCYmKGs9bi5jbGFtcChrLGQpKTtyZXR1cm4ga307CnNqY2wucHJuZz1mdW5jdGlvbihhKXt0aGlzLmM9W25ldyBzamNsLmhhc2guc2hhMjU2XTt0aGlzLmk9WzBdO3RoaXMuRj0wO3RoaXMucz17fTt0aGlzLkM9MDt0aGlzLks9e307dGhpcy5PPXRoaXMuZD10aGlzLmo9dGhpcy5XPTA7dGhpcy5iPVswLDAsMCwwLDAsMCwwLDBdO3RoaXMuZj1bMCwwLDAsMF07dGhpcy5BPXM7dGhpcy5CPWE7dGhpcy5xPXU7dGhpcy53PXtwcm9ncmVzczp7fSxzZWVkZWQ6e319O3RoaXMubT10aGlzLlY9MDt0aGlzLnQ9MTt0aGlzLnU9Mjt0aGlzLlM9MHgxMDAwMDt0aGlzLkk9WzAsNDgsNjQsOTYsMTI4LDE5MiwweDEwMCwzODQsNTEyLDc2OCwxMDI0XTt0aGlzLlQ9M0U0O3RoaXMuUj04MH07CnNqY2wucHJuZy5wcm90b3R5cGU9e3JhbmRvbVdvcmRzOmZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZDtkPXRoaXMuaXNSZWFkeShiKTt2YXIgZTtkPT09dGhpcy5tJiZxKG5ldyBzamNsLmV4Y2VwdGlvbi5ub3RSZWFkeSgiZ2VuZXJhdG9yIGlzbid0IHNlZWRlZCIpKTtpZihkJnRoaXMudSl7ZD0hKGQmdGhpcy50KTtlPVtdO3ZhciBmPTAsZzt0aGlzLk89ZVswXT0obmV3IERhdGUpLnZhbHVlT2YoKSt0aGlzLlQ7Zm9yKGc9MDsxNj5nO2crKyllLnB1c2goMHgxMDAwMDAwMDAqTWF0aC5yYW5kb20oKXwwKTtmb3IoZz0wO2c8dGhpcy5jLmxlbmd0aCYmIShlPWUuY29uY2F0KHRoaXMuY1tnXS5maW5hbGl6ZSgpKSxmKz10aGlzLmlbZ10sdGhpcy5pW2ddPTAsIWQmJnRoaXMuRiYxPDxnKTtnKyspO3RoaXMuRj49MTw8dGhpcy5jLmxlbmd0aCYmKHRoaXMuYy5wdXNoKG5ldyBzamNsLmhhc2guc2hhMjU2KSx0aGlzLmkucHVzaCgwKSk7dGhpcy5kLT1mO2Y+dGhpcy5qJiYodGhpcy5qPWYpO3RoaXMuRisrOwp0aGlzLmI9c2pjbC5oYXNoLnNoYTI1Ni5oYXNoKHRoaXMuYi5jb25jYXQoZSkpO3RoaXMuQT1uZXcgc2pjbC5jaXBoZXIuYWVzKHRoaXMuYik7Zm9yKGQ9MDs0PmQmJiEodGhpcy5mW2RdPXRoaXMuZltkXSsxfDAsdGhpcy5mW2RdKTtkKyspO31mb3IoZD0wO2Q8YTtkKz00KTA9PT0oZCsxKSV0aGlzLlMmJkEodGhpcyksZT1CKHRoaXMpLGMucHVzaChlWzBdLGVbMV0sZVsyXSxlWzNdKTtBKHRoaXMpO3JldHVybiBjLnNsaWNlKDAsYSl9LHNldERlZmF1bHRQYXJhbm9pYTpmdW5jdGlvbihhLGIpezA9PT1hJiYiU2V0dGluZyBwYXJhbm9pYT0wIHdpbGwgcnVpbiB5b3VyIHNlY3VyaXR5OyB1c2UgaXQgb25seSBmb3IgdGVzdGluZyIhPT1iJiZxKCJTZXR0aW5nIHBhcmFub2lhPTAgd2lsbCBydWluIHlvdXIgc2VjdXJpdHk7IHVzZSBpdCBvbmx5IGZvciB0ZXN0aW5nIik7dGhpcy5CPWF9LGFkZEVudHJvcHk6ZnVuY3Rpb24oYSxiLGMpe2M9Y3x8InVzZXIiO3ZhciBkLGUsZj0obmV3IERhdGUpLnZhbHVlT2YoKSwKZz10aGlzLnNbY10saD10aGlzLmlzUmVhZHkoKSxsPTA7ZD10aGlzLktbY107ZD09PXMmJihkPXRoaXMuS1tjXT10aGlzLlcrKyk7Zz09PXMmJihnPXRoaXMuc1tjXT0wKTt0aGlzLnNbY109KHRoaXMuc1tjXSsxKSV0aGlzLmMubGVuZ3RoO3N3aXRjaCh0eXBlb2YgYSl7Y2FzZSAibnVtYmVyIjpiPT09cyYmKGI9MSk7dGhpcy5jW2ddLnVwZGF0ZShbZCx0aGlzLkMrKywxLGIsZiwxLGF8MF0pO2JyZWFrO2Nhc2UgIm9iamVjdCI6Yz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSk7aWYoIltvYmplY3QgVWludDMyQXJyYXldIj09PWMpe2U9W107Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKyllLnB1c2goYVtjXSk7YT1lfWVsc2V7IltvYmplY3QgQXJyYXldIiE9PWMmJihsPTEpO2ZvcihjPTA7YzxhLmxlbmd0aCYmIWw7YysrKSJudW1iZXIiIT09dHlwZW9mIGFbY10mJihsPTEpfWlmKCFsKXtpZihiPT09cylmb3IoYz1iPTA7YzxhLmxlbmd0aDtjKyspZm9yKGU9YVtjXTswPGU7KWIrKywKZT4+Pj0xO3RoaXMuY1tnXS51cGRhdGUoW2QsdGhpcy5DKyssMixiLGYsYS5sZW5ndGhdLmNvbmNhdChhKSl9YnJlYWs7Y2FzZSAic3RyaW5nIjpiPT09cyYmKGI9YS5sZW5ndGgpO3RoaXMuY1tnXS51cGRhdGUoW2QsdGhpcy5DKyssMyxiLGYsYS5sZW5ndGhdKTt0aGlzLmNbZ10udXBkYXRlKGEpO2JyZWFrO2RlZmF1bHQ6bD0xfWwmJnEobmV3IHNqY2wuZXhjZXB0aW9uLmJ1ZygicmFuZG9tOiBhZGRFbnRyb3B5IG9ubHkgc3VwcG9ydHMgbnVtYmVyLCBhcnJheSBvZiBudW1iZXJzIG9yIHN0cmluZyIpKTt0aGlzLmlbZ10rPWI7dGhpcy5kKz1iO2g9PT10aGlzLm0mJih0aGlzLmlzUmVhZHkoKSE9PXRoaXMubSYmQygic2VlZGVkIixNYXRoLm1heCh0aGlzLmosdGhpcy5kKSksQygicHJvZ3Jlc3MiLHRoaXMuZ2V0UHJvZ3Jlc3MoKSkpfSxpc1JlYWR5OmZ1bmN0aW9uKGEpe2E9dGhpcy5JW2EhPT1zP2E6dGhpcy5CXTtyZXR1cm4gdGhpcy5qJiZ0aGlzLmo+PWE/dGhpcy5pWzBdPnRoaXMuUiYmCihuZXcgRGF0ZSkudmFsdWVPZigpPnRoaXMuTz90aGlzLnV8dGhpcy50OnRoaXMudDp0aGlzLmQ+PWE/dGhpcy51fHRoaXMubTp0aGlzLm19LGdldFByb2dyZXNzOmZ1bmN0aW9uKGEpe2E9dGhpcy5JW2E/YTp0aGlzLkJdO3JldHVybiB0aGlzLmo+PWE/MTp0aGlzLmQ+YT8xOnRoaXMuZC9hfSxzdGFydENvbGxlY3RvcnM6ZnVuY3Rpb24oKXt0aGlzLnF8fCh0aGlzLmE9e2xvYWRUaW1lQ29sbGVjdG9yOkQodGhpcyx0aGlzLmFhKSxtb3VzZUNvbGxlY3RvcjpEKHRoaXMsdGhpcy5iYSksa2V5Ym9hcmRDb2xsZWN0b3I6RCh0aGlzLHRoaXMuJCksYWNjZWxlcm9tZXRlckNvbGxlY3RvcjpEKHRoaXMsdGhpcy5VKSx0b3VjaENvbGxlY3RvcjpEKHRoaXMsdGhpcy5kYSl9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyPyh3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsdGhpcy5hLmxvYWRUaW1lQ29sbGVjdG9yLHUpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLHRoaXMuYS5tb3VzZUNvbGxlY3RvciwKdSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImtleXByZXNzIix0aGlzLmEua2V5Ym9hcmRDb2xsZWN0b3IsdSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoImRldmljZW1vdGlvbiIsdGhpcy5hLmFjY2VsZXJvbWV0ZXJDb2xsZWN0b3IsdSksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInRvdWNobW92ZSIsdGhpcy5hLnRvdWNoQ29sbGVjdG9yLHUpKTpkb2N1bWVudC5hdHRhY2hFdmVudD8oZG9jdW1lbnQuYXR0YWNoRXZlbnQoIm9ubG9hZCIsdGhpcy5hLmxvYWRUaW1lQ29sbGVjdG9yKSxkb2N1bWVudC5hdHRhY2hFdmVudCgib25tb3VzZW1vdmUiLHRoaXMuYS5tb3VzZUNvbGxlY3RvciksZG9jdW1lbnQuYXR0YWNoRXZlbnQoImtleXByZXNzIix0aGlzLmEua2V5Ym9hcmRDb2xsZWN0b3IpKTpxKG5ldyBzamNsLmV4Y2VwdGlvbi5idWcoImNhbid0IGF0dGFjaCBldmVudCIpKSx0aGlzLnE9ITApfSxzdG9wQ29sbGVjdG9yczpmdW5jdGlvbigpe3RoaXMucSYmKHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyPwood2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImxvYWQiLHRoaXMuYS5sb2FkVGltZUNvbGxlY3Rvcix1KSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIix0aGlzLmEubW91c2VDb2xsZWN0b3IsdSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImtleXByZXNzIix0aGlzLmEua2V5Ym9hcmRDb2xsZWN0b3IsdSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoImRldmljZW1vdGlvbiIsdGhpcy5hLmFjY2VsZXJvbWV0ZXJDb2xsZWN0b3IsdSksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInRvdWNobW92ZSIsdGhpcy5hLnRvdWNoQ29sbGVjdG9yLHUpKTpkb2N1bWVudC5kZXRhY2hFdmVudCYmKGRvY3VtZW50LmRldGFjaEV2ZW50KCJvbmxvYWQiLHRoaXMuYS5sb2FkVGltZUNvbGxlY3RvciksZG9jdW1lbnQuZGV0YWNoRXZlbnQoIm9ubW91c2Vtb3ZlIix0aGlzLmEubW91c2VDb2xsZWN0b3IpLGRvY3VtZW50LmRldGFjaEV2ZW50KCJrZXlwcmVzcyIsCnRoaXMuYS5rZXlib2FyZENvbGxlY3RvcikpLHRoaXMucT11KX0sYWRkRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihhLGIpe3RoaXMud1thXVt0aGlzLlYrK109Yn0scmVtb3ZlRXZlbnRMaXN0ZW5lcjpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZT10aGlzLndbYV0sZj1bXTtmb3IoZCBpbiBlKWUuaGFzT3duUHJvcGVydHkoZCkmJmVbZF09PT1iJiZmLnB1c2goZCk7Zm9yKGM9MDtjPGYubGVuZ3RoO2MrKylkPWZbY10sZGVsZXRlIGVbZF19LCQ6ZnVuY3Rpb24oKXtFKDEpfSxiYTpmdW5jdGlvbihhKXt2YXIgYixjO3RyeXtiPWEueHx8YS5jbGllbnRYfHxhLm9mZnNldFh8fDAsYz1hLnl8fGEuY2xpZW50WXx8YS5vZmZzZXRZfHwwfWNhdGNoKGQpe2M9Yj0wfTAhPWImJjAhPWMmJnNqY2wucmFuZG9tLmFkZEVudHJvcHkoW2IsY10sMiwibW91c2UiKTtFKDApfSxkYTpmdW5jdGlvbihhKXthPWEudG91Y2hlc1swXXx8YS5jaGFuZ2VkVG91Y2hlc1swXTtzamNsLnJhbmRvbS5hZGRFbnRyb3B5KFthLnBhZ2VYfHwKYS5jbGllbnRYLGEucGFnZVl8fGEuY2xpZW50WV0sMSwidG91Y2giKTtFKDApfSxhYTpmdW5jdGlvbigpe0UoMil9LFU6ZnVuY3Rpb24oYSl7YT1hLmFjY2VsZXJhdGlvbkluY2x1ZGluZ0dyYXZpdHkueHx8YS5hY2NlbGVyYXRpb25JbmNsdWRpbmdHcmF2aXR5Lnl8fGEuYWNjZWxlcmF0aW9uSW5jbHVkaW5nR3Jhdml0eS56O2lmKHdpbmRvdy5vcmllbnRhdGlvbil7dmFyIGI9d2luZG93Lm9yaWVudGF0aW9uOyJudW1iZXIiPT09dHlwZW9mIGImJnNqY2wucmFuZG9tLmFkZEVudHJvcHkoYiwxLCJhY2NlbGVyb21ldGVyIil9YSYmc2pjbC5yYW5kb20uYWRkRW50cm9weShhLDIsImFjY2VsZXJvbWV0ZXIiKTtFKDApfX07ZnVuY3Rpb24gQyhhLGIpe3ZhciBjLGQ9c2pjbC5yYW5kb20ud1thXSxlPVtdO2ZvcihjIGluIGQpZC5oYXNPd25Qcm9wZXJ0eShjKSYmZS5wdXNoKGRbY10pO2ZvcihjPTA7YzxlLmxlbmd0aDtjKyspZVtjXShiKX0KZnVuY3Rpb24gRShhKXsidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5wZXJmb3JtYW5jZSYmImZ1bmN0aW9uIj09PXR5cGVvZiB3aW5kb3cucGVyZm9ybWFuY2Uubm93P3NqY2wucmFuZG9tLmFkZEVudHJvcHkod2luZG93LnBlcmZvcm1hbmNlLm5vdygpLGEsImxvYWR0aW1lIik6c2pjbC5yYW5kb20uYWRkRW50cm9weSgobmV3IERhdGUpLnZhbHVlT2YoKSxhLCJsb2FkdGltZSIpfWZ1bmN0aW9uIEEoYSl7YS5iPUIoYSkuY29uY2F0KEIoYSkpO2EuQT1uZXcgc2pjbC5jaXBoZXIuYWVzKGEuYil9ZnVuY3Rpb24gQihhKXtmb3IodmFyIGI9MDs0PmImJiEoYS5mW2JdPWEuZltiXSsxfDAsYS5mW2JdKTtiKyspO3JldHVybiBhLkEuZW5jcnlwdChhLmYpfWZ1bmN0aW9uIEQoYSxiKXtyZXR1cm4gZnVuY3Rpb24oKXtiLmFwcGx5KGEsYXJndW1lbnRzKX19c2pjbC5yYW5kb209bmV3IHNqY2wucHJuZyg2KTsKYTp0cnl7dmFyIEYsRyxILEk7aWYoST0idW5kZWZpbmVkIiE9PXR5cGVvZiBtb2R1bGUpe3ZhciBKO2lmKEo9bW9kdWxlLmV4cG9ydHMpe3ZhciBLO3RyeXtLPXJlcXVpcmUoImNyeXB0byIpfWNhdGNoKEwpe0s9bnVsbH1KPShHPUspJiZHLnJhbmRvbUJ5dGVzfUk9Sn1pZihJKUY9Ry5yYW5kb21CeXRlcygxMjgpLEY9bmV3IFVpbnQzMkFycmF5KChuZXcgVWludDhBcnJheShGKSkuYnVmZmVyKSxzamNsLnJhbmRvbS5hZGRFbnRyb3B5KEYsMTAyNCwiY3J5cHRvWydyYW5kb21CeXRlcyddIik7ZWxzZSBpZigidW5kZWZpbmVkIiE9PXR5cGVvZiB3aW5kb3cmJiJ1bmRlZmluZWQiIT09dHlwZW9mIFVpbnQzMkFycmF5KXtIPW5ldyBVaW50MzJBcnJheSgzMik7aWYod2luZG93LmNyeXB0byYmd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMpd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoSCk7ZWxzZSBpZih3aW5kb3cubXNDcnlwdG8mJndpbmRvdy5tc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMpd2luZG93Lm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyhIKTsKZWxzZSBicmVhayBhO3NqY2wucmFuZG9tLmFkZEVudHJvcHkoSCwxMDI0LCJjcnlwdG9bJ2dldFJhbmRvbVZhbHVlcyddIil9fWNhdGNoKE0peyJ1bmRlZmluZWQiIT09dHlwZW9mIHdpbmRvdyYmd2luZG93LmNvbnNvbGUmJihjb25zb2xlLmxvZygiVGhlcmUgd2FzIGFuIGVycm9yIGNvbGxlY3RpbmcgZW50cm9weSBmcm9tIHRoZSBicm93c2VyOiIpLGNvbnNvbGUubG9nKE0pKX0Kc2pjbC5qc29uPXtkZWZhdWx0czp7djoxLGl0ZXI6MUUzLGtzOjEyOCx0czo2NCxtb2RlOiJjY20iLGFkYXRhOiIiLGNpcGhlcjoiYWVzIn0sWTpmdW5jdGlvbihhLGIsYyxkKXtjPWN8fHt9O2Q9ZHx8e307dmFyIGU9c2pjbC5qc29uLGY9ZS5lKHtpdjpzamNsLnJhbmRvbS5yYW5kb21Xb3Jkcyg0LDApfSxlLmRlZmF1bHRzKSxnO2UuZShmLGMpO2M9Zi5hZGF0YTsic3RyaW5nIj09PXR5cGVvZiBmLnNhbHQmJihmLnNhbHQ9c2pjbC5jb2RlYy5iYXNlNjQudG9CaXRzKGYuc2FsdCkpOyJzdHJpbmciPT09dHlwZW9mIGYuaXYmJihmLml2PXNqY2wuY29kZWMuYmFzZTY0LnRvQml0cyhmLml2KSk7KCFzamNsLm1vZGVbZi5tb2RlXXx8IXNqY2wuY2lwaGVyW2YuY2lwaGVyXXx8InN0cmluZyI9PT10eXBlb2YgYSYmMTAwPj1mLml0ZXJ8fDY0IT09Zi50cyYmOTYhPT1mLnRzJiYxMjghPT1mLnRzfHwxMjghPT1mLmtzJiYxOTIhPT1mLmtzJiYweDEwMCE9PWYua3N8fDI+Zi5pdi5sZW5ndGh8fDQ8CmYuaXYubGVuZ3RoKSYmcShuZXcgc2pjbC5leGNlcHRpb24uaW52YWxpZCgianNvbiBlbmNyeXB0OiBpbnZhbGlkIHBhcmFtZXRlcnMiKSk7InN0cmluZyI9PT10eXBlb2YgYT8oZz1zamNsLm1pc2MuY2FjaGVkUGJrZGYyKGEsZiksYT1nLmtleS5zbGljZSgwLGYua3MvMzIpLGYuc2FsdD1nLnNhbHQpOnNqY2wuZWNjJiZhIGluc3RhbmNlb2Ygc2pjbC5lY2MuZWxHYW1hbC5wdWJsaWNLZXkmJihnPWEua2VtKCksZi5rZW10YWc9Zy50YWcsYT1nLmtleS5zbGljZSgwLGYua3MvMzIpKTsic3RyaW5nIj09PXR5cGVvZiBiJiYoYj1zamNsLmNvZGVjLnV0ZjhTdHJpbmcudG9CaXRzKGIpKTsic3RyaW5nIj09PXR5cGVvZiBjJiYoZi5hZGF0YT1jPXNqY2wuY29kZWMudXRmOFN0cmluZy50b0JpdHMoYykpO2c9bmV3IHNqY2wuY2lwaGVyW2YuY2lwaGVyXShhKTtlLmUoZCxmKTtkLmtleT1hO2YuY3Q9c2pjbC5tb2RlW2YubW9kZV0uZW5jcnlwdChnLGIsZi5pdixjLGYudHMpO3JldHVybiBmfSwKZW5jcnlwdDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1zamNsLmpzb24sZj1lLlkuYXBwbHkoZSxhcmd1bWVudHMpO3JldHVybiBlLmVuY29kZShmKX0sWDpmdW5jdGlvbihhLGIsYyxkKXtjPWN8fHt9O2Q9ZHx8e307dmFyIGU9c2pjbC5qc29uO2I9ZS5lKGUuZShlLmUoe30sZS5kZWZhdWx0cyksYiksYywhMCk7dmFyIGYsZztmPWIuYWRhdGE7InN0cmluZyI9PT10eXBlb2YgYi5zYWx0JiYoYi5zYWx0PXNqY2wuY29kZWMuYmFzZTY0LnRvQml0cyhiLnNhbHQpKTsic3RyaW5nIj09PXR5cGVvZiBiLml2JiYoYi5pdj1zamNsLmNvZGVjLmJhc2U2NC50b0JpdHMoYi5pdikpOyghc2pjbC5tb2RlW2IubW9kZV18fCFzamNsLmNpcGhlcltiLmNpcGhlcl18fCJzdHJpbmciPT09dHlwZW9mIGEmJjEwMD49Yi5pdGVyfHw2NCE9PWIudHMmJjk2IT09Yi50cyYmMTI4IT09Yi50c3x8MTI4IT09Yi5rcyYmMTkyIT09Yi5rcyYmMHgxMDAhPT1iLmtzfHwhYi5pdnx8Mj5iLml2Lmxlbmd0aHx8NDxiLml2Lmxlbmd0aCkmJgpxKG5ldyBzamNsLmV4Y2VwdGlvbi5pbnZhbGlkKCJqc29uIGRlY3J5cHQ6IGludmFsaWQgcGFyYW1ldGVycyIpKTsic3RyaW5nIj09PXR5cGVvZiBhPyhnPXNqY2wubWlzYy5jYWNoZWRQYmtkZjIoYSxiKSxhPWcua2V5LnNsaWNlKDAsYi5rcy8zMiksYi5zYWx0PWcuc2FsdCk6c2pjbC5lY2MmJmEgaW5zdGFuY2VvZiBzamNsLmVjYy5lbEdhbWFsLnNlY3JldEtleSYmKGE9YS51bmtlbShzamNsLmNvZGVjLmJhc2U2NC50b0JpdHMoYi5rZW10YWcpKS5zbGljZSgwLGIua3MvMzIpKTsic3RyaW5nIj09PXR5cGVvZiBmJiYoZj1zamNsLmNvZGVjLnV0ZjhTdHJpbmcudG9CaXRzKGYpKTtnPW5ldyBzamNsLmNpcGhlcltiLmNpcGhlcl0oYSk7Zj1zamNsLm1vZGVbYi5tb2RlXS5kZWNyeXB0KGcsYi5jdCxiLml2LGYsYi50cyk7ZS5lKGQsYik7ZC5rZXk9YTtyZXR1cm4gMT09PWMucmF3P2Y6c2pjbC5jb2RlYy51dGY4U3RyaW5nLmZyb21CaXRzKGYpfSxkZWNyeXB0OmZ1bmN0aW9uKGEsYiwKYyxkKXt2YXIgZT1zamNsLmpzb247cmV0dXJuIGUuWChhLGUuZGVjb2RlKGIpLGMsZCl9LGVuY29kZTpmdW5jdGlvbihhKXt2YXIgYixjPSJ7IixkPSIiO2ZvcihiIGluIGEpaWYoYS5oYXNPd25Qcm9wZXJ0eShiKSlzd2l0Y2goYi5tYXRjaCgvXlthLXowLTldKyQvaSl8fHEobmV3IHNqY2wuZXhjZXB0aW9uLmludmFsaWQoImpzb24gZW5jb2RlOiBpbnZhbGlkIHByb3BlcnR5IG5hbWUiKSksYys9ZCsnIicrYisnIjonLGQ9IiwiLHR5cGVvZiBhW2JdKXtjYXNlICJudW1iZXIiOmNhc2UgImJvb2xlYW4iOmMrPWFbYl07YnJlYWs7Y2FzZSAic3RyaW5nIjpjKz0nIicrZXNjYXBlKGFbYl0pKyciJzticmVhaztjYXNlICJvYmplY3QiOmMrPSciJytzamNsLmNvZGVjLmJhc2U2NC5mcm9tQml0cyhhW2JdLDApKyciJzticmVhaztkZWZhdWx0OnEobmV3IHNqY2wuZXhjZXB0aW9uLmJ1ZygianNvbiBlbmNvZGU6IHVuc3VwcG9ydGVkIHR5cGUiKSl9cmV0dXJuIGMrIn0ifSxkZWNvZGU6ZnVuY3Rpb24oYSl7YT0KYS5yZXBsYWNlKC9ccy9nLCIiKTthLm1hdGNoKC9eXHsuKlx9JC8pfHxxKG5ldyBzamNsLmV4Y2VwdGlvbi5pbnZhbGlkKCJqc29uIGRlY29kZTogdGhpcyBpc24ndCBqc29uISIpKTthPWEucmVwbGFjZSgvXlx7fFx9JC9nLCIiKS5zcGxpdCgvLC8pO3ZhciBiPXt9LGMsZDtmb3IoYz0wO2M8YS5sZW5ndGg7YysrKShkPWFbY10ubWF0Y2goL15ccyooPzooWyInXT8pKFthLXpdW2EtejAtOV0qKVwxKVxzKjpccyooPzooLT9cZCspfCIoW2EtejAtOStcLyUqXy5APVwtXSopInwodHJ1ZXxmYWxzZSkpJC9pKSl8fHEobmV3IHNqY2wuZXhjZXB0aW9uLmludmFsaWQoImpzb24gZGVjb2RlOiB0aGlzIGlzbid0IGpzb24hIikpLGRbM10/YltkWzJdXT1wYXJzZUludChkWzNdLDEwKTpkWzRdP2JbZFsyXV09ZFsyXS5tYXRjaCgvXihjdHxhZGF0YXxzYWx0fGl2KSQvKT9zamNsLmNvZGVjLmJhc2U2NC50b0JpdHMoZFs0XSk6dW5lc2NhcGUoZFs0XSk6ZFs1XSYmKGJbZFsyXV09InRydWUiPT09CmRbNV0pO3JldHVybiBifSxlOmZ1bmN0aW9uKGEsYixjKXthPT09cyYmKGE9e30pO2lmKGI9PT1zKXJldHVybiBhO2Zvcih2YXIgZCBpbiBiKWIuaGFzT3duUHJvcGVydHkoZCkmJihjJiYoYVtkXSE9PXMmJmFbZF0hPT1iW2RdKSYmcShuZXcgc2pjbC5leGNlcHRpb24uaW52YWxpZCgicmVxdWlyZWQgcGFyYW1ldGVyIG92ZXJyaWRkZW4iKSksYVtkXT1iW2RdKTtyZXR1cm4gYX0sZmE6ZnVuY3Rpb24oYSxiKXt2YXIgYz17fSxkO2ZvcihkIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShkKSYmYVtkXSE9PWJbZF0mJihjW2RdPWFbZF0pO3JldHVybiBjfSxlYTpmdW5jdGlvbihhLGIpe3ZhciBjPXt9LGQ7Zm9yKGQ9MDtkPGIubGVuZ3RoO2QrKylhW2JbZF1dIT09cyYmKGNbYltkXV09YVtiW2RdXSk7cmV0dXJuIGN9fTtzamNsLmVuY3J5cHQ9c2pjbC5qc29uLmVuY3J5cHQ7c2pjbC5kZWNyeXB0PXNqY2wuanNvbi5kZWNyeXB0O3NqY2wubWlzYy5jYT17fTsKc2pjbC5taXNjLmNhY2hlZFBia2RmMj1mdW5jdGlvbihhLGIpe3ZhciBjPXNqY2wubWlzYy5jYSxkO2I9Ynx8e307ZD1iLml0ZXJ8fDFFMztjPWNbYV09Y1thXXx8e307ZD1jW2RdPWNbZF18fHtmaXJzdFNhbHQ6Yi5zYWx0JiZiLnNhbHQubGVuZ3RoP2Iuc2FsdC5zbGljZSgwKTpzamNsLnJhbmRvbS5yYW5kb21Xb3JkcygyLDApfTtjPWIuc2FsdD09PXM/ZC5maXJzdFNhbHQ6Yi5zYWx0O2RbY109ZFtjXXx8c2pjbC5taXNjLnBia2RmMihhLGMsYi5pdGVyKTtyZXR1cm57a2V5OmRbY10uc2xpY2UoMCksc2FsdDpjLnNsaWNlKDApfX07Cgp9LHsiY3J5cHRvIjo4NX1dLDE3MDpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Ci8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLgovLwovLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYQovLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlCi8vICJTb2Z0d2FyZSIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcKLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLAovLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0Ci8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZQovLyBmb2xsb3dpbmcgY29uZGl0aW9uczoKLy8KLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQKLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCi8vCi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTCi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YKLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTgovLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwKLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SCi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUKLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS4KCm1vZHVsZS5leHBvcnRzID0gU3RyZWFtOwoKdmFyIEVFID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyOwp2YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpOwoKaW5oZXJpdHMoU3RyZWFtLCBFRSk7ClN0cmVhbS5SZWFkYWJsZSA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbS9yZWFkYWJsZS5qcycpOwpTdHJlYW0uV3JpdGFibGUgPSByZXF1aXJlKCdyZWFkYWJsZS1zdHJlYW0vd3JpdGFibGUuanMnKTsKU3RyZWFtLkR1cGxleCA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbS9kdXBsZXguanMnKTsKU3RyZWFtLlRyYW5zZm9ybSA9IHJlcXVpcmUoJ3JlYWRhYmxlLXN0cmVhbS90cmFuc2Zvcm0uanMnKTsKU3RyZWFtLlBhc3NUaHJvdWdoID0gcmVxdWlyZSgncmVhZGFibGUtc3RyZWFtL3Bhc3N0aHJvdWdoLmpzJyk7CgovLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjQueApTdHJlYW0uU3RyZWFtID0gU3RyZWFtOwoKCgovLyBvbGQtc3R5bGUgc3RyZWFtcy4gIE5vdGUgdGhhdCB0aGUgcGlwZSBtZXRob2QgKHRoZSBvbmx5IHJlbGV2YW50Ci8vIHBhcnQgb2YgdGhpcyBjbGFzcykgaXMgb3ZlcnJpZGRlbiBpbiB0aGUgUmVhZGFibGUgY2xhc3MuCgpmdW5jdGlvbiBTdHJlYW0oKSB7CiAgRUUuY2FsbCh0aGlzKTsKfQoKU3RyZWFtLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24oZGVzdCwgb3B0aW9ucykgewogIHZhciBzb3VyY2UgPSB0aGlzOwoKICBmdW5jdGlvbiBvbmRhdGEoY2h1bmspIHsKICAgIGlmIChkZXN0LndyaXRhYmxlKSB7CiAgICAgIGlmIChmYWxzZSA9PT0gZGVzdC53cml0ZShjaHVuaykgJiYgc291cmNlLnBhdXNlKSB7CiAgICAgICAgc291cmNlLnBhdXNlKCk7CiAgICAgIH0KICAgIH0KICB9CgogIHNvdXJjZS5vbignZGF0YScsIG9uZGF0YSk7CgogIGZ1bmN0aW9uIG9uZHJhaW4oKSB7CiAgICBpZiAoc291cmNlLnJlYWRhYmxlICYmIHNvdXJjZS5yZXN1bWUpIHsKICAgICAgc291cmNlLnJlc3VtZSgpOwogICAgfQogIH0KCiAgZGVzdC5vbignZHJhaW4nLCBvbmRyYWluKTsKCiAgLy8gSWYgdGhlICdlbmQnIG9wdGlvbiBpcyBub3Qgc3VwcGxpZWQsIGRlc3QuZW5kKCkgd2lsbCBiZSBjYWxsZWQgd2hlbgogIC8vIHNvdXJjZSBnZXRzIHRoZSAnZW5kJyBvciAnY2xvc2UnIGV2ZW50cy4gIE9ubHkgZGVzdC5lbmQoKSBvbmNlLgogIGlmICghZGVzdC5faXNTdGRpbyAmJiAoIW9wdGlvbnMgfHwgb3B0aW9ucy5lbmQgIT09IGZhbHNlKSkgewogICAgc291cmNlLm9uKCdlbmQnLCBvbmVuZCk7CiAgICBzb3VyY2Uub24oJ2Nsb3NlJywgb25jbG9zZSk7CiAgfQoKICB2YXIgZGlkT25FbmQgPSBmYWxzZTsKICBmdW5jdGlvbiBvbmVuZCgpIHsKICAgIGlmIChkaWRPbkVuZCkgcmV0dXJuOwogICAgZGlkT25FbmQgPSB0cnVlOwoKICAgIGRlc3QuZW5kKCk7CiAgfQoKCiAgZnVuY3Rpb24gb25jbG9zZSgpIHsKICAgIGlmIChkaWRPbkVuZCkgcmV0dXJuOwogICAgZGlkT25FbmQgPSB0cnVlOwoKICAgIGlmICh0eXBlb2YgZGVzdC5kZXN0cm95ID09PSAnZnVuY3Rpb24nKSBkZXN0LmRlc3Ryb3koKTsKICB9CgogIC8vIGRvbid0IGxlYXZlIGRhbmdsaW5nIHBpcGVzIHdoZW4gdGhlcmUgYXJlIGVycm9ycy4KICBmdW5jdGlvbiBvbmVycm9yKGVyKSB7CiAgICBjbGVhbnVwKCk7CiAgICBpZiAoRUUubGlzdGVuZXJDb3VudCh0aGlzLCAnZXJyb3InKSA9PT0gMCkgewogICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkIHN0cmVhbSBlcnJvciBpbiBwaXBlLgogICAgfQogIH0KCiAgc291cmNlLm9uKCdlcnJvcicsIG9uZXJyb3IpOwogIGRlc3Qub24oJ2Vycm9yJywgb25lcnJvcik7CgogIC8vIHJlbW92ZSBhbGwgdGhlIGV2ZW50IGxpc3RlbmVycyB0aGF0IHdlcmUgYWRkZWQuCiAgZnVuY3Rpb24gY2xlYW51cCgpIHsKICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignZGF0YScsIG9uZGF0YSk7CiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdkcmFpbicsIG9uZHJhaW4pOwoKICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignZW5kJywgb25lbmQpOwogICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uY2xvc2UpOwoKICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBvbmVycm9yKTsKICAgIGRlc3QucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgb25lcnJvcik7CgogICAgc291cmNlLnJlbW92ZUxpc3RlbmVyKCdlbmQnLCBjbGVhbnVwKTsKICAgIHNvdXJjZS5yZW1vdmVMaXN0ZW5lcignY2xvc2UnLCBjbGVhbnVwKTsKCiAgICBkZXN0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIGNsZWFudXApOwogIH0KCiAgc291cmNlLm9uKCdlbmQnLCBjbGVhbnVwKTsKICBzb3VyY2Uub24oJ2Nsb3NlJywgY2xlYW51cCk7CgogIGRlc3Qub24oJ2Nsb3NlJywgY2xlYW51cCk7CgogIGRlc3QuZW1pdCgncGlwZScsIHNvdXJjZSk7CgogIC8vIEFsbG93IGZvciB1bml4LWxpa2UgdXNhZ2U6IEEucGlwZShCKS5waXBlKEMpCiAgcmV0dXJuIGRlc3Q7Cn07Cgp9LHsiZXZlbnRzIjoxMTgsImluaGVyaXRzIjoxMjgsInJlYWRhYmxlLXN0cmVhbS9kdXBsZXguanMiOjE0OCwicmVhZGFibGUtc3RyZWFtL3Bhc3N0aHJvdWdoLmpzIjoxNTQsInJlYWRhYmxlLXN0cmVhbS9yZWFkYWJsZS5qcyI6MTU1LCJyZWFkYWJsZS1zdHJlYW0vdHJhbnNmb3JtLmpzIjoxNTYsInJlYWRhYmxlLXN0cmVhbS93cml0YWJsZS5qcyI6MTU3fV0sMTcxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuCi8vCi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhCi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUKLy8gIlNvZnR3YXJlIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZwovLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsCi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQKLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlCi8vIGZvbGxvd2luZyBjb25kaXRpb25zOgovLwovLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZAovLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KLy8KLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MKLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRgovLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOCi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLAovLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IKLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRQovLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLgoKdmFyIEJ1ZmZlciA9IHJlcXVpcmUoJ2J1ZmZlcicpLkJ1ZmZlcjsKCnZhciBpc0J1ZmZlckVuY29kaW5nID0gQnVmZmVyLmlzRW5jb2RpbmcKICB8fCBmdW5jdGlvbihlbmNvZGluZykgewogICAgICAgc3dpdGNoIChlbmNvZGluZyAmJiBlbmNvZGluZy50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgIGNhc2UgJ2hleCc6IGNhc2UgJ3V0ZjgnOiBjYXNlICd1dGYtOCc6IGNhc2UgJ2FzY2lpJzogY2FzZSAnYmluYXJ5JzogY2FzZSAnYmFzZTY0JzogY2FzZSAndWNzMic6IGNhc2UgJ3Vjcy0yJzogY2FzZSAndXRmMTZsZSc6IGNhc2UgJ3V0Zi0xNmxlJzogY2FzZSAncmF3JzogcmV0dXJuIHRydWU7CiAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTsKICAgICAgIH0KICAgICB9CgoKZnVuY3Rpb24gYXNzZXJ0RW5jb2RpbmcoZW5jb2RpbmcpIHsKICBpZiAoZW5jb2RpbmcgJiYgIWlzQnVmZmVyRW5jb2RpbmcoZW5jb2RpbmcpKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gZW5jb2Rpbmc6ICcgKyBlbmNvZGluZyk7CiAgfQp9CgovLyBTdHJpbmdEZWNvZGVyIHByb3ZpZGVzIGFuIGludGVyZmFjZSBmb3IgZWZmaWNpZW50bHkgc3BsaXR0aW5nIGEgc2VyaWVzIG9mCi8vIGJ1ZmZlcnMgaW50byBhIHNlcmllcyBvZiBKUyBzdHJpbmdzIHdpdGhvdXQgYnJlYWtpbmcgYXBhcnQgbXVsdGktYnl0ZQovLyBjaGFyYWN0ZXJzLiBDRVNVLTggaXMgaGFuZGxlZCBhcyBwYXJ0IG9mIHRoZSBVVEYtOCBlbmNvZGluZy4KLy8KLy8gQFRPRE8gSGFuZGxpbmcgYWxsIGVuY29kaW5ncyBpbnNpZGUgYSBzaW5nbGUgb2JqZWN0IG1ha2VzIGl0IHZlcnkgZGlmZmljdWx0Ci8vIHRvIHJlYXNvbiBhYm91dCB0aGlzIGNvZGUsIHNvIGl0IHNob3VsZCBiZSBzcGxpdCB1cCBpbiB0aGUgZnV0dXJlLgovLyBAVE9ETyBUaGVyZSBzaG91bGQgYmUgYSB1dGY4LXN0cmljdCBlbmNvZGluZyB0aGF0IHJlamVjdHMgaW52YWxpZCBVVEYtOCBjb2RlCi8vIHBvaW50cyBhcyB1c2VkIGJ5IENFU1UtOC4KdmFyIFN0cmluZ0RlY29kZXIgPSBleHBvcnRzLlN0cmluZ0RlY29kZXIgPSBmdW5jdGlvbihlbmNvZGluZykgewogIHRoaXMuZW5jb2RpbmcgPSAoZW5jb2RpbmcgfHwgJ3V0ZjgnKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1stX10vLCAnJyk7CiAgYXNzZXJ0RW5jb2RpbmcoZW5jb2RpbmcpOwogIHN3aXRjaCAodGhpcy5lbmNvZGluZykgewogICAgY2FzZSAndXRmOCc6CiAgICAgIC8vIENFU1UtOCByZXByZXNlbnRzIGVhY2ggb2YgU3Vycm9nYXRlIFBhaXIgYnkgMy1ieXRlcwogICAgICB0aGlzLnN1cnJvZ2F0ZVNpemUgPSAzOwogICAgICBicmVhazsKICAgIGNhc2UgJ3VjczInOgogICAgY2FzZSAndXRmMTZsZSc6CiAgICAgIC8vIFVURi0xNiByZXByZXNlbnRzIGVhY2ggb2YgU3Vycm9nYXRlIFBhaXIgYnkgMi1ieXRlcwogICAgICB0aGlzLnN1cnJvZ2F0ZVNpemUgPSAyOwogICAgICB0aGlzLmRldGVjdEluY29tcGxldGVDaGFyID0gdXRmMTZEZXRlY3RJbmNvbXBsZXRlQ2hhcjsKICAgICAgYnJlYWs7CiAgICBjYXNlICdiYXNlNjQnOgogICAgICAvLyBCYXNlLTY0IHN0b3JlcyAzIGJ5dGVzIGluIDQgY2hhcnMsIGFuZCBwYWRzIHRoZSByZW1haW5kZXIuCiAgICAgIHRoaXMuc3Vycm9nYXRlU2l6ZSA9IDM7CiAgICAgIHRoaXMuZGV0ZWN0SW5jb21wbGV0ZUNoYXIgPSBiYXNlNjREZXRlY3RJbmNvbXBsZXRlQ2hhcjsKICAgICAgYnJlYWs7CiAgICBkZWZhdWx0OgogICAgICB0aGlzLndyaXRlID0gcGFzc1Rocm91Z2hXcml0ZTsKICAgICAgcmV0dXJuOwogIH0KCiAgLy8gRW5vdWdoIHNwYWNlIHRvIHN0b3JlIGFsbCBieXRlcyBvZiBhIHNpbmdsZSBjaGFyYWN0ZXIuIFVURi04IG5lZWRzIDQKICAvLyBieXRlcywgYnV0IENFU1UtOCBtYXkgcmVxdWlyZSB1cCB0byA2ICgzIGJ5dGVzIHBlciBzdXJyb2dhdGUpLgogIHRoaXMuY2hhckJ1ZmZlciA9IG5ldyBCdWZmZXIoNik7CiAgLy8gTnVtYmVyIG9mIGJ5dGVzIHJlY2VpdmVkIGZvciB0aGUgY3VycmVudCBpbmNvbXBsZXRlIG11bHRpLWJ5dGUgY2hhcmFjdGVyLgogIHRoaXMuY2hhclJlY2VpdmVkID0gMDsKICAvLyBOdW1iZXIgb2YgYnl0ZXMgZXhwZWN0ZWQgZm9yIHRoZSBjdXJyZW50IGluY29tcGxldGUgbXVsdGktYnl0ZSBjaGFyYWN0ZXIuCiAgdGhpcy5jaGFyTGVuZ3RoID0gMDsKfTsKCgovLyB3cml0ZSBkZWNvZGVzIHRoZSBnaXZlbiBidWZmZXIgYW5kIHJldHVybnMgaXQgYXMgSlMgc3RyaW5nIHRoYXQgaXMKLy8gZ3VhcmFudGVlZCB0byBub3QgY29udGFpbiBhbnkgcGFydGlhbCBtdWx0aS1ieXRlIGNoYXJhY3RlcnMuIEFueSBwYXJ0aWFsCi8vIGNoYXJhY3RlciBmb3VuZCBhdCB0aGUgZW5kIG9mIHRoZSBidWZmZXIgaXMgYnVmZmVyZWQgdXAsIGFuZCB3aWxsIGJlCi8vIHJldHVybmVkIHdoZW4gY2FsbGluZyB3cml0ZSBhZ2FpbiB3aXRoIHRoZSByZW1haW5pbmcgYnl0ZXMuCi8vCi8vIE5vdGU6IENvbnZlcnRpbmcgYSBCdWZmZXIgY29udGFpbmluZyBhbiBvcnBoYW4gc3Vycm9nYXRlIHRvIGEgU3RyaW5nCi8vIGN1cnJlbnRseSB3b3JrcywgYnV0IGNvbnZlcnRpbmcgYSBTdHJpbmcgdG8gYSBCdWZmZXIgKHZpYSBgbmV3IEJ1ZmZlcmAsIG9yCi8vIEJ1ZmZlciN3cml0ZSkgd2lsbCByZXBsYWNlIGluY29tcGxldGUgc3Vycm9nYXRlcyB3aXRoIHRoZSB1bmljb2RlCi8vIHJlcGxhY2VtZW50IGNoYXJhY3Rlci4gU2VlIGh0dHBzOi8vY29kZXJldmlldy5jaHJvbWl1bS5vcmcvMTIxMTczMDA5LyAuClN0cmluZ0RlY29kZXIucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24oYnVmZmVyKSB7CiAgdmFyIGNoYXJTdHIgPSAnJzsKICAvLyBpZiBvdXIgbGFzdCB3cml0ZSBlbmRlZCB3aXRoIGFuIGluY29tcGxldGUgbXVsdGlieXRlIGNoYXJhY3RlcgogIHdoaWxlICh0aGlzLmNoYXJMZW5ndGgpIHsKICAgIC8vIGRldGVybWluZSBob3cgbWFueSByZW1haW5pbmcgYnl0ZXMgdGhpcyBidWZmZXIgaGFzIHRvIG9mZmVyIGZvciB0aGlzIGNoYXIKICAgIHZhciBhdmFpbGFibGUgPSAoYnVmZmVyLmxlbmd0aCA+PSB0aGlzLmNoYXJMZW5ndGggLSB0aGlzLmNoYXJSZWNlaXZlZCkgPwogICAgICAgIHRoaXMuY2hhckxlbmd0aCAtIHRoaXMuY2hhclJlY2VpdmVkIDoKICAgICAgICBidWZmZXIubGVuZ3RoOwoKICAgIC8vIGFkZCB0aGUgbmV3IGJ5dGVzIHRvIHRoZSBjaGFyIGJ1ZmZlcgogICAgYnVmZmVyLmNvcHkodGhpcy5jaGFyQnVmZmVyLCB0aGlzLmNoYXJSZWNlaXZlZCwgMCwgYXZhaWxhYmxlKTsKICAgIHRoaXMuY2hhclJlY2VpdmVkICs9IGF2YWlsYWJsZTsKCiAgICBpZiAodGhpcy5jaGFyUmVjZWl2ZWQgPCB0aGlzLmNoYXJMZW5ndGgpIHsKICAgICAgLy8gc3RpbGwgbm90IGVub3VnaCBjaGFycyBpbiB0aGlzIGJ1ZmZlcj8gd2FpdCBmb3IgbW9yZSAuLi4KICAgICAgcmV0dXJuICcnOwogICAgfQoKICAgIC8vIHJlbW92ZSBieXRlcyBiZWxvbmdpbmcgdG8gdGhlIGN1cnJlbnQgY2hhcmFjdGVyIGZyb20gdGhlIGJ1ZmZlcgogICAgYnVmZmVyID0gYnVmZmVyLnNsaWNlKGF2YWlsYWJsZSwgYnVmZmVyLmxlbmd0aCk7CgogICAgLy8gZ2V0IHRoZSBjaGFyYWN0ZXIgdGhhdCB3YXMgc3BsaXQKICAgIGNoYXJTdHIgPSB0aGlzLmNoYXJCdWZmZXIuc2xpY2UoMCwgdGhpcy5jaGFyTGVuZ3RoKS50b1N0cmluZyh0aGlzLmVuY29kaW5nKTsKCiAgICAvLyBDRVNVLTg6IGxlYWQgc3Vycm9nYXRlIChEODAwLURCRkYpIGlzIGFsc28gdGhlIGluY29tcGxldGUgY2hhcmFjdGVyCiAgICB2YXIgY2hhckNvZGUgPSBjaGFyU3RyLmNoYXJDb2RlQXQoY2hhclN0ci5sZW5ndGggLSAxKTsKICAgIGlmIChjaGFyQ29kZSA+PSAweEQ4MDAgJiYgY2hhckNvZGUgPD0gMHhEQkZGKSB7CiAgICAgIHRoaXMuY2hhckxlbmd0aCArPSB0aGlzLnN1cnJvZ2F0ZVNpemU7CiAgICAgIGNoYXJTdHIgPSAnJzsKICAgICAgY29udGludWU7CiAgICB9CiAgICB0aGlzLmNoYXJSZWNlaXZlZCA9IHRoaXMuY2hhckxlbmd0aCA9IDA7CgogICAgLy8gaWYgdGhlcmUgYXJlIG5vIG1vcmUgYnl0ZXMgaW4gdGhpcyBidWZmZXIsIGp1c3QgZW1pdCBvdXIgY2hhcgogICAgaWYgKGJ1ZmZlci5sZW5ndGggPT09IDApIHsKICAgICAgcmV0dXJuIGNoYXJTdHI7CiAgICB9CiAgICBicmVhazsKICB9CgogIC8vIGRldGVybWluZSBhbmQgc2V0IGNoYXJMZW5ndGggLyBjaGFyUmVjZWl2ZWQKICB0aGlzLmRldGVjdEluY29tcGxldGVDaGFyKGJ1ZmZlcik7CgogIHZhciBlbmQgPSBidWZmZXIubGVuZ3RoOwogIGlmICh0aGlzLmNoYXJMZW5ndGgpIHsKICAgIC8vIGJ1ZmZlciB0aGUgaW5jb21wbGV0ZSBjaGFyYWN0ZXIgYnl0ZXMgd2UgZ290CiAgICBidWZmZXIuY29weSh0aGlzLmNoYXJCdWZmZXIsIDAsIGJ1ZmZlci5sZW5ndGggLSB0aGlzLmNoYXJSZWNlaXZlZCwgZW5kKTsKICAgIGVuZCAtPSB0aGlzLmNoYXJSZWNlaXZlZDsKICB9CgogIGNoYXJTdHIgKz0gYnVmZmVyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsIDAsIGVuZCk7CgogIHZhciBlbmQgPSBjaGFyU3RyLmxlbmd0aCAtIDE7CiAgdmFyIGNoYXJDb2RlID0gY2hhclN0ci5jaGFyQ29kZUF0KGVuZCk7CiAgLy8gQ0VTVS04OiBsZWFkIHN1cnJvZ2F0ZSAoRDgwMC1EQkZGKSBpcyBhbHNvIHRoZSBpbmNvbXBsZXRlIGNoYXJhY3RlcgogIGlmIChjaGFyQ29kZSA+PSAweEQ4MDAgJiYgY2hhckNvZGUgPD0gMHhEQkZGKSB7CiAgICB2YXIgc2l6ZSA9IHRoaXMuc3Vycm9nYXRlU2l6ZTsKICAgIHRoaXMuY2hhckxlbmd0aCArPSBzaXplOwogICAgdGhpcy5jaGFyUmVjZWl2ZWQgKz0gc2l6ZTsKICAgIHRoaXMuY2hhckJ1ZmZlci5jb3B5KHRoaXMuY2hhckJ1ZmZlciwgc2l6ZSwgMCwgc2l6ZSk7CiAgICBidWZmZXIuY29weSh0aGlzLmNoYXJCdWZmZXIsIDAsIDAsIHNpemUpOwogICAgcmV0dXJuIGNoYXJTdHIuc3Vic3RyaW5nKDAsIGVuZCk7CiAgfQoKICAvLyBvciBqdXN0IGVtaXQgdGhlIGNoYXJTdHIKICByZXR1cm4gY2hhclN0cjsKfTsKCi8vIGRldGVjdEluY29tcGxldGVDaGFyIGRldGVybWluZXMgaWYgdGhlcmUgaXMgYW4gaW5jb21wbGV0ZSBVVEYtOCBjaGFyYWN0ZXIgYXQKLy8gdGhlIGVuZCBvZiB0aGUgZ2l2ZW4gYnVmZmVyLiBJZiBzbywgaXQgc2V0cyB0aGlzLmNoYXJMZW5ndGggdG8gdGhlIGJ5dGUKLy8gbGVuZ3RoIHRoYXQgY2hhcmFjdGVyLCBhbmQgc2V0cyB0aGlzLmNoYXJSZWNlaXZlZCB0byB0aGUgbnVtYmVyIG9mIGJ5dGVzCi8vIHRoYXQgYXJlIGF2YWlsYWJsZSBmb3IgdGhpcyBjaGFyYWN0ZXIuClN0cmluZ0RlY29kZXIucHJvdG90eXBlLmRldGVjdEluY29tcGxldGVDaGFyID0gZnVuY3Rpb24oYnVmZmVyKSB7CiAgLy8gZGV0ZXJtaW5lIGhvdyBtYW55IGJ5dGVzIHdlIGhhdmUgdG8gY2hlY2sgYXQgdGhlIGVuZCBvZiB0aGlzIGJ1ZmZlcgogIHZhciBpID0gKGJ1ZmZlci5sZW5ndGggPj0gMykgPyAzIDogYnVmZmVyLmxlbmd0aDsKCiAgLy8gRmlndXJlIG91dCBpZiBvbmUgb2YgdGhlIGxhc3QgaSBieXRlcyBvZiBvdXIgYnVmZmVyIGFubm91bmNlcyBhbgogIC8vIGluY29tcGxldGUgY2hhci4KICBmb3IgKDsgaSA+IDA7IGktLSkgewogICAgdmFyIGMgPSBidWZmZXJbYnVmZmVyLmxlbmd0aCAtIGldOwoKICAgIC8vIFNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1VURi04I0Rlc2NyaXB0aW9uCgogICAgLy8gMTEwWFhYWFgKICAgIGlmIChpID09IDEgJiYgYyA+PiA1ID09IDB4MDYpIHsKICAgICAgdGhpcy5jaGFyTGVuZ3RoID0gMjsKICAgICAgYnJlYWs7CiAgICB9CgogICAgLy8gMTExMFhYWFgKICAgIGlmIChpIDw9IDIgJiYgYyA+PiA0ID09IDB4MEUpIHsKICAgICAgdGhpcy5jaGFyTGVuZ3RoID0gMzsKICAgICAgYnJlYWs7CiAgICB9CgogICAgLy8gMTExMTBYWFgKICAgIGlmIChpIDw9IDMgJiYgYyA+PiAzID09IDB4MUUpIHsKICAgICAgdGhpcy5jaGFyTGVuZ3RoID0gNDsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHRoaXMuY2hhclJlY2VpdmVkID0gaTsKfTsKClN0cmluZ0RlY29kZXIucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uKGJ1ZmZlcikgewogIHZhciByZXMgPSAnJzsKICBpZiAoYnVmZmVyICYmIGJ1ZmZlci5sZW5ndGgpCiAgICByZXMgPSB0aGlzLndyaXRlKGJ1ZmZlcik7CgogIGlmICh0aGlzLmNoYXJSZWNlaXZlZCkgewogICAgdmFyIGNyID0gdGhpcy5jaGFyUmVjZWl2ZWQ7CiAgICB2YXIgYnVmID0gdGhpcy5jaGFyQnVmZmVyOwogICAgdmFyIGVuYyA9IHRoaXMuZW5jb2Rpbmc7CiAgICByZXMgKz0gYnVmLnNsaWNlKDAsIGNyKS50b1N0cmluZyhlbmMpOwogIH0KCiAgcmV0dXJuIHJlczsKfTsKCmZ1bmN0aW9uIHBhc3NUaHJvdWdoV3JpdGUoYnVmZmVyKSB7CiAgcmV0dXJuIGJ1ZmZlci50b1N0cmluZyh0aGlzLmVuY29kaW5nKTsKfQoKZnVuY3Rpb24gdXRmMTZEZXRlY3RJbmNvbXBsZXRlQ2hhcihidWZmZXIpIHsKICB0aGlzLmNoYXJSZWNlaXZlZCA9IGJ1ZmZlci5sZW5ndGggJSAyOwogIHRoaXMuY2hhckxlbmd0aCA9IHRoaXMuY2hhclJlY2VpdmVkID8gMiA6IDA7Cn0KCmZ1bmN0aW9uIGJhc2U2NERldGVjdEluY29tcGxldGVDaGFyKGJ1ZmZlcikgewogIHRoaXMuY2hhclJlY2VpdmVkID0gYnVmZmVyLmxlbmd0aCAlIDM7CiAgdGhpcy5jaGFyTGVuZ3RoID0gdGhpcy5jaGFyUmVjZWl2ZWQgPyAzIDogMDsKfQoKfSx7ImJ1ZmZlciI6NzZ9XSwxNzI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7CnZhciBpbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJykKCmZ1bmN0aW9uIFRmVHlwZUVycm9yICh0eXBlLCB2YWx1ZSkgewogIHRoaXMudGZFcnJvciA9IEVycm9yLmNhbGwodGhpcykKCiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7CiAgICB0aGlzLm1lc3NhZ2UgPSB0eXBlCiAgfSBlbHNlIHsKICAgIHRoaXMudGZUeXBlID0gdHlwZQogICAgdGhpcy50ZlZhbHVlID0gdmFsdWUKCiAgICB2YXIgbWVzc2FnZQogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdtZXNzYWdlJywgewogICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAobWVzc2FnZSkgcmV0dXJuIG1lc3NhZ2UKICAgICAgICBtZXNzYWdlID0gdGZFcnJvclN0cmluZyh0eXBlLCB2YWx1ZSkKCiAgICAgICAgcmV0dXJuIG1lc3NhZ2UKICAgICAgfQogICAgfSkKICB9Cn0KCmluaGVyaXRzKFRmVHlwZUVycm9yLCBFcnJvcikKT2JqZWN0LmRlZmluZVByb3BlcnR5KFRmVHlwZUVycm9yLCAnc3RhY2snLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy50ZkVycm9yLnN0YWNrIH0gfSkKCmZ1bmN0aW9uIFRmUHJvcGVydHlUeXBlRXJyb3IgKHR5cGUsIHByb3BlcnR5LCB2YWx1ZSwgZXJyb3IpIHsKICB0aGlzLnRmRXJyb3IgPSBlcnJvciB8fCBFcnJvci5jYWxsKHRoaXMpCiAgdGhpcy50ZlByb3BlcnR5ID0gcHJvcGVydHkKICB0aGlzLnRmVHlwZSA9IHR5cGUKICB0aGlzLnRmVmFsdWUgPSB2YWx1ZQoKICB2YXIgbWVzc2FnZQogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbWVzc2FnZScsIHsKICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICBpZiAobWVzc2FnZSkgcmV0dXJuIG1lc3NhZ2UKICAgICAgaWYgKHR5cGUpIHsKICAgICAgICBtZXNzYWdlID0gdGZQcm9wZXJ0eUVycm9yU3RyaW5nKHR5cGUsIHByb3BlcnR5LCB2YWx1ZSkKICAgICAgfSBlbHNlIHsKICAgICAgICBtZXNzYWdlID0gJ1VuZXhwZWN0ZWQgcHJvcGVydHkgIicgKyBwcm9wZXJ0eSArICciJwogICAgICB9CgogICAgICByZXR1cm4gbWVzc2FnZQogICAgfQogIH0pCn0KCmluaGVyaXRzKFRmUHJvcGVydHlUeXBlRXJyb3IsIEVycm9yKQpPYmplY3QuZGVmaW5lUHJvcGVydHkoVGZQcm9wZXJ0eVR5cGVFcnJvciwgJ3N0YWNrJywgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMudGZFcnJvci5zdGFjayB9IH0pCgpUZlByb3BlcnR5VHlwZUVycm9yLnByb3RvdHlwZS5hc0NoaWxkT2YgPSBmdW5jdGlvbiAocHJvcGVydHkpIHsKICByZXR1cm4gbmV3IFRmUHJvcGVydHlUeXBlRXJyb3IodGhpcy50ZlR5cGUsIHByb3BlcnR5ICsgJy4nICsgdGhpcy50ZlByb3BlcnR5LCB0aGlzLnRmVmFsdWUsIHRoaXMudGZFcnJvcikKfQoKZnVuY3Rpb24gZ2V0RnVuY3Rpb25OYW1lIChmbikgewogIHJldHVybiBmbi5uYW1lIHx8IGZuLnRvU3RyaW5nKCkubWF0Y2goL2Z1bmN0aW9uICguKj8pXHMqXCgvKVsxXQp9CgpmdW5jdGlvbiBnZXRWYWx1ZVR5cGVOYW1lICh2YWx1ZSkgewogIGlmIChuYXRpdmVUeXBlcy5OdWxsKHZhbHVlKSkgcmV0dXJuICcnCgogIHJldHVybiBnZXRGdW5jdGlvbk5hbWUodmFsdWUuY29uc3RydWN0b3IpCn0KCmZ1bmN0aW9uIGdldFZhbHVlICh2YWx1ZSkgewogIGlmIChuYXRpdmVUeXBlcy5GdW5jdGlvbih2YWx1ZSkpIHJldHVybiAnJwogIGlmIChuYXRpdmVUeXBlcy5TdHJpbmcodmFsdWUpKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpCiAgaWYgKHZhbHVlICYmIG5hdGl2ZVR5cGVzLk9iamVjdCh2YWx1ZSkpIHJldHVybiAnJwoKICByZXR1cm4gdmFsdWUKfQoKZnVuY3Rpb24gdGZKU09OICh0eXBlKSB7CiAgaWYgKG5hdGl2ZVR5cGVzLkZ1bmN0aW9uKHR5cGUpKSByZXR1cm4gdHlwZS50b0pTT04gPyB0eXBlLnRvSlNPTigpIDogZ2V0RnVuY3Rpb25OYW1lKHR5cGUpCiAgaWYgKG5hdGl2ZVR5cGVzLkFycmF5KHR5cGUpKSByZXR1cm4gJ0FycmF5JwogIGlmICh0eXBlICYmIG5hdGl2ZVR5cGVzLk9iamVjdCh0eXBlKSkgcmV0dXJuICdPYmplY3QnCgogIHJldHVybiB0eXBlIHx8ICcnCn0KCmZ1bmN0aW9uIHN0ZkpTT04gKHR5cGUpIHsKICB0eXBlID0gdGZKU09OKHR5cGUpCgogIHJldHVybiBuYXRpdmVUeXBlcy5PYmplY3QodHlwZSkgPyBKU09OLnN0cmluZ2lmeSh0eXBlKSA6IHR5cGUKfQoKZnVuY3Rpb24gdGZFcnJvclN0cmluZyAodHlwZSwgdmFsdWUpIHsKICB2YXIgdmFsdWVUeXBlTmFtZSA9IGdldFZhbHVlVHlwZU5hbWUodmFsdWUpCiAgdmFyIHZhbHVlVmFsdWUgPSBnZXRWYWx1ZSh2YWx1ZSkKCiAgcmV0dXJuICdFeHBlY3RlZCAnICsgc3RmSlNPTih0eXBlKSArICcsIGdvdCcgKyAodmFsdWVUeXBlTmFtZSAhPT0gJycgPyAnICcgKyB2YWx1ZVR5cGVOYW1lIDogJycpICsgKHZhbHVlVmFsdWUgIT09ICcnID8gJyAnICsgdmFsdWVWYWx1ZSA6ICcnKQp9CgpmdW5jdGlvbiB0ZlByb3BlcnR5RXJyb3JTdHJpbmcgKHR5cGUsIG5hbWUsIHZhbHVlKSB7CiAgcmV0dXJuIHRmRXJyb3JTdHJpbmcoJ3Byb3BlcnR5IFwiJyArIHN0ZkpTT04obmFtZSkgKyAnXCIgb2YgdHlwZSAnICsgc3RmSlNPTih0eXBlKSwgdmFsdWUpCn0KCnZhciBuYXRpdmVUeXBlcyA9IHsKICBBcnJheTogZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlLmNvbnN0cnVjdG9yID09PSBBcnJheSB9LAogIEJvb2xlYW46IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicgfSwKICBCdWZmZXI6IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gQnVmZmVyLmlzQnVmZmVyKHZhbHVlKSB9LAogIEZ1bmN0aW9uOiBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyB9LAogIE51bGw6IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gbnVsbCB9LAogIE51bWJlcjogZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIH0sCiAgT2JqZWN0OiBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgfSwKICBTdHJpbmc6IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyB9LAogICcnOiBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlIH0KfQoKdmFyIG90aGVyVHlwZXMgPSB7CiAgYXJyYXlPZjogZnVuY3Rpb24gYXJyYXlPZiAodHlwZSkgewogICAgZnVuY3Rpb24gYXJyYXlPZiAodmFsdWUsIHN0cmljdCkgewogICAgICBpZiAoIW5hdGl2ZVR5cGVzLkFycmF5KHZhbHVlKSkgcmV0dXJuIGZhbHNlCgogICAgICByZXR1cm4gdmFsdWUuZXZlcnkoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4gdHlwZWZvcmNlKHR5cGUsIHgsIHN0cmljdCwgYXJyYXlPZikKICAgICAgfSkKICAgIH0KICAgIGFycmF5T2YudG9KU09OID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gW3RmSlNPTih0eXBlKV0gfQoKICAgIHJldHVybiBhcnJheU9mCiAgfSwKCiAgbWF5YmU6IGZ1bmN0aW9uIG1heWJlICh0eXBlKSB7CiAgICBmdW5jdGlvbiBtYXliZSAodmFsdWUsIHN0cmljdCkgewogICAgICByZXR1cm4gbmF0aXZlVHlwZXMuTnVsbCh2YWx1ZSkgfHwgdHlwZWZvcmNlKHR5cGUsIHZhbHVlLCBzdHJpY3QsIG1heWJlKQogICAgfQogICAgbWF5YmUudG9KU09OID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJz8nICsgc3RmSlNPTih0eXBlKSB9CgogICAgcmV0dXJuIG1heWJlCiAgfSwKCiAgb2JqZWN0OiBmdW5jdGlvbiBvYmplY3QgKHR5cGUpIHsKICAgIGZ1bmN0aW9uIG9iamVjdCAodmFsdWUsIHN0cmljdCkgewogICAgICBpZiAoIW5hdGl2ZVR5cGVzLk9iamVjdCh2YWx1ZSkpIHJldHVybiBmYWxzZQogICAgICBpZiAobmF0aXZlVHlwZXMuTnVsbCh2YWx1ZSkpIHJldHVybiBmYWxzZQoKICAgICAgdmFyIHByb3BlcnR5TmFtZQoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKHByb3BlcnR5TmFtZSBpbiB0eXBlKSB7CiAgICAgICAgICB2YXIgcHJvcGVydHlUeXBlID0gdHlwZVtwcm9wZXJ0eU5hbWVdCiAgICAgICAgICB2YXIgcHJvcGVydHlWYWx1ZSA9IHZhbHVlW3Byb3BlcnR5TmFtZV0KCiAgICAgICAgICB0eXBlZm9yY2UocHJvcGVydHlUeXBlLCBwcm9wZXJ0eVZhbHVlLCBzdHJpY3QpCiAgICAgICAgfQogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBUZlByb3BlcnR5VHlwZUVycm9yKSB7CiAgICAgICAgICB0aHJvdyBlLmFzQ2hpbGRPZihwcm9wZXJ0eU5hbWUpCiAgICAgICAgfSBlbHNlIGlmIChlIGluc3RhbmNlb2YgVGZUeXBlRXJyb3IpIHsKICAgICAgICAgIHRocm93IG5ldyBUZlByb3BlcnR5VHlwZUVycm9yKGUudGZUeXBlLCBwcm9wZXJ0eU5hbWUsIGUudGZWYWx1ZSwgZS50ZkVycm9yKQogICAgICAgIH0KCiAgICAgICAgdGhyb3cgZQogICAgICB9CgogICAgICBpZiAoc3RyaWN0KSB7CiAgICAgICAgZm9yIChwcm9wZXJ0eU5hbWUgaW4gdmFsdWUpIHsKICAgICAgICAgIGlmICh0eXBlW3Byb3BlcnR5TmFtZV0pIGNvbnRpbnVlCgogICAgICAgICAgdGhyb3cgbmV3IFRmUHJvcGVydHlUeXBlRXJyb3IodW5kZWZpbmVkLCBwcm9wZXJ0eU5hbWUpCiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZQogICAgfQogICAgb2JqZWN0LnRvSlNPTiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRmSlNPTih0eXBlKSB9CgogICAgcmV0dXJuIG9iamVjdAogIH0sCgogIG1hcDogZnVuY3Rpb24gbWFwIChwcm9wZXJ0eVR5cGUsIHByb3BlcnR5S2V5VHlwZSkgewogICAgZnVuY3Rpb24gbWFwICh2YWx1ZSwgc3RyaWN0KSB7CiAgICAgIHR5cGVmb3JjZShuYXRpdmVUeXBlcy5PYmplY3QsIHZhbHVlLCBzdHJpY3QpCiAgICAgIGlmIChuYXRpdmVUeXBlcy5OdWxsKHZhbHVlKSkgcmV0dXJuIGZhbHNlCgogICAgICB2YXIgcHJvcGVydHlOYW1lCgogICAgICB0cnkgewogICAgICAgIGZvciAocHJvcGVydHlOYW1lIGluIHZhbHVlKSB7CiAgICAgICAgICBpZiAocHJvcGVydHlLZXlUeXBlKSB7CiAgICAgICAgICAgIHR5cGVmb3JjZShwcm9wZXJ0eUtleVR5cGUsIHByb3BlcnR5TmFtZSwgc3RyaWN0KQogICAgICAgICAgfQoKICAgICAgICAgIHZhciBwcm9wZXJ0eVZhbHVlID0gdmFsdWVbcHJvcGVydHlOYW1lXQogICAgICAgICAgdHlwZWZvcmNlKHByb3BlcnR5VHlwZSwgcHJvcGVydHlWYWx1ZSwgc3RyaWN0KQogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGlmIChlIGluc3RhbmNlb2YgVGZQcm9wZXJ0eVR5cGVFcnJvcikgewogICAgICAgICAgdGhyb3cgZS5hc0NoaWxkT2YocHJvcGVydHlOYW1lKQogICAgICAgIH0gZWxzZSBpZiAoZSBpbnN0YW5jZW9mIFRmVHlwZUVycm9yKSB7CiAgICAgICAgICB0aHJvdyBuZXcgVGZQcm9wZXJ0eVR5cGVFcnJvcihlLnRmVHlwZSwgcHJvcGVydHlLZXlUeXBlIHx8IHByb3BlcnR5TmFtZSwgZS50ZlZhbHVlKQogICAgICAgIH0KCiAgICAgICAgdGhyb3cgZQogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZQogICAgfQoKICAgIGlmIChwcm9wZXJ0eUtleVR5cGUpIHsKICAgICAgbWFwLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICd7JyArIHN0ZkpTT04ocHJvcGVydHlLZXlUeXBlKSArICc6ICcgKyBzdGZKU09OKHByb3BlcnR5VHlwZSkgKyAnfScgfQogICAgfSBlbHNlIHsKICAgICAgbWFwLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICd7JyArIHN0ZkpTT04ocHJvcGVydHlUeXBlKSArICd9JyB9CiAgICB9CgogICAgcmV0dXJuIG1hcAogIH0sCgogIG9uZU9mOiBmdW5jdGlvbiBvbmVPZiAoKSB7CiAgICB2YXIgdHlwZXMgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykKCiAgICBmdW5jdGlvbiBvbmVPZiAodmFsdWUsIHN0cmljdCkgewogICAgICByZXR1cm4gdHlwZXMuc29tZShmdW5jdGlvbiAodHlwZSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICByZXR1cm4gdHlwZWZvcmNlKHR5cGUsIHZhbHVlLCBzdHJpY3QpCiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBUZlR5cGVFcnJvciB8fCBlIGluc3RhbmNlb2YgVGZQcm9wZXJ0eVR5cGVFcnJvcikgcmV0dXJuIGZhbHNlCgogICAgICAgICAgdGhyb3cgZQogICAgICAgIH0KICAgICAgfSkKICAgIH0KICAgIG9uZU9mLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHR5cGVzLm1hcChzdGZKU09OKS5qb2luKCd8JykgfQoKICAgIHJldHVybiBvbmVPZgogIH0sCgogIHF1YWNrc0xpa2U6IGZ1bmN0aW9uIHF1YWNrc0xpa2UgKHR5cGUpIHsKICAgIGZ1bmN0aW9uIHF1YWNrc0xpa2UgKHZhbHVlKSB7CiAgICAgIHJldHVybiB0eXBlID09PSBnZXRWYWx1ZVR5cGVOYW1lKHZhbHVlKQogICAgfQogICAgcXVhY2tzTGlrZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0eXBlIH0KCiAgICByZXR1cm4gcXVhY2tzTGlrZQogIH0sCgogIHR1cGxlOiBmdW5jdGlvbiB0dXBsZSAoKSB7CiAgICB2YXIgdHlwZXMgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykKCiAgICBmdW5jdGlvbiB0dXBsZSAodmFsdWUsIHN0cmljdCkgewogICAgICByZXR1cm4gdHlwZXMuZXZlcnkoZnVuY3Rpb24gKHR5cGUsIGkpIHsKICAgICAgICByZXR1cm4gdHlwZWZvcmNlKHR5cGUsIHZhbHVlW2ldLCBzdHJpY3QpCiAgICAgIH0pCiAgICB9CiAgICB0dXBsZS50b0pTT04gPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnKCcgKyB0eXBlcy5tYXAoc3RmSlNPTikuam9pbignLCAnKSArICcpJyB9CgogICAgcmV0dXJuIHR1cGxlCiAgfSwKCiAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlIChleHBlY3RlZCkgewogICAgZnVuY3Rpb24gdmFsdWUgKGFjdHVhbCkgewogICAgICByZXR1cm4gYWN0dWFsID09PSBleHBlY3RlZAogICAgfQogICAgdmFsdWUudG9KU09OID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhwZWN0ZWQgfQoKICAgIHJldHVybiB2YWx1ZQogIH0KfQoKZnVuY3Rpb24gY29tcGlsZSAodHlwZSkgewogIGlmIChuYXRpdmVUeXBlcy5TdHJpbmcodHlwZSkpIHsKICAgIGlmICh0eXBlWzBdID09PSAnPycpIHJldHVybiBvdGhlclR5cGVzLm1heWJlKGNvbXBpbGUodHlwZS5zbGljZSgxKSkpCgogICAgcmV0dXJuIG5hdGl2ZVR5cGVzW3R5cGVdIHx8IG90aGVyVHlwZXMucXVhY2tzTGlrZSh0eXBlKQogIH0gZWxzZSBpZiAodHlwZSAmJiBuYXRpdmVUeXBlcy5PYmplY3QodHlwZSkpIHsKICAgIGlmIChuYXRpdmVUeXBlcy5BcnJheSh0eXBlKSkgcmV0dXJuIG90aGVyVHlwZXMuYXJyYXlPZihjb21waWxlKHR5cGVbMF0pKQoKICAgIHZhciBjb21waWxlZCA9IHt9CgogICAgZm9yICh2YXIgcHJvcGVydHlOYW1lIGluIHR5cGUpIHsKICAgICAgY29tcGlsZWRbcHJvcGVydHlOYW1lXSA9IGNvbXBpbGUodHlwZVtwcm9wZXJ0eU5hbWVdKQogICAgfQoKICAgIHJldHVybiBvdGhlclR5cGVzLm9iamVjdChjb21waWxlZCkKICB9IGVsc2UgaWYgKG5hdGl2ZVR5cGVzLkZ1bmN0aW9uKHR5cGUpKSB7CiAgICByZXR1cm4gdHlwZQogIH0KCiAgcmV0dXJuIG90aGVyVHlwZXMudmFsdWUodHlwZSkKfQoKZnVuY3Rpb24gdHlwZWZvcmNlICh0eXBlLCB2YWx1ZSwgc3RyaWN0LCBzdXJyb2dhdGUpIHsKICBpZiAobmF0aXZlVHlwZXMuRnVuY3Rpb24odHlwZSkpIHsKICAgIGlmICh0eXBlKHZhbHVlLCBzdHJpY3QpKSByZXR1cm4gdHJ1ZQoKICAgIHRocm93IG5ldyBUZlR5cGVFcnJvcihzdXJyb2dhdGUgfHwgdHlwZSwgdmFsdWUpCiAgfQoKICAvLyBKSVQKICByZXR1cm4gdHlwZWZvcmNlKGNvbXBpbGUodHlwZSksIHZhbHVlLCBzdHJpY3QpCn0KCi8vIGFzc2lnbiBhbGwgdHlwZXMgdG8gdHlwZWZvcmNlIGZ1bmN0aW9uCnZhciB0eXBlTmFtZQpPYmplY3Qua2V5cyhuYXRpdmVUeXBlcykuZm9yRWFjaChmdW5jdGlvbiAodHlwZU5hbWUpIHsKICB2YXIgbmF0aXZlVHlwZSA9IG5hdGl2ZVR5cGVzW3R5cGVOYW1lXQogIG5hdGl2ZVR5cGUudG9KU09OID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdHlwZU5hbWUgfQoKICB0eXBlZm9yY2VbdHlwZU5hbWVdID0gbmF0aXZlVHlwZQp9KQoKZm9yICh0eXBlTmFtZSBpbiBvdGhlclR5cGVzKSB7CiAgdHlwZWZvcmNlW3R5cGVOYW1lXSA9IG90aGVyVHlwZXNbdHlwZU5hbWVdCn0KCm1vZHVsZS5leHBvcnRzID0gdHlwZWZvcmNlCm1vZHVsZS5leHBvcnRzLmNvbXBpbGUgPSBjb21waWxlCgovLyBleHBvcnQgRXJyb3Igb2JqZWN0cwptb2R1bGUuZXhwb3J0cy5UZlR5cGVFcnJvciA9IFRmVHlwZUVycm9yCm1vZHVsZS5leHBvcnRzLlRmUHJvcGVydHlUeXBlRXJyb3IgPSBUZlByb3BlcnR5VHlwZUVycm9yCgp9KS5jYWxsKHRoaXMseyJpc0J1ZmZlciI6cmVxdWlyZSgiLi4vaXMtYnVmZmVyL2luZGV4LmpzIil9KQp9LHsiLi4vaXMtYnVmZmVyL2luZGV4LmpzIjoxMjksImluaGVyaXRzIjoxMjh9XSwxNzM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKHJvb3QpIHsKICAgInVzZSBzdHJpY3QiOwoKLyoqKioqIHVub3JtLmpzICoqKioqLwoKLyoKICogVW5pY29kZU5vcm1hbGl6ZXIgMS4wLjAKICogQ29weXJpZ2h0IChjKSAyMDA4IE1hdHN1emEKICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIChNSVQtTElDRU5TRS50eHQpIGFuZCBHUEwgKEdQTC1MSUNFTlNFLnR4dCkgbGljZW5zZXMuCiAqICREYXRlOiAyMDA4LTA2LTA1IDE2OjQ0OjE3ICswMjAwIChUaHUsIDA1IEp1biAyMDA4KSAkCiAqICRSZXY6IDEzMzA5ICQKICovCgogICB2YXIgREVGQVVMVF9GRUFUVVJFID0gW251bGwsIDAsIHt9XTsKICAgdmFyIENBQ0hFX1RIUkVTSE9MRCA9IDEwOwogICB2YXIgU0Jhc2UgPSAweEFDMDAsIExCYXNlID0gMHgxMTAwLCBWQmFzZSA9IDB4MTE2MSwgVEJhc2UgPSAweDExQTcsIExDb3VudCA9IDE5LCBWQ291bnQgPSAyMSwgVENvdW50ID0gMjg7CiAgIHZhciBOQ291bnQgPSBWQ291bnQgKiBUQ291bnQ7IC8vIDU4OAogICB2YXIgU0NvdW50ID0gTENvdW50ICogTkNvdW50OyAvLyAxMTE3MgoKICAgdmFyIFVDaGFyID0gZnVuY3Rpb24oY3AsIGZlYXR1cmUpewogICAgICB0aGlzLmNvZGVwb2ludCA9IGNwOwogICAgICB0aGlzLmZlYXR1cmUgPSBmZWF0dXJlOwogICB9OwoKICAgLy8gU3RyYXRlZ2llcwogICB2YXIgY2FjaGUgPSB7fTsKICAgdmFyIGNhY2hlQ291bnRlciA9IFtdOwogICBmb3IgKHZhciBpID0gMDsgaSA8PSAweEZGOyArK2kpewogICAgICBjYWNoZUNvdW50ZXJbaV0gPSAwOwogICB9CgogICBmdW5jdGlvbiBmcm9tQ2FjaGUobmV4dCwgY3AsIG5lZWRGZWF0dXJlKXsKICAgICAgdmFyIHJldCA9IGNhY2hlW2NwXTsKICAgICAgaWYoIXJldCl7CiAgICAgICAgIHJldCA9IG5leHQoY3AsIG5lZWRGZWF0dXJlKTsKICAgICAgICAgaWYoISFyZXQuZmVhdHVyZSAmJiArK2NhY2hlQ291bnRlclsoY3AgPj4gOCkgJiAweEZGXSA+IENBQ0hFX1RIUkVTSE9MRCl7CiAgICAgICAgICAgIGNhY2hlW2NwXSA9IHJldDsKICAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiByZXQ7CiAgIH0KCiAgIGZ1bmN0aW9uIGZyb21EYXRhKG5leHQsIGNwLCBuZWVkRmVhdHVyZSl7CiAgICAgIHZhciBoYXNoID0gY3AgJiAweEZGMDA7CiAgICAgIHZhciBkdW5pdCA9IFVDaGFyLnVkYXRhW2hhc2hdIHx8IHt9OwogICAgICB2YXIgZiA9IGR1bml0W2NwXTsKICAgICAgcmV0dXJuIGYgPyBuZXcgVUNoYXIoY3AsIGYpIDogbmV3IFVDaGFyKGNwLCBERUZBVUxUX0ZFQVRVUkUpOwogICB9CiAgIGZ1bmN0aW9uIGZyb21DcE9ubHkobmV4dCwgY3AsIG5lZWRGZWF0dXJlKXsKICAgICAgcmV0dXJuICEhbmVlZEZlYXR1cmUgPyBuZXh0KGNwLCBuZWVkRmVhdHVyZSkgOiBuZXcgVUNoYXIoY3AsIG51bGwpOwogICB9CiAgIGZ1bmN0aW9uIGZyb21SdWxlQmFzZWRKYW1vKG5leHQsIGNwLCBuZWVkRmVhdHVyZSl7CiAgICAgIHZhciBqOwogICAgICBpZihjcCA8IExCYXNlIHx8IChMQmFzZSArIExDb3VudCA8PSBjcCAmJiBjcCA8IFNCYXNlKSB8fCAoU0Jhc2UgKyBTQ291bnQgPCBjcCkpewogICAgICAgICByZXR1cm4gbmV4dChjcCwgbmVlZEZlYXR1cmUpOwogICAgICB9CiAgICAgIGlmKExCYXNlIDw9IGNwICYmIGNwIDwgTEJhc2UgKyBMQ291bnQpewogICAgICAgICB2YXIgYyA9IHt9OwogICAgICAgICB2YXIgYmFzZSA9IChjcCAtIExCYXNlKSAqIFZDb3VudDsKICAgICAgICAgZm9yIChqID0gMDsgaiA8IFZDb3VudDsgKytqKXsKICAgICAgICAgICAgY1tWQmFzZSArIGpdID0gU0Jhc2UgKyBUQ291bnQgKiAoaiArIGJhc2UpOwogICAgICAgICB9CiAgICAgICAgIHJldHVybiBuZXcgVUNoYXIoY3AsIFssLGNdKTsKICAgICAgfQoKICAgICAgdmFyIFNJbmRleCA9IGNwIC0gU0Jhc2U7CiAgICAgIHZhciBUSW5kZXggPSBTSW5kZXggJSBUQ291bnQ7CiAgICAgIHZhciBmZWF0dXJlID0gW107CiAgICAgIGlmKFRJbmRleCAhPT0gMCl7CiAgICAgICAgIGZlYXR1cmVbMF0gPSBbU0Jhc2UgKyBTSW5kZXggLSBUSW5kZXgsIFRCYXNlICsgVEluZGV4XTsKICAgICAgfSBlbHNlIHsKICAgICAgICAgZmVhdHVyZVswXSA9IFtMQmFzZSArIE1hdGguZmxvb3IoU0luZGV4IC8gTkNvdW50KSwgVkJhc2UgKyBNYXRoLmZsb29yKChTSW5kZXggJSBOQ291bnQpIC8gVENvdW50KV07CiAgICAgICAgIGZlYXR1cmVbMl0gPSB7fTsKICAgICAgICAgZm9yIChqID0gMTsgaiA8IFRDb3VudDsgKytqKXsKICAgICAgICAgICAgZmVhdHVyZVsyXVtUQmFzZSArIGpdID0gY3AgKyBqOwogICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIG5ldyBVQ2hhcihjcCwgZmVhdHVyZSk7CiAgIH0KICAgZnVuY3Rpb24gZnJvbUNwRmlsdGVyKG5leHQsIGNwLCBuZWVkRmVhdHVyZSl7CiAgICAgIHJldHVybiBjcCA8IDYwIHx8IDEzMzExIDwgY3AgJiYgY3AgPCA0MjYwNyA/IG5ldyBVQ2hhcihjcCwgREVGQVVMVF9GRUFUVVJFKSA6IG5leHQoY3AsIG5lZWRGZWF0dXJlKTsKICAgfQoKICAgdmFyIHN0cmF0ZWdpZXMgPSBbZnJvbUNwRmlsdGVyLCBmcm9tQ2FjaGUsIGZyb21DcE9ubHksIGZyb21SdWxlQmFzZWRKYW1vLCBmcm9tRGF0YV07CgogICBVQ2hhci5mcm9tQ2hhckNvZGUgPSBzdHJhdGVnaWVzLnJlZHVjZVJpZ2h0KGZ1bmN0aW9uIChuZXh0LCBzdHJhdGVneSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKGNwLCBuZWVkRmVhdHVyZSkgewogICAgICAgICByZXR1cm4gc3RyYXRlZ3kobmV4dCwgY3AsIG5lZWRGZWF0dXJlKTsKICAgICAgfTsKICAgfSwgbnVsbCk7CgogICBVQ2hhci5pc0hpZ2hTdXJyb2dhdGUgPSBmdW5jdGlvbihjcCl7CiAgICAgIHJldHVybiBjcCA+PSAweEQ4MDAgJiYgY3AgPD0gMHhEQkZGOwogICB9OwogICBVQ2hhci5pc0xvd1N1cnJvZ2F0ZSA9IGZ1bmN0aW9uKGNwKXsKICAgICAgcmV0dXJuIGNwID49IDB4REMwMCAmJiBjcCA8PSAweERGRkY7CiAgIH07CgogICBVQ2hhci5wcm90b3R5cGUucHJlcEZlYXR1cmUgPSBmdW5jdGlvbigpewogICAgICBpZighdGhpcy5mZWF0dXJlKXsKICAgICAgICAgdGhpcy5mZWF0dXJlID0gVUNoYXIuZnJvbUNoYXJDb2RlKHRoaXMuY29kZXBvaW50LCB0cnVlKS5mZWF0dXJlOwogICAgICB9CiAgIH07CgogICBVQ2hhci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpewogICAgICBpZih0aGlzLmNvZGVwb2ludCA8IDB4MTAwMDApewogICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZSh0aGlzLmNvZGVwb2ludCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgIHZhciB4ID0gdGhpcy5jb2RlcG9pbnQgLSAweDEwMDAwOwogICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShNYXRoLmZsb29yKHggLyAweDQwMCkgKyAweEQ4MDAsIHggJSAweDQwMCArIDB4REMwMCk7CiAgICAgIH0KICAgfTsKCiAgIFVDaGFyLnByb3RvdHlwZS5nZXREZWNvbXAgPSBmdW5jdGlvbigpewogICAgICB0aGlzLnByZXBGZWF0dXJlKCk7CiAgICAgIHJldHVybiB0aGlzLmZlYXR1cmVbMF0gfHwgbnVsbDsKICAgfTsKCiAgIFVDaGFyLnByb3RvdHlwZS5pc0NvbXBhdGliaWxpdHkgPSBmdW5jdGlvbigpewogICAgICB0aGlzLnByZXBGZWF0dXJlKCk7CiAgICAgIHJldHVybiAhIXRoaXMuZmVhdHVyZVsxXSAmJiAodGhpcy5mZWF0dXJlWzFdICYgKDEgPDwgOCkpOwogICB9OwogICBVQ2hhci5wcm90b3R5cGUuaXNFeGNsdWRlID0gZnVuY3Rpb24oKXsKICAgICAgdGhpcy5wcmVwRmVhdHVyZSgpOwogICAgICByZXR1cm4gISF0aGlzLmZlYXR1cmVbMV0gJiYgKHRoaXMuZmVhdHVyZVsxXSAmICgxIDw8IDkpKTsKICAgfTsKICAgVUNoYXIucHJvdG90eXBlLmdldENhbm9uaWNhbENsYXNzID0gZnVuY3Rpb24oKXsKICAgICAgdGhpcy5wcmVwRmVhdHVyZSgpOwogICAgICByZXR1cm4gISF0aGlzLmZlYXR1cmVbMV0gPyAodGhpcy5mZWF0dXJlWzFdICYgMHhmZikgOiAwOwogICB9OwogICBVQ2hhci5wcm90b3R5cGUuZ2V0Q29tcG9zaXRlID0gZnVuY3Rpb24oZm9sbG93aW5nKXsKICAgICAgdGhpcy5wcmVwRmVhdHVyZSgpOwogICAgICBpZighdGhpcy5mZWF0dXJlWzJdKXsKICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KICAgICAgdmFyIGNwID0gdGhpcy5mZWF0dXJlWzJdW2ZvbGxvd2luZy5jb2RlcG9pbnRdOwogICAgICByZXR1cm4gY3AgPyBVQ2hhci5mcm9tQ2hhckNvZGUoY3ApIDogbnVsbDsKICAgfTsKCiAgIHZhciBVQ2hhckl0ZXJhdG9yID0gZnVuY3Rpb24oc3RyKXsKICAgICAgdGhpcy5zdHIgPSBzdHI7CiAgICAgIHRoaXMuY3Vyc29yID0gMDsKICAgfTsKICAgVUNoYXJJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCl7CiAgICAgIGlmKCEhdGhpcy5zdHIgJiYgdGhpcy5jdXJzb3IgPCB0aGlzLnN0ci5sZW5ndGgpewogICAgICAgICB2YXIgY3AgPSB0aGlzLnN0ci5jaGFyQ29kZUF0KHRoaXMuY3Vyc29yKyspOwogICAgICAgICB2YXIgZDsKICAgICAgICAgaWYoVUNoYXIuaXNIaWdoU3Vycm9nYXRlKGNwKSAmJiB0aGlzLmN1cnNvciA8IHRoaXMuc3RyLmxlbmd0aCAmJiBVQ2hhci5pc0xvd1N1cnJvZ2F0ZSgoZCA9IHRoaXMuc3RyLmNoYXJDb2RlQXQodGhpcy5jdXJzb3IpKSkpewogICAgICAgICAgICBjcCA9IChjcCAtIDB4RDgwMCkgKiAweDQwMCArIChkIC0weERDMDApICsgMHgxMDAwMDsKICAgICAgICAgICAgKyt0aGlzLmN1cnNvcjsKICAgICAgICAgfQogICAgICAgICByZXR1cm4gVUNoYXIuZnJvbUNoYXJDb2RlKGNwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAgdGhpcy5zdHIgPSBudWxsOwogICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICB9OwoKICAgdmFyIFJlY3Vyc0RlY29tcEl0ZXJhdG9yID0gZnVuY3Rpb24oaXQsIGNhbm8pewogICAgICB0aGlzLml0ID0gaXQ7CiAgICAgIHRoaXMuY2Fub25pY2FsID0gY2FubzsKICAgICAgdGhpcy5yZXNCdWYgPSBbXTsKICAgfTsKCiAgIFJlY3Vyc0RlY29tcEl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKXsKICAgICAgZnVuY3Rpb24gcmVjdXJzaXZlRGVjb21wKGNhbm8sIHVjaGFyKXsKICAgICAgICAgdmFyIGRlY29tcCA9IHVjaGFyLmdldERlY29tcCgpOwogICAgICAgICBpZighIWRlY29tcCAmJiAhKGNhbm8gJiYgdWNoYXIuaXNDb21wYXRpYmlsaXR5KCkpKXsKICAgICAgICAgICAgdmFyIHJldCA9IFtdOwogICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgZGVjb21wLmxlbmd0aDsgKytpKXsKICAgICAgICAgICAgICAgdmFyIGEgPSByZWN1cnNpdmVEZWNvbXAoY2FubywgVUNoYXIuZnJvbUNoYXJDb2RlKGRlY29tcFtpXSkpOwogICAgICAgICAgICAgICAgcmV0ID0gcmV0LmNvbmNhdChhKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmV0OwogICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gW3VjaGFyXTsKICAgICAgICAgfQogICAgICB9CiAgICAgIGlmKHRoaXMucmVzQnVmLmxlbmd0aCA9PT0gMCl7CiAgICAgICAgIHZhciB1Y2hhciA9IHRoaXMuaXQubmV4dCgpOwogICAgICAgICBpZighdWNoYXIpewogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgfQogICAgICAgICB0aGlzLnJlc0J1ZiA9IHJlY3Vyc2l2ZURlY29tcCh0aGlzLmNhbm9uaWNhbCwgdWNoYXIpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLnJlc0J1Zi5zaGlmdCgpOwogICB9OwoKICAgdmFyIERlY29tcEl0ZXJhdG9yID0gZnVuY3Rpb24oaXQpewogICAgICB0aGlzLml0ID0gaXQ7CiAgICAgIHRoaXMucmVzQnVmID0gW107CiAgIH07CgogICBEZWNvbXBJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uKCl7CiAgICAgIHZhciBjYzsKICAgICAgaWYodGhpcy5yZXNCdWYubGVuZ3RoID09PSAwKXsKICAgICAgICAgZG97CiAgICAgICAgICAgIHZhciB1Y2hhciA9IHRoaXMuaXQubmV4dCgpOwogICAgICAgICAgICBpZighdWNoYXIpewogICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICBjYyA9IHVjaGFyLmdldENhbm9uaWNhbENsYXNzKCk7CiAgICAgICAgICAgIHZhciBpbnNwdCA9IHRoaXMucmVzQnVmLmxlbmd0aDsKICAgICAgICAgICAgaWYoY2MgIT09IDApewogICAgICAgICAgICAgICBmb3IoOyBpbnNwdCA+IDA7IC0taW5zcHQpewogICAgICAgICAgICAgICAgICB2YXIgdWNoYXIyID0gdGhpcy5yZXNCdWZbaW5zcHQgLSAxXTsKICAgICAgICAgICAgICAgICAgdmFyIGNjMiA9IHVjaGFyMi5nZXRDYW5vbmljYWxDbGFzcygpOwogICAgICAgICAgICAgICAgICBpZihjYzIgPD0gY2MpewogICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGhpcy5yZXNCdWYuc3BsaWNlKGluc3B0LCAwLCB1Y2hhcik7CiAgICAgICAgIH0gd2hpbGUoY2MgIT09IDApOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLnJlc0J1Zi5zaGlmdCgpOwogICB9OwoKICAgdmFyIENvbXBJdGVyYXRvciA9IGZ1bmN0aW9uKGl0KXsKICAgICAgdGhpcy5pdCA9IGl0OwogICAgICB0aGlzLnByb2NCdWYgPSBbXTsKICAgICAgdGhpcy5yZXNCdWYgPSBbXTsKICAgICAgdGhpcy5sYXN0Q2xhc3MgPSBudWxsOwogICB9OwoKICAgQ29tcEl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24oKXsKICAgICAgd2hpbGUodGhpcy5yZXNCdWYubGVuZ3RoID09PSAwKXsKICAgICAgICAgdmFyIHVjaGFyID0gdGhpcy5pdC5uZXh0KCk7CiAgICAgICAgIGlmKCF1Y2hhcil7CiAgICAgICAgICAgIHRoaXMucmVzQnVmID0gdGhpcy5wcm9jQnVmOwogICAgICAgICAgICB0aGlzLnByb2NCdWYgPSBbXTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgIH0KICAgICAgICAgaWYodGhpcy5wcm9jQnVmLmxlbmd0aCA9PT0gMCl7CiAgICAgICAgICAgIHRoaXMubGFzdENsYXNzID0gdWNoYXIuZ2V0Q2Fub25pY2FsQ2xhc3MoKTsKICAgICAgICAgICAgdGhpcy5wcm9jQnVmLnB1c2godWNoYXIpOwogICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YXIgc3RhcnRlciA9IHRoaXMucHJvY0J1ZlswXTsKICAgICAgICAgICAgdmFyIGNvbXBvc2l0ZSA9IHN0YXJ0ZXIuZ2V0Q29tcG9zaXRlKHVjaGFyKTsKICAgICAgICAgICAgdmFyIGNjID0gdWNoYXIuZ2V0Q2Fub25pY2FsQ2xhc3MoKTsKICAgICAgICAgICAgaWYoISFjb21wb3NpdGUgJiYgKHRoaXMubGFzdENsYXNzIDwgY2MgfHwgdGhpcy5sYXN0Q2xhc3MgPT09IDApKXsKICAgICAgICAgICAgICAgdGhpcy5wcm9jQnVmWzBdID0gY29tcG9zaXRlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICBpZihjYyA9PT0gMCl7CiAgICAgICAgICAgICAgICAgIHRoaXMucmVzQnVmID0gdGhpcy5wcm9jQnVmOwogICAgICAgICAgICAgICAgICB0aGlzLnByb2NCdWYgPSBbXTsKICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICB0aGlzLmxhc3RDbGFzcyA9IGNjOwogICAgICAgICAgICAgICB0aGlzLnByb2NCdWYucHVzaCh1Y2hhcik7CiAgICAgICAgICAgIH0KICAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiB0aGlzLnJlc0J1Zi5zaGlmdCgpOwogICB9OwoKICAgdmFyIGNyZWF0ZUl0ZXJhdG9yID0gZnVuY3Rpb24obW9kZSwgc3RyKXsKICAgICAgc3dpdGNoKG1vZGUpewogICAgICAgICBjYXNlICJORkQiOgogICAgICAgICAgICByZXR1cm4gbmV3IERlY29tcEl0ZXJhdG9yKG5ldyBSZWN1cnNEZWNvbXBJdGVyYXRvcihuZXcgVUNoYXJJdGVyYXRvcihzdHIpLCB0cnVlKSk7CiAgICAgICAgIGNhc2UgIk5GS0QiOgogICAgICAgICAgICByZXR1cm4gbmV3IERlY29tcEl0ZXJhdG9yKG5ldyBSZWN1cnNEZWNvbXBJdGVyYXRvcihuZXcgVUNoYXJJdGVyYXRvcihzdHIpLCBmYWxzZSkpOwogICAgICAgICBjYXNlICJORkMiOgogICAgICAgICAgICByZXR1cm4gbmV3IENvbXBJdGVyYXRvcihuZXcgRGVjb21wSXRlcmF0b3IobmV3IFJlY3Vyc0RlY29tcEl0ZXJhdG9yKG5ldyBVQ2hhckl0ZXJhdG9yKHN0ciksIHRydWUpKSk7CiAgICAgICAgIGNhc2UgIk5GS0MiOgogICAgICAgICAgICByZXR1cm4gbmV3IENvbXBJdGVyYXRvcihuZXcgRGVjb21wSXRlcmF0b3IobmV3IFJlY3Vyc0RlY29tcEl0ZXJhdG9yKG5ldyBVQ2hhckl0ZXJhdG9yKHN0ciksIGZhbHNlKSkpOwogICAgICB9CiAgICAgIHRocm93IG1vZGUgKyAiIGlzIGludmFsaWQiOwogICB9OwogICB2YXIgbm9ybWFsaXplID0gZnVuY3Rpb24obW9kZSwgc3RyKXsKICAgICAgdmFyIGl0ID0gY3JlYXRlSXRlcmF0b3IobW9kZSwgc3RyKTsKICAgICAgdmFyIHJldCA9ICIiOwogICAgICB2YXIgdWNoYXI7CiAgICAgIHdoaWxlKCEhKHVjaGFyID0gaXQubmV4dCgpKSl7CiAgICAgICAgIHJldCArPSB1Y2hhci50b1N0cmluZygpOwogICAgICB9CiAgICAgIHJldHVybiByZXQ7CiAgIH07CgogICAvKiBBUEkgZnVuY3Rpb25zICovCiAgIGZ1bmN0aW9uIG5mZChzdHIpewogICAgICByZXR1cm4gbm9ybWFsaXplKCJORkQiLCBzdHIpOwogICB9CgogICBmdW5jdGlvbiBuZmtkKHN0cil7CiAgICAgIHJldHVybiBub3JtYWxpemUoIk5GS0QiLCBzdHIpOwogICB9CgogICBmdW5jdGlvbiBuZmMoc3RyKXsKICAgICAgcmV0dXJuIG5vcm1hbGl6ZSgiTkZDIiwgc3RyKTsKICAgfQoKICAgZnVuY3Rpb24gbmZrYyhzdHIpewogICAgICByZXR1cm4gbm9ybWFsaXplKCJORktDIiwgc3RyKTsKICAgfQoKLyogVW5pY29kZSBkYXRhICovClVDaGFyLnVkYXRhPXsKMDp7NjA6WywsezgyNDo4ODE0fV0sNjE6WywsezgyNDo4ODAwfV0sNjI6WywsezgyNDo4ODE1fV0sNjU6Wywsezc2ODoxOTIsNzY5OjE5Myw3NzA6MTk0LDc3MToxOTUsNzcyOjI1Niw3NzQ6MjU4LDc3NTo1NTAsNzc2OjE5Niw3Nzc6Nzg0Miw3Nzg6MTk3LDc4MDo0NjEsNzgzOjUxMiw3ODU6NTE0LDgwMzo3ODQwLDgwNTo3NjgwLDgwODoyNjB9XSw2NjpbLCx7Nzc1Ojc2ODIsODAzOjc2ODQsODE3Ojc2ODZ9XSw2NzpbLCx7NzY5OjI2Miw3NzA6MjY0LDc3NToyNjYsNzgwOjI2OCw4MDc6MTk5fV0sNjg6Wywsezc3NTo3NjkwLDc4MDoyNzAsODAzOjc2OTIsODA3Ojc2OTYsODEzOjc2OTgsODE3Ojc2OTR9XSw2OTpbLCx7NzY4OjIwMCw3Njk6MjAxLDc3MDoyMDIsNzcxOjc4NjgsNzcyOjI3NCw3NzQ6Mjc2LDc3NToyNzgsNzc2OjIwMyw3Nzc6Nzg2Niw3ODA6MjgyLDc4Mzo1MTYsNzg1OjUxOCw4MDM6Nzg2NCw4MDc6NTUyLDgwODoyODAsODEzOjc3MDQsODE2Ojc3MDZ9XSw3MDpbLCx7Nzc1Ojc3MTB9XSw3MTpbLCx7NzY5OjUwMCw3NzA6Mjg0LDc3Mjo3NzEyLDc3NDoyODYsNzc1OjI4OCw3ODA6NDg2LDgwNzoyOTB9XSw3MjpbLCx7NzcwOjI5Miw3NzU6NzcxNCw3NzY6NzcxOCw3ODA6NTQyLDgwMzo3NzE2LDgwNzo3NzIwLDgxNDo3NzIyfV0sNzM6Wywsezc2ODoyMDQsNzY5OjIwNSw3NzA6MjA2LDc3MToyOTYsNzcyOjI5OCw3NzQ6MzAwLDc3NTozMDQsNzc2OjIwNyw3Nzc6Nzg4MCw3ODA6NDYzLDc4Mzo1MjAsNzg1OjUyMiw4MDM6Nzg4Miw4MDg6MzAyLDgxNjo3NzI0fV0sNzQ6Wywsezc3MDozMDh9XSw3NTpbLCx7NzY5Ojc3MjgsNzgwOjQ4OCw4MDM6NzczMCw4MDc6MzEwLDgxNzo3NzMyfV0sNzY6Wywsezc2OTozMTMsNzgwOjMxNyw4MDM6NzczNCw4MDc6MzE1LDgxMzo3NzQwLDgxNzo3NzM4fV0sNzc6Wywsezc2OTo3NzQyLDc3NTo3NzQ0LDgwMzo3NzQ2fV0sNzg6Wywsezc2ODo1MDQsNzY5OjMyMyw3NzE6MjA5LDc3NTo3NzQ4LDc4MDozMjcsODAzOjc3NTAsODA3OjMyNSw4MTM6Nzc1NCw4MTc6Nzc1Mn1dLDc5OlssLHs3Njg6MjEwLDc2OToyMTEsNzcwOjIxMiw3NzE6MjEzLDc3MjozMzIsNzc0OjMzNCw3NzU6NTU4LDc3NjoyMTQsNzc3Ojc4ODYsNzc5OjMzNiw3ODA6NDY1LDc4Mzo1MjQsNzg1OjUyNiw3OTU6NDE2LDgwMzo3ODg0LDgwODo0OTB9XSw4MDpbLCx7NzY5Ojc3NjQsNzc1Ojc3NjZ9XSw4MjpbLCx7NzY5OjM0MCw3NzU6Nzc2OCw3ODA6MzQ0LDc4Mzo1MjgsNzg1OjUzMCw4MDM6Nzc3MCw4MDc6MzQyLDgxNzo3Nzc0fV0sODM6Wywsezc2OTozNDYsNzcwOjM0OCw3NzU6Nzc3Niw3ODA6MzUyLDgwMzo3Nzc4LDgwNjo1MzYsODA3OjM1MH1dLDg0OlssLHs3NzU6Nzc4Niw3ODA6MzU2LDgwMzo3Nzg4LDgwNjo1MzgsODA3OjM1NCw4MTM6Nzc5Miw4MTc6Nzc5MH1dLDg1OlssLHs3Njg6MjE3LDc2OToyMTgsNzcwOjIxOSw3NzE6MzYwLDc3MjozNjIsNzc0OjM2NCw3NzY6MjIwLDc3Nzo3OTEwLDc3ODozNjYsNzc5OjM2OCw3ODA6NDY3LDc4Mzo1MzIsNzg1OjUzNCw3OTU6NDMxLDgwMzo3OTA4LDgwNDo3Nzk0LDgwODozNzAsODEzOjc3OTgsODE2Ojc3OTZ9XSw4NjpbLCx7NzcxOjc4MDQsODAzOjc4MDZ9XSw4NzpbLCx7NzY4Ojc4MDgsNzY5Ojc4MTAsNzcwOjM3Miw3NzU6NzgxNCw3NzY6NzgxMiw4MDM6NzgxNn1dLDg4OlssLHs3NzU6NzgxOCw3NzY6NzgyMH1dLDg5OlssLHs3Njg6NzkyMiw3Njk6MjIxLDc3MDozNzQsNzcxOjc5MjgsNzcyOjU2Miw3NzU6NzgyMiw3NzY6Mzc2LDc3Nzo3OTI2LDgwMzo3OTI0fV0sOTA6Wywsezc2OTozNzcsNzcwOjc4MjQsNzc1OjM3OSw3ODA6MzgxLDgwMzo3ODI2LDgxNzo3ODI4fV0sOTc6Wywsezc2ODoyMjQsNzY5OjIyNSw3NzA6MjI2LDc3MToyMjcsNzcyOjI1Nyw3NzQ6MjU5LDc3NTo1NTEsNzc2OjIyOCw3Nzc6Nzg0Myw3Nzg6MjI5LDc4MDo0NjIsNzgzOjUxMyw3ODU6NTE1LDgwMzo3ODQxLDgwNTo3NjgxLDgwODoyNjF9XSw5ODpbLCx7Nzc1Ojc2ODMsODAzOjc2ODUsODE3Ojc2ODd9XSw5OTpbLCx7NzY5OjI2Myw3NzA6MjY1LDc3NToyNjcsNzgwOjI2OSw4MDc6MjMxfV0sMTAwOlssLHs3NzU6NzY5MSw3ODA6MjcxLDgwMzo3NjkzLDgwNzo3Njk3LDgxMzo3Njk5LDgxNzo3Njk1fV0sMTAxOlssLHs3Njg6MjMyLDc2OToyMzMsNzcwOjIzNCw3NzE6Nzg2OSw3NzI6Mjc1LDc3NDoyNzcsNzc1OjI3OSw3NzY6MjM1LDc3Nzo3ODY3LDc4MDoyODMsNzgzOjUxNyw3ODU6NTE5LDgwMzo3ODY1LDgwNzo1NTMsODA4OjI4MSw4MTM6NzcwNSw4MTY6NzcwN31dLDEwMjpbLCx7Nzc1Ojc3MTF9XSwxMDM6Wywsezc2OTo1MDEsNzcwOjI4NSw3NzI6NzcxMyw3NzQ6Mjg3LDc3NToyODksNzgwOjQ4Nyw4MDc6MjkxfV0sMTA0OlssLHs3NzA6MjkzLDc3NTo3NzE1LDc3Njo3NzE5LDc4MDo1NDMsODAzOjc3MTcsODA3Ojc3MjEsODE0Ojc3MjMsODE3Ojc4MzB9XSwxMDU6Wywsezc2ODoyMzYsNzY5OjIzNyw3NzA6MjM4LDc3MToyOTcsNzcyOjI5OSw3NzQ6MzAxLDc3NjoyMzksNzc3Ojc4ODEsNzgwOjQ2NCw3ODM6NTIxLDc4NTo1MjMsODAzOjc4ODMsODA4OjMwMyw4MTY6NzcyNX1dLDEwNjpbLCx7NzcwOjMwOSw3ODA6NDk2fV0sMTA3OlssLHs3Njk6NzcyOSw3ODA6NDg5LDgwMzo3NzMxLDgwNzozMTEsODE3Ojc3MzN9XSwxMDg6Wywsezc2OTozMTQsNzgwOjMxOCw4MDM6NzczNSw4MDc6MzE2LDgxMzo3NzQxLDgxNzo3NzM5fV0sMTA5OlssLHs3Njk6Nzc0Myw3NzU6Nzc0NSw4MDM6Nzc0N31dLDExMDpbLCx7NzY4OjUwNSw3Njk6MzI0LDc3MToyNDEsNzc1Ojc3NDksNzgwOjMyOCw4MDM6Nzc1MSw4MDc6MzI2LDgxMzo3NzU1LDgxNzo3NzUzfV0sMTExOlssLHs3Njg6MjQyLDc2OToyNDMsNzcwOjI0NCw3NzE6MjQ1LDc3MjozMzMsNzc0OjMzNSw3NzU6NTU5LDc3NjoyNDYsNzc3Ojc4ODcsNzc5OjMzNyw3ODA6NDY2LDc4Mzo1MjUsNzg1OjUyNyw3OTU6NDE3LDgwMzo3ODg1LDgwODo0OTF9XSwxMTI6Wywsezc2OTo3NzY1LDc3NTo3NzY3fV0sMTE0OlssLHs3Njk6MzQxLDc3NTo3NzY5LDc4MDozNDUsNzgzOjUyOSw3ODU6NTMxLDgwMzo3NzcxLDgwNzozNDMsODE3Ojc3NzV9XSwxMTU6Wywsezc2OTozNDcsNzcwOjM0OSw3NzU6Nzc3Nyw3ODA6MzUzLDgwMzo3Nzc5LDgwNjo1MzcsODA3OjM1MX1dLDExNjpbLCx7Nzc1Ojc3ODcsNzc2Ojc4MzEsNzgwOjM1Nyw4MDM6Nzc4OSw4MDY6NTM5LDgwNzozNTUsODEzOjc3OTMsODE3Ojc3OTF9XSwxMTc6Wywsezc2ODoyNDksNzY5OjI1MCw3NzA6MjUxLDc3MTozNjEsNzcyOjM2Myw3NzQ6MzY1LDc3NjoyNTIsNzc3Ojc5MTEsNzc4OjM2Nyw3Nzk6MzY5LDc4MDo0NjgsNzgzOjUzMyw3ODU6NTM1LDc5NTo0MzIsODAzOjc5MDksODA0Ojc3OTUsODA4OjM3MSw4MTM6Nzc5OSw4MTY6Nzc5N31dLDExODpbLCx7NzcxOjc4MDUsODAzOjc4MDd9XSwxMTk6Wywsezc2ODo3ODA5LDc2OTo3ODExLDc3MDozNzMsNzc1Ojc4MTUsNzc2Ojc4MTMsNzc4Ojc4MzIsODAzOjc4MTd9XSwxMjA6Wywsezc3NTo3ODE5LDc3Njo3ODIxfV0sMTIxOlssLHs3Njg6NzkyMyw3Njk6MjUzLDc3MDozNzUsNzcxOjc5MjksNzcyOjU2Myw3NzU6NzgyMyw3NzY6MjU1LDc3Nzo3OTI3LDc3ODo3ODMzLDgwMzo3OTI1fV0sMTIyOlssLHs3Njk6Mzc4LDc3MDo3ODI1LDc3NTozODAsNzgwOjM4Miw4MDM6NzgyNyw4MTc6NzgyOX1dLDE2MDpbWzMyXSwyNTZdLDE2ODpbWzMyLDc3Nl0sMjU2LHs3Njg6ODE3Myw3Njk6OTAxLDgzNDo4MTI5fV0sMTcwOltbOTddLDI1Nl0sMTc1OltbMzIsNzcyXSwyNTZdLDE3ODpbWzUwXSwyNTZdLDE3OTpbWzUxXSwyNTZdLDE4MDpbWzMyLDc2OV0sMjU2XSwxODE6W1s5NTZdLDI1Nl0sMTg0OltbMzIsODA3XSwyNTZdLDE4NTpbWzQ5XSwyNTZdLDE4NjpbWzExMV0sMjU2XSwxODg6W1s0OSw4MjYwLDUyXSwyNTZdLDE4OTpbWzQ5LDgyNjAsNTBdLDI1Nl0sMTkwOltbNTEsODI2MCw1Ml0sMjU2XSwxOTI6W1s2NSw3NjhdXSwxOTM6W1s2NSw3NjldXSwxOTQ6W1s2NSw3NzBdLCx7NzY4Ojc4NDYsNzY5Ojc4NDQsNzcxOjc4NTAsNzc3Ojc4NDh9XSwxOTU6W1s2NSw3NzFdXSwxOTY6W1s2NSw3NzZdLCx7NzcyOjQ3OH1dLDE5NzpbWzY1LDc3OF0sLHs3Njk6NTA2fV0sMTk4OlssLHs3Njk6NTA4LDc3Mjo0ODJ9XSwxOTk6W1s2Nyw4MDddLCx7NzY5Ojc2ODh9XSwyMDA6W1s2OSw3NjhdXSwyMDE6W1s2OSw3NjldXSwyMDI6W1s2OSw3NzBdLCx7NzY4Ojc4NzIsNzY5Ojc4NzAsNzcxOjc4NzYsNzc3Ojc4NzR9XSwyMDM6W1s2OSw3NzZdXSwyMDQ6W1s3Myw3NjhdXSwyMDU6W1s3Myw3NjldXSwyMDY6W1s3Myw3NzBdXSwyMDc6W1s3Myw3NzZdLCx7NzY5Ojc3MjZ9XSwyMDk6W1s3OCw3NzFdXSwyMTA6W1s3OSw3NjhdXSwyMTE6W1s3OSw3NjldXSwyMTI6W1s3OSw3NzBdLCx7NzY4Ojc4OTAsNzY5Ojc4ODgsNzcxOjc4OTQsNzc3Ojc4OTJ9XSwyMTM6W1s3OSw3NzFdLCx7NzY5Ojc3NTYsNzcyOjU1Niw3NzY6Nzc1OH1dLDIxNDpbWzc5LDc3Nl0sLHs3NzI6NTU0fV0sMjE2OlssLHs3Njk6NTEwfV0sMjE3OltbODUsNzY4XV0sMjE4OltbODUsNzY5XV0sMjE5OltbODUsNzcwXV0sMjIwOltbODUsNzc2XSwsezc2ODo0NzUsNzY5OjQ3MSw3NzI6NDY5LDc4MDo0NzN9XSwyMjE6W1s4OSw3NjldXSwyMjQ6W1s5Nyw3NjhdXSwyMjU6W1s5Nyw3NjldXSwyMjY6W1s5Nyw3NzBdLCx7NzY4Ojc4NDcsNzY5Ojc4NDUsNzcxOjc4NTEsNzc3Ojc4NDl9XSwyMjc6W1s5Nyw3NzFdXSwyMjg6W1s5Nyw3NzZdLCx7NzcyOjQ3OX1dLDIyOTpbWzk3LDc3OF0sLHs3Njk6NTA3fV0sMjMwOlssLHs3Njk6NTA5LDc3Mjo0ODN9XSwyMzE6W1s5OSw4MDddLCx7NzY5Ojc2ODl9XSwyMzI6W1sxMDEsNzY4XV0sMjMzOltbMTAxLDc2OV1dLDIzNDpbWzEwMSw3NzBdLCx7NzY4Ojc4NzMsNzY5Ojc4NzEsNzcxOjc4NzcsNzc3Ojc4NzV9XSwyMzU6W1sxMDEsNzc2XV0sMjM2OltbMTA1LDc2OF1dLDIzNzpbWzEwNSw3NjldXSwyMzg6W1sxMDUsNzcwXV0sMjM5OltbMTA1LDc3Nl0sLHs3Njk6NzcyN31dLDI0MTpbWzExMCw3NzFdXSwyNDI6W1sxMTEsNzY4XV0sMjQzOltbMTExLDc2OV1dLDI0NDpbWzExMSw3NzBdLCx7NzY4Ojc4OTEsNzY5Ojc4ODksNzcxOjc4OTUsNzc3Ojc4OTN9XSwyNDU6W1sxMTEsNzcxXSwsezc2OTo3NzU3LDc3Mjo1NTcsNzc2Ojc3NTl9XSwyNDY6W1sxMTEsNzc2XSwsezc3Mjo1NTV9XSwyNDg6Wywsezc2OTo1MTF9XSwyNDk6W1sxMTcsNzY4XV0sMjUwOltbMTE3LDc2OV1dLDI1MTpbWzExNyw3NzBdXSwyNTI6W1sxMTcsNzc2XSwsezc2ODo0NzYsNzY5OjQ3Miw3NzI6NDcwLDc4MDo0NzR9XSwyNTM6W1sxMjEsNzY5XV0sMjU1OltbMTIxLDc3Nl1dfSwKMjU2OnsyNTY6W1s2NSw3NzJdXSwyNTc6W1s5Nyw3NzJdXSwyNTg6W1s2NSw3NzRdLCx7NzY4Ojc4NTYsNzY5Ojc4NTQsNzcxOjc4NjAsNzc3Ojc4NTh9XSwyNTk6W1s5Nyw3NzRdLCx7NzY4Ojc4NTcsNzY5Ojc4NTUsNzcxOjc4NjEsNzc3Ojc4NTl9XSwyNjA6W1s2NSw4MDhdXSwyNjE6W1s5Nyw4MDhdXSwyNjI6W1s2Nyw3NjldXSwyNjM6W1s5OSw3NjldXSwyNjQ6W1s2Nyw3NzBdXSwyNjU6W1s5OSw3NzBdXSwyNjY6W1s2Nyw3NzVdXSwyNjc6W1s5OSw3NzVdXSwyNjg6W1s2Nyw3ODBdXSwyNjk6W1s5OSw3ODBdXSwyNzA6W1s2OCw3ODBdXSwyNzE6W1sxMDAsNzgwXV0sMjc0OltbNjksNzcyXSwsezc2ODo3NzAwLDc2OTo3NzAyfV0sMjc1OltbMTAxLDc3Ml0sLHs3Njg6NzcwMSw3Njk6NzcwM31dLDI3NjpbWzY5LDc3NF1dLDI3NzpbWzEwMSw3NzRdXSwyNzg6W1s2OSw3NzVdXSwyNzk6W1sxMDEsNzc1XV0sMjgwOltbNjksODA4XV0sMjgxOltbMTAxLDgwOF1dLDI4MjpbWzY5LDc4MF1dLDI4MzpbWzEwMSw3ODBdXSwyODQ6W1s3MSw3NzBdXSwyODU6W1sxMDMsNzcwXV0sMjg2OltbNzEsNzc0XV0sMjg3OltbMTAzLDc3NF1dLDI4ODpbWzcxLDc3NV1dLDI4OTpbWzEwMyw3NzVdXSwyOTA6W1s3MSw4MDddXSwyOTE6W1sxMDMsODA3XV0sMjkyOltbNzIsNzcwXV0sMjkzOltbMTA0LDc3MF1dLDI5NjpbWzczLDc3MV1dLDI5NzpbWzEwNSw3NzFdXSwyOTg6W1s3Myw3NzJdXSwyOTk6W1sxMDUsNzcyXV0sMzAwOltbNzMsNzc0XV0sMzAxOltbMTA1LDc3NF1dLDMwMjpbWzczLDgwOF1dLDMwMzpbWzEwNSw4MDhdXSwzMDQ6W1s3Myw3NzVdXSwzMDY6W1s3Myw3NF0sMjU2XSwzMDc6W1sxMDUsMTA2XSwyNTZdLDMwODpbWzc0LDc3MF1dLDMwOTpbWzEwNiw3NzBdXSwzMTA6W1s3NSw4MDddXSwzMTE6W1sxMDcsODA3XV0sMzEzOltbNzYsNzY5XV0sMzE0OltbMTA4LDc2OV1dLDMxNTpbWzc2LDgwN11dLDMxNjpbWzEwOCw4MDddXSwzMTc6W1s3Niw3ODBdXSwzMTg6W1sxMDgsNzgwXV0sMzE5OltbNzYsMTgzXSwyNTZdLDMyMDpbWzEwOCwxODNdLDI1Nl0sMzIzOltbNzgsNzY5XV0sMzI0OltbMTEwLDc2OV1dLDMyNTpbWzc4LDgwN11dLDMyNjpbWzExMCw4MDddXSwzMjc6W1s3OCw3ODBdXSwzMjg6W1sxMTAsNzgwXV0sMzI5OltbNzAwLDExMF0sMjU2XSwzMzI6W1s3OSw3NzJdLCx7NzY4Ojc3NjAsNzY5Ojc3NjJ9XSwzMzM6W1sxMTEsNzcyXSwsezc2ODo3NzYxLDc2OTo3NzYzfV0sMzM0OltbNzksNzc0XV0sMzM1OltbMTExLDc3NF1dLDMzNjpbWzc5LDc3OV1dLDMzNzpbWzExMSw3NzldXSwzNDA6W1s4Miw3NjldXSwzNDE6W1sxMTQsNzY5XV0sMzQyOltbODIsODA3XV0sMzQzOltbMTE0LDgwN11dLDM0NDpbWzgyLDc4MF1dLDM0NTpbWzExNCw3ODBdXSwzNDY6W1s4Myw3NjldLCx7Nzc1Ojc3ODB9XSwzNDc6W1sxMTUsNzY5XSwsezc3NTo3NzgxfV0sMzQ4OltbODMsNzcwXV0sMzQ5OltbMTE1LDc3MF1dLDM1MDpbWzgzLDgwN11dLDM1MTpbWzExNSw4MDddXSwzNTI6W1s4Myw3ODBdLCx7Nzc1Ojc3ODJ9XSwzNTM6W1sxMTUsNzgwXSwsezc3NTo3NzgzfV0sMzU0OltbODQsODA3XV0sMzU1OltbMTE2LDgwN11dLDM1NjpbWzg0LDc4MF1dLDM1NzpbWzExNiw3ODBdXSwzNjA6W1s4NSw3NzFdLCx7NzY5Ojc4MDB9XSwzNjE6W1sxMTcsNzcxXSwsezc2OTo3ODAxfV0sMzYyOltbODUsNzcyXSwsezc3Njo3ODAyfV0sMzYzOltbMTE3LDc3Ml0sLHs3NzY6NzgwM31dLDM2NDpbWzg1LDc3NF1dLDM2NTpbWzExNyw3NzRdXSwzNjY6W1s4NSw3NzhdXSwzNjc6W1sxMTcsNzc4XV0sMzY4OltbODUsNzc5XV0sMzY5OltbMTE3LDc3OV1dLDM3MDpbWzg1LDgwOF1dLDM3MTpbWzExNyw4MDhdXSwzNzI6W1s4Nyw3NzBdXSwzNzM6W1sxMTksNzcwXV0sMzc0OltbODksNzcwXV0sMzc1OltbMTIxLDc3MF1dLDM3NjpbWzg5LDc3Nl1dLDM3NzpbWzkwLDc2OV1dLDM3ODpbWzEyMiw3NjldXSwzNzk6W1s5MCw3NzVdXSwzODA6W1sxMjIsNzc1XV0sMzgxOltbOTAsNzgwXV0sMzgyOltbMTIyLDc4MF1dLDM4MzpbWzExNV0sMjU2LHs3NzU6NzgzNX1dLDQxNjpbWzc5LDc5NV0sLHs3Njg6NzkwMCw3Njk6Nzg5OCw3NzE6NzkwNCw3Nzc6NzkwMiw4MDM6NzkwNn1dLDQxNzpbWzExMSw3OTVdLCx7NzY4Ojc5MDEsNzY5Ojc4OTksNzcxOjc5MDUsNzc3Ojc5MDMsODAzOjc5MDd9XSw0MzE6W1s4NSw3OTVdLCx7NzY4Ojc5MTQsNzY5Ojc5MTIsNzcxOjc5MTgsNzc3Ojc5MTYsODAzOjc5MjB9XSw0MzI6W1sxMTcsNzk1XSwsezc2ODo3OTE1LDc2OTo3OTEzLDc3MTo3OTE5LDc3Nzo3OTE3LDgwMzo3OTIxfV0sNDM5OlssLHs3ODA6NDk0fV0sNDUyOltbNjgsMzgxXSwyNTZdLDQ1MzpbWzY4LDM4Ml0sMjU2XSw0NTQ6W1sxMDAsMzgyXSwyNTZdLDQ1NTpbWzc2LDc0XSwyNTZdLDQ1NjpbWzc2LDEwNl0sMjU2XSw0NTc6W1sxMDgsMTA2XSwyNTZdLDQ1ODpbWzc4LDc0XSwyNTZdLDQ1OTpbWzc4LDEwNl0sMjU2XSw0NjA6W1sxMTAsMTA2XSwyNTZdLDQ2MTpbWzY1LDc4MF1dLDQ2MjpbWzk3LDc4MF1dLDQ2MzpbWzczLDc4MF1dLDQ2NDpbWzEwNSw3ODBdXSw0NjU6W1s3OSw3ODBdXSw0NjY6W1sxMTEsNzgwXV0sNDY3OltbODUsNzgwXV0sNDY4OltbMTE3LDc4MF1dLDQ2OTpbWzIyMCw3NzJdXSw0NzA6W1syNTIsNzcyXV0sNDcxOltbMjIwLDc2OV1dLDQ3MjpbWzI1Miw3NjldXSw0NzM6W1syMjAsNzgwXV0sNDc0OltbMjUyLDc4MF1dLDQ3NTpbWzIyMCw3NjhdXSw0NzY6W1syNTIsNzY4XV0sNDc4OltbMTk2LDc3Ml1dLDQ3OTpbWzIyOCw3NzJdXSw0ODA6W1s1NTAsNzcyXV0sNDgxOltbNTUxLDc3Ml1dLDQ4MjpbWzE5OCw3NzJdXSw0ODM6W1syMzAsNzcyXV0sNDg2OltbNzEsNzgwXV0sNDg3OltbMTAzLDc4MF1dLDQ4ODpbWzc1LDc4MF1dLDQ4OTpbWzEwNyw3ODBdXSw0OTA6W1s3OSw4MDhdLCx7NzcyOjQ5Mn1dLDQ5MTpbWzExMSw4MDhdLCx7NzcyOjQ5M31dLDQ5MjpbWzQ5MCw3NzJdXSw0OTM6W1s0OTEsNzcyXV0sNDk0OltbNDM5LDc4MF1dLDQ5NTpbWzY1OCw3ODBdXSw0OTY6W1sxMDYsNzgwXV0sNDk3OltbNjgsOTBdLDI1Nl0sNDk4OltbNjgsMTIyXSwyNTZdLDQ5OTpbWzEwMCwxMjJdLDI1Nl0sNTAwOltbNzEsNzY5XV0sNTAxOltbMTAzLDc2OV1dLDUwNDpbWzc4LDc2OF1dLDUwNTpbWzExMCw3NjhdXSw1MDY6W1sxOTcsNzY5XV0sNTA3OltbMjI5LDc2OV1dLDUwODpbWzE5OCw3NjldXSw1MDk6W1syMzAsNzY5XV0sNTEwOltbMjE2LDc2OV1dLDUxMTpbWzI0OCw3NjldXSw2NjA0NTpbLDIyMF19LAo1MTI6ezUxMjpbWzY1LDc4M11dLDUxMzpbWzk3LDc4M11dLDUxNDpbWzY1LDc4NV1dLDUxNTpbWzk3LDc4NV1dLDUxNjpbWzY5LDc4M11dLDUxNzpbWzEwMSw3ODNdXSw1MTg6W1s2OSw3ODVdXSw1MTk6W1sxMDEsNzg1XV0sNTIwOltbNzMsNzgzXV0sNTIxOltbMTA1LDc4M11dLDUyMjpbWzczLDc4NV1dLDUyMzpbWzEwNSw3ODVdXSw1MjQ6W1s3OSw3ODNdXSw1MjU6W1sxMTEsNzgzXV0sNTI2OltbNzksNzg1XV0sNTI3OltbMTExLDc4NV1dLDUyODpbWzgyLDc4M11dLDUyOTpbWzExNCw3ODNdXSw1MzA6W1s4Miw3ODVdXSw1MzE6W1sxMTQsNzg1XV0sNTMyOltbODUsNzgzXV0sNTMzOltbMTE3LDc4M11dLDUzNDpbWzg1LDc4NV1dLDUzNTpbWzExNyw3ODVdXSw1MzY6W1s4Myw4MDZdXSw1Mzc6W1sxMTUsODA2XV0sNTM4OltbODQsODA2XV0sNTM5OltbMTE2LDgwNl1dLDU0MjpbWzcyLDc4MF1dLDU0MzpbWzEwNCw3ODBdXSw1NTA6W1s2NSw3NzVdLCx7NzcyOjQ4MH1dLDU1MTpbWzk3LDc3NV0sLHs3NzI6NDgxfV0sNTUyOltbNjksODA3XSwsezc3NDo3NzA4fV0sNTUzOltbMTAxLDgwN10sLHs3NzQ6NzcwOX1dLDU1NDpbWzIxNCw3NzJdXSw1NTU6W1syNDYsNzcyXV0sNTU2OltbMjEzLDc3Ml1dLDU1NzpbWzI0NSw3NzJdXSw1NTg6W1s3OSw3NzVdLCx7NzcyOjU2MH1dLDU1OTpbWzExMSw3NzVdLCx7NzcyOjU2MX1dLDU2MDpbWzU1OCw3NzJdXSw1NjE6W1s1NTksNzcyXV0sNTYyOltbODksNzcyXV0sNTYzOltbMTIxLDc3Ml1dLDY1ODpbLCx7NzgwOjQ5NX1dLDY4ODpbWzEwNF0sMjU2XSw2ODk6W1s2MTRdLDI1Nl0sNjkwOltbMTA2XSwyNTZdLDY5MTpbWzExNF0sMjU2XSw2OTI6W1s2MzNdLDI1Nl0sNjkzOltbNjM1XSwyNTZdLDY5NDpbWzY0MV0sMjU2XSw2OTU6W1sxMTldLDI1Nl0sNjk2OltbMTIxXSwyNTZdLDcyODpbWzMyLDc3NF0sMjU2XSw3Mjk6W1szMiw3NzVdLDI1Nl0sNzMwOltbMzIsNzc4XSwyNTZdLDczMTpbWzMyLDgwOF0sMjU2XSw3MzI6W1szMiw3NzFdLDI1Nl0sNzMzOltbMzIsNzc5XSwyNTZdLDczNjpbWzYxMV0sMjU2XSw3Mzc6W1sxMDhdLDI1Nl0sNzM4OltbMTE1XSwyNTZdLDczOTpbWzEyMF0sMjU2XSw3NDA6W1s2NjFdLDI1Nl0sNjYyNzI6WywyMjBdfSwKNzY4Ons3Njg6WywyMzBdLDc2OTpbLDIzMF0sNzcwOlssMjMwXSw3NzE6WywyMzBdLDc3MjpbLDIzMF0sNzczOlssMjMwXSw3NzQ6WywyMzBdLDc3NTpbLDIzMF0sNzc2OlssMjMwLHs3Njk6ODM2fV0sNzc3OlssMjMwXSw3Nzg6WywyMzBdLDc3OTpbLDIzMF0sNzgwOlssMjMwXSw3ODE6WywyMzBdLDc4MjpbLDIzMF0sNzgzOlssMjMwXSw3ODQ6WywyMzBdLDc4NTpbLDIzMF0sNzg2OlssMjMwXSw3ODc6WywyMzBdLDc4ODpbLDIzMF0sNzg5OlssMjMyXSw3OTA6WywyMjBdLDc5MTpbLDIyMF0sNzkyOlssMjIwXSw3OTM6WywyMjBdLDc5NDpbLDIzMl0sNzk1OlssMjE2XSw3OTY6WywyMjBdLDc5NzpbLDIyMF0sNzk4OlssMjIwXSw3OTk6WywyMjBdLDgwMDpbLDIyMF0sODAxOlssMjAyXSw4MDI6WywyMDJdLDgwMzpbLDIyMF0sODA0OlssMjIwXSw4MDU6WywyMjBdLDgwNjpbLDIyMF0sODA3OlssMjAyXSw4MDg6WywyMDJdLDgwOTpbLDIyMF0sODEwOlssMjIwXSw4MTE6WywyMjBdLDgxMjpbLDIyMF0sODEzOlssMjIwXSw4MTQ6WywyMjBdLDgxNTpbLDIyMF0sODE2OlssMjIwXSw4MTc6WywyMjBdLDgxODpbLDIyMF0sODE5OlssMjIwXSw4MjA6WywxXSw4MjE6WywxXSw4MjI6WywxXSw4MjM6WywxXSw4MjQ6WywxXSw4MjU6WywyMjBdLDgyNjpbLDIyMF0sODI3OlssMjIwXSw4Mjg6WywyMjBdLDgyOTpbLDIzMF0sODMwOlssMjMwXSw4MzE6WywyMzBdLDgzMjpbWzc2OF0sMjMwXSw4MzM6W1s3NjldLDIzMF0sODM0OlssMjMwXSw4MzU6W1s3ODddLDIzMF0sODM2OltbNzc2LDc2OV0sMjMwXSw4Mzc6WywyNDBdLDgzODpbLDIzMF0sODM5OlssMjIwXSw4NDA6WywyMjBdLDg0MTpbLDIyMF0sODQyOlssMjMwXSw4NDM6WywyMzBdLDg0NDpbLDIzMF0sODQ1OlssMjIwXSw4NDY6WywyMjBdLDg0ODpbLDIzMF0sODQ5OlssMjMwXSw4NTA6WywyMzBdLDg1MTpbLDIyMF0sODUyOlssMjIwXSw4NTM6WywyMjBdLDg1NDpbLDIyMF0sODU1OlssMjMwXSw4NTY6WywyMzJdLDg1NzpbLDIyMF0sODU4OlssMjIwXSw4NTk6WywyMzBdLDg2MDpbLDIzM10sODYxOlssMjM0XSw4NjI6WywyMzRdLDg2MzpbLDIzM10sODY0OlssMjM0XSw4NjU6WywyMzRdLDg2NjpbLDIzM10sODY3OlssMjMwXSw4Njg6WywyMzBdLDg2OTpbLDIzMF0sODcwOlssMjMwXSw4NzE6WywyMzBdLDg3MjpbLDIzMF0sODczOlssMjMwXSw4NzQ6WywyMzBdLDg3NTpbLDIzMF0sODc2OlssMjMwXSw4Nzc6WywyMzBdLDg3ODpbLDIzMF0sODc5OlssMjMwXSw4ODQ6W1s2OTddXSw4OTA6W1szMiw4MzddLDI1Nl0sODk0OltbNTldXSw5MDA6W1szMiw3NjldLDI1Nl0sOTAxOltbMTY4LDc2OV1dLDkwMjpbWzkxMyw3NjldXSw5MDM6W1sxODNdXSw5MDQ6W1s5MTcsNzY5XV0sOTA1OltbOTE5LDc2OV1dLDkwNjpbWzkyMSw3NjldXSw5MDg6W1s5MjcsNzY5XV0sOTEwOltbOTMzLDc2OV1dLDkxMTpbWzkzNyw3NjldXSw5MTI6W1s5NzAsNzY5XV0sOTEzOlssLHs3Njg6ODEyMiw3Njk6OTAyLDc3Mjo4MTIxLDc3NDo4MTIwLDc4Nzo3OTQ0LDc4ODo3OTQ1LDgzNzo4MTI0fV0sOTE3OlssLHs3Njg6ODEzNiw3Njk6OTA0LDc4Nzo3OTYwLDc4ODo3OTYxfV0sOTE5OlssLHs3Njg6ODEzOCw3Njk6OTA1LDc4Nzo3OTc2LDc4ODo3OTc3LDgzNzo4MTQwfV0sOTIxOlssLHs3Njg6ODE1NCw3Njk6OTA2LDc3Mjo4MTUzLDc3NDo4MTUyLDc3Njo5MzgsNzg3Ojc5OTIsNzg4Ojc5OTN9XSw5Mjc6Wywsezc2ODo4MTg0LDc2OTo5MDgsNzg3OjgwMDgsNzg4OjgwMDl9XSw5Mjk6Wywsezc4ODo4MTcyfV0sOTMzOlssLHs3Njg6ODE3MCw3Njk6OTEwLDc3Mjo4MTY5LDc3NDo4MTY4LDc3Njo5MzksNzg4OjgwMjV9XSw5Mzc6Wywsezc2ODo4MTg2LDc2OTo5MTEsNzg3OjgwNDAsNzg4OjgwNDEsODM3OjgxODh9XSw5Mzg6W1s5MjEsNzc2XV0sOTM5OltbOTMzLDc3Nl1dLDk0MDpbWzk0NSw3NjldLCx7ODM3OjgxMTZ9XSw5NDE6W1s5NDksNzY5XV0sOTQyOltbOTUxLDc2OV0sLHs4Mzc6ODEzMn1dLDk0MzpbWzk1Myw3NjldXSw5NDQ6W1s5NzEsNzY5XV0sOTQ1OlssLHs3Njg6ODA0OCw3Njk6OTQwLDc3Mjo4MTEzLDc3NDo4MTEyLDc4Nzo3OTM2LDc4ODo3OTM3LDgzNDo4MTE4LDgzNzo4MTE1fV0sOTQ5OlssLHs3Njg6ODA1MCw3Njk6OTQxLDc4Nzo3OTUyLDc4ODo3OTUzfV0sOTUxOlssLHs3Njg6ODA1Miw3Njk6OTQyLDc4Nzo3OTY4LDc4ODo3OTY5LDgzNDo4MTM0LDgzNzo4MTMxfV0sOTUzOlssLHs3Njg6ODA1NCw3Njk6OTQzLDc3Mjo4MTQ1LDc3NDo4MTQ0LDc3Njo5NzAsNzg3Ojc5ODQsNzg4Ojc5ODUsODM0OjgxNTB9XSw5NTk6Wywsezc2ODo4MDU2LDc2OTo5NzIsNzg3OjgwMDAsNzg4OjgwMDF9XSw5NjE6Wywsezc4Nzo4MTY0LDc4ODo4MTY1fV0sOTY1OlssLHs3Njg6ODA1OCw3Njk6OTczLDc3Mjo4MTYxLDc3NDo4MTYwLDc3Njo5NzEsNzg3OjgwMTYsNzg4OjgwMTcsODM0OjgxNjZ9XSw5Njk6Wywsezc2ODo4MDYwLDc2OTo5NzQsNzg3OjgwMzIsNzg4OjgwMzMsODM0OjgxODIsODM3OjgxNzl9XSw5NzA6W1s5NTMsNzc2XSwsezc2ODo4MTQ2LDc2OTo5MTIsODM0OjgxNTF9XSw5NzE6W1s5NjUsNzc2XSwsezc2ODo4MTYyLDc2OTo5NDQsODM0OjgxNjd9XSw5NzI6W1s5NTksNzY5XV0sOTczOltbOTY1LDc2OV1dLDk3NDpbWzk2OSw3NjldLCx7ODM3OjgxODB9XSw5NzY6W1s5NDZdLDI1Nl0sOTc3OltbOTUyXSwyNTZdLDk3ODpbWzkzM10sMjU2LHs3Njk6OTc5LDc3Njo5ODB9XSw5Nzk6W1s5NzgsNzY5XV0sOTgwOltbOTc4LDc3Nl1dLDk4MTpbWzk2Nl0sMjU2XSw5ODI6W1s5NjBdLDI1Nl0sMTAwODpbWzk1NF0sMjU2XSwxMDA5OltbOTYxXSwyNTZdLDEwMTA6W1s5NjJdLDI1Nl0sMTAxMjpbWzkyMF0sMjU2XSwxMDEzOltbOTQ5XSwyNTZdLDEwMTc6W1s5MzFdLDI1Nl0sNjY0MjI6WywyMzBdLDY2NDIzOlssMjMwXSw2NjQyNDpbLDIzMF0sNjY0MjU6WywyMzBdLDY2NDI2OlssMjMwXX0sCjEwMjQ6ezEwMjQ6W1sxMDQ1LDc2OF1dLDEwMjU6W1sxMDQ1LDc3Nl1dLDEwMjc6W1sxMDQzLDc2OV1dLDEwMzA6Wywsezc3NjoxMDMxfV0sMTAzMTpbWzEwMzAsNzc2XV0sMTAzNjpbWzEwNTAsNzY5XV0sMTAzNzpbWzEwNDgsNzY4XV0sMTAzODpbWzEwNTksNzc0XV0sMTA0MDpbLCx7Nzc0OjEyMzIsNzc2OjEyMzR9XSwxMDQzOlssLHs3Njk6MTAyN31dLDEwNDU6Wywsezc2ODoxMDI0LDc3NDoxMjM4LDc3NjoxMDI1fV0sMTA0NjpbLCx7Nzc0OjEyMTcsNzc2OjEyNDR9XSwxMDQ3OlssLHs3NzY6MTI0Nn1dLDEwNDg6Wywsezc2ODoxMDM3LDc3MjoxMjUwLDc3NDoxMDQ5LDc3NjoxMjUyfV0sMTA0OTpbWzEwNDgsNzc0XV0sMTA1MDpbLCx7NzY5OjEwMzZ9XSwxMDU0OlssLHs3NzY6MTI1NH1dLDEwNTk6Wywsezc3MjoxMjYyLDc3NDoxMDM4LDc3NjoxMjY0LDc3OToxMjY2fV0sMTA2MzpbLCx7Nzc2OjEyNjh9XSwxMDY3OlssLHs3NzY6MTI3Mn1dLDEwNjk6Wywsezc3NjoxMjYwfV0sMTA3MjpbLCx7Nzc0OjEyMzMsNzc2OjEyMzV9XSwxMDc1OlssLHs3Njk6MTEwN31dLDEwNzc6Wywsezc2ODoxMTA0LDc3NDoxMjM5LDc3NjoxMTA1fV0sMTA3ODpbLCx7Nzc0OjEyMTgsNzc2OjEyNDV9XSwxMDc5OlssLHs3NzY6MTI0N31dLDEwODA6Wywsezc2ODoxMTE3LDc3MjoxMjUxLDc3NDoxMDgxLDc3NjoxMjUzfV0sMTA4MTpbWzEwODAsNzc0XV0sMTA4MjpbLCx7NzY5OjExMTZ9XSwxMDg2OlssLHs3NzY6MTI1NX1dLDEwOTE6Wywsezc3MjoxMjYzLDc3NDoxMTE4LDc3NjoxMjY1LDc3OToxMjY3fV0sMTA5NTpbLCx7Nzc2OjEyNjl9XSwxMDk5OlssLHs3NzY6MTI3M31dLDExMDE6Wywsezc3NjoxMjYxfV0sMTEwNDpbWzEwNzcsNzY4XV0sMTEwNTpbWzEwNzcsNzc2XV0sMTEwNzpbWzEwNzUsNzY5XV0sMTExMDpbLCx7Nzc2OjExMTF9XSwxMTExOltbMTExMCw3NzZdXSwxMTE2OltbMTA4Miw3NjldXSwxMTE3OltbMTA4MCw3NjhdXSwxMTE4OltbMTA5MSw3NzRdXSwxMTQwOlssLHs3ODM6MTE0Mn1dLDExNDE6Wywsezc4MzoxMTQzfV0sMTE0MjpbWzExNDAsNzgzXV0sMTE0MzpbWzExNDEsNzgzXV0sMTE1NTpbLDIzMF0sMTE1NjpbLDIzMF0sMTE1NzpbLDIzMF0sMTE1ODpbLDIzMF0sMTE1OTpbLDIzMF0sMTIxNzpbWzEwNDYsNzc0XV0sMTIxODpbWzEwNzgsNzc0XV0sMTIzMjpbWzEwNDAsNzc0XV0sMTIzMzpbWzEwNzIsNzc0XV0sMTIzNDpbWzEwNDAsNzc2XV0sMTIzNTpbWzEwNzIsNzc2XV0sMTIzODpbWzEwNDUsNzc0XV0sMTIzOTpbWzEwNzcsNzc0XV0sMTI0MDpbLCx7Nzc2OjEyNDJ9XSwxMjQxOlssLHs3NzY6MTI0M31dLDEyNDI6W1sxMjQwLDc3Nl1dLDEyNDM6W1sxMjQxLDc3Nl1dLDEyNDQ6W1sxMDQ2LDc3Nl1dLDEyNDU6W1sxMDc4LDc3Nl1dLDEyNDY6W1sxMDQ3LDc3Nl1dLDEyNDc6W1sxMDc5LDc3Nl1dLDEyNTA6W1sxMDQ4LDc3Ml1dLDEyNTE6W1sxMDgwLDc3Ml1dLDEyNTI6W1sxMDQ4LDc3Nl1dLDEyNTM6W1sxMDgwLDc3Nl1dLDEyNTQ6W1sxMDU0LDc3Nl1dLDEyNTU6W1sxMDg2LDc3Nl1dLDEyNTY6Wywsezc3NjoxMjU4fV0sMTI1NzpbLCx7Nzc2OjEyNTl9XSwxMjU4OltbMTI1Niw3NzZdXSwxMjU5OltbMTI1Nyw3NzZdXSwxMjYwOltbMTA2OSw3NzZdXSwxMjYxOltbMTEwMSw3NzZdXSwxMjYyOltbMTA1OSw3NzJdXSwxMjYzOltbMTA5MSw3NzJdXSwxMjY0OltbMTA1OSw3NzZdXSwxMjY1OltbMTA5MSw3NzZdXSwxMjY2OltbMTA1OSw3NzldXSwxMjY3OltbMTA5MSw3NzldXSwxMjY4OltbMTA2Myw3NzZdXSwxMjY5OltbMTA5NSw3NzZdXSwxMjcyOltbMTA2Nyw3NzZdXSwxMjczOltbMTA5OSw3NzZdXX0sCjEyODA6ezE0MTU6W1sxMzgxLDE0MTBdLDI1Nl0sMTQyNTpbLDIyMF0sMTQyNjpbLDIzMF0sMTQyNzpbLDIzMF0sMTQyODpbLDIzMF0sMTQyOTpbLDIzMF0sMTQzMDpbLDIyMF0sMTQzMTpbLDIzMF0sMTQzMjpbLDIzMF0sMTQzMzpbLDIzMF0sMTQzNDpbLDIyMl0sMTQzNTpbLDIyMF0sMTQzNjpbLDIzMF0sMTQzNzpbLDIzMF0sMTQzODpbLDIzMF0sMTQzOTpbLDIzMF0sMTQ0MDpbLDIzMF0sMTQ0MTpbLDIzMF0sMTQ0MjpbLDIyMF0sMTQ0MzpbLDIyMF0sMTQ0NDpbLDIyMF0sMTQ0NTpbLDIyMF0sMTQ0NjpbLDIyMF0sMTQ0NzpbLDIyMF0sMTQ0ODpbLDIzMF0sMTQ0OTpbLDIzMF0sMTQ1MDpbLDIyMF0sMTQ1MTpbLDIzMF0sMTQ1MjpbLDIzMF0sMTQ1MzpbLDIyMl0sMTQ1NDpbLDIyOF0sMTQ1NTpbLDIzMF0sMTQ1NjpbLDEwXSwxNDU3OlssMTFdLDE0NTg6WywxMl0sMTQ1OTpbLDEzXSwxNDYwOlssMTRdLDE0NjE6WywxNV0sMTQ2MjpbLDE2XSwxNDYzOlssMTddLDE0NjQ6WywxOF0sMTQ2NTpbLDE5XSwxNDY2OlssMTldLDE0Njc6WywyMF0sMTQ2ODpbLDIxXSwxNDY5OlssMjJdLDE0NzE6WywyM10sMTQ3MzpbLDI0XSwxNDc0OlssMjVdLDE0NzY6WywyMzBdLDE0Nzc6WywyMjBdLDE0Nzk6WywxOF19LAoxNTM2OnsxNTUyOlssMjMwXSwxNTUzOlssMjMwXSwxNTU0OlssMjMwXSwxNTU1OlssMjMwXSwxNTU2OlssMjMwXSwxNTU3OlssMjMwXSwxNTU4OlssMjMwXSwxNTU5OlssMjMwXSwxNTYwOlssMzBdLDE1NjE6WywzMV0sMTU2MjpbLDMyXSwxNTcwOltbMTU3NSwxNjE5XV0sMTU3MTpbWzE1NzUsMTYyMF1dLDE1NzI6W1sxNjA4LDE2MjBdXSwxNTczOltbMTU3NSwxNjIxXV0sMTU3NDpbWzE2MTAsMTYyMF1dLDE1NzU6WywsezE2MTk6MTU3MCwxNjIwOjE1NzEsMTYyMToxNTczfV0sMTYwODpbLCx7MTYyMDoxNTcyfV0sMTYxMDpbLCx7MTYyMDoxNTc0fV0sMTYxMTpbLDI3XSwxNjEyOlssMjhdLDE2MTM6WywyOV0sMTYxNDpbLDMwXSwxNjE1OlssMzFdLDE2MTY6WywzMl0sMTYxNzpbLDMzXSwxNjE4OlssMzRdLDE2MTk6WywyMzBdLDE2MjA6WywyMzBdLDE2MjE6WywyMjBdLDE2MjI6WywyMjBdLDE2MjM6WywyMzBdLDE2MjQ6WywyMzBdLDE2MjU6WywyMzBdLDE2MjY6WywyMzBdLDE2Mjc6WywyMzBdLDE2Mjg6WywyMjBdLDE2Mjk6WywyMzBdLDE2MzA6WywyMzBdLDE2MzE6WywyMjBdLDE2NDg6WywzNV0sMTY1MzpbWzE1NzUsMTY1Ml0sMjU2XSwxNjU0OltbMTYwOCwxNjUyXSwyNTZdLDE2NTU6W1sxNzM1LDE2NTJdLDI1Nl0sMTY1NjpbWzE2MTAsMTY1Ml0sMjU2XSwxNzI4OltbMTc0OSwxNjIwXV0sMTcyOTpbLCx7MTYyMDoxNzMwfV0sMTczMDpbWzE3MjksMTYyMF1dLDE3NDY6WywsezE2MjA6MTc0N31dLDE3NDc6W1sxNzQ2LDE2MjBdXSwxNzQ5OlssLHsxNjIwOjE3Mjh9XSwxNzUwOlssMjMwXSwxNzUxOlssMjMwXSwxNzUyOlssMjMwXSwxNzUzOlssMjMwXSwxNzU0OlssMjMwXSwxNzU1OlssMjMwXSwxNzU2OlssMjMwXSwxNzU5OlssMjMwXSwxNzYwOlssMjMwXSwxNzYxOlssMjMwXSwxNzYyOlssMjMwXSwxNzYzOlssMjIwXSwxNzY0OlssMjMwXSwxNzY3OlssMjMwXSwxNzY4OlssMjMwXSwxNzcwOlssMjIwXSwxNzcxOlssMjMwXSwxNzcyOlssMjMwXSwxNzczOlssMjIwXX0sCjE3OTI6ezE4MDk6WywzNl0sMTg0MDpbLDIzMF0sMTg0MTpbLDIyMF0sMTg0MjpbLDIzMF0sMTg0MzpbLDIzMF0sMTg0NDpbLDIyMF0sMTg0NTpbLDIzMF0sMTg0NjpbLDIzMF0sMTg0NzpbLDIyMF0sMTg0ODpbLDIyMF0sMTg0OTpbLDIyMF0sMTg1MDpbLDIzMF0sMTg1MTpbLDIyMF0sMTg1MjpbLDIyMF0sMTg1MzpbLDIzMF0sMTg1NDpbLDIyMF0sMTg1NTpbLDIzMF0sMTg1NjpbLDIzMF0sMTg1NzpbLDIzMF0sMTg1ODpbLDIyMF0sMTg1OTpbLDIzMF0sMTg2MDpbLDIyMF0sMTg2MTpbLDIzMF0sMTg2MjpbLDIyMF0sMTg2MzpbLDIzMF0sMTg2NDpbLDIyMF0sMTg2NTpbLDIzMF0sMTg2NjpbLDIzMF0sMjAyNzpbLDIzMF0sMjAyODpbLDIzMF0sMjAyOTpbLDIzMF0sMjAzMDpbLDIzMF0sMjAzMTpbLDIzMF0sMjAzMjpbLDIzMF0sMjAzMzpbLDIzMF0sMjAzNDpbLDIyMF0sMjAzNTpbLDIzMF19LAoyMDQ4OnsyMDcwOlssMjMwXSwyMDcxOlssMjMwXSwyMDcyOlssMjMwXSwyMDczOlssMjMwXSwyMDc1OlssMjMwXSwyMDc2OlssMjMwXSwyMDc3OlssMjMwXSwyMDc4OlssMjMwXSwyMDc5OlssMjMwXSwyMDgwOlssMjMwXSwyMDgxOlssMjMwXSwyMDgyOlssMjMwXSwyMDgzOlssMjMwXSwyMDg1OlssMjMwXSwyMDg2OlssMjMwXSwyMDg3OlssMjMwXSwyMDg5OlssMjMwXSwyMDkwOlssMjMwXSwyMDkxOlssMjMwXSwyMDkyOlssMjMwXSwyMDkzOlssMjMwXSwyMTM3OlssMjIwXSwyMTM4OlssMjIwXSwyMTM5OlssMjIwXSwyMjc2OlssMjMwXSwyMjc3OlssMjMwXSwyMjc4OlssMjIwXSwyMjc5OlssMjMwXSwyMjgwOlssMjMwXSwyMjgxOlssMjIwXSwyMjgyOlssMjMwXSwyMjgzOlssMjMwXSwyMjg0OlssMjMwXSwyMjg1OlssMjIwXSwyMjg2OlssMjIwXSwyMjg3OlssMjIwXSwyMjg4OlssMjddLDIyODk6WywyOF0sMjI5MDpbLDI5XSwyMjkxOlssMjMwXSwyMjkyOlssMjMwXSwyMjkzOlssMjMwXSwyMjk0OlssMjIwXSwyMjk1OlssMjMwXSwyMjk2OlssMjMwXSwyMjk3OlssMjIwXSwyMjk4OlssMjIwXSwyMjk5OlssMjMwXSwyMzAwOlssMjMwXSwyMzAxOlssMjMwXSwyMzAyOlssMjMwXSwyMzAzOlssMjMwXX0sCjIzMDQ6ezIzNDQ6WywsezIzNjQ6MjM0NX1dLDIzNDU6W1syMzQ0LDIzNjRdXSwyMzUyOlssLHsyMzY0OjIzNTN9XSwyMzUzOltbMjM1MiwyMzY0XV0sMjM1NTpbLCx7MjM2NDoyMzU2fV0sMjM1NjpbWzIzNTUsMjM2NF1dLDIzNjQ6Wyw3XSwyMzgxOlssOV0sMjM4NTpbLDIzMF0sMjM4NjpbLDIyMF0sMjM4NzpbLDIzMF0sMjM4ODpbLDIzMF0sMjM5MjpbWzIzMjUsMjM2NF0sNTEyXSwyMzkzOltbMjMyNiwyMzY0XSw1MTJdLDIzOTQ6W1syMzI3LDIzNjRdLDUxMl0sMjM5NTpbWzIzMzIsMjM2NF0sNTEyXSwyMzk2OltbMjMzNywyMzY0XSw1MTJdLDIzOTc6W1syMzM4LDIzNjRdLDUxMl0sMjM5ODpbWzIzNDcsMjM2NF0sNTEyXSwyMzk5OltbMjM1MSwyMzY0XSw1MTJdLDI0OTI6Wyw3XSwyNTAzOlssLHsyNDk0OjI1MDcsMjUxOToyNTA4fV0sMjUwNzpbWzI1MDMsMjQ5NF1dLDI1MDg6W1syNTAzLDI1MTldXSwyNTA5OlssOV0sMjUyNDpbWzI0NjUsMjQ5Ml0sNTEyXSwyNTI1OltbMjQ2NiwyNDkyXSw1MTJdLDI1Mjc6W1syNDc5LDI0OTJdLDUxMl19LAoyNTYwOnsyNjExOltbMjYxMCwyNjIwXSw1MTJdLDI2MTQ6W1syNjE2LDI2MjBdLDUxMl0sMjYyMDpbLDddLDI2Mzc6Wyw5XSwyNjQ5OltbMjU4MiwyNjIwXSw1MTJdLDI2NTA6W1syNTgzLDI2MjBdLDUxMl0sMjY1MTpbWzI1ODgsMjYyMF0sNTEyXSwyNjU0OltbMjYwMywyNjIwXSw1MTJdLDI3NDg6Wyw3XSwyNzY1OlssOV0sNjgxMDk6WywyMjBdLDY4MTExOlssMjMwXSw2ODE1MjpbLDIzMF0sNjgxNTM6WywxXSw2ODE1NDpbLDIyMF0sNjgxNTk6Wyw5XSw2ODMyNTpbLDIzMF0sNjgzMjY6WywyMjBdfSwKMjgxNjp7Mjg3NjpbLDddLDI4ODc6WywsezI4Nzg6Mjg5MSwyOTAyOjI4ODgsMjkwMzoyODkyfV0sMjg4ODpbWzI4ODcsMjkwMl1dLDI4OTE6W1syODg3LDI4NzhdXSwyODkyOltbMjg4NywyOTAzXV0sMjg5MzpbLDldLDI5MDg6W1syODQ5LDI4NzZdLDUxMl0sMjkwOTpbWzI4NTAsMjg3Nl0sNTEyXSwyOTYyOlssLHszMDMxOjI5NjR9XSwyOTY0OltbMjk2MiwzMDMxXV0sMzAxNDpbLCx7MzAwNjozMDE4LDMwMzE6MzAyMH1dLDMwMTU6WywsezMwMDY6MzAxOX1dLDMwMTg6W1szMDE0LDMwMDZdXSwzMDE5OltbMzAxNSwzMDA2XV0sMzAyMDpbWzMwMTQsMzAzMV1dLDMwMjE6Wyw5XX0sCjMwNzI6ezMxNDI6WywsezMxNTg6MzE0NH1dLDMxNDQ6W1szMTQyLDMxNThdXSwzMTQ5OlssOV0sMzE1NzpbLDg0XSwzMTU4OlssOTFdLDMyNjA6Wyw3XSwzMjYzOlssLHszMjg1OjMyNjR9XSwzMjY0OltbMzI2MywzMjg1XV0sMzI3MDpbLCx7MzI2NjozMjc0LDMyODU6MzI3MSwzMjg2OjMyNzJ9XSwzMjcxOltbMzI3MCwzMjg1XV0sMzI3MjpbWzMyNzAsMzI4Nl1dLDMyNzQ6W1szMjcwLDMyNjZdLCx7MzI4NTozMjc1fV0sMzI3NTpbWzMyNzQsMzI4NV1dLDMyNzc6Wyw5XX0sCjMzMjg6ezMzOTg6WywsezMzOTA6MzQwMiwzNDE1OjM0MDR9XSwzMzk5OlssLHszMzkwOjM0MDN9XSwzNDAyOltbMzM5OCwzMzkwXV0sMzQwMzpbWzMzOTksMzM5MF1dLDM0MDQ6W1szMzk4LDM0MTVdXSwzNDA1OlssOV0sMzUzMDpbLDldLDM1NDU6WywsezM1MzA6MzU0NiwzNTM1OjM1NDgsMzU1MTozNTUwfV0sMzU0NjpbWzM1NDUsMzUzMF1dLDM1NDg6W1szNTQ1LDM1MzVdLCx7MzUzMDozNTQ5fV0sMzU0OTpbWzM1NDgsMzUzMF1dLDM1NTA6W1szNTQ1LDM1NTFdXX0sCjM1ODQ6ezM2MzU6W1szNjYxLDM2MzRdLDI1Nl0sMzY0MDpbLDEwM10sMzY0MTpbLDEwM10sMzY0MjpbLDldLDM2NTY6WywxMDddLDM2NTc6WywxMDddLDM2NTg6WywxMDddLDM2NTk6WywxMDddLDM3NjM6W1szNzg5LDM3NjJdLDI1Nl0sMzc2ODpbLDExOF0sMzc2OTpbLDExOF0sMzc4NDpbLDEyMl0sMzc4NTpbLDEyMl0sMzc4NjpbLDEyMl0sMzc4NzpbLDEyMl0sMzgwNDpbWzM3NTUsMzczN10sMjU2XSwzODA1OltbMzc1NSwzNzQ1XSwyNTZdfSwKMzg0MDp7Mzg1MjpbWzM4NTFdLDI1Nl0sMzg2NDpbLDIyMF0sMzg2NTpbLDIyMF0sMzg5MzpbLDIyMF0sMzg5NTpbLDIyMF0sMzg5NzpbLDIxNl0sMzkwNzpbWzM5MDYsNDAyM10sNTEyXSwzOTE3OltbMzkxNiw0MDIzXSw1MTJdLDM5MjI6W1szOTIxLDQwMjNdLDUxMl0sMzkyNzpbWzM5MjYsNDAyM10sNTEyXSwzOTMyOltbMzkzMSw0MDIzXSw1MTJdLDM5NDU6W1szOTA0LDQwMjFdLDUxMl0sMzk1MzpbLDEyOV0sMzk1NDpbLDEzMF0sMzk1NTpbWzM5NTMsMzk1NF0sNTEyXSwzOTU2OlssMTMyXSwzOTU3OltbMzk1MywzOTU2XSw1MTJdLDM5NTg6W1s0MDE4LDM5NjhdLDUxMl0sMzk1OTpbWzQwMTgsMzk2OV0sMjU2XSwzOTYwOltbNDAxOSwzOTY4XSw1MTJdLDM5NjE6W1s0MDE5LDM5NjldLDI1Nl0sMzk2MjpbLDEzMF0sMzk2MzpbLDEzMF0sMzk2NDpbLDEzMF0sMzk2NTpbLDEzMF0sMzk2ODpbLDEzMF0sMzk2OTpbWzM5NTMsMzk2OF0sNTEyXSwzOTcwOlssMjMwXSwzOTcxOlssMjMwXSwzOTcyOlssOV0sMzk3NDpbLDIzMF0sMzk3NTpbLDIzMF0sMzk4NzpbWzM5ODYsNDAyM10sNTEyXSwzOTk3OltbMzk5Niw0MDIzXSw1MTJdLDQwMDI6W1s0MDAxLDQwMjNdLDUxMl0sNDAwNzpbWzQwMDYsNDAyM10sNTEyXSw0MDEyOltbNDAxMSw0MDIzXSw1MTJdLDQwMjU6W1szOTg0LDQwMjFdLDUxMl0sNDAzODpbLDIyMF19LAo0MDk2Ons0MTMzOlssLHs0MTQyOjQxMzR9XSw0MTM0OltbNDEzMyw0MTQyXV0sNDE1MTpbLDddLDQxNTM6Wyw5XSw0MTU0OlssOV0sNDIzNzpbLDIyMF0sNDM0ODpbWzQzMTZdLDI1Nl0sNjk3MDI6Wyw5XSw2OTc1OTpbLDldLDY5Nzg1OlssLHs2OTgxODo2OTc4Nn1dLDY5Nzg2OltbNjk3ODUsNjk4MThdXSw2OTc4NzpbLCx7Njk4MTg6Njk3ODh9XSw2OTc4ODpbWzY5Nzg3LDY5ODE4XV0sNjk3OTc6WywsezY5ODE4OjY5ODAzfV0sNjk4MDM6W1s2OTc5Nyw2OTgxOF1dLDY5ODE3OlssOV0sNjk4MTg6Wyw3XX0sCjQzNTI6ezY5ODg4OlssMjMwXSw2OTg4OTpbLDIzMF0sNjk4OTA6WywyMzBdLDY5OTM0OltbNjk5MzcsNjk5MjddXSw2OTkzNTpbWzY5OTM4LDY5OTI3XV0sNjk5Mzc6WywsezY5OTI3OjY5OTM0fV0sNjk5Mzg6WywsezY5OTI3OjY5OTM1fV0sNjk5Mzk6Wyw5XSw2OTk0MDpbLDldLDcwMDAzOlssN10sNzAwODA6Wyw5XX0sCjQ2MDg6ezcwMTk3OlssOV0sNzAxOTg6Wyw3XSw3MDM3NzpbLDddLDcwMzc4OlssOV19LAo0ODY0Ons0OTU3OlssMjMwXSw0OTU4OlssMjMwXSw0OTU5OlssMjMwXSw3MDQ2MDpbLDddLDcwNDcxOlssLHs3MDQ2Mjo3MDQ3NSw3MDQ4Nzo3MDQ3Nn1dLDcwNDc1OltbNzA0NzEsNzA0NjJdXSw3MDQ3NjpbWzcwNDcxLDcwNDg3XV0sNzA0Nzc6Wyw5XSw3MDUwMjpbLDIzMF0sNzA1MDM6WywyMzBdLDcwNTA0OlssMjMwXSw3MDUwNTpbLDIzMF0sNzA1MDY6WywyMzBdLDcwNTA3OlssMjMwXSw3MDUwODpbLDIzMF0sNzA1MTI6WywyMzBdLDcwNTEzOlssMjMwXSw3MDUxNDpbLDIzMF0sNzA1MTU6WywyMzBdLDcwNTE2OlssMjMwXX0sCjUxMjA6ezcwODQxOlssLHs3MDgzMjo3MDg0NCw3MDg0Mjo3MDg0Myw3MDg0NTo3MDg0Nn1dLDcwODQzOltbNzA4NDEsNzA4NDJdXSw3MDg0NDpbWzcwODQxLDcwODMyXV0sNzA4NDY6W1s3MDg0MSw3MDg0NV1dLDcwODUwOlssOV0sNzA4NTE6Wyw3XX0sCjUzNzY6ezcxMDk2OlssLHs3MTA4Nzo3MTA5OH1dLDcxMDk3OlssLHs3MTA4Nzo3MTA5OX1dLDcxMDk4OltbNzEwOTYsNzEwODddXSw3MTA5OTpbWzcxMDk3LDcxMDg3XV0sNzExMDM6Wyw5XSw3MTEwNDpbLDddfSwKNTYzMjp7NzEyMzE6Wyw5XSw3MTM1MDpbLDldLDcxMzUxOlssN119LAo1ODg4Ons1OTA4OlssOV0sNTk0MDpbLDldLDYwOTg6Wyw5XSw2MTA5OlssMjMwXX0sCjYxNDQ6ezYzMTM6WywyMjhdfSwKNjQwMDp7NjQ1NzpbLDIyMl0sNjQ1ODpbLDIzMF0sNjQ1OTpbLDIyMF19LAo2NjU2Ons2Njc5OlssMjMwXSw2NjgwOlssMjIwXSw2NzUyOlssOV0sNjc3MzpbLDIzMF0sNjc3NDpbLDIzMF0sNjc3NTpbLDIzMF0sNjc3NjpbLDIzMF0sNjc3NzpbLDIzMF0sNjc3ODpbLDIzMF0sNjc3OTpbLDIzMF0sNjc4MDpbLDIzMF0sNjc4MzpbLDIyMF0sNjgzMjpbLDIzMF0sNjgzMzpbLDIzMF0sNjgzNDpbLDIzMF0sNjgzNTpbLDIzMF0sNjgzNjpbLDIzMF0sNjgzNzpbLDIyMF0sNjgzODpbLDIyMF0sNjgzOTpbLDIyMF0sNjg0MDpbLDIyMF0sNjg0MTpbLDIyMF0sNjg0MjpbLDIyMF0sNjg0MzpbLDIzMF0sNjg0NDpbLDIzMF0sNjg0NTpbLDIyMF19LAo2OTEyOns2OTE3OlssLHs2OTY1OjY5MTh9XSw2OTE4OltbNjkxNyw2OTY1XV0sNjkxOTpbLCx7Njk2NTo2OTIwfV0sNjkyMDpbWzY5MTksNjk2NV1dLDY5MjE6WywsezY5NjU6NjkyMn1dLDY5MjI6W1s2OTIxLDY5NjVdXSw2OTIzOlssLHs2OTY1OjY5MjR9XSw2OTI0OltbNjkyMyw2OTY1XV0sNjkyNTpbLCx7Njk2NTo2OTI2fV0sNjkyNjpbWzY5MjUsNjk2NV1dLDY5Mjk6WywsezY5NjU6NjkzMH1dLDY5MzA6W1s2OTI5LDY5NjVdXSw2OTY0OlssN10sNjk3MDpbLCx7Njk2NTo2OTcxfV0sNjk3MTpbWzY5NzAsNjk2NV1dLDY5NzI6WywsezY5NjU6Njk3M31dLDY5NzM6W1s2OTcyLDY5NjVdXSw2OTc0OlssLHs2OTY1OjY5NzZ9XSw2OTc1OlssLHs2OTY1OjY5Nzd9XSw2OTc2OltbNjk3NCw2OTY1XV0sNjk3NzpbWzY5NzUsNjk2NV1dLDY5Nzg6WywsezY5NjU6Njk3OX1dLDY5Nzk6W1s2OTc4LDY5NjVdXSw2OTgwOlssOV0sNzAxOTpbLDIzMF0sNzAyMDpbLDIyMF0sNzAyMTpbLDIzMF0sNzAyMjpbLDIzMF0sNzAyMzpbLDIzMF0sNzAyNDpbLDIzMF0sNzAyNTpbLDIzMF0sNzAyNjpbLDIzMF0sNzAyNzpbLDIzMF0sNzA4MjpbLDldLDcwODM6Wyw5XSw3MTQyOlssN10sNzE1NDpbLDldLDcxNTU6Wyw5XX0sCjcxNjg6ezcyMjM6Wyw3XSw3Mzc2OlssMjMwXSw3Mzc3OlssMjMwXSw3Mzc4OlssMjMwXSw3MzgwOlssMV0sNzM4MTpbLDIyMF0sNzM4MjpbLDIyMF0sNzM4MzpbLDIyMF0sNzM4NDpbLDIyMF0sNzM4NTpbLDIyMF0sNzM4NjpbLDIzMF0sNzM4NzpbLDIzMF0sNzM4ODpbLDIyMF0sNzM4OTpbLDIyMF0sNzM5MDpbLDIyMF0sNzM5MTpbLDIyMF0sNzM5MjpbLDIzMF0sNzM5NDpbLDFdLDczOTU6WywxXSw3Mzk2OlssMV0sNzM5NzpbLDFdLDczOTg6WywxXSw3Mzk5OlssMV0sNzQwMDpbLDFdLDc0MDU6WywyMjBdLDc0MTI6WywyMzBdLDc0MTY6WywyMzBdLDc0MTc6WywyMzBdfSwKNzQyNDp7NzQ2ODpbWzY1XSwyNTZdLDc0Njk6W1sxOThdLDI1Nl0sNzQ3MDpbWzY2XSwyNTZdLDc0NzI6W1s2OF0sMjU2XSw3NDczOltbNjldLDI1Nl0sNzQ3NDpbWzM5OF0sMjU2XSw3NDc1OltbNzFdLDI1Nl0sNzQ3NjpbWzcyXSwyNTZdLDc0Nzc6W1s3M10sMjU2XSw3NDc4OltbNzRdLDI1Nl0sNzQ3OTpbWzc1XSwyNTZdLDc0ODA6W1s3Nl0sMjU2XSw3NDgxOltbNzddLDI1Nl0sNzQ4MjpbWzc4XSwyNTZdLDc0ODQ6W1s3OV0sMjU2XSw3NDg1OltbNTQ2XSwyNTZdLDc0ODY6W1s4MF0sMjU2XSw3NDg3OltbODJdLDI1Nl0sNzQ4ODpbWzg0XSwyNTZdLDc0ODk6W1s4NV0sMjU2XSw3NDkwOltbODddLDI1Nl0sNzQ5MTpbWzk3XSwyNTZdLDc0OTI6W1s1OTJdLDI1Nl0sNzQ5MzpbWzU5M10sMjU2XSw3NDk0OltbNzQyNl0sMjU2XSw3NDk1OltbOThdLDI1Nl0sNzQ5NjpbWzEwMF0sMjU2XSw3NDk3OltbMTAxXSwyNTZdLDc0OTg6W1s2MDFdLDI1Nl0sNzQ5OTpbWzYwM10sMjU2XSw3NTAwOltbNjA0XSwyNTZdLDc1MDE6W1sxMDNdLDI1Nl0sNzUwMzpbWzEwN10sMjU2XSw3NTA0OltbMTA5XSwyNTZdLDc1MDU6W1szMzFdLDI1Nl0sNzUwNjpbWzExMV0sMjU2XSw3NTA3OltbNTk2XSwyNTZdLDc1MDg6W1s3NDQ2XSwyNTZdLDc1MDk6W1s3NDQ3XSwyNTZdLDc1MTA6W1sxMTJdLDI1Nl0sNzUxMTpbWzExNl0sMjU2XSw3NTEyOltbMTE3XSwyNTZdLDc1MTM6W1s3NDUzXSwyNTZdLDc1MTQ6W1s2MjNdLDI1Nl0sNzUxNTpbWzExOF0sMjU2XSw3NTE2OltbNzQ2MV0sMjU2XSw3NTE3OltbOTQ2XSwyNTZdLDc1MTg6W1s5NDddLDI1Nl0sNzUxOTpbWzk0OF0sMjU2XSw3NTIwOltbOTY2XSwyNTZdLDc1MjE6W1s5NjddLDI1Nl0sNzUyMjpbWzEwNV0sMjU2XSw3NTIzOltbMTE0XSwyNTZdLDc1MjQ6W1sxMTddLDI1Nl0sNzUyNTpbWzExOF0sMjU2XSw3NTI2OltbOTQ2XSwyNTZdLDc1Mjc6W1s5NDddLDI1Nl0sNzUyODpbWzk2MV0sMjU2XSw3NTI5OltbOTY2XSwyNTZdLDc1MzA6W1s5NjddLDI1Nl0sNzU0NDpbWzEwODVdLDI1Nl0sNzU3OTpbWzU5NF0sMjU2XSw3NTgwOltbOTldLDI1Nl0sNzU4MTpbWzU5N10sMjU2XSw3NTgyOltbMjQwXSwyNTZdLDc1ODM6W1s2MDRdLDI1Nl0sNzU4NDpbWzEwMl0sMjU2XSw3NTg1OltbNjA3XSwyNTZdLDc1ODY6W1s2MDldLDI1Nl0sNzU4NzpbWzYxM10sMjU2XSw3NTg4OltbNjE2XSwyNTZdLDc1ODk6W1s2MTddLDI1Nl0sNzU5MDpbWzYxOF0sMjU2XSw3NTkxOltbNzU0N10sMjU2XSw3NTkyOltbNjY5XSwyNTZdLDc1OTM6W1s2MjFdLDI1Nl0sNzU5NDpbWzc1NTddLDI1Nl0sNzU5NTpbWzY3MV0sMjU2XSw3NTk2OltbNjI1XSwyNTZdLDc1OTc6W1s2MjRdLDI1Nl0sNzU5ODpbWzYyNl0sMjU2XSw3NTk5OltbNjI3XSwyNTZdLDc2MDA6W1s2MjhdLDI1Nl0sNzYwMTpbWzYyOV0sMjU2XSw3NjAyOltbNjMyXSwyNTZdLDc2MDM6W1s2NDJdLDI1Nl0sNzYwNDpbWzY0M10sMjU2XSw3NjA1OltbNDI3XSwyNTZdLDc2MDY6W1s2NDldLDI1Nl0sNzYwNzpbWzY1MF0sMjU2XSw3NjA4OltbNzQ1Ml0sMjU2XSw3NjA5OltbNjUxXSwyNTZdLDc2MTA6W1s2NTJdLDI1Nl0sNzYxMTpbWzEyMl0sMjU2XSw3NjEyOltbNjU2XSwyNTZdLDc2MTM6W1s2NTddLDI1Nl0sNzYxNDpbWzY1OF0sMjU2XSw3NjE1OltbOTUyXSwyNTZdLDc2MTY6WywyMzBdLDc2MTc6WywyMzBdLDc2MTg6WywyMjBdLDc2MTk6WywyMzBdLDc2MjA6WywyMzBdLDc2MjE6WywyMzBdLDc2MjI6WywyMzBdLDc2MjM6WywyMzBdLDc2MjQ6WywyMzBdLDc2MjU6WywyMzBdLDc2MjY6WywyMjBdLDc2Mjc6WywyMzBdLDc2Mjg6WywyMzBdLDc2Mjk6WywyMzRdLDc2MzA6WywyMTRdLDc2MzE6WywyMjBdLDc2MzI6WywyMDJdLDc2MzM6WywyMzBdLDc2MzQ6WywyMzBdLDc2MzU6WywyMzBdLDc2MzY6WywyMzBdLDc2Mzc6WywyMzBdLDc2Mzg6WywyMzBdLDc2Mzk6WywyMzBdLDc2NDA6WywyMzBdLDc2NDE6WywyMzBdLDc2NDI6WywyMzBdLDc2NDM6WywyMzBdLDc2NDQ6WywyMzBdLDc2NDU6WywyMzBdLDc2NDY6WywyMzBdLDc2NDc6WywyMzBdLDc2NDg6WywyMzBdLDc2NDk6WywyMzBdLDc2NTA6WywyMzBdLDc2NTE6WywyMzBdLDc2NTI6WywyMzBdLDc2NTM6WywyMzBdLDc2NTQ6WywyMzBdLDc2NTU6WywyMzBdLDc2NTY6WywyMzBdLDc2NTc6WywyMzBdLDc2NTg6WywyMzBdLDc2NTk6WywyMzBdLDc2NjA6WywyMzBdLDc2NjE6WywyMzBdLDc2NjI6WywyMzBdLDc2NjM6WywyMzBdLDc2NjQ6WywyMzBdLDc2NjU6WywyMzBdLDc2NjY6WywyMzBdLDc2Njc6WywyMzBdLDc2Njg6WywyMzBdLDc2Njk6WywyMzBdLDc2NzY6WywyMzNdLDc2Nzc6WywyMjBdLDc2Nzg6WywyMzBdLDc2Nzk6WywyMjBdfSwKNzY4MDp7NzY4MDpbWzY1LDgwNV1dLDc2ODE6W1s5Nyw4MDVdXSw3NjgyOltbNjYsNzc1XV0sNzY4MzpbWzk4LDc3NV1dLDc2ODQ6W1s2Niw4MDNdXSw3Njg1OltbOTgsODAzXV0sNzY4NjpbWzY2LDgxN11dLDc2ODc6W1s5OCw4MTddXSw3Njg4OltbMTk5LDc2OV1dLDc2ODk6W1syMzEsNzY5XV0sNzY5MDpbWzY4LDc3NV1dLDc2OTE6W1sxMDAsNzc1XV0sNzY5MjpbWzY4LDgwM11dLDc2OTM6W1sxMDAsODAzXV0sNzY5NDpbWzY4LDgxN11dLDc2OTU6W1sxMDAsODE3XV0sNzY5NjpbWzY4LDgwN11dLDc2OTc6W1sxMDAsODA3XV0sNzY5ODpbWzY4LDgxM11dLDc2OTk6W1sxMDAsODEzXV0sNzcwMDpbWzI3NCw3NjhdXSw3NzAxOltbMjc1LDc2OF1dLDc3MDI6W1syNzQsNzY5XV0sNzcwMzpbWzI3NSw3NjldXSw3NzA0OltbNjksODEzXV0sNzcwNTpbWzEwMSw4MTNdXSw3NzA2OltbNjksODE2XV0sNzcwNzpbWzEwMSw4MTZdXSw3NzA4OltbNTUyLDc3NF1dLDc3MDk6W1s1NTMsNzc0XV0sNzcxMDpbWzcwLDc3NV1dLDc3MTE6W1sxMDIsNzc1XV0sNzcxMjpbWzcxLDc3Ml1dLDc3MTM6W1sxMDMsNzcyXV0sNzcxNDpbWzcyLDc3NV1dLDc3MTU6W1sxMDQsNzc1XV0sNzcxNjpbWzcyLDgwM11dLDc3MTc6W1sxMDQsODAzXV0sNzcxODpbWzcyLDc3Nl1dLDc3MTk6W1sxMDQsNzc2XV0sNzcyMDpbWzcyLDgwN11dLDc3MjE6W1sxMDQsODA3XV0sNzcyMjpbWzcyLDgxNF1dLDc3MjM6W1sxMDQsODE0XV0sNzcyNDpbWzczLDgxNl1dLDc3MjU6W1sxMDUsODE2XV0sNzcyNjpbWzIwNyw3NjldXSw3NzI3OltbMjM5LDc2OV1dLDc3Mjg6W1s3NSw3NjldXSw3NzI5OltbMTA3LDc2OV1dLDc3MzA6W1s3NSw4MDNdXSw3NzMxOltbMTA3LDgwM11dLDc3MzI6W1s3NSw4MTddXSw3NzMzOltbMTA3LDgxN11dLDc3MzQ6W1s3Niw4MDNdLCx7NzcyOjc3MzZ9XSw3NzM1OltbMTA4LDgwM10sLHs3NzI6NzczN31dLDc3MzY6W1s3NzM0LDc3Ml1dLDc3Mzc6W1s3NzM1LDc3Ml1dLDc3Mzg6W1s3Niw4MTddXSw3NzM5OltbMTA4LDgxN11dLDc3NDA6W1s3Niw4MTNdXSw3NzQxOltbMTA4LDgxM11dLDc3NDI6W1s3Nyw3NjldXSw3NzQzOltbMTA5LDc2OV1dLDc3NDQ6W1s3Nyw3NzVdXSw3NzQ1OltbMTA5LDc3NV1dLDc3NDY6W1s3Nyw4MDNdXSw3NzQ3OltbMTA5LDgwM11dLDc3NDg6W1s3OCw3NzVdXSw3NzQ5OltbMTEwLDc3NV1dLDc3NTA6W1s3OCw4MDNdXSw3NzUxOltbMTEwLDgwM11dLDc3NTI6W1s3OCw4MTddXSw3NzUzOltbMTEwLDgxN11dLDc3NTQ6W1s3OCw4MTNdXSw3NzU1OltbMTEwLDgxM11dLDc3NTY6W1syMTMsNzY5XV0sNzc1NzpbWzI0NSw3NjldXSw3NzU4OltbMjEzLDc3Nl1dLDc3NTk6W1syNDUsNzc2XV0sNzc2MDpbWzMzMiw3NjhdXSw3NzYxOltbMzMzLDc2OF1dLDc3NjI6W1szMzIsNzY5XV0sNzc2MzpbWzMzMyw3NjldXSw3NzY0OltbODAsNzY5XV0sNzc2NTpbWzExMiw3NjldXSw3NzY2OltbODAsNzc1XV0sNzc2NzpbWzExMiw3NzVdXSw3NzY4OltbODIsNzc1XV0sNzc2OTpbWzExNCw3NzVdXSw3NzcwOltbODIsODAzXSwsezc3Mjo3NzcyfV0sNzc3MTpbWzExNCw4MDNdLCx7NzcyOjc3NzN9XSw3NzcyOltbNzc3MCw3NzJdXSw3NzczOltbNzc3MSw3NzJdXSw3Nzc0OltbODIsODE3XV0sNzc3NTpbWzExNCw4MTddXSw3Nzc2OltbODMsNzc1XV0sNzc3NzpbWzExNSw3NzVdXSw3Nzc4OltbODMsODAzXSwsezc3NTo3Nzg0fV0sNzc3OTpbWzExNSw4MDNdLCx7Nzc1Ojc3ODV9XSw3NzgwOltbMzQ2LDc3NV1dLDc3ODE6W1szNDcsNzc1XV0sNzc4MjpbWzM1Miw3NzVdXSw3NzgzOltbMzUzLDc3NV1dLDc3ODQ6W1s3Nzc4LDc3NV1dLDc3ODU6W1s3Nzc5LDc3NV1dLDc3ODY6W1s4NCw3NzVdXSw3Nzg3OltbMTE2LDc3NV1dLDc3ODg6W1s4NCw4MDNdXSw3Nzg5OltbMTE2LDgwM11dLDc3OTA6W1s4NCw4MTddXSw3NzkxOltbMTE2LDgxN11dLDc3OTI6W1s4NCw4MTNdXSw3NzkzOltbMTE2LDgxM11dLDc3OTQ6W1s4NSw4MDRdXSw3Nzk1OltbMTE3LDgwNF1dLDc3OTY6W1s4NSw4MTZdXSw3Nzk3OltbMTE3LDgxNl1dLDc3OTg6W1s4NSw4MTNdXSw3Nzk5OltbMTE3LDgxM11dLDc4MDA6W1szNjAsNzY5XV0sNzgwMTpbWzM2MSw3NjldXSw3ODAyOltbMzYyLDc3Nl1dLDc4MDM6W1szNjMsNzc2XV0sNzgwNDpbWzg2LDc3MV1dLDc4MDU6W1sxMTgsNzcxXV0sNzgwNjpbWzg2LDgwM11dLDc4MDc6W1sxMTgsODAzXV0sNzgwODpbWzg3LDc2OF1dLDc4MDk6W1sxMTksNzY4XV0sNzgxMDpbWzg3LDc2OV1dLDc4MTE6W1sxMTksNzY5XV0sNzgxMjpbWzg3LDc3Nl1dLDc4MTM6W1sxMTksNzc2XV0sNzgxNDpbWzg3LDc3NV1dLDc4MTU6W1sxMTksNzc1XV0sNzgxNjpbWzg3LDgwM11dLDc4MTc6W1sxMTksODAzXV0sNzgxODpbWzg4LDc3NV1dLDc4MTk6W1sxMjAsNzc1XV0sNzgyMDpbWzg4LDc3Nl1dLDc4MjE6W1sxMjAsNzc2XV0sNzgyMjpbWzg5LDc3NV1dLDc4MjM6W1sxMjEsNzc1XV0sNzgyNDpbWzkwLDc3MF1dLDc4MjU6W1sxMjIsNzcwXV0sNzgyNjpbWzkwLDgwM11dLDc4Mjc6W1sxMjIsODAzXV0sNzgyODpbWzkwLDgxN11dLDc4Mjk6W1sxMjIsODE3XV0sNzgzMDpbWzEwNCw4MTddXSw3ODMxOltbMTE2LDc3Nl1dLDc4MzI6W1sxMTksNzc4XV0sNzgzMzpbWzEyMSw3NzhdXSw3ODM0OltbOTcsNzAyXSwyNTZdLDc4MzU6W1szODMsNzc1XV0sNzg0MDpbWzY1LDgwM10sLHs3NzA6Nzg1Miw3NzQ6Nzg2Mn1dLDc4NDE6W1s5Nyw4MDNdLCx7NzcwOjc4NTMsNzc0Ojc4NjN9XSw3ODQyOltbNjUsNzc3XV0sNzg0MzpbWzk3LDc3N11dLDc4NDQ6W1sxOTQsNzY5XV0sNzg0NTpbWzIyNiw3NjldXSw3ODQ2OltbMTk0LDc2OF1dLDc4NDc6W1syMjYsNzY4XV0sNzg0ODpbWzE5NCw3NzddXSw3ODQ5OltbMjI2LDc3N11dLDc4NTA6W1sxOTQsNzcxXV0sNzg1MTpbWzIyNiw3NzFdXSw3ODUyOltbNzg0MCw3NzBdXSw3ODUzOltbNzg0MSw3NzBdXSw3ODU0OltbMjU4LDc2OV1dLDc4NTU6W1syNTksNzY5XV0sNzg1NjpbWzI1OCw3NjhdXSw3ODU3OltbMjU5LDc2OF1dLDc4NTg6W1syNTgsNzc3XV0sNzg1OTpbWzI1OSw3NzddXSw3ODYwOltbMjU4LDc3MV1dLDc4NjE6W1syNTksNzcxXV0sNzg2MjpbWzc4NDAsNzc0XV0sNzg2MzpbWzc4NDEsNzc0XV0sNzg2NDpbWzY5LDgwM10sLHs3NzA6Nzg3OH1dLDc4NjU6W1sxMDEsODAzXSwsezc3MDo3ODc5fV0sNzg2NjpbWzY5LDc3N11dLDc4Njc6W1sxMDEsNzc3XV0sNzg2ODpbWzY5LDc3MV1dLDc4Njk6W1sxMDEsNzcxXV0sNzg3MDpbWzIwMiw3NjldXSw3ODcxOltbMjM0LDc2OV1dLDc4NzI6W1syMDIsNzY4XV0sNzg3MzpbWzIzNCw3NjhdXSw3ODc0OltbMjAyLDc3N11dLDc4NzU6W1syMzQsNzc3XV0sNzg3NjpbWzIwMiw3NzFdXSw3ODc3OltbMjM0LDc3MV1dLDc4Nzg6W1s3ODY0LDc3MF1dLDc4Nzk6W1s3ODY1LDc3MF1dLDc4ODA6W1s3Myw3NzddXSw3ODgxOltbMTA1LDc3N11dLDc4ODI6W1s3Myw4MDNdXSw3ODgzOltbMTA1LDgwM11dLDc4ODQ6W1s3OSw4MDNdLCx7NzcwOjc4OTZ9XSw3ODg1OltbMTExLDgwM10sLHs3NzA6Nzg5N31dLDc4ODY6W1s3OSw3NzddXSw3ODg3OltbMTExLDc3N11dLDc4ODg6W1syMTIsNzY5XV0sNzg4OTpbWzI0NCw3NjldXSw3ODkwOltbMjEyLDc2OF1dLDc4OTE6W1syNDQsNzY4XV0sNzg5MjpbWzIxMiw3NzddXSw3ODkzOltbMjQ0LDc3N11dLDc4OTQ6W1syMTIsNzcxXV0sNzg5NTpbWzI0NCw3NzFdXSw3ODk2OltbNzg4NCw3NzBdXSw3ODk3OltbNzg4NSw3NzBdXSw3ODk4OltbNDE2LDc2OV1dLDc4OTk6W1s0MTcsNzY5XV0sNzkwMDpbWzQxNiw3NjhdXSw3OTAxOltbNDE3LDc2OF1dLDc5MDI6W1s0MTYsNzc3XV0sNzkwMzpbWzQxNyw3NzddXSw3OTA0OltbNDE2LDc3MV1dLDc5MDU6W1s0MTcsNzcxXV0sNzkwNjpbWzQxNiw4MDNdXSw3OTA3OltbNDE3LDgwM11dLDc5MDg6W1s4NSw4MDNdXSw3OTA5OltbMTE3LDgwM11dLDc5MTA6W1s4NSw3NzddXSw3OTExOltbMTE3LDc3N11dLDc5MTI6W1s0MzEsNzY5XV0sNzkxMzpbWzQzMiw3NjldXSw3OTE0OltbNDMxLDc2OF1dLDc5MTU6W1s0MzIsNzY4XV0sNzkxNjpbWzQzMSw3NzddXSw3OTE3OltbNDMyLDc3N11dLDc5MTg6W1s0MzEsNzcxXV0sNzkxOTpbWzQzMiw3NzFdXSw3OTIwOltbNDMxLDgwM11dLDc5MjE6W1s0MzIsODAzXV0sNzkyMjpbWzg5LDc2OF1dLDc5MjM6W1sxMjEsNzY4XV0sNzkyNDpbWzg5LDgwM11dLDc5MjU6W1sxMjEsODAzXV0sNzkyNjpbWzg5LDc3N11dLDc5Mjc6W1sxMjEsNzc3XV0sNzkyODpbWzg5LDc3MV1dLDc5Mjk6W1sxMjEsNzcxXV19LAo3OTM2Ons3OTM2OltbOTQ1LDc4N10sLHs3Njg6NzkzOCw3Njk6Nzk0MCw4MzQ6Nzk0Miw4Mzc6ODA2NH1dLDc5Mzc6W1s5NDUsNzg4XSwsezc2ODo3OTM5LDc2OTo3OTQxLDgzNDo3OTQzLDgzNzo4MDY1fV0sNzkzODpbWzc5MzYsNzY4XSwsezgzNzo4MDY2fV0sNzkzOTpbWzc5MzcsNzY4XSwsezgzNzo4MDY3fV0sNzk0MDpbWzc5MzYsNzY5XSwsezgzNzo4MDY4fV0sNzk0MTpbWzc5MzcsNzY5XSwsezgzNzo4MDY5fV0sNzk0MjpbWzc5MzYsODM0XSwsezgzNzo4MDcwfV0sNzk0MzpbWzc5MzcsODM0XSwsezgzNzo4MDcxfV0sNzk0NDpbWzkxMyw3ODddLCx7NzY4Ojc5NDYsNzY5Ojc5NDgsODM0Ojc5NTAsODM3OjgwNzJ9XSw3OTQ1OltbOTEzLDc4OF0sLHs3Njg6Nzk0Nyw3Njk6Nzk0OSw4MzQ6Nzk1MSw4Mzc6ODA3M31dLDc5NDY6W1s3OTQ0LDc2OF0sLHs4Mzc6ODA3NH1dLDc5NDc6W1s3OTQ1LDc2OF0sLHs4Mzc6ODA3NX1dLDc5NDg6W1s3OTQ0LDc2OV0sLHs4Mzc6ODA3Nn1dLDc5NDk6W1s3OTQ1LDc2OV0sLHs4Mzc6ODA3N31dLDc5NTA6W1s3OTQ0LDgzNF0sLHs4Mzc6ODA3OH1dLDc5NTE6W1s3OTQ1LDgzNF0sLHs4Mzc6ODA3OX1dLDc5NTI6W1s5NDksNzg3XSwsezc2ODo3OTU0LDc2OTo3OTU2fV0sNzk1MzpbWzk0OSw3ODhdLCx7NzY4Ojc5NTUsNzY5Ojc5NTd9XSw3OTU0OltbNzk1Miw3NjhdXSw3OTU1OltbNzk1Myw3NjhdXSw3OTU2OltbNzk1Miw3NjldXSw3OTU3OltbNzk1Myw3NjldXSw3OTYwOltbOTE3LDc4N10sLHs3Njg6Nzk2Miw3Njk6Nzk2NH1dLDc5NjE6W1s5MTcsNzg4XSwsezc2ODo3OTYzLDc2OTo3OTY1fV0sNzk2MjpbWzc5NjAsNzY4XV0sNzk2MzpbWzc5NjEsNzY4XV0sNzk2NDpbWzc5NjAsNzY5XV0sNzk2NTpbWzc5NjEsNzY5XV0sNzk2ODpbWzk1MSw3ODddLCx7NzY4Ojc5NzAsNzY5Ojc5NzIsODM0Ojc5NzQsODM3OjgwODB9XSw3OTY5OltbOTUxLDc4OF0sLHs3Njg6Nzk3MSw3Njk6Nzk3Myw4MzQ6Nzk3NSw4Mzc6ODA4MX1dLDc5NzA6W1s3OTY4LDc2OF0sLHs4Mzc6ODA4Mn1dLDc5NzE6W1s3OTY5LDc2OF0sLHs4Mzc6ODA4M31dLDc5NzI6W1s3OTY4LDc2OV0sLHs4Mzc6ODA4NH1dLDc5NzM6W1s3OTY5LDc2OV0sLHs4Mzc6ODA4NX1dLDc5NzQ6W1s3OTY4LDgzNF0sLHs4Mzc6ODA4Nn1dLDc5NzU6W1s3OTY5LDgzNF0sLHs4Mzc6ODA4N31dLDc5NzY6W1s5MTksNzg3XSwsezc2ODo3OTc4LDc2OTo3OTgwLDgzNDo3OTgyLDgzNzo4MDg4fV0sNzk3NzpbWzkxOSw3ODhdLCx7NzY4Ojc5NzksNzY5Ojc5ODEsODM0Ojc5ODMsODM3OjgwODl9XSw3OTc4OltbNzk3Niw3NjhdLCx7ODM3OjgwOTB9XSw3OTc5OltbNzk3Nyw3NjhdLCx7ODM3OjgwOTF9XSw3OTgwOltbNzk3Niw3NjldLCx7ODM3OjgwOTJ9XSw3OTgxOltbNzk3Nyw3NjldLCx7ODM3OjgwOTN9XSw3OTgyOltbNzk3Niw4MzRdLCx7ODM3OjgwOTR9XSw3OTgzOltbNzk3Nyw4MzRdLCx7ODM3OjgwOTV9XSw3OTg0OltbOTUzLDc4N10sLHs3Njg6Nzk4Niw3Njk6Nzk4OCw4MzQ6Nzk5MH1dLDc5ODU6W1s5NTMsNzg4XSwsezc2ODo3OTg3LDc2OTo3OTg5LDgzNDo3OTkxfV0sNzk4NjpbWzc5ODQsNzY4XV0sNzk4NzpbWzc5ODUsNzY4XV0sNzk4ODpbWzc5ODQsNzY5XV0sNzk4OTpbWzc5ODUsNzY5XV0sNzk5MDpbWzc5ODQsODM0XV0sNzk5MTpbWzc5ODUsODM0XV0sNzk5MjpbWzkyMSw3ODddLCx7NzY4Ojc5OTQsNzY5Ojc5OTYsODM0Ojc5OTh9XSw3OTkzOltbOTIxLDc4OF0sLHs3Njg6Nzk5NSw3Njk6Nzk5Nyw4MzQ6Nzk5OX1dLDc5OTQ6W1s3OTkyLDc2OF1dLDc5OTU6W1s3OTkzLDc2OF1dLDc5OTY6W1s3OTkyLDc2OV1dLDc5OTc6W1s3OTkzLDc2OV1dLDc5OTg6W1s3OTkyLDgzNF1dLDc5OTk6W1s3OTkzLDgzNF1dLDgwMDA6W1s5NTksNzg3XSwsezc2ODo4MDAyLDc2OTo4MDA0fV0sODAwMTpbWzk1OSw3ODhdLCx7NzY4OjgwMDMsNzY5OjgwMDV9XSw4MDAyOltbODAwMCw3NjhdXSw4MDAzOltbODAwMSw3NjhdXSw4MDA0OltbODAwMCw3NjldXSw4MDA1OltbODAwMSw3NjldXSw4MDA4OltbOTI3LDc4N10sLHs3Njg6ODAxMCw3Njk6ODAxMn1dLDgwMDk6W1s5MjcsNzg4XSwsezc2ODo4MDExLDc2OTo4MDEzfV0sODAxMDpbWzgwMDgsNzY4XV0sODAxMTpbWzgwMDksNzY4XV0sODAxMjpbWzgwMDgsNzY5XV0sODAxMzpbWzgwMDksNzY5XV0sODAxNjpbWzk2NSw3ODddLCx7NzY4OjgwMTgsNzY5OjgwMjAsODM0OjgwMjJ9XSw4MDE3OltbOTY1LDc4OF0sLHs3Njg6ODAxOSw3Njk6ODAyMSw4MzQ6ODAyM31dLDgwMTg6W1s4MDE2LDc2OF1dLDgwMTk6W1s4MDE3LDc2OF1dLDgwMjA6W1s4MDE2LDc2OV1dLDgwMjE6W1s4MDE3LDc2OV1dLDgwMjI6W1s4MDE2LDgzNF1dLDgwMjM6W1s4MDE3LDgzNF1dLDgwMjU6W1s5MzMsNzg4XSwsezc2ODo4MDI3LDc2OTo4MDI5LDgzNDo4MDMxfV0sODAyNzpbWzgwMjUsNzY4XV0sODAyOTpbWzgwMjUsNzY5XV0sODAzMTpbWzgwMjUsODM0XV0sODAzMjpbWzk2OSw3ODddLCx7NzY4OjgwMzQsNzY5OjgwMzYsODM0OjgwMzgsODM3OjgwOTZ9XSw4MDMzOltbOTY5LDc4OF0sLHs3Njg6ODAzNSw3Njk6ODAzNyw4MzQ6ODAzOSw4Mzc6ODA5N31dLDgwMzQ6W1s4MDMyLDc2OF0sLHs4Mzc6ODA5OH1dLDgwMzU6W1s4MDMzLDc2OF0sLHs4Mzc6ODA5OX1dLDgwMzY6W1s4MDMyLDc2OV0sLHs4Mzc6ODEwMH1dLDgwMzc6W1s4MDMzLDc2OV0sLHs4Mzc6ODEwMX1dLDgwMzg6W1s4MDMyLDgzNF0sLHs4Mzc6ODEwMn1dLDgwMzk6W1s4MDMzLDgzNF0sLHs4Mzc6ODEwM31dLDgwNDA6W1s5MzcsNzg3XSwsezc2ODo4MDQyLDc2OTo4MDQ0LDgzNDo4MDQ2LDgzNzo4MTA0fV0sODA0MTpbWzkzNyw3ODhdLCx7NzY4OjgwNDMsNzY5OjgwNDUsODM0OjgwNDcsODM3OjgxMDV9XSw4MDQyOltbODA0MCw3NjhdLCx7ODM3OjgxMDZ9XSw4MDQzOltbODA0MSw3NjhdLCx7ODM3OjgxMDd9XSw4MDQ0OltbODA0MCw3NjldLCx7ODM3OjgxMDh9XSw4MDQ1OltbODA0MSw3NjldLCx7ODM3OjgxMDl9XSw4MDQ2OltbODA0MCw4MzRdLCx7ODM3OjgxMTB9XSw4MDQ3OltbODA0MSw4MzRdLCx7ODM3OjgxMTF9XSw4MDQ4OltbOTQ1LDc2OF0sLHs4Mzc6ODExNH1dLDgwNDk6W1s5NDBdXSw4MDUwOltbOTQ5LDc2OF1dLDgwNTE6W1s5NDFdXSw4MDUyOltbOTUxLDc2OF0sLHs4Mzc6ODEzMH1dLDgwNTM6W1s5NDJdXSw4MDU0OltbOTUzLDc2OF1dLDgwNTU6W1s5NDNdXSw4MDU2OltbOTU5LDc2OF1dLDgwNTc6W1s5NzJdXSw4MDU4OltbOTY1LDc2OF1dLDgwNTk6W1s5NzNdXSw4MDYwOltbOTY5LDc2OF0sLHs4Mzc6ODE3OH1dLDgwNjE6W1s5NzRdXSw4MDY0OltbNzkzNiw4MzddXSw4MDY1OltbNzkzNyw4MzddXSw4MDY2OltbNzkzOCw4MzddXSw4MDY3OltbNzkzOSw4MzddXSw4MDY4OltbNzk0MCw4MzddXSw4MDY5OltbNzk0MSw4MzddXSw4MDcwOltbNzk0Miw4MzddXSw4MDcxOltbNzk0Myw4MzddXSw4MDcyOltbNzk0NCw4MzddXSw4MDczOltbNzk0NSw4MzddXSw4MDc0OltbNzk0Niw4MzddXSw4MDc1OltbNzk0Nyw4MzddXSw4MDc2OltbNzk0OCw4MzddXSw4MDc3OltbNzk0OSw4MzddXSw4MDc4OltbNzk1MCw4MzddXSw4MDc5OltbNzk1MSw4MzddXSw4MDgwOltbNzk2OCw4MzddXSw4MDgxOltbNzk2OSw4MzddXSw4MDgyOltbNzk3MCw4MzddXSw4MDgzOltbNzk3MSw4MzddXSw4MDg0OltbNzk3Miw4MzddXSw4MDg1OltbNzk3Myw4MzddXSw4MDg2OltbNzk3NCw4MzddXSw4MDg3OltbNzk3NSw4MzddXSw4MDg4OltbNzk3Niw4MzddXSw4MDg5OltbNzk3Nyw4MzddXSw4MDkwOltbNzk3OCw4MzddXSw4MDkxOltbNzk3OSw4MzddXSw4MDkyOltbNzk4MCw4MzddXSw4MDkzOltbNzk4MSw4MzddXSw4MDk0OltbNzk4Miw4MzddXSw4MDk1OltbNzk4Myw4MzddXSw4MDk2OltbODAzMiw4MzddXSw4MDk3OltbODAzMyw4MzddXSw4MDk4OltbODAzNCw4MzddXSw4MDk5OltbODAzNSw4MzddXSw4MTAwOltbODAzNiw4MzddXSw4MTAxOltbODAzNyw4MzddXSw4MTAyOltbODAzOCw4MzddXSw4MTAzOltbODAzOSw4MzddXSw4MTA0OltbODA0MCw4MzddXSw4MTA1OltbODA0MSw4MzddXSw4MTA2OltbODA0Miw4MzddXSw4MTA3OltbODA0Myw4MzddXSw4MTA4OltbODA0NCw4MzddXSw4MTA5OltbODA0NSw4MzddXSw4MTEwOltbODA0Niw4MzddXSw4MTExOltbODA0Nyw4MzddXSw4MTEyOltbOTQ1LDc3NF1dLDgxMTM6W1s5NDUsNzcyXV0sODExNDpbWzgwNDgsODM3XV0sODExNTpbWzk0NSw4MzddXSw4MTE2OltbOTQwLDgzN11dLDgxMTg6W1s5NDUsODM0XSwsezgzNzo4MTE5fV0sODExOTpbWzgxMTgsODM3XV0sODEyMDpbWzkxMyw3NzRdXSw4MTIxOltbOTEzLDc3Ml1dLDgxMjI6W1s5MTMsNzY4XV0sODEyMzpbWzkwMl1dLDgxMjQ6W1s5MTMsODM3XV0sODEyNTpbWzMyLDc4N10sMjU2XSw4MTI2OltbOTUzXV0sODEyNzpbWzMyLDc4N10sMjU2LHs3Njg6ODE0MSw3Njk6ODE0Miw4MzQ6ODE0M31dLDgxMjg6W1szMiw4MzRdLDI1Nl0sODEyOTpbWzE2OCw4MzRdXSw4MTMwOltbODA1Miw4MzddXSw4MTMxOltbOTUxLDgzN11dLDgxMzI6W1s5NDIsODM3XV0sODEzNDpbWzk1MSw4MzRdLCx7ODM3OjgxMzV9XSw4MTM1OltbODEzNCw4MzddXSw4MTM2OltbOTE3LDc2OF1dLDgxMzc6W1s5MDRdXSw4MTM4OltbOTE5LDc2OF1dLDgxMzk6W1s5MDVdXSw4MTQwOltbOTE5LDgzN11dLDgxNDE6W1s4MTI3LDc2OF1dLDgxNDI6W1s4MTI3LDc2OV1dLDgxNDM6W1s4MTI3LDgzNF1dLDgxNDQ6W1s5NTMsNzc0XV0sODE0NTpbWzk1Myw3NzJdXSw4MTQ2OltbOTcwLDc2OF1dLDgxNDc6W1s5MTJdXSw4MTUwOltbOTUzLDgzNF1dLDgxNTE6W1s5NzAsODM0XV0sODE1MjpbWzkyMSw3NzRdXSw4MTUzOltbOTIxLDc3Ml1dLDgxNTQ6W1s5MjEsNzY4XV0sODE1NTpbWzkwNl1dLDgxNTc6W1s4MTkwLDc2OF1dLDgxNTg6W1s4MTkwLDc2OV1dLDgxNTk6W1s4MTkwLDgzNF1dLDgxNjA6W1s5NjUsNzc0XV0sODE2MTpbWzk2NSw3NzJdXSw4MTYyOltbOTcxLDc2OF1dLDgxNjM6W1s5NDRdXSw4MTY0OltbOTYxLDc4N11dLDgxNjU6W1s5NjEsNzg4XV0sODE2NjpbWzk2NSw4MzRdXSw4MTY3OltbOTcxLDgzNF1dLDgxNjg6W1s5MzMsNzc0XV0sODE2OTpbWzkzMyw3NzJdXSw4MTcwOltbOTMzLDc2OF1dLDgxNzE6W1s5MTBdXSw4MTcyOltbOTI5LDc4OF1dLDgxNzM6W1sxNjgsNzY4XV0sODE3NDpbWzkwMV1dLDgxNzU6W1s5Nl1dLDgxNzg6W1s4MDYwLDgzN11dLDgxNzk6W1s5NjksODM3XV0sODE4MDpbWzk3NCw4MzddXSw4MTgyOltbOTY5LDgzNF0sLHs4Mzc6ODE4M31dLDgxODM6W1s4MTgyLDgzN11dLDgxODQ6W1s5MjcsNzY4XV0sODE4NTpbWzkwOF1dLDgxODY6W1s5MzcsNzY4XV0sODE4NzpbWzkxMV1dLDgxODg6W1s5MzcsODM3XV0sODE4OTpbWzE4MF1dLDgxOTA6W1szMiw3ODhdLDI1Nix7NzY4OjgxNTcsNzY5OjgxNTgsODM0OjgxNTl9XX0sCjgxOTI6ezgxOTI6W1s4MTk0XV0sODE5MzpbWzgxOTVdXSw4MTk0OltbMzJdLDI1Nl0sODE5NTpbWzMyXSwyNTZdLDgxOTY6W1szMl0sMjU2XSw4MTk3OltbMzJdLDI1Nl0sODE5ODpbWzMyXSwyNTZdLDgxOTk6W1szMl0sMjU2XSw4MjAwOltbMzJdLDI1Nl0sODIwMTpbWzMyXSwyNTZdLDgyMDI6W1szMl0sMjU2XSw4MjA5OltbODIwOF0sMjU2XSw4MjE1OltbMzIsODE5XSwyNTZdLDgyMjg6W1s0Nl0sMjU2XSw4MjI5OltbNDYsNDZdLDI1Nl0sODIzMDpbWzQ2LDQ2LDQ2XSwyNTZdLDgyMzk6W1szMl0sMjU2XSw4MjQzOltbODI0Miw4MjQyXSwyNTZdLDgyNDQ6W1s4MjQyLDgyNDIsODI0Ml0sMjU2XSw4MjQ2OltbODI0NSw4MjQ1XSwyNTZdLDgyNDc6W1s4MjQ1LDgyNDUsODI0NV0sMjU2XSw4MjUyOltbMzMsMzNdLDI1Nl0sODI1NDpbWzMyLDc3M10sMjU2XSw4MjYzOltbNjMsNjNdLDI1Nl0sODI2NDpbWzYzLDMzXSwyNTZdLDgyNjU6W1szMyw2M10sMjU2XSw4Mjc5OltbODI0Miw4MjQyLDgyNDIsODI0Ml0sMjU2XSw4Mjg3OltbMzJdLDI1Nl0sODMwNDpbWzQ4XSwyNTZdLDgzMDU6W1sxMDVdLDI1Nl0sODMwODpbWzUyXSwyNTZdLDgzMDk6W1s1M10sMjU2XSw4MzEwOltbNTRdLDI1Nl0sODMxMTpbWzU1XSwyNTZdLDgzMTI6W1s1Nl0sMjU2XSw4MzEzOltbNTddLDI1Nl0sODMxNDpbWzQzXSwyNTZdLDgzMTU6W1s4NzIyXSwyNTZdLDgzMTY6W1s2MV0sMjU2XSw4MzE3OltbNDBdLDI1Nl0sODMxODpbWzQxXSwyNTZdLDgzMTk6W1sxMTBdLDI1Nl0sODMyMDpbWzQ4XSwyNTZdLDgzMjE6W1s0OV0sMjU2XSw4MzIyOltbNTBdLDI1Nl0sODMyMzpbWzUxXSwyNTZdLDgzMjQ6W1s1Ml0sMjU2XSw4MzI1OltbNTNdLDI1Nl0sODMyNjpbWzU0XSwyNTZdLDgzMjc6W1s1NV0sMjU2XSw4MzI4OltbNTZdLDI1Nl0sODMyOTpbWzU3XSwyNTZdLDgzMzA6W1s0M10sMjU2XSw4MzMxOltbODcyMl0sMjU2XSw4MzMyOltbNjFdLDI1Nl0sODMzMzpbWzQwXSwyNTZdLDgzMzQ6W1s0MV0sMjU2XSw4MzM2OltbOTddLDI1Nl0sODMzNzpbWzEwMV0sMjU2XSw4MzM4OltbMTExXSwyNTZdLDgzMzk6W1sxMjBdLDI1Nl0sODM0MDpbWzYwMV0sMjU2XSw4MzQxOltbMTA0XSwyNTZdLDgzNDI6W1sxMDddLDI1Nl0sODM0MzpbWzEwOF0sMjU2XSw4MzQ0OltbMTA5XSwyNTZdLDgzNDU6W1sxMTBdLDI1Nl0sODM0NjpbWzExMl0sMjU2XSw4MzQ3OltbMTE1XSwyNTZdLDgzNDg6W1sxMTZdLDI1Nl0sODM2MDpbWzgyLDExNV0sMjU2XSw4NDAwOlssMjMwXSw4NDAxOlssMjMwXSw4NDAyOlssMV0sODQwMzpbLDFdLDg0MDQ6WywyMzBdLDg0MDU6WywyMzBdLDg0MDY6WywyMzBdLDg0MDc6WywyMzBdLDg0MDg6WywxXSw4NDA5OlssMV0sODQxMDpbLDFdLDg0MTE6WywyMzBdLDg0MTI6WywyMzBdLDg0MTc6WywyMzBdLDg0MjE6WywxXSw4NDIyOlssMV0sODQyMzpbLDIzMF0sODQyNDpbLDIyMF0sODQyNTpbLDIzMF0sODQyNjpbLDFdLDg0Mjc6WywxXSw4NDI4OlssMjIwXSw4NDI5OlssMjIwXSw4NDMwOlssMjIwXSw4NDMxOlssMjIwXSw4NDMyOlssMjMwXX0sCjg0NDg6ezg0NDg6W1s5Nyw0Nyw5OV0sMjU2XSw4NDQ5OltbOTcsNDcsMTE1XSwyNTZdLDg0NTA6W1s2N10sMjU2XSw4NDUxOltbMTc2LDY3XSwyNTZdLDg0NTM6W1s5OSw0NywxMTFdLDI1Nl0sODQ1NDpbWzk5LDQ3LDExN10sMjU2XSw4NDU1OltbNDAwXSwyNTZdLDg0NTc6W1sxNzYsNzBdLDI1Nl0sODQ1ODpbWzEwM10sMjU2XSw4NDU5OltbNzJdLDI1Nl0sODQ2MDpbWzcyXSwyNTZdLDg0NjE6W1s3Ml0sMjU2XSw4NDYyOltbMTA0XSwyNTZdLDg0NjM6W1syOTVdLDI1Nl0sODQ2NDpbWzczXSwyNTZdLDg0NjU6W1s3M10sMjU2XSw4NDY2OltbNzZdLDI1Nl0sODQ2NzpbWzEwOF0sMjU2XSw4NDY5OltbNzhdLDI1Nl0sODQ3MDpbWzc4LDExMV0sMjU2XSw4NDczOltbODBdLDI1Nl0sODQ3NDpbWzgxXSwyNTZdLDg0NzU6W1s4Ml0sMjU2XSw4NDc2OltbODJdLDI1Nl0sODQ3NzpbWzgyXSwyNTZdLDg0ODA6W1s4Myw3N10sMjU2XSw4NDgxOltbODQsNjksNzZdLDI1Nl0sODQ4MjpbWzg0LDc3XSwyNTZdLDg0ODQ6W1s5MF0sMjU2XSw4NDg2OltbOTM3XV0sODQ4ODpbWzkwXSwyNTZdLDg0OTA6W1s3NV1dLDg0OTE6W1sxOTddXSw4NDkyOltbNjZdLDI1Nl0sODQ5MzpbWzY3XSwyNTZdLDg0OTU6W1sxMDFdLDI1Nl0sODQ5NjpbWzY5XSwyNTZdLDg0OTc6W1s3MF0sMjU2XSw4NDk5OltbNzddLDI1Nl0sODUwMDpbWzExMV0sMjU2XSw4NTAxOltbMTQ4OF0sMjU2XSw4NTAyOltbMTQ4OV0sMjU2XSw4NTAzOltbMTQ5MF0sMjU2XSw4NTA0OltbMTQ5MV0sMjU2XSw4NTA1OltbMTA1XSwyNTZdLDg1MDc6W1s3MCw2NSw4OF0sMjU2XSw4NTA4OltbOTYwXSwyNTZdLDg1MDk6W1s5NDddLDI1Nl0sODUxMDpbWzkxNV0sMjU2XSw4NTExOltbOTI4XSwyNTZdLDg1MTI6W1s4NzIxXSwyNTZdLDg1MTc6W1s2OF0sMjU2XSw4NTE4OltbMTAwXSwyNTZdLDg1MTk6W1sxMDFdLDI1Nl0sODUyMDpbWzEwNV0sMjU2XSw4NTIxOltbMTA2XSwyNTZdLDg1Mjg6W1s0OSw4MjYwLDU1XSwyNTZdLDg1Mjk6W1s0OSw4MjYwLDU3XSwyNTZdLDg1MzA6W1s0OSw4MjYwLDQ5LDQ4XSwyNTZdLDg1MzE6W1s0OSw4MjYwLDUxXSwyNTZdLDg1MzI6W1s1MCw4MjYwLDUxXSwyNTZdLDg1MzM6W1s0OSw4MjYwLDUzXSwyNTZdLDg1MzQ6W1s1MCw4MjYwLDUzXSwyNTZdLDg1MzU6W1s1MSw4MjYwLDUzXSwyNTZdLDg1MzY6W1s1Miw4MjYwLDUzXSwyNTZdLDg1Mzc6W1s0OSw4MjYwLDU0XSwyNTZdLDg1Mzg6W1s1Myw4MjYwLDU0XSwyNTZdLDg1Mzk6W1s0OSw4MjYwLDU2XSwyNTZdLDg1NDA6W1s1MSw4MjYwLDU2XSwyNTZdLDg1NDE6W1s1Myw4MjYwLDU2XSwyNTZdLDg1NDI6W1s1NSw4MjYwLDU2XSwyNTZdLDg1NDM6W1s0OSw4MjYwXSwyNTZdLDg1NDQ6W1s3M10sMjU2XSw4NTQ1OltbNzMsNzNdLDI1Nl0sODU0NjpbWzczLDczLDczXSwyNTZdLDg1NDc6W1s3Myw4Nl0sMjU2XSw4NTQ4OltbODZdLDI1Nl0sODU0OTpbWzg2LDczXSwyNTZdLDg1NTA6W1s4Niw3Myw3M10sMjU2XSw4NTUxOltbODYsNzMsNzMsNzNdLDI1Nl0sODU1MjpbWzczLDg4XSwyNTZdLDg1NTM6W1s4OF0sMjU2XSw4NTU0OltbODgsNzNdLDI1Nl0sODU1NTpbWzg4LDczLDczXSwyNTZdLDg1NTY6W1s3Nl0sMjU2XSw4NTU3OltbNjddLDI1Nl0sODU1ODpbWzY4XSwyNTZdLDg1NTk6W1s3N10sMjU2XSw4NTYwOltbMTA1XSwyNTZdLDg1NjE6W1sxMDUsMTA1XSwyNTZdLDg1NjI6W1sxMDUsMTA1LDEwNV0sMjU2XSw4NTYzOltbMTA1LDExOF0sMjU2XSw4NTY0OltbMTE4XSwyNTZdLDg1NjU6W1sxMTgsMTA1XSwyNTZdLDg1NjY6W1sxMTgsMTA1LDEwNV0sMjU2XSw4NTY3OltbMTE4LDEwNSwxMDUsMTA1XSwyNTZdLDg1Njg6W1sxMDUsMTIwXSwyNTZdLDg1Njk6W1sxMjBdLDI1Nl0sODU3MDpbWzEyMCwxMDVdLDI1Nl0sODU3MTpbWzEyMCwxMDUsMTA1XSwyNTZdLDg1NzI6W1sxMDhdLDI1Nl0sODU3MzpbWzk5XSwyNTZdLDg1NzQ6W1sxMDBdLDI1Nl0sODU3NTpbWzEwOV0sMjU2XSw4NTg1OltbNDgsODI2MCw1MV0sMjU2XSw4NTkyOlssLHs4MjQ6ODYwMn1dLDg1OTQ6WywsezgyNDo4NjAzfV0sODU5NjpbLCx7ODI0Ojg2MjJ9XSw4NjAyOltbODU5Miw4MjRdXSw4NjAzOltbODU5NCw4MjRdXSw4NjIyOltbODU5Niw4MjRdXSw4NjUzOltbODY1Niw4MjRdXSw4NjU0OltbODY2MCw4MjRdXSw4NjU1OltbODY1OCw4MjRdXSw4NjU2OlssLHs4MjQ6ODY1M31dLDg2NTg6WywsezgyNDo4NjU1fV0sODY2MDpbLCx7ODI0Ojg2NTR9XX0sCjg3MDQ6ezg3MDc6WywsezgyNDo4NzA4fV0sODcwODpbWzg3MDcsODI0XV0sODcxMjpbLCx7ODI0Ojg3MTN9XSw4NzEzOltbODcxMiw4MjRdXSw4NzE1OlssLHs4MjQ6ODcxNn1dLDg3MTY6W1s4NzE1LDgyNF1dLDg3Mzk6WywsezgyNDo4NzQwfV0sODc0MDpbWzg3MzksODI0XV0sODc0MTpbLCx7ODI0Ojg3NDJ9XSw4NzQyOltbODc0MSw4MjRdXSw4NzQ4OltbODc0Nyw4NzQ3XSwyNTZdLDg3NDk6W1s4NzQ3LDg3NDcsODc0N10sMjU2XSw4NzUxOltbODc1MCw4NzUwXSwyNTZdLDg3NTI6W1s4NzUwLDg3NTAsODc1MF0sMjU2XSw4NzY0OlssLHs4MjQ6ODc2OX1dLDg3Njk6W1s4NzY0LDgyNF1dLDg3NzE6WywsezgyNDo4NzcyfV0sODc3MjpbWzg3NzEsODI0XV0sODc3MzpbLCx7ODI0Ojg3NzV9XSw4Nzc1OltbODc3Myw4MjRdXSw4Nzc2OlssLHs4MjQ6ODc3N31dLDg3Nzc6W1s4Nzc2LDgyNF1dLDg3ODE6WywsezgyNDo4ODEzfV0sODgwMDpbWzYxLDgyNF1dLDg4MDE6WywsezgyNDo4ODAyfV0sODgwMjpbWzg4MDEsODI0XV0sODgwNDpbLCx7ODI0Ojg4MTZ9XSw4ODA1OlssLHs4MjQ6ODgxN31dLDg4MTM6W1s4NzgxLDgyNF1dLDg4MTQ6W1s2MCw4MjRdXSw4ODE1OltbNjIsODI0XV0sODgxNjpbWzg4MDQsODI0XV0sODgxNzpbWzg4MDUsODI0XV0sODgxODpbLCx7ODI0Ojg4MjB9XSw4ODE5OlssLHs4MjQ6ODgyMX1dLDg4MjA6W1s4ODE4LDgyNF1dLDg4MjE6W1s4ODE5LDgyNF1dLDg4MjI6WywsezgyNDo4ODI0fV0sODgyMzpbLCx7ODI0Ojg4MjV9XSw4ODI0OltbODgyMiw4MjRdXSw4ODI1OltbODgyMyw4MjRdXSw4ODI2OlssLHs4MjQ6ODgzMn1dLDg4Mjc6WywsezgyNDo4ODMzfV0sODgyODpbLCx7ODI0Ojg5Mjh9XSw4ODI5OlssLHs4MjQ6ODkyOX1dLDg4MzI6W1s4ODI2LDgyNF1dLDg4MzM6W1s4ODI3LDgyNF1dLDg4MzQ6WywsezgyNDo4ODM2fV0sODgzNTpbLCx7ODI0Ojg4Mzd9XSw4ODM2OltbODgzNCw4MjRdXSw4ODM3OltbODgzNSw4MjRdXSw4ODM4OlssLHs4MjQ6ODg0MH1dLDg4Mzk6WywsezgyNDo4ODQxfV0sODg0MDpbWzg4MzgsODI0XV0sODg0MTpbWzg4MzksODI0XV0sODg0OTpbLCx7ODI0Ojg5MzB9XSw4ODUwOlssLHs4MjQ6ODkzMX1dLDg4NjY6WywsezgyNDo4ODc2fV0sODg3MjpbLCx7ODI0Ojg4Nzd9XSw4ODczOlssLHs4MjQ6ODg3OH1dLDg4NzU6WywsezgyNDo4ODc5fV0sODg3NjpbWzg4NjYsODI0XV0sODg3NzpbWzg4NzIsODI0XV0sODg3ODpbWzg4NzMsODI0XV0sODg3OTpbWzg4NzUsODI0XV0sODg4MjpbLCx7ODI0Ojg5Mzh9XSw4ODgzOlssLHs4MjQ6ODkzOX1dLDg4ODQ6WywsezgyNDo4OTQwfV0sODg4NTpbLCx7ODI0Ojg5NDF9XSw4OTI4OltbODgyOCw4MjRdXSw4OTI5OltbODgyOSw4MjRdXSw4OTMwOltbODg0OSw4MjRdXSw4OTMxOltbODg1MCw4MjRdXSw4OTM4OltbODg4Miw4MjRdXSw4OTM5OltbODg4Myw4MjRdXSw4OTQwOltbODg4NCw4MjRdXSw4OTQxOltbODg4NSw4MjRdXX0sCjg5NjA6ezkwMDE6W1sxMjI5Nl1dLDkwMDI6W1sxMjI5N11dfSwKOTIxNjp7OTMxMjpbWzQ5XSwyNTZdLDkzMTM6W1s1MF0sMjU2XSw5MzE0OltbNTFdLDI1Nl0sOTMxNTpbWzUyXSwyNTZdLDkzMTY6W1s1M10sMjU2XSw5MzE3OltbNTRdLDI1Nl0sOTMxODpbWzU1XSwyNTZdLDkzMTk6W1s1Nl0sMjU2XSw5MzIwOltbNTddLDI1Nl0sOTMyMTpbWzQ5LDQ4XSwyNTZdLDkzMjI6W1s0OSw0OV0sMjU2XSw5MzIzOltbNDksNTBdLDI1Nl0sOTMyNDpbWzQ5LDUxXSwyNTZdLDkzMjU6W1s0OSw1Ml0sMjU2XSw5MzI2OltbNDksNTNdLDI1Nl0sOTMyNzpbWzQ5LDU0XSwyNTZdLDkzMjg6W1s0OSw1NV0sMjU2XSw5MzI5OltbNDksNTZdLDI1Nl0sOTMzMDpbWzQ5LDU3XSwyNTZdLDkzMzE6W1s1MCw0OF0sMjU2XSw5MzMyOltbNDAsNDksNDFdLDI1Nl0sOTMzMzpbWzQwLDUwLDQxXSwyNTZdLDkzMzQ6W1s0MCw1MSw0MV0sMjU2XSw5MzM1OltbNDAsNTIsNDFdLDI1Nl0sOTMzNjpbWzQwLDUzLDQxXSwyNTZdLDkzMzc6W1s0MCw1NCw0MV0sMjU2XSw5MzM4OltbNDAsNTUsNDFdLDI1Nl0sOTMzOTpbWzQwLDU2LDQxXSwyNTZdLDkzNDA6W1s0MCw1Nyw0MV0sMjU2XSw5MzQxOltbNDAsNDksNDgsNDFdLDI1Nl0sOTM0MjpbWzQwLDQ5LDQ5LDQxXSwyNTZdLDkzNDM6W1s0MCw0OSw1MCw0MV0sMjU2XSw5MzQ0OltbNDAsNDksNTEsNDFdLDI1Nl0sOTM0NTpbWzQwLDQ5LDUyLDQxXSwyNTZdLDkzNDY6W1s0MCw0OSw1Myw0MV0sMjU2XSw5MzQ3OltbNDAsNDksNTQsNDFdLDI1Nl0sOTM0ODpbWzQwLDQ5LDU1LDQxXSwyNTZdLDkzNDk6W1s0MCw0OSw1Niw0MV0sMjU2XSw5MzUwOltbNDAsNDksNTcsNDFdLDI1Nl0sOTM1MTpbWzQwLDUwLDQ4LDQxXSwyNTZdLDkzNTI6W1s0OSw0Nl0sMjU2XSw5MzUzOltbNTAsNDZdLDI1Nl0sOTM1NDpbWzUxLDQ2XSwyNTZdLDkzNTU6W1s1Miw0Nl0sMjU2XSw5MzU2OltbNTMsNDZdLDI1Nl0sOTM1NzpbWzU0LDQ2XSwyNTZdLDkzNTg6W1s1NSw0Nl0sMjU2XSw5MzU5OltbNTYsNDZdLDI1Nl0sOTM2MDpbWzU3LDQ2XSwyNTZdLDkzNjE6W1s0OSw0OCw0Nl0sMjU2XSw5MzYyOltbNDksNDksNDZdLDI1Nl0sOTM2MzpbWzQ5LDUwLDQ2XSwyNTZdLDkzNjQ6W1s0OSw1MSw0Nl0sMjU2XSw5MzY1OltbNDksNTIsNDZdLDI1Nl0sOTM2NjpbWzQ5LDUzLDQ2XSwyNTZdLDkzNjc6W1s0OSw1NCw0Nl0sMjU2XSw5MzY4OltbNDksNTUsNDZdLDI1Nl0sOTM2OTpbWzQ5LDU2LDQ2XSwyNTZdLDkzNzA6W1s0OSw1Nyw0Nl0sMjU2XSw5MzcxOltbNTAsNDgsNDZdLDI1Nl0sOTM3MjpbWzQwLDk3LDQxXSwyNTZdLDkzNzM6W1s0MCw5OCw0MV0sMjU2XSw5Mzc0OltbNDAsOTksNDFdLDI1Nl0sOTM3NTpbWzQwLDEwMCw0MV0sMjU2XSw5Mzc2OltbNDAsMTAxLDQxXSwyNTZdLDkzNzc6W1s0MCwxMDIsNDFdLDI1Nl0sOTM3ODpbWzQwLDEwMyw0MV0sMjU2XSw5Mzc5OltbNDAsMTA0LDQxXSwyNTZdLDkzODA6W1s0MCwxMDUsNDFdLDI1Nl0sOTM4MTpbWzQwLDEwNiw0MV0sMjU2XSw5MzgyOltbNDAsMTA3LDQxXSwyNTZdLDkzODM6W1s0MCwxMDgsNDFdLDI1Nl0sOTM4NDpbWzQwLDEwOSw0MV0sMjU2XSw5Mzg1OltbNDAsMTEwLDQxXSwyNTZdLDkzODY6W1s0MCwxMTEsNDFdLDI1Nl0sOTM4NzpbWzQwLDExMiw0MV0sMjU2XSw5Mzg4OltbNDAsMTEzLDQxXSwyNTZdLDkzODk6W1s0MCwxMTQsNDFdLDI1Nl0sOTM5MDpbWzQwLDExNSw0MV0sMjU2XSw5MzkxOltbNDAsMTE2LDQxXSwyNTZdLDkzOTI6W1s0MCwxMTcsNDFdLDI1Nl0sOTM5MzpbWzQwLDExOCw0MV0sMjU2XSw5Mzk0OltbNDAsMTE5LDQxXSwyNTZdLDkzOTU6W1s0MCwxMjAsNDFdLDI1Nl0sOTM5NjpbWzQwLDEyMSw0MV0sMjU2XSw5Mzk3OltbNDAsMTIyLDQxXSwyNTZdLDkzOTg6W1s2NV0sMjU2XSw5Mzk5OltbNjZdLDI1Nl0sOTQwMDpbWzY3XSwyNTZdLDk0MDE6W1s2OF0sMjU2XSw5NDAyOltbNjldLDI1Nl0sOTQwMzpbWzcwXSwyNTZdLDk0MDQ6W1s3MV0sMjU2XSw5NDA1OltbNzJdLDI1Nl0sOTQwNjpbWzczXSwyNTZdLDk0MDc6W1s3NF0sMjU2XSw5NDA4OltbNzVdLDI1Nl0sOTQwOTpbWzc2XSwyNTZdLDk0MTA6W1s3N10sMjU2XSw5NDExOltbNzhdLDI1Nl0sOTQxMjpbWzc5XSwyNTZdLDk0MTM6W1s4MF0sMjU2XSw5NDE0OltbODFdLDI1Nl0sOTQxNTpbWzgyXSwyNTZdLDk0MTY6W1s4M10sMjU2XSw5NDE3OltbODRdLDI1Nl0sOTQxODpbWzg1XSwyNTZdLDk0MTk6W1s4Nl0sMjU2XSw5NDIwOltbODddLDI1Nl0sOTQyMTpbWzg4XSwyNTZdLDk0MjI6W1s4OV0sMjU2XSw5NDIzOltbOTBdLDI1Nl0sOTQyNDpbWzk3XSwyNTZdLDk0MjU6W1s5OF0sMjU2XSw5NDI2OltbOTldLDI1Nl0sOTQyNzpbWzEwMF0sMjU2XSw5NDI4OltbMTAxXSwyNTZdLDk0Mjk6W1sxMDJdLDI1Nl0sOTQzMDpbWzEwM10sMjU2XSw5NDMxOltbMTA0XSwyNTZdLDk0MzI6W1sxMDVdLDI1Nl0sOTQzMzpbWzEwNl0sMjU2XSw5NDM0OltbMTA3XSwyNTZdLDk0MzU6W1sxMDhdLDI1Nl0sOTQzNjpbWzEwOV0sMjU2XSw5NDM3OltbMTEwXSwyNTZdLDk0Mzg6W1sxMTFdLDI1Nl0sOTQzOTpbWzExMl0sMjU2XSw5NDQwOltbMTEzXSwyNTZdLDk0NDE6W1sxMTRdLDI1Nl0sOTQ0MjpbWzExNV0sMjU2XSw5NDQzOltbMTE2XSwyNTZdLDk0NDQ6W1sxMTddLDI1Nl0sOTQ0NTpbWzExOF0sMjU2XSw5NDQ2OltbMTE5XSwyNTZdLDk0NDc6W1sxMjBdLDI1Nl0sOTQ0ODpbWzEyMV0sMjU2XSw5NDQ5OltbMTIyXSwyNTZdLDk0NTA6W1s0OF0sMjU2XX0sCjEwNzUyOnsxMDc2NDpbWzg3NDcsODc0Nyw4NzQ3LDg3NDddLDI1Nl0sMTA4Njg6W1s1OCw1OCw2MV0sMjU2XSwxMDg2OTpbWzYxLDYxXSwyNTZdLDEwODcwOltbNjEsNjEsNjFdLDI1Nl0sMTA5NzI6W1sxMDk3Myw4MjRdLDUxMl19LAoxMTI2NDp7MTEzODg6W1sxMDZdLDI1Nl0sMTEzODk6W1s4Nl0sMjU2XSwxMTUwMzpbLDIzMF0sMTE1MDQ6WywyMzBdLDExNTA1OlssMjMwXX0sCjExNTIwOnsxMTYzMTpbWzExNjE3XSwyNTZdLDExNjQ3OlssOV0sMTE3NDQ6WywyMzBdLDExNzQ1OlssMjMwXSwxMTc0NjpbLDIzMF0sMTE3NDc6WywyMzBdLDExNzQ4OlssMjMwXSwxMTc0OTpbLDIzMF0sMTE3NTA6WywyMzBdLDExNzUxOlssMjMwXSwxMTc1MjpbLDIzMF0sMTE3NTM6WywyMzBdLDExNzU0OlssMjMwXSwxMTc1NTpbLDIzMF0sMTE3NTY6WywyMzBdLDExNzU3OlssMjMwXSwxMTc1ODpbLDIzMF0sMTE3NTk6WywyMzBdLDExNzYwOlssMjMwXSwxMTc2MTpbLDIzMF0sMTE3NjI6WywyMzBdLDExNzYzOlssMjMwXSwxMTc2NDpbLDIzMF0sMTE3NjU6WywyMzBdLDExNzY2OlssMjMwXSwxMTc2NzpbLDIzMF0sMTE3Njg6WywyMzBdLDExNzY5OlssMjMwXSwxMTc3MDpbLDIzMF0sMTE3NzE6WywyMzBdLDExNzcyOlssMjMwXSwxMTc3MzpbLDIzMF0sMTE3NzQ6WywyMzBdLDExNzc1OlssMjMwXX0sCjExNzc2OnsxMTkzNTpbWzI3NTk3XSwyNTZdLDEyMDE5OltbNDA4NjNdLDI1Nl19LAoxMjAzMjp7MTIwMzI6W1sxOTk2OF0sMjU2XSwxMjAzMzpbWzIwMDA4XSwyNTZdLDEyMDM0OltbMjAwMjJdLDI1Nl0sMTIwMzU6W1syMDAzMV0sMjU2XSwxMjAzNjpbWzIwMDU3XSwyNTZdLDEyMDM3OltbMjAxMDFdLDI1Nl0sMTIwMzg6W1syMDEwOF0sMjU2XSwxMjAzOTpbWzIwMTI4XSwyNTZdLDEyMDQwOltbMjAxNTRdLDI1Nl0sMTIwNDE6W1syMDc5OV0sMjU2XSwxMjA0MjpbWzIwODM3XSwyNTZdLDEyMDQzOltbMjA4NDNdLDI1Nl0sMTIwNDQ6W1syMDg2Nl0sMjU2XSwxMjA0NTpbWzIwODg2XSwyNTZdLDEyMDQ2OltbMjA5MDddLDI1Nl0sMTIwNDc6W1syMDk2MF0sMjU2XSwxMjA0ODpbWzIwOTgxXSwyNTZdLDEyMDQ5OltbMjA5OTJdLDI1Nl0sMTIwNTA6W1syMTE0N10sMjU2XSwxMjA1MTpbWzIxMjQxXSwyNTZdLDEyMDUyOltbMjEyNjldLDI1Nl0sMTIwNTM6W1syMTI3NF0sMjU2XSwxMjA1NDpbWzIxMzA0XSwyNTZdLDEyMDU1OltbMjEzMTNdLDI1Nl0sMTIwNTY6W1syMTM0MF0sMjU2XSwxMjA1NzpbWzIxMzUzXSwyNTZdLDEyMDU4OltbMjEzNzhdLDI1Nl0sMTIwNTk6W1syMTQzMF0sMjU2XSwxMjA2MDpbWzIxNDQ4XSwyNTZdLDEyMDYxOltbMjE0NzVdLDI1Nl0sMTIwNjI6W1syMjIzMV0sMjU2XSwxMjA2MzpbWzIyMzAzXSwyNTZdLDEyMDY0OltbMjI3NjNdLDI1Nl0sMTIwNjU6W1syMjc4Nl0sMjU2XSwxMjA2NjpbWzIyNzk0XSwyNTZdLDEyMDY3OltbMjI4MDVdLDI1Nl0sMTIwNjg6W1syMjgyM10sMjU2XSwxMjA2OTpbWzIyODk5XSwyNTZdLDEyMDcwOltbMjMzNzZdLDI1Nl0sMTIwNzE6W1syMzQyNF0sMjU2XSwxMjA3MjpbWzIzNTQ0XSwyNTZdLDEyMDczOltbMjM1NjddLDI1Nl0sMTIwNzQ6W1syMzU4Nl0sMjU2XSwxMjA3NTpbWzIzNjA4XSwyNTZdLDEyMDc2OltbMjM2NjJdLDI1Nl0sMTIwNzc6W1syMzY2NV0sMjU2XSwxMjA3ODpbWzI0MDI3XSwyNTZdLDEyMDc5OltbMjQwMzddLDI1Nl0sMTIwODA6W1syNDA0OV0sMjU2XSwxMjA4MTpbWzI0MDYyXSwyNTZdLDEyMDgyOltbMjQxNzhdLDI1Nl0sMTIwODM6W1syNDE4Nl0sMjU2XSwxMjA4NDpbWzI0MTkxXSwyNTZdLDEyMDg1OltbMjQzMDhdLDI1Nl0sMTIwODY6W1syNDMxOF0sMjU2XSwxMjA4NzpbWzI0MzMxXSwyNTZdLDEyMDg4OltbMjQzMzldLDI1Nl0sMTIwODk6W1syNDQwMF0sMjU2XSwxMjA5MDpbWzI0NDE3XSwyNTZdLDEyMDkxOltbMjQ0MzVdLDI1Nl0sMTIwOTI6W1syNDUxNV0sMjU2XSwxMjA5MzpbWzI1MDk2XSwyNTZdLDEyMDk0OltbMjUxNDJdLDI1Nl0sMTIwOTU6W1syNTE2M10sMjU2XSwxMjA5NjpbWzI1OTAzXSwyNTZdLDEyMDk3OltbMjU5MDhdLDI1Nl0sMTIwOTg6W1syNTk5MV0sMjU2XSwxMjA5OTpbWzI2MDA3XSwyNTZdLDEyMTAwOltbMjYwMjBdLDI1Nl0sMTIxMDE6W1syNjA0MV0sMjU2XSwxMjEwMjpbWzI2MDgwXSwyNTZdLDEyMTAzOltbMjYwODVdLDI1Nl0sMTIxMDQ6W1syNjM1Ml0sMjU2XSwxMjEwNTpbWzI2Mzc2XSwyNTZdLDEyMTA2OltbMjY0MDhdLDI1Nl0sMTIxMDc6W1syNzQyNF0sMjU2XSwxMjEwODpbWzI3NDkwXSwyNTZdLDEyMTA5OltbMjc1MTNdLDI1Nl0sMTIxMTA6W1syNzU3MV0sMjU2XSwxMjExMTpbWzI3NTk1XSwyNTZdLDEyMTEyOltbMjc2MDRdLDI1Nl0sMTIxMTM6W1syNzYxMV0sMjU2XSwxMjExNDpbWzI3NjYzXSwyNTZdLDEyMTE1OltbMjc2NjhdLDI1Nl0sMTIxMTY6W1syNzcwMF0sMjU2XSwxMjExNzpbWzI4Nzc5XSwyNTZdLDEyMTE4OltbMjkyMjZdLDI1Nl0sMTIxMTk6W1syOTIzOF0sMjU2XSwxMjEyMDpbWzI5MjQzXSwyNTZdLDEyMTIxOltbMjkyNDddLDI1Nl0sMTIxMjI6W1syOTI1NV0sMjU2XSwxMjEyMzpbWzI5MjczXSwyNTZdLDEyMTI0OltbMjkyNzVdLDI1Nl0sMTIxMjU6W1syOTM1Nl0sMjU2XSwxMjEyNjpbWzI5NTcyXSwyNTZdLDEyMTI3OltbMjk1NzddLDI1Nl0sMTIxMjg6W1syOTkxNl0sMjU2XSwxMjEyOTpbWzI5OTI2XSwyNTZdLDEyMTMwOltbMjk5NzZdLDI1Nl0sMTIxMzE6W1syOTk4M10sMjU2XSwxMjEzMjpbWzI5OTkyXSwyNTZdLDEyMTMzOltbMzAwMDBdLDI1Nl0sMTIxMzQ6W1szMDA5MV0sMjU2XSwxMjEzNTpbWzMwMDk4XSwyNTZdLDEyMTM2OltbMzAzMjZdLDI1Nl0sMTIxMzc6W1szMDMzM10sMjU2XSwxMjEzODpbWzMwMzgyXSwyNTZdLDEyMTM5OltbMzAzOTldLDI1Nl0sMTIxNDA6W1szMDQ0Nl0sMjU2XSwxMjE0MTpbWzMwNjgzXSwyNTZdLDEyMTQyOltbMzA2OTBdLDI1Nl0sMTIxNDM6W1szMDcwN10sMjU2XSwxMjE0NDpbWzMxMDM0XSwyNTZdLDEyMTQ1OltbMzExNjBdLDI1Nl0sMTIxNDY6W1szMTE2Nl0sMjU2XSwxMjE0NzpbWzMxMzQ4XSwyNTZdLDEyMTQ4OltbMzE0MzVdLDI1Nl0sMTIxNDk6W1szMTQ4MV0sMjU2XSwxMjE1MDpbWzMxODU5XSwyNTZdLDEyMTUxOltbMzE5OTJdLDI1Nl0sMTIxNTI6W1szMjU2Nl0sMjU2XSwxMjE1MzpbWzMyNTkzXSwyNTZdLDEyMTU0OltbMzI2NTBdLDI1Nl0sMTIxNTU6W1szMjcwMV0sMjU2XSwxMjE1NjpbWzMyNzY5XSwyNTZdLDEyMTU3OltbMzI3ODBdLDI1Nl0sMTIxNTg6W1szMjc4Nl0sMjU2XSwxMjE1OTpbWzMyODE5XSwyNTZdLDEyMTYwOltbMzI4OTVdLDI1Nl0sMTIxNjE6W1szMjkwNV0sMjU2XSwxMjE2MjpbWzMzMjUxXSwyNTZdLDEyMTYzOltbMzMyNThdLDI1Nl0sMTIxNjQ6W1szMzI2N10sMjU2XSwxMjE2NTpbWzMzMjc2XSwyNTZdLDEyMTY2OltbMzMyOTJdLDI1Nl0sMTIxNjc6W1szMzMwN10sMjU2XSwxMjE2ODpbWzMzMzExXSwyNTZdLDEyMTY5OltbMzMzOTBdLDI1Nl0sMTIxNzA6W1szMzM5NF0sMjU2XSwxMjE3MTpbWzMzNDAwXSwyNTZdLDEyMTcyOltbMzQzODFdLDI1Nl0sMTIxNzM6W1szNDQxMV0sMjU2XSwxMjE3NDpbWzM0ODgwXSwyNTZdLDEyMTc1OltbMzQ4OTJdLDI1Nl0sMTIxNzY6W1szNDkxNV0sMjU2XSwxMjE3NzpbWzM1MTk4XSwyNTZdLDEyMTc4OltbMzUyMTFdLDI1Nl0sMTIxNzk6W1szNTI4Ml0sMjU2XSwxMjE4MDpbWzM1MzI4XSwyNTZdLDEyMTgxOltbMzU4OTVdLDI1Nl0sMTIxODI6W1szNTkxMF0sMjU2XSwxMjE4MzpbWzM1OTI1XSwyNTZdLDEyMTg0OltbMzU5NjBdLDI1Nl0sMTIxODU6W1szNTk5N10sMjU2XSwxMjE4NjpbWzM2MTk2XSwyNTZdLDEyMTg3OltbMzYyMDhdLDI1Nl0sMTIxODg6W1szNjI3NV0sMjU2XSwxMjE4OTpbWzM2NTIzXSwyNTZdLDEyMTkwOltbMzY1NTRdLDI1Nl0sMTIxOTE6W1szNjc2M10sMjU2XSwxMjE5MjpbWzM2Nzg0XSwyNTZdLDEyMTkzOltbMzY3ODldLDI1Nl0sMTIxOTQ6W1szNzAwOV0sMjU2XSwxMjE5NTpbWzM3MTkzXSwyNTZdLDEyMTk2OltbMzczMThdLDI1Nl0sMTIxOTc6W1szNzMyNF0sMjU2XSwxMjE5ODpbWzM3MzI5XSwyNTZdLDEyMTk5OltbMzgyNjNdLDI1Nl0sMTIyMDA6W1szODI3Ml0sMjU2XSwxMjIwMTpbWzM4NDI4XSwyNTZdLDEyMjAyOltbMzg1ODJdLDI1Nl0sMTIyMDM6W1szODU4NV0sMjU2XSwxMjIwNDpbWzM4NjMyXSwyNTZdLDEyMjA1OltbMzg3MzddLDI1Nl0sMTIyMDY6W1szODc1MF0sMjU2XSwxMjIwNzpbWzM4NzU0XSwyNTZdLDEyMjA4OltbMzg3NjFdLDI1Nl0sMTIyMDk6W1szODg1OV0sMjU2XSwxMjIxMDpbWzM4ODkzXSwyNTZdLDEyMjExOltbMzg4OTldLDI1Nl0sMTIyMTI6W1szODkxM10sMjU2XSwxMjIxMzpbWzM5MDgwXSwyNTZdLDEyMjE0OltbMzkxMzFdLDI1Nl0sMTIyMTU6W1szOTEzNV0sMjU2XSwxMjIxNjpbWzM5MzE4XSwyNTZdLDEyMjE3OltbMzkzMjFdLDI1Nl0sMTIyMTg6W1szOTM0MF0sMjU2XSwxMjIxOTpbWzM5NTkyXSwyNTZdLDEyMjIwOltbMzk2NDBdLDI1Nl0sMTIyMjE6W1szOTY0N10sMjU2XSwxMjIyMjpbWzM5NzE3XSwyNTZdLDEyMjIzOltbMzk3MjddLDI1Nl0sMTIyMjQ6W1szOTczMF0sMjU2XSwxMjIyNTpbWzM5NzQwXSwyNTZdLDEyMjI2OltbMzk3NzBdLDI1Nl0sMTIyMjc6W1s0MDE2NV0sMjU2XSwxMjIyODpbWzQwNTY1XSwyNTZdLDEyMjI5OltbNDA1NzVdLDI1Nl0sMTIyMzA6W1s0MDYxM10sMjU2XSwxMjIzMTpbWzQwNjM1XSwyNTZdLDEyMjMyOltbNDA2NDNdLDI1Nl0sMTIyMzM6W1s0MDY1M10sMjU2XSwxMjIzNDpbWzQwNjU3XSwyNTZdLDEyMjM1OltbNDA2OTddLDI1Nl0sMTIyMzY6W1s0MDcwMV0sMjU2XSwxMjIzNzpbWzQwNzE4XSwyNTZdLDEyMjM4OltbNDA3MjNdLDI1Nl0sMTIyMzk6W1s0MDczNl0sMjU2XSwxMjI0MDpbWzQwNzYzXSwyNTZdLDEyMjQxOltbNDA3NzhdLDI1Nl0sMTIyNDI6W1s0MDc4Nl0sMjU2XSwxMjI0MzpbWzQwODQ1XSwyNTZdLDEyMjQ0OltbNDA4NjBdLDI1Nl0sMTIyNDU6W1s0MDg2NF0sMjU2XX0sCjEyMjg4OnsxMjI4ODpbWzMyXSwyNTZdLDEyMzMwOlssMjE4XSwxMjMzMTpbLDIyOF0sMTIzMzI6WywyMzJdLDEyMzMzOlssMjIyXSwxMjMzNDpbLDIyNF0sMTIzMzU6WywyMjRdLDEyMzQyOltbMTIzMDZdLDI1Nl0sMTIzNDQ6W1syMTMxM10sMjU2XSwxMjM0NTpbWzIxMzE2XSwyNTZdLDEyMzQ2OltbMjEzMTddLDI1Nl0sMTIzNTg6WywsezEyNDQxOjEyNDM2fV0sMTIzNjM6WywsezEyNDQxOjEyMzY0fV0sMTIzNjQ6W1sxMjM2MywxMjQ0MV1dLDEyMzY1OlssLHsxMjQ0MToxMjM2Nn1dLDEyMzY2OltbMTIzNjUsMTI0NDFdXSwxMjM2NzpbLCx7MTI0NDE6MTIzNjh9XSwxMjM2ODpbWzEyMzY3LDEyNDQxXV0sMTIzNjk6WywsezEyNDQxOjEyMzcwfV0sMTIzNzA6W1sxMjM2OSwxMjQ0MV1dLDEyMzcxOlssLHsxMjQ0MToxMjM3Mn1dLDEyMzcyOltbMTIzNzEsMTI0NDFdXSwxMjM3MzpbLCx7MTI0NDE6MTIzNzR9XSwxMjM3NDpbWzEyMzczLDEyNDQxXV0sMTIzNzU6WywsezEyNDQxOjEyMzc2fV0sMTIzNzY6W1sxMjM3NSwxMjQ0MV1dLDEyMzc3OlssLHsxMjQ0MToxMjM3OH1dLDEyMzc4OltbMTIzNzcsMTI0NDFdXSwxMjM3OTpbLCx7MTI0NDE6MTIzODB9XSwxMjM4MDpbWzEyMzc5LDEyNDQxXV0sMTIzODE6WywsezEyNDQxOjEyMzgyfV0sMTIzODI6W1sxMjM4MSwxMjQ0MV1dLDEyMzgzOlssLHsxMjQ0MToxMjM4NH1dLDEyMzg0OltbMTIzODMsMTI0NDFdXSwxMjM4NTpbLCx7MTI0NDE6MTIzODZ9XSwxMjM4NjpbWzEyMzg1LDEyNDQxXV0sMTIzODg6WywsezEyNDQxOjEyMzg5fV0sMTIzODk6W1sxMjM4OCwxMjQ0MV1dLDEyMzkwOlssLHsxMjQ0MToxMjM5MX1dLDEyMzkxOltbMTIzOTAsMTI0NDFdXSwxMjM5MjpbLCx7MTI0NDE6MTIzOTN9XSwxMjM5MzpbWzEyMzkyLDEyNDQxXV0sMTIzOTk6WywsezEyNDQxOjEyNDAwLDEyNDQyOjEyNDAxfV0sMTI0MDA6W1sxMjM5OSwxMjQ0MV1dLDEyNDAxOltbMTIzOTksMTI0NDJdXSwxMjQwMjpbLCx7MTI0NDE6MTI0MDMsMTI0NDI6MTI0MDR9XSwxMjQwMzpbWzEyNDAyLDEyNDQxXV0sMTI0MDQ6W1sxMjQwMiwxMjQ0Ml1dLDEyNDA1OlssLHsxMjQ0MToxMjQwNiwxMjQ0MjoxMjQwN31dLDEyNDA2OltbMTI0MDUsMTI0NDFdXSwxMjQwNzpbWzEyNDA1LDEyNDQyXV0sMTI0MDg6WywsezEyNDQxOjEyNDA5LDEyNDQyOjEyNDEwfV0sMTI0MDk6W1sxMjQwOCwxMjQ0MV1dLDEyNDEwOltbMTI0MDgsMTI0NDJdXSwxMjQxMTpbLCx7MTI0NDE6MTI0MTIsMTI0NDI6MTI0MTN9XSwxMjQxMjpbWzEyNDExLDEyNDQxXV0sMTI0MTM6W1sxMjQxMSwxMjQ0Ml1dLDEyNDM2OltbMTIzNTgsMTI0NDFdXSwxMjQ0MTpbLDhdLDEyNDQyOlssOF0sMTI0NDM6W1szMiwxMjQ0MV0sMjU2XSwxMjQ0NDpbWzMyLDEyNDQyXSwyNTZdLDEyNDQ1OlssLHsxMjQ0MToxMjQ0Nn1dLDEyNDQ2OltbMTI0NDUsMTI0NDFdXSwxMjQ0NzpbWzEyNDI0LDEyNDI2XSwyNTZdLDEyNDU0OlssLHsxMjQ0MToxMjUzMn1dLDEyNDU5OlssLHsxMjQ0MToxMjQ2MH1dLDEyNDYwOltbMTI0NTksMTI0NDFdXSwxMjQ2MTpbLCx7MTI0NDE6MTI0NjJ9XSwxMjQ2MjpbWzEyNDYxLDEyNDQxXV0sMTI0NjM6WywsezEyNDQxOjEyNDY0fV0sMTI0NjQ6W1sxMjQ2MywxMjQ0MV1dLDEyNDY1OlssLHsxMjQ0MToxMjQ2Nn1dLDEyNDY2OltbMTI0NjUsMTI0NDFdXSwxMjQ2NzpbLCx7MTI0NDE6MTI0Njh9XSwxMjQ2ODpbWzEyNDY3LDEyNDQxXV0sMTI0Njk6WywsezEyNDQxOjEyNDcwfV0sMTI0NzA6W1sxMjQ2OSwxMjQ0MV1dLDEyNDcxOlssLHsxMjQ0MToxMjQ3Mn1dLDEyNDcyOltbMTI0NzEsMTI0NDFdXSwxMjQ3MzpbLCx7MTI0NDE6MTI0NzR9XSwxMjQ3NDpbWzEyNDczLDEyNDQxXV0sMTI0NzU6WywsezEyNDQxOjEyNDc2fV0sMTI0NzY6W1sxMjQ3NSwxMjQ0MV1dLDEyNDc3OlssLHsxMjQ0MToxMjQ3OH1dLDEyNDc4OltbMTI0NzcsMTI0NDFdXSwxMjQ3OTpbLCx7MTI0NDE6MTI0ODB9XSwxMjQ4MDpbWzEyNDc5LDEyNDQxXV0sMTI0ODE6WywsezEyNDQxOjEyNDgyfV0sMTI0ODI6W1sxMjQ4MSwxMjQ0MV1dLDEyNDg0OlssLHsxMjQ0MToxMjQ4NX1dLDEyNDg1OltbMTI0ODQsMTI0NDFdXSwxMjQ4NjpbLCx7MTI0NDE6MTI0ODd9XSwxMjQ4NzpbWzEyNDg2LDEyNDQxXV0sMTI0ODg6WywsezEyNDQxOjEyNDg5fV0sMTI0ODk6W1sxMjQ4OCwxMjQ0MV1dLDEyNDk1OlssLHsxMjQ0MToxMjQ5NiwxMjQ0MjoxMjQ5N31dLDEyNDk2OltbMTI0OTUsMTI0NDFdXSwxMjQ5NzpbWzEyNDk1LDEyNDQyXV0sMTI0OTg6WywsezEyNDQxOjEyNDk5LDEyNDQyOjEyNTAwfV0sMTI0OTk6W1sxMjQ5OCwxMjQ0MV1dLDEyNTAwOltbMTI0OTgsMTI0NDJdXSwxMjUwMTpbLCx7MTI0NDE6MTI1MDIsMTI0NDI6MTI1MDN9XSwxMjUwMjpbWzEyNTAxLDEyNDQxXV0sMTI1MDM6W1sxMjUwMSwxMjQ0Ml1dLDEyNTA0OlssLHsxMjQ0MToxMjUwNSwxMjQ0MjoxMjUwNn1dLDEyNTA1OltbMTI1MDQsMTI0NDFdXSwxMjUwNjpbWzEyNTA0LDEyNDQyXV0sMTI1MDc6WywsezEyNDQxOjEyNTA4LDEyNDQyOjEyNTA5fV0sMTI1MDg6W1sxMjUwNywxMjQ0MV1dLDEyNTA5OltbMTI1MDcsMTI0NDJdXSwxMjUyNzpbLCx7MTI0NDE6MTI1MzV9XSwxMjUyODpbLCx7MTI0NDE6MTI1MzZ9XSwxMjUyOTpbLCx7MTI0NDE6MTI1Mzd9XSwxMjUzMDpbLCx7MTI0NDE6MTI1Mzh9XSwxMjUzMjpbWzEyNDU0LDEyNDQxXV0sMTI1MzU6W1sxMjUyNywxMjQ0MV1dLDEyNTM2OltbMTI1MjgsMTI0NDFdXSwxMjUzNzpbWzEyNTI5LDEyNDQxXV0sMTI1Mzg6W1sxMjUzMCwxMjQ0MV1dLDEyNTQxOlssLHsxMjQ0MToxMjU0Mn1dLDEyNTQyOltbMTI1NDEsMTI0NDFdXSwxMjU0MzpbWzEyNDY3LDEyNDg4XSwyNTZdfSwKMTI1NDQ6ezEyNTkzOltbNDM1Ml0sMjU2XSwxMjU5NDpbWzQzNTNdLDI1Nl0sMTI1OTU6W1s0NTIyXSwyNTZdLDEyNTk2OltbNDM1NF0sMjU2XSwxMjU5NzpbWzQ1MjRdLDI1Nl0sMTI1OTg6W1s0NTI1XSwyNTZdLDEyNTk5OltbNDM1NV0sMjU2XSwxMjYwMDpbWzQzNTZdLDI1Nl0sMTI2MDE6W1s0MzU3XSwyNTZdLDEyNjAyOltbNDUyOF0sMjU2XSwxMjYwMzpbWzQ1MjldLDI1Nl0sMTI2MDQ6W1s0NTMwXSwyNTZdLDEyNjA1OltbNDUzMV0sMjU2XSwxMjYwNjpbWzQ1MzJdLDI1Nl0sMTI2MDc6W1s0NTMzXSwyNTZdLDEyNjA4OltbNDM3OF0sMjU2XSwxMjYwOTpbWzQzNThdLDI1Nl0sMTI2MTA6W1s0MzU5XSwyNTZdLDEyNjExOltbNDM2MF0sMjU2XSwxMjYxMjpbWzQzODVdLDI1Nl0sMTI2MTM6W1s0MzYxXSwyNTZdLDEyNjE0OltbNDM2Ml0sMjU2XSwxMjYxNTpbWzQzNjNdLDI1Nl0sMTI2MTY6W1s0MzY0XSwyNTZdLDEyNjE3OltbNDM2NV0sMjU2XSwxMjYxODpbWzQzNjZdLDI1Nl0sMTI2MTk6W1s0MzY3XSwyNTZdLDEyNjIwOltbNDM2OF0sMjU2XSwxMjYyMTpbWzQzNjldLDI1Nl0sMTI2MjI6W1s0MzcwXSwyNTZdLDEyNjIzOltbNDQ0OV0sMjU2XSwxMjYyNDpbWzQ0NTBdLDI1Nl0sMTI2MjU6W1s0NDUxXSwyNTZdLDEyNjI2OltbNDQ1Ml0sMjU2XSwxMjYyNzpbWzQ0NTNdLDI1Nl0sMTI2Mjg6W1s0NDU0XSwyNTZdLDEyNjI5OltbNDQ1NV0sMjU2XSwxMjYzMDpbWzQ0NTZdLDI1Nl0sMTI2MzE6W1s0NDU3XSwyNTZdLDEyNjMyOltbNDQ1OF0sMjU2XSwxMjYzMzpbWzQ0NTldLDI1Nl0sMTI2MzQ6W1s0NDYwXSwyNTZdLDEyNjM1OltbNDQ2MV0sMjU2XSwxMjYzNjpbWzQ0NjJdLDI1Nl0sMTI2Mzc6W1s0NDYzXSwyNTZdLDEyNjM4OltbNDQ2NF0sMjU2XSwxMjYzOTpbWzQ0NjVdLDI1Nl0sMTI2NDA6W1s0NDY2XSwyNTZdLDEyNjQxOltbNDQ2N10sMjU2XSwxMjY0MjpbWzQ0NjhdLDI1Nl0sMTI2NDM6W1s0NDY5XSwyNTZdLDEyNjQ0OltbNDQ0OF0sMjU2XSwxMjY0NTpbWzQzNzJdLDI1Nl0sMTI2NDY6W1s0MzczXSwyNTZdLDEyNjQ3OltbNDU1MV0sMjU2XSwxMjY0ODpbWzQ1NTJdLDI1Nl0sMTI2NDk6W1s0NTU2XSwyNTZdLDEyNjUwOltbNDU1OF0sMjU2XSwxMjY1MTpbWzQ1NjNdLDI1Nl0sMTI2NTI6W1s0NTY3XSwyNTZdLDEyNjUzOltbNDU2OV0sMjU2XSwxMjY1NDpbWzQzODBdLDI1Nl0sMTI2NTU6W1s0NTczXSwyNTZdLDEyNjU2OltbNDU3NV0sMjU2XSwxMjY1NzpbWzQzODFdLDI1Nl0sMTI2NTg6W1s0MzgyXSwyNTZdLDEyNjU5OltbNDM4NF0sMjU2XSwxMjY2MDpbWzQzODZdLDI1Nl0sMTI2NjE6W1s0Mzg3XSwyNTZdLDEyNjYyOltbNDM5MV0sMjU2XSwxMjY2MzpbWzQzOTNdLDI1Nl0sMTI2NjQ6W1s0Mzk1XSwyNTZdLDEyNjY1OltbNDM5Nl0sMjU2XSwxMjY2NjpbWzQzOTddLDI1Nl0sMTI2Njc6W1s0Mzk4XSwyNTZdLDEyNjY4OltbNDM5OV0sMjU2XSwxMjY2OTpbWzQ0MDJdLDI1Nl0sMTI2NzA6W1s0NDA2XSwyNTZdLDEyNjcxOltbNDQxNl0sMjU2XSwxMjY3MjpbWzQ0MjNdLDI1Nl0sMTI2NzM6W1s0NDI4XSwyNTZdLDEyNjc0OltbNDU5M10sMjU2XSwxMjY3NTpbWzQ1OTRdLDI1Nl0sMTI2NzY6W1s0NDM5XSwyNTZdLDEyNjc3OltbNDQ0MF0sMjU2XSwxMjY3ODpbWzQ0NDFdLDI1Nl0sMTI2Nzk6W1s0NDg0XSwyNTZdLDEyNjgwOltbNDQ4NV0sMjU2XSwxMjY4MTpbWzQ0ODhdLDI1Nl0sMTI2ODI6W1s0NDk3XSwyNTZdLDEyNjgzOltbNDQ5OF0sMjU2XSwxMjY4NDpbWzQ1MDBdLDI1Nl0sMTI2ODU6W1s0NTEwXSwyNTZdLDEyNjg2OltbNDUxM10sMjU2XSwxMjY5MDpbWzE5OTY4XSwyNTZdLDEyNjkxOltbMjAxMDhdLDI1Nl0sMTI2OTI6W1sxOTk3N10sMjU2XSwxMjY5MzpbWzIyMjM1XSwyNTZdLDEyNjk0OltbMTk5NzhdLDI1Nl0sMTI2OTU6W1syMDAxM10sMjU2XSwxMjY5NjpbWzE5OTc5XSwyNTZdLDEyNjk3OltbMzAwMDJdLDI1Nl0sMTI2OTg6W1syMDA1N10sMjU2XSwxMjY5OTpbWzE5OTkzXSwyNTZdLDEyNzAwOltbMTk5NjldLDI1Nl0sMTI3MDE6W1syMjgyNV0sMjU2XSwxMjcwMjpbWzIyMzIwXSwyNTZdLDEyNzAzOltbMjAxNTRdLDI1Nl19LAoxMjgwMDp7MTI4MDA6W1s0MCw0MzUyLDQxXSwyNTZdLDEyODAxOltbNDAsNDM1NCw0MV0sMjU2XSwxMjgwMjpbWzQwLDQzNTUsNDFdLDI1Nl0sMTI4MDM6W1s0MCw0MzU3LDQxXSwyNTZdLDEyODA0OltbNDAsNDM1OCw0MV0sMjU2XSwxMjgwNTpbWzQwLDQzNTksNDFdLDI1Nl0sMTI4MDY6W1s0MCw0MzYxLDQxXSwyNTZdLDEyODA3OltbNDAsNDM2Myw0MV0sMjU2XSwxMjgwODpbWzQwLDQzNjQsNDFdLDI1Nl0sMTI4MDk6W1s0MCw0MzY2LDQxXSwyNTZdLDEyODEwOltbNDAsNDM2Nyw0MV0sMjU2XSwxMjgxMTpbWzQwLDQzNjgsNDFdLDI1Nl0sMTI4MTI6W1s0MCw0MzY5LDQxXSwyNTZdLDEyODEzOltbNDAsNDM3MCw0MV0sMjU2XSwxMjgxNDpbWzQwLDQzNTIsNDQ0OSw0MV0sMjU2XSwxMjgxNTpbWzQwLDQzNTQsNDQ0OSw0MV0sMjU2XSwxMjgxNjpbWzQwLDQzNTUsNDQ0OSw0MV0sMjU2XSwxMjgxNzpbWzQwLDQzNTcsNDQ0OSw0MV0sMjU2XSwxMjgxODpbWzQwLDQzNTgsNDQ0OSw0MV0sMjU2XSwxMjgxOTpbWzQwLDQzNTksNDQ0OSw0MV0sMjU2XSwxMjgyMDpbWzQwLDQzNjEsNDQ0OSw0MV0sMjU2XSwxMjgyMTpbWzQwLDQzNjMsNDQ0OSw0MV0sMjU2XSwxMjgyMjpbWzQwLDQzNjQsNDQ0OSw0MV0sMjU2XSwxMjgyMzpbWzQwLDQzNjYsNDQ0OSw0MV0sMjU2XSwxMjgyNDpbWzQwLDQzNjcsNDQ0OSw0MV0sMjU2XSwxMjgyNTpbWzQwLDQzNjgsNDQ0OSw0MV0sMjU2XSwxMjgyNjpbWzQwLDQzNjksNDQ0OSw0MV0sMjU2XSwxMjgyNzpbWzQwLDQzNzAsNDQ0OSw0MV0sMjU2XSwxMjgyODpbWzQwLDQzNjQsNDQ2Miw0MV0sMjU2XSwxMjgyOTpbWzQwLDQzNjMsNDQ1Nyw0MzY0LDQ0NTMsNDUyMyw0MV0sMjU2XSwxMjgzMDpbWzQwLDQzNjMsNDQ1Nyw0MzcwLDQ0NjIsNDFdLDI1Nl0sMTI4MzI6W1s0MCwxOTk2OCw0MV0sMjU2XSwxMjgzMzpbWzQwLDIwMTA4LDQxXSwyNTZdLDEyODM0OltbNDAsMTk5NzcsNDFdLDI1Nl0sMTI4MzU6W1s0MCwyMjIzNSw0MV0sMjU2XSwxMjgzNjpbWzQwLDIwMTE2LDQxXSwyNTZdLDEyODM3OltbNDAsMjA4NDUsNDFdLDI1Nl0sMTI4Mzg6W1s0MCwxOTk3MSw0MV0sMjU2XSwxMjgzOTpbWzQwLDIwODQzLDQxXSwyNTZdLDEyODQwOltbNDAsMjAwNjEsNDFdLDI1Nl0sMTI4NDE6W1s0MCwyMTMxMyw0MV0sMjU2XSwxMjg0MjpbWzQwLDI2Mzc2LDQxXSwyNTZdLDEyODQzOltbNDAsMjg3NzksNDFdLDI1Nl0sMTI4NDQ6W1s0MCwyNzcwMCw0MV0sMjU2XSwxMjg0NTpbWzQwLDI2NDA4LDQxXSwyNTZdLDEyODQ2OltbNDAsMzczMjksNDFdLDI1Nl0sMTI4NDc6W1s0MCwyMjMwMyw0MV0sMjU2XSwxMjg0ODpbWzQwLDI2MDg1LDQxXSwyNTZdLDEyODQ5OltbNDAsMjY2NjYsNDFdLDI1Nl0sMTI4NTA6W1s0MCwyNjM3Nyw0MV0sMjU2XSwxMjg1MTpbWzQwLDMxMDM4LDQxXSwyNTZdLDEyODUyOltbNDAsMjE1MTcsNDFdLDI1Nl0sMTI4NTM6W1s0MCwyOTMwNSw0MV0sMjU2XSwxMjg1NDpbWzQwLDM2MDAxLDQxXSwyNTZdLDEyODU1OltbNDAsMzEwNjksNDFdLDI1Nl0sMTI4NTY6W1s0MCwyMTE3Miw0MV0sMjU2XSwxMjg1NzpbWzQwLDIwMTk1LDQxXSwyNTZdLDEyODU4OltbNDAsMjE2MjgsNDFdLDI1Nl0sMTI4NTk6W1s0MCwyMzM5OCw0MV0sMjU2XSwxMjg2MDpbWzQwLDMwNDM1LDQxXSwyNTZdLDEyODYxOltbNDAsMjAyMjUsNDFdLDI1Nl0sMTI4NjI6W1s0MCwzNjAzOSw0MV0sMjU2XSwxMjg2MzpbWzQwLDIxMzMyLDQxXSwyNTZdLDEyODY0OltbNDAsMzEwODUsNDFdLDI1Nl0sMTI4NjU6W1s0MCwyMDI0MSw0MV0sMjU2XSwxMjg2NjpbWzQwLDMzMjU4LDQxXSwyNTZdLDEyODY3OltbNDAsMzMyNjcsNDFdLDI1Nl0sMTI4Njg6W1syMTgzOV0sMjU2XSwxMjg2OTpbWzI0MTg4XSwyNTZdLDEyODcwOltbMjU5OTFdLDI1Nl0sMTI4NzE6W1szMTYzMV0sMjU2XSwxMjg4MDpbWzgwLDg0LDY5XSwyNTZdLDEyODgxOltbNTAsNDldLDI1Nl0sMTI4ODI6W1s1MCw1MF0sMjU2XSwxMjg4MzpbWzUwLDUxXSwyNTZdLDEyODg0OltbNTAsNTJdLDI1Nl0sMTI4ODU6W1s1MCw1M10sMjU2XSwxMjg4NjpbWzUwLDU0XSwyNTZdLDEyODg3OltbNTAsNTVdLDI1Nl0sMTI4ODg6W1s1MCw1Nl0sMjU2XSwxMjg4OTpbWzUwLDU3XSwyNTZdLDEyODkwOltbNTEsNDhdLDI1Nl0sMTI4OTE6W1s1MSw0OV0sMjU2XSwxMjg5MjpbWzUxLDUwXSwyNTZdLDEyODkzOltbNTEsNTFdLDI1Nl0sMTI4OTQ6W1s1MSw1Ml0sMjU2XSwxMjg5NTpbWzUxLDUzXSwyNTZdLDEyODk2OltbNDM1Ml0sMjU2XSwxMjg5NzpbWzQzNTRdLDI1Nl0sMTI4OTg6W1s0MzU1XSwyNTZdLDEyODk5OltbNDM1N10sMjU2XSwxMjkwMDpbWzQzNThdLDI1Nl0sMTI5MDE6W1s0MzU5XSwyNTZdLDEyOTAyOltbNDM2MV0sMjU2XSwxMjkwMzpbWzQzNjNdLDI1Nl0sMTI5MDQ6W1s0MzY0XSwyNTZdLDEyOTA1OltbNDM2Nl0sMjU2XSwxMjkwNjpbWzQzNjddLDI1Nl0sMTI5MDc6W1s0MzY4XSwyNTZdLDEyOTA4OltbNDM2OV0sMjU2XSwxMjkwOTpbWzQzNzBdLDI1Nl0sMTI5MTA6W1s0MzUyLDQ0NDldLDI1Nl0sMTI5MTE6W1s0MzU0LDQ0NDldLDI1Nl0sMTI5MTI6W1s0MzU1LDQ0NDldLDI1Nl0sMTI5MTM6W1s0MzU3LDQ0NDldLDI1Nl0sMTI5MTQ6W1s0MzU4LDQ0NDldLDI1Nl0sMTI5MTU6W1s0MzU5LDQ0NDldLDI1Nl0sMTI5MTY6W1s0MzYxLDQ0NDldLDI1Nl0sMTI5MTc6W1s0MzYzLDQ0NDldLDI1Nl0sMTI5MTg6W1s0MzY0LDQ0NDldLDI1Nl0sMTI5MTk6W1s0MzY2LDQ0NDldLDI1Nl0sMTI5MjA6W1s0MzY3LDQ0NDldLDI1Nl0sMTI5MjE6W1s0MzY4LDQ0NDldLDI1Nl0sMTI5MjI6W1s0MzY5LDQ0NDldLDI1Nl0sMTI5MjM6W1s0MzcwLDQ0NDldLDI1Nl0sMTI5MjQ6W1s0MzY2LDQ0NDksNDUzNSw0MzUyLDQ0NTddLDI1Nl0sMTI5MjU6W1s0MzY0LDQ0NjIsNDM2Myw0NDY4XSwyNTZdLDEyOTI2OltbNDM2Myw0NDYyXSwyNTZdLDEyOTI4OltbMTk5NjhdLDI1Nl0sMTI5Mjk6W1syMDEwOF0sMjU2XSwxMjkzMDpbWzE5OTc3XSwyNTZdLDEyOTMxOltbMjIyMzVdLDI1Nl0sMTI5MzI6W1syMDExNl0sMjU2XSwxMjkzMzpbWzIwODQ1XSwyNTZdLDEyOTM0OltbMTk5NzFdLDI1Nl0sMTI5MzU6W1syMDg0M10sMjU2XSwxMjkzNjpbWzIwMDYxXSwyNTZdLDEyOTM3OltbMjEzMTNdLDI1Nl0sMTI5Mzg6W1syNjM3Nl0sMjU2XSwxMjkzOTpbWzI4Nzc5XSwyNTZdLDEyOTQwOltbMjc3MDBdLDI1Nl0sMTI5NDE6W1syNjQwOF0sMjU2XSwxMjk0MjpbWzM3MzI5XSwyNTZdLDEyOTQzOltbMjIzMDNdLDI1Nl0sMTI5NDQ6W1syNjA4NV0sMjU2XSwxMjk0NTpbWzI2NjY2XSwyNTZdLDEyOTQ2OltbMjYzNzddLDI1Nl0sMTI5NDc6W1szMTAzOF0sMjU2XSwxMjk0ODpbWzIxNTE3XSwyNTZdLDEyOTQ5OltbMjkzMDVdLDI1Nl0sMTI5NTA6W1szNjAwMV0sMjU2XSwxMjk1MTpbWzMxMDY5XSwyNTZdLDEyOTUyOltbMjExNzJdLDI1Nl0sMTI5NTM6W1szMTE5Ml0sMjU2XSwxMjk1NDpbWzMwMDA3XSwyNTZdLDEyOTU1OltbMjI4OTldLDI1Nl0sMTI5NTY6W1szNjk2OV0sMjU2XSwxMjk1NzpbWzIwNzc4XSwyNTZdLDEyOTU4OltbMjEzNjBdLDI1Nl0sMTI5NTk6W1syNzg4MF0sMjU2XSwxMjk2MDpbWzM4OTE3XSwyNTZdLDEyOTYxOltbMjAyNDFdLDI1Nl0sMTI5NjI6W1syMDg4OV0sMjU2XSwxMjk2MzpbWzI3NDkxXSwyNTZdLDEyOTY0OltbMTk5NzhdLDI1Nl0sMTI5NjU6W1syMDAxM10sMjU2XSwxMjk2NjpbWzE5OTc5XSwyNTZdLDEyOTY3OltbMjQwMzhdLDI1Nl0sMTI5Njg6W1syMTQ5MV0sMjU2XSwxMjk2OTpbWzIxMzA3XSwyNTZdLDEyOTcwOltbMjM0NDddLDI1Nl0sMTI5NzE6W1syMzM5OF0sMjU2XSwxMjk3MjpbWzMwNDM1XSwyNTZdLDEyOTczOltbMjAyMjVdLDI1Nl0sMTI5NzQ6W1szNjAzOV0sMjU2XSwxMjk3NTpbWzIxMzMyXSwyNTZdLDEyOTc2OltbMjI4MTJdLDI1Nl0sMTI5Nzc6W1s1MSw1NF0sMjU2XSwxMjk3ODpbWzUxLDU1XSwyNTZdLDEyOTc5OltbNTEsNTZdLDI1Nl0sMTI5ODA6W1s1MSw1N10sMjU2XSwxMjk4MTpbWzUyLDQ4XSwyNTZdLDEyOTgyOltbNTIsNDldLDI1Nl0sMTI5ODM6W1s1Miw1MF0sMjU2XSwxMjk4NDpbWzUyLDUxXSwyNTZdLDEyOTg1OltbNTIsNTJdLDI1Nl0sMTI5ODY6W1s1Miw1M10sMjU2XSwxMjk4NzpbWzUyLDU0XSwyNTZdLDEyOTg4OltbNTIsNTVdLDI1Nl0sMTI5ODk6W1s1Miw1Nl0sMjU2XSwxMjk5MDpbWzUyLDU3XSwyNTZdLDEyOTkxOltbNTMsNDhdLDI1Nl0sMTI5OTI6W1s0OSwyNjM3Nl0sMjU2XSwxMjk5MzpbWzUwLDI2Mzc2XSwyNTZdLDEyOTk0OltbNTEsMjYzNzZdLDI1Nl0sMTI5OTU6W1s1MiwyNjM3Nl0sMjU2XSwxMjk5NjpbWzUzLDI2Mzc2XSwyNTZdLDEyOTk3OltbNTQsMjYzNzZdLDI1Nl0sMTI5OTg6W1s1NSwyNjM3Nl0sMjU2XSwxMjk5OTpbWzU2LDI2Mzc2XSwyNTZdLDEzMDAwOltbNTcsMjYzNzZdLDI1Nl0sMTMwMDE6W1s0OSw0OCwyNjM3Nl0sMjU2XSwxMzAwMjpbWzQ5LDQ5LDI2Mzc2XSwyNTZdLDEzMDAzOltbNDksNTAsMjYzNzZdLDI1Nl0sMTMwMDQ6W1s3MiwxMDNdLDI1Nl0sMTMwMDU6W1sxMDEsMTE0LDEwM10sMjU2XSwxMzAwNjpbWzEwMSw4Nl0sMjU2XSwxMzAwNzpbWzc2LDg0LDY4XSwyNTZdLDEzMDA4OltbMTI0NTBdLDI1Nl0sMTMwMDk6W1sxMjQ1Ml0sMjU2XSwxMzAxMDpbWzEyNDU0XSwyNTZdLDEzMDExOltbMTI0NTZdLDI1Nl0sMTMwMTI6W1sxMjQ1OF0sMjU2XSwxMzAxMzpbWzEyNDU5XSwyNTZdLDEzMDE0OltbMTI0NjFdLDI1Nl0sMTMwMTU6W1sxMjQ2M10sMjU2XSwxMzAxNjpbWzEyNDY1XSwyNTZdLDEzMDE3OltbMTI0NjddLDI1Nl0sMTMwMTg6W1sxMjQ2OV0sMjU2XSwxMzAxOTpbWzEyNDcxXSwyNTZdLDEzMDIwOltbMTI0NzNdLDI1Nl0sMTMwMjE6W1sxMjQ3NV0sMjU2XSwxMzAyMjpbWzEyNDc3XSwyNTZdLDEzMDIzOltbMTI0NzldLDI1Nl0sMTMwMjQ6W1sxMjQ4MV0sMjU2XSwxMzAyNTpbWzEyNDg0XSwyNTZdLDEzMDI2OltbMTI0ODZdLDI1Nl0sMTMwMjc6W1sxMjQ4OF0sMjU2XSwxMzAyODpbWzEyNDkwXSwyNTZdLDEzMDI5OltbMTI0OTFdLDI1Nl0sMTMwMzA6W1sxMjQ5Ml0sMjU2XSwxMzAzMTpbWzEyNDkzXSwyNTZdLDEzMDMyOltbMTI0OTRdLDI1Nl0sMTMwMzM6W1sxMjQ5NV0sMjU2XSwxMzAzNDpbWzEyNDk4XSwyNTZdLDEzMDM1OltbMTI1MDFdLDI1Nl0sMTMwMzY6W1sxMjUwNF0sMjU2XSwxMzAzNzpbWzEyNTA3XSwyNTZdLDEzMDM4OltbMTI1MTBdLDI1Nl0sMTMwMzk6W1sxMjUxMV0sMjU2XSwxMzA0MDpbWzEyNTEyXSwyNTZdLDEzMDQxOltbMTI1MTNdLDI1Nl0sMTMwNDI6W1sxMjUxNF0sMjU2XSwxMzA0MzpbWzEyNTE2XSwyNTZdLDEzMDQ0OltbMTI1MThdLDI1Nl0sMTMwNDU6W1sxMjUyMF0sMjU2XSwxMzA0NjpbWzEyNTIxXSwyNTZdLDEzMDQ3OltbMTI1MjJdLDI1Nl0sMTMwNDg6W1sxMjUyM10sMjU2XSwxMzA0OTpbWzEyNTI0XSwyNTZdLDEzMDUwOltbMTI1MjVdLDI1Nl0sMTMwNTE6W1sxMjUyN10sMjU2XSwxMzA1MjpbWzEyNTI4XSwyNTZdLDEzMDUzOltbMTI1MjldLDI1Nl0sMTMwNTQ6W1sxMjUzMF0sMjU2XX0sCjEzMDU2OnsxMzA1NjpbWzEyNDUwLDEyNDk3LDEyNTQwLDEyNDg4XSwyNTZdLDEzMDU3OltbMTI0NTAsMTI1MjMsMTI1MDEsMTI0NDldLDI1Nl0sMTMwNTg6W1sxMjQ1MCwxMjUzMSwxMjUwNiwxMjQ1MF0sMjU2XSwxMzA1OTpbWzEyNDUwLDEyNTQwLDEyNTIzXSwyNTZdLDEzMDYwOltbMTI0NTIsMTI0OTEsMTI1MzEsMTI0NjRdLDI1Nl0sMTMwNjE6W1sxMjQ1MiwxMjUzMSwxMjQ4MV0sMjU2XSwxMzA2MjpbWzEyNDU0LDEyNDU3LDEyNTMxXSwyNTZdLDEzMDYzOltbMTI0NTYsMTI0NzMsMTI0NjMsMTI1NDAsMTI0ODldLDI1Nl0sMTMwNjQ6W1sxMjQ1NiwxMjU0MCwxMjQ1OSwxMjU0MF0sMjU2XSwxMzA2NTpbWzEyNDU4LDEyNTMxLDEyNDczXSwyNTZdLDEzMDY2OltbMTI0NTgsMTI1NDAsMTI1MTJdLDI1Nl0sMTMwNjc6W1sxMjQ1OSwxMjQ1MiwxMjUyMl0sMjU2XSwxMzA2ODpbWzEyNDU5LDEyNTIxLDEyNDgzLDEyNDg4XSwyNTZdLDEzMDY5OltbMTI0NTksMTI1MjUsMTI1MjIsMTI1NDBdLDI1Nl0sMTMwNzA6W1sxMjQ2MCwxMjUyNSwxMjUzMV0sMjU2XSwxMzA3MTpbWzEyNDYwLDEyNTMxLDEyNTEwXSwyNTZdLDEzMDcyOltbMTI0NjIsMTI0NjBdLDI1Nl0sMTMwNzM6W1sxMjQ2MiwxMjQ5MSwxMjU0MF0sMjU2XSwxMzA3NDpbWzEyNDYxLDEyNTE3LDEyNTIyLDEyNTQwXSwyNTZdLDEzMDc1OltbMTI0NjIsMTI1MjMsMTI0ODAsMTI1NDBdLDI1Nl0sMTMwNzY6W1sxMjQ2MSwxMjUyNV0sMjU2XSwxMzA3NzpbWzEyNDYxLDEyNTI1LDEyNDY0LDEyNTIxLDEyNTEyXSwyNTZdLDEzMDc4OltbMTI0NjEsMTI1MjUsMTI1MTMsMTI1NDAsMTI0ODgsMTI1MjNdLDI1Nl0sMTMwNzk6W1sxMjQ2MSwxMjUyNSwxMjUyNywxMjQ4MywxMjQ4OF0sMjU2XSwxMzA4MDpbWzEyNDY0LDEyNTIxLDEyNTEyXSwyNTZdLDEzMDgxOltbMTI0NjQsMTI1MjEsMTI1MTIsMTI0ODgsMTI1MzFdLDI1Nl0sMTMwODI6W1sxMjQ2MywxMjUyMywxMjQ3NiwxMjQ1MiwxMjUyNV0sMjU2XSwxMzA4MzpbWzEyNDYzLDEyNTI1LDEyNTQwLDEyNDkzXSwyNTZdLDEzMDg0OltbMTI0NjUsMTI1NDAsMTI0NzNdLDI1Nl0sMTMwODU6W1sxMjQ2NywxMjUyMywxMjQ5MF0sMjU2XSwxMzA4NjpbWzEyNDY3LDEyNTQwLDEyNTA5XSwyNTZdLDEzMDg3OltbMTI0NjksMTI0NTIsMTI0NjMsMTI1MjNdLDI1Nl0sMTMwODg6W1sxMjQ2OSwxMjUzMSwxMjQ4MSwxMjU0MCwxMjUxMl0sMjU2XSwxMzA4OTpbWzEyNDcxLDEyNTIyLDEyNTMxLDEyNDY0XSwyNTZdLDEzMDkwOltbMTI0NzUsMTI1MzEsMTI0ODFdLDI1Nl0sMTMwOTE6W1sxMjQ3NSwxMjUzMSwxMjQ4OF0sMjU2XSwxMzA5MjpbWzEyNDgwLDEyNTQwLDEyNDczXSwyNTZdLDEzMDkzOltbMTI0ODcsMTI0NzFdLDI1Nl0sMTMwOTQ6W1sxMjQ4OSwxMjUyM10sMjU2XSwxMzA5NTpbWzEyNDg4LDEyNTMxXSwyNTZdLDEzMDk2OltbMTI0OTAsMTI0OTRdLDI1Nl0sMTMwOTc6W1sxMjQ5NCwxMjQ4MywxMjQ4OF0sMjU2XSwxMzA5ODpbWzEyNDk1LDEyNDUyLDEyNDg0XSwyNTZdLDEzMDk5OltbMTI0OTcsMTI1NDAsMTI0NzUsMTI1MzEsMTI0ODhdLDI1Nl0sMTMxMDA6W1sxMjQ5NywxMjU0MCwxMjQ4NF0sMjU2XSwxMzEwMTpbWzEyNDk2LDEyNTQwLDEyNTI0LDEyNTIzXSwyNTZdLDEzMTAyOltbMTI1MDAsMTI0NTAsMTI0NzMsMTI0ODgsMTI1MjNdLDI1Nl0sMTMxMDM6W1sxMjUwMCwxMjQ2MywxMjUyM10sMjU2XSwxMzEwNDpbWzEyNTAwLDEyNDY3XSwyNTZdLDEzMTA1OltbMTI0OTksMTI1MjNdLDI1Nl0sMTMxMDY6W1sxMjUwMSwxMjQ0OSwxMjUyMSwxMjQ4MywxMjQ4OV0sMjU2XSwxMzEwNzpbWzEyNTAxLDEyNDUxLDEyNTQwLDEyNDg4XSwyNTZdLDEzMTA4OltbMTI1MDIsMTI0ODMsMTI0NzEsMTI0NTUsMTI1MjNdLDI1Nl0sMTMxMDk6W1sxMjUwMSwxMjUyMSwxMjUzMV0sMjU2XSwxMzExMDpbWzEyNTA0LDEyNDYzLDEyNDc5LDEyNTQwLDEyNTIzXSwyNTZdLDEzMTExOltbMTI1MDYsMTI0NzddLDI1Nl0sMTMxMTI6W1sxMjUwNiwxMjQ5MSwxMjQ5OF0sMjU2XSwxMzExMzpbWzEyNTA0LDEyNTIzLDEyNDg0XSwyNTZdLDEzMTE0OltbMTI1MDYsMTI1MzEsMTI0NzNdLDI1Nl0sMTMxMTU6W1sxMjUwNiwxMjU0MCwxMjQ3Ml0sMjU2XSwxMzExNjpbWzEyNTA1LDEyNTQwLDEyNDc5XSwyNTZdLDEzMTE3OltbMTI1MDksMTI0NTIsMTI1MzEsMTI0ODhdLDI1Nl0sMTMxMTg6W1sxMjUwOCwxMjUyMywxMjQ4OF0sMjU2XSwxMzExOTpbWzEyNTA3LDEyNTMxXSwyNTZdLDEzMTIwOltbMTI1MDksMTI1MzEsMTI0ODldLDI1Nl0sMTMxMjE6W1sxMjUwNywxMjU0MCwxMjUyM10sMjU2XSwxMzEyMjpbWzEyNTA3LDEyNTQwLDEyNTMxXSwyNTZdLDEzMTIzOltbMTI1MTAsMTI0NTIsMTI0NjMsMTI1MjVdLDI1Nl0sMTMxMjQ6W1sxMjUxMCwxMjQ1MiwxMjUyM10sMjU2XSwxMzEyNTpbWzEyNTEwLDEyNDgzLDEyNDk1XSwyNTZdLDEzMTI2OltbMTI1MTAsMTI1MjMsMTI0NjNdLDI1Nl0sMTMxMjc6W1sxMjUxMCwxMjUzMSwxMjQ3MSwxMjUxOSwxMjUzMV0sMjU2XSwxMzEyODpbWzEyNTExLDEyNDYzLDEyNTI1LDEyNTMxXSwyNTZdLDEzMTI5OltbMTI1MTEsMTI1MjJdLDI1Nl0sMTMxMzA6W1sxMjUxMSwxMjUyMiwxMjQ5NiwxMjU0MCwxMjUyM10sMjU2XSwxMzEzMTpbWzEyNTEzLDEyNDYwXSwyNTZdLDEzMTMyOltbMTI1MTMsMTI0NjAsMTI0ODgsMTI1MzFdLDI1Nl0sMTMxMzM6W1sxMjUxMywxMjU0MCwxMjQ4OCwxMjUyM10sMjU2XSwxMzEzNDpbWzEyNTE2LDEyNTQwLDEyNDg5XSwyNTZdLDEzMTM1OltbMTI1MTYsMTI1NDAsMTI1MjNdLDI1Nl0sMTMxMzY6W1sxMjUxOCwxMjQ1MCwxMjUzMV0sMjU2XSwxMzEzNzpbWzEyNTIyLDEyNDgzLDEyNDg4LDEyNTIzXSwyNTZdLDEzMTM4OltbMTI1MjIsMTI1MjFdLDI1Nl0sMTMxMzk6W1sxMjUyMywxMjUwMCwxMjU0MF0sMjU2XSwxMzE0MDpbWzEyNTIzLDEyNTQwLDEyNTAyLDEyNTIzXSwyNTZdLDEzMTQxOltbMTI1MjQsMTI1MTJdLDI1Nl0sMTMxNDI6W1sxMjUyNCwxMjUzMSwxMjQ4OCwxMjQ2NiwxMjUzMV0sMjU2XSwxMzE0MzpbWzEyNTI3LDEyNDgzLDEyNDg4XSwyNTZdLDEzMTQ0OltbNDgsMjg4NTddLDI1Nl0sMTMxNDU6W1s0OSwyODg1N10sMjU2XSwxMzE0NjpbWzUwLDI4ODU3XSwyNTZdLDEzMTQ3OltbNTEsMjg4NTddLDI1Nl0sMTMxNDg6W1s1MiwyODg1N10sMjU2XSwxMzE0OTpbWzUzLDI4ODU3XSwyNTZdLDEzMTUwOltbNTQsMjg4NTddLDI1Nl0sMTMxNTE6W1s1NSwyODg1N10sMjU2XSwxMzE1MjpbWzU2LDI4ODU3XSwyNTZdLDEzMTUzOltbNTcsMjg4NTddLDI1Nl0sMTMxNTQ6W1s0OSw0OCwyODg1N10sMjU2XSwxMzE1NTpbWzQ5LDQ5LDI4ODU3XSwyNTZdLDEzMTU2OltbNDksNTAsMjg4NTddLDI1Nl0sMTMxNTc6W1s0OSw1MSwyODg1N10sMjU2XSwxMzE1ODpbWzQ5LDUyLDI4ODU3XSwyNTZdLDEzMTU5OltbNDksNTMsMjg4NTddLDI1Nl0sMTMxNjA6W1s0OSw1NCwyODg1N10sMjU2XSwxMzE2MTpbWzQ5LDU1LDI4ODU3XSwyNTZdLDEzMTYyOltbNDksNTYsMjg4NTddLDI1Nl0sMTMxNjM6W1s0OSw1NywyODg1N10sMjU2XSwxMzE2NDpbWzUwLDQ4LDI4ODU3XSwyNTZdLDEzMTY1OltbNTAsNDksMjg4NTddLDI1Nl0sMTMxNjY6W1s1MCw1MCwyODg1N10sMjU2XSwxMzE2NzpbWzUwLDUxLDI4ODU3XSwyNTZdLDEzMTY4OltbNTAsNTIsMjg4NTddLDI1Nl0sMTMxNjk6W1sxMDQsODAsOTddLDI1Nl0sMTMxNzA6W1sxMDAsOTddLDI1Nl0sMTMxNzE6W1s2NSw4NV0sMjU2XSwxMzE3MjpbWzk4LDk3LDExNF0sMjU2XSwxMzE3MzpbWzExMSw4Nl0sMjU2XSwxMzE3NDpbWzExMiw5OV0sMjU2XSwxMzE3NTpbWzEwMCwxMDldLDI1Nl0sMTMxNzY6W1sxMDAsMTA5LDE3OF0sMjU2XSwxMzE3NzpbWzEwMCwxMDksMTc5XSwyNTZdLDEzMTc4OltbNzMsODVdLDI1Nl0sMTMxNzk6W1syNDE3OSwyNTEwNF0sMjU2XSwxMzE4MDpbWzI2MTU3LDIxNjQ0XSwyNTZdLDEzMTgxOltbMjI4MjMsMjc0OTFdLDI1Nl0sMTMxODI6W1syNjEyNiwyNzgzNV0sMjU2XSwxMzE4MzpbWzI2NjY2LDI0MzM1LDIwMjUwLDMxMDM4XSwyNTZdLDEzMTg0OltbMTEyLDY1XSwyNTZdLDEzMTg1OltbMTEwLDY1XSwyNTZdLDEzMTg2OltbOTU2LDY1XSwyNTZdLDEzMTg3OltbMTA5LDY1XSwyNTZdLDEzMTg4OltbMTA3LDY1XSwyNTZdLDEzMTg5OltbNzUsNjZdLDI1Nl0sMTMxOTA6W1s3Nyw2Nl0sMjU2XSwxMzE5MTpbWzcxLDY2XSwyNTZdLDEzMTkyOltbOTksOTcsMTA4XSwyNTZdLDEzMTkzOltbMTA3LDk5LDk3LDEwOF0sMjU2XSwxMzE5NDpbWzExMiw3MF0sMjU2XSwxMzE5NTpbWzExMCw3MF0sMjU2XSwxMzE5NjpbWzk1Niw3MF0sMjU2XSwxMzE5NzpbWzk1NiwxMDNdLDI1Nl0sMTMxOTg6W1sxMDksMTAzXSwyNTZdLDEzMTk5OltbMTA3LDEwM10sMjU2XSwxMzIwMDpbWzcyLDEyMl0sMjU2XSwxMzIwMTpbWzEwNyw3MiwxMjJdLDI1Nl0sMTMyMDI6W1s3Nyw3MiwxMjJdLDI1Nl0sMTMyMDM6W1s3MSw3MiwxMjJdLDI1Nl0sMTMyMDQ6W1s4NCw3MiwxMjJdLDI1Nl0sMTMyMDU6W1s5NTYsODQ2N10sMjU2XSwxMzIwNjpbWzEwOSw4NDY3XSwyNTZdLDEzMjA3OltbMTAwLDg0NjddLDI1Nl0sMTMyMDg6W1sxMDcsODQ2N10sMjU2XSwxMzIwOTpbWzEwMiwxMDldLDI1Nl0sMTMyMTA6W1sxMTAsMTA5XSwyNTZdLDEzMjExOltbOTU2LDEwOV0sMjU2XSwxMzIxMjpbWzEwOSwxMDldLDI1Nl0sMTMyMTM6W1s5OSwxMDldLDI1Nl0sMTMyMTQ6W1sxMDcsMTA5XSwyNTZdLDEzMjE1OltbMTA5LDEwOSwxNzhdLDI1Nl0sMTMyMTY6W1s5OSwxMDksMTc4XSwyNTZdLDEzMjE3OltbMTA5LDE3OF0sMjU2XSwxMzIxODpbWzEwNywxMDksMTc4XSwyNTZdLDEzMjE5OltbMTA5LDEwOSwxNzldLDI1Nl0sMTMyMjA6W1s5OSwxMDksMTc5XSwyNTZdLDEzMjIxOltbMTA5LDE3OV0sMjU2XSwxMzIyMjpbWzEwNywxMDksMTc5XSwyNTZdLDEzMjIzOltbMTA5LDg3MjUsMTE1XSwyNTZdLDEzMjI0OltbMTA5LDg3MjUsMTE1LDE3OF0sMjU2XSwxMzIyNTpbWzgwLDk3XSwyNTZdLDEzMjI2OltbMTA3LDgwLDk3XSwyNTZdLDEzMjI3OltbNzcsODAsOTddLDI1Nl0sMTMyMjg6W1s3MSw4MCw5N10sMjU2XSwxMzIyOTpbWzExNCw5NywxMDBdLDI1Nl0sMTMyMzA6W1sxMTQsOTcsMTAwLDg3MjUsMTE1XSwyNTZdLDEzMjMxOltbMTE0LDk3LDEwMCw4NzI1LDExNSwxNzhdLDI1Nl0sMTMyMzI6W1sxMTIsMTE1XSwyNTZdLDEzMjMzOltbMTEwLDExNV0sMjU2XSwxMzIzNDpbWzk1NiwxMTVdLDI1Nl0sMTMyMzU6W1sxMDksMTE1XSwyNTZdLDEzMjM2OltbMTEyLDg2XSwyNTZdLDEzMjM3OltbMTEwLDg2XSwyNTZdLDEzMjM4OltbOTU2LDg2XSwyNTZdLDEzMjM5OltbMTA5LDg2XSwyNTZdLDEzMjQwOltbMTA3LDg2XSwyNTZdLDEzMjQxOltbNzcsODZdLDI1Nl0sMTMyNDI6W1sxMTIsODddLDI1Nl0sMTMyNDM6W1sxMTAsODddLDI1Nl0sMTMyNDQ6W1s5NTYsODddLDI1Nl0sMTMyNDU6W1sxMDksODddLDI1Nl0sMTMyNDY6W1sxMDcsODddLDI1Nl0sMTMyNDc6W1s3Nyw4N10sMjU2XSwxMzI0ODpbWzEwNyw5MzddLDI1Nl0sMTMyNDk6W1s3Nyw5MzddLDI1Nl0sMTMyNTA6W1s5Nyw0NiwxMDksNDZdLDI1Nl0sMTMyNTE6W1s2NiwxMTNdLDI1Nl0sMTMyNTI6W1s5OSw5OV0sMjU2XSwxMzI1MzpbWzk5LDEwMF0sMjU2XSwxMzI1NDpbWzY3LDg3MjUsMTA3LDEwM10sMjU2XSwxMzI1NTpbWzY3LDExMSw0Nl0sMjU2XSwxMzI1NjpbWzEwMCw2Nl0sMjU2XSwxMzI1NzpbWzcxLDEyMV0sMjU2XSwxMzI1ODpbWzEwNCw5N10sMjU2XSwxMzI1OTpbWzcyLDgwXSwyNTZdLDEzMjYwOltbMTA1LDExMF0sMjU2XSwxMzI2MTpbWzc1LDc1XSwyNTZdLDEzMjYyOltbNzUsNzddLDI1Nl0sMTMyNjM6W1sxMDcsMTE2XSwyNTZdLDEzMjY0OltbMTA4LDEwOV0sMjU2XSwxMzI2NTpbWzEwOCwxMTBdLDI1Nl0sMTMyNjY6W1sxMDgsMTExLDEwM10sMjU2XSwxMzI2NzpbWzEwOCwxMjBdLDI1Nl0sMTMyNjg6W1sxMDksOThdLDI1Nl0sMTMyNjk6W1sxMDksMTA1LDEwOF0sMjU2XSwxMzI3MDpbWzEwOSwxMTEsMTA4XSwyNTZdLDEzMjcxOltbODAsNzJdLDI1Nl0sMTMyNzI6W1sxMTIsNDYsMTA5LDQ2XSwyNTZdLDEzMjczOltbODAsODAsNzddLDI1Nl0sMTMyNzQ6W1s4MCw4Ml0sMjU2XSwxMzI3NTpbWzExNSwxMTRdLDI1Nl0sMTMyNzY6W1s4MywxMThdLDI1Nl0sMTMyNzc6W1s4Nyw5OF0sMjU2XSwxMzI3ODpbWzg2LDg3MjUsMTA5XSwyNTZdLDEzMjc5OltbNjUsODcyNSwxMDldLDI1Nl0sMTMyODA6W1s0OSwyNjA4NV0sMjU2XSwxMzI4MTpbWzUwLDI2MDg1XSwyNTZdLDEzMjgyOltbNTEsMjYwODVdLDI1Nl0sMTMyODM6W1s1MiwyNjA4NV0sMjU2XSwxMzI4NDpbWzUzLDI2MDg1XSwyNTZdLDEzMjg1OltbNTQsMjYwODVdLDI1Nl0sMTMyODY6W1s1NSwyNjA4NV0sMjU2XSwxMzI4NzpbWzU2LDI2MDg1XSwyNTZdLDEzMjg4OltbNTcsMjYwODVdLDI1Nl0sMTMyODk6W1s0OSw0OCwyNjA4NV0sMjU2XSwxMzI5MDpbWzQ5LDQ5LDI2MDg1XSwyNTZdLDEzMjkxOltbNDksNTAsMjYwODVdLDI1Nl0sMTMyOTI6W1s0OSw1MSwyNjA4NV0sMjU2XSwxMzI5MzpbWzQ5LDUyLDI2MDg1XSwyNTZdLDEzMjk0OltbNDksNTMsMjYwODVdLDI1Nl0sMTMyOTU6W1s0OSw1NCwyNjA4NV0sMjU2XSwxMzI5NjpbWzQ5LDU1LDI2MDg1XSwyNTZdLDEzMjk3OltbNDksNTYsMjYwODVdLDI1Nl0sMTMyOTg6W1s0OSw1NywyNjA4NV0sMjU2XSwxMzI5OTpbWzUwLDQ4LDI2MDg1XSwyNTZdLDEzMzAwOltbNTAsNDksMjYwODVdLDI1Nl0sMTMzMDE6W1s1MCw1MCwyNjA4NV0sMjU2XSwxMzMwMjpbWzUwLDUxLDI2MDg1XSwyNTZdLDEzMzAzOltbNTAsNTIsMjYwODVdLDI1Nl0sMTMzMDQ6W1s1MCw1MywyNjA4NV0sMjU2XSwxMzMwNTpbWzUwLDU0LDI2MDg1XSwyNTZdLDEzMzA2OltbNTAsNTUsMjYwODVdLDI1Nl0sMTMzMDc6W1s1MCw1NiwyNjA4NV0sMjU2XSwxMzMwODpbWzUwLDU3LDI2MDg1XSwyNTZdLDEzMzA5OltbNTEsNDgsMjYwODVdLDI1Nl0sMTMzMTA6W1s1MSw0OSwyNjA4NV0sMjU2XSwxMzMxMTpbWzEwMyw5NywxMDhdLDI1Nl19LAoyNzEzNjp7OTI5MTI6WywxXSw5MjkxMzpbLDFdLDkyOTE0OlssMV0sOTI5MTU6WywxXSw5MjkxNjpbLDFdfSwKMjczOTI6ezkyOTc2OlssMjMwXSw5Mjk3NzpbLDIzMF0sOTI5Nzg6WywyMzBdLDkyOTc5OlssMjMwXSw5Mjk4MDpbLDIzMF0sOTI5ODE6WywyMzBdLDkyOTgyOlssMjMwXX0sCjQyNDk2Ons0MjYwNzpbLDIzMF0sNDI2MTI6WywyMzBdLDQyNjEzOlssMjMwXSw0MjYxNDpbLDIzMF0sNDI2MTU6WywyMzBdLDQyNjE2OlssMjMwXSw0MjYxNzpbLDIzMF0sNDI2MTg6WywyMzBdLDQyNjE5OlssMjMwXSw0MjYyMDpbLDIzMF0sNDI2MjE6WywyMzBdLDQyNjUyOltbMTA5OF0sMjU2XSw0MjY1MzpbWzExMDBdLDI1Nl0sNDI2NTU6WywyMzBdLDQyNzM2OlssMjMwXSw0MjczNzpbLDIzMF19LAo0Mjc1Mjp7NDI4NjQ6W1s0Mjg2M10sMjU2XSw0MzAwMDpbWzI5NF0sMjU2XSw0MzAwMTpbWzMzOV0sMjU2XX0sCjQzMDA4Ons0MzAxNDpbLDldLDQzMjA0OlssOV0sNDMyMzI6WywyMzBdLDQzMjMzOlssMjMwXSw0MzIzNDpbLDIzMF0sNDMyMzU6WywyMzBdLDQzMjM2OlssMjMwXSw0MzIzNzpbLDIzMF0sNDMyMzg6WywyMzBdLDQzMjM5OlssMjMwXSw0MzI0MDpbLDIzMF0sNDMyNDE6WywyMzBdLDQzMjQyOlssMjMwXSw0MzI0MzpbLDIzMF0sNDMyNDQ6WywyMzBdLDQzMjQ1OlssMjMwXSw0MzI0NjpbLDIzMF0sNDMyNDc6WywyMzBdLDQzMjQ4OlssMjMwXSw0MzI0OTpbLDIzMF19LAo0MzI2NDp7NDMzMDc6WywyMjBdLDQzMzA4OlssMjIwXSw0MzMwOTpbLDIyMF0sNDMzNDc6Wyw5XSw0MzQ0MzpbLDddLDQzNDU2OlssOV19LAo0MzUyMDp7NDM2OTY6WywyMzBdLDQzNjk4OlssMjMwXSw0MzY5OTpbLDIzMF0sNDM3MDA6WywyMjBdLDQzNzAzOlssMjMwXSw0MzcwNDpbLDIzMF0sNDM3MTA6WywyMzBdLDQzNzExOlssMjMwXSw0MzcxMzpbLDIzMF0sNDM3NjY6Wyw5XX0sCjQzNzc2Ons0Mzg2ODpbWzQyNzkxXSwyNTZdLDQzODY5OltbNDM4MzFdLDI1Nl0sNDM4NzA6W1s2MTldLDI1Nl0sNDM4NzE6W1s0Mzg1OF0sMjU2XSw0NDAxMzpbLDldfSwKNDgxMjg6ezExMzgyMjpbLDFdfSwKNTM1MDQ6ezExOTEzNDpbWzExOTEyNywxMTkxNDFdLDUxMl0sMTE5MTM1OltbMTE5MTI4LDExOTE0MV0sNTEyXSwxMTkxMzY6W1sxMTkxMzUsMTE5MTUwXSw1MTJdLDExOTEzNzpbWzExOTEzNSwxMTkxNTFdLDUxMl0sMTE5MTM4OltbMTE5MTM1LDExOTE1Ml0sNTEyXSwxMTkxMzk6W1sxMTkxMzUsMTE5MTUzXSw1MTJdLDExOTE0MDpbWzExOTEzNSwxMTkxNTRdLDUxMl0sMTE5MTQxOlssMjE2XSwxMTkxNDI6WywyMTZdLDExOTE0MzpbLDFdLDExOTE0NDpbLDFdLDExOTE0NTpbLDFdLDExOTE0OTpbLDIyNl0sMTE5MTUwOlssMjE2XSwxMTkxNTE6WywyMTZdLDExOTE1MjpbLDIxNl0sMTE5MTUzOlssMjE2XSwxMTkxNTQ6WywyMTZdLDExOTE2MzpbLDIyMF0sMTE5MTY0OlssMjIwXSwxMTkxNjU6WywyMjBdLDExOTE2NjpbLDIyMF0sMTE5MTY3OlssMjIwXSwxMTkxNjg6WywyMjBdLDExOTE2OTpbLDIyMF0sMTE5MTcwOlssMjIwXSwxMTkxNzM6WywyMzBdLDExOTE3NDpbLDIzMF0sMTE5MTc1OlssMjMwXSwxMTkxNzY6WywyMzBdLDExOTE3NzpbLDIzMF0sMTE5MTc4OlssMjIwXSwxMTkxNzk6WywyMjBdLDExOTIxMDpbLDIzMF0sMTE5MjExOlssMjMwXSwxMTkyMTI6WywyMzBdLDExOTIxMzpbLDIzMF0sMTE5MjI3OltbMTE5MjI1LDExOTE0MV0sNTEyXSwxMTkyMjg6W1sxMTkyMjYsMTE5MTQxXSw1MTJdLDExOTIyOTpbWzExOTIyNywxMTkxNTBdLDUxMl0sMTE5MjMwOltbMTE5MjI4LDExOTE1MF0sNTEyXSwxMTkyMzE6W1sxMTkyMjcsMTE5MTUxXSw1MTJdLDExOTIzMjpbWzExOTIyOCwxMTkxNTFdLDUxMl19LAo1Mzc2MDp7MTE5MzYyOlssMjMwXSwxMTkzNjM6WywyMzBdLDExOTM2NDpbLDIzMF19LAo1NDI3Mjp7MTE5ODA4OltbNjVdLDI1Nl0sMTE5ODA5OltbNjZdLDI1Nl0sMTE5ODEwOltbNjddLDI1Nl0sMTE5ODExOltbNjhdLDI1Nl0sMTE5ODEyOltbNjldLDI1Nl0sMTE5ODEzOltbNzBdLDI1Nl0sMTE5ODE0OltbNzFdLDI1Nl0sMTE5ODE1OltbNzJdLDI1Nl0sMTE5ODE2OltbNzNdLDI1Nl0sMTE5ODE3OltbNzRdLDI1Nl0sMTE5ODE4OltbNzVdLDI1Nl0sMTE5ODE5OltbNzZdLDI1Nl0sMTE5ODIwOltbNzddLDI1Nl0sMTE5ODIxOltbNzhdLDI1Nl0sMTE5ODIyOltbNzldLDI1Nl0sMTE5ODIzOltbODBdLDI1Nl0sMTE5ODI0OltbODFdLDI1Nl0sMTE5ODI1OltbODJdLDI1Nl0sMTE5ODI2OltbODNdLDI1Nl0sMTE5ODI3OltbODRdLDI1Nl0sMTE5ODI4OltbODVdLDI1Nl0sMTE5ODI5OltbODZdLDI1Nl0sMTE5ODMwOltbODddLDI1Nl0sMTE5ODMxOltbODhdLDI1Nl0sMTE5ODMyOltbODldLDI1Nl0sMTE5ODMzOltbOTBdLDI1Nl0sMTE5ODM0OltbOTddLDI1Nl0sMTE5ODM1OltbOThdLDI1Nl0sMTE5ODM2OltbOTldLDI1Nl0sMTE5ODM3OltbMTAwXSwyNTZdLDExOTgzODpbWzEwMV0sMjU2XSwxMTk4Mzk6W1sxMDJdLDI1Nl0sMTE5ODQwOltbMTAzXSwyNTZdLDExOTg0MTpbWzEwNF0sMjU2XSwxMTk4NDI6W1sxMDVdLDI1Nl0sMTE5ODQzOltbMTA2XSwyNTZdLDExOTg0NDpbWzEwN10sMjU2XSwxMTk4NDU6W1sxMDhdLDI1Nl0sMTE5ODQ2OltbMTA5XSwyNTZdLDExOTg0NzpbWzExMF0sMjU2XSwxMTk4NDg6W1sxMTFdLDI1Nl0sMTE5ODQ5OltbMTEyXSwyNTZdLDExOTg1MDpbWzExM10sMjU2XSwxMTk4NTE6W1sxMTRdLDI1Nl0sMTE5ODUyOltbMTE1XSwyNTZdLDExOTg1MzpbWzExNl0sMjU2XSwxMTk4NTQ6W1sxMTddLDI1Nl0sMTE5ODU1OltbMTE4XSwyNTZdLDExOTg1NjpbWzExOV0sMjU2XSwxMTk4NTc6W1sxMjBdLDI1Nl0sMTE5ODU4OltbMTIxXSwyNTZdLDExOTg1OTpbWzEyMl0sMjU2XSwxMTk4NjA6W1s2NV0sMjU2XSwxMTk4NjE6W1s2Nl0sMjU2XSwxMTk4NjI6W1s2N10sMjU2XSwxMTk4NjM6W1s2OF0sMjU2XSwxMTk4NjQ6W1s2OV0sMjU2XSwxMTk4NjU6W1s3MF0sMjU2XSwxMTk4NjY6W1s3MV0sMjU2XSwxMTk4Njc6W1s3Ml0sMjU2XSwxMTk4Njg6W1s3M10sMjU2XSwxMTk4Njk6W1s3NF0sMjU2XSwxMTk4NzA6W1s3NV0sMjU2XSwxMTk4NzE6W1s3Nl0sMjU2XSwxMTk4NzI6W1s3N10sMjU2XSwxMTk4NzM6W1s3OF0sMjU2XSwxMTk4NzQ6W1s3OV0sMjU2XSwxMTk4NzU6W1s4MF0sMjU2XSwxMTk4NzY6W1s4MV0sMjU2XSwxMTk4Nzc6W1s4Ml0sMjU2XSwxMTk4Nzg6W1s4M10sMjU2XSwxMTk4Nzk6W1s4NF0sMjU2XSwxMTk4ODA6W1s4NV0sMjU2XSwxMTk4ODE6W1s4Nl0sMjU2XSwxMTk4ODI6W1s4N10sMjU2XSwxMTk4ODM6W1s4OF0sMjU2XSwxMTk4ODQ6W1s4OV0sMjU2XSwxMTk4ODU6W1s5MF0sMjU2XSwxMTk4ODY6W1s5N10sMjU2XSwxMTk4ODc6W1s5OF0sMjU2XSwxMTk4ODg6W1s5OV0sMjU2XSwxMTk4ODk6W1sxMDBdLDI1Nl0sMTE5ODkwOltbMTAxXSwyNTZdLDExOTg5MTpbWzEwMl0sMjU2XSwxMTk4OTI6W1sxMDNdLDI1Nl0sMTE5ODk0OltbMTA1XSwyNTZdLDExOTg5NTpbWzEwNl0sMjU2XSwxMTk4OTY6W1sxMDddLDI1Nl0sMTE5ODk3OltbMTA4XSwyNTZdLDExOTg5ODpbWzEwOV0sMjU2XSwxMTk4OTk6W1sxMTBdLDI1Nl0sMTE5OTAwOltbMTExXSwyNTZdLDExOTkwMTpbWzExMl0sMjU2XSwxMTk5MDI6W1sxMTNdLDI1Nl0sMTE5OTAzOltbMTE0XSwyNTZdLDExOTkwNDpbWzExNV0sMjU2XSwxMTk5MDU6W1sxMTZdLDI1Nl0sMTE5OTA2OltbMTE3XSwyNTZdLDExOTkwNzpbWzExOF0sMjU2XSwxMTk5MDg6W1sxMTldLDI1Nl0sMTE5OTA5OltbMTIwXSwyNTZdLDExOTkxMDpbWzEyMV0sMjU2XSwxMTk5MTE6W1sxMjJdLDI1Nl0sMTE5OTEyOltbNjVdLDI1Nl0sMTE5OTEzOltbNjZdLDI1Nl0sMTE5OTE0OltbNjddLDI1Nl0sMTE5OTE1OltbNjhdLDI1Nl0sMTE5OTE2OltbNjldLDI1Nl0sMTE5OTE3OltbNzBdLDI1Nl0sMTE5OTE4OltbNzFdLDI1Nl0sMTE5OTE5OltbNzJdLDI1Nl0sMTE5OTIwOltbNzNdLDI1Nl0sMTE5OTIxOltbNzRdLDI1Nl0sMTE5OTIyOltbNzVdLDI1Nl0sMTE5OTIzOltbNzZdLDI1Nl0sMTE5OTI0OltbNzddLDI1Nl0sMTE5OTI1OltbNzhdLDI1Nl0sMTE5OTI2OltbNzldLDI1Nl0sMTE5OTI3OltbODBdLDI1Nl0sMTE5OTI4OltbODFdLDI1Nl0sMTE5OTI5OltbODJdLDI1Nl0sMTE5OTMwOltbODNdLDI1Nl0sMTE5OTMxOltbODRdLDI1Nl0sMTE5OTMyOltbODVdLDI1Nl0sMTE5OTMzOltbODZdLDI1Nl0sMTE5OTM0OltbODddLDI1Nl0sMTE5OTM1OltbODhdLDI1Nl0sMTE5OTM2OltbODldLDI1Nl0sMTE5OTM3OltbOTBdLDI1Nl0sMTE5OTM4OltbOTddLDI1Nl0sMTE5OTM5OltbOThdLDI1Nl0sMTE5OTQwOltbOTldLDI1Nl0sMTE5OTQxOltbMTAwXSwyNTZdLDExOTk0MjpbWzEwMV0sMjU2XSwxMTk5NDM6W1sxMDJdLDI1Nl0sMTE5OTQ0OltbMTAzXSwyNTZdLDExOTk0NTpbWzEwNF0sMjU2XSwxMTk5NDY6W1sxMDVdLDI1Nl0sMTE5OTQ3OltbMTA2XSwyNTZdLDExOTk0ODpbWzEwN10sMjU2XSwxMTk5NDk6W1sxMDhdLDI1Nl0sMTE5OTUwOltbMTA5XSwyNTZdLDExOTk1MTpbWzExMF0sMjU2XSwxMTk5NTI6W1sxMTFdLDI1Nl0sMTE5OTUzOltbMTEyXSwyNTZdLDExOTk1NDpbWzExM10sMjU2XSwxMTk5NTU6W1sxMTRdLDI1Nl0sMTE5OTU2OltbMTE1XSwyNTZdLDExOTk1NzpbWzExNl0sMjU2XSwxMTk5NTg6W1sxMTddLDI1Nl0sMTE5OTU5OltbMTE4XSwyNTZdLDExOTk2MDpbWzExOV0sMjU2XSwxMTk5NjE6W1sxMjBdLDI1Nl0sMTE5OTYyOltbMTIxXSwyNTZdLDExOTk2MzpbWzEyMl0sMjU2XSwxMTk5NjQ6W1s2NV0sMjU2XSwxMTk5NjY6W1s2N10sMjU2XSwxMTk5Njc6W1s2OF0sMjU2XSwxMTk5NzA6W1s3MV0sMjU2XSwxMTk5NzM6W1s3NF0sMjU2XSwxMTk5NzQ6W1s3NV0sMjU2XSwxMTk5Nzc6W1s3OF0sMjU2XSwxMTk5Nzg6W1s3OV0sMjU2XSwxMTk5Nzk6W1s4MF0sMjU2XSwxMTk5ODA6W1s4MV0sMjU2XSwxMTk5ODI6W1s4M10sMjU2XSwxMTk5ODM6W1s4NF0sMjU2XSwxMTk5ODQ6W1s4NV0sMjU2XSwxMTk5ODU6W1s4Nl0sMjU2XSwxMTk5ODY6W1s4N10sMjU2XSwxMTk5ODc6W1s4OF0sMjU2XSwxMTk5ODg6W1s4OV0sMjU2XSwxMTk5ODk6W1s5MF0sMjU2XSwxMTk5OTA6W1s5N10sMjU2XSwxMTk5OTE6W1s5OF0sMjU2XSwxMTk5OTI6W1s5OV0sMjU2XSwxMTk5OTM6W1sxMDBdLDI1Nl0sMTE5OTk1OltbMTAyXSwyNTZdLDExOTk5NzpbWzEwNF0sMjU2XSwxMTk5OTg6W1sxMDVdLDI1Nl0sMTE5OTk5OltbMTA2XSwyNTZdLDEyMDAwMDpbWzEwN10sMjU2XSwxMjAwMDE6W1sxMDhdLDI1Nl0sMTIwMDAyOltbMTA5XSwyNTZdLDEyMDAwMzpbWzExMF0sMjU2XSwxMjAwMDU6W1sxMTJdLDI1Nl0sMTIwMDA2OltbMTEzXSwyNTZdLDEyMDAwNzpbWzExNF0sMjU2XSwxMjAwMDg6W1sxMTVdLDI1Nl0sMTIwMDA5OltbMTE2XSwyNTZdLDEyMDAxMDpbWzExN10sMjU2XSwxMjAwMTE6W1sxMThdLDI1Nl0sMTIwMDEyOltbMTE5XSwyNTZdLDEyMDAxMzpbWzEyMF0sMjU2XSwxMjAwMTQ6W1sxMjFdLDI1Nl0sMTIwMDE1OltbMTIyXSwyNTZdLDEyMDAxNjpbWzY1XSwyNTZdLDEyMDAxNzpbWzY2XSwyNTZdLDEyMDAxODpbWzY3XSwyNTZdLDEyMDAxOTpbWzY4XSwyNTZdLDEyMDAyMDpbWzY5XSwyNTZdLDEyMDAyMTpbWzcwXSwyNTZdLDEyMDAyMjpbWzcxXSwyNTZdLDEyMDAyMzpbWzcyXSwyNTZdLDEyMDAyNDpbWzczXSwyNTZdLDEyMDAyNTpbWzc0XSwyNTZdLDEyMDAyNjpbWzc1XSwyNTZdLDEyMDAyNzpbWzc2XSwyNTZdLDEyMDAyODpbWzc3XSwyNTZdLDEyMDAyOTpbWzc4XSwyNTZdLDEyMDAzMDpbWzc5XSwyNTZdLDEyMDAzMTpbWzgwXSwyNTZdLDEyMDAzMjpbWzgxXSwyNTZdLDEyMDAzMzpbWzgyXSwyNTZdLDEyMDAzNDpbWzgzXSwyNTZdLDEyMDAzNTpbWzg0XSwyNTZdLDEyMDAzNjpbWzg1XSwyNTZdLDEyMDAzNzpbWzg2XSwyNTZdLDEyMDAzODpbWzg3XSwyNTZdLDEyMDAzOTpbWzg4XSwyNTZdLDEyMDA0MDpbWzg5XSwyNTZdLDEyMDA0MTpbWzkwXSwyNTZdLDEyMDA0MjpbWzk3XSwyNTZdLDEyMDA0MzpbWzk4XSwyNTZdLDEyMDA0NDpbWzk5XSwyNTZdLDEyMDA0NTpbWzEwMF0sMjU2XSwxMjAwNDY6W1sxMDFdLDI1Nl0sMTIwMDQ3OltbMTAyXSwyNTZdLDEyMDA0ODpbWzEwM10sMjU2XSwxMjAwNDk6W1sxMDRdLDI1Nl0sMTIwMDUwOltbMTA1XSwyNTZdLDEyMDA1MTpbWzEwNl0sMjU2XSwxMjAwNTI6W1sxMDddLDI1Nl0sMTIwMDUzOltbMTA4XSwyNTZdLDEyMDA1NDpbWzEwOV0sMjU2XSwxMjAwNTU6W1sxMTBdLDI1Nl0sMTIwMDU2OltbMTExXSwyNTZdLDEyMDA1NzpbWzExMl0sMjU2XSwxMjAwNTg6W1sxMTNdLDI1Nl0sMTIwMDU5OltbMTE0XSwyNTZdLDEyMDA2MDpbWzExNV0sMjU2XSwxMjAwNjE6W1sxMTZdLDI1Nl0sMTIwMDYyOltbMTE3XSwyNTZdLDEyMDA2MzpbWzExOF0sMjU2XX0sCjU0NTI4OnsxMjAwNjQ6W1sxMTldLDI1Nl0sMTIwMDY1OltbMTIwXSwyNTZdLDEyMDA2NjpbWzEyMV0sMjU2XSwxMjAwNjc6W1sxMjJdLDI1Nl0sMTIwMDY4OltbNjVdLDI1Nl0sMTIwMDY5OltbNjZdLDI1Nl0sMTIwMDcxOltbNjhdLDI1Nl0sMTIwMDcyOltbNjldLDI1Nl0sMTIwMDczOltbNzBdLDI1Nl0sMTIwMDc0OltbNzFdLDI1Nl0sMTIwMDc3OltbNzRdLDI1Nl0sMTIwMDc4OltbNzVdLDI1Nl0sMTIwMDc5OltbNzZdLDI1Nl0sMTIwMDgwOltbNzddLDI1Nl0sMTIwMDgxOltbNzhdLDI1Nl0sMTIwMDgyOltbNzldLDI1Nl0sMTIwMDgzOltbODBdLDI1Nl0sMTIwMDg0OltbODFdLDI1Nl0sMTIwMDg2OltbODNdLDI1Nl0sMTIwMDg3OltbODRdLDI1Nl0sMTIwMDg4OltbODVdLDI1Nl0sMTIwMDg5OltbODZdLDI1Nl0sMTIwMDkwOltbODddLDI1Nl0sMTIwMDkxOltbODhdLDI1Nl0sMTIwMDkyOltbODldLDI1Nl0sMTIwMDk0OltbOTddLDI1Nl0sMTIwMDk1OltbOThdLDI1Nl0sMTIwMDk2OltbOTldLDI1Nl0sMTIwMDk3OltbMTAwXSwyNTZdLDEyMDA5ODpbWzEwMV0sMjU2XSwxMjAwOTk6W1sxMDJdLDI1Nl0sMTIwMTAwOltbMTAzXSwyNTZdLDEyMDEwMTpbWzEwNF0sMjU2XSwxMjAxMDI6W1sxMDVdLDI1Nl0sMTIwMTAzOltbMTA2XSwyNTZdLDEyMDEwNDpbWzEwN10sMjU2XSwxMjAxMDU6W1sxMDhdLDI1Nl0sMTIwMTA2OltbMTA5XSwyNTZdLDEyMDEwNzpbWzExMF0sMjU2XSwxMjAxMDg6W1sxMTFdLDI1Nl0sMTIwMTA5OltbMTEyXSwyNTZdLDEyMDExMDpbWzExM10sMjU2XSwxMjAxMTE6W1sxMTRdLDI1Nl0sMTIwMTEyOltbMTE1XSwyNTZdLDEyMDExMzpbWzExNl0sMjU2XSwxMjAxMTQ6W1sxMTddLDI1Nl0sMTIwMTE1OltbMTE4XSwyNTZdLDEyMDExNjpbWzExOV0sMjU2XSwxMjAxMTc6W1sxMjBdLDI1Nl0sMTIwMTE4OltbMTIxXSwyNTZdLDEyMDExOTpbWzEyMl0sMjU2XSwxMjAxMjA6W1s2NV0sMjU2XSwxMjAxMjE6W1s2Nl0sMjU2XSwxMjAxMjM6W1s2OF0sMjU2XSwxMjAxMjQ6W1s2OV0sMjU2XSwxMjAxMjU6W1s3MF0sMjU2XSwxMjAxMjY6W1s3MV0sMjU2XSwxMjAxMjg6W1s3M10sMjU2XSwxMjAxMjk6W1s3NF0sMjU2XSwxMjAxMzA6W1s3NV0sMjU2XSwxMjAxMzE6W1s3Nl0sMjU2XSwxMjAxMzI6W1s3N10sMjU2XSwxMjAxMzQ6W1s3OV0sMjU2XSwxMjAxMzg6W1s4M10sMjU2XSwxMjAxMzk6W1s4NF0sMjU2XSwxMjAxNDA6W1s4NV0sMjU2XSwxMjAxNDE6W1s4Nl0sMjU2XSwxMjAxNDI6W1s4N10sMjU2XSwxMjAxNDM6W1s4OF0sMjU2XSwxMjAxNDQ6W1s4OV0sMjU2XSwxMjAxNDY6W1s5N10sMjU2XSwxMjAxNDc6W1s5OF0sMjU2XSwxMjAxNDg6W1s5OV0sMjU2XSwxMjAxNDk6W1sxMDBdLDI1Nl0sMTIwMTUwOltbMTAxXSwyNTZdLDEyMDE1MTpbWzEwMl0sMjU2XSwxMjAxNTI6W1sxMDNdLDI1Nl0sMTIwMTUzOltbMTA0XSwyNTZdLDEyMDE1NDpbWzEwNV0sMjU2XSwxMjAxNTU6W1sxMDZdLDI1Nl0sMTIwMTU2OltbMTA3XSwyNTZdLDEyMDE1NzpbWzEwOF0sMjU2XSwxMjAxNTg6W1sxMDldLDI1Nl0sMTIwMTU5OltbMTEwXSwyNTZdLDEyMDE2MDpbWzExMV0sMjU2XSwxMjAxNjE6W1sxMTJdLDI1Nl0sMTIwMTYyOltbMTEzXSwyNTZdLDEyMDE2MzpbWzExNF0sMjU2XSwxMjAxNjQ6W1sxMTVdLDI1Nl0sMTIwMTY1OltbMTE2XSwyNTZdLDEyMDE2NjpbWzExN10sMjU2XSwxMjAxNjc6W1sxMThdLDI1Nl0sMTIwMTY4OltbMTE5XSwyNTZdLDEyMDE2OTpbWzEyMF0sMjU2XSwxMjAxNzA6W1sxMjFdLDI1Nl0sMTIwMTcxOltbMTIyXSwyNTZdLDEyMDE3MjpbWzY1XSwyNTZdLDEyMDE3MzpbWzY2XSwyNTZdLDEyMDE3NDpbWzY3XSwyNTZdLDEyMDE3NTpbWzY4XSwyNTZdLDEyMDE3NjpbWzY5XSwyNTZdLDEyMDE3NzpbWzcwXSwyNTZdLDEyMDE3ODpbWzcxXSwyNTZdLDEyMDE3OTpbWzcyXSwyNTZdLDEyMDE4MDpbWzczXSwyNTZdLDEyMDE4MTpbWzc0XSwyNTZdLDEyMDE4MjpbWzc1XSwyNTZdLDEyMDE4MzpbWzc2XSwyNTZdLDEyMDE4NDpbWzc3XSwyNTZdLDEyMDE4NTpbWzc4XSwyNTZdLDEyMDE4NjpbWzc5XSwyNTZdLDEyMDE4NzpbWzgwXSwyNTZdLDEyMDE4ODpbWzgxXSwyNTZdLDEyMDE4OTpbWzgyXSwyNTZdLDEyMDE5MDpbWzgzXSwyNTZdLDEyMDE5MTpbWzg0XSwyNTZdLDEyMDE5MjpbWzg1XSwyNTZdLDEyMDE5MzpbWzg2XSwyNTZdLDEyMDE5NDpbWzg3XSwyNTZdLDEyMDE5NTpbWzg4XSwyNTZdLDEyMDE5NjpbWzg5XSwyNTZdLDEyMDE5NzpbWzkwXSwyNTZdLDEyMDE5ODpbWzk3XSwyNTZdLDEyMDE5OTpbWzk4XSwyNTZdLDEyMDIwMDpbWzk5XSwyNTZdLDEyMDIwMTpbWzEwMF0sMjU2XSwxMjAyMDI6W1sxMDFdLDI1Nl0sMTIwMjAzOltbMTAyXSwyNTZdLDEyMDIwNDpbWzEwM10sMjU2XSwxMjAyMDU6W1sxMDRdLDI1Nl0sMTIwMjA2OltbMTA1XSwyNTZdLDEyMDIwNzpbWzEwNl0sMjU2XSwxMjAyMDg6W1sxMDddLDI1Nl0sMTIwMjA5OltbMTA4XSwyNTZdLDEyMDIxMDpbWzEwOV0sMjU2XSwxMjAyMTE6W1sxMTBdLDI1Nl0sMTIwMjEyOltbMTExXSwyNTZdLDEyMDIxMzpbWzExMl0sMjU2XSwxMjAyMTQ6W1sxMTNdLDI1Nl0sMTIwMjE1OltbMTE0XSwyNTZdLDEyMDIxNjpbWzExNV0sMjU2XSwxMjAyMTc6W1sxMTZdLDI1Nl0sMTIwMjE4OltbMTE3XSwyNTZdLDEyMDIxOTpbWzExOF0sMjU2XSwxMjAyMjA6W1sxMTldLDI1Nl0sMTIwMjIxOltbMTIwXSwyNTZdLDEyMDIyMjpbWzEyMV0sMjU2XSwxMjAyMjM6W1sxMjJdLDI1Nl0sMTIwMjI0OltbNjVdLDI1Nl0sMTIwMjI1OltbNjZdLDI1Nl0sMTIwMjI2OltbNjddLDI1Nl0sMTIwMjI3OltbNjhdLDI1Nl0sMTIwMjI4OltbNjldLDI1Nl0sMTIwMjI5OltbNzBdLDI1Nl0sMTIwMjMwOltbNzFdLDI1Nl0sMTIwMjMxOltbNzJdLDI1Nl0sMTIwMjMyOltbNzNdLDI1Nl0sMTIwMjMzOltbNzRdLDI1Nl0sMTIwMjM0OltbNzVdLDI1Nl0sMTIwMjM1OltbNzZdLDI1Nl0sMTIwMjM2OltbNzddLDI1Nl0sMTIwMjM3OltbNzhdLDI1Nl0sMTIwMjM4OltbNzldLDI1Nl0sMTIwMjM5OltbODBdLDI1Nl0sMTIwMjQwOltbODFdLDI1Nl0sMTIwMjQxOltbODJdLDI1Nl0sMTIwMjQyOltbODNdLDI1Nl0sMTIwMjQzOltbODRdLDI1Nl0sMTIwMjQ0OltbODVdLDI1Nl0sMTIwMjQ1OltbODZdLDI1Nl0sMTIwMjQ2OltbODddLDI1Nl0sMTIwMjQ3OltbODhdLDI1Nl0sMTIwMjQ4OltbODldLDI1Nl0sMTIwMjQ5OltbOTBdLDI1Nl0sMTIwMjUwOltbOTddLDI1Nl0sMTIwMjUxOltbOThdLDI1Nl0sMTIwMjUyOltbOTldLDI1Nl0sMTIwMjUzOltbMTAwXSwyNTZdLDEyMDI1NDpbWzEwMV0sMjU2XSwxMjAyNTU6W1sxMDJdLDI1Nl0sMTIwMjU2OltbMTAzXSwyNTZdLDEyMDI1NzpbWzEwNF0sMjU2XSwxMjAyNTg6W1sxMDVdLDI1Nl0sMTIwMjU5OltbMTA2XSwyNTZdLDEyMDI2MDpbWzEwN10sMjU2XSwxMjAyNjE6W1sxMDhdLDI1Nl0sMTIwMjYyOltbMTA5XSwyNTZdLDEyMDI2MzpbWzExMF0sMjU2XSwxMjAyNjQ6W1sxMTFdLDI1Nl0sMTIwMjY1OltbMTEyXSwyNTZdLDEyMDI2NjpbWzExM10sMjU2XSwxMjAyNjc6W1sxMTRdLDI1Nl0sMTIwMjY4OltbMTE1XSwyNTZdLDEyMDI2OTpbWzExNl0sMjU2XSwxMjAyNzA6W1sxMTddLDI1Nl0sMTIwMjcxOltbMTE4XSwyNTZdLDEyMDI3MjpbWzExOV0sMjU2XSwxMjAyNzM6W1sxMjBdLDI1Nl0sMTIwMjc0OltbMTIxXSwyNTZdLDEyMDI3NTpbWzEyMl0sMjU2XSwxMjAyNzY6W1s2NV0sMjU2XSwxMjAyNzc6W1s2Nl0sMjU2XSwxMjAyNzg6W1s2N10sMjU2XSwxMjAyNzk6W1s2OF0sMjU2XSwxMjAyODA6W1s2OV0sMjU2XSwxMjAyODE6W1s3MF0sMjU2XSwxMjAyODI6W1s3MV0sMjU2XSwxMjAyODM6W1s3Ml0sMjU2XSwxMjAyODQ6W1s3M10sMjU2XSwxMjAyODU6W1s3NF0sMjU2XSwxMjAyODY6W1s3NV0sMjU2XSwxMjAyODc6W1s3Nl0sMjU2XSwxMjAyODg6W1s3N10sMjU2XSwxMjAyODk6W1s3OF0sMjU2XSwxMjAyOTA6W1s3OV0sMjU2XSwxMjAyOTE6W1s4MF0sMjU2XSwxMjAyOTI6W1s4MV0sMjU2XSwxMjAyOTM6W1s4Ml0sMjU2XSwxMjAyOTQ6W1s4M10sMjU2XSwxMjAyOTU6W1s4NF0sMjU2XSwxMjAyOTY6W1s4NV0sMjU2XSwxMjAyOTc6W1s4Nl0sMjU2XSwxMjAyOTg6W1s4N10sMjU2XSwxMjAyOTk6W1s4OF0sMjU2XSwxMjAzMDA6W1s4OV0sMjU2XSwxMjAzMDE6W1s5MF0sMjU2XSwxMjAzMDI6W1s5N10sMjU2XSwxMjAzMDM6W1s5OF0sMjU2XSwxMjAzMDQ6W1s5OV0sMjU2XSwxMjAzMDU6W1sxMDBdLDI1Nl0sMTIwMzA2OltbMTAxXSwyNTZdLDEyMDMwNzpbWzEwMl0sMjU2XSwxMjAzMDg6W1sxMDNdLDI1Nl0sMTIwMzA5OltbMTA0XSwyNTZdLDEyMDMxMDpbWzEwNV0sMjU2XSwxMjAzMTE6W1sxMDZdLDI1Nl0sMTIwMzEyOltbMTA3XSwyNTZdLDEyMDMxMzpbWzEwOF0sMjU2XSwxMjAzMTQ6W1sxMDldLDI1Nl0sMTIwMzE1OltbMTEwXSwyNTZdLDEyMDMxNjpbWzExMV0sMjU2XSwxMjAzMTc6W1sxMTJdLDI1Nl0sMTIwMzE4OltbMTEzXSwyNTZdLDEyMDMxOTpbWzExNF0sMjU2XX0sCjU0Nzg0OnsxMjAzMjA6W1sxMTVdLDI1Nl0sMTIwMzIxOltbMTE2XSwyNTZdLDEyMDMyMjpbWzExN10sMjU2XSwxMjAzMjM6W1sxMThdLDI1Nl0sMTIwMzI0OltbMTE5XSwyNTZdLDEyMDMyNTpbWzEyMF0sMjU2XSwxMjAzMjY6W1sxMjFdLDI1Nl0sMTIwMzI3OltbMTIyXSwyNTZdLDEyMDMyODpbWzY1XSwyNTZdLDEyMDMyOTpbWzY2XSwyNTZdLDEyMDMzMDpbWzY3XSwyNTZdLDEyMDMzMTpbWzY4XSwyNTZdLDEyMDMzMjpbWzY5XSwyNTZdLDEyMDMzMzpbWzcwXSwyNTZdLDEyMDMzNDpbWzcxXSwyNTZdLDEyMDMzNTpbWzcyXSwyNTZdLDEyMDMzNjpbWzczXSwyNTZdLDEyMDMzNzpbWzc0XSwyNTZdLDEyMDMzODpbWzc1XSwyNTZdLDEyMDMzOTpbWzc2XSwyNTZdLDEyMDM0MDpbWzc3XSwyNTZdLDEyMDM0MTpbWzc4XSwyNTZdLDEyMDM0MjpbWzc5XSwyNTZdLDEyMDM0MzpbWzgwXSwyNTZdLDEyMDM0NDpbWzgxXSwyNTZdLDEyMDM0NTpbWzgyXSwyNTZdLDEyMDM0NjpbWzgzXSwyNTZdLDEyMDM0NzpbWzg0XSwyNTZdLDEyMDM0ODpbWzg1XSwyNTZdLDEyMDM0OTpbWzg2XSwyNTZdLDEyMDM1MDpbWzg3XSwyNTZdLDEyMDM1MTpbWzg4XSwyNTZdLDEyMDM1MjpbWzg5XSwyNTZdLDEyMDM1MzpbWzkwXSwyNTZdLDEyMDM1NDpbWzk3XSwyNTZdLDEyMDM1NTpbWzk4XSwyNTZdLDEyMDM1NjpbWzk5XSwyNTZdLDEyMDM1NzpbWzEwMF0sMjU2XSwxMjAzNTg6W1sxMDFdLDI1Nl0sMTIwMzU5OltbMTAyXSwyNTZdLDEyMDM2MDpbWzEwM10sMjU2XSwxMjAzNjE6W1sxMDRdLDI1Nl0sMTIwMzYyOltbMTA1XSwyNTZdLDEyMDM2MzpbWzEwNl0sMjU2XSwxMjAzNjQ6W1sxMDddLDI1Nl0sMTIwMzY1OltbMTA4XSwyNTZdLDEyMDM2NjpbWzEwOV0sMjU2XSwxMjAzNjc6W1sxMTBdLDI1Nl0sMTIwMzY4OltbMTExXSwyNTZdLDEyMDM2OTpbWzExMl0sMjU2XSwxMjAzNzA6W1sxMTNdLDI1Nl0sMTIwMzcxOltbMTE0XSwyNTZdLDEyMDM3MjpbWzExNV0sMjU2XSwxMjAzNzM6W1sxMTZdLDI1Nl0sMTIwMzc0OltbMTE3XSwyNTZdLDEyMDM3NTpbWzExOF0sMjU2XSwxMjAzNzY6W1sxMTldLDI1Nl0sMTIwMzc3OltbMTIwXSwyNTZdLDEyMDM3ODpbWzEyMV0sMjU2XSwxMjAzNzk6W1sxMjJdLDI1Nl0sMTIwMzgwOltbNjVdLDI1Nl0sMTIwMzgxOltbNjZdLDI1Nl0sMTIwMzgyOltbNjddLDI1Nl0sMTIwMzgzOltbNjhdLDI1Nl0sMTIwMzg0OltbNjldLDI1Nl0sMTIwMzg1OltbNzBdLDI1Nl0sMTIwMzg2OltbNzFdLDI1Nl0sMTIwMzg3OltbNzJdLDI1Nl0sMTIwMzg4OltbNzNdLDI1Nl0sMTIwMzg5OltbNzRdLDI1Nl0sMTIwMzkwOltbNzVdLDI1Nl0sMTIwMzkxOltbNzZdLDI1Nl0sMTIwMzkyOltbNzddLDI1Nl0sMTIwMzkzOltbNzhdLDI1Nl0sMTIwMzk0OltbNzldLDI1Nl0sMTIwMzk1OltbODBdLDI1Nl0sMTIwMzk2OltbODFdLDI1Nl0sMTIwMzk3OltbODJdLDI1Nl0sMTIwMzk4OltbODNdLDI1Nl0sMTIwMzk5OltbODRdLDI1Nl0sMTIwNDAwOltbODVdLDI1Nl0sMTIwNDAxOltbODZdLDI1Nl0sMTIwNDAyOltbODddLDI1Nl0sMTIwNDAzOltbODhdLDI1Nl0sMTIwNDA0OltbODldLDI1Nl0sMTIwNDA1OltbOTBdLDI1Nl0sMTIwNDA2OltbOTddLDI1Nl0sMTIwNDA3OltbOThdLDI1Nl0sMTIwNDA4OltbOTldLDI1Nl0sMTIwNDA5OltbMTAwXSwyNTZdLDEyMDQxMDpbWzEwMV0sMjU2XSwxMjA0MTE6W1sxMDJdLDI1Nl0sMTIwNDEyOltbMTAzXSwyNTZdLDEyMDQxMzpbWzEwNF0sMjU2XSwxMjA0MTQ6W1sxMDVdLDI1Nl0sMTIwNDE1OltbMTA2XSwyNTZdLDEyMDQxNjpbWzEwN10sMjU2XSwxMjA0MTc6W1sxMDhdLDI1Nl0sMTIwNDE4OltbMTA5XSwyNTZdLDEyMDQxOTpbWzExMF0sMjU2XSwxMjA0MjA6W1sxMTFdLDI1Nl0sMTIwNDIxOltbMTEyXSwyNTZdLDEyMDQyMjpbWzExM10sMjU2XSwxMjA0MjM6W1sxMTRdLDI1Nl0sMTIwNDI0OltbMTE1XSwyNTZdLDEyMDQyNTpbWzExNl0sMjU2XSwxMjA0MjY6W1sxMTddLDI1Nl0sMTIwNDI3OltbMTE4XSwyNTZdLDEyMDQyODpbWzExOV0sMjU2XSwxMjA0Mjk6W1sxMjBdLDI1Nl0sMTIwNDMwOltbMTIxXSwyNTZdLDEyMDQzMTpbWzEyMl0sMjU2XSwxMjA0MzI6W1s2NV0sMjU2XSwxMjA0MzM6W1s2Nl0sMjU2XSwxMjA0MzQ6W1s2N10sMjU2XSwxMjA0MzU6W1s2OF0sMjU2XSwxMjA0MzY6W1s2OV0sMjU2XSwxMjA0Mzc6W1s3MF0sMjU2XSwxMjA0Mzg6W1s3MV0sMjU2XSwxMjA0Mzk6W1s3Ml0sMjU2XSwxMjA0NDA6W1s3M10sMjU2XSwxMjA0NDE6W1s3NF0sMjU2XSwxMjA0NDI6W1s3NV0sMjU2XSwxMjA0NDM6W1s3Nl0sMjU2XSwxMjA0NDQ6W1s3N10sMjU2XSwxMjA0NDU6W1s3OF0sMjU2XSwxMjA0NDY6W1s3OV0sMjU2XSwxMjA0NDc6W1s4MF0sMjU2XSwxMjA0NDg6W1s4MV0sMjU2XSwxMjA0NDk6W1s4Ml0sMjU2XSwxMjA0NTA6W1s4M10sMjU2XSwxMjA0NTE6W1s4NF0sMjU2XSwxMjA0NTI6W1s4NV0sMjU2XSwxMjA0NTM6W1s4Nl0sMjU2XSwxMjA0NTQ6W1s4N10sMjU2XSwxMjA0NTU6W1s4OF0sMjU2XSwxMjA0NTY6W1s4OV0sMjU2XSwxMjA0NTc6W1s5MF0sMjU2XSwxMjA0NTg6W1s5N10sMjU2XSwxMjA0NTk6W1s5OF0sMjU2XSwxMjA0NjA6W1s5OV0sMjU2XSwxMjA0NjE6W1sxMDBdLDI1Nl0sMTIwNDYyOltbMTAxXSwyNTZdLDEyMDQ2MzpbWzEwMl0sMjU2XSwxMjA0NjQ6W1sxMDNdLDI1Nl0sMTIwNDY1OltbMTA0XSwyNTZdLDEyMDQ2NjpbWzEwNV0sMjU2XSwxMjA0Njc6W1sxMDZdLDI1Nl0sMTIwNDY4OltbMTA3XSwyNTZdLDEyMDQ2OTpbWzEwOF0sMjU2XSwxMjA0NzA6W1sxMDldLDI1Nl0sMTIwNDcxOltbMTEwXSwyNTZdLDEyMDQ3MjpbWzExMV0sMjU2XSwxMjA0NzM6W1sxMTJdLDI1Nl0sMTIwNDc0OltbMTEzXSwyNTZdLDEyMDQ3NTpbWzExNF0sMjU2XSwxMjA0NzY6W1sxMTVdLDI1Nl0sMTIwNDc3OltbMTE2XSwyNTZdLDEyMDQ3ODpbWzExN10sMjU2XSwxMjA0Nzk6W1sxMThdLDI1Nl0sMTIwNDgwOltbMTE5XSwyNTZdLDEyMDQ4MTpbWzEyMF0sMjU2XSwxMjA0ODI6W1sxMjFdLDI1Nl0sMTIwNDgzOltbMTIyXSwyNTZdLDEyMDQ4NDpbWzMwNV0sMjU2XSwxMjA0ODU6W1s1NjddLDI1Nl0sMTIwNDg4OltbOTEzXSwyNTZdLDEyMDQ4OTpbWzkxNF0sMjU2XSwxMjA0OTA6W1s5MTVdLDI1Nl0sMTIwNDkxOltbOTE2XSwyNTZdLDEyMDQ5MjpbWzkxN10sMjU2XSwxMjA0OTM6W1s5MThdLDI1Nl0sMTIwNDk0OltbOTE5XSwyNTZdLDEyMDQ5NTpbWzkyMF0sMjU2XSwxMjA0OTY6W1s5MjFdLDI1Nl0sMTIwNDk3OltbOTIyXSwyNTZdLDEyMDQ5ODpbWzkyM10sMjU2XSwxMjA0OTk6W1s5MjRdLDI1Nl0sMTIwNTAwOltbOTI1XSwyNTZdLDEyMDUwMTpbWzkyNl0sMjU2XSwxMjA1MDI6W1s5MjddLDI1Nl0sMTIwNTAzOltbOTI4XSwyNTZdLDEyMDUwNDpbWzkyOV0sMjU2XSwxMjA1MDU6W1sxMDEyXSwyNTZdLDEyMDUwNjpbWzkzMV0sMjU2XSwxMjA1MDc6W1s5MzJdLDI1Nl0sMTIwNTA4OltbOTMzXSwyNTZdLDEyMDUwOTpbWzkzNF0sMjU2XSwxMjA1MTA6W1s5MzVdLDI1Nl0sMTIwNTExOltbOTM2XSwyNTZdLDEyMDUxMjpbWzkzN10sMjU2XSwxMjA1MTM6W1s4NzExXSwyNTZdLDEyMDUxNDpbWzk0NV0sMjU2XSwxMjA1MTU6W1s5NDZdLDI1Nl0sMTIwNTE2OltbOTQ3XSwyNTZdLDEyMDUxNzpbWzk0OF0sMjU2XSwxMjA1MTg6W1s5NDldLDI1Nl0sMTIwNTE5OltbOTUwXSwyNTZdLDEyMDUyMDpbWzk1MV0sMjU2XSwxMjA1MjE6W1s5NTJdLDI1Nl0sMTIwNTIyOltbOTUzXSwyNTZdLDEyMDUyMzpbWzk1NF0sMjU2XSwxMjA1MjQ6W1s5NTVdLDI1Nl0sMTIwNTI1OltbOTU2XSwyNTZdLDEyMDUyNjpbWzk1N10sMjU2XSwxMjA1Mjc6W1s5NThdLDI1Nl0sMTIwNTI4OltbOTU5XSwyNTZdLDEyMDUyOTpbWzk2MF0sMjU2XSwxMjA1MzA6W1s5NjFdLDI1Nl0sMTIwNTMxOltbOTYyXSwyNTZdLDEyMDUzMjpbWzk2M10sMjU2XSwxMjA1MzM6W1s5NjRdLDI1Nl0sMTIwNTM0OltbOTY1XSwyNTZdLDEyMDUzNTpbWzk2Nl0sMjU2XSwxMjA1MzY6W1s5NjddLDI1Nl0sMTIwNTM3OltbOTY4XSwyNTZdLDEyMDUzODpbWzk2OV0sMjU2XSwxMjA1Mzk6W1s4NzA2XSwyNTZdLDEyMDU0MDpbWzEwMTNdLDI1Nl0sMTIwNTQxOltbOTc3XSwyNTZdLDEyMDU0MjpbWzEwMDhdLDI1Nl0sMTIwNTQzOltbOTgxXSwyNTZdLDEyMDU0NDpbWzEwMDldLDI1Nl0sMTIwNTQ1OltbOTgyXSwyNTZdLDEyMDU0NjpbWzkxM10sMjU2XSwxMjA1NDc6W1s5MTRdLDI1Nl0sMTIwNTQ4OltbOTE1XSwyNTZdLDEyMDU0OTpbWzkxNl0sMjU2XSwxMjA1NTA6W1s5MTddLDI1Nl0sMTIwNTUxOltbOTE4XSwyNTZdLDEyMDU1MjpbWzkxOV0sMjU2XSwxMjA1NTM6W1s5MjBdLDI1Nl0sMTIwNTU0OltbOTIxXSwyNTZdLDEyMDU1NTpbWzkyMl0sMjU2XSwxMjA1NTY6W1s5MjNdLDI1Nl0sMTIwNTU3OltbOTI0XSwyNTZdLDEyMDU1ODpbWzkyNV0sMjU2XSwxMjA1NTk6W1s5MjZdLDI1Nl0sMTIwNTYwOltbOTI3XSwyNTZdLDEyMDU2MTpbWzkyOF0sMjU2XSwxMjA1NjI6W1s5MjldLDI1Nl0sMTIwNTYzOltbMTAxMl0sMjU2XSwxMjA1NjQ6W1s5MzFdLDI1Nl0sMTIwNTY1OltbOTMyXSwyNTZdLDEyMDU2NjpbWzkzM10sMjU2XSwxMjA1Njc6W1s5MzRdLDI1Nl0sMTIwNTY4OltbOTM1XSwyNTZdLDEyMDU2OTpbWzkzNl0sMjU2XSwxMjA1NzA6W1s5MzddLDI1Nl0sMTIwNTcxOltbODcxMV0sMjU2XSwxMjA1NzI6W1s5NDVdLDI1Nl0sMTIwNTczOltbOTQ2XSwyNTZdLDEyMDU3NDpbWzk0N10sMjU2XSwxMjA1NzU6W1s5NDhdLDI1Nl19LAo1NTA0MDp7MTIwNTc2OltbOTQ5XSwyNTZdLDEyMDU3NzpbWzk1MF0sMjU2XSwxMjA1Nzg6W1s5NTFdLDI1Nl0sMTIwNTc5OltbOTUyXSwyNTZdLDEyMDU4MDpbWzk1M10sMjU2XSwxMjA1ODE6W1s5NTRdLDI1Nl0sMTIwNTgyOltbOTU1XSwyNTZdLDEyMDU4MzpbWzk1Nl0sMjU2XSwxMjA1ODQ6W1s5NTddLDI1Nl0sMTIwNTg1OltbOTU4XSwyNTZdLDEyMDU4NjpbWzk1OV0sMjU2XSwxMjA1ODc6W1s5NjBdLDI1Nl0sMTIwNTg4OltbOTYxXSwyNTZdLDEyMDU4OTpbWzk2Ml0sMjU2XSwxMjA1OTA6W1s5NjNdLDI1Nl0sMTIwNTkxOltbOTY0XSwyNTZdLDEyMDU5MjpbWzk2NV0sMjU2XSwxMjA1OTM6W1s5NjZdLDI1Nl0sMTIwNTk0OltbOTY3XSwyNTZdLDEyMDU5NTpbWzk2OF0sMjU2XSwxMjA1OTY6W1s5NjldLDI1Nl0sMTIwNTk3OltbODcwNl0sMjU2XSwxMjA1OTg6W1sxMDEzXSwyNTZdLDEyMDU5OTpbWzk3N10sMjU2XSwxMjA2MDA6W1sxMDA4XSwyNTZdLDEyMDYwMTpbWzk4MV0sMjU2XSwxMjA2MDI6W1sxMDA5XSwyNTZdLDEyMDYwMzpbWzk4Ml0sMjU2XSwxMjA2MDQ6W1s5MTNdLDI1Nl0sMTIwNjA1OltbOTE0XSwyNTZdLDEyMDYwNjpbWzkxNV0sMjU2XSwxMjA2MDc6W1s5MTZdLDI1Nl0sMTIwNjA4OltbOTE3XSwyNTZdLDEyMDYwOTpbWzkxOF0sMjU2XSwxMjA2MTA6W1s5MTldLDI1Nl0sMTIwNjExOltbOTIwXSwyNTZdLDEyMDYxMjpbWzkyMV0sMjU2XSwxMjA2MTM6W1s5MjJdLDI1Nl0sMTIwNjE0OltbOTIzXSwyNTZdLDEyMDYxNTpbWzkyNF0sMjU2XSwxMjA2MTY6W1s5MjVdLDI1Nl0sMTIwNjE3OltbOTI2XSwyNTZdLDEyMDYxODpbWzkyN10sMjU2XSwxMjA2MTk6W1s5MjhdLDI1Nl0sMTIwNjIwOltbOTI5XSwyNTZdLDEyMDYyMTpbWzEwMTJdLDI1Nl0sMTIwNjIyOltbOTMxXSwyNTZdLDEyMDYyMzpbWzkzMl0sMjU2XSwxMjA2MjQ6W1s5MzNdLDI1Nl0sMTIwNjI1OltbOTM0XSwyNTZdLDEyMDYyNjpbWzkzNV0sMjU2XSwxMjA2Mjc6W1s5MzZdLDI1Nl0sMTIwNjI4OltbOTM3XSwyNTZdLDEyMDYyOTpbWzg3MTFdLDI1Nl0sMTIwNjMwOltbOTQ1XSwyNTZdLDEyMDYzMTpbWzk0Nl0sMjU2XSwxMjA2MzI6W1s5NDddLDI1Nl0sMTIwNjMzOltbOTQ4XSwyNTZdLDEyMDYzNDpbWzk0OV0sMjU2XSwxMjA2MzU6W1s5NTBdLDI1Nl0sMTIwNjM2OltbOTUxXSwyNTZdLDEyMDYzNzpbWzk1Ml0sMjU2XSwxMjA2Mzg6W1s5NTNdLDI1Nl0sMTIwNjM5OltbOTU0XSwyNTZdLDEyMDY0MDpbWzk1NV0sMjU2XSwxMjA2NDE6W1s5NTZdLDI1Nl0sMTIwNjQyOltbOTU3XSwyNTZdLDEyMDY0MzpbWzk1OF0sMjU2XSwxMjA2NDQ6W1s5NTldLDI1Nl0sMTIwNjQ1OltbOTYwXSwyNTZdLDEyMDY0NjpbWzk2MV0sMjU2XSwxMjA2NDc6W1s5NjJdLDI1Nl0sMTIwNjQ4OltbOTYzXSwyNTZdLDEyMDY0OTpbWzk2NF0sMjU2XSwxMjA2NTA6W1s5NjVdLDI1Nl0sMTIwNjUxOltbOTY2XSwyNTZdLDEyMDY1MjpbWzk2N10sMjU2XSwxMjA2NTM6W1s5NjhdLDI1Nl0sMTIwNjU0OltbOTY5XSwyNTZdLDEyMDY1NTpbWzg3MDZdLDI1Nl0sMTIwNjU2OltbMTAxM10sMjU2XSwxMjA2NTc6W1s5NzddLDI1Nl0sMTIwNjU4OltbMTAwOF0sMjU2XSwxMjA2NTk6W1s5ODFdLDI1Nl0sMTIwNjYwOltbMTAwOV0sMjU2XSwxMjA2NjE6W1s5ODJdLDI1Nl0sMTIwNjYyOltbOTEzXSwyNTZdLDEyMDY2MzpbWzkxNF0sMjU2XSwxMjA2NjQ6W1s5MTVdLDI1Nl0sMTIwNjY1OltbOTE2XSwyNTZdLDEyMDY2NjpbWzkxN10sMjU2XSwxMjA2Njc6W1s5MThdLDI1Nl0sMTIwNjY4OltbOTE5XSwyNTZdLDEyMDY2OTpbWzkyMF0sMjU2XSwxMjA2NzA6W1s5MjFdLDI1Nl0sMTIwNjcxOltbOTIyXSwyNTZdLDEyMDY3MjpbWzkyM10sMjU2XSwxMjA2NzM6W1s5MjRdLDI1Nl0sMTIwNjc0OltbOTI1XSwyNTZdLDEyMDY3NTpbWzkyNl0sMjU2XSwxMjA2NzY6W1s5MjddLDI1Nl0sMTIwNjc3OltbOTI4XSwyNTZdLDEyMDY3ODpbWzkyOV0sMjU2XSwxMjA2Nzk6W1sxMDEyXSwyNTZdLDEyMDY4MDpbWzkzMV0sMjU2XSwxMjA2ODE6W1s5MzJdLDI1Nl0sMTIwNjgyOltbOTMzXSwyNTZdLDEyMDY4MzpbWzkzNF0sMjU2XSwxMjA2ODQ6W1s5MzVdLDI1Nl0sMTIwNjg1OltbOTM2XSwyNTZdLDEyMDY4NjpbWzkzN10sMjU2XSwxMjA2ODc6W1s4NzExXSwyNTZdLDEyMDY4ODpbWzk0NV0sMjU2XSwxMjA2ODk6W1s5NDZdLDI1Nl0sMTIwNjkwOltbOTQ3XSwyNTZdLDEyMDY5MTpbWzk0OF0sMjU2XSwxMjA2OTI6W1s5NDldLDI1Nl0sMTIwNjkzOltbOTUwXSwyNTZdLDEyMDY5NDpbWzk1MV0sMjU2XSwxMjA2OTU6W1s5NTJdLDI1Nl0sMTIwNjk2OltbOTUzXSwyNTZdLDEyMDY5NzpbWzk1NF0sMjU2XSwxMjA2OTg6W1s5NTVdLDI1Nl0sMTIwNjk5OltbOTU2XSwyNTZdLDEyMDcwMDpbWzk1N10sMjU2XSwxMjA3MDE6W1s5NThdLDI1Nl0sMTIwNzAyOltbOTU5XSwyNTZdLDEyMDcwMzpbWzk2MF0sMjU2XSwxMjA3MDQ6W1s5NjFdLDI1Nl0sMTIwNzA1OltbOTYyXSwyNTZdLDEyMDcwNjpbWzk2M10sMjU2XSwxMjA3MDc6W1s5NjRdLDI1Nl0sMTIwNzA4OltbOTY1XSwyNTZdLDEyMDcwOTpbWzk2Nl0sMjU2XSwxMjA3MTA6W1s5NjddLDI1Nl0sMTIwNzExOltbOTY4XSwyNTZdLDEyMDcxMjpbWzk2OV0sMjU2XSwxMjA3MTM6W1s4NzA2XSwyNTZdLDEyMDcxNDpbWzEwMTNdLDI1Nl0sMTIwNzE1OltbOTc3XSwyNTZdLDEyMDcxNjpbWzEwMDhdLDI1Nl0sMTIwNzE3OltbOTgxXSwyNTZdLDEyMDcxODpbWzEwMDldLDI1Nl0sMTIwNzE5OltbOTgyXSwyNTZdLDEyMDcyMDpbWzkxM10sMjU2XSwxMjA3MjE6W1s5MTRdLDI1Nl0sMTIwNzIyOltbOTE1XSwyNTZdLDEyMDcyMzpbWzkxNl0sMjU2XSwxMjA3MjQ6W1s5MTddLDI1Nl0sMTIwNzI1OltbOTE4XSwyNTZdLDEyMDcyNjpbWzkxOV0sMjU2XSwxMjA3Mjc6W1s5MjBdLDI1Nl0sMTIwNzI4OltbOTIxXSwyNTZdLDEyMDcyOTpbWzkyMl0sMjU2XSwxMjA3MzA6W1s5MjNdLDI1Nl0sMTIwNzMxOltbOTI0XSwyNTZdLDEyMDczMjpbWzkyNV0sMjU2XSwxMjA3MzM6W1s5MjZdLDI1Nl0sMTIwNzM0OltbOTI3XSwyNTZdLDEyMDczNTpbWzkyOF0sMjU2XSwxMjA3MzY6W1s5MjldLDI1Nl0sMTIwNzM3OltbMTAxMl0sMjU2XSwxMjA3Mzg6W1s5MzFdLDI1Nl0sMTIwNzM5OltbOTMyXSwyNTZdLDEyMDc0MDpbWzkzM10sMjU2XSwxMjA3NDE6W1s5MzRdLDI1Nl0sMTIwNzQyOltbOTM1XSwyNTZdLDEyMDc0MzpbWzkzNl0sMjU2XSwxMjA3NDQ6W1s5MzddLDI1Nl0sMTIwNzQ1OltbODcxMV0sMjU2XSwxMjA3NDY6W1s5NDVdLDI1Nl0sMTIwNzQ3OltbOTQ2XSwyNTZdLDEyMDc0ODpbWzk0N10sMjU2XSwxMjA3NDk6W1s5NDhdLDI1Nl0sMTIwNzUwOltbOTQ5XSwyNTZdLDEyMDc1MTpbWzk1MF0sMjU2XSwxMjA3NTI6W1s5NTFdLDI1Nl0sMTIwNzUzOltbOTUyXSwyNTZdLDEyMDc1NDpbWzk1M10sMjU2XSwxMjA3NTU6W1s5NTRdLDI1Nl0sMTIwNzU2OltbOTU1XSwyNTZdLDEyMDc1NzpbWzk1Nl0sMjU2XSwxMjA3NTg6W1s5NTddLDI1Nl0sMTIwNzU5OltbOTU4XSwyNTZdLDEyMDc2MDpbWzk1OV0sMjU2XSwxMjA3NjE6W1s5NjBdLDI1Nl0sMTIwNzYyOltbOTYxXSwyNTZdLDEyMDc2MzpbWzk2Ml0sMjU2XSwxMjA3NjQ6W1s5NjNdLDI1Nl0sMTIwNzY1OltbOTY0XSwyNTZdLDEyMDc2NjpbWzk2NV0sMjU2XSwxMjA3Njc6W1s5NjZdLDI1Nl0sMTIwNzY4OltbOTY3XSwyNTZdLDEyMDc2OTpbWzk2OF0sMjU2XSwxMjA3NzA6W1s5NjldLDI1Nl0sMTIwNzcxOltbODcwNl0sMjU2XSwxMjA3NzI6W1sxMDEzXSwyNTZdLDEyMDc3MzpbWzk3N10sMjU2XSwxMjA3NzQ6W1sxMDA4XSwyNTZdLDEyMDc3NTpbWzk4MV0sMjU2XSwxMjA3NzY6W1sxMDA5XSwyNTZdLDEyMDc3NzpbWzk4Ml0sMjU2XSwxMjA3Nzg6W1s5ODhdLDI1Nl0sMTIwNzc5OltbOTg5XSwyNTZdLDEyMDc4MjpbWzQ4XSwyNTZdLDEyMDc4MzpbWzQ5XSwyNTZdLDEyMDc4NDpbWzUwXSwyNTZdLDEyMDc4NTpbWzUxXSwyNTZdLDEyMDc4NjpbWzUyXSwyNTZdLDEyMDc4NzpbWzUzXSwyNTZdLDEyMDc4ODpbWzU0XSwyNTZdLDEyMDc4OTpbWzU1XSwyNTZdLDEyMDc5MDpbWzU2XSwyNTZdLDEyMDc5MTpbWzU3XSwyNTZdLDEyMDc5MjpbWzQ4XSwyNTZdLDEyMDc5MzpbWzQ5XSwyNTZdLDEyMDc5NDpbWzUwXSwyNTZdLDEyMDc5NTpbWzUxXSwyNTZdLDEyMDc5NjpbWzUyXSwyNTZdLDEyMDc5NzpbWzUzXSwyNTZdLDEyMDc5ODpbWzU0XSwyNTZdLDEyMDc5OTpbWzU1XSwyNTZdLDEyMDgwMDpbWzU2XSwyNTZdLDEyMDgwMTpbWzU3XSwyNTZdLDEyMDgwMjpbWzQ4XSwyNTZdLDEyMDgwMzpbWzQ5XSwyNTZdLDEyMDgwNDpbWzUwXSwyNTZdLDEyMDgwNTpbWzUxXSwyNTZdLDEyMDgwNjpbWzUyXSwyNTZdLDEyMDgwNzpbWzUzXSwyNTZdLDEyMDgwODpbWzU0XSwyNTZdLDEyMDgwOTpbWzU1XSwyNTZdLDEyMDgxMDpbWzU2XSwyNTZdLDEyMDgxMTpbWzU3XSwyNTZdLDEyMDgxMjpbWzQ4XSwyNTZdLDEyMDgxMzpbWzQ5XSwyNTZdLDEyMDgxNDpbWzUwXSwyNTZdLDEyMDgxNTpbWzUxXSwyNTZdLDEyMDgxNjpbWzUyXSwyNTZdLDEyMDgxNzpbWzUzXSwyNTZdLDEyMDgxODpbWzU0XSwyNTZdLDEyMDgxOTpbWzU1XSwyNTZdLDEyMDgyMDpbWzU2XSwyNTZdLDEyMDgyMTpbWzU3XSwyNTZdLDEyMDgyMjpbWzQ4XSwyNTZdLDEyMDgyMzpbWzQ5XSwyNTZdLDEyMDgyNDpbWzUwXSwyNTZdLDEyMDgyNTpbWzUxXSwyNTZdLDEyMDgyNjpbWzUyXSwyNTZdLDEyMDgyNzpbWzUzXSwyNTZdLDEyMDgyODpbWzU0XSwyNTZdLDEyMDgyOTpbWzU1XSwyNTZdLDEyMDgzMDpbWzU2XSwyNTZdLDEyMDgzMTpbWzU3XSwyNTZdfSwKNTkzOTI6ezEyNTEzNjpbLDIyMF0sMTI1MTM3OlssMjIwXSwxMjUxMzg6WywyMjBdLDEyNTEzOTpbLDIyMF0sMTI1MTQwOlssMjIwXSwxMjUxNDE6WywyMjBdLDEyNTE0MjpbLDIyMF19LAo2MDkyODp7MTI2NDY0OltbMTU3NV0sMjU2XSwxMjY0NjU6W1sxNTc2XSwyNTZdLDEyNjQ2NjpbWzE1ODBdLDI1Nl0sMTI2NDY3OltbMTU4M10sMjU2XSwxMjY0Njk6W1sxNjA4XSwyNTZdLDEyNjQ3MDpbWzE1ODZdLDI1Nl0sMTI2NDcxOltbMTU4MV0sMjU2XSwxMjY0NzI6W1sxNTkxXSwyNTZdLDEyNjQ3MzpbWzE2MTBdLDI1Nl0sMTI2NDc0OltbMTYwM10sMjU2XSwxMjY0NzU6W1sxNjA0XSwyNTZdLDEyNjQ3NjpbWzE2MDVdLDI1Nl0sMTI2NDc3OltbMTYwNl0sMjU2XSwxMjY0Nzg6W1sxNTg3XSwyNTZdLDEyNjQ3OTpbWzE1OTNdLDI1Nl0sMTI2NDgwOltbMTYwMV0sMjU2XSwxMjY0ODE6W1sxNTg5XSwyNTZdLDEyNjQ4MjpbWzE2MDJdLDI1Nl0sMTI2NDgzOltbMTU4NV0sMjU2XSwxMjY0ODQ6W1sxNTg4XSwyNTZdLDEyNjQ4NTpbWzE1NzhdLDI1Nl0sMTI2NDg2OltbMTU3OV0sMjU2XSwxMjY0ODc6W1sxNTgyXSwyNTZdLDEyNjQ4ODpbWzE1ODRdLDI1Nl0sMTI2NDg5OltbMTU5MF0sMjU2XSwxMjY0OTA6W1sxNTkyXSwyNTZdLDEyNjQ5MTpbWzE1OTRdLDI1Nl0sMTI2NDkyOltbMTY0Nl0sMjU2XSwxMjY0OTM6W1sxNzIyXSwyNTZdLDEyNjQ5NDpbWzE2OTddLDI1Nl0sMTI2NDk1OltbMTY0N10sMjU2XSwxMjY0OTc6W1sxNTc2XSwyNTZdLDEyNjQ5ODpbWzE1ODBdLDI1Nl0sMTI2NTAwOltbMTYwN10sMjU2XSwxMjY1MDM6W1sxNTgxXSwyNTZdLDEyNjUwNTpbWzE2MTBdLDI1Nl0sMTI2NTA2OltbMTYwM10sMjU2XSwxMjY1MDc6W1sxNjA0XSwyNTZdLDEyNjUwODpbWzE2MDVdLDI1Nl0sMTI2NTA5OltbMTYwNl0sMjU2XSwxMjY1MTA6W1sxNTg3XSwyNTZdLDEyNjUxMTpbWzE1OTNdLDI1Nl0sMTI2NTEyOltbMTYwMV0sMjU2XSwxMjY1MTM6W1sxNTg5XSwyNTZdLDEyNjUxNDpbWzE2MDJdLDI1Nl0sMTI2NTE2OltbMTU4OF0sMjU2XSwxMjY1MTc6W1sxNTc4XSwyNTZdLDEyNjUxODpbWzE1NzldLDI1Nl0sMTI2NTE5OltbMTU4Ml0sMjU2XSwxMjY1MjE6W1sxNTkwXSwyNTZdLDEyNjUyMzpbWzE1OTRdLDI1Nl0sMTI2NTMwOltbMTU4MF0sMjU2XSwxMjY1MzU6W1sxNTgxXSwyNTZdLDEyNjUzNzpbWzE2MTBdLDI1Nl0sMTI2NTM5OltbMTYwNF0sMjU2XSwxMjY1NDE6W1sxNjA2XSwyNTZdLDEyNjU0MjpbWzE1ODddLDI1Nl0sMTI2NTQzOltbMTU5M10sMjU2XSwxMjY1NDU6W1sxNTg5XSwyNTZdLDEyNjU0NjpbWzE2MDJdLDI1Nl0sMTI2NTQ4OltbMTU4OF0sMjU2XSwxMjY1NTE6W1sxNTgyXSwyNTZdLDEyNjU1MzpbWzE1OTBdLDI1Nl0sMTI2NTU1OltbMTU5NF0sMjU2XSwxMjY1NTc6W1sxNzIyXSwyNTZdLDEyNjU1OTpbWzE2NDddLDI1Nl0sMTI2NTYxOltbMTU3Nl0sMjU2XSwxMjY1NjI6W1sxNTgwXSwyNTZdLDEyNjU2NDpbWzE2MDddLDI1Nl0sMTI2NTY3OltbMTU4MV0sMjU2XSwxMjY1Njg6W1sxNTkxXSwyNTZdLDEyNjU2OTpbWzE2MTBdLDI1Nl0sMTI2NTcwOltbMTYwM10sMjU2XSwxMjY1NzI6W1sxNjA1XSwyNTZdLDEyNjU3MzpbWzE2MDZdLDI1Nl0sMTI2NTc0OltbMTU4N10sMjU2XSwxMjY1NzU6W1sxNTkzXSwyNTZdLDEyNjU3NjpbWzE2MDFdLDI1Nl0sMTI2NTc3OltbMTU4OV0sMjU2XSwxMjY1Nzg6W1sxNjAyXSwyNTZdLDEyNjU4MDpbWzE1ODhdLDI1Nl0sMTI2NTgxOltbMTU3OF0sMjU2XSwxMjY1ODI6W1sxNTc5XSwyNTZdLDEyNjU4MzpbWzE1ODJdLDI1Nl0sMTI2NTg1OltbMTU5MF0sMjU2XSwxMjY1ODY6W1sxNTkyXSwyNTZdLDEyNjU4NzpbWzE1OTRdLDI1Nl0sMTI2NTg4OltbMTY0Nl0sMjU2XSwxMjY1OTA6W1sxNjk3XSwyNTZdLDEyNjU5MjpbWzE1NzVdLDI1Nl0sMTI2NTkzOltbMTU3Nl0sMjU2XSwxMjY1OTQ6W1sxNTgwXSwyNTZdLDEyNjU5NTpbWzE1ODNdLDI1Nl0sMTI2NTk2OltbMTYwN10sMjU2XSwxMjY1OTc6W1sxNjA4XSwyNTZdLDEyNjU5ODpbWzE1ODZdLDI1Nl0sMTI2NTk5OltbMTU4MV0sMjU2XSwxMjY2MDA6W1sxNTkxXSwyNTZdLDEyNjYwMTpbWzE2MTBdLDI1Nl0sMTI2NjAzOltbMTYwNF0sMjU2XSwxMjY2MDQ6W1sxNjA1XSwyNTZdLDEyNjYwNTpbWzE2MDZdLDI1Nl0sMTI2NjA2OltbMTU4N10sMjU2XSwxMjY2MDc6W1sxNTkzXSwyNTZdLDEyNjYwODpbWzE2MDFdLDI1Nl0sMTI2NjA5OltbMTU4OV0sMjU2XSwxMjY2MTA6W1sxNjAyXSwyNTZdLDEyNjYxMTpbWzE1ODVdLDI1Nl0sMTI2NjEyOltbMTU4OF0sMjU2XSwxMjY2MTM6W1sxNTc4XSwyNTZdLDEyNjYxNDpbWzE1NzldLDI1Nl0sMTI2NjE1OltbMTU4Ml0sMjU2XSwxMjY2MTY6W1sxNTg0XSwyNTZdLDEyNjYxNzpbWzE1OTBdLDI1Nl0sMTI2NjE4OltbMTU5Ml0sMjU2XSwxMjY2MTk6W1sxNTk0XSwyNTZdLDEyNjYyNTpbWzE1NzZdLDI1Nl0sMTI2NjI2OltbMTU4MF0sMjU2XSwxMjY2Mjc6W1sxNTgzXSwyNTZdLDEyNjYyOTpbWzE2MDhdLDI1Nl0sMTI2NjMwOltbMTU4Nl0sMjU2XSwxMjY2MzE6W1sxNTgxXSwyNTZdLDEyNjYzMjpbWzE1OTFdLDI1Nl0sMTI2NjMzOltbMTYxMF0sMjU2XSwxMjY2MzU6W1sxNjA0XSwyNTZdLDEyNjYzNjpbWzE2MDVdLDI1Nl0sMTI2NjM3OltbMTYwNl0sMjU2XSwxMjY2Mzg6W1sxNTg3XSwyNTZdLDEyNjYzOTpbWzE1OTNdLDI1Nl0sMTI2NjQwOltbMTYwMV0sMjU2XSwxMjY2NDE6W1sxNTg5XSwyNTZdLDEyNjY0MjpbWzE2MDJdLDI1Nl0sMTI2NjQzOltbMTU4NV0sMjU2XSwxMjY2NDQ6W1sxNTg4XSwyNTZdLDEyNjY0NTpbWzE1NzhdLDI1Nl0sMTI2NjQ2OltbMTU3OV0sMjU2XSwxMjY2NDc6W1sxNTgyXSwyNTZdLDEyNjY0ODpbWzE1ODRdLDI1Nl0sMTI2NjQ5OltbMTU5MF0sMjU2XSwxMjY2NTA6W1sxNTkyXSwyNTZdLDEyNjY1MTpbWzE1OTRdLDI1Nl19LAo2MTY5Njp7MTI3MjMyOltbNDgsNDZdLDI1Nl0sMTI3MjMzOltbNDgsNDRdLDI1Nl0sMTI3MjM0OltbNDksNDRdLDI1Nl0sMTI3MjM1OltbNTAsNDRdLDI1Nl0sMTI3MjM2OltbNTEsNDRdLDI1Nl0sMTI3MjM3OltbNTIsNDRdLDI1Nl0sMTI3MjM4OltbNTMsNDRdLDI1Nl0sMTI3MjM5OltbNTQsNDRdLDI1Nl0sMTI3MjQwOltbNTUsNDRdLDI1Nl0sMTI3MjQxOltbNTYsNDRdLDI1Nl0sMTI3MjQyOltbNTcsNDRdLDI1Nl0sMTI3MjQ4OltbNDAsNjUsNDFdLDI1Nl0sMTI3MjQ5OltbNDAsNjYsNDFdLDI1Nl0sMTI3MjUwOltbNDAsNjcsNDFdLDI1Nl0sMTI3MjUxOltbNDAsNjgsNDFdLDI1Nl0sMTI3MjUyOltbNDAsNjksNDFdLDI1Nl0sMTI3MjUzOltbNDAsNzAsNDFdLDI1Nl0sMTI3MjU0OltbNDAsNzEsNDFdLDI1Nl0sMTI3MjU1OltbNDAsNzIsNDFdLDI1Nl0sMTI3MjU2OltbNDAsNzMsNDFdLDI1Nl0sMTI3MjU3OltbNDAsNzQsNDFdLDI1Nl0sMTI3MjU4OltbNDAsNzUsNDFdLDI1Nl0sMTI3MjU5OltbNDAsNzYsNDFdLDI1Nl0sMTI3MjYwOltbNDAsNzcsNDFdLDI1Nl0sMTI3MjYxOltbNDAsNzgsNDFdLDI1Nl0sMTI3MjYyOltbNDAsNzksNDFdLDI1Nl0sMTI3MjYzOltbNDAsODAsNDFdLDI1Nl0sMTI3MjY0OltbNDAsODEsNDFdLDI1Nl0sMTI3MjY1OltbNDAsODIsNDFdLDI1Nl0sMTI3MjY2OltbNDAsODMsNDFdLDI1Nl0sMTI3MjY3OltbNDAsODQsNDFdLDI1Nl0sMTI3MjY4OltbNDAsODUsNDFdLDI1Nl0sMTI3MjY5OltbNDAsODYsNDFdLDI1Nl0sMTI3MjcwOltbNDAsODcsNDFdLDI1Nl0sMTI3MjcxOltbNDAsODgsNDFdLDI1Nl0sMTI3MjcyOltbNDAsODksNDFdLDI1Nl0sMTI3MjczOltbNDAsOTAsNDFdLDI1Nl0sMTI3Mjc0OltbMTIzMDgsODMsMTIzMDldLDI1Nl0sMTI3Mjc1OltbNjddLDI1Nl0sMTI3Mjc2OltbODJdLDI1Nl0sMTI3Mjc3OltbNjcsNjhdLDI1Nl0sMTI3Mjc4OltbODcsOTBdLDI1Nl0sMTI3MjgwOltbNjVdLDI1Nl0sMTI3MjgxOltbNjZdLDI1Nl0sMTI3MjgyOltbNjddLDI1Nl0sMTI3MjgzOltbNjhdLDI1Nl0sMTI3Mjg0OltbNjldLDI1Nl0sMTI3Mjg1OltbNzBdLDI1Nl0sMTI3Mjg2OltbNzFdLDI1Nl0sMTI3Mjg3OltbNzJdLDI1Nl0sMTI3Mjg4OltbNzNdLDI1Nl0sMTI3Mjg5OltbNzRdLDI1Nl0sMTI3MjkwOltbNzVdLDI1Nl0sMTI3MjkxOltbNzZdLDI1Nl0sMTI3MjkyOltbNzddLDI1Nl0sMTI3MjkzOltbNzhdLDI1Nl0sMTI3Mjk0OltbNzldLDI1Nl0sMTI3Mjk1OltbODBdLDI1Nl0sMTI3Mjk2OltbODFdLDI1Nl0sMTI3Mjk3OltbODJdLDI1Nl0sMTI3Mjk4OltbODNdLDI1Nl0sMTI3Mjk5OltbODRdLDI1Nl0sMTI3MzAwOltbODVdLDI1Nl0sMTI3MzAxOltbODZdLDI1Nl0sMTI3MzAyOltbODddLDI1Nl0sMTI3MzAzOltbODhdLDI1Nl0sMTI3MzA0OltbODldLDI1Nl0sMTI3MzA1OltbOTBdLDI1Nl0sMTI3MzA2OltbNzIsODZdLDI1Nl0sMTI3MzA3OltbNzcsODZdLDI1Nl0sMTI3MzA4OltbODMsNjhdLDI1Nl0sMTI3MzA5OltbODMsODNdLDI1Nl0sMTI3MzEwOltbODAsODAsODZdLDI1Nl0sMTI3MzExOltbODcsNjddLDI1Nl0sMTI3MzM4OltbNzcsNjddLDI1Nl0sMTI3MzM5OltbNzcsNjhdLDI1Nl0sMTI3Mzc2OltbNjgsNzRdLDI1Nl19LAo2MTk1Mjp7MTI3NDg4OltbMTI0MTEsMTIzNjNdLDI1Nl0sMTI3NDg5OltbMTI0NjcsMTI0NjddLDI1Nl0sMTI3NDkwOltbMTI0NjldLDI1Nl0sMTI3NTA0OltbMjUxNjNdLDI1Nl0sMTI3NTA1OltbMjMzODNdLDI1Nl0sMTI3NTA2OltbMjE0NTJdLDI1Nl0sMTI3NTA3OltbMTI0ODddLDI1Nl0sMTI3NTA4OltbMjAxMDhdLDI1Nl0sMTI3NTA5OltbMjI4MTBdLDI1Nl0sMTI3NTEwOltbMzUyOTldLDI1Nl0sMTI3NTExOltbMjI4MjVdLDI1Nl0sMTI3NTEyOltbMjAxMzJdLDI1Nl0sMTI3NTEzOltbMjYxNDRdLDI1Nl0sMTI3NTE0OltbMjg5NjFdLDI1Nl0sMTI3NTE1OltbMjYwMDldLDI1Nl0sMTI3NTE2OltbMjEwNjldLDI1Nl0sMTI3NTE3OltbMjQ0NjBdLDI1Nl0sMTI3NTE4OltbMjA4NzddLDI1Nl0sMTI3NTE5OltbMjYwMzJdLDI1Nl0sMTI3NTIwOltbMjEwMjFdLDI1Nl0sMTI3NTIxOltbMzIwNjZdLDI1Nl0sMTI3NTIyOltbMjk5ODNdLDI1Nl0sMTI3NTIzOltbMzYwMDldLDI1Nl0sMTI3NTI0OltbMjI3NjhdLDI1Nl0sMTI3NTI1OltbMjE1NjFdLDI1Nl0sMTI3NTI2OltbMjg0MzZdLDI1Nl0sMTI3NTI3OltbMjUyMzddLDI1Nl0sMTI3NTI4OltbMjU0MjldLDI1Nl0sMTI3NTI5OltbMTk5NjhdLDI1Nl0sMTI3NTMwOltbMTk5NzddLDI1Nl0sMTI3NTMxOltbMzY5MzhdLDI1Nl0sMTI3NTMyOltbMjQwMzhdLDI1Nl0sMTI3NTMzOltbMjAwMTNdLDI1Nl0sMTI3NTM0OltbMjE0OTFdLDI1Nl0sMTI3NTM1OltbMjUzNTFdLDI1Nl0sMTI3NTM2OltbMzYyMDhdLDI1Nl0sMTI3NTM3OltbMjUxNzFdLDI1Nl0sMTI3NTM4OltbMzExMDVdLDI1Nl0sMTI3NTM5OltbMzEzNTRdLDI1Nl0sMTI3NTQwOltbMjE1MTJdLDI1Nl0sMTI3NTQxOltbMjgyODhdLDI1Nl0sMTI3NTQyOltbMjYzNzddLDI1Nl0sMTI3NTQzOltbMjYzNzZdLDI1Nl0sMTI3NTQ0OltbMzAwMDNdLDI1Nl0sMTI3NTQ1OltbMjExMDZdLDI1Nl0sMTI3NTQ2OltbMjE5NDJdLDI1Nl0sMTI3NTUyOltbMTIzMDgsMjY0MTIsMTIzMDldLDI1Nl0sMTI3NTUzOltbMTIzMDgsMTk5NzcsMTIzMDldLDI1Nl0sMTI3NTU0OltbMTIzMDgsMjAxMDgsMTIzMDldLDI1Nl0sMTI3NTU1OltbMTIzMDgsMjM0MzMsMTIzMDldLDI1Nl0sMTI3NTU2OltbMTIzMDgsMjg4NTcsMTIzMDldLDI1Nl0sMTI3NTU3OltbMTIzMDgsMjUxNzEsMTIzMDldLDI1Nl0sMTI3NTU4OltbMTIzMDgsMzA0MjMsMTIzMDldLDI1Nl0sMTI3NTU5OltbMTIzMDgsMjEyMTMsMTIzMDldLDI1Nl0sMTI3NTYwOltbMTIzMDgsMjU5NDMsMTIzMDldLDI1Nl0sMTI3NTY4OltbMjQ0NzFdLDI1Nl0sMTI3NTY5OltbMjE0ODddLDI1Nl19LAo2MzQ4ODp7MTk0NTYwOltbMjAwMjldXSwxOTQ1NjE6W1syMDAyNF1dLDE5NDU2MjpbWzIwMDMzXV0sMTk0NTYzOltbMTMxMzYyXV0sMTk0NTY0OltbMjAzMjBdXSwxOTQ1NjU6W1syMDM5OF1dLDE5NDU2NjpbWzIwNDExXV0sMTk0NTY3OltbMjA0ODJdXSwxOTQ1Njg6W1syMDYwMl1dLDE5NDU2OTpbWzIwNjMzXV0sMTk0NTcwOltbMjA3MTFdXSwxOTQ1NzE6W1syMDY4N11dLDE5NDU3MjpbWzEzNDcwXV0sMTk0NTczOltbMTMyNjY2XV0sMTk0NTc0OltbMjA4MTNdXSwxOTQ1NzU6W1syMDgyMF1dLDE5NDU3NjpbWzIwODM2XV0sMTk0NTc3OltbMjA4NTVdXSwxOTQ1Nzg6W1sxMzIzODBdXSwxOTQ1Nzk6W1sxMzQ5N11dLDE5NDU4MDpbWzIwODM5XV0sMTk0NTgxOltbMjA4NzddXSwxOTQ1ODI6W1sxMzI0MjddXSwxOTQ1ODM6W1syMDg4N11dLDE5NDU4NDpbWzIwOTAwXV0sMTk0NTg1OltbMjAxNzJdXSwxOTQ1ODY6W1syMDkwOF1dLDE5NDU4NzpbWzIwOTE3XV0sMTk0NTg4OltbMTY4NDE1XV0sMTk0NTg5OltbMjA5ODFdXSwxOTQ1OTA6W1syMDk5NV1dLDE5NDU5MTpbWzEzNTM1XV0sMTk0NTkyOltbMjEwNTFdXSwxOTQ1OTM6W1syMTA2Ml1dLDE5NDU5NDpbWzIxMTA2XV0sMTk0NTk1OltbMjExMTFdXSwxOTQ1OTY6W1sxMzU4OV1dLDE5NDU5NzpbWzIxMTkxXV0sMTk0NTk4OltbMjExOTNdXSwxOTQ1OTk6W1syMTIyMF1dLDE5NDYwMDpbWzIxMjQyXV0sMTk0NjAxOltbMjEyNTNdXSwxOTQ2MDI6W1syMTI1NF1dLDE5NDYwMzpbWzIxMjcxXV0sMTk0NjA0OltbMjEzMjFdXSwxOTQ2MDU6W1syMTMyOV1dLDE5NDYwNjpbWzIxMzM4XV0sMTk0NjA3OltbMjEzNjNdXSwxOTQ2MDg6W1syMTM3M11dLDE5NDYwOTpbWzIxMzc1XV0sMTk0NjEwOltbMjEzNzVdXSwxOTQ2MTE6W1syMTM3NV1dLDE5NDYxMjpbWzEzMzY3Nl1dLDE5NDYxMzpbWzI4Nzg0XV0sMTk0NjE0OltbMjE0NTBdXSwxOTQ2MTU6W1syMTQ3MV1dLDE5NDYxNjpbWzEzMzk4N11dLDE5NDYxNzpbWzIxNDgzXV0sMTk0NjE4OltbMjE0ODldXSwxOTQ2MTk6W1syMTUxMF1dLDE5NDYyMDpbWzIxNjYyXV0sMTk0NjIxOltbMjE1NjBdXSwxOTQ2MjI6W1syMTU3Nl1dLDE5NDYyMzpbWzIxNjA4XV0sMTk0NjI0OltbMjE2NjZdXSwxOTQ2MjU6W1syMTc1MF1dLDE5NDYyNjpbWzIxNzc2XV0sMTk0NjI3OltbMjE4NDNdXSwxOTQ2Mjg6W1syMTg1OV1dLDE5NDYyOTpbWzIxODkyXV0sMTk0NjMwOltbMjE4OTJdXSwxOTQ2MzE6W1syMTkxM11dLDE5NDYzMjpbWzIxOTMxXV0sMTk0NjMzOltbMjE5MzldXSwxOTQ2MzQ6W1syMTk1NF1dLDE5NDYzNTpbWzIyMjk0XV0sMTk0NjM2OltbMjIwMjJdXSwxOTQ2Mzc6W1syMjI5NV1dLDE5NDYzODpbWzIyMDk3XV0sMTk0NjM5OltbMjIxMzJdXSwxOTQ2NDA6W1syMDk5OV1dLDE5NDY0MTpbWzIyNzY2XV0sMTk0NjQyOltbMjI0NzhdXSwxOTQ2NDM6W1syMjUxNl1dLDE5NDY0NDpbWzIyNTQxXV0sMTk0NjQ1OltbMjI0MTFdXSwxOTQ2NDY6W1syMjU3OF1dLDE5NDY0NzpbWzIyNTc3XV0sMTk0NjQ4OltbMjI3MDBdXSwxOTQ2NDk6W1sxMzY0MjBdXSwxOTQ2NTA6W1syMjc3MF1dLDE5NDY1MTpbWzIyNzc1XV0sMTk0NjUyOltbMjI3OTBdXSwxOTQ2NTM6W1syMjgxMF1dLDE5NDY1NDpbWzIyODE4XV0sMTk0NjU1OltbMjI4ODJdXSwxOTQ2NTY6W1sxMzY4NzJdXSwxOTQ2NTc6W1sxMzY5MzhdXSwxOTQ2NTg6W1syMzAyMF1dLDE5NDY1OTpbWzIzMDY3XV0sMTk0NjYwOltbMjMwNzldXSwxOTQ2NjE6W1syMzAwMF1dLDE5NDY2MjpbWzIzMTQyXV0sMTk0NjYzOltbMTQwNjJdXSwxOTQ2NjQ6W1sxNDA3Nl1dLDE5NDY2NTpbWzIzMzA0XV0sMTk0NjY2OltbMjMzNThdXSwxOTQ2Njc6W1syMzM1OF1dLDE5NDY2ODpbWzEzNzY3Ml1dLDE5NDY2OTpbWzIzNDkxXV0sMTk0NjcwOltbMjM1MTJdXSwxOTQ2NzE6W1syMzUyN11dLDE5NDY3MjpbWzIzNTM5XV0sMTk0NjczOltbMTM4MDA4XV0sMTk0Njc0OltbMjM1NTFdXSwxOTQ2NzU6W1syMzU1OF1dLDE5NDY3NjpbWzI0NDAzXV0sMTk0Njc3OltbMjM1ODZdXSwxOTQ2Nzg6W1sxNDIwOV1dLDE5NDY3OTpbWzIzNjQ4XV0sMTk0NjgwOltbMjM2NjJdXSwxOTQ2ODE6W1syMzc0NF1dLDE5NDY4MjpbWzIzNjkzXV0sMTk0NjgzOltbMTM4NzI0XV0sMTk0Njg0OltbMjM4NzVdXSwxOTQ2ODU6W1sxMzg3MjZdXSwxOTQ2ODY6W1syMzkxOF1dLDE5NDY4NzpbWzIzOTE1XV0sMTk0Njg4OltbMjM5MzJdXSwxOTQ2ODk6W1syNDAzM11dLDE5NDY5MDpbWzI0MDM0XV0sMTk0NjkxOltbMTQzODNdXSwxOTQ2OTI6W1syNDA2MV1dLDE5NDY5MzpbWzI0MTA0XV0sMTk0Njk0OltbMjQxMjVdXSwxOTQ2OTU6W1syNDE2OV1dLDE5NDY5NjpbWzE0NDM0XV0sMTk0Njk3OltbMTM5NjUxXV0sMTk0Njk4OltbMTQ0NjBdXSwxOTQ2OTk6W1syNDI0MF1dLDE5NDcwMDpbWzI0MjQzXV0sMTk0NzAxOltbMjQyNDZdXSwxOTQ3MDI6W1syNDI2Nl1dLDE5NDcwMzpbWzE3Mjk0Nl1dLDE5NDcwNDpbWzI0MzE4XV0sMTk0NzA1OltbMTQwMDgxXV0sMTk0NzA2OltbMTQwMDgxXV0sMTk0NzA3OltbMzMyODFdXSwxOTQ3MDg6W1syNDM1NF1dLDE5NDcwOTpbWzI0MzU0XV0sMTk0NzEwOltbMTQ1MzVdXSwxOTQ3MTE6W1sxNDQwNTZdXSwxOTQ3MTI6W1sxNTYxMjJdXSwxOTQ3MTM6W1syNDQxOF1dLDE5NDcxNDpbWzI0NDI3XV0sMTk0NzE1OltbMTQ1NjNdXSwxOTQ3MTY6W1syNDQ3NF1dLDE5NDcxNzpbWzI0NTI1XV0sMTk0NzE4OltbMjQ1MzVdXSwxOTQ3MTk6W1syNDU2OV1dLDE5NDcyMDpbWzI0NzA1XV0sMTk0NzIxOltbMTQ2NTBdXSwxOTQ3MjI6W1sxNDYyMF1dLDE5NDcyMzpbWzI0NzI0XV0sMTk0NzI0OltbMTQxMDEyXV0sMTk0NzI1OltbMjQ3NzVdXSwxOTQ3MjY6W1syNDkwNF1dLDE5NDcyNzpbWzI0OTA4XV0sMTk0NzI4OltbMjQ5MTBdXSwxOTQ3Mjk6W1syNDkwOF1dLDE5NDczMDpbWzI0OTU0XV0sMTk0NzMxOltbMjQ5NzRdXSwxOTQ3MzI6W1syNTAxMF1dLDE5NDczMzpbWzI0OTk2XV0sMTk0NzM0OltbMjUwMDddXSwxOTQ3MzU6W1syNTA1NF1dLDE5NDczNjpbWzI1MDc0XV0sMTk0NzM3OltbMjUwNzhdXSwxOTQ3Mzg6W1syNTEwNF1dLDE5NDczOTpbWzI1MTE1XV0sMTk0NzQwOltbMjUxODFdXSwxOTQ3NDE6W1syNTI2NV1dLDE5NDc0MjpbWzI1MzAwXV0sMTk0NzQzOltbMjU0MjRdXSwxOTQ3NDQ6W1sxNDIwOTJdXSwxOTQ3NDU6W1syNTQwNV1dLDE5NDc0NjpbWzI1MzQwXV0sMTk0NzQ3OltbMjU0NDhdXSwxOTQ3NDg6W1syNTQ3NV1dLDE5NDc0OTpbWzI1NTcyXV0sMTk0NzUwOltbMTQyMzIxXV0sMTk0NzUxOltbMjU2MzRdXSwxOTQ3NTI6W1syNTU0MV1dLDE5NDc1MzpbWzI1NTEzXV0sMTk0NzU0OltbMTQ4OTRdXSwxOTQ3NTU6W1syNTcwNV1dLDE5NDc1NjpbWzI1NzI2XV0sMTk0NzU3OltbMjU3NTddXSwxOTQ3NTg6W1syNTcxOV1dLDE5NDc1OTpbWzE0OTU2XV0sMTk0NzYwOltbMjU5MzVdXSwxOTQ3NjE6W1syNTk2NF1dLDE5NDc2MjpbWzE0MzM3MF1dLDE5NDc2MzpbWzI2MDgzXV0sMTk0NzY0OltbMjYzNjBdXSwxOTQ3NjU6W1syNjE4NV1dLDE5NDc2NjpbWzE1MTI5XV0sMTk0NzY3OltbMjYyNTddXSwxOTQ3Njg6W1sxNTExMl1dLDE5NDc2OTpbWzE1MDc2XV0sMTk0NzcwOltbMjA4ODJdXSwxOTQ3NzE6W1syMDg4NV1dLDE5NDc3MjpbWzI2MzY4XV0sMTk0NzczOltbMjYyNjhdXSwxOTQ3NzQ6W1szMjk0MV1dLDE5NDc3NTpbWzE3MzY5XV0sMTk0Nzc2OltbMjYzOTFdXSwxOTQ3Nzc6W1syNjM5NV1dLDE5NDc3ODpbWzI2NDAxXV0sMTk0Nzc5OltbMjY0NjJdXSwxOTQ3ODA6W1syNjQ1MV1dLDE5NDc4MTpbWzE0NDMyM11dLDE5NDc4MjpbWzE1MTc3XV0sMTk0NzgzOltbMjY2MThdXSwxOTQ3ODQ6W1syNjUwMV1dLDE5NDc4NTpbWzI2NzA2XV0sMTk0Nzg2OltbMjY3NTddXSwxOTQ3ODc6W1sxNDQ0OTNdXSwxOTQ3ODg6W1syNjc2Nl1dLDE5NDc4OTpbWzI2NjU1XV0sMTk0NzkwOltbMjY5MDBdXSwxOTQ3OTE6W1sxNTI2MV1dLDE5NDc5MjpbWzI2OTQ2XV0sMTk0NzkzOltbMjcwNDNdXSwxOTQ3OTQ6W1syNzExNF1dLDE5NDc5NTpbWzI3MzA0XV0sMTk0Nzk2OltbMTQ1MDU5XV0sMTk0Nzk3OltbMjczNTVdXSwxOTQ3OTg6W1sxNTM4NF1dLDE5NDc5OTpbWzI3NDI1XV0sMTk0ODAwOltbMTQ1NTc1XV0sMTk0ODAxOltbMjc0NzZdXSwxOTQ4MDI6W1sxNTQzOF1dLDE5NDgwMzpbWzI3NTA2XV0sMTk0ODA0OltbMjc1NTFdXSwxOTQ4MDU6W1syNzU3OF1dLDE5NDgwNjpbWzI3NTc5XV0sMTk0ODA3OltbMTQ2MDYxXV0sMTk0ODA4OltbMTM4NTA3XV0sMTk0ODA5OltbMTQ2MTcwXV0sMTk0ODEwOltbMjc3MjZdXSwxOTQ4MTE6W1sxNDY2MjBdXSwxOTQ4MTI6W1syNzgzOV1dLDE5NDgxMzpbWzI3ODUzXV0sMTk0ODE0OltbMjc3NTFdXSwxOTQ4MTU6W1syNzkyNl1dfSwKNjM3NDQ6ezYzNzQ0OltbMzU5MTJdXSw2Mzc0NTpbWzI2MzU2XV0sNjM3NDY6W1szNjU1NF1dLDYzNzQ3OltbMzYwNDBdXSw2Mzc0ODpbWzI4MzY5XV0sNjM3NDk6W1syMDAxOF1dLDYzNzUwOltbMjE0NzddXSw2Mzc1MTpbWzQwODYwXV0sNjM3NTI6W1s0MDg2MF1dLDYzNzUzOltbMjI4NjVdXSw2Mzc1NDpbWzM3MzI5XV0sNjM3NTU6W1syMTg5NV1dLDYzNzU2OltbMjI4NTZdXSw2Mzc1NzpbWzI1MDc4XV0sNjM3NTg6W1szMDMxM11dLDYzNzU5OltbMzI2NDVdXSw2Mzc2MDpbWzM0MzY3XV0sNjM3NjE6W1szNDc0Nl1dLDYzNzYyOltbMzUwNjRdXSw2Mzc2MzpbWzM3MDA3XV0sNjM3NjQ6W1syNzEzOF1dLDYzNzY1OltbMjc5MzFdXSw2Mzc2NjpbWzI4ODg5XV0sNjM3Njc6W1syOTY2Ml1dLDYzNzY4OltbMzM4NTNdXSw2Mzc2OTpbWzM3MjI2XV0sNjM3NzA6W1szOTQwOV1dLDYzNzcxOltbMjAwOThdXSw2Mzc3MjpbWzIxMzY1XV0sNjM3NzM6W1syNzM5Nl1dLDYzNzc0OltbMjkyMTFdXSw2Mzc3NTpbWzM0MzQ5XV0sNjM3NzY6W1s0MDQ3OF1dLDYzNzc3OltbMjM4ODhdXSw2Mzc3ODpbWzI4NjUxXV0sNjM3Nzk6W1szNDI1M11dLDYzNzgwOltbMzUxNzJdXSw2Mzc4MTpbWzI1Mjg5XV0sNjM3ODI6W1szMzI0MF1dLDYzNzgzOltbMzQ4NDddXSw2Mzc4NDpbWzI0MjY2XV0sNjM3ODU6W1syNjM5MV1dLDYzNzg2OltbMjgwMTBdXSw2Mzc4NzpbWzI5NDM2XV0sNjM3ODg6W1szNzA3MF1dLDYzNzg5OltbMjAzNThdXSw2Mzc5MDpbWzIwOTE5XV0sNjM3OTE6W1syMTIxNF1dLDYzNzkyOltbMjU3OTZdXSw2Mzc5MzpbWzI3MzQ3XV0sNjM3OTQ6W1syOTIwMF1dLDYzNzk1OltbMzA0MzldXSw2Mzc5NjpbWzMyNzY5XV0sNjM3OTc6W1szNDMxMF1dLDYzNzk4OltbMzQzOTZdXSw2Mzc5OTpbWzM2MzM1XV0sNjM4MDA6W1szODcwNl1dLDYzODAxOltbMzk3OTFdXSw2MzgwMjpbWzQwNDQyXV0sNjM4MDM6W1szMDg2MF1dLDYzODA0OltbMzExMDNdXSw2MzgwNTpbWzMyMTYwXV0sNjM4MDY6W1szMzczN11dLDYzODA3OltbMzc2MzZdXSw2MzgwODpbWzQwNTc1XV0sNjM4MDk6W1szNTU0Ml1dLDYzODEwOltbMjI3NTFdXSw2MzgxMTpbWzI0MzI0XV0sNjM4MTI6W1szMTg0MF1dLDYzODEzOltbMzI4OTRdXSw2MzgxNDpbWzI5MjgyXV0sNjM4MTU6W1szMDkyMl1dLDYzODE2OltbMzYwMzRdXSw2MzgxNzpbWzM4NjQ3XV0sNjM4MTg6W1syMjc0NF1dLDYzODE5OltbMjM2NTBdXSw2MzgyMDpbWzI3MTU1XV0sNjM4MjE6W1syODEyMl1dLDYzODIyOltbMjg0MzFdXSw2MzgyMzpbWzMyMDQ3XV0sNjM4MjQ6W1szMjMxMV1dLDYzODI1OltbMzg0NzVdXSw2MzgyNjpbWzIxMjAyXV0sNjM4Mjc6W1szMjkwN11dLDYzODI4OltbMjA5NTZdXSw2MzgyOTpbWzIwOTQwXV0sNjM4MzA6W1szMTI2MF1dLDYzODMxOltbMzIxOTBdXSw2MzgzMjpbWzMzNzc3XV0sNjM4MzM6W1szODUxN11dLDYzODM0OltbMzU3MTJdXSw2MzgzNTpbWzI1Mjk1XV0sNjM4MzY6W1syNzEzOF1dLDYzODM3OltbMzU1ODJdXSw2MzgzODpbWzIwMDI1XV0sNjM4Mzk6W1syMzUyN11dLDYzODQwOltbMjQ1OTRdXSw2Mzg0MTpbWzI5NTc1XV0sNjM4NDI6W1szMDA2NF1dLDYzODQzOltbMjEyNzFdXSw2Mzg0NDpbWzMwOTcxXV0sNjM4NDU6W1syMDQxNV1dLDYzODQ2OltbMjQ0ODldXSw2Mzg0NzpbWzE5OTgxXV0sNjM4NDg6W1syNzg1Ml1dLDYzODQ5OltbMjU5NzZdXSw2Mzg1MDpbWzMyMDM0XV0sNjM4NTE6W1syMTQ0M11dLDYzODUyOltbMjI2MjJdXSw2Mzg1MzpbWzMwNDY1XV0sNjM4NTQ6W1szMzg2NV1dLDYzODU1OltbMzU0OThdXSw2Mzg1NjpbWzI3NTc4XV0sNjM4NTc6W1szNjc4NF1dLDYzODU4OltbMjc3ODRdXSw2Mzg1OTpbWzI1MzQyXV0sNjM4NjA6W1szMzUwOV1dLDYzODYxOltbMjU1MDRdXSw2Mzg2MjpbWzMwMDUzXV0sNjM4NjM6W1syMDE0Ml1dLDYzODY0OltbMjA4NDFdXSw2Mzg2NTpbWzIwOTM3XV0sNjM4NjY6W1syNjc1M11dLDYzODY3OltbMzE5NzVdXSw2Mzg2ODpbWzMzMzkxXV0sNjM4Njk6W1szNTUzOF1dLDYzODcwOltbMzczMjddXSw2Mzg3MTpbWzIxMjM3XV0sNjM4NzI6W1syMTU3MF1dLDYzODczOltbMjI4OTldXSw2Mzg3NDpbWzI0MzAwXV0sNjM4NzU6W1syNjA1M11dLDYzODc2OltbMjg2NzBdXSw2Mzg3NzpbWzMxMDE4XV0sNjM4Nzg6W1szODMxN11dLDYzODc5OltbMzk1MzBdXSw2Mzg4MDpbWzQwNTk5XV0sNjM4ODE6W1s0MDY1NF1dLDYzODgyOltbMjExNDddXSw2Mzg4MzpbWzI2MzEwXV0sNjM4ODQ6W1syNzUxMV1dLDYzODg1OltbMzY3MDZdXSw2Mzg4NjpbWzI0MTgwXV0sNjM4ODc6W1syNDk3Nl1dLDYzODg4OltbMjUwODhdXSw2Mzg4OTpbWzI1NzU0XV0sNjM4OTA6W1syODQ1MV1dLDYzODkxOltbMjkwMDFdXSw2Mzg5MjpbWzI5ODMzXV0sNjM4OTM6W1szMTE3OF1dLDYzODk0OltbMzIyNDRdXSw2Mzg5NTpbWzMyODc5XV0sNjM4OTY6W1szNjY0Nl1dLDYzODk3OltbMzQwMzBdXSw2Mzg5ODpbWzM2ODk5XV0sNjM4OTk6W1szNzcwNl1dLDYzOTAwOltbMjEwMTVdXSw2MzkwMTpbWzIxMTU1XV0sNjM5MDI6W1syMTY5M11dLDYzOTAzOltbMjg4NzJdXSw2MzkwNDpbWzM1MDEwXV0sNjM5MDU6W1szNTQ5OF1dLDYzOTA2OltbMjQyNjVdXSw2MzkwNzpbWzI0NTY1XV0sNjM5MDg6W1syNTQ2N11dLDYzOTA5OltbMjc1NjZdXSw2MzkxMDpbWzMxODA2XV0sNjM5MTE6W1syOTU1N11dLDYzOTEyOltbMjAxOTZdXSw2MzkxMzpbWzIyMjY1XV0sNjM5MTQ6W1syMzUyN11dLDYzOTE1OltbMjM5OTRdXSw2MzkxNjpbWzI0NjA0XV0sNjM5MTc6W1syOTYxOF1dLDYzOTE4OltbMjk4MDFdXSw2MzkxOTpbWzMyNjY2XV0sNjM5MjA6W1szMjgzOF1dLDYzOTIxOltbMzc0MjhdXSw2MzkyMjpbWzM4NjQ2XV0sNjM5MjM6W1szODcyOF1dLDYzOTI0OltbMzg5MzZdXSw2MzkyNTpbWzIwMzYzXV0sNjM5MjY6W1szMTE1MF1dLDYzOTI3OltbMzczMDBdXSw2MzkyODpbWzM4NTg0XV0sNjM5Mjk6W1syNDgwMV1dLDYzOTMwOltbMjAxMDJdXSw2MzkzMTpbWzIwNjk4XV0sNjM5MzI6W1syMzUzNF1dLDYzOTMzOltbMjM2MTVdXSw2MzkzNDpbWzI2MDA5XV0sNjM5MzU6W1syNzEzOF1dLDYzOTM2OltbMjkxMzRdXSw2MzkzNzpbWzMwMjc0XV0sNjM5Mzg6W1szNDA0NF1dLDYzOTM5OltbMzY5ODhdXSw2Mzk0MDpbWzQwODQ1XV0sNjM5NDE6W1syNjI0OF1dLDYzOTQyOltbMzg0NDZdXSw2Mzk0MzpbWzIxMTI5XV0sNjM5NDQ6W1syNjQ5MV1dLDYzOTQ1OltbMjY2MTFdXSw2Mzk0NjpbWzI3OTY5XV0sNjM5NDc6W1syODMxNl1dLDYzOTQ4OltbMjk3MDVdXSw2Mzk0OTpbWzMwMDQxXV0sNjM5NTA6W1szMDgyN11dLDYzOTUxOltbMzIwMTZdXSw2Mzk1MjpbWzM5MDA2XV0sNjM5NTM6W1syMDg0NV1dLDYzOTU0OltbMjUxMzRdXSw2Mzk1NTpbWzM4NTIwXV0sNjM5NTY6W1syMDUyM11dLDYzOTU3OltbMjM4MzNdXSw2Mzk1ODpbWzI4MTM4XV0sNjM5NTk6W1szNjY1MF1dLDYzOTYwOltbMjQ0NTldXSw2Mzk2MTpbWzI0OTAwXV0sNjM5NjI6W1syNjY0N11dLDYzOTYzOltbMjk1NzVdXSw2Mzk2NDpbWzM4NTM0XV0sNjM5NjU6W1syMTAzM11dLDYzOTY2OltbMjE1MTldXSw2Mzk2NzpbWzIzNjUzXV0sNjM5Njg6W1syNjEzMV1dLDYzOTY5OltbMjY0NDZdXSw2Mzk3MDpbWzI2NzkyXV0sNjM5NzE6W1syNzg3N11dLDYzOTcyOltbMjk3MDJdXSw2Mzk3MzpbWzMwMTc4XV0sNjM5NzQ6W1szMjYzM11dLDYzOTc1OltbMzUwMjNdXSw2Mzk3NjpbWzM1MDQxXV0sNjM5Nzc6W1szNzMyNF1dLDYzOTc4OltbMzg2MjZdXSw2Mzk3OTpbWzIxMzExXV0sNjM5ODA6W1syODM0Nl1dLDYzOTgxOltbMjE1MzNdXSw2Mzk4MjpbWzI5MTM2XV0sNjM5ODM6W1syOTg0OF1dLDYzOTg0OltbMzQyOThdXSw2Mzk4NTpbWzM4NTYzXV0sNjM5ODY6W1s0MDAyM11dLDYzOTg3OltbNDA2MDddXSw2Mzk4ODpbWzI2NTE5XV0sNjM5ODk6W1syODEwN11dLDYzOTkwOltbMzMyNTZdXSw2Mzk5MTpbWzMxNDM1XV0sNjM5OTI6W1szMTUyMF1dLDYzOTkzOltbMzE4OTBdXSw2Mzk5NDpbWzI5Mzc2XV0sNjM5OTU6W1syODgyNV1dLDYzOTk2OltbMzU2NzJdXSw2Mzk5NzpbWzIwMTYwXV0sNjM5OTg6W1szMzU5MF1dLDYzOTk5OltbMjEwNTBdXSwxOTQ4MTY6W1syNzk2Nl1dLDE5NDgxNzpbWzI4MDIzXV0sMTk0ODE4OltbMjc5NjldXSwxOTQ4MTk6W1syODAwOV1dLDE5NDgyMDpbWzI4MDI0XV0sMTk0ODIxOltbMjgwMzddXSwxOTQ4MjI6W1sxNDY3MThdXSwxOTQ4MjM6W1syNzk1Nl1dLDE5NDgyNDpbWzI4MjA3XV0sMTk0ODI1OltbMjgyNzBdXSwxOTQ4MjY6W1sxNTY2N11dLDE5NDgyNzpbWzI4MzYzXV0sMTk0ODI4OltbMjgzNTldXSwxOTQ4Mjk6W1sxNDcxNTNdXSwxOTQ4MzA6W1syODE1M11dLDE5NDgzMTpbWzI4NTI2XV0sMTk0ODMyOltbMTQ3Mjk0XV0sMTk0ODMzOltbMTQ3MzQyXV0sMTk0ODM0OltbMjg2MTRdXSwxOTQ4MzU6W1syODcyOV1dLDE5NDgzNjpbWzI4NzAyXV0sMTk0ODM3OltbMjg2OTldXSwxOTQ4Mzg6W1sxNTc2Nl1dLDE5NDgzOTpbWzI4NzQ2XV0sMTk0ODQwOltbMjg3OTddXSwxOTQ4NDE6W1syODc5MV1dLDE5NDg0MjpbWzI4ODQ1XV0sMTk0ODQzOltbMTMyMzg5XV0sMTk0ODQ0OltbMjg5OTddXSwxOTQ4NDU6W1sxNDgwNjddXSwxOTQ4NDY6W1syOTA4NF1dLDE5NDg0NzpbWzE0ODM5NV1dLDE5NDg0ODpbWzI5MjI0XV0sMTk0ODQ5OltbMjkyMzddXSwxOTQ4NTA6W1syOTI2NF1dLDE5NDg1MTpbWzE0OTAwMF1dLDE5NDg1MjpbWzI5MzEyXV0sMTk0ODUzOltbMjkzMzNdXSwxOTQ4NTQ6W1sxNDkzMDFdXSwxOTQ4NTU6W1sxNDk1MjRdXSwxOTQ4NTY6W1syOTU2Ml1dLDE5NDg1NzpbWzI5NTc5XV0sMTk0ODU4OltbMTYwNDRdXSwxOTQ4NTk6W1syOTYwNV1dLDE5NDg2MDpbWzE2MDU2XV0sMTk0ODYxOltbMTYwNTZdXSwxOTQ4NjI6W1syOTc2N11dLDE5NDg2MzpbWzI5Nzg4XV0sMTk0ODY0OltbMjk4MDldXSwxOTQ4NjU6W1syOTgyOV1dLDE5NDg2NjpbWzI5ODk4XV0sMTk0ODY3OltbMTYxNTVdXSwxOTQ4Njg6W1syOTk4OF1dLDE5NDg2OTpbWzE1MDU4Ml1dLDE5NDg3MDpbWzMwMDE0XV0sMTk0ODcxOltbMTUwNjc0XV0sMTk0ODcyOltbMzAwNjRdXSwxOTQ4NzM6W1sxMzk2NzldXSwxOTQ4NzQ6W1szMDIyNF1dLDE5NDg3NTpbWzE1MTQ1N11dLDE5NDg3NjpbWzE1MTQ4MF1dLDE5NDg3NzpbWzE1MTYyMF1dLDE5NDg3ODpbWzE2MzgwXV0sMTk0ODc5OltbMTYzOTJdXSwxOTQ4ODA6W1szMDQ1Ml1dLDE5NDg4MTpbWzE1MTc5NV1dLDE5NDg4MjpbWzE1MTc5NF1dLDE5NDg4MzpbWzE1MTgzM11dLDE5NDg4NDpbWzE1MTg1OV1dLDE5NDg4NTpbWzMwNDk0XV0sMTk0ODg2OltbMzA0OTVdXSwxOTQ4ODc6W1szMDQ5NV1dLDE5NDg4ODpbWzMwNTM4XV0sMTk0ODg5OltbMTY0NDFdXSwxOTQ4OTA6W1szMDYwM11dLDE5NDg5MTpbWzE2NDU0XV0sMTk0ODkyOltbMTY1MzRdXSwxOTQ4OTM6W1sxNTI2MDVdXSwxOTQ4OTQ6W1szMDc5OF1dLDE5NDg5NTpbWzMwODYwXV0sMTk0ODk2OltbMzA5MjRdXSwxOTQ4OTc6W1sxNjYxMV1dLDE5NDg5ODpbWzE1MzEyNl1dLDE5NDg5OTpbWzMxMDYyXV0sMTk0OTAwOltbMTUzMjQyXV0sMTk0OTAxOltbMTUzMjg1XV0sMTk0OTAyOltbMzExMTldXSwxOTQ5MDM6W1szMTIxMV1dLDE5NDkwNDpbWzE2Njg3XV0sMTk0OTA1OltbMzEyOTZdXSwxOTQ5MDY6W1szMTMwNl1dLDE5NDkwNzpbWzMxMzExXV0sMTk0OTA4OltbMTUzOTgwXV0sMTk0OTA5OltbMTU0Mjc5XV0sMTk0OTEwOltbMTU0Mjc5XV0sMTk0OTExOltbMzE0NzBdXSwxOTQ5MTI6W1sxNjg5OF1dLDE5NDkxMzpbWzE1NDUzOV1dLDE5NDkxNDpbWzMxNjg2XV0sMTk0OTE1OltbMzE2ODldXSwxOTQ5MTY6W1sxNjkzNV1dLDE5NDkxNzpbWzE1NDc1Ml1dLDE5NDkxODpbWzMxOTU0XV0sMTk0OTE5OltbMTcwNTZdXSwxOTQ5MjA6W1szMTk3Nl1dLDE5NDkyMTpbWzMxOTcxXV0sMTk0OTIyOltbMzIwMDBdXSwxOTQ5MjM6W1sxNTU1MjZdXSwxOTQ5MjQ6W1szMjA5OV1dLDE5NDkyNTpbWzE3MTUzXV0sMTk0OTI2OltbMzIxOTldXSwxOTQ5Mjc6W1szMjI1OF1dLDE5NDkyODpbWzMyMzI1XV0sMTk0OTI5OltbMTcyMDRdXSwxOTQ5MzA6W1sxNTYyMDBdXSwxOTQ5MzE6W1sxNTYyMzFdXSwxOTQ5MzI6W1sxNzI0MV1dLDE5NDkzMzpbWzE1NjM3N11dLDE5NDkzNDpbWzMyNjM0XV0sMTk0OTM1OltbMTU2NDc4XV0sMTk0OTM2OltbMzI2NjFdXSwxOTQ5Mzc6W1szMjc2Ml1dLDE5NDkzODpbWzMyNzczXV0sMTk0OTM5OltbMTU2ODkwXV0sMTk0OTQwOltbMTU2OTYzXV0sMTk0OTQxOltbMzI4NjRdXSwxOTQ5NDI6W1sxNTcwOTZdXSwxOTQ5NDM6W1szMjg4MF1dLDE5NDk0NDpbWzE0NDIyM11dLDE5NDk0NTpbWzE3MzY1XV0sMTk0OTQ2OltbMzI5NDZdXSwxOTQ5NDc6W1szMzAyN11dLDE5NDk0ODpbWzE3NDE5XV0sMTk0OTQ5OltbMzMwODZdXSwxOTQ5NTA6W1syMzIyMV1dLDE5NDk1MTpbWzE1NzYwN11dLDE5NDk1MjpbWzE1NzYyMV1dLDE5NDk1MzpbWzE0NDI3NV1dLDE5NDk1NDpbWzE0NDI4NF1dLDE5NDk1NTpbWzMzMjgxXV0sMTk0OTU2OltbMzMyODRdXSwxOTQ5NTc6W1szNjc2Nl1dLDE5NDk1ODpbWzE3NTE1XV0sMTk0OTU5OltbMzM0MjVdXSwxOTQ5NjA6W1szMzQxOV1dLDE5NDk2MTpbWzMzNDM3XV0sMTk0OTYyOltbMjExNzFdXSwxOTQ5NjM6W1szMzQ1N11dLDE5NDk2NDpbWzMzNDU5XV0sMTk0OTY1OltbMzM0NjldXSwxOTQ5NjY6W1szMzUxMF1dLDE5NDk2NzpbWzE1ODUyNF1dLDE5NDk2ODpbWzMzNTA5XV0sMTk0OTY5OltbMzM1NjVdXSwxOTQ5NzA6W1szMzYzNV1dLDE5NDk3MTpbWzMzNzA5XV0sMTk0OTcyOltbMzM1NzFdXSwxOTQ5NzM6W1szMzcyNV1dLDE5NDk3NDpbWzMzNzY3XV0sMTk0OTc1OltbMzM4NzldXSwxOTQ5NzY6W1szMzYxOV1dLDE5NDk3NzpbWzMzNzM4XV0sMTk0OTc4OltbMzM3NDBdXSwxOTQ5Nzk6W1szMzc1Nl1dLDE5NDk4MDpbWzE1ODc3NF1dLDE5NDk4MTpbWzE1OTA4M11dLDE5NDk4MjpbWzE1ODkzM11dLDE5NDk4MzpbWzE3NzA3XV0sMTk0OTg0OltbMzQwMzNdXSwxOTQ5ODU6W1szNDAzNV1dLDE5NDk4NjpbWzM0MDcwXV0sMTk0OTg3OltbMTYwNzE0XV0sMTk0OTg4OltbMzQxNDhdXSwxOTQ5ODk6W1sxNTk1MzJdXSwxOTQ5OTA6W1sxNzc1N11dLDE5NDk5MTpbWzE3NzYxXV0sMTk0OTkyOltbMTU5NjY1XV0sMTk0OTkzOltbMTU5OTU0XV0sMTk0OTk0OltbMTc3NzFdXSwxOTQ5OTU6W1szNDM4NF1dLDE5NDk5NjpbWzM0Mzk2XV0sMTk0OTk3OltbMzQ0MDddXSwxOTQ5OTg6W1szNDQwOV1dLDE5NDk5OTpbWzM0NDczXV0sMTk1MDAwOltbMzQ0NDBdXSwxOTUwMDE6W1szNDU3NF1dLDE5NTAwMjpbWzM0NTMwXV0sMTk1MDAzOltbMzQ2ODFdXSwxOTUwMDQ6W1szNDYwMF1dLDE5NTAwNTpbWzM0NjY3XV0sMTk1MDA2OltbMzQ2OTRdXSwxOTUwMDc6W1sxNzg3OV1dLDE5NTAwODpbWzM0Nzg1XV0sMTk1MDA5OltbMzQ4MTddXSwxOTUwMTA6W1sxNzkxM11dLDE5NTAxMTpbWzM0OTEyXV0sMTk1MDEyOltbMzQ5MTVdXSwxOTUwMTM6W1sxNjEzODNdXSwxOTUwMTQ6W1szNTAzMV1dLDE5NTAxNTpbWzM1MDM4XV0sMTk1MDE2OltbMTc5NzNdXSwxOTUwMTc6W1szNTA2Nl1dLDE5NTAxODpbWzEzNDk5XV0sMTk1MDE5OltbMTYxOTY2XV0sMTk1MDIwOltbMTYyMTUwXV0sMTk1MDIxOltbMTgxMTBdXSwxOTUwMjI6W1sxODExOV1dLDE5NTAyMzpbWzM1NDg4XV0sMTk1MDI0OltbMzU1NjVdXSwxOTUwMjU6W1szNTcyMl1dLDE5NTAyNjpbWzM1OTI1XV0sMTk1MDI3OltbMTYyOTg0XV0sMTk1MDI4OltbMzYwMTFdXSwxOTUwMjk6W1szNjAzM11dLDE5NTAzMDpbWzM2MTIzXV0sMTk1MDMxOltbMzYyMTVdXSwxOTUwMzI6W1sxNjM2MzFdXSwxOTUwMzM6W1sxMzMxMjRdXSwxOTUwMzQ6W1szNjI5OV1dLDE5NTAzNTpbWzM2Mjg0XV0sMTk1MDM2OltbMzYzMzZdXSwxOTUwMzc6W1sxMzMzNDJdXSwxOTUwMzg6W1szNjU2NF1dLDE5NTAzOTpbWzM2NjY0XV0sMTk1MDQwOltbMTY1MzMwXV0sMTk1MDQxOltbMTY1MzU3XV0sMTk1MDQyOltbMzcwMTJdXSwxOTUwNDM6W1szNzEwNV1dLDE5NTA0NDpbWzM3MTM3XV0sMTk1MDQ1OltbMTY1Njc4XV0sMTk1MDQ2OltbMzcxNDddXSwxOTUwNDc6W1szNzQzMl1dLDE5NTA0ODpbWzM3NTkxXV0sMTk1MDQ5OltbMzc1OTJdXSwxOTUwNTA6W1szNzUwMF1dLDE5NTA1MTpbWzM3ODgxXV0sMTk1MDUyOltbMzc5MDldXSwxOTUwNTM6W1sxNjY5MDZdXSwxOTUwNTQ6W1szODI4M11dLDE5NTA1NTpbWzE4ODM3XV0sMTk1MDU2OltbMzgzMjddXSwxOTUwNTc6W1sxNjcyODddXSwxOTUwNTg6W1sxODkxOF1dLDE5NTA1OTpbWzM4NTk1XV0sMTk1MDYwOltbMjM5ODZdXSwxOTUwNjE6W1szODY5MV1dLDE5NTA2MjpbWzE2ODI2MV1dLDE5NTA2MzpbWzE2ODQ3NF1dLDE5NTA2NDpbWzE5MDU0XV0sMTk1MDY1OltbMTkwNjJdXSwxOTUwNjY6W1szODg4MF1dLDE5NTA2NzpbWzE2ODk3MF1dLDE5NTA2ODpbWzE5MTIyXV0sMTk1MDY5OltbMTY5MTEwXV0sMTk1MDcwOltbMzg5MjNdXSwxOTUwNzE6W1szODkyM11dfSwKNjQwMDA6ezY0MDAwOltbMjA5OTldXSw2NDAwMTpbWzI0MjMwXV0sNjQwMDI6W1syNTI5OV1dLDY0MDAzOltbMzE5NThdXSw2NDAwNDpbWzIzNDI5XV0sNjQwMDU6W1syNzkzNF1dLDY0MDA2OltbMjYyOTJdXSw2NDAwNzpbWzM2NjY3XV0sNjQwMDg6W1szNDg5Ml1dLDY0MDA5OltbMzg0NzddXSw2NDAxMDpbWzM1MjExXV0sNjQwMTE6W1syNDI3NV1dLDY0MDEyOltbMjA4MDBdXSw2NDAxMzpbWzIxOTUyXV0sNjQwMTY6W1syMjYxOF1dLDY0MDE4OltbMjYyMjhdXSw2NDAyMTpbWzIwOTU4XV0sNjQwMjI6W1syOTQ4Ml1dLDY0MDIzOltbMzA0MTBdXSw2NDAyNDpbWzMxMDM2XV0sNjQwMjU6W1szMTA3MF1dLDY0MDI2OltbMzEwNzddXSw2NDAyNzpbWzMxMTE5XV0sNjQwMjg6W1szODc0Ml1dLDY0MDI5OltbMzE5MzRdXSw2NDAzMDpbWzMyNzAxXV0sNjQwMzI6W1szNDMyMl1dLDY0MDM0OltbMzU1NzZdXSw2NDAzNzpbWzM2OTIwXV0sNjQwMzg6W1szNzExN11dLDY0MDQyOltbMzkxNTFdXSw2NDA0MzpbWzM5MTY0XV0sNjQwNDQ6W1szOTIwOF1dLDY0MDQ1OltbNDAzNzJdXSw2NDA0NjpbWzM3MDg2XV0sNjQwNDc6W1szODU4M11dLDY0MDQ4OltbMjAzOThdXSw2NDA0OTpbWzIwNzExXV0sNjQwNTA6W1syMDgxM11dLDY0MDUxOltbMjExOTNdXSw2NDA1MjpbWzIxMjIwXV0sNjQwNTM6W1syMTMyOV1dLDY0MDU0OltbMjE5MTddXSw2NDA1NTpbWzIyMDIyXV0sNjQwNTY6W1syMjEyMF1dLDY0MDU3OltbMjI1OTJdXSw2NDA1ODpbWzIyNjk2XV0sNjQwNTk6W1syMzY1Ml1dLDY0MDYwOltbMjM2NjJdXSw2NDA2MTpbWzI0NzI0XV0sNjQwNjI6W1syNDkzNl1dLDY0MDYzOltbMjQ5NzRdXSw2NDA2NDpbWzI1MDc0XV0sNjQwNjU6W1syNTkzNV1dLDY0MDY2OltbMjYwODJdXSw2NDA2NzpbWzI2MjU3XV0sNjQwNjg6W1syNjc1N11dLDY0MDY5OltbMjgwMjNdXSw2NDA3MDpbWzI4MTg2XV0sNjQwNzE6W1syODQ1MF1dLDY0MDcyOltbMjkwMzhdXSw2NDA3MzpbWzI5MjI3XV0sNjQwNzQ6W1syOTczMF1dLDY0MDc1OltbMzA4NjVdXSw2NDA3NjpbWzMxMDM4XV0sNjQwNzc6W1szMTA0OV1dLDY0MDc4OltbMzEwNDhdXSw2NDA3OTpbWzMxMDU2XV0sNjQwODA6W1szMTA2Ml1dLDY0MDgxOltbMzEwNjldXSw2NDA4MjpbWzMxMTE3XV0sNjQwODM6W1szMTExOF1dLDY0MDg0OltbMzEyOTZdXSw2NDA4NTpbWzMxMzYxXV0sNjQwODY6W1szMTY4MF1dLDY0MDg3OltbMzIyNDRdXSw2NDA4ODpbWzMyMjY1XV0sNjQwODk6W1szMjMyMV1dLDY0MDkwOltbMzI2MjZdXSw2NDA5MTpbWzMyNzczXV0sNjQwOTI6W1szMzI2MV1dLDY0MDkzOltbMzM0MDFdXSw2NDA5NDpbWzMzNDAxXV0sNjQwOTU6W1szMzg3OV1dLDY0MDk2OltbMzUwODhdXSw2NDA5NzpbWzM1MjIyXV0sNjQwOTg6W1szNTU4NV1dLDY0MDk5OltbMzU2NDFdXSw2NDEwMDpbWzM2MDUxXV0sNjQxMDE6W1szNjEwNF1dLDY0MTAyOltbMzY3OTBdXSw2NDEwMzpbWzM2OTIwXV0sNjQxMDQ6W1szODYyN11dLDY0MTA1OltbMzg5MTFdXSw2NDEwNjpbWzM4OTcxXV0sNjQxMDc6W1syNDY5M11dLDY0MTA4OltbMTQ4MjA2XV0sNjQxMDk6W1szMzMwNF1dLDY0MTEyOltbMjAwMDZdXSw2NDExMzpbWzIwOTE3XV0sNjQxMTQ6W1syMDg0MF1dLDY0MTE1OltbMjAzNTJdXSw2NDExNjpbWzIwODA1XV0sNjQxMTc6W1syMDg2NF1dLDY0MTE4OltbMjExOTFdXSw2NDExOTpbWzIxMjQyXV0sNjQxMjA6W1syMTkxN11dLDY0MTIxOltbMjE4NDVdXSw2NDEyMjpbWzIxOTEzXV0sNjQxMjM6W1syMTk4Nl1dLDY0MTI0OltbMjI2MThdXSw2NDEyNTpbWzIyNzA3XV0sNjQxMjY6W1syMjg1Ml1dLDY0MTI3OltbMjI4NjhdXSw2NDEyODpbWzIzMTM4XV0sNjQxMjk6W1syMzMzNl1dLDY0MTMwOltbMjQyNzRdXSw2NDEzMTpbWzI0MjgxXV0sNjQxMzI6W1syNDQyNV1dLDY0MTMzOltbMjQ0OTNdXSw2NDEzNDpbWzI0NzkyXV0sNjQxMzU6W1syNDkxMF1dLDY0MTM2OltbMjQ4NDBdXSw2NDEzNzpbWzI0OTc0XV0sNjQxMzg6W1syNDkyOF1dLDY0MTM5OltbMjUwNzRdXSw2NDE0MDpbWzI1MTQwXV0sNjQxNDE6W1syNTU0MF1dLDY0MTQyOltbMjU2MjhdXSw2NDE0MzpbWzI1NjgyXV0sNjQxNDQ6W1syNTk0Ml1dLDY0MTQ1OltbMjYyMjhdXSw2NDE0NjpbWzI2MzkxXV0sNjQxNDc6W1syNjM5NV1dLDY0MTQ4OltbMjY0NTRdXSw2NDE0OTpbWzI3NTEzXV0sNjQxNTA6W1syNzU3OF1dLDY0MTUxOltbMjc5NjldXSw2NDE1MjpbWzI4Mzc5XV0sNjQxNTM6W1syODM2M11dLDY0MTU0OltbMjg0NTBdXSw2NDE1NTpbWzI4NzAyXV0sNjQxNTY6W1syOTAzOF1dLDY0MTU3OltbMzA2MzFdXSw2NDE1ODpbWzI5MjM3XV0sNjQxNTk6W1syOTM1OV1dLDY0MTYwOltbMjk0ODJdXSw2NDE2MTpbWzI5ODA5XV0sNjQxNjI6W1syOTk1OF1dLDY0MTYzOltbMzAwMTFdXSw2NDE2NDpbWzMwMjM3XV0sNjQxNjU6W1szMDIzOV1dLDY0MTY2OltbMzA0MTBdXSw2NDE2NzpbWzMwNDI3XV0sNjQxNjg6W1szMDQ1Ml1dLDY0MTY5OltbMzA1MzhdXSw2NDE3MDpbWzMwNTI4XV0sNjQxNzE6W1szMDkyNF1dLDY0MTcyOltbMzE0MDldXSw2NDE3MzpbWzMxNjgwXV0sNjQxNzQ6W1szMTg2N11dLDY0MTc1OltbMzIwOTFdXSw2NDE3NjpbWzMyMjQ0XV0sNjQxNzc6W1szMjU3NF1dLDY0MTc4OltbMzI3NzNdXSw2NDE3OTpbWzMzNjE4XV0sNjQxODA6W1szMzc3NV1dLDY0MTgxOltbMzQ2ODFdXSw2NDE4MjpbWzM1MTM3XV0sNjQxODM6W1szNTIwNl1dLDY0MTg0OltbMzUyMjJdXSw2NDE4NTpbWzM1NTE5XV0sNjQxODY6W1szNTU3Nl1dLDY0MTg3OltbMzU1MzFdXSw2NDE4ODpbWzM1NTg1XV0sNjQxODk6W1szNTU4Ml1dLDY0MTkwOltbMzU1NjVdXSw2NDE5MTpbWzM1NjQxXV0sNjQxOTI6W1szNTcyMl1dLDY0MTkzOltbMzYxMDRdXSw2NDE5NDpbWzM2NjY0XV0sNjQxOTU6W1szNjk3OF1dLDY0MTk2OltbMzcyNzNdXSw2NDE5NzpbWzM3NDk0XV0sNjQxOTg6W1szODUyNF1dLDY0MTk5OltbMzg2MjddXSw2NDIwMDpbWzM4NzQyXV0sNjQyMDE6W1szODg3NV1dLDY0MjAyOltbMzg5MTFdXSw2NDIwMzpbWzM4OTIzXV0sNjQyMDQ6W1szODk3MV1dLDY0MjA1OltbMzk2OThdXSw2NDIwNjpbWzQwODYwXV0sNjQyMDc6W1sxNDEzODZdXSw2NDIwODpbWzE0MTM4MF1dLDY0MjA5OltbMTQ0MzQxXV0sNjQyMTA6W1sxNTI2MV1dLDY0MjExOltbMTY0MDhdXSw2NDIxMjpbWzE2NDQxXV0sNjQyMTM6W1sxNTIxMzddXSw2NDIxNDpbWzE1NDgzMl1dLDY0MjE1OltbMTYzNTM5XV0sNjQyMTY6W1s0MDc3MV1dLDY0MjE3OltbNDA4NDZdXSwxOTUwNzI6W1szODk1M11dLDE5NTA3MzpbWzE2OTM5OF1dLDE5NTA3NDpbWzM5MTM4XV0sMTk1MDc1OltbMTkyNTFdXSwxOTUwNzY6W1szOTIwOV1dLDE5NTA3NzpbWzM5MzM1XV0sMTk1MDc4OltbMzkzNjJdXSwxOTUwNzk6W1szOTQyMl1dLDE5NTA4MDpbWzE5NDA2XV0sMTk1MDgxOltbMTcwODAwXV0sMTk1MDgyOltbMzk2OThdXSwxOTUwODM6W1s0MDAwMF1dLDE5NTA4NDpbWzQwMTg5XV0sMTk1MDg1OltbMTk2NjJdXSwxOTUwODY6W1sxOTY5M11dLDE5NTA4NzpbWzQwMjk1XV0sMTk1MDg4OltbMTcyMjM4XV0sMTk1MDg5OltbMTk3MDRdXSwxOTUwOTA6W1sxNzIyOTNdXSwxOTUwOTE6W1sxNzI1NThdXSwxOTUwOTI6W1sxNzI2ODldXSwxOTUwOTM6W1s0MDYzNV1dLDE5NTA5NDpbWzE5Nzk4XV0sMTk1MDk1OltbNDA2OTddXSwxOTUwOTY6W1s0MDcwMl1dLDE5NTA5NzpbWzQwNzA5XV0sMTk1MDk4OltbNDA3MTldXSwxOTUwOTk6W1s0MDcyNl1dLDE5NTEwMDpbWzQwNzYzXV0sMTk1MTAxOltbMTczNTY4XV19LAo2NDI1Njp7NjQyNTY6W1sxMDIsMTAyXSwyNTZdLDY0MjU3OltbMTAyLDEwNV0sMjU2XSw2NDI1ODpbWzEwMiwxMDhdLDI1Nl0sNjQyNTk6W1sxMDIsMTAyLDEwNV0sMjU2XSw2NDI2MDpbWzEwMiwxMDIsMTA4XSwyNTZdLDY0MjYxOltbMzgzLDExNl0sMjU2XSw2NDI2MjpbWzExNSwxMTZdLDI1Nl0sNjQyNzU6W1sxMzk2LDEzOThdLDI1Nl0sNjQyNzY6W1sxMzk2LDEzODFdLDI1Nl0sNjQyNzc6W1sxMzk2LDEzODddLDI1Nl0sNjQyNzg6W1sxNDA2LDEzOThdLDI1Nl0sNjQyNzk6W1sxMzk2LDEzODldLDI1Nl0sNjQyODU6W1sxNDk3LDE0NjBdLDUxMl0sNjQyODY6WywyNl0sNjQyODc6W1sxNTIyLDE0NjNdLDUxMl0sNjQyODg6W1sxNTA2XSwyNTZdLDY0Mjg5OltbMTQ4OF0sMjU2XSw2NDI5MDpbWzE0OTFdLDI1Nl0sNjQyOTE6W1sxNDkyXSwyNTZdLDY0MjkyOltbMTQ5OV0sMjU2XSw2NDI5MzpbWzE1MDBdLDI1Nl0sNjQyOTQ6W1sxNTAxXSwyNTZdLDY0Mjk1OltbMTUxMl0sMjU2XSw2NDI5NjpbWzE1MTRdLDI1Nl0sNjQyOTc6W1s0M10sMjU2XSw2NDI5ODpbWzE1MTMsMTQ3M10sNTEyXSw2NDI5OTpbWzE1MTMsMTQ3NF0sNTEyXSw2NDMwMDpbWzY0MzI5LDE0NzNdLDUxMl0sNjQzMDE6W1s2NDMyOSwxNDc0XSw1MTJdLDY0MzAyOltbMTQ4OCwxNDYzXSw1MTJdLDY0MzAzOltbMTQ4OCwxNDY0XSw1MTJdLDY0MzA0OltbMTQ4OCwxNDY4XSw1MTJdLDY0MzA1OltbMTQ4OSwxNDY4XSw1MTJdLDY0MzA2OltbMTQ5MCwxNDY4XSw1MTJdLDY0MzA3OltbMTQ5MSwxNDY4XSw1MTJdLDY0MzA4OltbMTQ5MiwxNDY4XSw1MTJdLDY0MzA5OltbMTQ5MywxNDY4XSw1MTJdLDY0MzEwOltbMTQ5NCwxNDY4XSw1MTJdLDY0MzEyOltbMTQ5NiwxNDY4XSw1MTJdLDY0MzEzOltbMTQ5NywxNDY4XSw1MTJdLDY0MzE0OltbMTQ5OCwxNDY4XSw1MTJdLDY0MzE1OltbMTQ5OSwxNDY4XSw1MTJdLDY0MzE2OltbMTUwMCwxNDY4XSw1MTJdLDY0MzE4OltbMTUwMiwxNDY4XSw1MTJdLDY0MzIwOltbMTUwNCwxNDY4XSw1MTJdLDY0MzIxOltbMTUwNSwxNDY4XSw1MTJdLDY0MzIzOltbMTUwNywxNDY4XSw1MTJdLDY0MzI0OltbMTUwOCwxNDY4XSw1MTJdLDY0MzI2OltbMTUxMCwxNDY4XSw1MTJdLDY0MzI3OltbMTUxMSwxNDY4XSw1MTJdLDY0MzI4OltbMTUxMiwxNDY4XSw1MTJdLDY0MzI5OltbMTUxMywxNDY4XSw1MTJdLDY0MzMwOltbMTUxNCwxNDY4XSw1MTJdLDY0MzMxOltbMTQ5MywxNDY1XSw1MTJdLDY0MzMyOltbMTQ4OSwxNDcxXSw1MTJdLDY0MzMzOltbMTQ5OSwxNDcxXSw1MTJdLDY0MzM0OltbMTUwOCwxNDcxXSw1MTJdLDY0MzM1OltbMTQ4OCwxNTAwXSwyNTZdLDY0MzM2OltbMTY0OV0sMjU2XSw2NDMzNzpbWzE2NDldLDI1Nl0sNjQzMzg6W1sxNjU5XSwyNTZdLDY0MzM5OltbMTY1OV0sMjU2XSw2NDM0MDpbWzE2NTldLDI1Nl0sNjQzNDE6W1sxNjU5XSwyNTZdLDY0MzQyOltbMTY2Ml0sMjU2XSw2NDM0MzpbWzE2NjJdLDI1Nl0sNjQzNDQ6W1sxNjYyXSwyNTZdLDY0MzQ1OltbMTY2Ml0sMjU2XSw2NDM0NjpbWzE2NjRdLDI1Nl0sNjQzNDc6W1sxNjY0XSwyNTZdLDY0MzQ4OltbMTY2NF0sMjU2XSw2NDM0OTpbWzE2NjRdLDI1Nl0sNjQzNTA6W1sxNjU4XSwyNTZdLDY0MzUxOltbMTY1OF0sMjU2XSw2NDM1MjpbWzE2NThdLDI1Nl0sNjQzNTM6W1sxNjU4XSwyNTZdLDY0MzU0OltbMTY2M10sMjU2XSw2NDM1NTpbWzE2NjNdLDI1Nl0sNjQzNTY6W1sxNjYzXSwyNTZdLDY0MzU3OltbMTY2M10sMjU2XSw2NDM1ODpbWzE2NTddLDI1Nl0sNjQzNTk6W1sxNjU3XSwyNTZdLDY0MzYwOltbMTY1N10sMjU2XSw2NDM2MTpbWzE2NTddLDI1Nl0sNjQzNjI6W1sxNzAwXSwyNTZdLDY0MzYzOltbMTcwMF0sMjU2XSw2NDM2NDpbWzE3MDBdLDI1Nl0sNjQzNjU6W1sxNzAwXSwyNTZdLDY0MzY2OltbMTcwMl0sMjU2XSw2NDM2NzpbWzE3MDJdLDI1Nl0sNjQzNjg6W1sxNzAyXSwyNTZdLDY0MzY5OltbMTcwMl0sMjU2XSw2NDM3MDpbWzE2NjhdLDI1Nl0sNjQzNzE6W1sxNjY4XSwyNTZdLDY0MzcyOltbMTY2OF0sMjU2XSw2NDM3MzpbWzE2NjhdLDI1Nl0sNjQzNzQ6W1sxNjY3XSwyNTZdLDY0Mzc1OltbMTY2N10sMjU2XSw2NDM3NjpbWzE2NjddLDI1Nl0sNjQzNzc6W1sxNjY3XSwyNTZdLDY0Mzc4OltbMTY3MF0sMjU2XSw2NDM3OTpbWzE2NzBdLDI1Nl0sNjQzODA6W1sxNjcwXSwyNTZdLDY0MzgxOltbMTY3MF0sMjU2XSw2NDM4MjpbWzE2NzFdLDI1Nl0sNjQzODM6W1sxNjcxXSwyNTZdLDY0Mzg0OltbMTY3MV0sMjU2XSw2NDM4NTpbWzE2NzFdLDI1Nl0sNjQzODY6W1sxNjc3XSwyNTZdLDY0Mzg3OltbMTY3N10sMjU2XSw2NDM4ODpbWzE2NzZdLDI1Nl0sNjQzODk6W1sxNjc2XSwyNTZdLDY0MzkwOltbMTY3OF0sMjU2XSw2NDM5MTpbWzE2NzhdLDI1Nl0sNjQzOTI6W1sxNjcyXSwyNTZdLDY0MzkzOltbMTY3Ml0sMjU2XSw2NDM5NDpbWzE2ODhdLDI1Nl0sNjQzOTU6W1sxNjg4XSwyNTZdLDY0Mzk2OltbMTY4MV0sMjU2XSw2NDM5NzpbWzE2ODFdLDI1Nl0sNjQzOTg6W1sxNzA1XSwyNTZdLDY0Mzk5OltbMTcwNV0sMjU2XSw2NDQwMDpbWzE3MDVdLDI1Nl0sNjQ0MDE6W1sxNzA1XSwyNTZdLDY0NDAyOltbMTcxMV0sMjU2XSw2NDQwMzpbWzE3MTFdLDI1Nl0sNjQ0MDQ6W1sxNzExXSwyNTZdLDY0NDA1OltbMTcxMV0sMjU2XSw2NDQwNjpbWzE3MTVdLDI1Nl0sNjQ0MDc6W1sxNzE1XSwyNTZdLDY0NDA4OltbMTcxNV0sMjU2XSw2NDQwOTpbWzE3MTVdLDI1Nl0sNjQ0MTA6W1sxNzEzXSwyNTZdLDY0NDExOltbMTcxM10sMjU2XSw2NDQxMjpbWzE3MTNdLDI1Nl0sNjQ0MTM6W1sxNzEzXSwyNTZdLDY0NDE0OltbMTcyMl0sMjU2XSw2NDQxNTpbWzE3MjJdLDI1Nl0sNjQ0MTY6W1sxNzIzXSwyNTZdLDY0NDE3OltbMTcyM10sMjU2XSw2NDQxODpbWzE3MjNdLDI1Nl0sNjQ0MTk6W1sxNzIzXSwyNTZdLDY0NDIwOltbMTcyOF0sMjU2XSw2NDQyMTpbWzE3MjhdLDI1Nl0sNjQ0MjI6W1sxNzI5XSwyNTZdLDY0NDIzOltbMTcyOV0sMjU2XSw2NDQyNDpbWzE3MjldLDI1Nl0sNjQ0MjU6W1sxNzI5XSwyNTZdLDY0NDI2OltbMTcyNl0sMjU2XSw2NDQyNzpbWzE3MjZdLDI1Nl0sNjQ0Mjg6W1sxNzI2XSwyNTZdLDY0NDI5OltbMTcyNl0sMjU2XSw2NDQzMDpbWzE3NDZdLDI1Nl0sNjQ0MzE6W1sxNzQ2XSwyNTZdLDY0NDMyOltbMTc0N10sMjU2XSw2NDQzMzpbWzE3NDddLDI1Nl0sNjQ0Njc6W1sxNzA5XSwyNTZdLDY0NDY4OltbMTcwOV0sMjU2XSw2NDQ2OTpbWzE3MDldLDI1Nl0sNjQ0NzA6W1sxNzA5XSwyNTZdLDY0NDcxOltbMTczNV0sMjU2XSw2NDQ3MjpbWzE3MzVdLDI1Nl0sNjQ0NzM6W1sxNzM0XSwyNTZdLDY0NDc0OltbMTczNF0sMjU2XSw2NDQ3NTpbWzE3MzZdLDI1Nl0sNjQ0NzY6W1sxNzM2XSwyNTZdLDY0NDc3OltbMTY1NV0sMjU2XSw2NDQ3ODpbWzE3MzldLDI1Nl0sNjQ0Nzk6W1sxNzM5XSwyNTZdLDY0NDgwOltbMTczM10sMjU2XSw2NDQ4MTpbWzE3MzNdLDI1Nl0sNjQ0ODI6W1sxNzM3XSwyNTZdLDY0NDgzOltbMTczN10sMjU2XSw2NDQ4NDpbWzE3NDRdLDI1Nl0sNjQ0ODU6W1sxNzQ0XSwyNTZdLDY0NDg2OltbMTc0NF0sMjU2XSw2NDQ4NzpbWzE3NDRdLDI1Nl0sNjQ0ODg6W1sxNjA5XSwyNTZdLDY0NDg5OltbMTYwOV0sMjU2XSw2NDQ5MDpbWzE1NzQsMTU3NV0sMjU2XSw2NDQ5MTpbWzE1NzQsMTU3NV0sMjU2XSw2NDQ5MjpbWzE1NzQsMTc0OV0sMjU2XSw2NDQ5MzpbWzE1NzQsMTc0OV0sMjU2XSw2NDQ5NDpbWzE1NzQsMTYwOF0sMjU2XSw2NDQ5NTpbWzE1NzQsMTYwOF0sMjU2XSw2NDQ5NjpbWzE1NzQsMTczNV0sMjU2XSw2NDQ5NzpbWzE1NzQsMTczNV0sMjU2XSw2NDQ5ODpbWzE1NzQsMTczNF0sMjU2XSw2NDQ5OTpbWzE1NzQsMTczNF0sMjU2XSw2NDUwMDpbWzE1NzQsMTczNl0sMjU2XSw2NDUwMTpbWzE1NzQsMTczNl0sMjU2XSw2NDUwMjpbWzE1NzQsMTc0NF0sMjU2XSw2NDUwMzpbWzE1NzQsMTc0NF0sMjU2XSw2NDUwNDpbWzE1NzQsMTc0NF0sMjU2XSw2NDUwNTpbWzE1NzQsMTYwOV0sMjU2XSw2NDUwNjpbWzE1NzQsMTYwOV0sMjU2XSw2NDUwNzpbWzE1NzQsMTYwOV0sMjU2XSw2NDUwODpbWzE3NDBdLDI1Nl0sNjQ1MDk6W1sxNzQwXSwyNTZdLDY0NTEwOltbMTc0MF0sMjU2XSw2NDUxMTpbWzE3NDBdLDI1Nl19LAo2NDUxMjp7NjQ1MTI6W1sxNTc0LDE1ODBdLDI1Nl0sNjQ1MTM6W1sxNTc0LDE1ODFdLDI1Nl0sNjQ1MTQ6W1sxNTc0LDE2MDVdLDI1Nl0sNjQ1MTU6W1sxNTc0LDE2MDldLDI1Nl0sNjQ1MTY6W1sxNTc0LDE2MTBdLDI1Nl0sNjQ1MTc6W1sxNTc2LDE1ODBdLDI1Nl0sNjQ1MTg6W1sxNTc2LDE1ODFdLDI1Nl0sNjQ1MTk6W1sxNTc2LDE1ODJdLDI1Nl0sNjQ1MjA6W1sxNTc2LDE2MDVdLDI1Nl0sNjQ1MjE6W1sxNTc2LDE2MDldLDI1Nl0sNjQ1MjI6W1sxNTc2LDE2MTBdLDI1Nl0sNjQ1MjM6W1sxNTc4LDE1ODBdLDI1Nl0sNjQ1MjQ6W1sxNTc4LDE1ODFdLDI1Nl0sNjQ1MjU6W1sxNTc4LDE1ODJdLDI1Nl0sNjQ1MjY6W1sxNTc4LDE2MDVdLDI1Nl0sNjQ1Mjc6W1sxNTc4LDE2MDldLDI1Nl0sNjQ1Mjg6W1sxNTc4LDE2MTBdLDI1Nl0sNjQ1Mjk6W1sxNTc5LDE1ODBdLDI1Nl0sNjQ1MzA6W1sxNTc5LDE2MDVdLDI1Nl0sNjQ1MzE6W1sxNTc5LDE2MDldLDI1Nl0sNjQ1MzI6W1sxNTc5LDE2MTBdLDI1Nl0sNjQ1MzM6W1sxNTgwLDE1ODFdLDI1Nl0sNjQ1MzQ6W1sxNTgwLDE2MDVdLDI1Nl0sNjQ1MzU6W1sxNTgxLDE1ODBdLDI1Nl0sNjQ1MzY6W1sxNTgxLDE2MDVdLDI1Nl0sNjQ1Mzc6W1sxNTgyLDE1ODBdLDI1Nl0sNjQ1Mzg6W1sxNTgyLDE1ODFdLDI1Nl0sNjQ1Mzk6W1sxNTgyLDE2MDVdLDI1Nl0sNjQ1NDA6W1sxNTg3LDE1ODBdLDI1Nl0sNjQ1NDE6W1sxNTg3LDE1ODFdLDI1Nl0sNjQ1NDI6W1sxNTg3LDE1ODJdLDI1Nl0sNjQ1NDM6W1sxNTg3LDE2MDVdLDI1Nl0sNjQ1NDQ6W1sxNTg5LDE1ODFdLDI1Nl0sNjQ1NDU6W1sxNTg5LDE2MDVdLDI1Nl0sNjQ1NDY6W1sxNTkwLDE1ODBdLDI1Nl0sNjQ1NDc6W1sxNTkwLDE1ODFdLDI1Nl0sNjQ1NDg6W1sxNTkwLDE1ODJdLDI1Nl0sNjQ1NDk6W1sxNTkwLDE2MDVdLDI1Nl0sNjQ1NTA6W1sxNTkxLDE1ODFdLDI1Nl0sNjQ1NTE6W1sxNTkxLDE2MDVdLDI1Nl0sNjQ1NTI6W1sxNTkyLDE2MDVdLDI1Nl0sNjQ1NTM6W1sxNTkzLDE1ODBdLDI1Nl0sNjQ1NTQ6W1sxNTkzLDE2MDVdLDI1Nl0sNjQ1NTU6W1sxNTk0LDE1ODBdLDI1Nl0sNjQ1NTY6W1sxNTk0LDE2MDVdLDI1Nl0sNjQ1NTc6W1sxNjAxLDE1ODBdLDI1Nl0sNjQ1NTg6W1sxNjAxLDE1ODFdLDI1Nl0sNjQ1NTk6W1sxNjAxLDE1ODJdLDI1Nl0sNjQ1NjA6W1sxNjAxLDE2MDVdLDI1Nl0sNjQ1NjE6W1sxNjAxLDE2MDldLDI1Nl0sNjQ1NjI6W1sxNjAxLDE2MTBdLDI1Nl0sNjQ1NjM6W1sxNjAyLDE1ODFdLDI1Nl0sNjQ1NjQ6W1sxNjAyLDE2MDVdLDI1Nl0sNjQ1NjU6W1sxNjAyLDE2MDldLDI1Nl0sNjQ1NjY6W1sxNjAyLDE2MTBdLDI1Nl0sNjQ1Njc6W1sxNjAzLDE1NzVdLDI1Nl0sNjQ1Njg6W1sxNjAzLDE1ODBdLDI1Nl0sNjQ1Njk6W1sxNjAzLDE1ODFdLDI1Nl0sNjQ1NzA6W1sxNjAzLDE1ODJdLDI1Nl0sNjQ1NzE6W1sxNjAzLDE2MDRdLDI1Nl0sNjQ1NzI6W1sxNjAzLDE2MDVdLDI1Nl0sNjQ1NzM6W1sxNjAzLDE2MDldLDI1Nl0sNjQ1NzQ6W1sxNjAzLDE2MTBdLDI1Nl0sNjQ1NzU6W1sxNjA0LDE1ODBdLDI1Nl0sNjQ1NzY6W1sxNjA0LDE1ODFdLDI1Nl0sNjQ1Nzc6W1sxNjA0LDE1ODJdLDI1Nl0sNjQ1Nzg6W1sxNjA0LDE2MDVdLDI1Nl0sNjQ1Nzk6W1sxNjA0LDE2MDldLDI1Nl0sNjQ1ODA6W1sxNjA0LDE2MTBdLDI1Nl0sNjQ1ODE6W1sxNjA1LDE1ODBdLDI1Nl0sNjQ1ODI6W1sxNjA1LDE1ODFdLDI1Nl0sNjQ1ODM6W1sxNjA1LDE1ODJdLDI1Nl0sNjQ1ODQ6W1sxNjA1LDE2MDVdLDI1Nl0sNjQ1ODU6W1sxNjA1LDE2MDldLDI1Nl0sNjQ1ODY6W1sxNjA1LDE2MTBdLDI1Nl0sNjQ1ODc6W1sxNjA2LDE1ODBdLDI1Nl0sNjQ1ODg6W1sxNjA2LDE1ODFdLDI1Nl0sNjQ1ODk6W1sxNjA2LDE1ODJdLDI1Nl0sNjQ1OTA6W1sxNjA2LDE2MDVdLDI1Nl0sNjQ1OTE6W1sxNjA2LDE2MDldLDI1Nl0sNjQ1OTI6W1sxNjA2LDE2MTBdLDI1Nl0sNjQ1OTM6W1sxNjA3LDE1ODBdLDI1Nl0sNjQ1OTQ6W1sxNjA3LDE2MDVdLDI1Nl0sNjQ1OTU6W1sxNjA3LDE2MDldLDI1Nl0sNjQ1OTY6W1sxNjA3LDE2MTBdLDI1Nl0sNjQ1OTc6W1sxNjEwLDE1ODBdLDI1Nl0sNjQ1OTg6W1sxNjEwLDE1ODFdLDI1Nl0sNjQ1OTk6W1sxNjEwLDE1ODJdLDI1Nl0sNjQ2MDA6W1sxNjEwLDE2MDVdLDI1Nl0sNjQ2MDE6W1sxNjEwLDE2MDldLDI1Nl0sNjQ2MDI6W1sxNjEwLDE2MTBdLDI1Nl0sNjQ2MDM6W1sxNTg0LDE2NDhdLDI1Nl0sNjQ2MDQ6W1sxNTg1LDE2NDhdLDI1Nl0sNjQ2MDU6W1sxNjA5LDE2NDhdLDI1Nl0sNjQ2MDY6W1szMiwxNjEyLDE2MTddLDI1Nl0sNjQ2MDc6W1szMiwxNjEzLDE2MTddLDI1Nl0sNjQ2MDg6W1szMiwxNjE0LDE2MTddLDI1Nl0sNjQ2MDk6W1szMiwxNjE1LDE2MTddLDI1Nl0sNjQ2MTA6W1szMiwxNjE2LDE2MTddLDI1Nl0sNjQ2MTE6W1szMiwxNjE3LDE2NDhdLDI1Nl0sNjQ2MTI6W1sxNTc0LDE1ODVdLDI1Nl0sNjQ2MTM6W1sxNTc0LDE1ODZdLDI1Nl0sNjQ2MTQ6W1sxNTc0LDE2MDVdLDI1Nl0sNjQ2MTU6W1sxNTc0LDE2MDZdLDI1Nl0sNjQ2MTY6W1sxNTc0LDE2MDldLDI1Nl0sNjQ2MTc6W1sxNTc0LDE2MTBdLDI1Nl0sNjQ2MTg6W1sxNTc2LDE1ODVdLDI1Nl0sNjQ2MTk6W1sxNTc2LDE1ODZdLDI1Nl0sNjQ2MjA6W1sxNTc2LDE2MDVdLDI1Nl0sNjQ2MjE6W1sxNTc2LDE2MDZdLDI1Nl0sNjQ2MjI6W1sxNTc2LDE2MDldLDI1Nl0sNjQ2MjM6W1sxNTc2LDE2MTBdLDI1Nl0sNjQ2MjQ6W1sxNTc4LDE1ODVdLDI1Nl0sNjQ2MjU6W1sxNTc4LDE1ODZdLDI1Nl0sNjQ2MjY6W1sxNTc4LDE2MDVdLDI1Nl0sNjQ2Mjc6W1sxNTc4LDE2MDZdLDI1Nl0sNjQ2Mjg6W1sxNTc4LDE2MDldLDI1Nl0sNjQ2Mjk6W1sxNTc4LDE2MTBdLDI1Nl0sNjQ2MzA6W1sxNTc5LDE1ODVdLDI1Nl0sNjQ2MzE6W1sxNTc5LDE1ODZdLDI1Nl0sNjQ2MzI6W1sxNTc5LDE2MDVdLDI1Nl0sNjQ2MzM6W1sxNTc5LDE2MDZdLDI1Nl0sNjQ2MzQ6W1sxNTc5LDE2MDldLDI1Nl0sNjQ2MzU6W1sxNTc5LDE2MTBdLDI1Nl0sNjQ2MzY6W1sxNjAxLDE2MDldLDI1Nl0sNjQ2Mzc6W1sxNjAxLDE2MTBdLDI1Nl0sNjQ2Mzg6W1sxNjAyLDE2MDldLDI1Nl0sNjQ2Mzk6W1sxNjAyLDE2MTBdLDI1Nl0sNjQ2NDA6W1sxNjAzLDE1NzVdLDI1Nl0sNjQ2NDE6W1sxNjAzLDE2MDRdLDI1Nl0sNjQ2NDI6W1sxNjAzLDE2MDVdLDI1Nl0sNjQ2NDM6W1sxNjAzLDE2MDldLDI1Nl0sNjQ2NDQ6W1sxNjAzLDE2MTBdLDI1Nl0sNjQ2NDU6W1sxNjA0LDE2MDVdLDI1Nl0sNjQ2NDY6W1sxNjA0LDE2MDldLDI1Nl0sNjQ2NDc6W1sxNjA0LDE2MTBdLDI1Nl0sNjQ2NDg6W1sxNjA1LDE1NzVdLDI1Nl0sNjQ2NDk6W1sxNjA1LDE2MDVdLDI1Nl0sNjQ2NTA6W1sxNjA2LDE1ODVdLDI1Nl0sNjQ2NTE6W1sxNjA2LDE1ODZdLDI1Nl0sNjQ2NTI6W1sxNjA2LDE2MDVdLDI1Nl0sNjQ2NTM6W1sxNjA2LDE2MDZdLDI1Nl0sNjQ2NTQ6W1sxNjA2LDE2MDldLDI1Nl0sNjQ2NTU6W1sxNjA2LDE2MTBdLDI1Nl0sNjQ2NTY6W1sxNjA5LDE2NDhdLDI1Nl0sNjQ2NTc6W1sxNjEwLDE1ODVdLDI1Nl0sNjQ2NTg6W1sxNjEwLDE1ODZdLDI1Nl0sNjQ2NTk6W1sxNjEwLDE2MDVdLDI1Nl0sNjQ2NjA6W1sxNjEwLDE2MDZdLDI1Nl0sNjQ2NjE6W1sxNjEwLDE2MDldLDI1Nl0sNjQ2NjI6W1sxNjEwLDE2MTBdLDI1Nl0sNjQ2NjM6W1sxNTc0LDE1ODBdLDI1Nl0sNjQ2NjQ6W1sxNTc0LDE1ODFdLDI1Nl0sNjQ2NjU6W1sxNTc0LDE1ODJdLDI1Nl0sNjQ2NjY6W1sxNTc0LDE2MDVdLDI1Nl0sNjQ2Njc6W1sxNTc0LDE2MDddLDI1Nl0sNjQ2Njg6W1sxNTc2LDE1ODBdLDI1Nl0sNjQ2Njk6W1sxNTc2LDE1ODFdLDI1Nl0sNjQ2NzA6W1sxNTc2LDE1ODJdLDI1Nl0sNjQ2NzE6W1sxNTc2LDE2MDVdLDI1Nl0sNjQ2NzI6W1sxNTc2LDE2MDddLDI1Nl0sNjQ2NzM6W1sxNTc4LDE1ODBdLDI1Nl0sNjQ2NzQ6W1sxNTc4LDE1ODFdLDI1Nl0sNjQ2NzU6W1sxNTc4LDE1ODJdLDI1Nl0sNjQ2NzY6W1sxNTc4LDE2MDVdLDI1Nl0sNjQ2Nzc6W1sxNTc4LDE2MDddLDI1Nl0sNjQ2Nzg6W1sxNTc5LDE2MDVdLDI1Nl0sNjQ2Nzk6W1sxNTgwLDE1ODFdLDI1Nl0sNjQ2ODA6W1sxNTgwLDE2MDVdLDI1Nl0sNjQ2ODE6W1sxNTgxLDE1ODBdLDI1Nl0sNjQ2ODI6W1sxNTgxLDE2MDVdLDI1Nl0sNjQ2ODM6W1sxNTgyLDE1ODBdLDI1Nl0sNjQ2ODQ6W1sxNTgyLDE2MDVdLDI1Nl0sNjQ2ODU6W1sxNTg3LDE1ODBdLDI1Nl0sNjQ2ODY6W1sxNTg3LDE1ODFdLDI1Nl0sNjQ2ODc6W1sxNTg3LDE1ODJdLDI1Nl0sNjQ2ODg6W1sxNTg3LDE2MDVdLDI1Nl0sNjQ2ODk6W1sxNTg5LDE1ODFdLDI1Nl0sNjQ2OTA6W1sxNTg5LDE1ODJdLDI1Nl0sNjQ2OTE6W1sxNTg5LDE2MDVdLDI1Nl0sNjQ2OTI6W1sxNTkwLDE1ODBdLDI1Nl0sNjQ2OTM6W1sxNTkwLDE1ODFdLDI1Nl0sNjQ2OTQ6W1sxNTkwLDE1ODJdLDI1Nl0sNjQ2OTU6W1sxNTkwLDE2MDVdLDI1Nl0sNjQ2OTY6W1sxNTkxLDE1ODFdLDI1Nl0sNjQ2OTc6W1sxNTkyLDE2MDVdLDI1Nl0sNjQ2OTg6W1sxNTkzLDE1ODBdLDI1Nl0sNjQ2OTk6W1sxNTkzLDE2MDVdLDI1Nl0sNjQ3MDA6W1sxNTk0LDE1ODBdLDI1Nl0sNjQ3MDE6W1sxNTk0LDE2MDVdLDI1Nl0sNjQ3MDI6W1sxNjAxLDE1ODBdLDI1Nl0sNjQ3MDM6W1sxNjAxLDE1ODFdLDI1Nl0sNjQ3MDQ6W1sxNjAxLDE1ODJdLDI1Nl0sNjQ3MDU6W1sxNjAxLDE2MDVdLDI1Nl0sNjQ3MDY6W1sxNjAyLDE1ODFdLDI1Nl0sNjQ3MDc6W1sxNjAyLDE2MDVdLDI1Nl0sNjQ3MDg6W1sxNjAzLDE1ODBdLDI1Nl0sNjQ3MDk6W1sxNjAzLDE1ODFdLDI1Nl0sNjQ3MTA6W1sxNjAzLDE1ODJdLDI1Nl0sNjQ3MTE6W1sxNjAzLDE2MDRdLDI1Nl0sNjQ3MTI6W1sxNjAzLDE2MDVdLDI1Nl0sNjQ3MTM6W1sxNjA0LDE1ODBdLDI1Nl0sNjQ3MTQ6W1sxNjA0LDE1ODFdLDI1Nl0sNjQ3MTU6W1sxNjA0LDE1ODJdLDI1Nl0sNjQ3MTY6W1sxNjA0LDE2MDVdLDI1Nl0sNjQ3MTc6W1sxNjA0LDE2MDddLDI1Nl0sNjQ3MTg6W1sxNjA1LDE1ODBdLDI1Nl0sNjQ3MTk6W1sxNjA1LDE1ODFdLDI1Nl0sNjQ3MjA6W1sxNjA1LDE1ODJdLDI1Nl0sNjQ3MjE6W1sxNjA1LDE2MDVdLDI1Nl0sNjQ3MjI6W1sxNjA2LDE1ODBdLDI1Nl0sNjQ3MjM6W1sxNjA2LDE1ODFdLDI1Nl0sNjQ3MjQ6W1sxNjA2LDE1ODJdLDI1Nl0sNjQ3MjU6W1sxNjA2LDE2MDVdLDI1Nl0sNjQ3MjY6W1sxNjA2LDE2MDddLDI1Nl0sNjQ3Mjc6W1sxNjA3LDE1ODBdLDI1Nl0sNjQ3Mjg6W1sxNjA3LDE2MDVdLDI1Nl0sNjQ3Mjk6W1sxNjA3LDE2NDhdLDI1Nl0sNjQ3MzA6W1sxNjEwLDE1ODBdLDI1Nl0sNjQ3MzE6W1sxNjEwLDE1ODFdLDI1Nl0sNjQ3MzI6W1sxNjEwLDE1ODJdLDI1Nl0sNjQ3MzM6W1sxNjEwLDE2MDVdLDI1Nl0sNjQ3MzQ6W1sxNjEwLDE2MDddLDI1Nl0sNjQ3MzU6W1sxNTc0LDE2MDVdLDI1Nl0sNjQ3MzY6W1sxNTc0LDE2MDddLDI1Nl0sNjQ3Mzc6W1sxNTc2LDE2MDVdLDI1Nl0sNjQ3Mzg6W1sxNTc2LDE2MDddLDI1Nl0sNjQ3Mzk6W1sxNTc4LDE2MDVdLDI1Nl0sNjQ3NDA6W1sxNTc4LDE2MDddLDI1Nl0sNjQ3NDE6W1sxNTc5LDE2MDVdLDI1Nl0sNjQ3NDI6W1sxNTc5LDE2MDddLDI1Nl0sNjQ3NDM6W1sxNTg3LDE2MDVdLDI1Nl0sNjQ3NDQ6W1sxNTg3LDE2MDddLDI1Nl0sNjQ3NDU6W1sxNTg4LDE2MDVdLDI1Nl0sNjQ3NDY6W1sxNTg4LDE2MDddLDI1Nl0sNjQ3NDc6W1sxNjAzLDE2MDRdLDI1Nl0sNjQ3NDg6W1sxNjAzLDE2MDVdLDI1Nl0sNjQ3NDk6W1sxNjA0LDE2MDVdLDI1Nl0sNjQ3NTA6W1sxNjA2LDE2MDVdLDI1Nl0sNjQ3NTE6W1sxNjA2LDE2MDddLDI1Nl0sNjQ3NTI6W1sxNjEwLDE2MDVdLDI1Nl0sNjQ3NTM6W1sxNjEwLDE2MDddLDI1Nl0sNjQ3NTQ6W1sxNjAwLDE2MTQsMTYxN10sMjU2XSw2NDc1NTpbWzE2MDAsMTYxNSwxNjE3XSwyNTZdLDY0NzU2OltbMTYwMCwxNjE2LDE2MTddLDI1Nl0sNjQ3NTc6W1sxNTkxLDE2MDldLDI1Nl0sNjQ3NTg6W1sxNTkxLDE2MTBdLDI1Nl0sNjQ3NTk6W1sxNTkzLDE2MDldLDI1Nl0sNjQ3NjA6W1sxNTkzLDE2MTBdLDI1Nl0sNjQ3NjE6W1sxNTk0LDE2MDldLDI1Nl0sNjQ3NjI6W1sxNTk0LDE2MTBdLDI1Nl0sNjQ3NjM6W1sxNTg3LDE2MDldLDI1Nl0sNjQ3NjQ6W1sxNTg3LDE2MTBdLDI1Nl0sNjQ3NjU6W1sxNTg4LDE2MDldLDI1Nl0sNjQ3NjY6W1sxNTg4LDE2MTBdLDI1Nl0sNjQ3Njc6W1sxNTgxLDE2MDldLDI1Nl19LAo2NDc2ODp7NjQ3Njg6W1sxNTgxLDE2MTBdLDI1Nl0sNjQ3Njk6W1sxNTgwLDE2MDldLDI1Nl0sNjQ3NzA6W1sxNTgwLDE2MTBdLDI1Nl0sNjQ3NzE6W1sxNTgyLDE2MDldLDI1Nl0sNjQ3NzI6W1sxNTgyLDE2MTBdLDI1Nl0sNjQ3NzM6W1sxNTg5LDE2MDldLDI1Nl0sNjQ3NzQ6W1sxNTg5LDE2MTBdLDI1Nl0sNjQ3NzU6W1sxNTkwLDE2MDldLDI1Nl0sNjQ3NzY6W1sxNTkwLDE2MTBdLDI1Nl0sNjQ3Nzc6W1sxNTg4LDE1ODBdLDI1Nl0sNjQ3Nzg6W1sxNTg4LDE1ODFdLDI1Nl0sNjQ3Nzk6W1sxNTg4LDE1ODJdLDI1Nl0sNjQ3ODA6W1sxNTg4LDE2MDVdLDI1Nl0sNjQ3ODE6W1sxNTg4LDE1ODVdLDI1Nl0sNjQ3ODI6W1sxNTg3LDE1ODVdLDI1Nl0sNjQ3ODM6W1sxNTg5LDE1ODVdLDI1Nl0sNjQ3ODQ6W1sxNTkwLDE1ODVdLDI1Nl0sNjQ3ODU6W1sxNTkxLDE2MDldLDI1Nl0sNjQ3ODY6W1sxNTkxLDE2MTBdLDI1Nl0sNjQ3ODc6W1sxNTkzLDE2MDldLDI1Nl0sNjQ3ODg6W1sxNTkzLDE2MTBdLDI1Nl0sNjQ3ODk6W1sxNTk0LDE2MDldLDI1Nl0sNjQ3OTA6W1sxNTk0LDE2MTBdLDI1Nl0sNjQ3OTE6W1sxNTg3LDE2MDldLDI1Nl0sNjQ3OTI6W1sxNTg3LDE2MTBdLDI1Nl0sNjQ3OTM6W1sxNTg4LDE2MDldLDI1Nl0sNjQ3OTQ6W1sxNTg4LDE2MTBdLDI1Nl0sNjQ3OTU6W1sxNTgxLDE2MDldLDI1Nl0sNjQ3OTY6W1sxNTgxLDE2MTBdLDI1Nl0sNjQ3OTc6W1sxNTgwLDE2MDldLDI1Nl0sNjQ3OTg6W1sxNTgwLDE2MTBdLDI1Nl0sNjQ3OTk6W1sxNTgyLDE2MDldLDI1Nl0sNjQ4MDA6W1sxNTgyLDE2MTBdLDI1Nl0sNjQ4MDE6W1sxNTg5LDE2MDldLDI1Nl0sNjQ4MDI6W1sxNTg5LDE2MTBdLDI1Nl0sNjQ4MDM6W1sxNTkwLDE2MDldLDI1Nl0sNjQ4MDQ6W1sxNTkwLDE2MTBdLDI1Nl0sNjQ4MDU6W1sxNTg4LDE1ODBdLDI1Nl0sNjQ4MDY6W1sxNTg4LDE1ODFdLDI1Nl0sNjQ4MDc6W1sxNTg4LDE1ODJdLDI1Nl0sNjQ4MDg6W1sxNTg4LDE2MDVdLDI1Nl0sNjQ4MDk6W1sxNTg4LDE1ODVdLDI1Nl0sNjQ4MTA6W1sxNTg3LDE1ODVdLDI1Nl0sNjQ4MTE6W1sxNTg5LDE1ODVdLDI1Nl0sNjQ4MTI6W1sxNTkwLDE1ODVdLDI1Nl0sNjQ4MTM6W1sxNTg4LDE1ODBdLDI1Nl0sNjQ4MTQ6W1sxNTg4LDE1ODFdLDI1Nl0sNjQ4MTU6W1sxNTg4LDE1ODJdLDI1Nl0sNjQ4MTY6W1sxNTg4LDE2MDVdLDI1Nl0sNjQ4MTc6W1sxNTg3LDE2MDddLDI1Nl0sNjQ4MTg6W1sxNTg4LDE2MDddLDI1Nl0sNjQ4MTk6W1sxNTkxLDE2MDVdLDI1Nl0sNjQ4MjA6W1sxNTg3LDE1ODBdLDI1Nl0sNjQ4MjE6W1sxNTg3LDE1ODFdLDI1Nl0sNjQ4MjI6W1sxNTg3LDE1ODJdLDI1Nl0sNjQ4MjM6W1sxNTg4LDE1ODBdLDI1Nl0sNjQ4MjQ6W1sxNTg4LDE1ODFdLDI1Nl0sNjQ4MjU6W1sxNTg4LDE1ODJdLDI1Nl0sNjQ4MjY6W1sxNTkxLDE2MDVdLDI1Nl0sNjQ4Mjc6W1sxNTkyLDE2MDVdLDI1Nl0sNjQ4Mjg6W1sxNTc1LDE2MTFdLDI1Nl0sNjQ4Mjk6W1sxNTc1LDE2MTFdLDI1Nl0sNjQ4NDg6W1sxNTc4LDE1ODAsMTYwNV0sMjU2XSw2NDg0OTpbWzE1NzgsMTU4MSwxNTgwXSwyNTZdLDY0ODUwOltbMTU3OCwxNTgxLDE1ODBdLDI1Nl0sNjQ4NTE6W1sxNTc4LDE1ODEsMTYwNV0sMjU2XSw2NDg1MjpbWzE1NzgsMTU4MiwxNjA1XSwyNTZdLDY0ODUzOltbMTU3OCwxNjA1LDE1ODBdLDI1Nl0sNjQ4NTQ6W1sxNTc4LDE2MDUsMTU4MV0sMjU2XSw2NDg1NTpbWzE1NzgsMTYwNSwxNTgyXSwyNTZdLDY0ODU2OltbMTU4MCwxNjA1LDE1ODFdLDI1Nl0sNjQ4NTc6W1sxNTgwLDE2MDUsMTU4MV0sMjU2XSw2NDg1ODpbWzE1ODEsMTYwNSwxNjEwXSwyNTZdLDY0ODU5OltbMTU4MSwxNjA1LDE2MDldLDI1Nl0sNjQ4NjA6W1sxNTg3LDE1ODEsMTU4MF0sMjU2XSw2NDg2MTpbWzE1ODcsMTU4MCwxNTgxXSwyNTZdLDY0ODYyOltbMTU4NywxNTgwLDE2MDldLDI1Nl0sNjQ4NjM6W1sxNTg3LDE2MDUsMTU4MV0sMjU2XSw2NDg2NDpbWzE1ODcsMTYwNSwxNTgxXSwyNTZdLDY0ODY1OltbMTU4NywxNjA1LDE1ODBdLDI1Nl0sNjQ4NjY6W1sxNTg3LDE2MDUsMTYwNV0sMjU2XSw2NDg2NzpbWzE1ODcsMTYwNSwxNjA1XSwyNTZdLDY0ODY4OltbMTU4OSwxNTgxLDE1ODFdLDI1Nl0sNjQ4Njk6W1sxNTg5LDE1ODEsMTU4MV0sMjU2XSw2NDg3MDpbWzE1ODksMTYwNSwxNjA1XSwyNTZdLDY0ODcxOltbMTU4OCwxNTgxLDE2MDVdLDI1Nl0sNjQ4NzI6W1sxNTg4LDE1ODEsMTYwNV0sMjU2XSw2NDg3MzpbWzE1ODgsMTU4MCwxNjEwXSwyNTZdLDY0ODc0OltbMTU4OCwxNjA1LDE1ODJdLDI1Nl0sNjQ4NzU6W1sxNTg4LDE2MDUsMTU4Ml0sMjU2XSw2NDg3NjpbWzE1ODgsMTYwNSwxNjA1XSwyNTZdLDY0ODc3OltbMTU4OCwxNjA1LDE2MDVdLDI1Nl0sNjQ4Nzg6W1sxNTkwLDE1ODEsMTYwOV0sMjU2XSw2NDg3OTpbWzE1OTAsMTU4MiwxNjA1XSwyNTZdLDY0ODgwOltbMTU5MCwxNTgyLDE2MDVdLDI1Nl0sNjQ4ODE6W1sxNTkxLDE2MDUsMTU4MV0sMjU2XSw2NDg4MjpbWzE1OTEsMTYwNSwxNTgxXSwyNTZdLDY0ODgzOltbMTU5MSwxNjA1LDE2MDVdLDI1Nl0sNjQ4ODQ6W1sxNTkxLDE2MDUsMTYxMF0sMjU2XSw2NDg4NTpbWzE1OTMsMTU4MCwxNjA1XSwyNTZdLDY0ODg2OltbMTU5MywxNjA1LDE2MDVdLDI1Nl0sNjQ4ODc6W1sxNTkzLDE2MDUsMTYwNV0sMjU2XSw2NDg4ODpbWzE1OTMsMTYwNSwxNjA5XSwyNTZdLDY0ODg5OltbMTU5NCwxNjA1LDE2MDVdLDI1Nl0sNjQ4OTA6W1sxNTk0LDE2MDUsMTYxMF0sMjU2XSw2NDg5MTpbWzE1OTQsMTYwNSwxNjA5XSwyNTZdLDY0ODkyOltbMTYwMSwxNTgyLDE2MDVdLDI1Nl0sNjQ4OTM6W1sxNjAxLDE1ODIsMTYwNV0sMjU2XSw2NDg5NDpbWzE2MDIsMTYwNSwxNTgxXSwyNTZdLDY0ODk1OltbMTYwMiwxNjA1LDE2MDVdLDI1Nl0sNjQ4OTY6W1sxNjA0LDE1ODEsMTYwNV0sMjU2XSw2NDg5NzpbWzE2MDQsMTU4MSwxNjEwXSwyNTZdLDY0ODk4OltbMTYwNCwxNTgxLDE2MDldLDI1Nl0sNjQ4OTk6W1sxNjA0LDE1ODAsMTU4MF0sMjU2XSw2NDkwMDpbWzE2MDQsMTU4MCwxNTgwXSwyNTZdLDY0OTAxOltbMTYwNCwxNTgyLDE2MDVdLDI1Nl0sNjQ5MDI6W1sxNjA0LDE1ODIsMTYwNV0sMjU2XSw2NDkwMzpbWzE2MDQsMTYwNSwxNTgxXSwyNTZdLDY0OTA0OltbMTYwNCwxNjA1LDE1ODFdLDI1Nl0sNjQ5MDU6W1sxNjA1LDE1ODEsMTU4MF0sMjU2XSw2NDkwNjpbWzE2MDUsMTU4MSwxNjA1XSwyNTZdLDY0OTA3OltbMTYwNSwxNTgxLDE2MTBdLDI1Nl0sNjQ5MDg6W1sxNjA1LDE1ODAsMTU4MV0sMjU2XSw2NDkwOTpbWzE2MDUsMTU4MCwxNjA1XSwyNTZdLDY0OTEwOltbMTYwNSwxNTgyLDE1ODBdLDI1Nl0sNjQ5MTE6W1sxNjA1LDE1ODIsMTYwNV0sMjU2XSw2NDkxNDpbWzE2MDUsMTU4MCwxNTgyXSwyNTZdLDY0OTE1OltbMTYwNywxNjA1LDE1ODBdLDI1Nl0sNjQ5MTY6W1sxNjA3LDE2MDUsMTYwNV0sMjU2XSw2NDkxNzpbWzE2MDYsMTU4MSwxNjA1XSwyNTZdLDY0OTE4OltbMTYwNiwxNTgxLDE2MDldLDI1Nl0sNjQ5MTk6W1sxNjA2LDE1ODAsMTYwNV0sMjU2XSw2NDkyMDpbWzE2MDYsMTU4MCwxNjA1XSwyNTZdLDY0OTIxOltbMTYwNiwxNTgwLDE2MDldLDI1Nl0sNjQ5MjI6W1sxNjA2LDE2MDUsMTYxMF0sMjU2XSw2NDkyMzpbWzE2MDYsMTYwNSwxNjA5XSwyNTZdLDY0OTI0OltbMTYxMCwxNjA1LDE2MDVdLDI1Nl0sNjQ5MjU6W1sxNjEwLDE2MDUsMTYwNV0sMjU2XSw2NDkyNjpbWzE1NzYsMTU4MiwxNjEwXSwyNTZdLDY0OTI3OltbMTU3OCwxNTgwLDE2MTBdLDI1Nl0sNjQ5Mjg6W1sxNTc4LDE1ODAsMTYwOV0sMjU2XSw2NDkyOTpbWzE1NzgsMTU4MiwxNjEwXSwyNTZdLDY0OTMwOltbMTU3OCwxNTgyLDE2MDldLDI1Nl0sNjQ5MzE6W1sxNTc4LDE2MDUsMTYxMF0sMjU2XSw2NDkzMjpbWzE1NzgsMTYwNSwxNjA5XSwyNTZdLDY0OTMzOltbMTU4MCwxNjA1LDE2MTBdLDI1Nl0sNjQ5MzQ6W1sxNTgwLDE1ODEsMTYwOV0sMjU2XSw2NDkzNTpbWzE1ODAsMTYwNSwxNjA5XSwyNTZdLDY0OTM2OltbMTU4NywxNTgyLDE2MDldLDI1Nl0sNjQ5Mzc6W1sxNTg5LDE1ODEsMTYxMF0sMjU2XSw2NDkzODpbWzE1ODgsMTU4MSwxNjEwXSwyNTZdLDY0OTM5OltbMTU5MCwxNTgxLDE2MTBdLDI1Nl0sNjQ5NDA6W1sxNjA0LDE1ODAsMTYxMF0sMjU2XSw2NDk0MTpbWzE2MDQsMTYwNSwxNjEwXSwyNTZdLDY0OTQyOltbMTYxMCwxNTgxLDE2MTBdLDI1Nl0sNjQ5NDM6W1sxNjEwLDE1ODAsMTYxMF0sMjU2XSw2NDk0NDpbWzE2MTAsMTYwNSwxNjEwXSwyNTZdLDY0OTQ1OltbMTYwNSwxNjA1LDE2MTBdLDI1Nl0sNjQ5NDY6W1sxNjAyLDE2MDUsMTYxMF0sMjU2XSw2NDk0NzpbWzE2MDYsMTU4MSwxNjEwXSwyNTZdLDY0OTQ4OltbMTYwMiwxNjA1LDE1ODFdLDI1Nl0sNjQ5NDk6W1sxNjA0LDE1ODEsMTYwNV0sMjU2XSw2NDk1MDpbWzE1OTMsMTYwNSwxNjEwXSwyNTZdLDY0OTUxOltbMTYwMywxNjA1LDE2MTBdLDI1Nl0sNjQ5NTI6W1sxNjA2LDE1ODAsMTU4MV0sMjU2XSw2NDk1MzpbWzE2MDUsMTU4MiwxNjEwXSwyNTZdLDY0OTU0OltbMTYwNCwxNTgwLDE2MDVdLDI1Nl0sNjQ5NTU6W1sxNjAzLDE2MDUsMTYwNV0sMjU2XSw2NDk1NjpbWzE2MDQsMTU4MCwxNjA1XSwyNTZdLDY0OTU3OltbMTYwNiwxNTgwLDE1ODFdLDI1Nl0sNjQ5NTg6W1sxNTgwLDE1ODEsMTYxMF0sMjU2XSw2NDk1OTpbWzE1ODEsMTU4MCwxNjEwXSwyNTZdLDY0OTYwOltbMTYwNSwxNTgwLDE2MTBdLDI1Nl0sNjQ5NjE6W1sxNjAxLDE2MDUsMTYxMF0sMjU2XSw2NDk2MjpbWzE1NzYsMTU4MSwxNjEwXSwyNTZdLDY0OTYzOltbMTYwMywxNjA1LDE2MDVdLDI1Nl0sNjQ5NjQ6W1sxNTkzLDE1ODAsMTYwNV0sMjU2XSw2NDk2NTpbWzE1ODksMTYwNSwxNjA1XSwyNTZdLDY0OTY2OltbMTU4NywxNTgyLDE2MTBdLDI1Nl0sNjQ5Njc6W1sxNjA2LDE1ODAsMTYxMF0sMjU2XSw2NTAwODpbWzE1ODksMTYwNCwxNzQ2XSwyNTZdLDY1MDA5OltbMTYwMiwxNjA0LDE3NDZdLDI1Nl0sNjUwMTA6W1sxNTc1LDE2MDQsMTYwNCwxNjA3XSwyNTZdLDY1MDExOltbMTU3NSwxNjAzLDE1NzYsMTU4NV0sMjU2XSw2NTAxMjpbWzE2MDUsMTU4MSwxNjA1LDE1ODNdLDI1Nl0sNjUwMTM6W1sxNTg5LDE2MDQsMTU5MywxNjA1XSwyNTZdLDY1MDE0OltbMTU4NSwxNTg3LDE2MDgsMTYwNF0sMjU2XSw2NTAxNTpbWzE1OTMsMTYwNCwxNjEwLDE2MDddLDI1Nl0sNjUwMTY6W1sxNjA4LDE1ODcsMTYwNCwxNjA1XSwyNTZdLDY1MDE3OltbMTU4OSwxNjA0LDE2MDldLDI1Nl0sNjUwMTg6W1sxNTg5LDE2MDQsMTYwOSwzMiwxNTc1LDE2MDQsMTYwNCwxNjA3LDMyLDE1OTMsMTYwNCwxNjEwLDE2MDcsMzIsMTYwOCwxNTg3LDE2MDQsMTYwNV0sMjU2XSw2NTAxOTpbWzE1ODAsMTYwNCwzMiwxNTgwLDE2MDQsMTU3NSwxNjA0LDE2MDddLDI1Nl0sNjUwMjA6W1sxNTg1LDE3NDAsMTU3NSwxNjA0XSwyNTZdfSwKNjUwMjQ6ezY1MDQwOltbNDRdLDI1Nl0sNjUwNDE6W1sxMjI4OV0sMjU2XSw2NTA0MjpbWzEyMjkwXSwyNTZdLDY1MDQzOltbNThdLDI1Nl0sNjUwNDQ6W1s1OV0sMjU2XSw2NTA0NTpbWzMzXSwyNTZdLDY1MDQ2OltbNjNdLDI1Nl0sNjUwNDc6W1sxMjMxMF0sMjU2XSw2NTA0ODpbWzEyMzExXSwyNTZdLDY1MDQ5OltbODIzMF0sMjU2XSw2NTA1NjpbLDIzMF0sNjUwNTc6WywyMzBdLDY1MDU4OlssMjMwXSw2NTA1OTpbLDIzMF0sNjUwNjA6WywyMzBdLDY1MDYxOlssMjMwXSw2NTA2MjpbLDIzMF0sNjUwNjM6WywyMjBdLDY1MDY0OlssMjIwXSw2NTA2NTpbLDIyMF0sNjUwNjY6WywyMjBdLDY1MDY3OlssMjIwXSw2NTA2ODpbLDIyMF0sNjUwNjk6WywyMjBdLDY1MDcyOltbODIyOV0sMjU2XSw2NTA3MzpbWzgyMTJdLDI1Nl0sNjUwNzQ6W1s4MjExXSwyNTZdLDY1MDc1OltbOTVdLDI1Nl0sNjUwNzY6W1s5NV0sMjU2XSw2NTA3NzpbWzQwXSwyNTZdLDY1MDc4OltbNDFdLDI1Nl0sNjUwNzk6W1sxMjNdLDI1Nl0sNjUwODA6W1sxMjVdLDI1Nl0sNjUwODE6W1sxMjMwOF0sMjU2XSw2NTA4MjpbWzEyMzA5XSwyNTZdLDY1MDgzOltbMTIzMDRdLDI1Nl0sNjUwODQ6W1sxMjMwNV0sMjU2XSw2NTA4NTpbWzEyMjk4XSwyNTZdLDY1MDg2OltbMTIyOTldLDI1Nl0sNjUwODc6W1sxMjI5Nl0sMjU2XSw2NTA4ODpbWzEyMjk3XSwyNTZdLDY1MDg5OltbMTIzMDBdLDI1Nl0sNjUwOTA6W1sxMjMwMV0sMjU2XSw2NTA5MTpbWzEyMzAyXSwyNTZdLDY1MDkyOltbMTIzMDNdLDI1Nl0sNjUwOTU6W1s5MV0sMjU2XSw2NTA5NjpbWzkzXSwyNTZdLDY1MDk3OltbODI1NF0sMjU2XSw2NTA5ODpbWzgyNTRdLDI1Nl0sNjUwOTk6W1s4MjU0XSwyNTZdLDY1MTAwOltbODI1NF0sMjU2XSw2NTEwMTpbWzk1XSwyNTZdLDY1MTAyOltbOTVdLDI1Nl0sNjUxMDM6W1s5NV0sMjU2XSw2NTEwNDpbWzQ0XSwyNTZdLDY1MTA1OltbMTIyODldLDI1Nl0sNjUxMDY6W1s0Nl0sMjU2XSw2NTEwODpbWzU5XSwyNTZdLDY1MTA5OltbNThdLDI1Nl0sNjUxMTA6W1s2M10sMjU2XSw2NTExMTpbWzMzXSwyNTZdLDY1MTEyOltbODIxMl0sMjU2XSw2NTExMzpbWzQwXSwyNTZdLDY1MTE0OltbNDFdLDI1Nl0sNjUxMTU6W1sxMjNdLDI1Nl0sNjUxMTY6W1sxMjVdLDI1Nl0sNjUxMTc6W1sxMjMwOF0sMjU2XSw2NTExODpbWzEyMzA5XSwyNTZdLDY1MTE5OltbMzVdLDI1Nl0sNjUxMjA6W1szOF0sMjU2XSw2NTEyMTpbWzQyXSwyNTZdLDY1MTIyOltbNDNdLDI1Nl0sNjUxMjM6W1s0NV0sMjU2XSw2NTEyNDpbWzYwXSwyNTZdLDY1MTI1OltbNjJdLDI1Nl0sNjUxMjY6W1s2MV0sMjU2XSw2NTEyODpbWzkyXSwyNTZdLDY1MTI5OltbMzZdLDI1Nl0sNjUxMzA6W1szN10sMjU2XSw2NTEzMTpbWzY0XSwyNTZdLDY1MTM2OltbMzIsMTYxMV0sMjU2XSw2NTEzNzpbWzE2MDAsMTYxMV0sMjU2XSw2NTEzODpbWzMyLDE2MTJdLDI1Nl0sNjUxNDA6W1szMiwxNjEzXSwyNTZdLDY1MTQyOltbMzIsMTYxNF0sMjU2XSw2NTE0MzpbWzE2MDAsMTYxNF0sMjU2XSw2NTE0NDpbWzMyLDE2MTVdLDI1Nl0sNjUxNDU6W1sxNjAwLDE2MTVdLDI1Nl0sNjUxNDY6W1szMiwxNjE2XSwyNTZdLDY1MTQ3OltbMTYwMCwxNjE2XSwyNTZdLDY1MTQ4OltbMzIsMTYxN10sMjU2XSw2NTE0OTpbWzE2MDAsMTYxN10sMjU2XSw2NTE1MDpbWzMyLDE2MThdLDI1Nl0sNjUxNTE6W1sxNjAwLDE2MThdLDI1Nl0sNjUxNTI6W1sxNTY5XSwyNTZdLDY1MTUzOltbMTU3MF0sMjU2XSw2NTE1NDpbWzE1NzBdLDI1Nl0sNjUxNTU6W1sxNTcxXSwyNTZdLDY1MTU2OltbMTU3MV0sMjU2XSw2NTE1NzpbWzE1NzJdLDI1Nl0sNjUxNTg6W1sxNTcyXSwyNTZdLDY1MTU5OltbMTU3M10sMjU2XSw2NTE2MDpbWzE1NzNdLDI1Nl0sNjUxNjE6W1sxNTc0XSwyNTZdLDY1MTYyOltbMTU3NF0sMjU2XSw2NTE2MzpbWzE1NzRdLDI1Nl0sNjUxNjQ6W1sxNTc0XSwyNTZdLDY1MTY1OltbMTU3NV0sMjU2XSw2NTE2NjpbWzE1NzVdLDI1Nl0sNjUxNjc6W1sxNTc2XSwyNTZdLDY1MTY4OltbMTU3Nl0sMjU2XSw2NTE2OTpbWzE1NzZdLDI1Nl0sNjUxNzA6W1sxNTc2XSwyNTZdLDY1MTcxOltbMTU3N10sMjU2XSw2NTE3MjpbWzE1NzddLDI1Nl0sNjUxNzM6W1sxNTc4XSwyNTZdLDY1MTc0OltbMTU3OF0sMjU2XSw2NTE3NTpbWzE1NzhdLDI1Nl0sNjUxNzY6W1sxNTc4XSwyNTZdLDY1MTc3OltbMTU3OV0sMjU2XSw2NTE3ODpbWzE1NzldLDI1Nl0sNjUxNzk6W1sxNTc5XSwyNTZdLDY1MTgwOltbMTU3OV0sMjU2XSw2NTE4MTpbWzE1ODBdLDI1Nl0sNjUxODI6W1sxNTgwXSwyNTZdLDY1MTgzOltbMTU4MF0sMjU2XSw2NTE4NDpbWzE1ODBdLDI1Nl0sNjUxODU6W1sxNTgxXSwyNTZdLDY1MTg2OltbMTU4MV0sMjU2XSw2NTE4NzpbWzE1ODFdLDI1Nl0sNjUxODg6W1sxNTgxXSwyNTZdLDY1MTg5OltbMTU4Ml0sMjU2XSw2NTE5MDpbWzE1ODJdLDI1Nl0sNjUxOTE6W1sxNTgyXSwyNTZdLDY1MTkyOltbMTU4Ml0sMjU2XSw2NTE5MzpbWzE1ODNdLDI1Nl0sNjUxOTQ6W1sxNTgzXSwyNTZdLDY1MTk1OltbMTU4NF0sMjU2XSw2NTE5NjpbWzE1ODRdLDI1Nl0sNjUxOTc6W1sxNTg1XSwyNTZdLDY1MTk4OltbMTU4NV0sMjU2XSw2NTE5OTpbWzE1ODZdLDI1Nl0sNjUyMDA6W1sxNTg2XSwyNTZdLDY1MjAxOltbMTU4N10sMjU2XSw2NTIwMjpbWzE1ODddLDI1Nl0sNjUyMDM6W1sxNTg3XSwyNTZdLDY1MjA0OltbMTU4N10sMjU2XSw2NTIwNTpbWzE1ODhdLDI1Nl0sNjUyMDY6W1sxNTg4XSwyNTZdLDY1MjA3OltbMTU4OF0sMjU2XSw2NTIwODpbWzE1ODhdLDI1Nl0sNjUyMDk6W1sxNTg5XSwyNTZdLDY1MjEwOltbMTU4OV0sMjU2XSw2NTIxMTpbWzE1ODldLDI1Nl0sNjUyMTI6W1sxNTg5XSwyNTZdLDY1MjEzOltbMTU5MF0sMjU2XSw2NTIxNDpbWzE1OTBdLDI1Nl0sNjUyMTU6W1sxNTkwXSwyNTZdLDY1MjE2OltbMTU5MF0sMjU2XSw2NTIxNzpbWzE1OTFdLDI1Nl0sNjUyMTg6W1sxNTkxXSwyNTZdLDY1MjE5OltbMTU5MV0sMjU2XSw2NTIyMDpbWzE1OTFdLDI1Nl0sNjUyMjE6W1sxNTkyXSwyNTZdLDY1MjIyOltbMTU5Ml0sMjU2XSw2NTIyMzpbWzE1OTJdLDI1Nl0sNjUyMjQ6W1sxNTkyXSwyNTZdLDY1MjI1OltbMTU5M10sMjU2XSw2NTIyNjpbWzE1OTNdLDI1Nl0sNjUyMjc6W1sxNTkzXSwyNTZdLDY1MjI4OltbMTU5M10sMjU2XSw2NTIyOTpbWzE1OTRdLDI1Nl0sNjUyMzA6W1sxNTk0XSwyNTZdLDY1MjMxOltbMTU5NF0sMjU2XSw2NTIzMjpbWzE1OTRdLDI1Nl0sNjUyMzM6W1sxNjAxXSwyNTZdLDY1MjM0OltbMTYwMV0sMjU2XSw2NTIzNTpbWzE2MDFdLDI1Nl0sNjUyMzY6W1sxNjAxXSwyNTZdLDY1MjM3OltbMTYwMl0sMjU2XSw2NTIzODpbWzE2MDJdLDI1Nl0sNjUyMzk6W1sxNjAyXSwyNTZdLDY1MjQwOltbMTYwMl0sMjU2XSw2NTI0MTpbWzE2MDNdLDI1Nl0sNjUyNDI6W1sxNjAzXSwyNTZdLDY1MjQzOltbMTYwM10sMjU2XSw2NTI0NDpbWzE2MDNdLDI1Nl0sNjUyNDU6W1sxNjA0XSwyNTZdLDY1MjQ2OltbMTYwNF0sMjU2XSw2NTI0NzpbWzE2MDRdLDI1Nl0sNjUyNDg6W1sxNjA0XSwyNTZdLDY1MjQ5OltbMTYwNV0sMjU2XSw2NTI1MDpbWzE2MDVdLDI1Nl0sNjUyNTE6W1sxNjA1XSwyNTZdLDY1MjUyOltbMTYwNV0sMjU2XSw2NTI1MzpbWzE2MDZdLDI1Nl0sNjUyNTQ6W1sxNjA2XSwyNTZdLDY1MjU1OltbMTYwNl0sMjU2XSw2NTI1NjpbWzE2MDZdLDI1Nl0sNjUyNTc6W1sxNjA3XSwyNTZdLDY1MjU4OltbMTYwN10sMjU2XSw2NTI1OTpbWzE2MDddLDI1Nl0sNjUyNjA6W1sxNjA3XSwyNTZdLDY1MjYxOltbMTYwOF0sMjU2XSw2NTI2MjpbWzE2MDhdLDI1Nl0sNjUyNjM6W1sxNjA5XSwyNTZdLDY1MjY0OltbMTYwOV0sMjU2XSw2NTI2NTpbWzE2MTBdLDI1Nl0sNjUyNjY6W1sxNjEwXSwyNTZdLDY1MjY3OltbMTYxMF0sMjU2XSw2NTI2ODpbWzE2MTBdLDI1Nl0sNjUyNjk6W1sxNjA0LDE1NzBdLDI1Nl0sNjUyNzA6W1sxNjA0LDE1NzBdLDI1Nl0sNjUyNzE6W1sxNjA0LDE1NzFdLDI1Nl0sNjUyNzI6W1sxNjA0LDE1NzFdLDI1Nl0sNjUyNzM6W1sxNjA0LDE1NzNdLDI1Nl0sNjUyNzQ6W1sxNjA0LDE1NzNdLDI1Nl0sNjUyNzU6W1sxNjA0LDE1NzVdLDI1Nl0sNjUyNzY6W1sxNjA0LDE1NzVdLDI1Nl19LAo2NTI4MDp7NjUyODE6W1szM10sMjU2XSw2NTI4MjpbWzM0XSwyNTZdLDY1MjgzOltbMzVdLDI1Nl0sNjUyODQ6W1szNl0sMjU2XSw2NTI4NTpbWzM3XSwyNTZdLDY1Mjg2OltbMzhdLDI1Nl0sNjUyODc6W1szOV0sMjU2XSw2NTI4ODpbWzQwXSwyNTZdLDY1Mjg5OltbNDFdLDI1Nl0sNjUyOTA6W1s0Ml0sMjU2XSw2NTI5MTpbWzQzXSwyNTZdLDY1MjkyOltbNDRdLDI1Nl0sNjUyOTM6W1s0NV0sMjU2XSw2NTI5NDpbWzQ2XSwyNTZdLDY1Mjk1OltbNDddLDI1Nl0sNjUyOTY6W1s0OF0sMjU2XSw2NTI5NzpbWzQ5XSwyNTZdLDY1Mjk4OltbNTBdLDI1Nl0sNjUyOTk6W1s1MV0sMjU2XSw2NTMwMDpbWzUyXSwyNTZdLDY1MzAxOltbNTNdLDI1Nl0sNjUzMDI6W1s1NF0sMjU2XSw2NTMwMzpbWzU1XSwyNTZdLDY1MzA0OltbNTZdLDI1Nl0sNjUzMDU6W1s1N10sMjU2XSw2NTMwNjpbWzU4XSwyNTZdLDY1MzA3OltbNTldLDI1Nl0sNjUzMDg6W1s2MF0sMjU2XSw2NTMwOTpbWzYxXSwyNTZdLDY1MzEwOltbNjJdLDI1Nl0sNjUzMTE6W1s2M10sMjU2XSw2NTMxMjpbWzY0XSwyNTZdLDY1MzEzOltbNjVdLDI1Nl0sNjUzMTQ6W1s2Nl0sMjU2XSw2NTMxNTpbWzY3XSwyNTZdLDY1MzE2OltbNjhdLDI1Nl0sNjUzMTc6W1s2OV0sMjU2XSw2NTMxODpbWzcwXSwyNTZdLDY1MzE5OltbNzFdLDI1Nl0sNjUzMjA6W1s3Ml0sMjU2XSw2NTMyMTpbWzczXSwyNTZdLDY1MzIyOltbNzRdLDI1Nl0sNjUzMjM6W1s3NV0sMjU2XSw2NTMyNDpbWzc2XSwyNTZdLDY1MzI1OltbNzddLDI1Nl0sNjUzMjY6W1s3OF0sMjU2XSw2NTMyNzpbWzc5XSwyNTZdLDY1MzI4OltbODBdLDI1Nl0sNjUzMjk6W1s4MV0sMjU2XSw2NTMzMDpbWzgyXSwyNTZdLDY1MzMxOltbODNdLDI1Nl0sNjUzMzI6W1s4NF0sMjU2XSw2NTMzMzpbWzg1XSwyNTZdLDY1MzM0OltbODZdLDI1Nl0sNjUzMzU6W1s4N10sMjU2XSw2NTMzNjpbWzg4XSwyNTZdLDY1MzM3OltbODldLDI1Nl0sNjUzMzg6W1s5MF0sMjU2XSw2NTMzOTpbWzkxXSwyNTZdLDY1MzQwOltbOTJdLDI1Nl0sNjUzNDE6W1s5M10sMjU2XSw2NTM0MjpbWzk0XSwyNTZdLDY1MzQzOltbOTVdLDI1Nl0sNjUzNDQ6W1s5Nl0sMjU2XSw2NTM0NTpbWzk3XSwyNTZdLDY1MzQ2OltbOThdLDI1Nl0sNjUzNDc6W1s5OV0sMjU2XSw2NTM0ODpbWzEwMF0sMjU2XSw2NTM0OTpbWzEwMV0sMjU2XSw2NTM1MDpbWzEwMl0sMjU2XSw2NTM1MTpbWzEwM10sMjU2XSw2NTM1MjpbWzEwNF0sMjU2XSw2NTM1MzpbWzEwNV0sMjU2XSw2NTM1NDpbWzEwNl0sMjU2XSw2NTM1NTpbWzEwN10sMjU2XSw2NTM1NjpbWzEwOF0sMjU2XSw2NTM1NzpbWzEwOV0sMjU2XSw2NTM1ODpbWzExMF0sMjU2XSw2NTM1OTpbWzExMV0sMjU2XSw2NTM2MDpbWzExMl0sMjU2XSw2NTM2MTpbWzExM10sMjU2XSw2NTM2MjpbWzExNF0sMjU2XSw2NTM2MzpbWzExNV0sMjU2XSw2NTM2NDpbWzExNl0sMjU2XSw2NTM2NTpbWzExN10sMjU2XSw2NTM2NjpbWzExOF0sMjU2XSw2NTM2NzpbWzExOV0sMjU2XSw2NTM2ODpbWzEyMF0sMjU2XSw2NTM2OTpbWzEyMV0sMjU2XSw2NTM3MDpbWzEyMl0sMjU2XSw2NTM3MTpbWzEyM10sMjU2XSw2NTM3MjpbWzEyNF0sMjU2XSw2NTM3MzpbWzEyNV0sMjU2XSw2NTM3NDpbWzEyNl0sMjU2XSw2NTM3NTpbWzEwNjI5XSwyNTZdLDY1Mzc2OltbMTA2MzBdLDI1Nl0sNjUzNzc6W1sxMjI5MF0sMjU2XSw2NTM3ODpbWzEyMzAwXSwyNTZdLDY1Mzc5OltbMTIzMDFdLDI1Nl0sNjUzODA6W1sxMjI4OV0sMjU2XSw2NTM4MTpbWzEyNTM5XSwyNTZdLDY1MzgyOltbMTI1MzBdLDI1Nl0sNjUzODM6W1sxMjQ0OV0sMjU2XSw2NTM4NDpbWzEyNDUxXSwyNTZdLDY1Mzg1OltbMTI0NTNdLDI1Nl0sNjUzODY6W1sxMjQ1NV0sMjU2XSw2NTM4NzpbWzEyNDU3XSwyNTZdLDY1Mzg4OltbMTI1MTVdLDI1Nl0sNjUzODk6W1sxMjUxN10sMjU2XSw2NTM5MDpbWzEyNTE5XSwyNTZdLDY1MzkxOltbMTI0ODNdLDI1Nl0sNjUzOTI6W1sxMjU0MF0sMjU2XSw2NTM5MzpbWzEyNDUwXSwyNTZdLDY1Mzk0OltbMTI0NTJdLDI1Nl0sNjUzOTU6W1sxMjQ1NF0sMjU2XSw2NTM5NjpbWzEyNDU2XSwyNTZdLDY1Mzk3OltbMTI0NThdLDI1Nl0sNjUzOTg6W1sxMjQ1OV0sMjU2XSw2NTM5OTpbWzEyNDYxXSwyNTZdLDY1NDAwOltbMTI0NjNdLDI1Nl0sNjU0MDE6W1sxMjQ2NV0sMjU2XSw2NTQwMjpbWzEyNDY3XSwyNTZdLDY1NDAzOltbMTI0NjldLDI1Nl0sNjU0MDQ6W1sxMjQ3MV0sMjU2XSw2NTQwNTpbWzEyNDczXSwyNTZdLDY1NDA2OltbMTI0NzVdLDI1Nl0sNjU0MDc6W1sxMjQ3N10sMjU2XSw2NTQwODpbWzEyNDc5XSwyNTZdLDY1NDA5OltbMTI0ODFdLDI1Nl0sNjU0MTA6W1sxMjQ4NF0sMjU2XSw2NTQxMTpbWzEyNDg2XSwyNTZdLDY1NDEyOltbMTI0ODhdLDI1Nl0sNjU0MTM6W1sxMjQ5MF0sMjU2XSw2NTQxNDpbWzEyNDkxXSwyNTZdLDY1NDE1OltbMTI0OTJdLDI1Nl0sNjU0MTY6W1sxMjQ5M10sMjU2XSw2NTQxNzpbWzEyNDk0XSwyNTZdLDY1NDE4OltbMTI0OTVdLDI1Nl0sNjU0MTk6W1sxMjQ5OF0sMjU2XSw2NTQyMDpbWzEyNTAxXSwyNTZdLDY1NDIxOltbMTI1MDRdLDI1Nl0sNjU0MjI6W1sxMjUwN10sMjU2XSw2NTQyMzpbWzEyNTEwXSwyNTZdLDY1NDI0OltbMTI1MTFdLDI1Nl0sNjU0MjU6W1sxMjUxMl0sMjU2XSw2NTQyNjpbWzEyNTEzXSwyNTZdLDY1NDI3OltbMTI1MTRdLDI1Nl0sNjU0Mjg6W1sxMjUxNl0sMjU2XSw2NTQyOTpbWzEyNTE4XSwyNTZdLDY1NDMwOltbMTI1MjBdLDI1Nl0sNjU0MzE6W1sxMjUyMV0sMjU2XSw2NTQzMjpbWzEyNTIyXSwyNTZdLDY1NDMzOltbMTI1MjNdLDI1Nl0sNjU0MzQ6W1sxMjUyNF0sMjU2XSw2NTQzNTpbWzEyNTI1XSwyNTZdLDY1NDM2OltbMTI1MjddLDI1Nl0sNjU0Mzc6W1sxMjUzMV0sMjU2XSw2NTQzODpbWzEyNDQxXSwyNTZdLDY1NDM5OltbMTI0NDJdLDI1Nl0sNjU0NDA6W1sxMjY0NF0sMjU2XSw2NTQ0MTpbWzEyNTkzXSwyNTZdLDY1NDQyOltbMTI1OTRdLDI1Nl0sNjU0NDM6W1sxMjU5NV0sMjU2XSw2NTQ0NDpbWzEyNTk2XSwyNTZdLDY1NDQ1OltbMTI1OTddLDI1Nl0sNjU0NDY6W1sxMjU5OF0sMjU2XSw2NTQ0NzpbWzEyNTk5XSwyNTZdLDY1NDQ4OltbMTI2MDBdLDI1Nl0sNjU0NDk6W1sxMjYwMV0sMjU2XSw2NTQ1MDpbWzEyNjAyXSwyNTZdLDY1NDUxOltbMTI2MDNdLDI1Nl0sNjU0NTI6W1sxMjYwNF0sMjU2XSw2NTQ1MzpbWzEyNjA1XSwyNTZdLDY1NDU0OltbMTI2MDZdLDI1Nl0sNjU0NTU6W1sxMjYwN10sMjU2XSw2NTQ1NjpbWzEyNjA4XSwyNTZdLDY1NDU3OltbMTI2MDldLDI1Nl0sNjU0NTg6W1sxMjYxMF0sMjU2XSw2NTQ1OTpbWzEyNjExXSwyNTZdLDY1NDYwOltbMTI2MTJdLDI1Nl0sNjU0NjE6W1sxMjYxM10sMjU2XSw2NTQ2MjpbWzEyNjE0XSwyNTZdLDY1NDYzOltbMTI2MTVdLDI1Nl0sNjU0NjQ6W1sxMjYxNl0sMjU2XSw2NTQ2NTpbWzEyNjE3XSwyNTZdLDY1NDY2OltbMTI2MThdLDI1Nl0sNjU0Njc6W1sxMjYxOV0sMjU2XSw2NTQ2ODpbWzEyNjIwXSwyNTZdLDY1NDY5OltbMTI2MjFdLDI1Nl0sNjU0NzA6W1sxMjYyMl0sMjU2XSw2NTQ3NDpbWzEyNjIzXSwyNTZdLDY1NDc1OltbMTI2MjRdLDI1Nl0sNjU0NzY6W1sxMjYyNV0sMjU2XSw2NTQ3NzpbWzEyNjI2XSwyNTZdLDY1NDc4OltbMTI2MjddLDI1Nl0sNjU0Nzk6W1sxMjYyOF0sMjU2XSw2NTQ4MjpbWzEyNjI5XSwyNTZdLDY1NDgzOltbMTI2MzBdLDI1Nl0sNjU0ODQ6W1sxMjYzMV0sMjU2XSw2NTQ4NTpbWzEyNjMyXSwyNTZdLDY1NDg2OltbMTI2MzNdLDI1Nl0sNjU0ODc6W1sxMjYzNF0sMjU2XSw2NTQ5MDpbWzEyNjM1XSwyNTZdLDY1NDkxOltbMTI2MzZdLDI1Nl0sNjU0OTI6W1sxMjYzN10sMjU2XSw2NTQ5MzpbWzEyNjM4XSwyNTZdLDY1NDk0OltbMTI2MzldLDI1Nl0sNjU0OTU6W1sxMjY0MF0sMjU2XSw2NTQ5ODpbWzEyNjQxXSwyNTZdLDY1NDk5OltbMTI2NDJdLDI1Nl0sNjU1MDA6W1sxMjY0M10sMjU2XSw2NTUwNDpbWzE2Ml0sMjU2XSw2NTUwNTpbWzE2M10sMjU2XSw2NTUwNjpbWzE3Ml0sMjU2XSw2NTUwNzpbWzE3NV0sMjU2XSw2NTUwODpbWzE2Nl0sMjU2XSw2NTUwOTpbWzE2NV0sMjU2XSw2NTUxMDpbWzgzNjFdLDI1Nl0sNjU1MTI6W1s5NDc0XSwyNTZdLDY1NTEzOltbODU5Ml0sMjU2XSw2NTUxNDpbWzg1OTNdLDI1Nl0sNjU1MTU6W1s4NTk0XSwyNTZdLDY1NTE2OltbODU5NV0sMjU2XSw2NTUxNzpbWzk2MzJdLDI1Nl0sNjU1MTg6W1s5Njc1XSwyNTZdfQoKfTsKCiAgIC8qKioqKiBNb2R1bGUgdG8gZXhwb3J0ICovCiAgIHZhciB1bm9ybSA9IHsKICAgICAgbmZjOiBuZmMsCiAgICAgIG5mZDogbmZkLAogICAgICBuZmtjOiBuZmtjLAogICAgICBuZmtkOiBuZmtkCiAgIH07CgogICAvKmdsb2JhbHMgbW9kdWxlOnRydWUsZGVmaW5lOnRydWUqLwoKICAgLy8gQ29tbW9uSlMKICAgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICJvYmplY3QiKSB7CiAgICAgIG1vZHVsZS5leHBvcnRzID0gdW5vcm07CgogICAvLyBBTUQKICAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAiZnVuY3Rpb24iICYmIGRlZmluZS5hbWQpIHsKICAgICAgZGVmaW5lKCJ1bm9ybSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgcmV0dXJuIHVub3JtOwogICAgICB9KTsKCiAgIC8vIEdsb2JhbAogICB9IGVsc2UgewogICAgICByb290LnVub3JtID0gdW5vcm07CiAgIH0KCiAgIC8qKioqKiBFeHBvcnQgYXMgc2hpbSBmb3IgU3RyaW5nOjpub3JtYWxpemUgbWV0aG9kICoqKioqLwogICAvKgogICAgICBodHRwOi8vd2lraS5lY21hc2NyaXB0Lm9yZy9kb2t1LnBocD9pZD1oYXJtb255OnNwZWNpZmljYXRpb25fZHJhZnRzI25vdmVtYmVyXzhfMjAxM19kcmFmdF9yZXZfMjEKCiAgICAgIDIxLjEuMy4xMiBTdHJpbmcucHJvdG90eXBlLm5vcm1hbGl6ZShmb3JtPSJORkMiKQogICAgICBXaGVuIHRoZSBub3JtYWxpemUgbWV0aG9kIGlzIGNhbGxlZCB3aXRoIG9uZSBhcmd1bWVudCBmb3JtLCB0aGUgZm9sbG93aW5nIHN0ZXBzIGFyZSB0YWtlbjoKCiAgICAgIDEuIExldCBPIGJlIENoZWNrT2JqZWN0Q29lcmNpYmxlKHRoaXMgdmFsdWUpLgogICAgICAyLiBMZXQgUyBiZSBUb1N0cmluZyhPKS4KICAgICAgMy4gUmV0dXJuSWZBYnJ1cHQoUykuCiAgICAgIDQuIElmIGZvcm0gaXMgbm90IHByb3ZpZGVkIG9yIHVuZGVmaW5lZCBsZXQgZm9ybSBiZSAiTkZDIi4KICAgICAgNS4gTGV0IGYgYmUgVG9TdHJpbmcoZm9ybSkuCiAgICAgIDYuIFJldHVybklmQWJydXB0KGYpLgogICAgICA3LiBJZiBmIGlzIG5vdCBvbmUgb2YgIk5GQyIsICJORkQiLCAiTkZLQyIsIG9yICJORktEIiwgdGhlbiB0aHJvdyBhIFJhbmdlRXJyb3IgRXhjZXB0aW9uLgogICAgICA4LiBMZXQgbnMgYmUgdGhlIFN0cmluZyB2YWx1ZSBpcyB0aGUgcmVzdWx0IG9mIG5vcm1hbGl6aW5nIFMgaW50byB0aGUgbm9ybWFsaXphdGlvbiBmb3JtIG5hbWVkIGJ5IGYgYXMgc3BlY2lmaWVkIGluIFVuaWNvZGUgU3RhbmRhcmQgQW5uZXggIzE1LCBVbmljb2RlTm9ybWFsaXphdG9pbiBGb3Jtcy4KICAgICAgOS4gUmV0dXJuIG5zLgoKICAgICAgVGhlIGxlbmd0aCBwcm9wZXJ0eSBvZiB0aGUgbm9ybWFsaXplIG1ldGhvZCBpcyAwLgoKICAgICAgKk5PVEUqIFRoZSBub3JtYWxpemUgZnVuY3Rpb24gaXMgaW50ZW50aW9uYWxseSBnZW5lcmljOyBpdCBkb2VzIG5vdCByZXF1aXJlIHRoYXQgaXRzIHRoaXMgdmFsdWUgYmUgYSBTdHJpbmcgb2JqZWN0LiBUaGVyZWZvcmUgaXQgY2FuIGJlIHRyYW5zZmVycmVkIHRvIG90aGVyIGtpbmRzIG9mIG9iamVjdHMgZm9yIHVzZSBhcyBhIG1ldGhvZC4KICAgKi8KICAgIHVub3JtLnNoaW1BcHBsaWVkID0gZmFsc2U7CgogICBpZiAoIVN0cmluZy5wcm90b3R5cGUubm9ybWFsaXplKSB7CiAgICAgIFN0cmluZy5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24oZm9ybSkgewogICAgICAgICB2YXIgc3RyID0gIiIgKyB0aGlzOwogICAgICAgICBmb3JtID0gIGZvcm0gPT09IHVuZGVmaW5lZCA/ICJORkMiIDogZm9ybTsKCiAgICAgICAgIGlmIChmb3JtID09PSAiTkZDIikgewogICAgICAgICAgICByZXR1cm4gdW5vcm0ubmZjKHN0cik7CiAgICAgICAgIH0gZWxzZSBpZiAoZm9ybSA9PT0gIk5GRCIpIHsKICAgICAgICAgICAgcmV0dXJuIHVub3JtLm5mZChzdHIpOwogICAgICAgICB9IGVsc2UgaWYgKGZvcm0gPT09ICJORktDIikgewogICAgICAgICAgICByZXR1cm4gdW5vcm0ubmZrYyhzdHIpOwogICAgICAgICB9IGVsc2UgaWYgKGZvcm0gPT09ICJORktEIikgewogICAgICAgICAgICByZXR1cm4gdW5vcm0ubmZrZChzdHIpOwogICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcigiSW52YWxpZCBub3JtYWxpemF0aW9uIGZvcm06ICIgKyBmb3JtKTsKICAgICAgICAgfQogICAgICB9OwoKICAgICAgdW5vcm0uc2hpbUFwcGxpZWQgPSB0cnVlOwogICB9Cn0odGhpcykpOwoKfSx7fV0sMTc0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKKGZ1bmN0aW9uIChnbG9iYWwpewoKLyoqCiAqIE1vZHVsZSBleHBvcnRzLgogKi8KCm1vZHVsZS5leHBvcnRzID0gZGVwcmVjYXRlOwoKLyoqCiAqIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuCiAqIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuCiAqCiAqIElmIGBsb2NhbFN0b3JhZ2Uubm9EZXByZWNhdGlvbiA9IHRydWVgIGlzIHNldCwgdGhlbiBpdCBpcyBhIG5vLW9wLgogKgogKiBJZiBgbG9jYWxTdG9yYWdlLnRocm93RGVwcmVjYXRpb24gPSB0cnVlYCBpcyBzZXQsIHRoZW4gZGVwcmVjYXRlZCBmdW5jdGlvbnMKICogd2lsbCB0aHJvdyBhbiBFcnJvciB3aGVuIGludm9rZWQuCiAqCiAqIElmIGBsb2NhbFN0b3JhZ2UudHJhY2VEZXByZWNhdGlvbiA9IHRydWVgIGlzIHNldCwgdGhlbiBkZXByZWNhdGVkIGZ1bmN0aW9ucwogKiB3aWxsIGludm9rZSBgY29uc29sZS50cmFjZSgpYCBpbnN0ZWFkIG9mIGBjb25zb2xlLmVycm9yKClgLgogKgogKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIHRoZSBmdW5jdGlvbiB0byBkZXByZWNhdGUKICogQHBhcmFtIHtTdHJpbmd9IG1zZyAtIHRoZSBzdHJpbmcgdG8gcHJpbnQgdG8gdGhlIGNvbnNvbGUgd2hlbiBgZm5gIGlzIGludm9rZWQKICogQHJldHVybnMge0Z1bmN0aW9ufSBhIG5ldyAiZGVwcmVjYXRlZCIgdmVyc2lvbiBvZiBgZm5gCiAqIEBhcGkgcHVibGljCiAqLwoKZnVuY3Rpb24gZGVwcmVjYXRlIChmbiwgbXNnKSB7CiAgaWYgKGNvbmZpZygnbm9EZXByZWNhdGlvbicpKSB7CiAgICByZXR1cm4gZm47CiAgfQoKICB2YXIgd2FybmVkID0gZmFsc2U7CiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHsKICAgIGlmICghd2FybmVkKSB7CiAgICAgIGlmIChjb25maWcoJ3Rocm93RGVwcmVjYXRpb24nKSkgewogICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpOwogICAgICB9IGVsc2UgaWYgKGNvbmZpZygndHJhY2VEZXByZWNhdGlvbicpKSB7CiAgICAgICAgY29uc29sZS50cmFjZShtc2cpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUud2Fybihtc2cpOwogICAgICB9CiAgICAgIHdhcm5lZCA9IHRydWU7CiAgICB9CiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIHJldHVybiBkZXByZWNhdGVkOwp9CgovKioKICogQ2hlY2tzIGBsb2NhbFN0b3JhZ2VgIGZvciBib29sZWFuIHZhbHVlcyBmb3IgdGhlIGdpdmVuIGBuYW1lYC4KICoKICogQHBhcmFtIHtTdHJpbmd9IG5hbWUKICogQHJldHVybnMge0Jvb2xlYW59CiAqIEBhcGkgcHJpdmF0ZQogKi8KCmZ1bmN0aW9uIGNvbmZpZyAobmFtZSkgewogIC8vIGFjY2Vzc2luZyBnbG9iYWwubG9jYWxTdG9yYWdlIGNhbiB0cmlnZ2VyIGEgRE9NRXhjZXB0aW9uIGluIHNhbmRib3hlZCBpZnJhbWVzCiAgdHJ5IHsKICAgIGlmICghZ2xvYmFsLmxvY2FsU3RvcmFnZSkgcmV0dXJuIGZhbHNlOwogIH0gY2F0Y2ggKF8pIHsKICAgIHJldHVybiBmYWxzZTsKICB9CiAgdmFyIHZhbCA9IGdsb2JhbC5sb2NhbFN0b3JhZ2VbbmFtZV07CiAgaWYgKG51bGwgPT0gdmFsKSByZXR1cm4gZmFsc2U7CiAgcmV0dXJuIFN0cmluZyh2YWwpLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJzsKfQoKfSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09ICJ1bmRlZmluZWQiID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICJ1bmRlZmluZWQiID8gc2VsZiA6IHR5cGVvZiB3aW5kb3cgIT09ICJ1bmRlZmluZWQiID8gd2luZG93IDoge30pCn0se31dLDE3NTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNCdWZmZXIoYXJnKSB7CiAgcmV0dXJuIGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JwogICAgJiYgdHlwZW9mIGFyZy5jb3B5ID09PSAnZnVuY3Rpb24nCiAgICAmJiB0eXBlb2YgYXJnLmZpbGwgPT09ICdmdW5jdGlvbicKICAgICYmIHR5cGVvZiBhcmcucmVhZFVJbnQ4ID09PSAnZnVuY3Rpb24nOwp9Cn0se31dLDE3NjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CihmdW5jdGlvbiAocHJvY2VzcyxnbG9iYWwpewovLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy4KLy8KLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEKLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZQovLyAiU29mdHdhcmUiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nCi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwKLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdAovLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUKLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6Ci8vCi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkCi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgovLwovLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUwovLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GCi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4KLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sCi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUgovLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFCi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuCgp2YXIgZm9ybWF0UmVnRXhwID0gLyVbc2RqJV0vZzsKZXhwb3J0cy5mb3JtYXQgPSBmdW5jdGlvbihmKSB7CiAgaWYgKCFpc1N0cmluZyhmKSkgewogICAgdmFyIG9iamVjdHMgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7CiAgICAgIG9iamVjdHMucHVzaChpbnNwZWN0KGFyZ3VtZW50c1tpXSkpOwogICAgfQogICAgcmV0dXJuIG9iamVjdHMuam9pbignICcpOwogIH0KCiAgdmFyIGkgPSAxOwogIHZhciBhcmdzID0gYXJndW1lbnRzOwogIHZhciBsZW4gPSBhcmdzLmxlbmd0aDsKICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbih4KSB7CiAgICBpZiAoeCA9PT0gJyUlJykgcmV0dXJuICclJzsKICAgIGlmIChpID49IGxlbikgcmV0dXJuIHg7CiAgICBzd2l0Y2ggKHgpIHsKICAgICAgY2FzZSAnJXMnOiByZXR1cm4gU3RyaW5nKGFyZ3NbaSsrXSk7CiAgICAgIGNhc2UgJyVkJzogcmV0dXJuIE51bWJlcihhcmdzW2krK10pOwogICAgICBjYXNlICclaic6CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmdzW2krK10pOwogICAgICAgIH0gY2F0Y2ggKF8pIHsKICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyXSc7CiAgICAgICAgfQogICAgICBkZWZhdWx0OgogICAgICAgIHJldHVybiB4OwogICAgfQogIH0pOwogIGZvciAodmFyIHggPSBhcmdzW2ldOyBpIDwgbGVuOyB4ID0gYXJnc1srK2ldKSB7CiAgICBpZiAoaXNOdWxsKHgpIHx8ICFpc09iamVjdCh4KSkgewogICAgICBzdHIgKz0gJyAnICsgeDsKICAgIH0gZWxzZSB7CiAgICAgIHN0ciArPSAnICcgKyBpbnNwZWN0KHgpOwogICAgfQogIH0KICByZXR1cm4gc3RyOwp9OwoKCi8vIE1hcmsgdGhhdCBhIG1ldGhvZCBzaG91bGQgbm90IGJlIHVzZWQuCi8vIFJldHVybnMgYSBtb2RpZmllZCBmdW5jdGlvbiB3aGljaCB3YXJucyBvbmNlIGJ5IGRlZmF1bHQuCi8vIElmIC0tbm8tZGVwcmVjYXRpb24gaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuCmV4cG9ydHMuZGVwcmVjYXRlID0gZnVuY3Rpb24oZm4sIG1zZykgewogIC8vIEFsbG93IGZvciBkZXByZWNhdGluZyB0aGluZ3MgaW4gdGhlIHByb2Nlc3Mgb2Ygc3RhcnRpbmcgdXAuCiAgaWYgKGlzVW5kZWZpbmVkKGdsb2JhbC5wcm9jZXNzKSkgewogICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gZXhwb3J0cy5kZXByZWNhdGUoZm4sIG1zZykuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfQoKICBpZiAocHJvY2Vzcy5ub0RlcHJlY2F0aW9uID09PSB0cnVlKSB7CiAgICByZXR1cm4gZm47CiAgfQoKICB2YXIgd2FybmVkID0gZmFsc2U7CiAgZnVuY3Rpb24gZGVwcmVjYXRlZCgpIHsKICAgIGlmICghd2FybmVkKSB7CiAgICAgIGlmIChwcm9jZXNzLnRocm93RGVwcmVjYXRpb24pIHsKICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTsKICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLnRyYWNlRGVwcmVjYXRpb24pIHsKICAgICAgICBjb25zb2xlLnRyYWNlKG1zZyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5lcnJvcihtc2cpOwogICAgICB9CiAgICAgIHdhcm5lZCA9IHRydWU7CiAgICB9CiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CgogIHJldHVybiBkZXByZWNhdGVkOwp9OwoKCnZhciBkZWJ1Z3MgPSB7fTsKdmFyIGRlYnVnRW52aXJvbjsKZXhwb3J0cy5kZWJ1Z2xvZyA9IGZ1bmN0aW9uKHNldCkgewogIGlmIChpc1VuZGVmaW5lZChkZWJ1Z0Vudmlyb24pKQogICAgZGVidWdFbnZpcm9uID0gcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJzsKICBzZXQgPSBzZXQudG9VcHBlckNhc2UoKTsKICBpZiAoIWRlYnVnc1tzZXRdKSB7CiAgICBpZiAobmV3IFJlZ0V4cCgnXFxiJyArIHNldCArICdcXGInLCAnaScpLnRlc3QoZGVidWdFbnZpcm9uKSkgewogICAgICB2YXIgcGlkID0gcHJvY2Vzcy5waWQ7CiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIG1zZyA9IGV4cG9ydHMuZm9ybWF0LmFwcGx5KGV4cG9ydHMsIGFyZ3VtZW50cyk7CiAgICAgICAgY29uc29sZS5lcnJvcignJXMgJWQ6ICVzJywgc2V0LCBwaWQsIG1zZyk7CiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICBkZWJ1Z3Nbc2V0XSA9IGZ1bmN0aW9uKCkge307CiAgICB9CiAgfQogIHJldHVybiBkZWJ1Z3Nbc2V0XTsKfTsKCgovKioKICogRWNob3MgdGhlIHZhbHVlIG9mIGEgdmFsdWUuIFRyeXMgdG8gcHJpbnQgdGhlIHZhbHVlIG91dAogKiBpbiB0aGUgYmVzdCB3YXkgcG9zc2libGUgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcy4KICoKICogQHBhcmFtIHtPYmplY3R9IG9iaiBUaGUgb2JqZWN0IHRvIHByaW50IG91dC4KICogQHBhcmFtIHtPYmplY3R9IG9wdHMgT3B0aW9uYWwgb3B0aW9ucyBvYmplY3QgdGhhdCBhbHRlcnMgdGhlIG91dHB1dC4KICovCi8qIGxlZ2FjeTogb2JqLCBzaG93SGlkZGVuLCBkZXB0aCwgY29sb3JzKi8KZnVuY3Rpb24gaW5zcGVjdChvYmosIG9wdHMpIHsKICAvLyBkZWZhdWx0IG9wdGlvbnMKICB2YXIgY3R4ID0gewogICAgc2VlbjogW10sCiAgICBzdHlsaXplOiBzdHlsaXplTm9Db2xvcgogIH07CiAgLy8gbGVnYWN5Li4uCiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMykgY3R4LmRlcHRoID0gYXJndW1lbnRzWzJdOwogIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDQpIGN0eC5jb2xvcnMgPSBhcmd1bWVudHNbM107CiAgaWYgKGlzQm9vbGVhbihvcHRzKSkgewogICAgLy8gbGVnYWN5Li4uCiAgICBjdHguc2hvd0hpZGRlbiA9IG9wdHM7CiAgfSBlbHNlIGlmIChvcHRzKSB7CiAgICAvLyBnb3QgYW4gIm9wdGlvbnMiIG9iamVjdAogICAgZXhwb3J0cy5fZXh0ZW5kKGN0eCwgb3B0cyk7CiAgfQogIC8vIHNldCBkZWZhdWx0IG9wdGlvbnMKICBpZiAoaXNVbmRlZmluZWQoY3R4LnNob3dIaWRkZW4pKSBjdHguc2hvd0hpZGRlbiA9IGZhbHNlOwogIGlmIChpc1VuZGVmaW5lZChjdHguZGVwdGgpKSBjdHguZGVwdGggPSAyOwogIGlmIChpc1VuZGVmaW5lZChjdHguY29sb3JzKSkgY3R4LmNvbG9ycyA9IGZhbHNlOwogIGlmIChpc1VuZGVmaW5lZChjdHguY3VzdG9tSW5zcGVjdCkpIGN0eC5jdXN0b21JbnNwZWN0ID0gdHJ1ZTsKICBpZiAoY3R4LmNvbG9ycykgY3R4LnN0eWxpemUgPSBzdHlsaXplV2l0aENvbG9yOwogIHJldHVybiBmb3JtYXRWYWx1ZShjdHgsIG9iaiwgY3R4LmRlcHRoKTsKfQpleHBvcnRzLmluc3BlY3QgPSBpbnNwZWN0OwoKCi8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljcwppbnNwZWN0LmNvbG9ycyA9IHsKICAnYm9sZCcgOiBbMSwgMjJdLAogICdpdGFsaWMnIDogWzMsIDIzXSwKICAndW5kZXJsaW5lJyA6IFs0LCAyNF0sCiAgJ2ludmVyc2UnIDogWzcsIDI3XSwKICAnd2hpdGUnIDogWzM3LCAzOV0sCiAgJ2dyZXknIDogWzkwLCAzOV0sCiAgJ2JsYWNrJyA6IFszMCwgMzldLAogICdibHVlJyA6IFszNCwgMzldLAogICdjeWFuJyA6IFszNiwgMzldLAogICdncmVlbicgOiBbMzIsIDM5XSwKICAnbWFnZW50YScgOiBbMzUsIDM5XSwKICAncmVkJyA6IFszMSwgMzldLAogICd5ZWxsb3cnIDogWzMzLCAzOV0KfTsKCi8vIERvbid0IHVzZSAnYmx1ZScgbm90IHZpc2libGUgb24gY21kLmV4ZQppbnNwZWN0LnN0eWxlcyA9IHsKICAnc3BlY2lhbCc6ICdjeWFuJywKICAnbnVtYmVyJzogJ3llbGxvdycsCiAgJ2Jvb2xlYW4nOiAneWVsbG93JywKICAndW5kZWZpbmVkJzogJ2dyZXknLAogICdudWxsJzogJ2JvbGQnLAogICdzdHJpbmcnOiAnZ3JlZW4nLAogICdkYXRlJzogJ21hZ2VudGEnLAogIC8vICJuYW1lIjogaW50ZW50aW9uYWxseSBub3Qgc3R5bGluZwogICdyZWdleHAnOiAncmVkJwp9OwoKCmZ1bmN0aW9uIHN0eWxpemVXaXRoQ29sb3Ioc3RyLCBzdHlsZVR5cGUpIHsKICB2YXIgc3R5bGUgPSBpbnNwZWN0LnN0eWxlc1tzdHlsZVR5cGVdOwoKICBpZiAoc3R5bGUpIHsKICAgIHJldHVybiAnXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMF0gKyAnbScgKyBzdHIgKwogICAgICAgICAgICdcdTAwMWJbJyArIGluc3BlY3QuY29sb3JzW3N0eWxlXVsxXSArICdtJzsKICB9IGVsc2UgewogICAgcmV0dXJuIHN0cjsKICB9Cn0KCgpmdW5jdGlvbiBzdHlsaXplTm9Db2xvcihzdHIsIHN0eWxlVHlwZSkgewogIHJldHVybiBzdHI7Cn0KCgpmdW5jdGlvbiBhcnJheVRvSGFzaChhcnJheSkgewogIHZhciBoYXNoID0ge307CgogIGFycmF5LmZvckVhY2goZnVuY3Rpb24odmFsLCBpZHgpIHsKICAgIGhhc2hbdmFsXSA9IHRydWU7CiAgfSk7CgogIHJldHVybiBoYXNoOwp9CgoKZnVuY3Rpb24gZm9ybWF0VmFsdWUoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSB7CiAgLy8gUHJvdmlkZSBhIGhvb2sgZm9yIHVzZXItc3BlY2lmaWVkIGluc3BlY3QgZnVuY3Rpb25zLgogIC8vIENoZWNrIHRoYXQgdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGggYW4gaW5zcGVjdCBmdW5jdGlvbiBvbiBpdAogIGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJgogICAgICB2YWx1ZSAmJgogICAgICBpc0Z1bmN0aW9uKHZhbHVlLmluc3BlY3QpICYmCiAgICAgIC8vIEZpbHRlciBvdXQgdGhlIHV0aWwgbW9kdWxlLCBpdCdzIGluc3BlY3QgZnVuY3Rpb24gaXMgc3BlY2lhbAogICAgICB2YWx1ZS5pbnNwZWN0ICE9PSBleHBvcnRzLmluc3BlY3QgJiYKICAgICAgLy8gQWxzbyBmaWx0ZXIgb3V0IGFueSBwcm90b3R5cGUgb2JqZWN0cyB1c2luZyB0aGUgY2lyY3VsYXIgY2hlY2suCiAgICAgICEodmFsdWUuY29uc3RydWN0b3IgJiYgdmFsdWUuY29uc3RydWN0b3IucHJvdG90eXBlID09PSB2YWx1ZSkpIHsKICAgIHZhciByZXQgPSB2YWx1ZS5pbnNwZWN0KHJlY3Vyc2VUaW1lcywgY3R4KTsKICAgIGlmICghaXNTdHJpbmcocmV0KSkgewogICAgICByZXQgPSBmb3JtYXRWYWx1ZShjdHgsIHJldCwgcmVjdXJzZVRpbWVzKTsKICAgIH0KICAgIHJldHVybiByZXQ7CiAgfQoKICAvLyBQcmltaXRpdmUgdHlwZXMgY2Fubm90IGhhdmUgcHJvcGVydGllcwogIHZhciBwcmltaXRpdmUgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSk7CiAgaWYgKHByaW1pdGl2ZSkgewogICAgcmV0dXJuIHByaW1pdGl2ZTsKICB9CgogIC8vIExvb2sgdXAgdGhlIGtleXMgb2YgdGhlIG9iamVjdC4KICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHZhbHVlKTsKICB2YXIgdmlzaWJsZUtleXMgPSBhcnJheVRvSGFzaChrZXlzKTsKCiAgaWYgKGN0eC5zaG93SGlkZGVuKSB7CiAgICBrZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModmFsdWUpOwogIH0KCiAgLy8gSUUgZG9lc24ndCBtYWtlIGVycm9yIGZpZWxkcyBub24tZW51bWVyYWJsZQogIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9kd3c1MnNidCh2PXZzLjk0KS5hc3B4CiAgaWYgKGlzRXJyb3IodmFsdWUpCiAgICAgICYmIChrZXlzLmluZGV4T2YoJ21lc3NhZ2UnKSA+PSAwIHx8IGtleXMuaW5kZXhPZignZGVzY3JpcHRpb24nKSA+PSAwKSkgewogICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTsKICB9CgogIC8vIFNvbWUgdHlwZSBvZiBvYmplY3Qgd2l0aG91dCBwcm9wZXJ0aWVzIGNhbiBiZSBzaG9ydGN1dHRlZC4KICBpZiAoa2V5cy5sZW5ndGggPT09IDApIHsKICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkgewogICAgICB2YXIgbmFtZSA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnOwogICAgICByZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpOwogICAgfQogICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkgewogICAgICByZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpOwogICAgfQogICAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHsKICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKERhdGUucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAnZGF0ZScpOwogICAgfQogICAgaWYgKGlzRXJyb3IodmFsdWUpKSB7CiAgICAgIHJldHVybiBmb3JtYXRFcnJvcih2YWx1ZSk7CiAgICB9CiAgfQoKICB2YXIgYmFzZSA9ICcnLCBhcnJheSA9IGZhbHNlLCBicmFjZXMgPSBbJ3snLCAnfSddOwoKICAvLyBNYWtlIEFycmF5IHNheSB0aGF0IHRoZXkgYXJlIEFycmF5CiAgaWYgKGlzQXJyYXkodmFsdWUpKSB7CiAgICBhcnJheSA9IHRydWU7CiAgICBicmFjZXMgPSBbJ1snLCAnXSddOwogIH0KCiAgLy8gTWFrZSBmdW5jdGlvbnMgc2F5IHRoYXQgdGhleSBhcmUgZnVuY3Rpb25zCiAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7CiAgICB2YXIgbiA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnOwogICAgYmFzZSA9ICcgW0Z1bmN0aW9uJyArIG4gKyAnXSc7CiAgfQoKICAvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwcwogIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHsKICAgIGJhc2UgPSAnICcgKyBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpOwogIH0KCiAgLy8gTWFrZSBkYXRlcyB3aXRoIHByb3BlcnRpZXMgZmlyc3Qgc2F5IHRoZSBkYXRlCiAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHsKICAgIGJhc2UgPSAnICcgKyBEYXRlLnByb3RvdHlwZS50b1VUQ1N0cmluZy5jYWxsKHZhbHVlKTsKICB9CgogIC8vIE1ha2UgZXJyb3Igd2l0aCBtZXNzYWdlIGZpcnN0IHNheSB0aGUgZXJyb3IKICBpZiAoaXNFcnJvcih2YWx1ZSkpIHsKICAgIGJhc2UgPSAnICcgKyBmb3JtYXRFcnJvcih2YWx1ZSk7CiAgfQoKICBpZiAoa2V5cy5sZW5ndGggPT09IDAgJiYgKCFhcnJheSB8fCB2YWx1ZS5sZW5ndGggPT0gMCkpIHsKICAgIHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgYnJhY2VzWzFdOwogIH0KCiAgaWYgKHJlY3Vyc2VUaW1lcyA8IDApIHsKICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHsKICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW09iamVjdF0nLCAnc3BlY2lhbCcpOwogICAgfQogIH0KCiAgY3R4LnNlZW4ucHVzaCh2YWx1ZSk7CgogIHZhciBvdXRwdXQ7CiAgaWYgKGFycmF5KSB7CiAgICBvdXRwdXQgPSBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKTsKICB9IGVsc2UgewogICAgb3V0cHV0ID0ga2V5cy5tYXAoZnVuY3Rpb24oa2V5KSB7CiAgICAgIHJldHVybiBmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXksIGFycmF5KTsKICAgIH0pOwogIH0KCiAgY3R4LnNlZW4ucG9wKCk7CgogIHJldHVybiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcyk7Cn0KCgpmdW5jdGlvbiBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSkgewogIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpCiAgICByZXR1cm4gY3R4LnN0eWxpemUoJ3VuZGVmaW5lZCcsICd1bmRlZmluZWQnKTsKICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7CiAgICB2YXIgc2ltcGxlID0gJ1wnJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKS5yZXBsYWNlKC9eInwiJC9nLCAnJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgIlxcJyIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXCIvZywgJyInKSArICdcJyc7CiAgICByZXR1cm4gY3R4LnN0eWxpemUoc2ltcGxlLCAnc3RyaW5nJyk7CiAgfQogIGlmIChpc051bWJlcih2YWx1ZSkpCiAgICByZXR1cm4gY3R4LnN0eWxpemUoJycgKyB2YWx1ZSwgJ251bWJlcicpOwogIGlmIChpc0Jvb2xlYW4odmFsdWUpKQogICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdib29sZWFuJyk7CiAgLy8gRm9yIHNvbWUgcmVhc29uIHR5cGVvZiBudWxsIGlzICJvYmplY3QiLCBzbyBzcGVjaWFsIGNhc2UgaGVyZS4KICBpZiAoaXNOdWxsKHZhbHVlKSkKICAgIHJldHVybiBjdHguc3R5bGl6ZSgnbnVsbCcsICdudWxsJyk7Cn0KCgpmdW5jdGlvbiBmb3JtYXRFcnJvcih2YWx1ZSkgewogIHJldHVybiAnWycgKyBFcnJvci5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgKyAnXSc7Cn0KCgpmdW5jdGlvbiBmb3JtYXRBcnJheShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKSB7CiAgdmFyIG91dHB1dCA9IFtdOwogIGZvciAodmFyIGkgPSAwLCBsID0gdmFsdWUubGVuZ3RoOyBpIDwgbDsgKytpKSB7CiAgICBpZiAoaGFzT3duUHJvcGVydHkodmFsdWUsIFN0cmluZyhpKSkpIHsKICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywKICAgICAgICAgIFN0cmluZyhpKSwgdHJ1ZSkpOwogICAgfSBlbHNlIHsKICAgICAgb3V0cHV0LnB1c2goJycpOwogICAgfQogIH0KICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7CiAgICBpZiAoIWtleS5tYXRjaCgvXlxkKyQvKSkgewogICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLAogICAgICAgICAga2V5LCB0cnVlKSk7CiAgICB9CiAgfSk7CiAgcmV0dXJuIG91dHB1dDsKfQoKCmZ1bmN0aW9uIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpIHsKICB2YXIgbmFtZSwgc3RyLCBkZXNjOwogIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHZhbHVlLCBrZXkpIHx8IHsgdmFsdWU6IHZhbHVlW2tleV0gfTsKICBpZiAoZGVzYy5nZXQpIHsKICAgIGlmIChkZXNjLnNldCkgewogICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKTsKICAgIH0gZWxzZSB7CiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyXScsICdzcGVjaWFsJyk7CiAgICB9CiAgfSBlbHNlIHsKICAgIGlmIChkZXNjLnNldCkgewogICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW1NldHRlcl0nLCAnc3BlY2lhbCcpOwogICAgfQogIH0KICBpZiAoIWhhc093blByb3BlcnR5KHZpc2libGVLZXlzLCBrZXkpKSB7CiAgICBuYW1lID0gJ1snICsga2V5ICsgJ10nOwogIH0KICBpZiAoIXN0cikgewogICAgaWYgKGN0eC5zZWVuLmluZGV4T2YoZGVzYy52YWx1ZSkgPCAwKSB7CiAgICAgIGlmIChpc051bGwocmVjdXJzZVRpbWVzKSkgewogICAgICAgIHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCByZWN1cnNlVGltZXMgLSAxKTsKICAgICAgfQogICAgICBpZiAoc3RyLmluZGV4T2YoJ1xuJykgPiAtMSkgewogICAgICAgIGlmIChhcnJheSkgewogICAgICAgICAgc3RyID0gc3RyLnNwbGl0KCdcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7CiAgICAgICAgICAgIHJldHVybiAnICAnICsgbGluZTsKICAgICAgICAgIH0pLmpvaW4oJ1xuJykuc3Vic3RyKDIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzdHIgPSAnXG4nICsgc3RyLnNwbGl0KCdcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7CiAgICAgICAgICAgIHJldHVybiAnICAgJyArIGxpbmU7CiAgICAgICAgICB9KS5qb2luKCdcbicpOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tDaXJjdWxhcl0nLCAnc3BlY2lhbCcpOwogICAgfQogIH0KICBpZiAoaXNVbmRlZmluZWQobmFtZSkpIHsKICAgIGlmIChhcnJheSAmJiBrZXkubWF0Y2goL15cZCskLykpIHsKICAgICAgcmV0dXJuIHN0cjsKICAgIH0KICAgIG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSk7CiAgICBpZiAobmFtZS5tYXRjaCgvXiIoW2EtekEtWl9dW2EtekEtWl8wLTldKikiJC8pKSB7CiAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cigxLCBuYW1lLmxlbmd0aCAtIDIpOwogICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ25hbWUnKTsKICAgIH0gZWxzZSB7CiAgICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoLycvZywgIlxcJyIpCiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcIi9nLCAnIicpCiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyheInwiJCkvZywgIiciKTsKICAgICAgbmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICdzdHJpbmcnKTsKICAgIH0KICB9CgogIHJldHVybiBuYW1lICsgJzogJyArIHN0cjsKfQoKCmZ1bmN0aW9uIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKSB7CiAgdmFyIG51bUxpbmVzRXN0ID0gMDsKICB2YXIgbGVuZ3RoID0gb3V0cHV0LnJlZHVjZShmdW5jdGlvbihwcmV2LCBjdXIpIHsKICAgIG51bUxpbmVzRXN0Kys7CiAgICBpZiAoY3VyLmluZGV4T2YoJ1xuJykgPj0gMCkgbnVtTGluZXNFc3QrKzsKICAgIHJldHVybiBwcmV2ICsgY3VyLnJlcGxhY2UoL1x1MDAxYlxbXGRcZD9tL2csICcnKS5sZW5ndGggKyAxOwogIH0sIDApOwoKICBpZiAobGVuZ3RoID4gNjApIHsKICAgIHJldHVybiBicmFjZXNbMF0gKwogICAgICAgICAgIChiYXNlID09PSAnJyA/ICcnIDogYmFzZSArICdcbiAnKSArCiAgICAgICAgICAgJyAnICsKICAgICAgICAgICBvdXRwdXQuam9pbignLFxuICAnKSArCiAgICAgICAgICAgJyAnICsKICAgICAgICAgICBicmFjZXNbMV07CiAgfQoKICByZXR1cm4gYnJhY2VzWzBdICsgYmFzZSArICcgJyArIG91dHB1dC5qb2luKCcsICcpICsgJyAnICsgYnJhY2VzWzFdOwp9CgoKLy8gTk9URTogVGhlc2UgdHlwZSBjaGVja2luZyBmdW5jdGlvbnMgaW50ZW50aW9uYWxseSBkb24ndCB1c2UgYGluc3RhbmNlb2ZgCi8vIGJlY2F1c2UgaXQgaXMgZnJhZ2lsZSBhbmQgY2FuIGJlIGVhc2lseSBmYWtlZCB3aXRoIGBPYmplY3QuY3JlYXRlKClgLgpmdW5jdGlvbiBpc0FycmF5KGFyKSB7CiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXIpOwp9CmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7CgpmdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKSB7CiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdib29sZWFuJzsKfQpleHBvcnRzLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjsKCmZ1bmN0aW9uIGlzTnVsbChhcmcpIHsKICByZXR1cm4gYXJnID09PSBudWxsOwp9CmV4cG9ydHMuaXNOdWxsID0gaXNOdWxsOwoKZnVuY3Rpb24gaXNOdWxsT3JVbmRlZmluZWQoYXJnKSB7CiAgcmV0dXJuIGFyZyA9PSBudWxsOwp9CmV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQgPSBpc051bGxPclVuZGVmaW5lZDsKCmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykgewogIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJzsKfQpleHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7CgpmdW5jdGlvbiBpc1N0cmluZyhhcmcpIHsKICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZyc7Cn0KZXhwb3J0cy5pc1N0cmluZyA9IGlzU3RyaW5nOwoKZnVuY3Rpb24gaXNTeW1ib2woYXJnKSB7CiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnOwp9CmV4cG9ydHMuaXNTeW1ib2wgPSBpc1N5bWJvbDsKCmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykgewogIHJldHVybiBhcmcgPT09IHZvaWQgMDsKfQpleHBvcnRzLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7CgpmdW5jdGlvbiBpc1JlZ0V4cChyZSkgewogIHJldHVybiBpc09iamVjdChyZSkgJiYgb2JqZWN0VG9TdHJpbmcocmUpID09PSAnW29iamVjdCBSZWdFeHBdJzsKfQpleHBvcnRzLmlzUmVnRXhwID0gaXNSZWdFeHA7CgpmdW5jdGlvbiBpc09iamVjdChhcmcpIHsKICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgYXJnICE9PSBudWxsOwp9CmV4cG9ydHMuaXNPYmplY3QgPSBpc09iamVjdDsKCmZ1bmN0aW9uIGlzRGF0ZShkKSB7CiAgcmV0dXJuIGlzT2JqZWN0KGQpICYmIG9iamVjdFRvU3RyaW5nKGQpID09PSAnW29iamVjdCBEYXRlXSc7Cn0KZXhwb3J0cy5pc0RhdGUgPSBpc0RhdGU7CgpmdW5jdGlvbiBpc0Vycm9yKGUpIHsKICByZXR1cm4gaXNPYmplY3QoZSkgJiYKICAgICAgKG9iamVjdFRvU3RyaW5nKGUpID09PSAnW29iamVjdCBFcnJvcl0nIHx8IGUgaW5zdGFuY2VvZiBFcnJvcik7Cn0KZXhwb3J0cy5pc0Vycm9yID0gaXNFcnJvcjsKCmZ1bmN0aW9uIGlzRnVuY3Rpb24oYXJnKSB7CiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7Cn0KZXhwb3J0cy5pc0Z1bmN0aW9uID0gaXNGdW5jdGlvbjsKCmZ1bmN0aW9uIGlzUHJpbWl0aXZlKGFyZykgewogIHJldHVybiBhcmcgPT09IG51bGwgfHwKICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nIHx8CiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8CiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnIHx8CiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnIHx8ICAvLyBFUzYgc3ltYm9sCiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnOwp9CmV4cG9ydHMuaXNQcmltaXRpdmUgPSBpc1ByaW1pdGl2ZTsKCmV4cG9ydHMuaXNCdWZmZXIgPSByZXF1aXJlKCcuL3N1cHBvcnQvaXNCdWZmZXInKTsKCmZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pIHsKICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pOwp9CgoKZnVuY3Rpb24gcGFkKG4pIHsKICByZXR1cm4gbiA8IDEwID8gJzAnICsgbi50b1N0cmluZygxMCkgOiBuLnRvU3RyaW5nKDEwKTsKfQoKCnZhciBtb250aHMgPSBbJ0phbicsICdGZWInLCAnTWFyJywgJ0FwcicsICdNYXknLCAnSnVuJywgJ0p1bCcsICdBdWcnLCAnU2VwJywKICAgICAgICAgICAgICAnT2N0JywgJ05vdicsICdEZWMnXTsKCi8vIDI2IEZlYiAxNjoxOTozNApmdW5jdGlvbiB0aW1lc3RhbXAoKSB7CiAgdmFyIGQgPSBuZXcgRGF0ZSgpOwogIHZhciB0aW1lID0gW3BhZChkLmdldEhvdXJzKCkpLAogICAgICAgICAgICAgIHBhZChkLmdldE1pbnV0ZXMoKSksCiAgICAgICAgICAgICAgcGFkKGQuZ2V0U2Vjb25kcygpKV0uam9pbignOicpOwogIHJldHVybiBbZC5nZXREYXRlKCksIG1vbnRoc1tkLmdldE1vbnRoKCldLCB0aW1lXS5qb2luKCcgJyk7Cn0KCgovLyBsb2cgaXMganVzdCBhIHRoaW4gd3JhcHBlciB0byBjb25zb2xlLmxvZyB0aGF0IHByZXBlbmRzIGEgdGltZXN0YW1wCmV4cG9ydHMubG9nID0gZnVuY3Rpb24oKSB7CiAgY29uc29sZS5sb2coJyVzIC0gJXMnLCB0aW1lc3RhbXAoKSwgZXhwb3J0cy5mb3JtYXQuYXBwbHkoZXhwb3J0cywgYXJndW1lbnRzKSk7Cn07CgoKLyoqCiAqIEluaGVyaXQgdGhlIHByb3RvdHlwZSBtZXRob2RzIGZyb20gb25lIGNvbnN0cnVjdG9yIGludG8gYW5vdGhlci4KICoKICogVGhlIEZ1bmN0aW9uLnByb3RvdHlwZS5pbmhlcml0cyBmcm9tIGxhbmcuanMgcmV3cml0dGVuIGFzIGEgc3RhbmRhbG9uZQogKiBmdW5jdGlvbiAobm90IG9uIEZ1bmN0aW9uLnByb3RvdHlwZSkuIE5PVEU6IElmIHRoaXMgZmlsZSBpcyB0byBiZSBsb2FkZWQKICogZHVyaW5nIGJvb3RzdHJhcHBpbmcgdGhpcyBmdW5jdGlvbiBuZWVkcyB0byBiZSByZXdyaXR0ZW4gdXNpbmcgc29tZSBuYXRpdmUKICogZnVuY3Rpb25zIGFzIHByb3RvdHlwZSBzZXR1cCB1c2luZyBub3JtYWwgSmF2YVNjcmlwdCBkb2VzIG5vdCB3b3JrIGFzCiAqIGV4cGVjdGVkIGR1cmluZyBib290c3RyYXBwaW5nIChzZWUgbWlycm9yLmpzIGluIHIxMTQ5MDMpLgogKgogKiBAcGFyYW0ge2Z1bmN0aW9ufSBjdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHdoaWNoIG5lZWRzIHRvIGluaGVyaXQgdGhlCiAqICAgICBwcm90b3R5cGUuCiAqIEBwYXJhbSB7ZnVuY3Rpb259IHN1cGVyQ3RvciBDb25zdHJ1Y3RvciBmdW5jdGlvbiB0byBpbmhlcml0IHByb3RvdHlwZSBmcm9tLgogKi8KZXhwb3J0cy5pbmhlcml0cyA9IHJlcXVpcmUoJ2luaGVyaXRzJyk7CgpleHBvcnRzLl9leHRlbmQgPSBmdW5jdGlvbihvcmlnaW4sIGFkZCkgewogIC8vIERvbid0IGRvIGFueXRoaW5nIGlmIGFkZCBpc24ndCBhbiBvYmplY3QKICBpZiAoIWFkZCB8fCAhaXNPYmplY3QoYWRkKSkgcmV0dXJuIG9yaWdpbjsKCiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhhZGQpOwogIHZhciBpID0ga2V5cy5sZW5ndGg7CiAgd2hpbGUgKGktLSkgewogICAgb3JpZ2luW2tleXNbaV1dID0gYWRkW2tleXNbaV1dOwogIH0KICByZXR1cm4gb3JpZ2luOwp9OwoKZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7CiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApOwp9Cgp9KS5jYWxsKHRoaXMscmVxdWlyZSgnX3Byb2Nlc3MnKSx0eXBlb2YgZ2xvYmFsICE9PSAidW5kZWZpbmVkIiA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAidW5kZWZpbmVkIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiA/IHdpbmRvdyA6IHt9KQp9LHsiLi9zdXBwb3J0L2lzQnVmZmVyIjoxNzUsIl9wcm9jZXNzIjoxNDAsImluaGVyaXRzIjoxMjh9XSwxNzc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewp2YXIgaW5kZXhPZiA9IHJlcXVpcmUoJ2luZGV4b2YnKTsKCnZhciBPYmplY3Rfa2V5cyA9IGZ1bmN0aW9uIChvYmopIHsKICAgIGlmIChPYmplY3Qua2V5cykgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikKICAgIGVsc2UgewogICAgICAgIHZhciByZXMgPSBbXTsKICAgICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSByZXMucHVzaChrZXkpCiAgICAgICAgcmV0dXJuIHJlczsKICAgIH0KfTsKCnZhciBmb3JFYWNoID0gZnVuY3Rpb24gKHhzLCBmbikgewogICAgaWYgKHhzLmZvckVhY2gpIHJldHVybiB4cy5mb3JFYWNoKGZuKQogICAgZWxzZSBmb3IgKHZhciBpID0gMDsgaSA8IHhzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgZm4oeHNbaV0sIGksIHhzKTsKICAgIH0KfTsKCnZhciBkZWZpbmVQcm9wID0gKGZ1bmN0aW9uKCkgewogICAgdHJ5IHsKICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdfJywge30pOwogICAgICAgIHJldHVybiBmdW5jdGlvbihvYmosIG5hbWUsIHZhbHVlKSB7CiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIG5hbWUsIHsKICAgICAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsCiAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUKICAgICAgICAgICAgfSkKICAgICAgICB9OwogICAgfSBjYXRjaChlKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iaiwgbmFtZSwgdmFsdWUpIHsKICAgICAgICAgICAgb2JqW25hbWVdID0gdmFsdWU7CiAgICAgICAgfTsKICAgIH0KfSgpKTsKCnZhciBnbG9iYWxzID0gWydBcnJheScsICdCb29sZWFuJywgJ0RhdGUnLCAnRXJyb3InLCAnRXZhbEVycm9yJywgJ0Z1bmN0aW9uJywKJ0luZmluaXR5JywgJ0pTT04nLCAnTWF0aCcsICdOYU4nLCAnTnVtYmVyJywgJ09iamVjdCcsICdSYW5nZUVycm9yJywKJ1JlZmVyZW5jZUVycm9yJywgJ1JlZ0V4cCcsICdTdHJpbmcnLCAnU3ludGF4RXJyb3InLCAnVHlwZUVycm9yJywgJ1VSSUVycm9yJywKJ2RlY29kZVVSSScsICdkZWNvZGVVUklDb21wb25lbnQnLCAnZW5jb2RlVVJJJywgJ2VuY29kZVVSSUNvbXBvbmVudCcsICdlc2NhcGUnLAonZXZhbCcsICdpc0Zpbml0ZScsICdpc05hTicsICdwYXJzZUZsb2F0JywgJ3BhcnNlSW50JywgJ3VuZGVmaW5lZCcsICd1bmVzY2FwZSddOwoKZnVuY3Rpb24gQ29udGV4dCgpIHt9CkNvbnRleHQucHJvdG90eXBlID0ge307Cgp2YXIgU2NyaXB0ID0gZXhwb3J0cy5TY3JpcHQgPSBmdW5jdGlvbiBOb2RlU2NyaXB0IChjb2RlKSB7CiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU2NyaXB0KSkgcmV0dXJuIG5ldyBTY3JpcHQoY29kZSk7CiAgICB0aGlzLmNvZGUgPSBjb2RlOwp9OwoKU2NyaXB0LnByb3RvdHlwZS5ydW5JbkNvbnRleHQgPSBmdW5jdGlvbiAoY29udGV4dCkgewogICAgaWYgKCEoY29udGV4dCBpbnN0YW5jZW9mIENvbnRleHQpKSB7CiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigibmVlZHMgYSAnY29udGV4dCcgYXJndW1lbnQuIik7CiAgICB9CiAgICAKICAgIHZhciBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTsKICAgIGlmICghaWZyYW1lLnN0eWxlKSBpZnJhbWUuc3R5bGUgPSB7fTsKICAgIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgCiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGlmcmFtZSk7CiAgICAKICAgIHZhciB3aW4gPSBpZnJhbWUuY29udGVudFdpbmRvdzsKICAgIHZhciB3RXZhbCA9IHdpbi5ldmFsLCB3RXhlY1NjcmlwdCA9IHdpbi5leGVjU2NyaXB0OwoKICAgIGlmICghd0V2YWwgJiYgd0V4ZWNTY3JpcHQpIHsKICAgICAgICAvLyB3aW4uZXZhbCgpIG1hZ2ljYWxseSBhcHBlYXJzIHdoZW4gdGhpcyBpcyBjYWxsZWQgaW4gSUU6CiAgICAgICAgd0V4ZWNTY3JpcHQuY2FsbCh3aW4sICdudWxsJyk7CiAgICAgICAgd0V2YWwgPSB3aW4uZXZhbDsKICAgIH0KICAgIAogICAgZm9yRWFjaChPYmplY3Rfa2V5cyhjb250ZXh0KSwgZnVuY3Rpb24gKGtleSkgewogICAgICAgIHdpbltrZXldID0gY29udGV4dFtrZXldOwogICAgfSk7CiAgICBmb3JFYWNoKGdsb2JhbHMsIGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBpZiAoY29udGV4dFtrZXldKSB7CiAgICAgICAgICAgIHdpbltrZXldID0gY29udGV4dFtrZXldOwogICAgICAgIH0KICAgIH0pOwogICAgCiAgICB2YXIgd2luS2V5cyA9IE9iamVjdF9rZXlzKHdpbik7CgogICAgdmFyIHJlcyA9IHdFdmFsLmNhbGwod2luLCB0aGlzLmNvZGUpOwogICAgCiAgICBmb3JFYWNoKE9iamVjdF9rZXlzKHdpbiksIGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAvLyBBdm9pZCBjb3B5aW5nIGNpcmN1bGFyIG9iamVjdHMgbGlrZSBgdG9wYCBhbmQgYHdpbmRvd2AgYnkgb25seQogICAgICAgIC8vIHVwZGF0aW5nIGV4aXN0aW5nIGNvbnRleHQgcHJvcGVydGllcyBvciBuZXcgcHJvcGVydGllcyBpbiB0aGUgYHdpbmAKICAgICAgICAvLyB0aGF0IHdhcyBvbmx5IGludHJvZHVjZWQgYWZ0ZXIgdGhlIGV2YWwuCiAgICAgICAgaWYgKGtleSBpbiBjb250ZXh0IHx8IGluZGV4T2Yod2luS2V5cywga2V5KSA9PT0gLTEpIHsKICAgICAgICAgICAgY29udGV4dFtrZXldID0gd2luW2tleV07CiAgICAgICAgfQogICAgfSk7CgogICAgZm9yRWFjaChnbG9iYWxzLCBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgaWYgKCEoa2V5IGluIGNvbnRleHQpKSB7CiAgICAgICAgICAgIGRlZmluZVByb3AoY29udGV4dCwga2V5LCB3aW5ba2V5XSk7CiAgICAgICAgfQogICAgfSk7CiAgICAKICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoaWZyYW1lKTsKICAgIAogICAgcmV0dXJuIHJlczsKfTsKClNjcmlwdC5wcm90b3R5cGUucnVuSW5UaGlzQ29udGV4dCA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBldmFsKHRoaXMuY29kZSk7IC8vIG1heWJlLi4uCn07CgpTY3JpcHQucHJvdG90eXBlLnJ1bkluTmV3Q29udGV4dCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7CiAgICB2YXIgY3R4ID0gU2NyaXB0LmNyZWF0ZUNvbnRleHQoY29udGV4dCk7CiAgICB2YXIgcmVzID0gdGhpcy5ydW5JbkNvbnRleHQoY3R4KTsKCiAgICBmb3JFYWNoKE9iamVjdF9rZXlzKGN0eCksIGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBjb250ZXh0W2tleV0gPSBjdHhba2V5XTsKICAgIH0pOwoKICAgIHJldHVybiByZXM7Cn07Cgpmb3JFYWNoKE9iamVjdF9rZXlzKFNjcmlwdC5wcm90b3R5cGUpLCBmdW5jdGlvbiAobmFtZSkgewogICAgZXhwb3J0c1tuYW1lXSA9IFNjcmlwdFtuYW1lXSA9IGZ1bmN0aW9uIChjb2RlKSB7CiAgICAgICAgdmFyIHMgPSBTY3JpcHQoY29kZSk7CiAgICAgICAgcmV0dXJuIHNbbmFtZV0uYXBwbHkocywgW10uc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTsKICAgIH07Cn0pOwoKZXhwb3J0cy5jcmVhdGVTY3JpcHQgPSBmdW5jdGlvbiAoY29kZSkgewogICAgcmV0dXJuIGV4cG9ydHMuU2NyaXB0KGNvZGUpOwp9OwoKZXhwb3J0cy5jcmVhdGVDb250ZXh0ID0gU2NyaXB0LmNyZWF0ZUNvbnRleHQgPSBmdW5jdGlvbiAoY29udGV4dCkgewogICAgdmFyIGNvcHkgPSBuZXcgQ29udGV4dCgpOwogICAgaWYodHlwZW9mIGNvbnRleHQgPT09ICdvYmplY3QnKSB7CiAgICAgICAgZm9yRWFjaChPYmplY3Rfa2V5cyhjb250ZXh0KSwgZnVuY3Rpb24gKGtleSkgewogICAgICAgICAgICBjb3B5W2tleV0gPSBjb250ZXh0W2tleV07CiAgICAgICAgfSk7CiAgICB9CiAgICByZXR1cm4gY29weTsKfTsKCn0seyJpbmRleG9mIjoxMjd9XSwxNzg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7CnZhciBiczU4Y2hlY2sgPSByZXF1aXJlKCdiczU4Y2hlY2snKQoKZnVuY3Rpb24gZGVjb2RlUmF3ICh2ZXJzaW9uLCBidWZmZXIpIHsKICBpZiAoYnVmZmVyWzBdICE9PSB2ZXJzaW9uKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbmV0d29yayB2ZXJzaW9uJykKCiAgLy8gY29tcHJlc3Npb24gZmxhZz8KICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMzQpIHsKICAgIGlmIChidWZmZXJbMzNdICE9PSAweDAxKSB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29tcHJlc3Npb24gZmxhZycpCgogICAgLy8gdHJ1bmNhdGUgdGhlIHZlcnNpb24gYnl0ZS9jb21wcmVzc2lvbiBmbGFnCiAgICByZXR1cm4gewogICAgICB2ZXJzaW9uOiBidWZmZXJbMF0sCiAgICAgIGQ6IGJ1ZmZlci5zbGljZSgxLCAtMSksCiAgICAgIGNvbXByZXNzZWQ6IHRydWUKICAgIH0KICB9CgogIC8vIG5vIGNvbXByZXNzaW9uIGZsYWcKICBpZiAoYnVmZmVyLmxlbmd0aCAhPT0gMzMpIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBXSUYgbGVuZ3RoJykKCiAgcmV0dXJuIHsKICAgIHZlcnNpb246IGJ1ZmZlclswXSwKICAgIGQ6IGJ1ZmZlci5zbGljZSgxKSwKICAgIGNvbXByZXNzZWQ6IGZhbHNlCiAgfQp9CgpmdW5jdGlvbiBkZWNvZGUgKHZlcnNpb24sIHN0cmluZykgewogIHJldHVybiBkZWNvZGVSYXcodmVyc2lvbiwgYnM1OGNoZWNrLmRlY29kZShzdHJpbmcpKQp9CgpmdW5jdGlvbiBlbmNvZGVSYXcgKHZlcnNpb24sIGQsIGNvbXByZXNzZWQpIHsKICB2YXIgYnVmZmVyID0gbmV3IEJ1ZmZlcihjb21wcmVzc2VkID8gMzQgOiAzMykKCiAgYnVmZmVyLndyaXRlVUludDgodmVyc2lvbiwgMCkKICBkLmNvcHkoYnVmZmVyLCAxKQoKICBpZiAoY29tcHJlc3NlZCkgewogICAgYnVmZmVyWzMzXSA9IDB4MDEKICB9CgogIHJldHVybiBidWZmZXIKfQoKZnVuY3Rpb24gZW5jb2RlICh2ZXJzaW9uLCBkLCBjb21wcmVzc2VkKSB7CiAgcmV0dXJuIGJzNThjaGVjay5lbmNvZGUoZW5jb2RlUmF3KHZlcnNpb24sIGQsIGNvbXByZXNzZWQpKQp9Cgptb2R1bGUuZXhwb3J0cyA9IHsKICBkZWNvZGU6IGRlY29kZSwKICBkZWNvZGVSYXc6IGRlY29kZVJhdywKICBlbmNvZGU6IGVuY29kZSwKICBlbmNvZGVSYXc6IGVuY29kZVJhdwp9Cgp9KS5jYWxsKHRoaXMscmVxdWlyZSgiYnVmZmVyIikuQnVmZmVyKQp9LHsiYnM1OGNoZWNrIjo3MSwiYnVmZmVyIjo3Nn1dLDE3OTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOwoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgovKioKKiBAYXV0aG9yIG1pY2FlbHBlZHJvc2FAZ21haWwuY29tCiogTWluaW1hbCBpbnRlcmZhY2UgYW5kIGltcGxlbWVudGF0aW9uIHRvIHNlbmQgYW5kIHJlY2VpdmUgbWVzc2FnZXMuIEl0IGNhbiBiZSByZXVzZWQgaW4gbWFueSB0eXBlIG9mIGNvbXBvbmVudHMuCiogQ29tcG9uZW50cyB0aGF0IG5lZWQgYSBtZXNzYWdlIHN5c3RlbSBzaG91bGQgcmVjZWl2ZSB0aGlzIGNsYXNzIGFzIGEgZGVwZW5kZW5jeSBvciBleHRlbmQgaXQuCiogRXh0ZW5zaW9ucyBzaG91bGQgaW1wbGVtZW50IHRoZSBmb2xsb3dpbmcgcHJpdmF0ZSBtZXRob2RzOiBfb25Qb3N0TWVzc2FnZSBhbmQgX3JlZ2lzdGVyRXh0ZXJuYWxMaXN0ZW5lcgoqLwoKdmFyIEJ1cyA9IGZ1bmN0aW9uICgpIHsKICAvKiBwcml2YXRlCiAgX21zZ0lkOiBudW1iZXI7CiAgX3N1YnNjcmlwdGlvbnM6IDx1cmw6IE1zZ0xpc3RlbmVyW10+CiAgIF9yZXNwb25zZVRpbWVPdXQ6IG51bWJlcgogIF9yZXNwb25zZUNhbGxiYWNrczogPHVybCtpZDogKG1zZykgPT4gdm9pZD4KICAgKi8KCiAgZnVuY3Rpb24gQnVzKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJ1cyk7CgogICAgdmFyIF90aGlzID0gdGhpczsKICAgIF90aGlzLl9tc2dJZCA9IDA7CiAgICBfdGhpcy5fc3Vic2NyaXB0aW9ucyA9IHt9OwoKICAgIF90aGlzLl9yZXNwb25zZVRpbWVPdXQgPSA1MDAwOyAvL2RlZmF1bHQgdG8gM3MKICAgIF90aGlzLl9yZXNwb25zZUNhbGxiYWNrcyA9IHt9OwoKICAgIF90aGlzLl9yZWdpc3RlckV4dGVybmFsTGlzdGVuZXIoKTsKICB9CgogIC8qKgogICogUmVnaXN0ZXIgbGlzdGVuZXIgdG8gcmVjZWl2ZSBtZXNzYWdlIHdoZW4gIm1zZy50byA9PT0gdXJsIi4KICAqIFNwZWNpYWwgdXJsICIqIiBmb3IgZGVmYXVsdCBsaXN0ZW5lciBpcyBhY2NlcHRlZCB0byBpbnRlcmNlcHQgYWxsIG1lc3NhZ2VzLgogICogQHBhcmFtIHtVUkx9IHVybCBBZGRyZXNzIHRvIGludGVyY2VwdCwgdGhhIGlzIGluIHRoZSBtZXNzYWdlICJ0byIKICAqIEBwYXJhbSB7TGlzdGVuZXJ9IGxpc3RlbmVyIGxpc3RlbmVyCiAgKiBAcmV0dXJuIHtNc2dMaXN0ZW5lcn0gaW5zdGFuY2Ugb2YgTXNnTGlzdGVuZXIKICAqLwoKCiAgX2NyZWF0ZUNsYXNzKEJ1cywgW3sKICAgIGtleTogJ2FkZExpc3RlbmVyJywKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRMaXN0ZW5lcih1cmwsIGxpc3RlbmVyKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgaXRlbSA9IG5ldyBNc2dMaXN0ZW5lcihfdGhpcy5fc3Vic2NyaXB0aW9ucywgdXJsLCBsaXN0ZW5lcik7CiAgICAgIHZhciBpdGVtTGlzdCA9IF90aGlzLl9zdWJzY3JpcHRpb25zW3VybF07CiAgICAgIGlmICghaXRlbUxpc3QpIHsKICAgICAgICBpdGVtTGlzdCA9IFtdOwogICAgICAgIF90aGlzLl9zdWJzY3JpcHRpb25zW3VybF0gPSBpdGVtTGlzdDsKICAgICAgfQoKICAgICAgaXRlbUxpc3QucHVzaChpdGVtKTsKICAgICAgcmV0dXJuIGl0ZW07CiAgICB9CgogICAgLyoqCiAgICAgKiBNYW51YWxseSBhZGQgYSByZXNwb25zZSBsaXN0ZW5lci4gT25seSBvbmUgbGlzdGVuZXIgcGVyIG1lc3NhZ2UgSUQgc2hvdWxkIGV4aXN0LgogICAgICogQVRFTlRJT04sIHRoZXJlIGlzIG5vIHRpbWVvdXQgZm9yIHRoaXMgbGlzdGVuZXIuCiAgICAgKiBUaGUgbGlzdGVuZXIgc2hvdWxkIGJlIHJlbW92ZWQgd2l0aCBhIHJlbW92ZVJlc3BvbnNlTGlzdGVuZXIsIGZhaWxpbmcgdG8gZG8gdGhpcyB3aWxsIHJlc3VsdCBpbiBhIHVucmVsZWFzZWQgbWVtb3J5IHByb2JsZW0uCiAgICAgKiBAcGFyYW0ge1VSTH0gdXJsIE9yaWdpbiBhZGRyZXNzIG9mIHRoZSBtZXNzYWdlIHNlbnQsICJtc2cuZnJvbSIuCiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXNnSWQgTWVzc2FnZSBJRCB0aGF0IGlzIHJldHVybmVkIGZyb20gdGhlIHBvc3RNZXNzYWdlLgogICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcmVzcG9uc2VMaXN0ZW5lciBDYWxsYmFjayBmdW5jdGlvbiBmb3IgdGhlIHJlc3BvbnNlCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAnYWRkUmVzcG9uc2VMaXN0ZW5lcicsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkUmVzcG9uc2VMaXN0ZW5lcih1cmwsIG1zZ0lkLCByZXNwb25zZUxpc3RlbmVyKSB7CiAgICAgIHRoaXMuX3Jlc3BvbnNlQ2FsbGJhY2tzW3VybCArIG1zZ0lkXSA9IHJlc3BvbnNlTGlzdGVuZXI7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZW1vdmUgdGhlIHJlc3BvbnNlIGxpc3RlbmVyLgogICAgICogQHBhcmFtIHtVUkx9IHVybCBPcmlnaW4gYWRkcmVzcyBvZiB0aGUgbWVzc2FnZSBzZW50LCAibXNnLmZyb20iLgogICAgICogQHBhcmFtIHtudW1iZXJ9IG1zZ0lkICBNZXNzYWdlIElEIHRoYXQgaXMgcmV0dXJuZWQgZnJvbSB0aGUgcG9zdE1lc3NhZ2UKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdyZW1vdmVSZXNwb25zZUxpc3RlbmVyJywKICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVSZXNwb25zZUxpc3RlbmVyKHVybCwgbXNnSWQpIHsKICAgICAgZGVsZXRlIHRoaXMuX3Jlc3BvbnNlQ2FsbGJhY2tzW3VybCArIG1zZ0lkXTsKICAgIH0KCiAgICAvKioKICAgICAqIFJlbW92ZSBhbGwgZXhpc3RlbnQgbGlzdGVuZXJzIGZvciB0aGUgVVJMCiAgICAgKiBAcGFyYW0gIHtVUkx9IHVybCBBZGRyZXNzIHJlZ2lzdGVyZWQKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdyZW1vdmVBbGxMaXN0ZW5lcnNPZicsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzT2YodXJsKSB7CiAgICAgIGRlbGV0ZSB0aGlzLl9zdWJzY3JpcHRpb25zW3VybF07CiAgICB9CgogICAgLyoqCiAgICAgKiBIZWxwZXIgbWV0aG9kIHRvIGJpbmQgbGlzdGVuZXJzIChpbiBib3RoIGRpcmVjdGlvbnMpIGludG8gb3RoZXIgTWluaUJ1cyB0YXJnZXQuCiAgICAgKiBAcGFyYW0gIHtVUkx9IG91dFVybCBPdXRib3VuZCBVUkwsIHJlZ2lzdGVyIGxpc3RlbmVyIGZvciB1cmwgaW4gZGlyZWN0aW9uICJ0aGlzIC0+IHRhcmdldCIKICAgICAqIEBwYXJhbSAge1VSTH0gaW5VcmwgSW5ib3VuZCBVUkwsIHJlZ2lzdGVyIGxpc3RlbmVyIGZvciB1cmwgaW4gZGlyZWN0aW9uICJ0YXJnZXQgLT4gdGhpcyIKICAgICAqIEBwYXJhbSAge01pbmlCdXN9IHRhcmdldCBUaGUgb3RoZXIgdGFyZ2V0IE1pbmlCdXMKICAgICAqIEByZXR1cm4ge0JvdW5kfSBhbiBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgcHJvcGVydGllcyBbdGhpc0xpc3RlbmVyLCB0YXJnZXRMaXN0ZW5lcl0gYW5kIHRoZSB1bmJpbmQgbWV0aG9kLgogICAgICovCgogIH0sIHsKICAgIGtleTogJ2JpbmQnLAogICAgdmFsdWU6IGZ1bmN0aW9uIGJpbmQob3V0VXJsLCBpblVybCwgdGFyZ2V0KSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciB0aGlzTGlzdG4gPSBfdGhpcy5hZGRMaXN0ZW5lcihvdXRVcmwsIGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICB0YXJnZXQucG9zdE1lc3NhZ2UobXNnKTsKICAgICAgfSk7CgogICAgICB2YXIgdGFyZ2V0TGlzdG4gPSB0YXJnZXQuYWRkTGlzdGVuZXIoaW5VcmwsIGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICBfdGhpcy5wb3N0TWVzc2FnZShtc2cpOwogICAgICB9KTsKCiAgICAgIHJldHVybiB7CiAgICAgICAgdGhpc0xpc3RlbmVyOiB0aGlzTGlzdG4sCiAgICAgICAgdGFyZ2V0TGlzdGVuZXI6IHRhcmdldExpc3RuLAogICAgICAgIHVuYmluZDogZnVuY3Rpb24gdW5iaW5kKCkgewogICAgICAgICAgX3RoaXMyLnRoaXNMaXN0ZW5lci5yZW1vdmUoKTsKICAgICAgICAgIF90aGlzMi50YXJnZXRMaXN0ZW5lci5yZW1vdmUoKTsKICAgICAgICB9CiAgICAgIH07CiAgICB9CgogICAgLy9wdWJsaXNoIG9uIGRlZmF1bHQgbGlzdGVuZXJzCgogIH0sIHsKICAgIGtleTogJ19wdWJsaXNoT25EZWZhdWx0JywKICAgIHZhbHVlOiBmdW5jdGlvbiBfcHVibGlzaE9uRGVmYXVsdChtc2cpIHsKICAgICAgLy9pcyB0aGVyZSBhbnkgIioiIChkZWZhdWx0KSBsaXN0ZW5lcnM/CiAgICAgIHZhciBpdGVtTGlzdCA9IHRoaXMuX3N1YnNjcmlwdGlvbnNbJyonXTsKICAgICAgaWYgKGl0ZW1MaXN0KSB7CiAgICAgICAgdGhpcy5fcHVibGlzaE9uKGl0ZW1MaXN0LCBtc2cpOwogICAgICB9CiAgICB9CgogICAgLy9wdWJsaXNoIG9uIGEgc3Vic2NyaXB0aW9uIGxpc3QuCgogIH0sIHsKICAgIGtleTogJ19wdWJsaXNoT24nLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9wdWJsaXNoT24oaXRlbUxpc3QsIG1zZykgewogICAgICBpdGVtTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChzdWIpIHsKICAgICAgICBzdWIuX2NhbGxiYWNrKG1zZyk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogJ19yZXNwb25zZUNhbGxiYWNrJywKICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVzcG9uc2VDYWxsYmFjayhpbk1zZywgcmVzcG9uc2VDYWxsYmFjaykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy9hdXRvbWF0aWMgbWFuYWdlbWVudCBvZiByZXNwb25zZSBoYW5kbGVycwogICAgICBpZiAocmVzcG9uc2VDYWxsYmFjaykgewogICAgICAgIChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgcmVzcG9uc2VJZCA9IGluTXNnLmZyb20gKyBpbk1zZy5pZDsKICAgICAgICAgIF90aGlzLl9yZXNwb25zZUNhbGxiYWNrc1tyZXNwb25zZUlkXSA9IHJlc3BvbnNlQ2FsbGJhY2s7CgogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHZhciByZXNwb25zZUZ1biA9IF90aGlzLl9yZXNwb25zZUNhbGxiYWNrc1tyZXNwb25zZUlkXTsKICAgICAgICAgICAgZGVsZXRlIF90aGlzLl9yZXNwb25zZUNhbGxiYWNrc1tyZXNwb25zZUlkXTsKCiAgICAgICAgICAgIGlmIChyZXNwb25zZUZ1bikgewogICAgICAgICAgICAgIHZhciBlcnJvck1zZyA9IHsKICAgICAgICAgICAgICAgIGlkOiBpbk1zZy5pZCwgdHlwZTogJ3Jlc3BvbnNlJywKICAgICAgICAgICAgICAgIGJvZHk6IHsgY29kZTogNDA4LCBkZXNjOiAnUmVzcG9uc2UgdGltZW91dCEnLCB2YWx1ZTogaW5Nc2cgfQogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgIHJlc3BvbnNlRnVuKGVycm9yTXNnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgX3RoaXMuX3Jlc3BvbnNlVGltZU91dCk7CiAgICAgICAgfSkoKTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogJ19vblJlc3BvbnNlJywKICAgIHZhbHVlOiBmdW5jdGlvbiBfb25SZXNwb25zZShtc2cpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmIChtc2cudHlwZSA9PT0gJ3Jlc3BvbnNlJykgewogICAgICAgIHZhciByZXNwb25zZUlkID0gbXNnLnRvICsgbXNnLmlkOwogICAgICAgIHZhciByZXNwb25zZUZ1biA9IF90aGlzLl9yZXNwb25zZUNhbGxiYWNrc1tyZXNwb25zZUlkXTsKCiAgICAgICAgLy9pZiBpdCdzIGEgcHJvdmlzaW9uYWwgcmVzcG9uc2UsIGRvbid0IGRlbGV0ZSByZXNwb25zZSBsaXN0ZW5lcgogICAgICAgIGlmIChtc2cuYm9keS5jb2RlID49IDIwMCkgewogICAgICAgICAgZGVsZXRlIF90aGlzLl9yZXNwb25zZUNhbGxiYWNrc1tyZXNwb25zZUlkXTsKICAgICAgICB9CgogICAgICAgIGlmIChyZXNwb25zZUZ1bikgewogICAgICAgICAgcmVzcG9uc2VGdW4obXNnKTsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8vcmVjZWl2ZSBtZXNzYWdlcyBmcm9tIGV4dGVybmFsIGludGVyZmFjZQoKICB9LCB7CiAgICBrZXk6ICdfb25NZXNzYWdlJywKICAgIHZhbHVlOiBmdW5jdGlvbiBfb25NZXNzYWdlKG1zZykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCFfdGhpcy5fb25SZXNwb25zZShtc2cpKSB7CiAgICAgICAgdmFyIGl0ZW1MaXN0ID0gX3RoaXMuX3N1YnNjcmlwdGlvbnNbbXNnLnRvXTsKICAgICAgICBpZiAoaXRlbUxpc3QpIHsKICAgICAgICAgIF90aGlzLl9wdWJsaXNoT24oaXRlbUxpc3QsIG1zZyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzLl9wdWJsaXNoT25EZWZhdWx0KG1zZyk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAnX2dlbklkJywKICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2VuSWQoaW5Nc2cpIHsKICAgICAgLy9UT0RPOiBob3cgZG8gd2UgbWFuYWdlIG1lc3NhZ2UgSUQncz8gU2hvdWxkIGl0IGJlIGEgZ2xvYmFsIHJ1bnRpbWUgY291bnRlciwgb3IgcGVyIFVSTCBhZGRyZXNzPwogICAgICAvL0dsb2JhbCBjb3VudGVyIHdpbGwgbm90IHdvcmssIGJlY2F1c2UgdGhlcmUgd2lsbCBiZSBtdWx0aXBsZSBNaW5pQnVzIGluc3RhbmNlcyEKICAgICAgLy9QZXIgVVJMLCBjYW4gYmUgYSBsb3Qgb2YgZGF0YSB0byBtYWludGFpbiEKICAgICAgLy9NYXliZSBhIGNvdW50ZXIgcGVyIE1pbmlCdXMgaW5zdGFuY2UuIFRoaXMgaXMgdGhlIGFzc3VtZWQgc29sdXRpb24gZm9yIG5vdy4KICAgICAgaWYgKCFpbk1zZy5pZCB8fCBpbk1zZy5pZCA9PT0gMCkgewogICAgICAgIHRoaXMuX21zZ0lkKys7CiAgICAgICAgaW5Nc2cuaWQgPSB0aGlzLl9tc2dJZDsKICAgICAgfQogICAgfQoKICAgIC8qKgogICAgKiBTZW5kIG1lc3NhZ2VzIHRvIGxvY2FsIGxpc3RlbmVycywgb3IgaWYgbm90IGV4aXN0cyB0byBleHRlcm5hbCBsaXN0ZW5lcnMuCiAgICAqIEl0J3MgaGFzIGFuIG9wdGlvbmFsIG1lY2hhbmlzbSBmb3IgYXV0b21hdGljIG1hbmFnZW1lbnQgb2YgcmVzcG9uc2UgaGFuZGxlcnMuCiAgICAqIFRoZSByZXNwb25zZSBoYW5kbGVyIHdpbGwgYmUgdW5yZWdpc3RlcmVkIGFmdGVyIHJlY2VpdmluZyB0aGUgcmVzcG9uc2UsIG9yIGFmdGVyIHJlc3BvbnNlIHRpbWVvdXQgKGRlZmF1bHQgdG8gM3MpLgogICAgKiBAcGFyYW0gIHtNZXNzYWdlfSBtc2cgTWVzc2FnZSB0byBzZW5kLiBNZXNzYWdlIElEIGlzIGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gdGhlIG1lc3NhZ2UuCiAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSByZXNwb25zZUNhbGxiYWNrIE9wdGlvbmFsIHBhcmFtZXRlciwgaWYgdGhlIGRldmVsb3BlciB3aGF0J3MgYXV0b21hdGljIHJlc3BvbnNlIG1hbmFnZW1lbnQuCiAgICAqIEByZXR1cm4ge251bWJlcn0gUmV0dXJucyB0aGUgbWVzc2FnZSBJRCwgaW4gY2FzZSBpdCBzaG91bGQgYmUgbmVlZGVkIGZvciBtYW51YWwgbWFuYWdlbWVudCBvZiB0aGUgcmVzcG9uc2UgaGFuZGxlci4KICAgICovCgogIH0sIHsKICAgIGtleTogJ3Bvc3RNZXNzYWdlJywKICAgIHZhbHVlOiBmdW5jdGlvbiBwb3N0TWVzc2FnZShpbk1zZywgcmVzcG9uc2VDYWxsYmFjaykge30KCiAgICAvKioKICAgICAqIE5vdCBwdWJsaWMgYXZhaWxhYmxlLCB1c2VkIGJ5IHRoZSBjbGFzcyBleHRlbnNpb24gaW1wbGVtZW50YXRpb24sIHRvIHByb2Nlc3MgbWVzc2FnZXMgZnJvbSB0aGUgcHVibGljICJwb3N0TWVzc2FnZSIgd2l0aG91dCBhIHJlZ2lzdGVyZWQgbGlzdGVuZXIuCiAgICAgKiBVc2VkIHRvIHNlbmQgdGhlIG1lc3NhZ2UgdG8gYW4gZXh0ZXJuYWwgaW50ZXJmYWNlLCBsaWtlIGEgV2ViV29ya2VyLCBJRnJhbWUsIGV0Yy4KICAgICAqIEBwYXJhbSAge01lc3NhZ2UuTWVzc2FnZX0gbXNnIE1lc3NhZ2UKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdfb25Qb3N0TWVzc2FnZScsCiAgICB2YWx1ZTogZnVuY3Rpb24gX29uUG9zdE1lc3NhZ2UobXNnKSB7fSAvKmltcGxlbWVudGF0aW9uIHdpbGwgc2VuZCBtZXNzYWdlIHRvIGV4dGVybmFsIHN5c3RlbSovCgogICAgLyoqCiAgICAgKiBOb3QgcHVibGljIGF2YWlsYWJsZSwgdXNlZCBieSB0aGUgY2xhc3MgZXh0ZW5zaW9uIGltcGxlbWVudGF0aW9uLCB0byBwcm9jZXNzIGFsbCBtZXNzYWdlcyB0aGF0IGVudGVyIHRoZSBNaW5pQnVzIGZyb20gYW4gZXh0ZXJuYWwgaW50ZXJmYWNlLCBsaWtlIGEgV2ViV29ya2VyLCBJRnJhbWUsIGV0Yy4KICAgICAqIFRoaXMgbWV0aG9kIGlzIGNhbGxlZCBvbmUgdGltZSBpbiB0aGUgY29uc3RydWN0b3IgdG8gcmVnaXN0ZXIgZXh0ZXJuYWwgbGlzdGVuZXJzLgogICAgICogVGhlIGltcGxlbWVudGF0aW9uIHdpbGwgcHJvYmFibHkgY2FsbCB0aGUgIl9vbk1lc3NhZ2UiIG1ldGhvZCB0byBwdWJsaXNoIGluIHRoZSBsb2NhbCBsaXN0ZW5lcnMuCiAgICAgKiBETyBOT1QgY2FsbCAicG9zdE1lc3NhZ2UiLCB0aGVyZSBpcyBhIGRhbmdlciB0aGF0IHRoZSBtZXNzYWdlIGVudGVycyBpbiBhIGN5Y2xlIQogICAgICovCgogIH0sIHsKICAgIGtleTogJ19yZWdpc3RlckV4dGVybmFsTGlzdGVuZXInLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9yZWdpc3RlckV4dGVybmFsTGlzdGVuZXIoKSB7LyppbXBsZW1lbnRhdGlvbiB3aWxsIHJlZ2lzdGVyIGV4dGVybmFsIGxpc3RlbmVyIGFuZCBjYWxsICJ0aGlzLl9vbk1lc3NhZ2UobXNnKSIgKi99CiAgfV0pOwoKICByZXR1cm4gQnVzOwp9KCk7Cgp2YXIgTXNnTGlzdGVuZXIgPSBmdW5jdGlvbiAoKSB7CiAgLyogcHJpdmF0ZQogIF9zdWJzY3JpcHRpb25zOiA8c3RyaW5nOiBNc2dMaXN0ZW5lcltdPjsKICBfdXJsOiBzdHJpbmc7CiAgX2NhbGxiYWNrOiAobXNnKSA9PiB2b2lkOwogICovCgogIGZ1bmN0aW9uIE1zZ0xpc3RlbmVyKHN1YnNjcmlwdGlvbnMsIHVybCwgY2FsbGJhY2spIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNc2dMaXN0ZW5lcik7CgogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBfdGhpcy5fc3Vic2NyaXB0aW9ucyA9IHN1YnNjcmlwdGlvbnM7CiAgICBfdGhpcy5fdXJsID0gdXJsOwogICAgX3RoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2s7CiAgfQoKICBfY3JlYXRlQ2xhc3MoTXNnTGlzdGVuZXIsIFt7CiAgICBrZXk6ICdyZW1vdmUnLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBzdWJzID0gX3RoaXMuX3N1YnNjcmlwdGlvbnNbX3RoaXMuX3VybF07CiAgICAgIGlmIChzdWJzKSB7CiAgICAgICAgdmFyIGluZGV4ID0gc3Vicy5pbmRleE9mKF90aGlzKTsKICAgICAgICBzdWJzLnNwbGljZShpbmRleCwgMSk7CgogICAgICAgIC8vaWYgdGhlcmUgYXJlIG5vIGxpc3RlbmVycywgcmVtb3ZlIHRoZSBzdWJzY3JpcHRpb24gZW50aXJlbHkuCiAgICAgICAgaWYgKHN1YnMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgICBkZWxldGUgX3RoaXMuX3N1YnNjcmlwdGlvbnNbX3RoaXMuX3VybF07CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAndXJsJywKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fdXJsOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIE1zZ0xpc3RlbmVyOwp9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBCdXM7Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV0sMTgwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7Cgp2YXIgX0J1czIgPSByZXF1aXJlKCcuL0J1cycpOwoKdmFyIF9CdXMzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQnVzMik7Cgp2YXIgX1BpcGVsaW5lID0gcmVxdWlyZSgnLi9QaXBlbGluZScpOwoKdmFyIF9QaXBlbGluZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QaXBlbGluZSk7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgpmdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gIm9iamVjdCIgfHwgdHlwZW9mIGNhbGwgPT09ICJmdW5jdGlvbiIpID8gY2FsbCA6IHNlbGY7IH0KCmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09ICJmdW5jdGlvbiIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9CgovKioKKiBNZXNzYWdlIEJVUyBJbnRlcmZhY2UgaXMgYW4gZXh0ZW5zaW9uIG9mIHRoZSBNaW5pQnVzCiogSXQgZG9lc24ndCBzdXBwb3J0IHRoZSBkZWZhdWx0ICcqJyBsaXN0ZW5lciwgaW5zdGVhZCBpdCB1c2VzIHRoZSByZWdpc3RyeS5yZXNvbHZlKC4uKQoqLwoKdmFyIE1lc3NhZ2VCdXMgPSBmdW5jdGlvbiAoX0J1cykgewogIF9pbmhlcml0cyhNZXNzYWdlQnVzLCBfQnVzKTsKCiAgLyogcHJpdmF0ZQogIF9yZWdpc3RyeTogUmVnaXN0cnkKICBfZm9yd2FyZHM6IHsgPGZyb20tdXJsPjogeyBmbDogTXNnTGlzdGVuZXIsIHNhbmRib3hUb1VybHM6IE1hcChTYW5kYm94LCBbdG8tdXJsXSksIHVybFRvU2FuZGJveDogeyB0by11cmw6IFNhbmRib3ggfSB9IH0KICAgX3BpcGVsaW5lOiBQaXBlbGluZQogICovCgogIC8vVE9ETzogZnV0dXJlIG9wdGltaXphdGlvbgogIC8vMS4gbWVzc2FnZSBiYXRjaCBwcm9jZXNzaW5nIHdpdGggc2V0SW50ZXJ2YWwKICAvLzIuIHJlc29sdmUgZGVmYXVsdCBnYXRld2F5L3Byb3Rvc3R1YiB3aXRoIHJlZ2lzdGVyLnJlc29sdmUKCiAgZnVuY3Rpb24gTWVzc2FnZUJ1cyhyZWdpc3RyeSkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1lc3NhZ2VCdXMpOwoKICAgIHZhciBfdGhpczIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTWVzc2FnZUJ1cykuY2FsbCh0aGlzKSk7CgogICAgX3RoaXMyLl9yZWdpc3RyeSA9IHJlZ2lzdHJ5OwogICAgX3RoaXMyLl9mb3J3YXJkcyA9IHt9OwoKICAgIF90aGlzMi5fcGlwZWxpbmUgPSBuZXcgX1BpcGVsaW5lMi5kZWZhdWx0KGZ1bmN0aW9uIChlcnJvcikgewogICAgICBjb25zb2xlLmxvZygnUElQRUxJTkUtRVJST1I6ICcsIEpTT04uc3RyaW5naWZ5KGVycm9yKSk7CiAgICB9KTsKICAgIHJldHVybiBfdGhpczI7CiAgfQoKICBfY3JlYXRlQ2xhc3MoTWVzc2FnZUJ1cywgW3sKICAgIGtleTogJ3Bvc3RNZXNzYWdlJywKICAgIHZhbHVlOiBmdW5jdGlvbiBwb3N0TWVzc2FnZShpbk1zZywgcmVzcG9uc2VDYWxsYmFjaykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgX3RoaXMuX2dlbklkKGluTXNnKTsKCiAgICAgIF90aGlzLl9waXBlbGluZS5wcm9jZXNzKGluTXNnLCBmdW5jdGlvbiAobXNnKSB7CgogICAgICAgIF90aGlzLl9yZXNwb25zZUNhbGxiYWNrKGluTXNnLCByZXNwb25zZUNhbGxiYWNrKTsKCiAgICAgICAgaWYgKCFfdGhpcy5fb25SZXNwb25zZShtc2cpKSB7CiAgICAgICAgICB2YXIgaXRlbUxpc3QgPSBfdGhpcy5fc3Vic2NyaXB0aW9uc1ttc2cudG9dOwogICAgICAgICAgaWYgKGl0ZW1MaXN0KSB7CiAgICAgICAgICAgIC8vZG8gbm90IHB1Ymxpc2ggb24gZGVmYXVsdCBhZGRyZXNzLCBiZWNhdXNlIG9mIGxvb3BiYWNrIGN5Y2xlCiAgICAgICAgICAgIF90aGlzLl9wdWJsaXNoT24oaXRlbUxpc3QsIG1zZyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvL2lmIHRoZXJlIGlzIG5vIGxpc3RlbmVyLCBzZW5kIHRvIGV4dGVybmFsIGludGVyZmFjZQogICAgICAgICAgICBfdGhpcy5fb25Qb3N0TWVzc2FnZShtc2cpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CgogICAgICByZXR1cm4gaW5Nc2cuaWQ7CiAgICB9CgogICAgLyoKICAgIGFkZEZvcndhcmQoZnJvbSwgdG8pIHsKICAgICAgbGV0IF90aGlzID0gdGhpczsKICAgICAgIC8vdmVyaWZ5IGlmIGZvcndhcmQgZXhpc3QKICAgICAgbGV0IGNvbmYgPSBfdGhpcy5fZm9yd2FyZHNbZnJvbV07CiAgICAgIGlmICghY29uZikgewogICAgICAgIGxldCBmb3J3YXJkTGlzdGVuZXIgPSBfdGhpcy5hZGRMaXN0ZW5lcihmcm9tLCAobXNnKSA9PiB7CiAgICAgICAgICBjb25mLnNhbmRib3hUb1VybHMuZm9yRWFjaCgodXJscywgc2FuZGJveCkgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZygnTUItRk9SV0FSRDogKCAnICsgZnJvbSArICcgdG8gJyArIHVybHMuc2l6ZSArICcgZGVzdGluYXRpb25zKScpOwogICAgICAgICAgICB1cmxzLmZvckVhY2goKHZhbHVlKSA9PiB7IGNvbnNvbGUubG9nKCdTRU5ELVRPOiAnLCB2YWx1ZSk7IH0pOwogICAgICAgICAgICAgc2FuZGJveC5wb3N0TWVzc2FnZShtc2cpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgIGNvbmYgPSB7CiAgICAgICAgICBmcm9tOiBmcm9tLAogICAgICAgICAgZmw6IGZvcndhcmRMaXN0ZW5lciwKICAgICAgICAgIHNhbmRib3hUb1VybHM6IG5ldyBNYXAoKSwKICAgICAgICAgIHVybFRvU2FuZGJveDogbmV3IE1hcCgpLAogICAgICAgICAgIC8vcmVtb3ZlIGZvcndhcmQgZGV0aW5hdGlvbgogICAgICAgICAgcmVtb3ZlOiAodXJsKSA9PiB7CiAgICAgICAgICAgIGxldCBzYW5kYm94ID0gdGhpcy51cmxUb1NhbmRib3guZ2V0KHVybCk7CiAgICAgICAgICAgIGlmIChzYW5kYm94KSB7CiAgICAgICAgICAgICAgdGhpcy51cmxUb1NhbmRib3guZGVsZXRlKHVybCk7CiAgICAgICAgICAgICAgdGhpcy5zYW5kYm94VG9VcmxzLmdldChzYW5kYm94KS5kZWxldGUodXJsKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgIF90aGlzLl9mb3J3YXJkc1tmcm9tXSA9IGNvbmY7CiAgICAgIH0KICAgICAgIC8vYWRkIGZvcndhcmQgZGV0aW5hdGlvbgogICAgICB0aGlzLl9yZWdpc3RyeS5nZXRTYW5kYm94KHRvKS50aGVuKChzYW5kYm94KSA9PiB7CiAgICAgICAgbGV0IHVybHMgPSBjb25mLnNhbmRib3hUb1VybHMuZ2V0KHNhbmRib3gpOwogICAgICAgIGlmICghdXJscykgewogICAgICAgICAgdXJscyA9IG5ldyBTZXQoKTsKICAgICAgICAgIGNvbmYuc2FuZGJveFRvVXJscy5zZXQoc2FuZGJveCwgdXJscyk7CiAgICAgICAgfQogICAgICAgICB1cmxzLmFkZCh0byk7CiAgICAgICAgY29uZi51cmxUb1NhbmRib3guc2V0KHRvLCBzYW5kYm94KTsKICAgICAgfSk7CiAgICAgICByZXR1cm4gY29uZjsKICAgIH0KICAgICovCgogIH0sIHsKICAgIGtleTogJ2FkZFB1Ymxpc2gnLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFB1Ymxpc2goZnJvbSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7IC8vdmVyaWZ5IGlmIGZvcndhcmQgZXhpc3QKICAgICAgdmFyIHJlZkNvdW50ID0gX3RoaXMuX2ZvcndhcmRzW2Zyb21dOwogICAgICBpZiAoIXJlZkNvdW50KSB7CiAgICAgICAgdmFyIGZvcndhcmRMaXN0ZW5lciA9IF90aGlzLmFkZExpc3RlbmVyKGZyb20sIGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdNQi1QVUJMSVNIOiAoICcgKyBmcm9tICsgJyApJyk7CiAgICAgICAgICBfdGhpcy5fb25Qb3N0TWVzc2FnZShtc2cpOwogICAgICAgIH0pOwoKICAgICAgICByZWZDb3VudCA9IHsKICAgICAgICAgIGNvdW50ZXI6IDAsCiAgICAgICAgICBmbDogZm9yd2FyZExpc3RlbmVyLAogICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7CiAgICAgICAgICAgIF90aGlzMy5jb3VudGVyLS07CiAgICAgICAgICAgIGlmIChfdGhpczMuY291bnRlciA9PT0gMCkgewogICAgICAgICAgICAgIF90aGlzMy5mbC5yZW1vdmUoKTsKICAgICAgICAgICAgICBkZWxldGUgX3RoaXMuX2ZvcndhcmRzW2Zyb21dOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgX3RoaXMuX2ZvcndhcmRzW2Zyb21dID0gcmVmQ291bnQ7CiAgICAgIH0KCiAgICAgIHJlZkNvdW50LmNvdW50ZXIrKzsKICAgICAgcmV0dXJuIHJlZkNvdW50OwogICAgfQogIH0sIHsKICAgIGtleTogJ2FkZEZvcndhcmQnLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZEZvcndhcmQoZnJvbSwgdG8pIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfdGhpcy5hZGRMaXN0ZW5lcihmcm9tLCBmdW5jdGlvbiAobXNnKSB7CiAgICAgICAgY29uc29sZS5sb2coJ01CLUZPUldBUkQ6ICggJyArIGZyb20gKyAnIHRvICcgKyB0byArICcgKScpOwogICAgICAgIF90aGlzLmZvcndhcmQodG8sIG1zZyk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogJ2ZvcndhcmQnLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZvcndhcmQodXJsLCBtc2cpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBpdGVtTGlzdCA9IF90aGlzLl9zdWJzY3JpcHRpb25zW3VybF07CiAgICAgIGlmIChpdGVtTGlzdCkgewogICAgICAgIF90aGlzLl9wdWJsaXNoT24oaXRlbUxpc3QsIG1zZyk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICdfb25Qb3N0TWVzc2FnZScsCiAgICB2YWx1ZTogZnVuY3Rpb24gX29uUG9zdE1lc3NhZ2UobXNnKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICAvL3Jlc29sdmUgZXh0ZXJuYWwgcHJvdG9zdHViLi4uCiAgICAgIF90aGlzLl9yZWdpc3RyeS5yZXNvbHZlKG1zZy50bykudGhlbihmdW5jdGlvbiAocm91dGUpIHsKICAgICAgICBfdGhpcy5mb3J3YXJkKHJvdXRlLCBtc2cpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKCdSRVNPTFZFLUVSUk9SOiAnLCBlKTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAncGlwZWxpbmUnLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9waXBlbGluZTsKICAgIH0KICB9XSk7CgogIHJldHVybiBNZXNzYWdlQnVzOwp9KF9CdXMzLmRlZmF1bHQpOwoKZXhwb3J0cy5kZWZhdWx0ID0gTWVzc2FnZUJ1czsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHsiLi9CdXMiOjE3OSwiLi9QaXBlbGluZSI6MTgxfV0sMTgxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCi8qKgoqIEBhdXRob3IgbWljYWVscGVkcm9zYUBnbWFpbC5jb20KKiBQaXBlbGluZQoqIFNlcXVlbmNpYWwgcHJvY2Vzc29yIG9mIG1ldGhvZHMuIFNpbWlsYXIgdG8gaG93IFNlcXVlbnRpYWwgUHJvbWlzZSdzIHdvcmssIGJ1dCBiZXR0ZXIgZml0IGZvciBtZXNzYWdlIHByb2Nlc3NpbmcuCiovCgp2YXIgUGlwZWxpbmUgPSBmdW5jdGlvbiAoKSB7CiAgLyogcHVibGljCiAgICBoYW5kbGVyczogKChQaXBlQ29udGV4dCkgPT4gdm9pZClbXQogICAgb25GYWlsOiAoZXJyb3IpID0+IHZvaWQKICAqLwoKICBmdW5jdGlvbiBQaXBlbGluZShfb25GYWlsKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGlwZWxpbmUpOwoKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgX3RoaXMuaGFuZGxlcnMgPSBbXTsKICAgIF90aGlzLm9uRmFpbCA9IF9vbkZhaWw7CiAgfQoKICBfY3JlYXRlQ2xhc3MoUGlwZWxpbmUsIFt7CiAgICBrZXk6ICJwcm9jZXNzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9jZXNzKG1zZywgb25EZWxpdmVyKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoX3RoaXMuaGFuZGxlcnMubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBpdGVyID0gbmV3IEl0ZXJhdG9yKF90aGlzLmhhbmRsZXJzKTsKICAgICAgICBpdGVyLm5leHQobmV3IFBpcGVDb250ZXh0KF90aGlzLCBpdGVyLCBtc2csIG9uRGVsaXZlcikpOwogICAgICB9IGVsc2UgewogICAgICAgIG9uRGVsaXZlcihtc2cpOwogICAgICB9CiAgICB9CiAgfV0pOwoKICByZXR1cm4gUGlwZWxpbmU7Cn0oKTsKCnZhciBQaXBlQ29udGV4dCA9IGZ1bmN0aW9uICgpIHsKICAvKiBwcml2YXRlCiAgICBfaW5TdG9wOiBib29sZWFuCiAgICAgX3BpcGVsaW5lOiBQaXBlbGluZQogICAgX2l0ZXI6IEl0ZXJhdG9yCiAgICBfbXNnOiBNZXNzYWdlCiAgKi8KCiAgZnVuY3Rpb24gUGlwZUNvbnRleHQocGlwZWxpbmUsIGl0ZXIsIG1zZywgb25EZWxpdmVyKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUGlwZUNvbnRleHQpOwoKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgX3RoaXMuX2luU3RvcCA9IGZhbHNlOwoKICAgIF90aGlzLl9waXBlbGluZSA9IHBpcGVsaW5lOwogICAgX3RoaXMuX2l0ZXIgPSBpdGVyOwogICAgX3RoaXMuX21zZyA9IG1zZzsKICAgIF90aGlzLl9vbkRlbGl2ZXIgPSBvbkRlbGl2ZXI7CiAgfQoKICBfY3JlYXRlQ2xhc3MoUGlwZUNvbnRleHQsIFt7CiAgICBrZXk6ICJuZXh0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBuZXh0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKCFfdGhpcy5faW5TdG9wKSB7CiAgICAgICAgaWYgKF90aGlzLl9pdGVyLmhhc05leHQpIHsKICAgICAgICAgIF90aGlzLl9pdGVyLm5leHQoX3RoaXMpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5fb25EZWxpdmVyKF90aGlzLl9tc2cpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImRlbGl2ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRlbGl2ZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIGlmICghX3RoaXMuX2luU3RvcCkgewogICAgICAgIF90aGlzLl9pblN0b3AgPSB0cnVlOwogICAgICAgIF90aGlzLl9vbkRlbGl2ZXIoX3RoaXMuX21zZyk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJmYWlsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmYWlsKGVycm9yKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIV90aGlzLl9pblN0b3ApIHsKICAgICAgICBfdGhpcy5faW5TdG9wID0gdHJ1ZTsKICAgICAgICBpZiAoX3RoaXMuX3BpcGVsaW5lLm9uRmFpbCkgewogICAgICAgICAgX3RoaXMuX3BpcGVsaW5lLm9uRmFpbChlcnJvcik7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAicGlwZWxpbmUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9waXBlbGluZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtc2ciLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9tc2c7CiAgICB9LAogICAgc2V0OiBmdW5jdGlvbiBzZXQoaW5Nc2cpIHsKICAgICAgdGhpcy5fbXNnID0gaW5Nc2c7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gUGlwZUNvbnRleHQ7Cn0oKTsKCnZhciBJdGVyYXRvciA9IGZ1bmN0aW9uICgpIHsKICAvKiBwcml2YXRlCiAgICBfaW5kZXg6IG51bWJlcgogICAgX2FycmF5OiBbXQogICovCgogIGZ1bmN0aW9uIEl0ZXJhdG9yKGFycmF5KSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSXRlcmF0b3IpOwoKICAgIHRoaXMuX2luZGV4ID0gLTE7CiAgICB0aGlzLl9hcnJheSA9IGFycmF5OwogIH0KCiAgX2NyZWF0ZUNsYXNzKEl0ZXJhdG9yLCBbewogICAga2V5OiAiaGFzTmV4dCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2luZGV4IDwgdGhpcy5fYXJyYXkubGVuZ3RoIC0gMTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJuZXh0IiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB0aGlzLl9pbmRleCsrOwogICAgICByZXR1cm4gdGhpcy5fYXJyYXlbdGhpcy5faW5kZXhdOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEl0ZXJhdG9yOwp9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBQaXBlbGluZTsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XSwxODI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKLyoKQWRhcHRlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNvbmRhdmllcy9ibG9vbWZpbHRlci5qcwoKT3JpZ2luYWwgTGljZW5zZToKCkNvcHlyaWdodCAoYykgMjAxMSwgSmFzb24gRGF2aWVzCkFsbCByaWdodHMgcmVzZXJ2ZWQuCgpSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQKbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6CgogICogUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzCiAgICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci4KCiAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsCiAgICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uCiAgICBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi4KCiAgKiBUaGUgbmFtZSBKYXNvbiBEYXZpZXMgbWF5IG5vdCBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cwogICAgZGVyaXZlZCBmcm9tIHRoaXMgc29mdHdhcmUgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uCgpUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTICJBUyBJUyIgQU5ECkFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UIExJTUlURUQgVE8sIFRIRSBJTVBMSUVECldBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBUkUKRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgSkFTT04gREFWSUVTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCwgSU5ESVJFQ1QsCklOQ0lERU5UQUwsIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1QKTElNSVRFRCBUTywgUFJPQ1VSRU1FTlQgT0YgU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SClBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YKTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUIChJTkNMVURJTkcgTkVHTElHRU5DRQpPUiBPVEhFUldJU0UpIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGCkFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLgoqLwoKLyoqCiogSW1wbGVtZW50cyBhIEJsb29tIGZpbHRlci4KKiBAYXV0aG9yIEphc29uIERhdmllczsgYWRhcHRlZCBhbmQgZXh0ZW5kZWQgYnkgYmVpZXJsZUB0dS1iZXJsaW4uZGUKKi8KCnZhciBCbG9vbUZpbHRlciA9IGZ1bmN0aW9uICgpIHsKCiAgLy92YXIgdHlwZWRBcnJheXMgPSB0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnOwoKICAvLyBDcmVhdGVzIGEgbmV3IGJsb29tIGZpbHRlci4gIElmICptKiBpcyBhbiBhcnJheS1saWtlIG9iamVjdCwgd2l0aCBhIGxlbmd0aAogIC8vIHByb3BlcnR5LCB0aGVuIHRoZSBibG9vbSBmaWx0ZXIgaXMgbG9hZGVkIHdpdGggZGF0YSBmcm9tIHRoZSBhcnJheSwgd2hlcmUKICAvLyBlYWNoIGVsZW1lbnQgaXMgYSAzMi1iaXQgaW50ZWdlci4gIE90aGVyd2lzZSwgKm0qIHNob3VsZCBzcGVjaWZ5IHRoZQogIC8vIG51bWJlciBvZiBiaXRzLiAgTm90ZSB0aGF0ICptKiBpcyByb3VuZGVkIHVwIHRvIHRoZSBuZWFyZXN0IG11bHRpcGxlIG9mCiAgLy8gMzIuICAqayogc3BlY2lmaWVzIHRoZSBudW1iZXIgb2YgaGFzaGluZyBmdW5jdGlvbnMuCgogIGZ1bmN0aW9uIEJsb29tRmlsdGVyKG0sIGspIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCbG9vbUZpbHRlcik7CgogICAgdmFyIHR5cGVkQXJyYXlzID0gdHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJzsKCiAgICB2YXIgYTsKICAgIGlmICh0eXBlb2YgbSAhPT0gJ251bWJlcicpIHsKICAgICAgYSA9IG07CiAgICAgIG0gPSBhLmxlbmd0aCAqIDMyOwogICAgfQoKICAgIHZhciBuID0gTWF0aC5jZWlsKG0gLyAzMik7CiAgICB2YXIgaSA9IC0xOwogICAgdGhpcy5tID0gbSA9IG4gKiAzMjsKICAgIHRoaXMuayA9IGs7CgogICAgaWYgKHR5cGVkQXJyYXlzKSB7CiAgICAgIHZhciBrYnl0ZXMgPSAxIDw8IE1hdGguY2VpbChNYXRoLmxvZyhNYXRoLmNlaWwoTWF0aC5sb2cobSkgLyBNYXRoLkxOMiAvIDgpKSAvIE1hdGguTE4yKTsKICAgICAgdmFyIGFycmF5ID0ga2J5dGVzID09PSAxID8gVWludDhBcnJheSA6IGtieXRlcyA9PT0gMiA/IFVpbnQxNkFycmF5IDogVWludDMyQXJyYXk7CiAgICAgIHZhciBrYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKGtieXRlcyAqIGspOwogICAgICB0aGlzLmJ1Y2tldHMgPSBuZXcgSW50MzJBcnJheShuKTsKICAgICAgaWYgKGEpIHdoaWxlICgrK2kgPCBuKSB7CiAgICAgICAgYnVja2V0c1tpXSA9IGFbaV07CiAgICAgIH10aGlzLl9sb2NhdGlvbnMgPSBuZXcgQXJyYXkoa2J1ZmZlcik7CiAgICB9IGVsc2UgewogICAgICAvL3ZhciBidWNrZXRzID0gdGhpcy5idWNrZXRzID0gW107CiAgICAgIHRoaXMuYnVja2V0cyA9IFtdOwogICAgICBpZiAoYSkgd2hpbGUgKCsraSA8IG4pIHsKICAgICAgICBidWNrZXRzW2ldID0gYVtpXTsKICAgICAgfSBlbHNlIHdoaWxlICgrK2kgPCBuKSB7CiAgICAgICAgYnVja2V0c1tpXSA9IDA7CiAgICAgIH10aGlzLl9sb2NhdGlvbnMgPSBbXTsKICAgIH0KICB9CgogIC8vIFNlZSBodHRwOi8vd2lsbHdoaW0ud3BlbmdpbmUuY29tLzIwMTEvMDkvMDMvcHJvZHVjaW5nLW4taGFzaC1mdW5jdGlvbnMtYnktaGFzaGluZy1vbmx5LW9uY2UvCgoKICBfY3JlYXRlQ2xhc3MoQmxvb21GaWx0ZXIsIFt7CiAgICBrZXk6ICdsb2NhdGlvbnMnLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvY2F0aW9ucyh2KSB7CiAgICAgIHZhciBrID0gdGhpcy5rOwogICAgICB2YXIgbSA9IHRoaXMubTsKICAgICAgdmFyIHIgPSB0aGlzLl9sb2NhdGlvbnM7CiAgICAgIHZhciBhID0gdGhpcy5mbnYxYSh2KTsKICAgICAgdmFyIGIgPSB0aGlzLmZudjFhYihhKTsKICAgICAgdmFyIHggPSBhICUgbTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrOyArK2kpIHsKICAgICAgICByW2ldID0geCA8IDAgPyB4ICsgbSA6IHg7CiAgICAgICAgeCA9ICh4ICsgYikgJSBtOwogICAgICB9CiAgICAgIHJldHVybiByOwogICAgfQogIH0sIHsKICAgIGtleTogJ2FkZCcsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkKHYpIHsKICAgICAgdmFyIGwgPSB0aGlzLmxvY2F0aW9ucyh2ICsgJycpOwogICAgICB2YXIgayA9IHRoaXMuazsKICAgICAgdmFyIGJ1Y2tldHMgPSB0aGlzLmJ1Y2tldHM7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgazsgKytpKSB7CiAgICAgICAgYnVja2V0c1tNYXRoLmZsb29yKGxbaV0gLyAzMildIHw9IDEgPDwgbFtpXSAlIDMyOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAndGVzdCcsCiAgICB2YWx1ZTogZnVuY3Rpb24gdGVzdCh2KSB7CiAgICAgIHZhciBsID0gdGhpcy5sb2NhdGlvbnModiArICcnKTsKICAgICAgdmFyIGsgPSB0aGlzLms7CiAgICAgIHZhciBidWNrZXRzID0gdGhpcy5idWNrZXRzOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGs7ICsraSkgewogICAgICAgIHZhciBiID0gbFtpXTsKICAgICAgICBpZiAoKGJ1Y2tldHNbTWF0aC5mbG9vcihiIC8gMzIpXSAmIDEgPDwgYiAlIDMyKSA9PT0gMCkgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KCiAgICAvLyBORVc6IE9ScyB0aGUgQmxvb21GaWx0ZXIgZnJvbSB0aGUgcGFyYW1ldGVyCiAgICAvLyBwYXJhbSBoYXMgdG8gYmUgYSBCRjsgQkZzIHNob3VsZCBiZSBzYW1lIGxlbmd0aAoKICB9LCB7CiAgICBrZXk6ICdhZGRCbG9vbUZpbHRlcicsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQmxvb21GaWx0ZXIodikgewogICAgICB2YXIgYnVja2V0cyA9IHRoaXMuYnVja2V0czsKICAgICAgdmFyIGJ1Y2tldHNQYXJhbSA9IHYuYnVja2V0czsKICAgICAgZm9yICh2YXIgaSA9IDAsIG4gPSBidWNrZXRzLmxlbmd0aDsgaSA8IG47ICsraSkgewogICAgICAgIGJ1Y2tldHNbaV0gPSBidWNrZXRzW2ldIHwgYnVja2V0c1BhcmFtW2ldOwogICAgICB9CiAgICB9CgogICAgLy8gRXN0aW1hdGVkIGNhcmRpbmFsaXR5LgoKICB9LCB7CiAgICBrZXk6ICdzaXplJywKICAgIHZhbHVlOiBmdW5jdGlvbiBzaXplKCkgewogICAgICB2YXIgYnVja2V0cyA9IHRoaXMuYnVja2V0czsKICAgICAgdmFyIGJpdHMgPSAwOwogICAgICBmb3IgKHZhciBpID0gMCwgbiA9IGJ1Y2tldHMubGVuZ3RoOyBpIDwgbjsgKytpKSB7CiAgICAgICAgYml0cyArPSB0aGlzLnBvcGNudChidWNrZXRzW2ldKTsKICAgICAgfXJldHVybiAtdGhpcy5tICogTWF0aC5sb2coMSAtIGJpdHMgLyB0aGlzLm0pIC8gdGhpcy5rOwogICAgfQoKICAgIC8vIGh0dHA6Ly9ncmFwaGljcy5zdGFuZm9yZC5lZHUvfnNlYW5kZXIvYml0aGFja3MuaHRtbCNDb3VudEJpdHNTZXRQYXJhbGxlbAoKICB9LCB7CiAgICBrZXk6ICdwb3BjbnQnLAogICAgdmFsdWU6IGZ1bmN0aW9uIHBvcGNudCh2KSB7CiAgICAgIHYgLT0gdiA+PiAxICYgMHg1NTU1NTU1NTsKICAgICAgdiA9ICh2ICYgMHgzMzMzMzMzMykgKyAodiA+PiAyICYgMHgzMzMzMzMzMyk7CiAgICAgIHJldHVybiAodiArICh2ID4+IDQpICYgMHhmMGYwZjBmKSAqIDB4MTAxMDEwMSA+PiAyNDsKICAgIH0KCiAgICAvLyBGb3dsZXIvTm9sbC9WbyBoYXNoaW5nLgoKICB9LCB7CiAgICBrZXk6ICdmbnYxYScsCiAgICB2YWx1ZTogZnVuY3Rpb24gZm52MWEodikgewogICAgICB2YXIgYSA9IDIxNjYxMzYyNjE7CiAgICAgIGZvciAodmFyIGkgPSAwLCBuID0gdi5sZW5ndGg7IGkgPCBuOyArK2kpIHsKICAgICAgICB2YXIgYyA9IHYuY2hhckNvZGVBdChpKTsKICAgICAgICB2YXIgZCA9IGMgJiAweGZmMDA7CiAgICAgICAgaWYgKGQpIGEgPSB0aGlzLmZudm11bHRpcGx5KGEgXiBkID4+IDgpOwogICAgICAgIGEgPSB0aGlzLmZudm11bHRpcGx5KGEgXiBjICYgMHhmZik7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuZm52bWl4KGEpOwogICAgfQoKICAgIC8vIGEgKiAxNjc3NzYxOSBtb2QgMioqMzIKCiAgfSwgewogICAga2V5OiAnZm52bXVsdGlwbHknLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZudm11bHRpcGx5KGEpIHsKICAgICAgcmV0dXJuIGEgKyAoYSA8PCAxKSArIChhIDw8IDQpICsgKGEgPDwgNykgKyAoYSA8PCA4KSArIChhIDw8IDI0KTsKICAgIH0KCiAgICAvLyBPbmUgYWRkaXRpb25hbCBpdGVyYXRpb24gb2YgRk5WLCBnaXZlbiBhIGhhc2guCgogIH0sIHsKICAgIGtleTogJ2ZudjFhYicsCiAgICB2YWx1ZTogZnVuY3Rpb24gZm52MWFiKGEpIHsKICAgICAgcmV0dXJuIHRoaXMuZm52bWl4KHRoaXMuZm52bXVsdGlwbHkoYSkpOwogICAgfQoKICAgIC8vIFNlZSBodHRwczovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxMzEwMTkwMTMyMjUvaHR0cDovL2hvbWUuY29tY2FzdC5uZXQvfmJyZXRtL2hhc2gvNi5odG1sCgogIH0sIHsKICAgIGtleTogJ2Zudm1peCcsCiAgICB2YWx1ZTogZnVuY3Rpb24gZm52bWl4KGEpIHsKICAgICAgYSArPSBhIDw8IDEzOwogICAgICBhIF49IGEgPj4+IDc7CiAgICAgIGEgKz0gYSA8PCAzOwogICAgICBhIF49IGEgPj4+IDE3OwogICAgICBhICs9IGEgPDwgNTsKICAgICAgcmV0dXJuIGEgJiAweGZmZmZmZmZmOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEJsb29tRmlsdGVyOwp9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBCbG9vbUZpbHRlcjsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XSwxODM6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKLyoqCiogUmVwcmVzZW50cyB0aGUgdXNlcidzIGluZm9ybWF0aW9uIGZvciB0aGUgZ2xvYmFsIHJlZ2lzdHJ5LgoqIEBhdXRob3IgYmVpZXJsZUB0dS1iZXJsaW4uZGUKKi8KCnZhciBHbG9iYWxSZWdpc3RyeVJlY29yZCA9IGZ1bmN0aW9uICgpIHsKCiAgLyoqCiAgICogQ29uc3RydWN0cyBhIG5ldyBlbXB0eSBvYmplY3QuCiAgICovCgogIGZ1bmN0aW9uIEdsb2JhbFJlZ2lzdHJ5UmVjb3JkKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdsb2JhbFJlZ2lzdHJ5UmVjb3JkKTsKCiAgICB0aGlzLmd1aWQ7CiAgICB0aGlzLnNhbHQ7CiAgICB0aGlzLnVzZXJJRHMgPSBbXTsKICAgIHRoaXMubGFzdFVwZGF0ZTsKICAgIHRoaXMudGltZW91dDsKICAgIHRoaXMucHVibGljS2V5OwogICAgdGhpcy5hY3RpdmU7CiAgICB0aGlzLnJldm9rZWQ7CiAgfQoKICAvKioKICAgKiBDb25zdHJ1Y3RzIGEgbmV3IG9iamVjdCByZXByZXNlbnRpbmcgaW5mb3JtYXRpb24gYWJvdXQgb25lIGNvbnRhY3QuCiAgICogQHJldHVybnMge09iamVjdH0gIG9iamVjdCAgQSBKYXZhU2NyaXB0IE9iamVjdCB3aXRoIGFsbCBmaWVsZHMgZm9yIHRoZSBHbG9iYWwgUmVnaXN0cnkgUmVjb3JkLgogICAqLwoKCiAgX2NyZWF0ZUNsYXNzKEdsb2JhbFJlZ2lzdHJ5UmVjb3JkLCBbewogICAga2V5OiAiZ2V0UmVjb3JkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRSZWNvcmQoKSB7CgogICAgICAvLyBUT0RPOiBnaXZlIGVycm9yIGlmIGZpZWxkcyBhcmUgbWlzc2luZwoKICAgICAgdmFyIHJlY29yZCA9IG5ldyBPYmplY3QoKTsKICAgICAgcmVjb3JkLmd1aWQgPSB0aGlzLmd1aWQ7CiAgICAgIHJlY29yZC5zYWx0ID0gdGhpcy5zYWx0OwogICAgICByZWNvcmQudXNlcklEcyA9IHRoaXMudXNlcklkczsKICAgICAgcmVjb3JkLmxhc3RVcGRhdGUgPSB0aGlzLmxhc3RVcGRhdGU7CiAgICAgIHJlY29yZC50aW1lb3V0ID0gdGhpcy50aW1lb3V0OwogICAgICByZWNvcmQucHVibGljS2V5ID0gdGhpcy5wdWJsaWNLZXk7CiAgICAgIHJlY29yZC5hY3RpdmUgPSB0aGlzLmFjdGl2ZTsKICAgICAgcmVjb3JkLnJldm9rZWQgPSB0aGlzLnJldm9rZWQ7CgogICAgICByZXR1cm4gcmVjb3JkOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEdsb2JhbFJlZ2lzdHJ5UmVjb3JkOwp9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBHbG9iYWxSZWdpc3RyeVJlY29yZDsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XSwxODQ6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewooZnVuY3Rpb24gKEJ1ZmZlcil7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOwoKdmFyIF9HcmFwaENvbm5lY3RvckNvbnRhY3REYXRhID0gcmVxdWlyZSgnLi9HcmFwaENvbm5lY3RvckNvbnRhY3REYXRhJyk7Cgp2YXIgX0dyYXBoQ29ubmVjdG9yQ29udGFjdERhdGEyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR3JhcGhDb25uZWN0b3JDb250YWN0RGF0YSk7Cgp2YXIgX0Jsb29tRmlsdGVyID0gcmVxdWlyZSgnLi9CbG9vbUZpbHRlcicpOwoKdmFyIF9CbG9vbUZpbHRlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9CbG9vbUZpbHRlcik7Cgp2YXIgX0dsb2JhbFJlZ2lzdHJ5UmVjb3JkID0gcmVxdWlyZSgnLi9HbG9iYWxSZWdpc3RyeVJlY29yZCcpOwoKdmFyIF9HbG9iYWxSZWdpc3RyeVJlY29yZDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9HbG9iYWxSZWdpc3RyeVJlY29yZCk7Cgp2YXIgX2JpdGNvaW5qc0xpYiA9IHJlcXVpcmUoJ2JpdGNvaW5qcy1saWInKTsKCnZhciBfYml0Y29pbmpzTGliMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2JpdGNvaW5qc0xpYik7Cgp2YXIgX2JpcCA9IHJlcXVpcmUoJ2JpcDM5Jyk7Cgp2YXIgX2JpcDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9iaXApOwoKdmFyIF9zamNsID0gcmVxdWlyZSgnc2pjbCcpOwoKdmFyIF9zamNsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3NqY2wpOwoKdmFyIF9qc3JzYXNpZ24gPSByZXF1aXJlKCdqc3JzYXNpZ24nKTsKCnZhciBfanNyc2FzaWduMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2pzcnNhc2lnbik7Cgp2YXIgX2Jhc2U2NFVybCA9IHJlcXVpcmUoJ2Jhc2U2NC11cmwnKTsKCnZhciBfYmFzZTY0VXJsMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2Jhc2U2NFVybCk7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgovKioKKiBUaGUgR3JhcGggQ29ubmVjdG9yIGNvbnRhaW5zIHRoZSBjb250YWN0IGxpc3QvYWRkcmVzcyBib29rLgoqIEBhdXRob3IgYmVpZXJsZUB0dS1iZXJsaW4uZGUKKi8KCnZhciBHcmFwaENvbm5lY3RvciA9IGZ1bmN0aW9uICgpIHsKCiAgLy8gVE9ETzogaW1wb3J0IC8gZXhwb3J0IG1ldGhvZHMKCiAgLyoqCiAgICogQ29uc3RydWN0cyBhIG5ldyBhbmQgZW1wdHkgR3JhcGggQ29ubmVjdG9yLgogICAqIEBwYXJhbSB7c3RyaW5nfSAgIEh5cGVydHlSdW50aW1lVVJMICAgIFRoZSBIeXBlcnR5IFJ1bnRpbWUgVVJMLgogICAqIEBwYXJhbSB7bWVzc2FnZUJ1c30gICAgTWVzc2FnZUJ1cyAgICAgIFRoZSBNZXNzYWdlIEJ1cy4KICAgKi8KCiAgZnVuY3Rpb24gR3JhcGhDb25uZWN0b3IoaHlwZXJ0eVJ1bnRpbWVVUkwsIG1lc3NhZ2VCdXMpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHcmFwaENvbm5lY3Rvcik7CgogICAgdGhpcy5jb250YWN0cyA9IFtdOwogICAgdGhpcy5sYXN0Q2FsY3VsYXRpb25CbG9vbUZpbHRlcjFIb3AgPSBuZXcgRGF0ZSgwKS50b0lTT1N0cmluZygpOwoKICAgIHRoaXMuZ2xvYmFsUmVnaXN0cnlSZWNvcmQgPSBuZXcgX0dsb2JhbFJlZ2lzdHJ5UmVjb3JkMi5kZWZhdWx0KCk7CiAgICB0aGlzLl9wcnZLZXk7CgogICAgdGhpcy5ncm91cHMgPSBbXTsKICAgIHRoaXMucmVzaWRlbmNlTG9jYXRpb247CiAgICB0aGlzLmZpcnN0TmFtZTsKICAgIHRoaXMubGFzdE5hbWU7CgogICAgdGhpcy5fbWVzc2FnZUJ1cyA9IG1lc3NhZ2VCdXM7CiAgICB0aGlzLl9oeXBlcnR5UnVudGltZVVSTCA9IGh5cGVydHlSdW50aW1lVVJMOwogIH0KCiAgLyoqCiAgKiBSZXR1cm5zIHRoZSBNZXNzYWdlQnVzLgogICogQHBhcmFtIHtNZXNzYWdlQnVzfSAgICAgICAgICAgbWVzc2FnZUJ1cyAgICBUaGUgTWVzc2FnZSBCdXMuCiAgKi8KCgogIF9jcmVhdGVDbGFzcyhHcmFwaENvbm5lY3RvciwgW3sKICAgIGtleTogJ2dlbmVyYXRlR1VJRCcsCgoKICAgIC8qKgogICAgICogR2VuZXJhdGVzIGEgR1VJRCBhbmQgcmV0dXJucyBhIG1uZW1vbmljIGZyb20gd2hpY2ggdGhlIEdVSUQgY2FuIGJlIHJlLWNyZWF0ZWQgbGF0ZXIuCiAgICAgKiBAcmV0dXJucyAge3N0cmluZ30gICAgbW5lbW9uaWMgICAgICBBIHN0cmluZyB3aXRoIDE2IHdvcmRzLgogICAgICovCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVHVUlEKCkgewoKICAgICAgLy8gZ2VuZXJhdGUgbW5lbW9uaWMgYW5kIHNhbHQKICAgICAgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSB0cnVlOwogICAgICB2YXIgbW5lbW9uaWMgPSBfYmlwMi5kZWZhdWx0LmdlbmVyYXRlTW5lbW9uaWMoMTYwKTsKCiAgICAgIHZhciBzYWx0V29yZCA9IF9iaXAyLmRlZmF1bHQuZ2VuZXJhdGVNbmVtb25pYyg4KTsKICAgICAgdGhpcy5fY3JlYXRlS2V5cyhtbmVtb25pYywgc2FsdFdvcmQpOwoKICAgICAgLy8gc2V0IGxhc1VwZGF0ZSBkYXRlCiAgICAgIHRoaXMuZ2xvYmFsUmVnaXN0cnlSZWNvcmQubGFzdFVwZGF0ZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTsKCiAgICAgIC8vIHNldCBkZWZ1YWx0IHRpbWVvdXQKICAgICAgdmFyIHRpbWVvdXQgPSBuZXcgRGF0ZSgpOwogICAgICB0aW1lb3V0LnNldE1vbnRoKHRpbWVvdXQuZ2V0TW9udGgoKSArIDEyMCk7CiAgICAgIHRoaXMuZ2xvYmFsUmVnaXN0cnlSZWNvcmQudGltZW91dCA9IHRpbWVvdXQudG9JU09TdHJpbmcoKTsKCiAgICAgIC8vIHNldCBkZWZhdWx0IHZhbHVlcwogICAgICB0aGlzLmdsb2JhbFJlZ2lzdHJ5UmVjb3JkLmFjdGl2ZSA9IDE7CiAgICAgIHRoaXMuZ2xvYmFsUmVnaXN0cnlSZWNvcmQucmV2b2tlZCA9IDA7CgogICAgICAvLyByZXR1cm4gbW5lbW9uaWMKICAgICAgdmFyIHJ0biA9IG1uZW1vbmljICsgJyAnICsgc2FsdFdvcmQ7CiAgICAgIHJldHVybiBydG47CiAgICB9CgogICAgLyoqCiAgICAgKiBHZW5lcmF0ZXMgYSBwdWJsaWMvcHJpdmF0ZSBrZXkgcGFpciBmcm9tIGEgZ2l2ZW4gbW5lbW9uaWMgKDE2IHdvcmRzKS4KICAgICAqIEV4cGVjdHMgYSBzdHJpbmcgY29udGFpbmluZyAxNiB3b3JkcyBzZXBlcmF0ZWQgYnkgc2luZ2xlIHNwYWNlcy4KICAgICAqIFJldHJpZXZlcyBkYXRhIGZyb20gdGhlIEdsb2JhbCBSZWdpc3RyeS4KICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgIG1uZW1vbmljQW5kU2FsdCAgICAgQSBzdHJpbmcgb2YgMTYgd29yZHMuCiAgICAgKiBAcmV0dXJucyAge1Byb21pc2V9ICBQcm9taXNlICAgICAgICAgIEdsb2JhbCBSZWdpc3RyeSBSZWNvcmQuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAndXNlR1VJRCcsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXNlR1VJRChtbmVtb25pY0FuZFNhbHQpIHsKICAgICAgLy8gVE9ETzogY2hlY2sgaWYgZm9ybWF0IGlzIGNvcnJlY3QgYW5kIGlmIGFsbCB3b3JkcyBhcmUgZnJvbSBiaXAzOSBlbmdsaXNoIHdvcmRsaXN0CiAgICAgIHZhciBsYXN0SW5kZXggPSBtbmVtb25pY0FuZFNhbHQubGFzdEluZGV4T2YoJyAnKTsKICAgICAgdmFyIG1uZW1vbmljID0gbW5lbW9uaWNBbmRTYWx0LnN1YnN0cmluZygwLCBsYXN0SW5kZXgpOwogICAgICB2YXIgc2FsdFdvcmQgPSBtbmVtb25pY0FuZFNhbHQuc3Vic3RyaW5nKGxhc3RJbmRleCArIDEsIG1uZW1vbmljQW5kU2FsdC5sZW5ndGgpOwogICAgICB0aGlzLl9jcmVhdGVLZXlzKG1uZW1vbmljLCBzYWx0V29yZCk7CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8gcmV0cmlldmUgY3VycmVudCBpbmZvIGZyb20gR2xvYmFsIFJlZ2lzdHJ5IGFuZCBmaWxsIHRoaXMuZ2xvYmFsUmVnaXN0cnlSZWNvcmQKICAgICAgdmFyIG1zZyA9IHsKICAgICAgICB0eXBlOiAnUkVBRCcsCiAgICAgICAgZnJvbTogdGhpcy5faHlwZXJ0eVJ1bnRpbWVVUkwgKyAnL2dyYXBoLWNvbm5lY3RvcicsCiAgICAgICAgdG86ICdnbG9iYWw6Ly9yZWdpc3RyeS8nLAogICAgICAgIGJvZHk6IHsgZ3VpZDogdGhpcy5nbG9iYWxSZWdpc3RyeVJlY29yZC5ndWlkIH0KICAgICAgfTsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgICAgIGlmIChfdGhpcy5tZXNzYWdlQnVzID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHJlamVjdCgnTWVzc2FnZUJ1cyBub3QgZm91bmQgb24gR3JhcGhDb25uZWN0b3InKTsKICAgICAgICB9IGVsc2UgewoKICAgICAgICAgIF90aGlzLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobXNnLCBmdW5jdGlvbiAocmVwbHkpIHsKCiAgICAgICAgICAgIC8vIHJlcGx5IHNob3VsZCBiZSB0aGUgSlNPTiByZXR1cm5lZCBmcm9tIHRoZSBHbG9iYWwgUmVnaXN0cnkgUkVTVC1pbnRlcmZhY2UKICAgICAgICAgICAgdmFyIHVud3JhcHBlZEpXVCA9IEtKVVIuandzLkpXUy5wYXJzZShyZXBseS5ib2R5LmRhdGEpOwogICAgICAgICAgICB2YXIgZGF0YUVuY29kZWQgPSB1bndyYXBwZWRKV1QucGF5bG9hZE9iai5kYXRhOwogICAgICAgICAgICB2YXIgZGF0YURlY29kZWQgPSBfYmFzZTY0VXJsMi5kZWZhdWx0LmRlY29kZShkYXRhRW5jb2RlZCk7CiAgICAgICAgICAgIHZhciBkYXRhSlNPTiA9IEpTT04ucGFyc2UoZGF0YURlY29kZWQpOwoKICAgICAgICAgICAgLy8gcHVibGljIGtleSBzaG91bGQgbWF0Y2gKICAgICAgICAgICAgdmFyIHNhbWVLZXkgPSBkYXRhSlNPTi5wdWJsaWNLZXkgPT0gX3RoaXMuZ2xvYmFsUmVnaXN0cnlSZWNvcmQucHVibGljS2V5OwogICAgICAgICAgICBpZiAoIXNhbWVLZXkpIHsKICAgICAgICAgICAgICByZWplY3QoJ1JldHJpZXZlZCBrZXkgZG9lcyBub3QgbWF0Y2ghJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdmFyIHB1YmxpY0tleU9iamVjdCA9IF9qc3JzYXNpZ24yLmRlZmF1bHQuS0VZVVRJTC5nZXRLZXkoZGF0YUpTT04ucHVibGljS2V5KTsKICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IEtKVVIuandzLkpXUy52ZXJpZnkocmVwbHkuYm9keS5kYXRhLCBwdWJsaWNLZXlPYmplY3QsIFsnRVMyNTYnXSk7CiAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7CiAgICAgICAgICAgICAgICByZWplY3QoJ1JldHJpZXZlZCBSZWNvcmQgbm90IHZhbGlkIScpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGRhdGFKU09OLnVzZXJJRHMgIT0gJ3VuZGVmaW5lZCcgJiYgZGF0YUpTT04udXNlcklEcyAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmdsb2JhbFJlZ2lzdHJ5UmVjb3JkLnVzZXJJRHMgPSBkYXRhSlNPTi51c2VySURzOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgX3RoaXMuZ2xvYmFsUmVnaXN0cnlSZWNvcmQubGFzdFVwZGF0ZSA9IGRhdGFKU09OLmxhc3RVcGRhdGU7CiAgICAgICAgICAgICAgICBfdGhpcy5nbG9iYWxSZWdpc3RyeVJlY29yZC50aW1lb3V0ID0gZGF0YUpTT04udGltZW91dDsKICAgICAgICAgICAgICAgIF90aGlzLmdsb2JhbFJlZ2lzdHJ5UmVjb3JkLnNhbHQgPSBkYXRhSlNPTi5zYWx0OwogICAgICAgICAgICAgICAgX3RoaXMuZ2xvYmFsUmVnaXN0cnlSZWNvcmQuYWN0aXZlID0gZGF0YUpTT04uYWN0aXZlOwogICAgICAgICAgICAgICAgX3RoaXMuZ2xvYmFsUmVnaXN0cnlSZWNvcmQucmV2b2tlZCA9IGRhdGFKU09OLnJldm9rZWQ7CiAgICAgICAgICAgICAgICByZXNvbHZlKF90aGlzLmdsb2JhbFJlZ2lzdHJ5UmVjb3JkKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDcmVhdGVzIHRoZSBrZXlzIGZyb20gbW5lbW9uaWMgYW5kIHNhbHQuIEFsc28gc2V0cyBwdWJsaWMga2V5LCBndWlkLCBhbmQgc2FsdCBmb3IgZ2xvYmFsUmVnaXN0cnlSZWNvcmQuCiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgICBtbmVtb25pYyAgICAgQSBzdHJpbmcgd2l0aCAxNSB3b3Jkcy4KICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgIHNhbHQgICAgICAgICBBIHdvcmQuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAnX2NyZWF0ZUtleXMnLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVLZXlzKG1uZW1vbmljLCBzYWx0V29yZCkgewoKICAgICAgLy8gZ2VuZXJhdGUga2V5IHBhaXIKICAgICAgdmFyIHNlZWQgPSBfYmlwMi5kZWZhdWx0Lm1uZW1vbmljVG9TZWVkKG1uZW1vbmljKTsKICAgICAgQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQgPSBmYWxzZTsKICAgICAgdmFyIGhkbm9kZSA9IF9iaXRjb2luanNMaWIyLmRlZmF1bHQuSEROb2RlLmZyb21TZWVkQnVmZmVyKHNlZWQpOwogICAgICB2YXIgZWNwYXJhbXMgPSBLSlVSLmNyeXB0by5FQ1BhcmFtZXRlckRCLmdldEJ5TmFtZSgnc2VjcDI1NmsxJyk7CiAgICAgIHZhciBiaVBydiA9IGhkbm9kZS5rZXlQYWlyLmQ7IC8vIHByaXZhdGUga2V5IGJpZyBpbnRlZ2VyCiAgICAgIHZhciBlcFB1YiA9IGVjcGFyYW1zLkcubXVsdGlwbHkoYmlQcnYpOyAvLyBkKkcKICAgICAgdmFyIGJpWCA9IGVwUHViLmdldFgoKS50b0JpZ0ludGVnZXIoKTsgLy8geCBmcm9tIFEKICAgICAgdmFyIGJpWSA9IGVwUHViLmdldFkoKS50b0JpZ0ludGVnZXIoKTsgLy8geSBmcm9tIFEKICAgICAgdmFyIGNoYXJsZW4gPSBlY3BhcmFtcy5rZXlsZW4gLyA0OwogICAgICB2YXIgaFBydiA9ICgnMDAwMDAwMDAwMCcgKyBiaVBydi50b1N0cmluZygxNikpLnNsaWNlKC1jaGFybGVuKTsKICAgICAgdmFyIGhYID0gKCcwMDAwMDAwMDAwJyArIGJpWC50b1N0cmluZygxNikpLnNsaWNlKC1jaGFybGVuKTsKICAgICAgdmFyIGhZID0gKCcwMDAwMDAwMDAwJyArIGJpWS50b1N0cmluZygxNikpLnNsaWNlKC1jaGFybGVuKTsKICAgICAgdmFyIGhQdWIgPSAnMDQnICsgaFggKyBoWTsKICAgICAgdGhpcy5fcHJ2S2V5ID0gbmV3IEtKVVIuY3J5cHRvLkVDRFNBKHsgY3VydmU6ICdzZWNwMjU2azEnIH0pOwogICAgICB0aGlzLl9wcnZLZXkuc2V0UHJpdmF0ZUtleUhleChoUHJ2KTsKICAgICAgdGhpcy5fcHJ2S2V5LmlzUHJpdmF0ZSA9IHRydWU7CiAgICAgIHRoaXMuX3BydktleS5pc1B1YmxpYyA9IGZhbHNlOwogICAgICB2YXIgcHViS2V5ID0gbmV3IEtKVVIuY3J5cHRvLkVDRFNBKHsgY3VydmU6ICdzZWNwMjU2azEnIH0pOwogICAgICBwdWJLZXkuc2V0UHVibGljS2V5SGV4KGhQdWIpOwogICAgICBwdWJLZXkuaXNQcml2YXRlID0gZmFsc2U7CiAgICAgIHB1YktleS5pc1B1YmxpYyA9IHRydWU7CiAgICAgIHZhciBwdWJsaWNLZXkgPSBfanNyc2FzaWduMi5kZWZhdWx0LktFWVVUSUwuZ2V0UEVNKHB1YktleSwgJ1BLQ1M4UFVCJyk7CiAgICAgIHB1YmxpY0tleSA9IHB1YmxpY0tleS5yZXBsYWNlKC8oXHJcbnxcbnxccikvZ20sICcnKTsKICAgICAgdGhpcy5nbG9iYWxSZWdpc3RyeVJlY29yZC5wdWJsaWNLZXkgPSBwdWJsaWNLZXk7CgogICAgICAvLyBnZW5lcmF0ZSBzYWx0CiAgICAgIHZhciBzYWx0SGFzaGVkQml0QXJyYXkgPSBfc2pjbDIuZGVmYXVsdC5oYXNoLnNoYTI1Ni5oYXNoKHNhbHRXb3JkKTsKICAgICAgdmFyIHNhbHQgPSBfc2pjbDIuZGVmYXVsdC5jb2RlYy5iYXNlNjQuZnJvbUJpdHMoc2FsdEhhc2hlZEJpdEFycmF5KTsKICAgICAgdGhpcy5nbG9iYWxSZWdpc3RyeVJlY29yZC5zYWx0ID0gc2FsdDsKCiAgICAgIC8vIGdlbmVyYXRlIEdVSUQKICAgICAgdmFyIGl0ZXJhdGlvbnMgPSAxMDAwMDsKICAgICAgdmFyIGd1aWRCaXRBcnJheSA9IF9zamNsMi5kZWZhdWx0Lm1pc2MucGJrZGYyKHRoaXMuZ2xvYmFsUmVnaXN0cnlSZWNvcmQucHVibGljS2V5LCBzYWx0LCBpdGVyYXRpb25zKTsKICAgICAgdmFyIGd1aWQgPSBfc2pjbDIuZGVmYXVsdC5jb2RlYy5iYXNlNjR1cmwuZnJvbUJpdHMoZ3VpZEJpdEFycmF5KTsKICAgICAgdGhpcy5nbG9iYWxSZWdpc3RyeVJlY29yZC5ndWlkID0gZ3VpZDsKICAgIH0KCiAgICAvKioKICAgICAqIFNpZ25HZW5lcmF0ZXMgYSBwdWJsaWMvcHJpdmF0ZSBrZXkgcGFpciBmcm9tIGEgZ2l2ZW4gbW5lbW9uaWMuCiAgICAgKiBAcmV0dXJucyAge3N0cmluZ30gICAgIEpXVCAgICAgSlNPTiBXZWIgVG9rZW4gcmVhZHkgdG8gY29tbWl0IHRvIEdsb2JhbCBSZWdpc3RyeS4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdzaWduR2xvYmFsUmVnaXN0cnlSZWNvcmQnLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNpZ25HbG9iYWxSZWdpc3RyeVJlY29yZCgpIHsKCiAgICAgIHZhciByZWNvcmQgPSB0aGlzLmdsb2JhbFJlZ2lzdHJ5UmVjb3JkLmdldFJlY29yZCgpOwogICAgICB2YXIgcmVjb3JkU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkocmVjb3JkKTsKICAgICAgdmFyIHJlY29yZFN0cmluZ0Jhc2U2NCA9IF9iYXNlNjRVcmwyLmRlZmF1bHQuZW5jb2RlKHJlY29yZFN0cmluZyk7CgogICAgICB2YXIgand0ID0gS0pVUi5qd3MuSldTLnNpZ24obnVsbCwgeyBhbGc6ICdFUzI1NicgfSwgeyBkYXRhOiByZWNvcmRTdHJpbmdCYXNlNjQgfSwgdGhpcy5fcHJ2S2V5KTsKICAgICAgcmV0dXJuIGp3dDsKICAgIH0KCiAgICAvKioKICAgICAqIFRha2VzIHRoZSBHbG9iYWwgUmVnaXN0cnkgUmVjb3JkIGFzIGEgc2lnbmVkIEpXVCBhbmQgc2VuZHMgaXQgdG8gdGhlIEdsb2JhbCBSZWdpc3RyeSB2aWEgdGhlIE1lc3NhZ2VCdXMuCiAgICAgKiBSZXR1cm5zIHRoZSByZXNwb25zZSBjb2RlIG9mIHRoZSBSRVNULWludGVyZmFjZSBvZiB0aGUgR2xvYmFsIFJlZ2lzdHJ5IGFzIGEgUHJvbWlzZS4KICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgIGp3dCAgICAgVGhlIEdsb2JhbCBSZWdpc3RyeSBSZWNvcmQgYXMgYSBzaWduZWQgSldULgogICAgICogQHJldHVybnMge1Byb3BtaXNlfSAgUHJvbWlzZSBSZXNwb25zZSBDb2RlIGZyb20gR2xvYmFsIFJlZ2lzdHJ5LgogICAgICovCgogIH0sIHsKICAgIGtleTogJ3NlbmRHbG9iYWxSZWdpc3RyeVJlY29yZCcsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZEdsb2JhbFJlZ2lzdHJ5UmVjb3JkKGp3dCkgewoKICAgICAgdmFyIHBheWxvYWRPYmogPSBLSlVSLmp3cy5KV1MucGFyc2Uoand0KS5wYXlsb2FkT2JqOwogICAgICB2YXIgZ3VpZCA9IHBheWxvYWRPYmouZ3VpZDsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgbXNnID0gewogICAgICAgIHR5cGU6ICdDUkVBVEUnLAogICAgICAgIGZyb206IHRoaXMuX2h5cGVydHlSdW50aW1lVVJMICsgJy9ncmFwaC1jb25uZWN0b3InLAogICAgICAgIHRvOiAnZ2xvYmFsOi8vcmVnaXN0cnkvJywKICAgICAgICBib2R5OiB7IGd1aWQ6IHRoaXMuZ2xvYmFsUmVnaXN0cnlSZWNvcmQuZ3VpZCwgand0OiBqd3QgfQogICAgICB9OwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgaWYgKF90aGlzLm1lc3NhZ2VCdXMgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgcmVqZWN0KCdNZXNzYWdlQnVzIG5vdCBmb3VuZCBvbiBHcmFwaENvbm5lY3RvcicpOwogICAgICAgIH0gZWxzZSB7CgogICAgICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtc2csIGZ1bmN0aW9uIChyZXBseSkgewoKICAgICAgICAgICAgdmFyIHJlc3BvbnNlQ29kZSA9IHJlcGx5LmJvZHkucmVzcG9uc2VDb2RlOwogICAgICAgICAgICBpZiAocmVzcG9uc2VDb2RlID09IDIwMCkgewogICAgICAgICAgICAgIHJlc29sdmUoMjAwKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZWplY3QocmVzcG9uc2VDb2RlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIFF1ZXJpZXMgdGhlIEdsb2JhbCBSZWdpc3RyeSBmb3IgYSBnaXZlbiBHVUlELgogICAgICogUmV0dXJucyBhIEdyYXBoIENvbm5lY3RvciBDb250YWN0IERhdGEgYXMgYSBQcm9taXNlLgogICAgICogQHBhcmFtICB7c3RyaW5nfSAgIGd1aWQgIFRoZSBHVUlEIHRvIHF1ZXJ5IHRoZSBHbG9iYWwgUmVnaXN0cnkgZm9yCiAgICAgKiBAcmV0dXJucyAgIHtQcm9taXNlfSAgIFByb21pc2UgICBHcmFwaCBDb25uZWN0b3IgQ29udGFjdCBEYXRhIGNvbnRhaW5pbmcgVXNlcklEcy4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdxdWVyeUdsb2JhbFJlZ2lzdHJ5JywKICAgIHZhbHVlOiBmdW5jdGlvbiBxdWVyeUdsb2JhbFJlZ2lzdHJ5KGd1aWQpIHsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgbXNnID0gewogICAgICAgIHR5cGU6ICdSRUFEJywKICAgICAgICBmcm9tOiB0aGlzLl9oeXBlcnR5UnVudGltZVVSTCArICcvZ3JhcGgtY29ubmVjdG9yJywKICAgICAgICB0bzogJ2dsb2JhbDovL3JlZ2lzdHJ5LycsCiAgICAgICAgYm9keTogeyBndWlkOiBndWlkIH0KICAgICAgfTsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgICAgIGlmIChfdGhpcy5tZXNzYWdlQnVzID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHJlamVjdCgnTWVzc2FnZUJ1cyBub3QgZm91bmQgb24gR3JhcGhDb25uZWN0b3InKTsKICAgICAgICB9IGVsc2UgewoKICAgICAgICAgIF90aGlzLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobXNnLCBmdW5jdGlvbiAocmVwbHkpIHsKCiAgICAgICAgICAgIC8vIHJlcGx5IHNob3VsZCBiZSB0aGUgSlNPTiByZXR1cm5lZCBmcm9tIHRoZSBHbG9iYWwgUmVnaXN0cnkgUkVTVC1pbnRlcmZhY2UKICAgICAgICAgICAgdmFyIHVud3JhcHBlZEpXVCA9IEtKVVIuandzLkpXUy5wYXJzZShyZXBseS5ib2R5LmRhdGEpOwogICAgICAgICAgICB2YXIgZGF0YUVuY29kZWQgPSB1bndyYXBwZWRKV1QucGF5bG9hZE9iai5kYXRhOwogICAgICAgICAgICB2YXIgZGF0YURlY29kZWQgPSBfYmFzZTY0VXJsMi5kZWZhdWx0LmRlY29kZShkYXRhRW5jb2RlZCk7CiAgICAgICAgICAgIHZhciBkYXRhSlNPTiA9IEpTT04ucGFyc2UoZGF0YURlY29kZWQpOwoKICAgICAgICAgICAgdmFyIHB1YmxpY0tleU9iamVjdCA9IF9qc3JzYXNpZ24yLmRlZmF1bHQuS0VZVVRJTC5nZXRLZXkoZGF0YUpTT04ucHVibGljS2V5KTsKICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBLSlVSLmp3cy5KV1MudmVyaWZ5KHJlcGx5LmJvZHkuZGF0YSwgcHVibGljS2V5T2JqZWN0LCBbJ0VTMjU2J10pOwogICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHsKICAgICAgICAgICAgICByZWplY3QoJ1JldHJpZXZlZCBSZWNvcmQgbm90IHZhbGlkIScpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHZhciBxdWVyaWVkQ29udGFjdCA9IG5ldyBfR3JhcGhDb25uZWN0b3JDb250YWN0RGF0YTIuZGVmYXVsdChkYXRhSlNPTi5ndWlkLCAnJywgJycpOwogICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YUpTT04udXNlcklEcyAhPSAndW5kZWZpbmVkJyAmJiBkYXRhSlNPTi51c2VySURzICE9IG51bGwpIHsKICAgICAgICAgICAgICAgIHF1ZXJpZWRDb250YWN0LnVzZXJJRHMgPSBkYXRhSlNPTi51c2VySURzOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICByZXNvbHZlKHF1ZXJpZWRDb250YWN0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICAqIEFkZHMgYSBVc2VySUQgZm9yIHRoZSB1c2VyLgogICAgICogQHBhcmFtICB7c3RyaW5nfSAgICAgdXNlcklEICAgICAgICAgIFRoZSBVc2VySUQgZm9yIGEgRG9tYWluIFJlZ2lzdHJ5IHRvIGFkZCBmb3IgdGhlIHVzZXIuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAnYWRkVXNlcklEJywKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRVc2VySUQodXNlcklEKSB7CiAgICAgIC8vIGNoZWNrIGlmIGFscmVhZHkgaW5zaWRlCiAgICAgIHZhciBmb3VuZCA9IGZhbHNlOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ2xvYmFsUmVnaXN0cnlSZWNvcmQudXNlcklEcy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLmdsb2JhbFJlZ2lzdHJ5UmVjb3JkLnVzZXJJRHMgPT0gdXNlcklEKSB7CiAgICAgICAgICBmb3VuZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghZm91bmQpIHsKICAgICAgICB0aGlzLmdsb2JhbFJlZ2lzdHJ5UmVjb3JkLnVzZXJJRHMucHVzaCh1c2VySUQpOwogICAgICB9CiAgICB9CgogICAgLyoqCiAgICAgKiBSZW1vdmVzIGEgVXNlcklEIGZvciB0aGUgdXNlci4KICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgIHVzZXJJRCAgICAgICAgICBUaGUgVXNlcklEIHRvIHJlbW92ZS4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdyZW1vdmVVc2VySUQnLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVVzZXJJRCh1c2VySUQpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmdsb2JhbFJlZ2lzdHJ5UmVjb3JkLnVzZXJJRHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy5nbG9iYWxSZWdpc3RyeVJlY29yZC51c2VySURzID09IHVzZXJJRCkgewogICAgICAgICAgdGhpcy5nbG9iYWxSZWdpc3RyeVJlY29yZC51c2VySURzLnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICAqIEFkZCBhIGNvbnRhY3QgdG8gdGhlIEdyYXBoIENvbm5lY3Rvci4KICAgICAqIEBwYXJhbSAge3N0cmluZ30gICBndWlkICAgICAgICAgIEdVSUQgb2YgdGhlIG5ldyBjb250YWN0LgogICAgICogQHBhcmFtICB7c3RyaW5nfSAgIGZpcnN0TmFtZSAgICAgRmlyc3QgbmFtZSBvZiB0aGUgbmV3IGNvbnRhY3QuCiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgbGFzdG5hbWUgICAgICBMYXN0IG5hbWUgb2YgdGhlIG5ldyBjb250YWN0LgogICAgICovCgogIH0sIHsKICAgIGtleTogJ2FkZENvbnRhY3QnLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZENvbnRhY3QoZ3VpZCwgZmlyc3ROYW1lLCBsYXN0TmFtZSkgewoKICAgICAgLy8gVE9ETzogd2hhdCBpZiB0d28gY29udGFjdHMgaGF2ZSB0aGUgc2FtZSBHVUlEPwogICAgICAvLyBUT0RPOiByZWplY3QgaW52YWxpZCBHVUlEcwoKICAgICAgdGhpcy5jb250YWN0cy5wdXNoKG5ldyBfR3JhcGhDb25uZWN0b3JDb250YWN0RGF0YTIuZGVmYXVsdChndWlkLCBmaXJzdE5hbWUsIGxhc3ROYW1lKSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZW1vdmUgYSBjb250YWN0IGZyb20gdGhlIEdyYXBoIENvbm5lY3Rvci4KICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgIGd1aWQgICAgICBHVUlEIG9mIHRoZSB1c2VyIHRvIGJlIHJlbW92ZWQuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAncmVtb3ZlQ29udGFjdCcsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlQ29udGFjdChndWlkKSB7CiAgICAgIC8vIHJlbW92ZSBmcm9tIGNvbnRhY3RzCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb250YWN0cy5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLmNvbnRhY3RzW2ldLmd1aWQgPT0gZ3VpZCkgewogICAgICAgICAgdGhpcy5jb250YWN0cy5zcGxpY2UoaSwgMSk7CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyByZS1jYWxjdWxhdGUgQkYxaG9wCiAgICAgIHRoaXMuY2FsY3VsYXRlQmxvb21GaWx0ZXIxSG9wKCk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDYWxjdWxhdGVzIHRoZSBCbG9vbSBmaWx0ZXIgY29udGFpbmluZyBhbGwgbm9uLXByaXZhdGUgY29udGFjdHMuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAnY2FsY3VsYXRlQmxvb21GaWx0ZXIxSG9wJywKICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxjdWxhdGVCbG9vbUZpbHRlcjFIb3AoKSB7CiAgICAgIHZhciBiZiA9IG5ldyBfQmxvb21GaWx0ZXIyLmRlZmF1bHQoNDMxMzI4LCAvLyBudW1iZXIgb2YgYml0cyB0byBhbGxvY2F0ZS4gV2l0aCAzMDAwMCBlbnRyaWVzLCB3ZSBoYXZlIGEgZmFsc2UgcG9zaXRpdmUgcmF0ZSBvZiAwLjEgJS4KICAgICAgMTAgLy8gbnVtYmVyIG9mIGhhc2ggZnVuY3Rpb25zLgogICAgICApOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29udGFjdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoIXRoaXMuY29udGFjdHNbaV0ucHJpdmF0ZUNvbnRhY3QpIHsKICAgICAgICAgIGJmLmFkZCh0aGlzLmNvbnRhY3RzW2ldLmd1aWQpOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLmNvbnRhY3RzQmxvb21GaWx0ZXIxSG9wID0gYmY7CiAgICAgIHRoaXMubGFzdENhbGN1bGF0aW9uQmxvb21GaWx0ZXIxSG9wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpOwogICAgfQoKICAgIC8qKgogICAgICogR2V0cyBjb250YWN0cyBieSBuYW1lLgogICAgICogQHBhcmFtICB7c3RyaW5nfSAgIG5hbWUgICAgRmlyc3Qgb3IgbGFzdCBuYW1lIHRvIGxvb2sgZm9yIGluIHRoZSBjb250YWN0IGxpc3QuCiAgICAgKiBAcmV0dXJucyAge2FycmF5fSAgIG1hdGNoaW5nQ29udGFjdHMgICAgICAgQ29udGFjdHMgbWF0Y2hpbmcgdGhlIGdpdmVuIG5hbWUuIFRoZSBmb3JtYXQgaXM6IENvbnRhY3RzPEdyYXBoQ29ubmVjdG9yQ29udGFjdERhdGE+LgogICAgICovCgogIH0sIHsKICAgIGtleTogJ2dldENvbnRhY3QnLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbnRhY3QobmFtZSkgewogICAgICAvLyBUT0RPOiBvcHRpbWl6ZSwgZS5nLiwgZmluZCBtaXNzcGVsbGVkIHBlb3BsZQogICAgICB2YXIgcnRuQXJyYXkgPSBbXTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbnRhY3RzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMuY29udGFjdHNbaV0uZmlyc3ROYW1lID09IG5hbWUgfHwgdGhpcy5jb250YWN0c1tpXS5sYXN0TmFtZSA9PSBuYW1lKSB7CiAgICAgICAgICBydG5BcnJheS5wdXNoKHRoaXMuY29udGFjdHNbaV0pOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gcnRuQXJyYXk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDaGVja3MsIGlmIHRoZSBnaXZlbiBHVUlEIGlzIGtub3duIGFuZCByZXR1cm5zIGEgbGlzdCBvZiBjb250YWNzIHRoYXQgYXJlIGRpcmVjdCBjb25uZWN0aW9ucyBhcyB3ZWxsIGFzIGEgbGlzdCBvZiBjb250YWN0cyB0aGF0IChtb3N0IGxpa2VseSkga25vdyB0aGUgZ2l2ZW4gY29udGFjdC4KICAgICAqIEBwYXJhbSAge3N0cmluZ30gICAgIGd1aWQgICAgICBHVUlEIG9mIHRoZSBjb250YWN0IHRvIGxvb2sgZm9yLgogICAgICogQHJldHVybnMgIHthcnJheX0gICAgcmVsYXRlZENvbnRhY3RzICAgICBMaXN0IG9mIHJlbGF0ZWQgZGlyZWN0IGNvbnRhY3RzIGFuZCBvZiByZWxhdGVkIGZyaWVuZHMtb2YtZnJpZW5kcyBjb250YWN0cy5UaGUgZm9ybWF0IGlzOiBSZWxhdGVkQ29udGFjdHM8RGlyZWN0PEdyYXBoQ29ubmVjdG9yQ29udGFjdERhdGE+LEZvRjxHcmFwaENvbm5lY3RvckNvbnRhY3REYXRhPj4uCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAnY2hlY2tHVUlEJywKICAgIHZhbHVlOiBmdW5jdGlvbiBjaGVja0dVSUQoZ3VpZCkgewogICAgICB2YXIgZGlyZWN0Q29udGFjdHNBcnJheSA9IFtdOwogICAgICB2YXIgZm9mQ29udGFjdHNBcnJheSA9IFtdOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY29udGFjdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodGhpcy5jb250YWN0c1tpXS5ndWlkID09IGd1aWQpIHsKICAgICAgICAgIGRpcmVjdENvbnRhY3RzQXJyYXkucHVzaCh0aGlzLmNvbnRhY3RzW2ldKTsKICAgICAgICB9CiAgICAgICAgdmFyIGJmMWhvcCA9IHRoaXMuY29udGFjdHNbaV0uY29udGFjdHNCbG9vbUZpbHRlcjFIb3A7CiAgICAgICAgaWYgKGJmMWhvcCAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBpZiAoYmYxaG9wLnRlc3QoZ3VpZCkpIHsKICAgICAgICAgICAgZm9mQ29udGFjdHNBcnJheS5wdXNoKHRoaXMuY29udGFjdHNbaV0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICB2YXIgcnRuQXJyYXkgPSBbXTsKICAgICAgcnRuQXJyYXkucHVzaChkaXJlY3RDb250YWN0c0FycmF5LCBmb2ZDb250YWN0c0FycmF5KTsKICAgICAgcmV0dXJuIHJ0bkFycmF5OwogICAgfQoKICAgIC8vIFRPRE86IGV4cG9ydEdyYXBoRGF0YSg/KXt9CiAgICAvLyBUT0RPOiBpbXBvcnRHcmFwaERhdGEoPyl7fQoKICB9LCB7CiAgICBrZXk6ICdtZXNzYWdlQnVzJywKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fbWVzc2FnZUJ1czsKICAgIH0KCiAgICAvKioKICAgICogU2V0cyB0aGUgTWVzc2FnZUJ1cy4KICAgICogQHBhcmFtIHtNZXNzYWdlQnVzfSAgICAgICAgICAgbWVzc2FnZUJ1cyAgICBUaGUgTWVzc2FnZSBCdXMuCiAgICAqLwogICAgLAogICAgc2V0OiBmdW5jdGlvbiBzZXQobWVzc2FnZUJ1cykgewogICAgICB0aGlzLl9tZXNzYWdlQnVzID0gbWVzc2FnZUJ1czsKICAgIH0KICB9XSk7CgogIHJldHVybiBHcmFwaENvbm5lY3RvcjsKfSgpOwoKZXhwb3J0cy5kZWZhdWx0ID0gR3JhcGhDb25uZWN0b3I7Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSkuY2FsbCh0aGlzLHJlcXVpcmUoImJ1ZmZlciIpLkJ1ZmZlcikKfSx7Ii4vQmxvb21GaWx0ZXIiOjE4MiwiLi9HbG9iYWxSZWdpc3RyeVJlY29yZCI6MTgzLCIuL0dyYXBoQ29ubmVjdG9yQ29udGFjdERhdGEiOjE4NSwiYmFzZTY0LXVybCI6MTcsImJpcDM5IjoyMiwiYml0Y29pbmpzLWxpYiI6MzMsImJ1ZmZlciI6NzYsImpzcnNhc2lnbiI6MTMxLCJzamNsIjoxNjl9XSwxODU6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKLyoqCiogUmVwcmVzZW50cyBpbmZvcm1hdGlvbiBhYm91dCBhIGNvbnRhY3QuCiogQGF1dGhvciBiZWllcmxlQHR1LWJlcmxpbi5kZQoqLwoKdmFyIEdyYXBoQ29ubmVjdG9yQ29udGFjdERhdGEgPSBmdW5jdGlvbiAoKSB7CgogIC8qKgogICAqIENvbnN0cnVjdHMgYSBuZXcgb2JqZWN0IHJlcHJlc2VudGluZyBpbmZvcm1hdGlvbiBhYm91dCBvbmUgY29udGFjdC4KICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICBndWlkICAgICAgICBUaGUgR1VJRCBvZiB0aGUgbmV3IGNvbnRhY3QuCiAgICogQHBhcmFtICB7U3RyaW5nfSAgIGZpcnN0TmFtZSAgIFRoZSBmaXJzdCBuYW1lIG9mIHRoZSBuZXcgY29udGFjdC4KICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgbGFzdE5hbWUgICAgVGhlIGxhc3QgbmFtZSBvZiB0aGUgbmV3IGNvbnRhY3QuCiAgICovCgogIGZ1bmN0aW9uIEdyYXBoQ29ubmVjdG9yQ29udGFjdERhdGEoZ3VpZCwgZmlyc3ROYW1lLCBsYXN0TmFtZSkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdyYXBoQ29ubmVjdG9yQ29udGFjdERhdGEpOwoKICAgIHRoaXMuX2d1aWQgPSBndWlkOwogICAgdGhpcy5fdXNlcklEcyA9IFtdOwogICAgdGhpcy5fZmlyc3ROYW1lID0gZmlyc3ROYW1lOwogICAgdGhpcy5fbGFzdE5hbWUgPSBsYXN0TmFtZTsKICAgIHRoaXMuX3ByaXZhdGVDb250YWN0ID0gZmFsc2U7CiAgICB0aGlzLl9sYXN0U3luY0Jsb29tRmlsdGVyMUhvcCA9IG5ldyBEYXRlKDApLnRvSVNPU3RyaW5nKCk7CiAgICB0aGlzLl9sYXN0U3luY0RvbWFpblVzZXJJRHMgPSBuZXcgRGF0ZSgwKS50b0lTT1N0cmluZygpOwogICAgdGhpcy5fcmVzaWRlbmNlTG9jYXRpb247CiAgICB0aGlzLl9ncm91cHMgPSBbXTsKICB9CgogIC8qKgogICAqIFJldHVybnMgdGhlIEdVSUQuCiAgICogQHJldHVybnMgIHtTdHJpbmd9ICAgICBHVUlEICAgICAgICBHVUlEIG9mIHRoZSBjb250YWN0LgogICAqLwoKCiAgX2NyZWF0ZUNsYXNzKEdyYXBoQ29ubmVjdG9yQ29udGFjdERhdGEsIFt7CiAgICBrZXk6ICJndWlkIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fZ3VpZDsKICAgIH0KCiAgICAvKioKICAgICAqIFNldHMgdGhlIEdVSUQuCiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICAgICBHVUlEICAgICAgICBHVUlEIG9mIHRoZSBjb250YXQuCiAgICAgKi8KICAgICwKICAgIHNldDogZnVuY3Rpb24gc2V0KGd1aWQpIHsKICAgICAgdGhpcy5fZ3VpZCA9IGd1aWQ7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSB1c2VyIElEcy4KICAgICAqIEByZXR1cm5zICB7TGlzdDxTdHJpbmc+fSAgICAgdXNlcklEcyAgICAgICAgVXNlcklEcyBvZiB0aGUgY29udGFjdC4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ1c2VySURzIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICByZXR1cm4gdGhpcy5fdXNlcklEczsKICAgIH0KCiAgICAvKioKICAgICAqIFNldHMgdGhlIHVzZXJJRHMuCiAgICAgKiBAcGFyYW0gIHtMaXN0PFN0cmluZz59ICAgICB1c2VySURzICAgICAgICBVc2VySURzIG9mIHRoZSBjb250YXQuCiAgICAgKi8KICAgICwKICAgIHNldDogZnVuY3Rpb24gc2V0KHVzZXJJRHMpIHsKICAgICAgdGhpcy5fdXNlcklEcyA9IHVzZXJJRHM7CiAgICAgIHRoaXMuX2xhc3RTeW5jRG9tYWluVXNlcklEcyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIGZpcnN0IG5hbWUuCiAgICAgKiBAcmV0dXJucyAge1N0cmluZ30gICAgIGZpcnN0TmFtZSAgICAgICAgRmlyc3QgbmFtZSBvZiB0aGUgY29udGFjdC4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJmaXJzdE5hbWUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9maXJzdE5hbWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBTZXRzIHRoZSBmaXJzdCBuYW1lLgogICAgICogQHBhcmFtICB7U3RyaW5nfSAgICAgZmlyc3ROYW1lICAgICAgICBGaXJzdCBuYW1lIG9mIHRoZSBjb250YXQuCiAgICAgKi8KICAgICwKICAgIHNldDogZnVuY3Rpb24gc2V0KGZpcnN0TmFtZSkgewogICAgICB0aGlzLl9maXJzdE5hbWUgPSBmaXJzdE5hbWU7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBsYXN0IG5hbWUuCiAgICAgKiBAcmV0dXJucyAge1N0cmluZ30gICAgIGxhc3ROYW1lICAgICAgICBMYXN0IG5hbWUgb2YgdGhlIGNvbnRhY3QuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAibGFzdE5hbWUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9sYXN0TmFtZTsKICAgIH0KCiAgICAvKioKICAgICAqIFNldHMgdGhlIGxhc3QgbmFtZS4KICAgICAqIEBwYXJhbSAge1N0cmluZ30gICAgIGxhc3ROYW1lICAgICAgICBMYXN0IG5hbWUgb2YgdGhlIGNvbnRhdC4KICAgICAqLwogICAgLAogICAgc2V0OiBmdW5jdGlvbiBzZXQobGFzdE5hbWUpIHsKICAgICAgdGhpcy5fbGFzdE5hbWUgPSBsYXN0TmFtZTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIHByaXZhY3kgc3RhdHVzIG9mIHRoZSBjb250YWN0LgogICAgICogQHJldHVybnMgIHtCb29sZWFufSAgICAgcHJpdmF0ZUNvbnRhY3QgICAgICAgIFRydWUvZmFsc2UgdmFsdWUgaW5kaWNhdGluZyB0aGUgcHJpdmFjeSBzdGF0dXMgb2YgdGhlIGNvbnRhY3QuCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAicHJpdmF0ZUNvbnRhY3QiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9wcml2YXRlQ29udGFjdDsKICAgIH0KCiAgICAvKioKICAgICAqIFNldHMgdGhlIHByaXZhY3kgc3RhdHVzIG9mIHRoZSBjb250YWN0IGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gQm9vbGVhbiB2YWx1ZS4KICAgICAqIEBwYXJhbSAge0Jvb2xlYW59ICAgICBib29sUHJpdmF0ZSAgICAgICAgVHJ1ZS9mYWxzZSB2YWx1ZSBpbmRpY2F0aW5nIHRoZSBwcml2YWN5IHN0YXR1cyBvZiB0aGUgY29udGFjdC4KICAgICAqLwogICAgLAogICAgc2V0OiBmdW5jdGlvbiBzZXQoYm9vbFByaXZhdGUpIHsKICAgICAgdGhpcy5fcHJpdmF0ZUNvbnRhY3QgPSBib29sUHJpdmF0ZTsKICAgIH0KCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIEJsb29tIGZpbHRlciBjb250YWluaW5nIHRoZSBoYXNoZWQgR1VJRHMgb2YgdGhlIGNvbnRhY3RzIGZvciB0aGUgY29udGFjdC4KICAgICAqIEByZXR1cm5zICB7Qmxvb21GaWx0ZXJ9ICAgICBiZiAgICAgICAgQmxvb20gZmlsdGVyIGZvciB0aGUgY29udGFjdC4KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJjb250YWN0c0Jsb29tRmlsdGVyMUhvcCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhY3RzQmxvb21GaWx0ZXIxSG9wOwogICAgfQoKICAgIC8qKgogICAgICogU2V0cyB0aGUgZnJpZW5kcy1vZi1mcmllbmRzIEJsb29tIGZpbHRlciBjb250YWluaW5nIHRoZSBoYXNoZWQgR1VJRHMgb2YgdGhlIGNvbnRhY3RzIGZvciB0aGUgY29udGFjdC4KICAgICAqIEBwYXJhbSAge0Jsb29tRmlsdGVyfSAgICAgYmYgICAgICAgIEJsb29tIGZpbHRlciBmb3IgdGhlIGNvbnRhY3QuCiAgICAgKi8KICAgICwKICAgIHNldDogZnVuY3Rpb24gc2V0KGJmKSB7CiAgICAgIHRoaXMuX2NvbnRhY3RzQmxvb21GaWx0ZXIxSG9wID0gYmY7CiAgICAgIHRoaXMuX2xhc3RTeW5jQmxvb21GaWx0ZXIxSG9wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpOwogICAgfQoKICAgIC8qKgogICAgICogUmV0dXJucyB0aGUgZ2VvaGFzaCBvZiB0aGUgcmVzaWRlbmNlIGxvY2F0aW9uLgogICAgICogQHJldHVybnMgIHtTdHJpbmd9ICAgICBnZW9oYXNoICAgICAgICBHZW9oYXNoIG9mIHRoZSByZXNpZGVuY2UgbG9jYXRpb24uCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAicmVzaWRlbmNlTG9jYXRpb24iLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9yZXNpZGVuY2VMb2NhdGlvbjsKICAgIH0KCiAgICAvKioKICAgICAqIFNldHMgdGhlIGdlb2hhc2ggb2YgdGhlIHJlc2lkZW5jZSBsb2NhdGlvbi4KICAgICAqIEBwYXJhbSAge1N0cmluZ30gICAgIGdlb2hhc2ggICAgICAgIEdlb2hhc2ggb2YgdGhlIHJlc2lkZW5jZSBsb2NhdGlvbi4KICAgICAqLwogICAgLAogICAgc2V0OiBmdW5jdGlvbiBzZXQoZ2VvaGFzaCkgewogICAgICB0aGlzLl9yZXNpZGVuY2VMb2NhdGlvbiA9IGdlb2hhc2g7CiAgICB9CgogICAgLyoqCiAgICAgKiBSZXR1cm5zIHRoZSBncm91cHMuCiAgICAgKiBAcmV0dXJucyAge0xpc3Q8U3RyaW5nPn0gICAgIGdyb3VwcyAgICAgICAgR3JvdXBzIG9mIHRoZSBjb250YWN0LgogICAgICovCgogIH0sIHsKICAgIGtleTogImdyb3VwcyIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX2dyb3VwczsKICAgIH0KCiAgICAvKioKICAgICAqIFNldHMgdGhlIGdyb3Vwcy4KICAgICAqIEBwYXJhbSAge0xpc3Q8U3RyaW5nPn0gICAgIGdyb3VwcyAgICAgICAgR3JvdXBzIG9mIHRoZSBjb250YXQuCiAgICAgKi8KICAgICwKICAgIHNldDogZnVuY3Rpb24gc2V0KGdyb3VwcykgewogICAgICB0aGlzLl9ncm91cHMgPSBncm91cHM7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gR3JhcGhDb25uZWN0b3JDb250YWN0RGF0YTsKfSgpOwoKZXhwb3J0cy5kZWZhdWx0ID0gR3JhcGhDb25uZWN0b3JDb250YWN0RGF0YTsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XSwxODY6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCnZhciBfT3BlbklkTGliID0gcmVxdWlyZSgnLi9PcGVuSWRMaWInKTsKCnZhciBfT3BlbklkTGliMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09wZW5JZExpYik7Cgp2YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvdXRpbHMuanMnKTsKCnZhciBfSWRwUHJveHlTdHViID0gcmVxdWlyZSgnLi4vcHJvdG9zdHViL0lkcFByb3h5U3R1YicpOwoKdmFyIF9JZHBQcm94eVN0dWIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSWRwUHJveHlTdHViKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCi8qKgoqCiogVGhlIElkZW50aXR5IE1vZHVsZSAoSWQgTW9kdWxlKSBpcyB0aGUgY29tcG9uZW50IHJlc3BvbnNpYmxlIGZvciBoYW5kbGluZyB0aGUKKiB1c2VyIGlkZW50aXR5IGFuZCB0aGUgYXNzb2NpYXRpb24gb2YgdGhpcyBpZGVudGl0eSB3aXRoIHRoZSBIeXBlcnR5IGluc3RhbmNlcywKKiBpbiBvcmRlciB0byBtYWtlIEh5cGVydHkgaW5zdGFuY2VzIGlkZW50aWZpYWJsZS4gVGhlIGlkZW50aXR5IGluIHRoZSByZVRISU5LIHByb2plY3QKKiBpcyBub3QgZml4ZWQgdG8gYSB1bmlxdWUgSWRlbnRpdHkgU2VydmljZSBQcm92aWRlciwgYnV0IG9idGFpbmVkIHRocm91Z2ggc2V2ZXJhbAoqIGRpZmZlcmVudCBJZGVudGl0eSBzb3VyY2VzLiBXaXRoIHRoaXMgYXBwcm9hY2gsIHRoZSBJZCBNb2R1bGUgcHJvdmlkZXMgdG8gdGhlIHVzZXIgdGhlCiogb3B0aW9uIHRvIGNob29zZSB0aGUgcHJlZmVycmVkIG1ldGhvZCBmb3IgYXV0aGVudGljYXRpb24uCiogVGhpcyBtb2R1bGUgd2lsbCB0aHVzIGFibGUgdG8gc3VwcG9ydCBtdWx0aXBsZSBJZGVudGl0eSBhY3F1aXNpdGlvbiBtZXRob2RzLAoqIHN1Y2ggYXMgT3BlbklEIGNvbm5lY3QgMS4wLCBLZXJiZXJvcyBTeXN0ZW0sIG9yIGF1dGhlbnRpY2F0aW9uIHRocm91Z2ggc21hcnQgY2FyZHMuCiogRm9yIGV4YW1wbGUsIGEgdXNlciB3aXRoIGEgR29vZ2xlIGFjY291bnQgY2FuIHVzZSB0aGUgR29vZ2xlIGFzIGFuIElkZW50aXR5IFByb3ZpZGVyIHRvIHByb3ZpZGUgSWRlbnRpdHkgVG9rZW5zLAoqICB3aGljaCBjYW4gYmUgdXNlZCBieSB0aGUgSWRlbnRpdHkgTW9kdWxlIHRvIGFzc29jaWF0ZSBpdCB3aXRoIGEgSHlwZXJ0eSBpbnN0YW5jZS4KKgoqIFRoZSBJZGVudGl0eSBNb2R1bGUgdXNlcyBhIG5vZGUgcGFja2FnZSwgdGhlIEhlbGxvSlMsIHdoaWNoIGlzIGEgY2xpZW50LXNpZGUgSmF2YVNjcmlwdCBBUEkgZm9yIGF1dGhlbnRpY2F0aW9uCiogdGhhdCBmYWNpbGl0YXRlcyB0aGUgcmVxdWVzdHMgZm9yIHRoZSBPcGVuSUQgY29ubmVjdCBwcm90b2NvbC4gVGhpcyBtZXRob2QgYWxsb3dzIGZvciBzb21lIGFic3RyYWN0aW9uCiogd2hlbiBtYWtpbmcgcmVxdWVzdHMgZm9yIGRpZmZlcmVudCBJZGVudGl0eSBQcm92aWRlcnMsIHN1Y2ggYXMgT3BlbklEIGNvbm5lY3QgdXNlZCBieSBHb29nbGUsIEZhY2Vib29rLCBNaWNyb3NvZnQsIGZvciBleGFtcGxlLgoqCiogV2hlbiBhIHJlcXVlc3QgZm9yIGEgdXNlciBpZGVudGl0eSBpcyBtYWRlIHVzaW5nIHRoZSBtZXRob2QgbG9naW5XaXRoUlAoaWRlbnRpZmllciwgc2NvcGUpLAoqIHRoaXMgbWV0aG9kIHdpbGwgYW5hbHlzZSB0aGUgSWRlbnRpdHkgUHJvdmlkZXIgY2hvc2VuIHRvIG9idGFpbiBhbiBpZGVudGl0eSBhbmQgd2lsbCB1c2UgdGhlIEhlbGxvSlMgbm9kZSBwYWNrYWdlCiogd2l0aCB0aGUgc2VsZWN0ZWQgSWRlbnRpdHkgUHJvdmlkZXIgYW5kIGlkZW50aXR5IHNjb3BlLiBBZnRlciB0aGUgSGVsbG9KUyByZXF1ZXN0IGZvciBhbiBBY2Nlc3MgVG9rZW4KKiB0byB0aGUgSWRlbnRpdHkgUHJvdmlkZXJzLCB0aGUgdXNlciB3aWxsIGJlIHByb21wdGVkIHRvIGF1dGhlbnRpY2F0ZSB0b3dhcmRzIHRoZSBJZGVudGl0eSBQcm92aWRlci4KKiBVcG9uIHJlY2VpdmluZyB0aGUgQWNjZXNzIFRva2VuLCB0aGlzIHRva2VuIGlzIHZhbGlkYXRlZCB3aXRoIGEgUkVTVGZ1bCB3ZWIgc2VydmljZSByZXF1ZXN0IHRvIGFuIGVuZHBvaW50Ciogb24gdGhlIElkZW50aXR5IFByb3ZpZGVyIEF1dGhvcml6YXRpb24gU2VydmVyLCBhbmQgYWZ0ZXIgdGhlIHZhbGlkYXRpb24gaXMgZG9uZSwKKiBhbiBJRCB0b2tlbiBpcyBvYnRhaW5lZCB3aXRoIHRoZSBpbmZvcm1hdGlvbiBhY2NvcmRpbmcgdG8gdGhlIHNjb3BlIHJlcXVpcmVkLgoqIFRoaXMgSUQgdG9rZW4gaXMgdGhlbiBwcmVzZXJ2ZWQgaW4gdGhpcyBtb2R1bGUgdGhhdCBjYW4gb2J0YWluZWQgdGhyb3VnaCB0aGUgZ2V0SWRlbnRpdGllcygpCiogYW5kIGlzIHBhc3NlZCBhcyByZXR1cm4gdmFsdWUgb2YgdGhlIGxvZ2luV2l0aFJQIGZ1bmN0aW9uLiBUaGUgbWV0aG9kcyBnZW5lcmF0ZUFzc2VydGlvbiBhbmQgdmFsaWRhdGVBc3NlcnRpb24gaGF2ZSBub3QgeWV0IGJlZW4gZGV2ZWxvcGVkLgoqCiovCgp2YXIgSWRlbnRpdHlNb2R1bGUgPSBmdW5jdGlvbiAoKSB7CgogIC8qKgogICogVGhpcyBpcyB0aGUgY29uc3RydWN0b3IgdG8gaW5pdGlhbGlzZSB0aGUgSWRlbnRpdHkgTW9kdWxlIGl0IGRvZXMgbm90IHJlcXVpcmUgYW55IGlucHV0LgogICovCgogIGZ1bmN0aW9uIElkZW50aXR5TW9kdWxlKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIElkZW50aXR5TW9kdWxlKTsKCiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIC8vdG8gc3RvcmUgaXRlbXMgd2l0aCB0aGlzIGZvcm1hdDoge2lkZW50aXR5OiBpZGVudGl0eVVSTCwgdG9rZW46IHRva2VuSUR9CiAgICBfdGhpcy5pZGVudGl0aWVzID0gW107CiAgfQoKICAvKioKICAqIHJldHVybiB0aGUgbWVzc2FnZUJ1cyBpbiB0aGlzIFJlZ2lzdHJ5CiAgKiBAcGFyYW0ge01lc3NhZ2VCdXN9ICAgICAgICAgICBtZXNzYWdlQnVzCiAgKi8KCgogIF9jcmVhdGVDbGFzcyhJZGVudGl0eU1vZHVsZSwgW3sKICAgIGtleTogJ2dldElkZW50aXRpZXMnLAoKCiAgICAvKioKICAgICogRnVuY3Rpb24gdG8gcmV0dXJuIGFsbCB0aGUgaWRlbnRpdGllcyByZWdpc3RlcmVkIHdpdGhpbiBhIHNlc3Npb24gYnkgYSB1c2VyLgogICAgKiBUaGVzZSBpZGVudGl0aWVzIGFyZSByZXR1cm5lZCBpbiBhbiBhcnJheSBjb250YWluaW5nIGEgSlNPTiBwYWNrYWdlIGZvciBlYWNoIHVzZXIgaWRlbnRpdHkuCiAgICAqIEByZXR1cm4ge0FycmF5PElkZW50aXRpZXM+fSAgICAgICAgIEFycmF5ICAgICAgICAgSWRlbnRpdGllcwogICAgKi8KICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRJZGVudGl0aWVzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX3RoaXMuaWRlbnRpdGllczsKICAgIH0KCiAgICAvKioKICAgICogRnVuY3Rpb24gdG8gcmVxdWVzdCBhbiBJRCBUb2tlbiBmcm9tIGEgdXNlci4gSWYgbm8gdG9rZW4gZXhpc3RzLCB0aGUgSWRlbnRpdHkgTW9kdWxlCiAgICAqIHdpbGwgdHJ5IHRvIG9idGFpbiBvbmUgZnJvbSBhbiBJZGVudGl0eSBQcm92aWRlciwgYW5kIHRoZSB1c2VyIHdpbGwgYmUgYXNrZWQgdG8gYXV0aGVudGljYXRlCiAgICAqICB0b3dhcmRzIHRoZSBJZGVudGl0eSBQcm92aWRlci4KICAgICogVGhlIGZ1bmN0aW9uIHJldHVybnMgYSBwcm9taXNlIHdpdGggYSB0b2tlbiBjb250YWluaW5nIHRoZSB1c2VyIGluZm9ybWF0aW9uLgogICAgKgogICAgKiBAcGFyYW0gIHtJZGVudGlmaWVyfSAgICAgIGlkZW50aWZpZXIgICAgICBpZGVudGlmaWVyCiAgICAqIEBwYXJhbSAge1Njb3BlfSAgICAgICAgICAgc2NvcGUgICAgICAgICAgIHNjb3BlCiAgICAqIEByZXR1cm4ge1Byb21pc2V9ICAgICAgICAgUHJvbWlzZSAgICAgICAgIElEVG9rZW4gY29udGFpbmluZyB0aGUgdXNlciBpbmZvcm1hdGlvbgogICAgKi8KCiAgfSwgewogICAga2V5OiAnbG9naW5XaXRoUlAnLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ2luV2l0aFJQKGlkZW50aWZpZXIsIHNjb3BlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIF90aGlzLmdldElkZW50aXR5QXNzZXJ0aW9uKCkudGhlbihmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdsb2dpbldpdGhSUCcpOwogICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7CiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgewogICAgICAgICAgY29uc29sZS5sb2coJ2xvZ2luV2l0aFJQIGVycicpOwogICAgICAgICAgcmVqZWN0KGVycik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICAvKgogICAgICAgIFdoZW4gY2FsbGluZyB0aGlzIGZ1bmN0aW9uLCBpZiBldmVyeXRoaW5nIGlzIGZpbmUsIGEgc21hbGwgcG9wLXVwIHdpbGwgb3BlbiByZXF1ZXN0aW5nIGEgbG9naW4gd2l0aCBhIGdvb2dsZSBhY2NvdW50LiBBZnRlciB0aGUgbG9naW4gaXMgbWFkZSwgdGhlIHBvcC11cCB3aWxsIGNsb3NlIGFuZCB0aGUgZnVuY3Rpb24gd2lsbCByZXR1cm4gdGhlIElEIHRva2VuLgogICAgICAgIFRoaXMgZnVuY3Rpb24gd2FzIHRlc3RlZCB3aXRoIHRoZSBVUkw6IGh0dHA6Ly8xMjcuMC4wLjE6ODA4MC8gYW5kIHdpdGggdGhlIHNhbWUgcmVkaXJlY3QgVVJJCiAgICAgICAJSW4gY2FzZSB0aGUgcmVkaXJlY3QgVVJJIGlzIG5vdCBhY2NlcHRlZCBvciBpcyByZXF1aXJlZCB0byBhZGQgb3RoZXJzIHJlZGlyZWN0IFVSSXMsIGEgbGl0dGxlIGluZm9ybWF0aW9uIGlzIHByb3ZpZGVkIHRvIGZpeCB0aGUgcHJvYmxlbToKICAgICAgIAlTbyB0aGF0IGFuIGFwcGxpY2F0aW9uIGNhbiB1c2UgR29vZ2xlJ3MgT0F1dGggMi4wIGF1dGhlbnRpY2F0aW9uIHN5c3RlbSBmb3IgdXNlciBsb2dpbiwKICAgICAgCWZpcnN0IGlzIHJlcXVpcmVkIHRvIHNldCB1cCBhIHByb2plY3QgaW4gdGhlIEdvb2dsZSBEZXZlbG9wZXJzIENvbnNvbGUgdG8gb2J0YWluIE9BdXRoIDIuMCBjcmVkZW50aWFscyBhbmQgc2V0IGEgcmVkaXJlY3QgVVJJLgogICAgICAJQSB0ZXN0IGFjY291bnQgd2FzIGNyZWF0ZWQgdG8gc2V0IHRoZSBwcm9qZWN0IGluIHRoZSBHb29nbGUgRGV2ZWxvcGVycyBDb25zb2xlIHRvIG9idGFpbiBPQXV0aCAyLjAgY3JlZGVudGlhbHMsCXdpdGggdGhlIGZvbGxvd2luZyBjcmVkZW50aWFsczoKICAgICAgICAgICAJdXNlcm5hbWU6IG9wZW5pZHRlc3QxMEBnbWFpbC5jb20KICAgICAgICAgICAgIHBhc3N3b3JkOiB0ZXN0T3BlbklEMTAKICAgICAgIAlUbyBhZGQgbW9yZSBVUkkncywgZm9sbG93IHRoZSBzdGVwczoKICAgICAgCTHCuiBjaG9vc2UgdGhlIHByb2plY3QgKCBjYW4gYmUgdGhlIE15IE9wZW5JRCBQcm9qZWN0KQkgZnJvbSAgaHR0cHM6Ly9jb25zb2xlLmRldmVsb3BlcnMuZ29vZ2xlLmNvbS9wcm9qZWN0c2VsZWN0b3IvYXBpcy9jcmVkZW50aWFscyB1c2luZyB0aGUgY3JlZGVudGlhbHMgcHJvdmlkZWQgYWJvdmUuCiAgICAgIAkywrogT3BlbiBUaGUgQ2xpZW50IFdlYiAxIGxpc3RlZCBpbiBPQXV0aCAyLjAgQ2xpZW50IElEJ3MKICAgICAgCTPCuiBBZGQgdGhlIFVSSSAgaW4gdGhlIGF1dGhvcml6ZWQgcmVkaXJlY3QgVVJJIHNlY3Rpb24uCiAgICAgICAgNMK6IGNoYW5nZSB0aGUgUkVESVJFQ1QgcGFyYW1ldGVyIGJlbGxvdyB3aXRoIHRoZSBwcmV0ZW5kZWQgVVJJCiAgICAgICAgIGlkZW50aXR5TW9kdWxlLl9oZWxsby5pbml0KHtnb29nbGU6ICI4MDgzMjk1NjYwMTItdHFyOHFvaDExMTk0MmdkMmtnMDA3dDBzOGYyNzdyb2kuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20ifSk7CiAgICAgICAgaWRlbnRpdHlNb2R1bGUuX2hlbGxvKCJnb29nbGUiKS5sb2dpbigpOwogICAgICAgKi8KICAgICAgLypsZXQgaW5mb1Rva2VuOwogICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICBpZiAoX3RoaXMuaW5mb1Rva2VuICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIC8vVE9ETyB2ZXJpZnkgd2hldGhlciB0aGUgdG9rZW4gaXMgc3RpbGwgdmFsaWQgb3Igbm90LgogICAgICAgICAgcmV0dXJuIHJlc29sdmUoX3RoaXMuaW5mb1Rva2VuKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgbGV0IGdvb2dsZU9wZW5JRCA9IG5ldyBPcGVuSWRMaWIoJ2dvb2dsZScsICc4MDgzMjk1NjYwMTItdHFyOHFvaDExMTk0MmdkMmtnMDA3dDBzOGYyNzdyb2kuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nKTsKICAgICAgICAgICBnb29nbGVPcGVuSUQub3BlblBvcHVwKCkudGhlbihmdW5jdGlvbih0b2tlbikgewogICAgICAgICAgICBnb29nbGVPcGVuSUQudmFsaWRhdGVUb2tlbih0b2tlbikudGhlbihmdW5jdGlvbih0b2tlbikgewogICAgICAgICAgICAgIGdvb2dsZU9wZW5JRC5nZXRJbmZvVG9rZW4odG9rZW4udG9rZW4sIHRva2VuLnRva2VuSUQpLnRoZW4oZnVuY3Rpb24oaWRlbnRpdHlCdW5kbGUpIHsKICAgICAgICAgICAgICAgIF90aGlzLmlkZW50aXRpZXMucHVzaChpZGVudGl0eUJ1bmRsZSk7CiAgICAgICAgICAgICAgICBpbmZvVG9rZW4gPSBpZGVudGl0eUJ1bmRsZS5pbmZvVG9rZW47CiAgICAgICAgICAgICAgICBfdGhpcy5pbmZvVG9rZW4gPSBpbmZvVG9rZW47CiAgICAgICAgICAgICAgICByZXNvbHZlKGluZm9Ub2tlbik7CiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgfSk7Ki8KICAgIH0KCiAgICAvKioKICAgICoKICAgICogRlVOQ1RJT04gVE8gT0JUQUlOIElERU5USVRZCiAgICAqCiAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdvYnRhaW5JZGVudGl0eScsCiAgICB2YWx1ZTogZnVuY3Rpb24gb2J0YWluSWRlbnRpdHkoaWRlbnRpdHlQcm92aWRlcikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGlkZW50aXRpZXMgPSBfdGhpcy5pZGVudGl0aWVzOwoKICAgICAgaWYgKCFpZGVudGl0aWVzKSB7CiAgICAgICAgZ2V0SWRlbnRpdHlBc3NlcnRpb24oKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge30pOwogICAgICB9IGVsc2Uge30KICAgIH0KCiAgICAvKioKICAgICogT2J0YWluIGFuIElkZW50aXR5IEFzc2VydGlvbgogICAgKgogICAgKiBAcmV0dXJuIHtJZEFzc2VydGlvbn0gICAgICAgICAgICAgIElkQXNzZXJ0aW9uCiAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdnZXRJZGVudGl0eUFzc2VydGlvbicsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SWRlbnRpdHlBc3NlcnRpb24oaWRlbnRpZmllciwgc2NvcGUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgICAgIGlmIChfdGhpcy5pbmZvVG9rZW4gIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgLy9UT0RPIHZlcmlmeSB3aGV0aGVyIHRoZSB0b2tlbiBpcyBzdGlsbCB2YWxpZCBvciBub3QuCiAgICAgICAgICByZXR1cm4gcmVzb2x2ZShfdGhpcy5pbmZvVG9rZW4pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAoZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSB7IHR5cGU6ICdFWEVDVVRFJywgdG86ICdkb21haW46Ly9nb29nbGUuY29tJywgZnJvbTogJ2RvbWFpbjovL2xvY2FsaG9zdC9pZC1tb2R1bGUnLCBib2R5OiB7IHJlc291cmNlOiAnaWRlbnRpdHknLCBtZXRob2Q6ICdsb2dpbicgfSB9OwogICAgICAgICAgICBfdGhpcy5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtZXNzYWdlLCBmdW5jdGlvbiAocmVzdWx0KSB7CgogICAgICAgICAgICAgIC8vT3BlbiBhIHdpbmRvdyB3aXRoIHRoZSBVUkwgcmVjZWl2ZWQgYnkgdGhlIHByb3h5CiAgICAgICAgICAgICAgLy9UT0RPIGxhdGVyIHN3YXAgYW55IGV4aXN0aW5nIHJlZGlyZWN0VVJJIGluIHRoZSB1cmwsIGZvciBhIHNwZWNpZmljIG9uZSBpbiB0aGUgaWRNb2R1bGUKICAgICAgICAgICAgICB2YXIgd2luID0gd2luZG93Lm9wZW4ocmVzdWx0LmJvZHkudmFsdWUsICdvcGVuSURyZXF1ZXN0JywgJ3dpZHRoPTgwMCwgaGVpZ2h0PTYwMCcpOwogICAgICAgICAgICAgIHZhciBwb2xsVGltZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgdHJ5IHsKCiAgICAgICAgICAgICAgICAgIGlmICh3aW4uY2xvc2VkKSB7CiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCdTb21lIGVycm9yIG9jY3VyZWQuJyk7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChwb2xsVGltZXIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGlmICh3aW4uZG9jdW1lbnQuVVJMLmluZGV4T2YoJ1JFRElSRUNUJykgIT09IC0xIHx8IHdpbi5kb2N1bWVudC5VUkwuaW5kZXhPZihsb2NhdGlvbi5vcmlnaW4pICE9PSAtMSkgewogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHBvbGxUaW1lcik7CiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IHdpbi5kb2N1bWVudC5VUkw7CgogICAgICAgICAgICAgICAgICAgIHdpbi5jbG9zZSgpOwoKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0geyB0eXBlOiAnRVhFQ1VURScsIHRvOiAnZG9tYWluOi8vZ29vZ2xlLmNvbScsIGZyb206ICdkb21haW46Ly9sb2NhbGhvc3QvaWQtbW9kdWxlJywgYm9keTogeyByZXNvdXJjZTogJ2lkZW50aXR5JywgbWV0aG9kOiAnbG9naW4nLAogICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHVybCB9IH07CgogICAgICAgICAgICAgICAgICAgIF90aGlzLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1lc3NhZ2UsIGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSByZXMuYm9keS52YWx1ZTsKICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pZGVudGl0eSA9ICgwLCBfdXRpbHMuZ2V0VXNlclVSTEZyb21FbWFpbCkocmVzdWx0LmlkVG9rZW5KU09OLmVtYWlsKTsKICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5pZHAgPSAnZ29vZ2xlJzsKICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmlkZW50aXRpZXMucHVzaChyZXN1bHQpOwoKICAgICAgICAgICAgICAgICAgICAgIC8vVE9ETyBpbXByb3ZlIGxhdGVyCiAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5pbmZvVG9rZW4gPSByZXN1bHQuaW5mb1Rva2VuOwogICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQuaW5mb1Rva2VuKTsKICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgLy8KICAgICAgICAgICAgICAgICAgICAvL3Jlc29sdmUodXJsKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSkoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgKiBHZW5lcmF0ZXMgYW4gSWRlbnRpdHkgQXNzZXJ0aW9uCiAgICAqCiAgICAqIEBwYXJhbSAge0RPTVN0cmluZ30gY29udGVudHMgICAgIGNvbnRlbnRzCiAgICAqIEBwYXJhbSAge0RPTVN0cmluZ30gb3JpZ2luICAgICAgIG9yaWdpbgogICAgKiBAcGFyYW0gIHtET01TdHJpbmd9IHVzZXJuYW1lSGludCB1c2VybmFtZUhpbnQKICAgICogQHJldHVybiB7SWRBc3NlcnRpb259ICAgICAgICAgICAgICBJZEFzc2VydGlvbgogICAgKi8KCiAgfSwgewogICAga2V5OiAnZ2VuZXJhdGVBc3NlcnRpb24nLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdlbmVyYXRlQXNzZXJ0aW9uKGNvbnRlbnRzLCBvcmlnaW4sIHVzZXJuYW1lSGludCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG1lc3NhZ2UgPSB7IHR5cGU6ICdFWEVDVVRFJywgdG86ICdkb21haW46Ly9nb29nbGUuY29tJywgZnJvbTogJ2RvbWFpbjovL2xvY2FsaG9zdC9pZC1tb2R1bGUnLCBib2R5OiB7IHJlc291cmNlOiAnaWRlbnRpdHknLCBtZXRob2Q6ICdnZW5lcmF0ZUFzc2VydGlvbicsCiAgICAgICAgICBwYXJhbXM6IHsgY29udGVudHM6IGNvbnRlbnRzLCBvcmlnaW46IG9yaWdpbiwgdXNlcm5hbWVIaW50OiB1c2VybmFtZUhpbnQgfSB9IH07CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIF90aGlzLl9tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1lc3NhZ2UsIGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICAgIGlmIChyZXN1bHQuYm9keS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQuYm9keS52YWx1ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZWplY3QoJ2Vycm9yJywgcmVzdWx0LmJvZHkuY29kZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgKiBPVEhFUiBVU0VSJ1MgSURFTlRJVFkKICAgICovCgogICAgLyoqCiAgICAqIEZ1bmN0aW9uIHRvIHZhbGlkYXRlIGFuIGlkZW50aXR5IGFzc2VydGlvbiBnZW5lcmF0ZWQgcHJldmlvdXNseS4KICAgICogUmV0dXJucyBhIHByb21pc2Ugd2l0aCB0aGUgcmVzdWx0IGZyb20gdGhlIHZhbGlkYXRpb24uCiAgICAqIEBwYXJhbSAge0RPTVN0cmluZ30gYXNzZXJ0aW9uCiAgICAqIEBwYXJhbSAge0RPTVN0cmluZ30gb3JpZ2luICAgICAgIG9yaWdpbgogICAgKiBAcmV0dXJuIHtQcm9taXNlfSAgICAgICAgIFByb21pc2UgICAgICAgICBwcm9taXNlIHdpdGggdGhlIHJlc3VsdCBmcm9tIHRoZSB2YWxpZGF0aW9uCiAgICAqLwoKICB9LCB7CiAgICBrZXk6ICd2YWxpZGF0ZUFzc2VydGlvbicsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsaWRhdGVBc3NlcnRpb24oYXNzZXJ0aW9uLCBvcmlnaW4pIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBtZXNzYWdlID0geyB0eXBlOiAnRVhFQ1VURScsIHRvOiAnZG9tYWluOi8vZ29vZ2xlLmNvbScsIGZyb206ICdkb21haW46Ly9sb2NhbGhvc3QvaWQtbW9kdWxlJywgYm9keTogeyByZXNvdXJjZTogJ2lkZW50aXR5JywgbWV0aG9kOiAndmFsaWRhdGVBc3NlcnRpb24nLAogICAgICAgICAgcGFyYW1zOiB7IGFzc2VydGlvbjogYXNzZXJ0aW9uLCBvcmlnaW46IG9yaWdpbiB9IH0gfTsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgICAgX3RoaXMuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobWVzc2FnZSwgZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgaWYgKHJlc3VsdC5ib2R5LmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICByZXNvbHZlKHJlc3VsdC5ib2R5LnZhbHVlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlamVjdCgnZXJyb3InLCByZXN1bHQuYm9keS5jb2RlKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAnbWVzc2FnZUJ1cycsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIF90aGlzLl9tZXNzYWdlQnVzOwogICAgfQoKICAgIC8qKgogICAgKiBTZXQgdGhlIG1lc3NhZ2VCdXMgaW4gdGhpcyBSZWdpc3RyeQogICAgKiBAcGFyYW0ge01lc3NhZ2VCdXN9ICAgICAgICAgICBtZXNzYWdlQnVzCiAgICAqLwogICAgLAogICAgc2V0OiBmdW5jdGlvbiBzZXQobWVzc2FnZUJ1cykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBfdGhpcy5fbWVzc2FnZUJ1cyA9IG1lc3NhZ2VCdXM7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gSWRlbnRpdHlNb2R1bGU7Cn0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IElkZW50aXR5TW9kdWxlOwptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0seyIuLi9wcm90b3N0dWIvSWRwUHJveHlTdHViIjoxOTEsIi4uL3V0aWxzL3V0aWxzLmpzIjoyMDMsIi4vT3BlbklkTGliIjoxODd9XSwxODc6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKLy9pbXBvcnQgaGVsbG8gZnJvbSAnaGVsbG9qcyc7CgovKioKKiAgY2xhc3MgdG8gZmFjaWxpdGF0ZSB0aGUgb3BlcmF0aW9ucyB3aXRoIHRoZSBvcGVuSUQgY29ubmVjdCwgdGhyb3VnaCBzZXZlcmFsIElkZW50aXR5IFByb3ZpZGVycwoqCiovCgp2YXIgT3BlbklkTGliID0gZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIE9wZW5JZExpYihpZGVudGl0eVByb3ZpZGVyLCBjbGllbnRJRCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE9wZW5JZExpYik7CgogICAgdmFyIF90aGlzID0gdGhpczsKICAgIF90aGlzLmNsaWVudElEID0gY2xpZW50SUQ7CiAgICBfdGhpcy5pZGVudGl0eVByb3ZpZGVyID0gaWRlbnRpdHlQcm92aWRlcjsKCiAgICBzd2l0Y2ggKGlkZW50aXR5UHJvdmlkZXIpIHsKICAgICAgY2FzZSAnZ29vZ2xlJzoKICAgICAgICB2YXIgZ29vZ2xlSW5mbyA9IG5ldyBHb29nbGVJbmZvKCk7CiAgICAgICAgX3RoaXMuaW5mbyA9IGdvb2dsZUluZm87CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ2ZhY2Vib29rJzoKICAgICAgICB2YXIgZmFjZWJvb2tJbmZvID0gbmV3IEZhY2Vib29rSW5mbygpOwogICAgICAgIF90aGlzLmluZm8gPSBmYWNlYm9va0luZm87CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ3dpbmRvd3MnOgogICAgICAgIHZhciBtaWNyb3NvZnRJbmZvID0gbmV3IE1pY3Jvc29mdEluZm8oKTsKICAgICAgICBfdGhpcy5pbmZvID0gbWljcm9zb2Z0SW5mbzsKICAgICAgICBicmVhazsKICAgICAgZGVmYXVsdDoKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIF9jcmVhdGVDbGFzcyhPcGVuSWRMaWIsIFt7CiAgICBrZXk6ICdvcGVuUG9wdXAnLAogICAgdmFsdWU6IGZ1bmN0aW9uIG9wZW5Qb3B1cCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBSRURJUkVDVCA9IF90aGlzLmluZm8uUkVESVJFQ1Q7CiAgICAgIHZhciBVUkwgPSBfdGhpcy5pbmZvLlVSTDsKCiAgICAgIHZhciBhY1Rva2VuID0gdm9pZCAwOwogICAgICB2YXIgdG9rZW5UeXBlID0gdm9pZCAwOwogICAgICB2YXIgZXhwaXJlc0luID0gdm9pZCAwOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgLy9mdW5jdGlvbiB0byBwYXJzZSB0aGUgcXVlcnkgc3RyaW5nIGluIHRoZSBnaXZlbiBVUkwgdG8gb2JhdGluIGNlcnRhaW4gdmFsdWVzCiAgICAgICAgZnVuY3Rpb24gZ3VwKHVybCwgbmFtZSkgewogICAgICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvW1xbXS8sICdcXFxbJykucmVwbGFjZSgvW1xdXS8sICdcXFxdJyk7CiAgICAgICAgICB2YXIgcmVnZXhTID0gJ1tcXCMmP10nICsgbmFtZSArICc9KFteJiNdKiknOwogICAgICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cChyZWdleFMpOwogICAgICAgICAgdmFyIHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7CiAgICAgICAgICBpZiAocmVzdWx0cyA9PT0gbnVsbCkgcmV0dXJuICcnO2Vsc2UgcmV0dXJuIHJlc3VsdHNbMV07CiAgICAgICAgfQoKICAgICAgICAvKmhlbGxvLmluaXQoe2dvb2dsZTogJzgwODMyOTU2NjAxMi10cXI4cW9oMTExOTQyZ2Qya2cwMDd0MHM4ZjI3N3JvaS5hcHBzLmdvb2dsZXVzZXJjb250ZW50LmNvbScsCiAgICAgICAgICAgICAgICAgICBmYWNlYm9vazogJzY1NTMwMjY2Nzk0MjIxOScsCiAgICAgICAgICAgICAgICAgICB3aW5kb3dzOiAnYXNkZjE5N2Y2YWQ2LTgwOGYtNGRkYy1iNzI1LTNkOGZlMjY2MDM0OSd9KTsKICAgICAgICBoZWxsbyhfdGhpcy5pZGVudGl0eVByb3ZpZGVyKS5sb2dpbih7c2NvcGU6ICdlbWFpbCd9KS50aGVuKGZ1bmN0aW9uKHRva2VuKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyh0b2tlbik7CiAgICAgICAgICByZXNvbHZlKHRva2VuLmF1dGhSZXNwb25zZS5hY2Nlc3NfdG9rZW4pOwogICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3JWYWxpZGF0aW5nICcsIGVycm9yKTsKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7Ki8KCiAgICAgICAgdmFyIHdpbiA9IHdpbmRvdy5vcGVuKFVSTCwgJ29wZW5JRHJlcXVlc3QnLCAnd2lkdGg9ODAwLCBoZWlnaHQ9NjAwJyk7CiAgICAgICAgdmFyIHBvbGxUaW1lciA9IHdpbmRvdy5zZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICAvL2NvbnNvbGUubG9nKHdpbi5kb2N1bWVudC5VUkwpOwoKICAgICAgICAgICAgaWYgKHdpbi5jbG9zZWQpIHsKICAgICAgICAgICAgICByZWplY3QoJ1NvbWUgZXJyb3Igb2NjdXJlZC4nKTsKICAgICAgICAgICAgICBjbGVhckludGVydmFsKHBvbGxUaW1lcik7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciByZWRpcmVjdFVSTCA9IGRvY3VtZW50LlVSTDsgLy93aW5kb3cubG9jYXRpb24ub3JpZ2luOwogICAgICAgICAgICBpZiAod2luLmRvY3VtZW50LlVSTC5pbmRleE9mKCdSRURJUkVDVCcpICE9PSAtMSB8fCB3aW4uZG9jdW1lbnQuVVJMLmluZGV4T2YocmVkaXJlY3RVUkwpICE9PSAtMSkgewogICAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHBvbGxUaW1lcik7CiAgICAgICAgICAgICAgdmFyIHVybCA9IHdpbi5kb2N1bWVudC5VUkw7CgogICAgICAgICAgICAgIC8vbm90IHdvcmtpbmcgeWV0LiBTb21lIHByb2JsZW1zIHdpdGggdGhlICdQT1NUJyBtZXRob2QKICAgICAgICAgICAgICBpZiAoX3RoaXMuaWRlbnRpdHlQcm92aWRlciA9PT0gJ3dpbmRvd3MnKSB7CiAgICAgICAgICAgICAgICAoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgY29kZSA9IGd1cCh1cmwsICdjb2RlJyk7CiAgICAgICAgICAgICAgICAgIHZhciBzZXNzaW9uU3RhdGUgPSBndXAodXJsLCAnc2Vzc2lvbl9zdGF0ZScpOwoKICAgICAgICAgICAgICAgICAgdmFyIHJlcUFjY2Vzc1VSTCA9IF90aGlzLmluZm8uVE9LRU5FTkQgKyAncmVkaXJlY3RfdXJpPScgKyBfdGhpcy5pbmZvLlJFRElSRUNUICsgJyZncmFudF90eXBlPWF1dGhvcml6YXRpb25fY29kZScgKyAnJmNsaWVudF9pZD0nICsgX3RoaXMuaW5mby5DTElFTlRJRCArICcmY29kZT0nICsgY29kZTsKCiAgICAgICAgICAgICAgICAgIHdpbi5jbG9zZSgpOwoKICAgICAgICAgICAgICAgICAgdmFyIHJlcSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgICAgICAgICAgICByZXEub3BlbignUE9TVCcsIF90aGlzLmluZm8uVE9LRU5FTkQsIHRydWUpOwogICAgICAgICAgICAgICAgICByZXEuc2V0UmVxdWVzdEhlYWRlcignQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJywgJyonKTsKCiAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICAgIGRhdGEuYXBwZW5kKCdyZWRpcmVjdF91cmknLCBfdGhpcy5pbmZvLlJFRElSRUNUKTsKICAgICAgICAgICAgICAgICAgZGF0YS5hcHBlbmQoJ2dyYW50X3R5cGUnLCAnYXV0aG9yaXphdGlvbl9jb2RlJyk7CiAgICAgICAgICAgICAgICAgIGRhdGEuYXBwZW5kKCdjbGllbnRfaWQnLCBfdGhpcy5pbmZvLkNMSUVOVElEKTsKICAgICAgICAgICAgICAgICAgZGF0YS5hcHBlbmQoJ2NvZGUnLCBjb2RlKTsKCiAgICAgICAgICAgICAgICAgIHJlcS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIGlmIChyZXEucmVhZHlTdGF0ZSA9PT0gNCkgewogICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcS5zdGF0dXMgPT09IDIwMCkgewoKICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnbnVsbCcpOwogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXEuc3RhdHVzID09PSA0MDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KCdUaGVyZSB3YXMgYW4gZXJyb3IgcHJvY2Vzc2luZyB0aGUgdG9rZW4nKTsKICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdCgnc29tZXRoaW5nIGVsc2Ugb3RoZXIgdGhhbiAyMDAgd2FzIHJldHVybmVkJyk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICByZXEuc2VuZChkYXRhKTsKICAgICAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAgICAgICBhY1Rva2VuID0gZ3VwKHVybCwgJ2FjY2Vzc190b2tlbicpOwogICAgICAgICAgICAgICAgdG9rZW5UeXBlID0gZ3VwKHVybCwgJ3Rva2VuX3R5cGUnKTsgLy9GQUNFQk9PSyBkb2VzIG5vdCByZXR1cm4gdG9rZW5UeXBlIGluIHRoZSBmaWVsZAogICAgICAgICAgICAgICAgZXhwaXJlc0luID0gZ3VwKHVybCwgJ2V4cGlyZXNfaW4nKTsKCiAgICAgICAgICAgICAgICB3aW4uY2xvc2UoKTsKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuaWRlbnRpdHlQcm92aWRlciA9PT0gJ2ZhY2Vib29rJykgewogICAgICAgICAgICAgICAgICBfdGhpcy5pbmZvLlZBTElEVVJMID0gJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL2RlYnVnX3Rva2VuP2lucHV0X3Rva2VuPScgKyBhY1Rva2VuICsgJyZhY2Nlc3NfdG9rZW49JzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvL2FmdGVyIHJlY2VpdmluZyB0aGUgYWNjZXNzIHRva2VuLCBnb29nbGUgcmVxdWlyZXMgdG8gdmFsaWRhdGUgZmlyc3QgdGhlIHRva2VuIHRvIHByZXZlbnQgY29uZnVzZWQgZGVwdXR5IHByb2JsZW0uCiAgICAgICAgICAgICAgICByZXNvbHZlKGFjVG9rZW4pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAvL2NvbnNvbGUubG9nKGUpOwogICAgICAgICAgfQogICAgICAgIH0sIDEwMDApOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICd2YWxpZGF0ZVRva2VuJywKICAgIHZhbHVlOiBmdW5jdGlvbiB2YWxpZGF0ZVRva2VuKHRva2VuKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciB0b2tlbklEID0gdm9pZCAwOwogICAgICB2YXIgVkFMSURVUkwgPSBfdGhpcy5pbmZvLlZBTElEVVJMOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHZhciByZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsKICAgICAgICByZXEub3BlbignR0VUJywgVkFMSURVUkwgKyB0b2tlbiwgdHJ1ZSk7CgogICAgICAgIHJlcS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgaWYgKHJlcS5yZWFkeVN0YXRlID09PSA0KSB7CiAgICAgICAgICAgIGlmIChyZXEuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICB0b2tlbklEID0gSlNPTi5wYXJzZShyZXEucmVzcG9uc2VUZXh0KTsKCiAgICAgICAgICAgICAgcmVzb2x2ZSh7IHRva2VuOiB0b2tlbiwgdG9rZW5JRDogdG9rZW5JRCB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZXEuc3RhdHVzID09PSA0MDApIHsKICAgICAgICAgICAgICByZWplY3QoJ1RoZXJlIHdhcyBhbiBlcnJvciBwcm9jZXNzaW5nIHRoZSB0b2tlbicpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJlamVjdCgnc29tZXRoaW5nIGVsc2Ugb3RoZXIgdGhhbiAyMDAgd2FzIHJldHVybmVkJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHJlcS5zZW5kKCk7CiAgICAgIH0pOwogICAgfQoKICAgIC8vZnVuY3Rpb24gdG8gZXhjaGFuZ2UgdGhlIGFjY2VzcyB0b2tlbiB3aXRoIGFuIElEIFRva2VuIGNvbnRhaW5pbmcgdGhlIGluZm9ybWF0aW9uCgogIH0sIHsKICAgIGtleTogJ2dldEluZm9Ub2tlbicsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5mb1Rva2VuKHRva2VuLCB0b2tlbklEKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIHZhciBVU0VSSU5GVVJMID0gX3RoaXMuaW5mby5VU0VSSU5GVVJMOwoKICAgICAgICB2YXIgcmVxID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgcmVxLm9wZW4oJ0dFVCcsIFVTRVJJTkZVUkwgKyB0b2tlbiwgdHJ1ZSk7CgogICAgICAgIHJlcS5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgaWYgKHJlcS5yZWFkeVN0YXRlID09PSA0KSB7CiAgICAgICAgICAgIGlmIChyZXEuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICB2YXIgaW5mb1Rva2VuID0gSlNPTi5wYXJzZShyZXEucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICB2YXIgZW1haWwgPSBpbmZvVG9rZW4uZW1haWw7CgogICAgICAgICAgICAgIC8vY29udHJ1Y3QgdGhlIGlkZW50aXR5VVJMIHRvIGJlIGRlZmluZWQgYXMgaW4gc3BlY2lmaWNhdGlvbgogICAgICAgICAgICAgIC8vIG1vZGVsOiB1c2VyOi8vPGlkcGRvbWFpbj4vPHVzZXItaWRlbnRpZmllcj4KICAgICAgICAgICAgICB2YXIgaWRlbnRpdHlVUkwgPSAndXNlcjovLycgKyBlbWFpbC5zdWJzdHJpbmcoZW1haWwuaW5kZXhPZignQCcpICsgMSwgZW1haWwubGVuZ3RoKSArICcvJyArIGVtYWlsLnN1YnN0cmluZygwLCBlbWFpbC5pbmRleE9mKCdAJykpOwoKICAgICAgICAgICAgICAvL1RPRE8gcmVtb3ZlIGxhdGVyIHRoZSAndG9rZW4nIGZpZWxkIGtleQogICAgICAgICAgICAgIHZhciBpZGVudGl0eUJ1bmRsZSA9IHsgaWRlbnRpdHk6IGlkZW50aXR5VVJMLCB0b2tlbjogaW5mb1Rva2VuLCBhY2Nlc3NUb2tlbjogdG9rZW4sIGlkVG9rZW46IHRva2VuSUQsIGluZm9Ub2tlbjogaW5mb1Rva2VuLCBpZHA6ICdnb29nbGUnIH07CgogICAgICAgICAgICAgIHJlc29sdmUoaWRlbnRpdHlCdW5kbGUpOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJlcS5zdGF0dXMgPT09IDQwMCkgewogICAgICAgICAgICAgIHJlamVjdCgnVGhlcmUgd2FzIGFuIGVycm9yIHByb2Nlc3NpbmcgdGhlIHRva2VuJyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmVqZWN0KCdzb21ldGhpbmcgZWxzZSBvdGhlciB0aGFuIDIwMCB3YXMgcmV0dXJuZWQnKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgcmVxLnNlbmQoKTsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gT3BlbklkTGliOwp9KCk7CgovL0dvb2dsZSB3b3JrcyBmaW5lIHdpdGggT3BlbklEIGNvbm5lY3QKCgp2YXIgR29vZ2xlSW5mbyA9IGZ1bmN0aW9uIEdvb2dsZUluZm8oKSB7CiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdvb2dsZUluZm8pOwoKICB2YXIgX3RoaXMgPSB0aGlzOwogIF90aGlzLk9BVVRIVVJMID0gJ2h0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9vL29hdXRoMi9hdXRoPyc7CiAgX3RoaXMuU0NPUEUgPSAnZW1haWwlMjBwcm9maWxlJzsKICBfdGhpcy5DTElFTlRJRCA9ICc4MDgzMjk1NjYwMTItdHFyOHFvaDExMTk0MmdkMmtnMDA3dDBzOGYyNzdyb2kuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nOwogIF90aGlzLlJFRElSRUNUID0gZG9jdW1lbnQuVVJMOwogIF90aGlzLlRZUEUgPSAndG9rZW4nOwogIF90aGlzLlZBTElEVVJMID0gJ2h0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL29hdXRoMi92MS90b2tlbmluZm8/YWNjZXNzX3Rva2VuPSc7CiAgX3RoaXMuVVNFUklORlVSTCA9ICdodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjEvdXNlcmluZm8/YWNjZXNzX3Rva2VuPSc7CgogIF90aGlzLlVSTCA9IF90aGlzLk9BVVRIVVJMICsgJ3Njb3BlPScgKyBfdGhpcy5TQ09QRSArICcmY2xpZW50X2lkPScgKyBfdGhpcy5DTElFTlRJRCArICcmcmVkaXJlY3RfdXJpPScgKyBfdGhpcy5SRURJUkVDVCArICcmcmVzcG9uc2VfdHlwZT0nICsgX3RoaXMuVFlQRTsKfTsKCi8vRmFjZWJvb2sgb25seSBwcm92aWRlcyB0aGUgc3VwcG9ydCBmb3IgT2F1dGgyIFRva2VucywgYW5kIGRvIG5vdCBkaXJlY3RseSBwcm92aWRlIHN1cHBvcnQgZm9yIE9wZW5JRCBjb25uZWN0LiBTbywgbm8gJ29maWNpYWwnIElEIHRva2VuIGNhbiBiZSByZXF1ZXN0ZWQsIGp1c3QgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZXIuCgoKdmFyIEZhY2Vib29rSW5mbyA9IGZ1bmN0aW9uIEZhY2Vib29rSW5mbygpIHsKICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmFjZWJvb2tJbmZvKTsKCiAgdmFyIF90aGlzID0gdGhpczsKICBfdGhpcy5PQVVUSFVSTCA9ICdodHRwczovL3d3dy5mYWNlYm9vay5jb20vZGlhbG9nL29hdXRoPyc7CiAgX3RoaXMuQ0xJRU5USUQgPSA2NTUzMDI2Njc5NDIyMTk7CiAgX3RoaXMuUkVESVJFQ1QgPSBkb2N1bWVudC5VUkw7IC8vICdodHRwOi8vbG9jYWxob3N0OjgwODAvZXhhbXBsZS9pbmRleC5odG1sJzsKICBfdGhpcy5UWVBFID0gJ3Rva2VuJzsKICBfdGhpcy5WQUxJRFVSTCA9ICdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9kZWJ1Z190b2tlbj9pbnB1dF90b2tlbj0nOyAvL211c3QgYmUgdXBkYXRlZCBsYXRlcgogIF90aGlzLlVTRVJJTkZVUkwgPSAnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vdjIuNS9tZT9maWVsZHM9aWQsbmFtZSxlbWFpbCxwaWN0dXJlJmFjY2Vzc190b2tlbj0nOwogIF90aGlzLlVSTCA9IF90aGlzLk9BVVRIVVJMICsgJ2NsaWVudF9pZD0nICsgX3RoaXMuQ0xJRU5USUQgKyAnJnJlZGlyZWN0X3VyaT0nICsgX3RoaXMuUkVESVJFQ1QgKyAnJnJlc3BvbnNlX3R5cGU9JyArIF90aGlzLlRZUEU7Cn07CgovL01pY3Jvc29mdCBpcyBub3QgeWV0IGltcGxlbWVudGVkIHRvIG9idGFpbiB0aGUgQWNjZXNzIHRva2VuIC8gSUQgdG9rZW4uIFNvbWUgdHJvdWJsZXMgdG8gcmVxdWVzdCB0aGUgQWNjZXNzIHRva2VuLCBzaW5jZSBpdCBpcyByZXF1aXJlZCB0byBtYWtlIGEgaHR0cCBQb3N0IHJlcXVlc3Qgd2l0aCB0aGUgYXV0aG9yaXphdGlvbiBjb2RlLgoKCnZhciBNaWNyb3NvZnRJbmZvID0gZnVuY3Rpb24gTWljcm9zb2Z0SW5mbygpIHsKICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWljcm9zb2Z0SW5mbyk7CgogIHZhciBfdGhpcyA9IHRoaXM7CiAgX3RoaXMuT0FVVEhVUkwgPSAnaHR0cHM6Ly9sb2dpbi5taWNyb3NvZnRvbmxpbmUuY29tL2NvbW1vbi9vYXV0aDIvYXV0aG9yaXplPyc7CiAgX3RoaXMuQ0xJRU5USUQgPSAnN2UyZjM1ODktNGIzOC00YjFjLWEzMjEtYzkyNTFkZTAwZWYyJzsKICBfdGhpcy5SRURJUkVDVCA9IGRvY3VtZW50LlVSTDsgLy8naHR0cCUzQSUyRiUyRmxvY2FsaG9zdCUzQTgwODAlMkZleGFtcGxlJTJGaW5kZXglMkVodG1sJwogIF90aGlzLlRZUEUgPSAnY29kZSc7CgogIF90aGlzLlRPS0VORU5EID0gJ2h0dHBzOi8vbG9naW4ubWljcm9zb2Z0b25saW5lLmNvbS8zZmE0MDQyYy03YzRkLTQzODItYWJhOC1mYzhlYzYxMTAzYTQvb2F1dGgyL3Rva2VuJzsKICBfdGhpcy5BVVRIRU5EID0gJ2h0dHBzOi8vbG9naW4ubWljcm9zb2Z0b25saW5lLmNvbS8zZmE0MDQyYy03YzRkLTQzODItYWJhOC1mYzhlYzYxMTAzYTQvb2F1dGgyL2F1dGhvcml6ZT8nOwoKICBfdGhpcy5VUkwgPSBfdGhpcy5BVVRIRU5EICsgJ3Jlc3BvbnNlX3R5cGU9JyArIF90aGlzLlRZUEUgKyAnJmNsaWVudF9pZD0nICsgX3RoaXMuQ0xJRU5USUQ7IC8vKyAnJnJlZGlyZWN0X3VyaT0nICsgX3RoaXMuUkVESVJFQ1Q7Cn07CgpleHBvcnRzLmRlZmF1bHQgPSBPcGVuSWRMaWI7Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV0sMTg4OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCi8qKgoqIFRoZSBQb2xpY3kgRGVjaXNpb24gUG9pbnQgKFBEUCkgZGVjaWRlcyBpZiBhIG1lc3NhZ2UgaXMgdG8gYmUgYXV0aG9yaXNlZCBieSBjaGVja2luZyBhIHNldCBvZgoqIHBvbGljaWVzLiBUaGUgcmVzb3VyY2UgdG8gYmUgdmVyaWZpZWQgaXMgc3BlY2lmaWVkIGluIHRoZSBmaXJzdCB3b3JkIG9mIHRoZSAnY29uZGl0aW9uJyBmaWVsZCBvZgoqIGEgUG9saWN5IG9iamVjdC4gVGhlIGltcGxlbWVudGF0aW9uIHRoYXQgdmVyaWZpZXMgaWYgdGhlIG1lc3NhZ2UgaXMgY29tcGxpYW50IHdpdGggYSBwb2xpY3kgaXMKKiBzcGVjaWZpZWQgaW4gYSBoYXNodGFibGUgdG8gYWxsb3cgZHluYW1pYyBkZWZpbml0aW9uIG9mIHRoZSBpbXBsZW1lbnRhdGlvbiwgcHJvdmlkaW5nCiogZXh0ZW5zaWJpbGl0eSB0byB0aGUgUG9saWN5IEVuZ2luZSBmdW5jdGlvbmFsaXRpZXMuCiovCgp2YXIgUERQID0gZnVuY3Rpb24gKCkgewoKICAvKioKICAqIFRoaXMgbWV0aG9kIGlzIGludm9rZWQgYnkgdGhlIFBvbGljeSBFbmdpbmUgYW5kIGluc3RhbnRpYXRlcyB0aGUgUG9saWN5IERlY2lzaW9uIFBvaW50LiBJdCBpbml0aWFsaXNlcyBvciBsb2FkcyBmcm9tIHRoZSBQZXJzaXN0ZW5jZSBNYW5hZ2VyIHRoZSBvYmplY3QgJ215TGlzdHMnIHRvIHN0b3JlIHRoZSB1c2VyJ3MgbGlzdHMuCiAgKiBAcGFyYW0gIHtSZWdpc3RyeX0gICAgcnVudGltZVJlZ2lzdHJ5CiAgKi8KCiAgZnVuY3Rpb24gUERQKHJ1bnRpbWVSZWdpc3RyeSkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBEUCk7CgogICAgdmFyIF90aGlzID0gdGhpczsKICAgIF90aGlzLnJ1bnRpbWVSZWdpc3RyeSA9IHJ1bnRpbWVSZWdpc3RyeTsKICAgIF90aGlzLm15TGlzdHMgPSB7fTsgLy8gVE9ETzogbG9hZCBmcm9tIHRoZSBQZXJzaXN0ZW5jZSBNYW5hZ2VyCiAgfQoKICAvKioKICAqIFJldHVybnMgdGhlIGxpc3Qgd2l0aCB0aGUgZ2l2ZW4gbGlzdCBuYW1lLgogICogQHBhcmFtICB7U3RyaW5nfSAgbGlzdE5hbWUKICAqIEByZXR1cm4ge0FycmF5fSAgIGxpc3QKICAqLwoKCiAgX2NyZWF0ZUNsYXNzKFBEUCwgW3sKICAgIGtleTogJ2dldExpc3QnLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldExpc3QobGlzdE5hbWUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIGxpc3ROYW1lIGluIF90aGlzLm15TGlzdHMgPyBfdGhpcy5teUxpc3RzW2xpc3ROYW1lXSA6IFtdOwogICAgfQoKICAgIC8qKgogICAgKiBDcmVhdGVzIGEgbGlzdCB3aXRoIHRoZSBnaXZlbiBuYW1lLgogICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBsaXN0TmFtZQogICAgKi8KCiAgfSwgewogICAga2V5OiAnY3JlYXRlTGlzdCcsCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlTGlzdChsaXN0TmFtZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBfdGhpcy5teUxpc3RzW2xpc3ROYW1lXSA9IFtdOwogICAgfQoKICAgIC8qKgogICAgKiBBZGRzIHRoZSBnaXZlbiB1c2VyIGVtYWlsIHRvIHRoZSBsaXN0IHdpdGggdGhlIGdpdmVuIG5hbWUuCiAgICAqIEBwYXJhbSAge1N0cmluZ30gIHVzZXJFbWFpbAogICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBsaXN0TmFtZQogICAgKi8KCiAgfSwgewogICAga2V5OiAnYWRkVG9MaXN0JywKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRUb0xpc3QodXNlckVtYWlsLCBsaXN0TmFtZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgbGlzdCA9IF90aGlzLm15TGlzdHNbbGlzdE5hbWVdOwogICAgICBpZiAobGlzdCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgX3RoaXMuY3JlYXRlTGlzdChsaXN0TmFtZSk7CiAgICAgICAgbGlzdCA9IF90aGlzLmdldExpc3QobGlzdE5hbWUpOwogICAgICB9CiAgICAgIGxpc3QucHVzaCh1c2VyRW1haWwpOwogICAgfQoKICAgIC8qKgogICAgKiBSZW1vdmVzIHRoZSBnaXZlbiB1c2VyIGVtYWlsIGZyb20gdGhlIGxpc3Qgd2l0aCB0aGUgZ2l2ZW4gbmFtZS4KICAgICogQHBhcmFtICB7U3RyaW5nfSAgdXNlckVtYWlsCiAgICAqIEBwYXJhbSAge1N0cmluZ30gIGxpc3ROYW1lCiAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdyZW1vdmVGcm9tTGlzdCcsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlRnJvbUxpc3QodXNlckVtYWlsLCBsaXN0TmFtZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgbGlzdCA9IF90aGlzLm15TGlzdHNbbGlzdE5hbWVdOwogICAgICBmb3IgKHZhciBpIGluIGxpc3QpIHsKICAgICAgICBpZiAobGlzdFtpXSA9PT0gdXNlckVtYWlsKSB7CiAgICAgICAgICBsaXN0LnNwbGljZShpLCAxKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIC8qKgogICAgKiBWZXJpZmllcyBpZiB0aGUgZ2l2ZW4gbWVzc2FnZSBpcyBjb21wbGlhbnQgd2l0aCB0aGUgZ2l2ZW4gcG9saWNpZXMuIElmIG9uZSBvZiB0aGUgcG9saWNpZXMKICAgICogZXZhbHVhdGVzIHRvICdmYWxzZScsIHRoZW4gdGhlIG1lc3NhZ2UgaXMgbm90IGF1dGhvcmlzZWQuIFJldHVybnMgdGhlIGZpbmFsIGF1dGhvcmlzYXRpb24KICAgICogZGVjaXNpb24gYW5kIGEgc2V0IG9mIGFjdGlvbnMgdGhhdCBwb2xpY2llcyBtYXkgcmVxdWlyZS4KICAgICogQHBhcmFtIHtNZXNzYWdlfSAgbWVzc2FnZQogICAgKiBAcGFyYW0ge1VSTH0gICAgICBoeXBlcnR5VG9WZXJpZnkKICAgICogQHBhcmFtIHtBcnJheX0gICAgcG9saWNpZXMKICAgICogQHJldHVybiB7QXJyYXl9ICAgW2F1dGhEZWNpc2lvbiwgYWN0aW9uc10KICAgICovCgogIH0sIHsKICAgIGtleTogJ2V2YWx1YXRlJywKICAgIHZhbHVlOiBmdW5jdGlvbiBldmFsdWF0ZShtZXNzYWdlLCBoeXBlcnR5VG9WZXJpZnksIHBvbGljaWVzKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciByZXN1bHRzID0gW3RydWVdOwogICAgICB2YXIgYWN0aW9ucyA9IFtdOwoKICAgICAgLy8gVE9ETzogdXNlIGhhc2h0YWJsZSB0byBhbGxvdyBkeW5hbWljIG1hbmFnZW1lbnQKICAgICAgZm9yICh2YXIgaSBpbiBwb2xpY2llcykgewogICAgICAgIHZhciBwb2xpY3kgPSBwb2xpY2llc1tpXTsKICAgICAgICB2YXIgcmVzdWx0ID0gW107CiAgICAgICAgdmFyIGNvbmRpdGlvbiA9IHBvbGljeS5jb25kaXRpb24uc3BsaXQoJyAnKTsKICAgICAgICB2YXIgcmVzb3VyY2UgPSBjb25kaXRpb25bMF07CiAgICAgICAgc3dpdGNoIChyZXNvdXJjZSkgewogICAgICAgICAgY2FzZSAnbGlzdCc6CiAgICAgICAgICAgIHZhciBsaXN0TmFtZSA9IGNvbmRpdGlvblsxXTsKICAgICAgICAgICAgcmVzdWx0WzBdID0gX3RoaXMuaXNJbkxpc3QoaHlwZXJ0eVRvVmVyaWZ5LCBsaXN0TmFtZSkgPyBwb2xpY3kuYXV0aG9yaXNlIDogIXBvbGljeS5hdXRob3Jpc2U7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAndGltZSc6CiAgICAgICAgICAgIHZhciBzdGFydCA9IGNvbmRpdGlvblsxXTsKICAgICAgICAgICAgdmFyIGVuZCA9IGNvbmRpdGlvblsyXTsKICAgICAgICAgICAgcmVzdWx0WzBdID0gX3RoaXMuaXNUaW1lQmV0d2VlbihzdGFydCwgZW5kKSA/IHBvbGljeS5hdXRob3Jpc2UgOiAhcG9saWN5LmF1dGhvcmlzZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICByZXN1bHRbMV0gPSBwb2xpY3kuYWN0aW9uczsKICAgICAgICB9CiAgICAgICAgcmVzdWx0cy5wdXNoKHJlc3VsdFswXSk7CiAgICAgICAgYWN0aW9ucy5wdXNoKHJlc3VsdFsxXSk7IC8vIFRPRE86IGRvIGFjdGlvbnMgZGVwZW5kIG9uIHRoZSBmaW5hbCBhdXRob3Jpc2F0aW9uIGRlY2lzaW9uPwogICAgICB9CgogICAgICB2YXIgYXV0aERlY2lzaW9uID0gcmVzdWx0cy5pbmRleE9mKGZhbHNlKSA9PT0gLTE7CiAgICAgIHJldHVybiBbYXV0aERlY2lzaW9uLCBhY3Rpb25zXTsKICAgIH0KCiAgICAvKioKICAgICogVmVyaWZpZXMgaWYgdGhlIGdpdmVuIGh5cGVydHkgVVJMIGNvcnJlc3BvbmRzIHRvIGFuIGVtYWlsIHRoYXQgaXMgaW4gdGhlIGxpc3Qgd2l0aCB0aGUgZ2l2ZW4KICAgICogbmFtZS4KICAgICogQHBhcmFtIHtVUkx9ICAgICAgICBoeXBlcnR5VVJMCiAgICAqIEBwYXJhbSB7U3RyaW5nfSAgICAgbGlzdE5hbWUKICAgICogQHJldHVybiB7Qm9vbGVhbn0gICBib29sZWFuCiAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdpc0luTGlzdCcsCiAgICB2YWx1ZTogZnVuY3Rpb24gaXNJbkxpc3QoaHlwZXJ0eVVSTCwgbGlzdE5hbWUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIGxpc3QgPSBfdGhpcy5teUxpc3RzW2xpc3ROYW1lXTsKICAgICAgZm9yICh2YXIgaSBpbiBsaXN0KSB7CiAgICAgICAgaWYgKF90aGlzLnJlZ2lzdHJ5LmdldFVzZXJIeXBlcnR5KGxpc3RbaV0pID09PSBoeXBlcnR5VVJMKSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQoKICAgIC8qKgogICAgKiBWZXJpZmllcyBpZiB0aGUgY3VycmVudCB0aW1lIGlzIGJldHdlZW4gdGhlIGdpdmVuIHN0YXJ0IGFuZCBlbmQgdGltZXMuCiAgICAqIEBwYXJhbSB7TnVtYmVyfSAgICAgc3RhcnQKICAgICogQHBhcmFtIHtOdW1iZXJ9ICAgICBlbmQKICAgICogQHJldHVybiB7Qm9vbGVhbn0gICBib29sZWFuCiAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdpc1RpbWVCZXR3ZWVuJywKICAgIHZhbHVlOiBmdW5jdGlvbiBpc1RpbWVCZXR3ZWVuKHN0YXJ0LCBlbmQpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7CiAgICAgIHZhciBub3dNaW51dGVzID0gX3RoaXMuZ2V0TWludXRlcyhwYXJzZUludChub3cuZ2V0SG91cnMoKSkgKyAnOicgKyBub3cuZ2V0TWludXRlcygpKTsKICAgICAgdmFyIHN0YXJ0TWludXRlcyA9IF90aGlzLmdldE1pbnV0ZXMoc3RhcnQpOwogICAgICB2YXIgZW5kTWludXRlcyA9IF90aGlzLmdldE1pbnV0ZXMoZW5kKTsKICAgICAgaWYgKGVuZE1pbnV0ZXMgPiBzdGFydE1pbnV0ZXMpIHsKICAgICAgICByZXR1cm4gbm93TWludXRlcyA+IHN0YXJ0TWludXRlcyAmJiBub3dNaW51dGVzIDwgZW5kTWludXRlczsKICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAobm93TWludXRlcyA8IHN0YXJ0TWludXRlcykgewogICAgICAgICAgbm93TWludXRlcyArPSAyNCAqIDYwOwogICAgICAgIH0KICAgICAgICBlbmRNaW51dGVzICs9IDI0ICogNjA7CiAgICAgICAgcmV0dXJuIG5vd01pbnV0ZXMgPiBzdGFydE1pbnV0ZXMgJiYgbm93TWludXRlcyA8IGVuZE1pbnV0ZXM7CiAgICAgIH0KICAgIH0KCiAgICAvKioKICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIG1pbnV0ZXMgdGhhdCBjb3JyZXNwb25kIHRvIHRoZSBnaXZlbiB0aW1lIGluIHRoZSBmb3JtYXQgPEhPVVJTPjo8TUlOVVRFUz4uCiAgICAqIEBwYXJhbSB7TnVtYmVyfSAgIHRpbWUKICAgICogQHJldHVybiB7TnVtYmVyfSAgbWludXRlcwogICAgKi8KCiAgfSwgewogICAga2V5OiAnZ2V0TWludXRlcycsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TWludXRlcyh0aW1lKSB7CiAgICAgIHZhciB0aW1lU3BsaXQgPSB0aW1lLnNwbGl0KCc6Jyk7CiAgICAgIHJldHVybiBwYXJzZUludCh0aW1lU3BsaXRbMF0pICogNjAgKyBwYXJzZUludCh0aW1lU3BsaXRbMV0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFBEUDsKfSgpOwoKZXhwb3J0cy5kZWZhdWx0ID0gUERQOwptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0se31dLDE4OTpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7CiJ1c2Ugc3RyaWN0IjsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOwoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9Cgp2YXIgUEVQID0gZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIFBFUCgpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQRVApOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFBFUCwgW3sKICAgIGtleTogImVuZm9yY2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGVuZm9yY2UoKSB7fQogIH0sIHsKICAgIGtleTogInNlbmRBdXRvbWF0aWNNZXNzYWdlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZW5kQXV0b21hdGljTWVzc2FnZSgpIHt9CiAgfSwgewogICAga2V5OiAiZm9yd2FyZFRvSUQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZvcndhcmRUb0lEKCkge30KICB9LCB7CiAgICBrZXk6ICJmb3J3YXJkVG9IeXBlcnR5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmb3J3YXJkVG9IeXBlcnR5KCkge30KICB9XSk7CgogIHJldHVybiBQRVA7Cn0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IFBFUDsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XSwxOTA6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCnZhciBfUEVQID0gcmVxdWlyZSgnLi9QRVAnKTsKCnZhciBfUEVQMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BFUCk7Cgp2YXIgX1BEUCA9IHJlcXVpcmUoJy4vUERQJyk7Cgp2YXIgX1BEUDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9QRFApOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKLyoqCiogVGhlIFBvbGljeSBFbmdpbmUgaW50ZXJjZXB0cyBhbGwgdGhlIG1lc3NhZ2VzIHNlbnQgdGhyb3VnaCB0aGUgTWVzc2FnZSBCdXMgYW5kIGFwcGxpZXMgdGhlCiogcG9saWNpZXMgZGVmaW5lZCBieSB0aGUgc2VydmljZSBwcm92aWRlciBhbmQgdGhlIHVzZXIuCiovCgp2YXIgUG9saWN5RW5naW5lID0gZnVuY3Rpb24gKCkgewoKICAvKioKICAqIFRoaXMgbWV0aG9kIGlzIGludm9rZWQgYnkgdGhlIFJ1bnRpbWVVQSBhbmQgaW5zdGFudGlhdGVzIHRoZSBQb2xpY3kgRW5naW5lLiBBIFBvbGljeSBEZWNpc2lvbgogICogUG9pbnQgKFBEUCkgYW5kIGEgUG9saWN5IEVuZm9yY2VtZW50IFBvaW50IChQRVApIGFyZSBpbml0aWFsaXNlZCBmb3IgdGhlIGV2YWx1YXRpb24gb2YgcG9saWNpZXMKICAqIGFuZCB0aGUgZW5mb3JjZW1lbnQgb2YgYWRkaXRpb25hbCBhY3Rpb25zLCByZXNwZWN0aXZlbHkuIEFkZHMgYSBsaXN0ZW5lciBkbyB0aGUgTWVzc2FnZSBCdXMgdG8KICAqIGFsbG93IG1ldGhvZCBpbnZva2F0aW9uLgogICogQHBhcmFtICB7TWVzc2FnZUJ1c30gICAgICAgIG1lc3NhZ2VCdXMKICAqIEBwYXJhbSAge0lkZW50aXR5TW9kdWxlfSAgICBpZGVudGl0eU1vZHVsZQogICogQHBhcmFtICB7UmVnaXN0cnl9ICAgICAgICAgIHJ1bnRpbWVSZWdpc3RyeQogICovCgogIGZ1bmN0aW9uIFBvbGljeUVuZ2luZShtZXNzYWdlQnVzLCBpZGVudGl0eU1vZHVsZSwgcnVudGltZVJlZ2lzdHJ5KSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9saWN5RW5naW5lKTsKCiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgX3RoaXMubWVzc2FnZUJ1cyA9IG1lc3NhZ2VCdXM7CiAgICBfdGhpcy5pZE1vZHVsZSA9IGlkZW50aXR5TW9kdWxlOwogICAgX3RoaXMucGRwID0gbmV3IF9QRFAyLmRlZmF1bHQocnVudGltZVJlZ2lzdHJ5KTsKICAgIF90aGlzLnBlcCA9IG5ldyBfUEVQMi5kZWZhdWx0KCk7CiAgICBfdGhpcy5wb2xpY2llcyA9IHt9OwogIH0KCiAgLyoqCiAgKiBUaGlzIG1ldGhvZCBpcyBleGVjdXRlZCB3aGVuIGEgbWVzc2FnZSBpcyBpbnRlcmNlcHRlZCBpbiB0aGUgTWVzc2FnZSBCdXMuIFRoZSBmaXJzdCBzdGVwIGlzIHRoZQogICogYXNzaWdubWVudCBvZiB0aGUgaWRlbnRpdHkgYXNzb2NpYXRlZCB3aXRoIHRoZSBtZXNzYWdlLiBUaGUgc2Vjb25kIHN0ZXAgaXMgdGhlIGV2YWx1YXRpb24gb2YgdGhlCiAgKiBhcHBsaWNhYmxlIHBvbGljaWVzIGluIG9yZGVyIHRvIG9idGFpbiBhbiBhdXRob3Jpc2F0aW9uIGRlY2lzaW9uOiBpZiBhIHBvbGljeSBldmFsdWF0ZXMgdG8KICAqIGZhbHNlLCB0aGVuIHRoZSBtZXNzYWdlIGlzIHVuYXV0aG9yaXNlZC4gVGhlIHRoaXJkIHN0ZXAgaXMgdGhlIGVuZm9yY2VtZW50IG9mIHRoZSBhY3Rpb25zIHRoYXQKICAqIHBvbGljaWVzIG1heSByZXF1aXJlLiBGaW5hbGx5LCB0aGUgbWVzc2FnZSBpcyBzdGFtcGVkIGFzIGF1dGhvcmlzZWQgb3Igbm90IGFuZCBpcyByZXR1cm5lZCB0bwogICogdGhlIE1lc3NhZ2UgQnVzLCB3aGVyZSBpdCB3aWxsIGJlIGZvcndhcmRlZCBvciBibG9ja2VkLgogICogQHBhcmFtICB7TWVzc2FnZX0gIG1lc3NhZ2UKICAqLwoKCiAgX2NyZWF0ZUNsYXNzKFBvbGljeUVuZ2luZSwgW3sKICAgIGtleTogJ2F1dGhvcmlzZScsCiAgICB2YWx1ZTogZnVuY3Rpb24gYXV0aG9yaXNlKG1lc3NhZ2UpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgaWYgKG1lc3NhZ2UudG8gPT09ICdkb21haW46Ly9sb2NhbGhvc3QvcG9saWN5LWVuZ2luZScpIHsKICAgICAgICBfdGhpcy5wcm9jZXNzTWVzc2FnZShtZXNzYWdlKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICAvL1RPRE8gdHVybiBpdCBsYXRlciBpbnRvIGEgcG9saWN5CiAgICAgICAgaWYgKG1lc3NhZ2UuZnJvbSA9PT0gJ2RvbWFpbjovL2dvb2dsZS5jb20nIHx8IG1lc3NhZ2UudG8gPT09ICdkb21haW46Ly9nb29nbGUuY29tJykgewogICAgICAgICAgbWVzc2FnZS5hdXRob3Jpc2VkID0gdHJ1ZTsKICAgICAgICAgIHJldHVybiByZXNvbHZlKG1lc3NhZ2UpOwogICAgICAgIH0KICAgICAgICBfdGhpcy5pZE1vZHVsZS5nZXRJZGVudGl0eUFzc2VydGlvbignZ29vZ2xlIGlkZW50aXR5JywgJ3Njb3BlJykudGhlbihmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgIHZhciBhc3NlcnRlZElEID0gX3RoaXMuaWRNb2R1bGUuZ2V0SWRlbnRpdGllcygpOwoKICAgICAgICAgIGlmICghbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eSgnYm9keScpKSB7CiAgICAgICAgICAgIG1lc3NhZ2UuYm9keSA9IHt9OwogICAgICAgICAgfQoKICAgICAgICAgIHZhciBoeXBlcnR5VG9WZXJpZnkgPSB2b2lkIDA7CiAgICAgICAgICBpZiAoIW1lc3NhZ2UuYm9keS5oYXNPd25Qcm9wZXJ0eSgnYXNzZXJ0ZWRJZGVudGl0eScpKSB7CiAgICAgICAgICAgIG1lc3NhZ2UuYm9keS5hc3NlcnRlZElkZW50aXR5ID0gYXNzZXJ0ZWRJRFswXS5pZGVudGl0eTsKICAgICAgICAgICAgbWVzc2FnZS5ib2R5LmlkVG9rZW4gPSB2YWx1ZTsKICAgICAgICAgICAgaHlwZXJ0eVRvVmVyaWZ5ID0gbWVzc2FnZS50bzsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGh5cGVydHlUb1ZlcmlmeSA9IG1lc3NhZ2UuZnJvbTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgc2NvcGUgPSBfdGhpcy5nZXRTY29wZSgpOwogICAgICAgICAgdmFyIGFwcGxpY2FibGVQb2xpY2llcyA9IF90aGlzLmdldEFwcGxpY2FibGVQb2xpY2llcyhzY29wZSk7CiAgICAgICAgICB2YXIgcG9saWNpZXNSZXN1bHQgPSBfdGhpcy5wZHAuZXZhbHVhdGUobWVzc2FnZSwgaHlwZXJ0eVRvVmVyaWZ5LCBhcHBsaWNhYmxlUG9saWNpZXMpOwogICAgICAgICAgX3RoaXMucGVwLmVuZm9yY2UocG9saWNpZXNSZXN1bHRbMV0pOwoKICAgICAgICAgIGlmIChwb2xpY2llc1Jlc3VsdFswXSkgewogICAgICAgICAgICBtZXNzYWdlLmF1dGhvcmlzZWQgPSB0cnVlOwogICAgICAgICAgICByZXNvbHZlKG1lc3NhZ2UpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbWVzc2FnZS5hdXRob3Jpc2VkID0gZmFsc2U7CiAgICAgICAgICAgIHJlamVjdCgnVW5hdXRob3Jpc2VkIG1lc3NhZ2UnKTsKICAgICAgICAgIH0KICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgKiBJbnZva2VzIHRoZSBtZXRob2Qgc3BlY2lmaWVkIGluIHRoZSBtZXNzYWdlIGFpbWVkIGF0IHRoZSBQb2xpY3kgRW5naW5lLgogICAgKiBAcGFyYW0gIHtNZXNzYWdlfSAgICBtZXNzYWdlCiAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdwcm9jZXNzTWVzc2FnZScsCiAgICB2YWx1ZTogZnVuY3Rpb24gcHJvY2Vzc01lc3NhZ2UobWVzc2FnZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgbWV0aG9kID0gbWVzc2FnZS5ib2R5Lm1ldGhvZDsKICAgICAgdmFyIHBhcmFtcyA9IG1lc3NhZ2UuYm9keS5wYXJhbXM7CgogICAgICBzd2l0Y2ggKG1ldGhvZCkgewogICAgICAgIGNhc2UgJ2FkZFBvbGljaWVzJzoKICAgICAgICAgIF90aGlzLmFkZFBvbGljaWVzKHBhcmFtcy5wb2xpY2llcywgcGFyYW1zLnNjb3BlKTsKICAgICAgICAgIF90aGlzLnNlbmRSZXNwb25zZShtZXNzYWdlLCAyMDApOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAncmVtb3ZlUG9saWNpZXMnOgogICAgICAgICAgX3RoaXMucmVtb3ZlUG9saWNpZXMocGFyYW1zLnBvbGljeUlELCBwYXJhbXMuc2NvcGUpOwogICAgICAgICAgX3RoaXMuc2VuZFJlc3BvbnNlKG1lc3NhZ2UsIDIwMCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdnZXRMaXN0JzoKICAgICAgICAgIHZhciBsaXN0ID0gX3RoaXMuZ2V0TGlzdChwYXJhbXMubGlzdE5hbWUpOwogICAgICAgICAgaWYgKGxpc3QgIT09IFtdKSB7CiAgICAgICAgICAgIF90aGlzLnNlbmRMaXN0KG1lc3NhZ2UsIGxpc3QpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuc2VuZFJlc3BvbnNlKG1lc3NhZ2UsIDQwNCk7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdjcmVhdGVMaXN0JzoKICAgICAgICAgIF90aGlzLmNyZWF0ZUxpc3QocGFyYW1zLmxpc3ROYW1lKTsKICAgICAgICAgIF90aGlzLnNlbmRSZXNwb25zZShtZXNzYWdlLCAyMDApOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnYWRkVG9MaXN0JzoKICAgICAgICAgIF90aGlzLmFkZFRvTGlzdChwYXJhbXMudXNlckVtYWlsLCBwYXJhbXMubGlzdE5hbWUpOwogICAgICAgICAgX3RoaXMuc2VuZFJlc3BvbnNlKG1lc3NhZ2UsIDIwMCk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICdyZW1vdmVGcm9tTGlzdCc6CiAgICAgICAgICBfdGhpcy5yZW1vdmVGcm9tTGlzdChwYXJhbXMudXNlckVtYWlsLCBwYXJhbXMubGlzdE5hbWUpOwogICAgICAgICAgX3RoaXMuc2VuZFJlc3BvbnNlKG1lc3NhZ2UsIDIwMCk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfQoKICAgIC8qKgogICAgKiBTZW5kcyBhIHJlc3BvbnNlIHRvIHRoZSBtZXNzYWdlIG9yaWdpbi4KICAgICogQHBhcmFtICB7TWVzc2FnZX0gICBtZXNzYWdlCiAgICAqIEBwYXJhbSAge051bWJlcn0gICAgaHR0cENvZGUKICAgICovCgogIH0sIHsKICAgIGtleTogJ3NlbmRSZXNwb25zZScsCiAgICB2YWx1ZTogZnVuY3Rpb24gc2VuZFJlc3BvbnNlKG1lc3NhZ2UsIGh0dHBDb2RlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciByZXNwb25zZSA9IHsgaWQ6IG1lc3NhZ2UuaWQsIHR5cGU6ICdyZXNwb25zZScsIHRvOiBtZXNzYWdlLmZyb20sIGZyb206IG1lc3NhZ2UudG8sIGJvZHk6IHsgY29kZTogaHR0cENvZGUgfSB9OwogICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKHJlc3BvbnNlKTsKICAgIH0KCiAgICAvKioKICAgICogU2VuZHMgdGhlIHJlcXVlc3RlZCBsaXN0IHRvIHRoZSBtZXNzYWdlIG9yaWdpbi4KICAgICogQHBhcmFtICB7TWVzc2FnZX0gICBtZXNzYWdlCiAgICAqIEBwYXJhbSAge0FycmF5fSAgICAgbGlzdAogICAgKi8KCiAgfSwgewogICAga2V5OiAnc2VuZExpc3QnLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNlbmRMaXN0KG1lc3NhZ2UsIGxpc3QpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIHJlc3BvbnNlID0geyBpZDogbWVzc2FnZS5pZCwgdHlwZTogJ3Jlc3BvbnNlJywgdG86IG1lc3NhZ2UuZnJvbSwgZnJvbTogbWVzc2FnZS50bywgYm9keTogeyBjb2RlOiAyMDAsIHZhbHVlOiBsaXN0IH0gfTsKICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShyZXNwb25zZSk7CiAgICB9CgogICAgLyoqCiAgICAqIEFzc29jaWF0ZXMgdGhlIGdpdmVuIHBvbGljaWVzIHdpdGggYSBzY29wZS4gVGhlIHBvc3NpYmxlIHNjb3BlcyBhcmUgJ2FwcGxpY2F0aW9uJywgJ2h5cGVydHknIGFuZAogICAgKiAndXNlcicuCiAgICAqIEBwYXJhbSAge1BvbGljeVtdfSAgcG9saWNpZXMKICAgICogQHBhcmFtICB7U3RyaW5nfSAgICBzY29wZQogICAgKi8KCiAgfSwgewogICAga2V5OiAnYWRkUG9saWNpZXMnLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFBvbGljaWVzKHBvbGljaWVzLCBzY29wZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBmb3IgKHZhciBpIGluIHBvbGljaWVzKSB7CiAgICAgICAgLy8gVE9ETzogY29uZmxpY3QgZGV0ZWN0aW9uCiAgICAgICAgaWYgKF90aGlzLnBvbGljaWVzW3Njb3BlXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBfdGhpcy5wb2xpY2llc1tzY29wZV0gPSBbXTsKICAgICAgICB9CiAgICAgICAgdmFyIGV4aXN0cyA9IGZhbHNlOwogICAgICAgIGZvciAodmFyIHBvbGljeSBpbiBfdGhpcy5wb2xpY2llc1tzY29wZV0pIHsKICAgICAgICAgIGlmIChfdGhpcy5wb2xpY2llc1tzY29wZV1bcG9saWN5XS5pZCA9PT0gcG9saWNpZXNbaV0uaWQpIHsKICAgICAgICAgICAgZXhpc3RzID0gdHJ1ZTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICghZXhpc3RzKSB7CiAgICAgICAgICBfdGhpcy5wb2xpY2llc1tzY29wZV0ucHVzaChwb2xpY2llc1tpXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgLyoqCiAgICAqIFJlbW92ZXMgdGhlIHBvbGljeSB3aXRoIHRoZSBnaXZlbiBJRCBmcm9tIHRoZSBnaXZlbiBzY29wZS4gSWYgcG9saWN5SUQgaXMgJyonLCByZW1vdmVzIGFsbCBwb2xpY2llcyBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIHNjb3BlLgogICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBwb2xpY3lJRAogICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBzY29wZQogICAgKi8KCiAgfSwgewogICAga2V5OiAncmVtb3ZlUG9saWNpZXMnLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVBvbGljaWVzKHBvbGljeUlkLCBzY29wZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgYWxsUG9saWNpZXMgPSBfdGhpcy5wb2xpY2llczsKCiAgICAgIGlmIChzY29wZSBpbiBhbGxQb2xpY2llcykgewogICAgICAgIGlmIChwb2xpY3lJZCAhPT0gJyonKSB7CiAgICAgICAgICB2YXIgcG9saWNpZXMgPSBhbGxQb2xpY2llc1tzY29wZV07CiAgICAgICAgICB2YXIgbnVtUG9saWNpZXMgPSBwb2xpY2llcy5sZW5ndGg7CgogICAgICAgICAgZm9yICh2YXIgcG9saWN5ID0gMDsgcG9saWN5IDwgbnVtUG9saWNpZXM7IHBvbGljeSsrKSB7CiAgICAgICAgICAgIGlmIChwb2xpY2llc1twb2xpY3ldLmlkID09PSBwb2xpY3lJZCkgewogICAgICAgICAgICAgIHBvbGljaWVzLnNwbGljZShwb2xpY3ksIDEpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRlbGV0ZSBfdGhpcy5wb2xpY2llc1tzY29wZV07CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgLyoqCiAgICAqIFJldHJpZXZlcyB0aGUgbGlzdCB3aXRoIHRoZSBnaXZlbiBsaXN0IG5hbWUgZnJvbSB0aGUgUERQLgogICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBsaXN0TmFtZQogICAgKiBAcmV0dXJuIHtBcnJheX0gICBsaXN0CiAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdnZXRMaXN0JywKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRMaXN0KGxpc3ROYW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBfdGhpcy5wZHAuZ2V0TGlzdChsaXN0TmFtZSk7CiAgICB9CgogICAgLyoqCiAgICAqIEZvcndhcmRzIGEgcmVxdWVzdCBmb3IgdGhlIGNyZWF0aW9uIG9mIGEgbGlzdCB3aXRoIHRoZSBnaXZlbiBuYW1lIHRvIHRoZSBQRFAuCiAgICAqIEBwYXJhbSAge1N0cmluZ30gIGxpc3ROYW1lCiAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdjcmVhdGVMaXN0JywKICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVMaXN0KGxpc3ROYW1lKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF90aGlzLnBkcC5jcmVhdGVMaXN0KGxpc3ROYW1lKTsKICAgIH0KCiAgICAvKioKICAgICogRm9yd2FyZHMgYSByZXF1ZXN0IHRvIGFkZCBhIHVzZXIgdG8gdGhlIGxpc3Qgd2l0aCB0aGUgZ2l2ZW4gbmFtZSB0byB0aGUgUERQLgogICAgKiBAcGFyYW0gIHtTdHJpbmd9ICB1c2VyRW1haWwKICAgICogQHBhcmFtICB7U3RyaW5nfSAgbGlzdE5hbWUKICAgICovCgogIH0sIHsKICAgIGtleTogJ2FkZFRvTGlzdCcsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkVG9MaXN0KHVzZXJFbWFpbCwgbGlzdE5hbWUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgX3RoaXMucGRwLmFkZFRvTGlzdCh1c2VyRW1haWwsIGxpc3ROYW1lKTsKICAgIH0KCiAgICAvKioKICAgICogRm9yd2FyZHMgYSByZXF1ZXN0IHRvIHJlbW92ZSBhIHVzZXIgZnJvbSB0aGUgbGlzdCB3aXRoIHRoZSBnaXZlbiBuYW1lIHRvIHRoZSBQRFAuCiAgICAqIEBwYXJhbSAge1N0cmluZ30gIHVzZXJFbWFpbAogICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBsaXN0TmFtZQogICAgKi8KCiAgfSwgewogICAga2V5OiAncmVtb3ZlRnJvbUxpc3QnLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUZyb21MaXN0KHVzZXJFbWFpbCwgbGlzdE5hbWUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgX3RoaXMucGRwLnJlbW92ZUZyb21MaXN0KHVzZXJFbWFpbCwgbGlzdE5hbWUpOwogICAgfQoKICAgIC8qKgogICAgKiBSZXR1cm5zIHRoZSBzY29wZSBvZiB0aGUgZ2l2ZW4gbWVzc2FnZSB0byByZXN0cmljdCBwb2xpY3kgYXBwbGljYWJpbGl0eS4gRm9yIG5vdywgYWxsIHBvbGljaWVzCiAgICAqIGFyZSBhcHBsaWVkIHRvIGVhY2ggbWVzc2FnZS4KICAgICogQHJldHVybiB7U3RyaW5nfSBzY29wZQogICAgKi8KCiAgfSwgewogICAga2V5OiAnZ2V0U2NvcGUnLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNjb3BlKCkgewogICAgICByZXR1cm4gJyonOwogICAgfQoKICAgIC8qKgogICAgKiBSZXR1cm5zIHRoZSBwb2xpY2llcyBhc3NvY2lhdGVkIHdpdGggYSBzY29wZS4KICAgICogQHBhcmFtICAge1N0cmluZ30gc2NvcGUKICAgICogQHJldHVybiAge0FycmF5fSAgcG9saWNpZXMKICAgICovCgogIH0sIHsKICAgIGtleTogJ2dldEFwcGxpY2FibGVQb2xpY2llcycsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QXBwbGljYWJsZVBvbGljaWVzKHNjb3BlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBwb2xpY2llc1RhYmxlID0gX3RoaXMucG9saWNpZXM7CiAgICAgIHZhciBwb2xpY2llcyA9IFtdOwogICAgICBpZiAoc2NvcGUgIT09ICcqJykgewogICAgICAgIGlmIChwb2xpY2llc1RhYmxlW3Njb3BlXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICBwb2xpY2llcyA9IHBvbGljaWVzVGFibGVbc2NvcGVdOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBmb3IgKHZhciBpIGluIHBvbGljaWVzVGFibGUpIHsKICAgICAgICAgIHBvbGljaWVzLnB1c2guYXBwbHkocG9saWNpZXMsIHBvbGljaWVzVGFibGVbaV0pOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gcG9saWNpZXM7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gUG9saWN5RW5naW5lOwp9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBQb2xpY3lFbmdpbmU7Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7Ii4vUERQIjoxODgsIi4vUEVQIjoxODl9XSwxOTE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKLyoqCiogSWRlbnRpdHkgUHJvdmlkZXIgUHJveHkgUHJvdG9jb2wgU3R1YgoqLwoKdmFyIElkcFByb3h5U3R1YiA9IGZ1bmN0aW9uICgpIHsKCiAgLyoqCiAgKiBDb25zdHJ1Y3RvciBvZiB0aGUgSWRwUHJveHkgU3R1YgogICogVGhlIGNvbnN0cnVjdG9yIGFkZCBhIGxpc3RlbmVyIGluIHRoZSBtZXNzYWdlQnVzIHJlY2VpdmVkIGFuZCBzdGFydCBhIHdlYiB3b3JrZXIgd2l0aCB0aGUgaWRwUHJveHkgcmVjZWl2ZWQKICAqCiAgKiBAcGFyYW0gIHttZXNzYWdlQnVzfSAgICAgIG1lc3NhZ2VCdXMKICAqIEBwYXJhbSAge2RvbWFpbn0gICAgICAgICAgRG9tYWluCiAgKiBAcGFyYW0gIHtpZHBQcm94eX0gICAgaWRlbnRpdHkgUHJvdmlkZXIgUHJveHkgamF2YXNjcmlwdCBmaWxlCiAgKi8KCiAgZnVuY3Rpb24gSWRwUHJveHlTdHViKG1lc3NhZ2VCdXMsIGRvbWFpbiwgaWRwUHJveHkpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJZHBQcm94eVN0dWIpOwoKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICBfdGhpcy5tZXNzYWdlQnVzID0gbWVzc2FnZUJ1czsKICAgIF90aGlzLmRvbWFpbiA9IGRvbWFpbjsKICAgIF90aGlzLmlkcFByb3h5ID0gaWRwUHJveHk7CgogICAgX3RoaXMubWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcignZG9tYWluOi8vJyArIGlkcFByb3h5LCBmdW5jdGlvbiAobXNnKSB7CiAgICAgIF90aGlzLnJlcXVlc3RUb0lkcChtc2cpOwogICAgfSk7CgogICAgLy9zdGFydCB0aGUgd2ViIHdvcmtlciB3aXRoIHRoZSBpZHBQcm94eQogICAgX3RoaXMuc3RhcnQoaWRwUHJveHkpOwogIH0KCiAgLyoqCiAgKiBGdW5jdGlvbiB0aGF0IHNlZSB0aGUgaW50ZW5kZWQgbWV0aG9kIGluIHRoZSBtZXNzYWdlIHJlY2VpdmVkIGFuZCBjYWxsIHRoZSByZXNwZWN0aXZlIGZ1bmN0aW9uCiAgKgogICogQHBhcmFtIHttZXNzYWdlfSAgbWVzc2FnZSByZWNlaXZlZCBpbiB0aGUgbWVzc2FnZUJ1cwogICovCgoKICBfY3JlYXRlQ2xhc3MoSWRwUHJveHlTdHViLCBbewogICAga2V5OiAncmVxdWVzdFRvSWRwJywKICAgIHZhbHVlOiBmdW5jdGlvbiByZXF1ZXN0VG9JZHAobXNnKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBwYXJhbXMgPSBtc2cuYm9keS5wYXJhbXM7CiAgICAgIHN3aXRjaCAobXNnLmJvZHkubWV0aG9kKSB7CiAgICAgICAgY2FzZSAnbG9naW4nOgogICAgICAgICAgX3RoaXMubG9naW4ocGFyYW1zKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgICBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCB2YWx1ZSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2dlbmVyYXRlQXNzZXJ0aW9uJzoKICAgICAgICAgIF90aGlzLmdlbmVyYXRlKHBhcmFtcykudGhlbihmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICAgICAgX3RoaXMucmVwbHlNZXNzYWdlKG1zZywgdmFsdWUpOwogICAgICAgICAgfSk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICd2YWxpZGF0ZUFzc2VydGlvbic6CiAgICAgICAgICBfdGhpcy52YWxpZGF0ZShwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgIF90aGlzLnJlcGx5TWVzc2FnZShtc2csIHZhbHVlKTsKICAgICAgICAgIH0pOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgLyoqCiAgICAqIFN0YXJ0cyBhIHdlYiB3b3JrZXIgd2l0aCB0aGUgaWRwUHJveHkgamF2YXNjaXB0IGZpbGUKICAgICoKICAgICogQHBhcmFtICB7aWRwUHJveHl9ICAgIGlkZW50aXR5IFByb3ZpZGVyIFByb3h5IGphdmFzY3JpcHQgZmlsZQogICAgKi8KCiAgfSwgewogICAga2V5OiAnc3RhcnQnLAogICAgdmFsdWU6IGZ1bmN0aW9uIHN0YXJ0KGlkcFByb3h5KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIGlmICh3aW5kb3cuV29ya2VyKSB7CiAgICAgICAgLy9jaGVjayBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgd29ya2VyIEFQSQoKICAgICAgICB2YXIgbXlXb3JrZXIgPSBuZXcgV29ya2VyKCcvc3JjL2lkZW50aXR5L0lkcFByb3h5LmpzJyk7CiAgICAgICAgX3RoaXMubXlXb3JrZXIgPSBteVdvcmtlcjsKICAgICAgICBfdGhpcy5teVdvcmtlci5wb3N0TWVzc2FnZShbJ2NyZWF0ZScsICdJZHBQcm94eSddKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ2Vycm9yJzsKICAgICAgfQogICAgfQoKICAgIC8qKgogICAgKiBmdW5jdGlvbiB0aGF0IG1ha2VzIGEgcmVxdWVzdCBmb3IgYW4gaWRlbnRpdHkgYXNzZXJ0aW9uIHRvIHRoZSB3ZWIgd29ya2VyIHJ1bm5pbmcgdGhlIGlkcFByb3h5CiAgICAqCiAgICAqIEBwYXJhbSAge3BhcmFtc30gIHBhcmFtZXRlcnMgcmVjZWl2ZWQgaW4gdGhlIG1lc3NhZ2UuIEluIHRoaXMgY2FzZSBjb250YWlucyB0aGUgY29udGVudCwgb3JpZ2luIGFuZCB1c2VybmFtZWhpbnQKICAgICogQHJldHVybiB7UHJvbWlzZX0gcmV0dXJucyBhIHByb21pc2Ugd2l0aCBhbiBpZGVudGl0eSBhc3NlcnRpb24gZ2VuZXJhdGUgYnkgdGhlIGlkcFByb3h5CiAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdnZW5lcmF0ZScsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGUocGFyYW1zKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGlmICh3aW5kb3cuV29ya2VyKSB7CiAgICAgICAgICAvL2NoZWNrIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIHRoZSB3b3JrZXIgQVBJCgogICAgICAgICAgX3RoaXMubXlXb3JrZXIucG9zdE1lc3NhZ2UoWydnZW5lcmF0ZScsIHBhcmFtc10pOwoKICAgICAgICAgIF90aGlzLm15V29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJlc29sdmUoZS5kYXRhKTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ01lc3NhZ2UgcmVjZWl2ZWQgZnJvbSB3b3JrZXInLCBlLmRhdGEpOwogICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVqZWN0KCdlcnJvcicpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAqIGZ1bmN0aW9uIHRoYXQgbWFrZXMgYSByZXF1ZXN0IHRvIHZhbGlkYXRlIGFuIGlkZW50aXR5IGFzc2VydGlvbiB0byB0aGUgd2ViIHdvcmtlciBydW5uaW5nIHRoZSBpZHBQcm94eQogICAgKgogICAgKiBAcGFyYW0gIHtwYXJhbXN9ICBwYXJhbWV0ZXJzIHJlY2VpdmVkIGluIHRoZSBtZXNzYWdlLiBJbiB0aGlzIGNhc2UgY29udGFpbnMgdGhlIGlkZW50aXR5IGFzc2VydGlvbiBhbmQgb3JpZ2luCiAgICAqIEByZXR1cm4ge1Byb21pc2V9IHJldHVybnMgYSBwcm9taXNlIHdpdGggdGhlIGlkZW50aXR5IGFzc2VydGlvbiB2YWxpZGF0aW9uIHJlc3VsdCwgcmVjZWl2ZWQgYnkgdGhlIGlkcFByb3h5CiAgICAqLwoKICB9LCB7CiAgICBrZXk6ICd2YWxpZGF0ZScsCiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsaWRhdGUocGFyYW1zKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIGlmICh3aW5kb3cuV29ya2VyKSB7CiAgICAgICAgICAvL2NoZWNrIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIHRoZSB3b3JrZXIgQVBJCgogICAgICAgICAgX3RoaXMubXlXb3JrZXIucG9zdE1lc3NhZ2UoWyd2YWxpZGF0ZScsIHBhcmFtc10pOwoKICAgICAgICAgIF90aGlzLm15V29ya2VyLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJlc29sdmUoZS5kYXRhKTsKICAgICAgICAgICAgY29uc29sZS5sb2coJ01lc3NhZ2UgcmVjZWl2ZWQgZnJvbSB3b3JrZXInLCBlLmRhdGEpOwogICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVqZWN0KCdlcnJvcicpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAqIGZ1bmN0aW9uIHRoYXQgbWFrZXMgYSByZXF1ZXN0IGZvciBhIHVzZXIgaWRlbnRpdHkgdG8gdGhlIHdlYiB3b3JrZXIgcnVubmluZyB0aGUgaWRwUHJveHkKICAgICoKICAgICogQHBhcmFtICB7cGFyYW1zfSAgcGFyYW1ldGVycyByZWNlaXZlZCBpbiB0aGUgbWVzc2FnZS4gSW4gdGhpcyBjYXNlIGNvbnRhaW5zIHRoZSBsb2dpbiBzY29wZQogICAgKiBAcmV0dXJuIHtQcm9taXNlfSByZXR1cm5zIGEgcHJvbWlzZSBhbiBVUkwgc28gdGhlIElkZW50aXR5IE1vZHVsZSBjYW4gdXNlIHRvIG9idGFpbiBhbiBpZGVudGl0eQogICAgKi8KCiAgfSwgewogICAga2V5OiAnbG9naW4nLAogICAgdmFsdWU6IGZ1bmN0aW9uIGxvZ2luKHBhcmFtcykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBpZiAod2luZG93LldvcmtlcikgewogICAgICAgICAgLy9jaGVjayBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgd29ya2VyIEFQSQoKICAgICAgICAgIF90aGlzLm15V29ya2VyLnBvc3RNZXNzYWdlKFsnbG9naW4nLCBwYXJhbXNdKTsKCiAgICAgICAgICBfdGhpcy5teVdvcmtlci5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXNvbHZlKGUuZGF0YSk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNZXNzYWdlIHJlY2VpdmVkIGZyb20gd29ya2VyJywgZS5kYXRhKTsKICAgICAgICAgIH07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJlamVjdCgnZXJyb3InKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgKiBUaGlzIGZ1bmN0aW9uIHJlY2VpdmVzIGEgbWVzc2FnZSBhbmQgYSB2YWx1ZS4gSXQgcmVwbGllcyB0aGUgdmFsdWUgdG8gdGhlIHNlbmRlciBvZiB0aGUgbWVzc2FnZSByZWNlaXZlZAogICAgKgogICAgKiBAcGFyYW0gIHttZXNzYWdlfSAgIG1lc3NhZ2UgcmVjZWl2ZWQKICAgICogQHBhcmFtICB7dmFsdWV9ICAgICB2YWx1ZSB0byBpbmNsdWRlIGluIHRoZSBuZXcgbWVzc2FnZSB0byBzZW5kCiAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdyZXBseU1lc3NhZ2UnLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlcGx5TWVzc2FnZShtc2csIHZhbHVlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgbWVzc2FnZSA9IHsgaWQ6IG1zZy5pZCwgdHlwZTogJ3Jlc3BvbnNlJywgdG86IG1zZy5mcm9tLCBmcm9tOiBtc2cudG8sCiAgICAgICAgYm9keTogeyBjb2RlOiAyMDAsIHZhbHVlOiB2YWx1ZSB9IH07CgogICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1lc3NhZ2UpOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIElkcFByb3h5U3R1YjsKfSgpOwoKZXhwb3J0cy5kZWZhdWx0ID0gSWRwUHJveHlTdHViOwptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0se31dLDE5MjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOwoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9CgovLyBpbXBvcnQgTWVzc2FnZUZhY3RvcnkgZnJvbSAnLi4vLi4vcmVzb3VyY2VzL01lc3NhZ2VGYWN0b3J5JzsKCi8qKgogKiBDbGFzcyB3aWxsIGFzayB0byB0aGUgbWVzc2FnZSBub2RlIGZvciBhZGRyZXNzZXMKICovCgp2YXIgQWRkcmVzc0FsbG9jYXRpb24gPSBmdW5jdGlvbiAoKSB7CiAgLyogcHJpdmF0ZQogIF91cmw6IFVSTAogIF9idXM6IE1pbmlCdXMKICAqLwoKICAvKioKICAgKiBDcmVhdGUgYW4gQWRkcmVzcyBBbGxvY2F0aW9uCiAgICogQHBhcmFtICB7VVJMLlVSTH0gICAgICB1cmwgLSB1cmwgZnJvbSB3aG8gaXMgc2VuZGluZyB0aGUgbWVzc2FnZQogICAqIEBwYXJhbSAge01pbmlCdXN9ICAgICAgYnVzIC0gTWluaUJ1cyB1c2VkIGZvciBhZGRyZXNzIGFsbG9jYXRpb24KICAgKi8KCiAgZnVuY3Rpb24gQWRkcmVzc0FsbG9jYXRpb24odXJsLCBidXMpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBZGRyZXNzQWxsb2NhdGlvbik7CgogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAvLyBsZXQgbWVzc2FnZUZhY3RvcnkgPSBuZXcgTWVzc2FnZUZhY3RvcnkoKTsKICAgIC8vCiAgICAvLyBfdGhpcy5fbWVzc2FnZUZhY3RvcnkgPSBtZXNzYWdlRmFjdG9yeTsKICAgIF90aGlzLl91cmwgPSB1cmw7CiAgICBfdGhpcy5fYnVzID0gYnVzOwogIH0KCiAgLyoqCiAgICogZ2V0IHRoZSBVUkwgdmFsdWUKICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB1cmwgdmFsdWU7CiAgICovCgoKICBfY3JlYXRlQ2xhc3MoQWRkcmVzc0FsbG9jYXRpb24sIFt7CiAgICBrZXk6ICdjcmVhdGUnLAoKCiAgICAvKioKICAgICAqIEFzayBmb3IgY3JlYXRpb24gb2YgYSBudW1iZXIgb2YgSHlwZXJ0eSBhZGRyZXNzZXMsIHRvIHRoZSBkb21haW4gbWVzc2FnZSBub2RlLgogICAgICogQHBhcmFtICB7RG9tYWlufSBkb21haW4gLSBEb21haW4gb2YgdGhlIG1lc3NhZ2Ugbm9kZS4KICAgICAqIEBwYXJhbSAge251bWJlcn0gbnVtYmVyIC0gTnVtYmVyIG9mIGFkZHJlc3NlcyB0byByZXF1ZXN0CiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxIeXBlcnR5VVJMPn0gIEEgbGlzdCBvZiBIeXBlcnR5VVJMJ3MKICAgICAqLwogICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZShkb21haW4sIG51bWJlcikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy8gbGV0IG1lc3NhZ2VGYWN0b3J5ID0gX3RoaXMuX21lc3NhZ2VGYWN0b3J5OwoKICAgICAgdmFyIG1zZyA9IHsKICAgICAgICB0eXBlOiAnY3JlYXRlJywgZnJvbTogX3RoaXMuX3VybCwgdG86ICdkb21haW46Ly9tc2ctbm9kZS4nICsgZG9tYWluICsgJy9oeXBlcnR5LWFkZHJlc3MtYWxsb2NhdGlvbicsCiAgICAgICAgYm9keTogeyB2YWx1ZTogeyBudW1iZXI6IG51bWJlciB9IH0KICAgICAgfTsKCiAgICAgIC8vIFRPRE86IEFwcGx5IHRoZSBtZXNzYWdlIGZhY3RvcnkKICAgICAgLy8gVGhlIG1zZy1ub2RlLXZlcnR4IHNob3VsZCBiZSBjaGFuZ2VkIHRoZSBib2R5IGZpZWxkIHRvIHJlY2VpdmUKICAgICAgLy8gdGhlIGZvbGxvd2luZyBmb3JtYXQgYm9keToge3ZhbHVlOiB7bnVtYmVyOiBudW1iZXJ9fSBiZWNhdXNlCiAgICAgIC8vIHRoZSBtZXNzYWdlIGlzIGdlbmVyYXRlZCBpbiB0aGF0IHdheSBieSB0aGUgbWVzc2FnZSBmYWN0b3J5OwogICAgICAvLyBsZXQgbXNnID0gbWVzc2FnZUZhY3RvcnkuY3JlYXRlTWVzc2FnZVJlcXVlc3QoX3RoaXMuX3VybCwgJ2RvbWFpbjovL21zZy1ub2RlLicgKyBkb21haW4gKyAnL2h5cGVydHktYWRkcmVzcy1hbGxvY2F0aW9uJywgJycsIHtudW1iZXI6IG51bWJlcn0pOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgLy8gVE9ETzogY2hhbmdlIHRoaXMgcmVzcG9uc2UgTWVzc2FnZSB1c2luZyB0aGUgTWVzc2FnZUZhY3RvcnkKICAgICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKG1zZywgZnVuY3Rpb24gKHJlcGx5KSB7CiAgICAgICAgICBpZiAocmVwbHkuYm9keS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgcmVzb2x2ZShyZXBseS5ib2R5LnZhbHVlLmFsbG9jYXRlZCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZWplY3QocmVwbHkuYm9keS5kZXNjKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAqIFNlbmQgYSByZXF1ZXN0IHRvIHRoZSBkb21haW4gbWVzc2FnZSBub2RlLCB0byBkZWFsbG9jYXRlIG9uZSBvciBtb3JlIGFkZHJlc3NlcwogICAgKiBAcGFyYW0gIHtEb21haW59IGRvbWFpbiAtIERvbWFpbiBvZiB0aGUgbWVzc2FnZSBub2RlLgogICAgKiBAcGFyYW0gIHthZGRyZXNzZXN9IGFkZHJlc3NlcyB0byByZXF1ZXN0IHRoZSBkZWFsbG9jYXRpb24KICAgICogQHJldHVybnMge1Byb21pc2V9ICB0aGUgcmVzcG9uc2UgYnkgdGhlIG1lc3NhZ2Ugbm9kZQogICAgKi8KCiAgfSwgewogICAga2V5OiAnZGVsZXRlJywKICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKGRvbWFpbiwgYWRkcmVzc2VzKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgbWVzc2FnZSA9IHsKICAgICAgICB0eXBlOiAnZGVsZXRlJywgZnJvbTogX3RoaXMuX3VybCwgdG86ICdkb21haW46Ly9tc2ctbm9kZS4nICsgZG9tYWluICsgJy9oeXBlcnR5LWFkZHJlc3MtYWxsb2NhdGlvbicsCiAgICAgICAgYm9keTogeyBjaGlsZHJlblJlc291cmNlczogYWRkcmVzc2VzIH0KICAgICAgfTsKCiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CgogICAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UobWVzc2FnZSwgZnVuY3Rpb24gKHJlcGx5KSB7CiAgICAgICAgICBjb25zb2xlLmxvZygncmVwbHknLCByZXBseSk7CiAgICAgICAgICBpZiAocmVwbHkuYm9keS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgcmVzb2x2ZShyZXBseS5ib2R5LmNvZGUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVqZWN0KHJlcGx5LmJvZHkuZGVzYyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogJ3VybCcsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIHRoaXMuX3VybDsKICAgIH0KICB9XSk7CgogIHJldHVybiBBZGRyZXNzQWxsb2NhdGlvbjsKfSgpOwoKZXhwb3J0cy5kZWZhdWx0ID0gQWRkcmVzc0FsbG9jYXRpb247Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV0sMTkzOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7Cgp2YXIgX1JlZ2lzdHJ5RGF0YU1vZGVsMiA9IHJlcXVpcmUoJy4vUmVnaXN0cnlEYXRhTW9kZWwnKTsKCnZhciBfUmVnaXN0cnlEYXRhTW9kZWwzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVnaXN0cnlEYXRhTW9kZWwyKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikgPyBjYWxsIDogc2VsZjsgfQoKZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0KCi8qKgoqICAgQGF1dGhvcjogR2lsIERpYXMgKGdpbC5kaWFzQHRlY25pY28udWxpc2JvYS5wdCkKKiAgIEh5cGVydHlJbnN0YW5jZSBEYXRhIE1vZGVsIHVzZWQgdG8gbW9kZWwgaW5zdGFuY2VzIG9mIEh5cGVydGllcyBydW5uaW5nIGluIGRldmljZXMgYW5kIHNlcnZlcnMuCiovCgp2YXIgSHlwZXJ0eUluc3RhbmNlID0gZnVuY3Rpb24gKF9SZWdpc3RyeURhdGFNb2RlbCkgewogIF9pbmhlcml0cyhIeXBlcnR5SW5zdGFuY2UsIF9SZWdpc3RyeURhdGFNb2RlbCk7CgogIGZ1bmN0aW9uIEh5cGVydHlJbnN0YW5jZShpZCwgdXJsLCBkZXNjcmlwdG9yLCBoeXBlcnR5VVJMLCB1c2VyLCBndWlkLCBydW50aW1lLCBjb250ZXh0KSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSHlwZXJ0eUluc3RhbmNlKTsKCiAgICB2YXIgX3RoaXMyID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgT2JqZWN0LmdldFByb3RvdHlwZU9mKEh5cGVydHlJbnN0YW5jZSkuY2FsbCh0aGlzLCBpZCwgdXJsLCBkZXNjcmlwdG9yKSk7CgogICAgdmFyIF90aGlzID0gX3RoaXMyOwogICAgX3RoaXMuX2h5cGVydHlVUkwgPSBoeXBlcnR5VVJMOwogICAgX3RoaXMuX3VzZXIgPSB1c2VyOwogICAgX3RoaXMuX2d1aWQgPSBndWlkOwogICAgX3RoaXMuX3J1bnRpbWUgPSBydW50aW1lOwogICAgX3RoaXMuX2NvbnRleHQgPSBjb250ZXh0OwogICAgcmV0dXJuIF90aGlzMjsKICB9CgogIF9jcmVhdGVDbGFzcyhIeXBlcnR5SW5zdGFuY2UsIFt7CiAgICBrZXk6ICd1c2VyJywKICAgIHNldDogZnVuY3Rpb24gc2V0KGlkZW50aXR5KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF90aGlzLnVzZXIgPSBpZGVudGl0eTsKICAgIH0sCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIF90aGlzLl91c2VyOwogICAgfQogIH0sIHsKICAgIGtleTogJ2h5cGVydHlVUkwnLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBfdGhpcy5faHlwZXJ0eVVSTDsKICAgIH0KICB9XSk7CgogIHJldHVybiBIeXBlcnR5SW5zdGFuY2U7Cn0oX1JlZ2lzdHJ5RGF0YU1vZGVsMy5kZWZhdWx0KTsKCmV4cG9ydHMuZGVmYXVsdCA9IEh5cGVydHlJbnN0YW5jZTsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHsiLi9SZWdpc3RyeURhdGFNb2RlbCI6MTk1fV0sMTk0OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7Cgp2YXIgX0V2ZW50RW1pdHRlcjIgPSByZXF1aXJlKCcuLi91dGlscy9FdmVudEVtaXR0ZXInKTsKCnZhciBfRXZlbnRFbWl0dGVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0V2ZW50RW1pdHRlcjIpOwoKdmFyIF9BZGRyZXNzQWxsb2NhdGlvbiA9IHJlcXVpcmUoJy4vQWRkcmVzc0FsbG9jYXRpb24nKTsKCnZhciBfQWRkcmVzc0FsbG9jYXRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfQWRkcmVzc0FsbG9jYXRpb24pOwoKdmFyIF9IeXBlcnR5SW5zdGFuY2UgPSByZXF1aXJlKCcuL0h5cGVydHlJbnN0YW5jZScpOwoKdmFyIF9IeXBlcnR5SW5zdGFuY2UyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfSHlwZXJ0eUluc3RhbmNlKTsKCnZhciBfc2VydmljZUZyYW1ld29yayA9IHJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrJyk7Cgp2YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvdXRpbHMuanMnKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSAib2JqZWN0IiB8fCB0eXBlb2YgY2FsbCA9PT0gImZ1bmN0aW9uIikgPyBjYWxsIDogc2VsZjsgfQoKZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gImZ1bmN0aW9uIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH0KCi8qKgoqIFJ1bnRpbWUgUmVnaXN0cnkgSW50ZXJmYWNlCiovCgp2YXIgUmVnaXN0cnkgPSBmdW5jdGlvbiAoX0V2ZW50RW1pdHRlcikgewogIF9pbmhlcml0cyhSZWdpc3RyeSwgX0V2ZW50RW1pdHRlcik7CgogIC8qKgogICogVG8gaW5pdGlhbGlzZSB0aGUgUnVudGltZSBSZWdpc3RyeSB3aXRoIHRoZSBSdW50aW1lVVJMIHRoYXQgd2lsbCBiZSB0aGUgYmFzaXMgdG8gZGVyaXZlIHRoZSBpbnRlcm5hbCBydW50aW1lIGFkZHJlc3NlcyB3aGVuIGFsbG9jYXRpbmcgYWRkcmVzc2VzIHRvIGludGVybmFsIHJ1bnRpbWUgY29tcG9uZW50LiBJbiBhZGRpdGlvbiwgdGhlIFJlZ2lzdHJ5IGRvbWFpbiBiYWNrLWVuZCB0byBiZSB1c2VkIHRvIHJlbW90ZWx5IHJlZ2lzdGVyIFJ1bnRpbWUgY29tcG9uZW50cywgaXMgYWxzbyBwYXNzZWQgYXMgaW5wdXQgcGFyYW1ldGVyLgogICogQHBhcmFtICB7TWVzc2FnZUJ1c30gICAgICAgICAgbXNnYnVzICAgICAgICAgICAgICAgIG1zZ2J1cwogICogQHBhcmFtICB7SHlwZXJ0eVJ1bnRpbWVVUkx9ICAgcnVudGltZVVSTCAgICAgICAgICAgIHJ1bnRpbWVVUkwKICAqIEBwYXJhbSAge0FwcFNhbmRib3h9ICAgICAgICAgIGFwcFNhbmRib3ggICAgICAgICAgICBhcHBTYW5kYm94CiAgKiBAcGFyYW0gIHtEb21haW5VUkx9ICAgICAgICAgICByZW1vdGVSZWdpc3RyeSAgICAgICAgcmVtb3RlUmVnaXN0cnkKICAqLwoKICBmdW5jdGlvbiBSZWdpc3RyeShydW50aW1lVVJMLCBhcHBTYW5kYm94LCBpZGVudGl0eU1vZHVsZSwgcmVtb3RlUmVnaXN0cnkpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZWdpc3RyeSk7CgogICAgLy8gaG93IHNvbWUgZnVuY3Rpb25zIHJlY2VpdmUgdGhlIHBhcmFtZXRlcnMgZm9yIGV4YW1wbGU6CiAgICAvLyBuZXcgUmVnaXN0cnkoJ2h5cGVydHktcnVudGltZTovL3NwMS8xMjMnLCBhcHBTYW5kYm94LCBpZE1vZHVsZSwgcmVtb3RlUmVnaXN0cnkpOwogICAgLy8gcmVnaXN0cnkucmVnaXN0ZXJTdHViKHNhbmRib3gsICdzcDEnKTsKICAgIC8vIHJlZ2lzdHJ5LnJlZ2lzdGVySHlwZXJ0eShzYW5kQm94LCAnaHlwZXJ0eS1ydW50aW1lOi8vc3AxLzEyMycpOwogICAgLy8gcmVnaXN0cnkucmVzb2x2ZSgnaHlwZXJ0eS1ydW50aW1lOi8vc3AxLzEyMycpOwoKICAgIHZhciBfdGhpczIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmVnaXN0cnkpLmNhbGwodGhpcykpOwoKICAgIGlmICghcnVudGltZVVSTCkgdGhyb3cgbmV3IEVycm9yKCdydW50aW1lVVJMIGlzIG1pc3NpbmcuJyk7CiAgICAvKmlmICghcmVtb3RlUmVnaXN0cnkpIHRocm93IG5ldyBFcnJvcigncmVtb3RlUmVnaXN0cnkgaXMgbWlzc2luZycpOyovCgogICAgdmFyIF90aGlzID0gX3RoaXMyOwoKICAgIF90aGlzLnJlZ2lzdHJ5VVJMID0gcnVudGltZVVSTCArICcvcmVnaXN0cnkvMTIzJzsKICAgIF90aGlzLmFwcFNhbmRib3ggPSBhcHBTYW5kYm94OwogICAgX3RoaXMucnVudGltZVVSTCA9IHJ1bnRpbWVVUkw7CiAgICBfdGhpcy5yZW1vdGVSZWdpc3RyeSA9IHJlbW90ZVJlZ2lzdHJ5OwogICAgX3RoaXMuaWRNb2R1bGUgPSBpZGVudGl0eU1vZHVsZTsKICAgIF90aGlzLmlkZW50aWZpZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCArIDEpOwoKICAgIF90aGlzLmh5cGVydGllc0xpc3RUb1JlbW92ZSA9IHt9OwogICAgX3RoaXMuaHlwZXJ0aWVzTGlzdCA9IFtdOwogICAgX3RoaXMucHJvdG9zdHVic0xpc3QgPSB7fTsKICAgIF90aGlzLnNhbmRib3hlc0xpc3QgPSB7IHNhbmRib3g6IHt9LCBhcHBTYW5kYm94OiB7fSB9OwogICAgX3RoaXMucGVwTGlzdCA9IHt9OwoKICAgIF90aGlzLl9kb21haW4gPSAoMCwgX3V0aWxzLmRpdmlkZVVSTCkoX3RoaXMucmVnaXN0cnlVUkwpLmRvbWFpbjsKICAgIF90aGlzLnNhbmRib3hlc0xpc3QuYXBwU2FuZGJveFtydW50aW1lVVJMXSA9IGFwcFNhbmRib3g7CiAgICB2YXIgbXNnRmFjdG9yeSA9IG5ldyBfc2VydmljZUZyYW1ld29yay5NZXNzYWdlRmFjdG9yeSgnZmFsc2UnLCAne30nKTsKICAgIF90aGlzLm1lc3NhZ2VGYWN0b3J5ID0gbXNnRmFjdG9yeTsKICAgIHJldHVybiBfdGhpczI7CiAgfQoKICAvKioKICAqIHJldHVybiB0aGUgbWVzc2FnZUJ1cyBpbiB0aGlzIFJlZ2lzdHJ5CiAgKiBAcGFyYW0ge01lc3NhZ2VCdXN9ICAgICAgICAgICBtZXNzYWdlQnVzCiAgKi8KCgogIF9jcmVhdGVDbGFzcyhSZWdpc3RyeSwgW3sKICAgIGtleTogJ2dldEFwcFNhbmRib3gnLAoKCiAgICAvKioKICAgICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIHJldHVybiB0aGUgc2FuZGJveCBpbnN0YW5jZSB3aGVyZSB0aGUgQXBwbGljYXRpb24gaXMgZXhlY3V0aW5nLiBJdCBpcyBhc3N1bWVkIHRoZXJlIGlzIGp1c3Qgb25lIEFwcCBwZXIgUnVudGltZSBpbnN0YW5jZS4KICAgICovCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QXBwU2FuZGJveCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIF90aGlzLmFwcFNhbmRib3g7CiAgICB9CgogICAgLyoqCiAgICAqIEZ1bmN0aW9uIHRvIHF1ZXJ5IHRoZSBEb21haW4gcmVnaXN0cnksIHdpdGggYW4gdXNlciBlbWFpbC4KICAgICovCgogIH0sIHsKICAgIGtleTogJ2dldFVzZXJIeXBlcnR5JywKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRVc2VySHlwZXJ0eShpZGVudGlmaWVyKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBpZGVudGl0eVVSTCA9IHZvaWQgMDsKICAgICAgdmFyIGVtYWlsID0gdm9pZCAwOwogICAgICBpZiAoaWRlbnRpZmllci5pbmRleE9mKCdAJykgPiAtMSkgewogICAgICAgIGlkZW50aXR5VVJMID0gJ3VzZXI6Ly8nICsgaWRlbnRpZmllci5zdWJzdHJpbmcoaWRlbnRpZmllci5pbmRleE9mKCdAJykgKyAxLCBpZGVudGlmaWVyLmxlbmd0aCkgKyAnLycgKyBpZGVudGlmaWVyLnN1YnN0cmluZygwLCBpZGVudGlmaWVyLmluZGV4T2YoJ0AnKSk7CiAgICAgICAgZW1haWwgPSBpZGVudGlmaWVyOwogICAgICB9IGVsc2UgewogICAgICAgIGlkZW50aXR5VVJMID0gaWRlbnRpZmllcjsKICAgICAgICBlbWFpbCA9ICgwLCBfdXRpbHMuZ2V0VXNlckVtYWlsRnJvbVVSTCkoaWRlbnRpZmllcik7CiAgICAgIH0KICAgICAgdmFyIG1zZyA9IHsKICAgICAgICB0eXBlOiAnUkVBRCcsIGZyb206IF90aGlzLnJlZ2lzdHJ5VVJMLCB0bzogJ2RvbWFpbjovL3JlZ2lzdHJ5LicgKyBfdGhpcy5fZG9tYWluICsgJy8nLCBib2R5OiB7IHJlc291cmNlOiBpZGVudGl0eVVSTCB9CiAgICAgIH07CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgICAgICBfdGhpcy5fbWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtc2csIGZ1bmN0aW9uIChyZXBseSkgewogICAgICAgICAgLy9jb25zb2xlLmxvZygnTUVTU0FHRScsIHJlcGx5KTsKCiAgICAgICAgICB2YXIgaHlwZXJ0eSA9IHZvaWQgMDsKICAgICAgICAgIHZhciBtb3N0UmVjZW50ID0gdm9pZCAwOwogICAgICAgICAgdmFyIGxhc3RIeXBlcnR5ID0gdm9pZCAwOwogICAgICAgICAgdmFyIHZhbHVlID0gcmVwbHkuYm9keS52YWx1ZTsKICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXBseScsIHZhbHVlKTsKICAgICAgICAgIGZvciAoaHlwZXJ0eSBpbiB2YWx1ZSkgewogICAgICAgICAgICBpZiAodmFsdWVbaHlwZXJ0eV0ubGFzdE1vZGlmaWVkICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICBpZiAobW9zdFJlY2VudCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgICBtb3N0UmVjZW50ID0gbmV3IERhdGUodmFsdWVbaHlwZXJ0eV0ubGFzdE1vZGlmaWVkKTsKICAgICAgICAgICAgICAgIGxhc3RIeXBlcnR5ID0gaHlwZXJ0eTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdmFyIGh5cGVydHlEYXRlID0gbmV3IERhdGUodmFsdWVbaHlwZXJ0eV0ubGFzdE1vZGlmaWVkKTsKICAgICAgICAgICAgICAgIGlmIChtb3N0UmVjZW50LmdldFRpbWUoKSA8IGh5cGVydHlEYXRlLmdldFRpbWUoKSkgewogICAgICAgICAgICAgICAgICBtb3N0UmVjZW50ID0gaHlwZXJ0eURhdGU7CiAgICAgICAgICAgICAgICAgIGxhc3RIeXBlcnR5ID0gaHlwZXJ0eTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIHZhciBoeXBlcnR5VVJMID0gbGFzdEh5cGVydHk7CgogICAgICAgICAgaWYgKGh5cGVydHlVUkwgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByZXR1cm4gcmVqZWN0KCdVc2VyIEh5cGVydHkgbm90IGZvdW5kJyk7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGlkUGFja2FnZSA9IHsKICAgICAgICAgICAgaWQ6IGVtYWlsLAogICAgICAgICAgICBkZXNjcmlwdG9yOiB2YWx1ZVtoeXBlcnR5VVJMXS5kZXNjcmlwdG9yLAogICAgICAgICAgICBoeXBlcnR5VVJMOiBoeXBlcnR5VVJMCiAgICAgICAgICB9OwoKICAgICAgICAgIGNvbnNvbGUubG9nKCc9PT0+IFJlZ2lzdGVySHlwZXJ0eSBtZXNzYWdlQnVuZGxlOiAnLCBpZFBhY2thZ2UpOwogICAgICAgICAgcmVzb2x2ZShpZFBhY2thZ2UpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICogIGZ1bmN0aW9uIHRvIGRlbGV0ZSBhbiBoeXBlcnR5SW5zdGFuY2UgaW4gdGhlIERvbWFpbiBSZWdpc3RyeQogICAgKi8KCiAgfSwgewogICAga2V5OiAnZGVsZXRlSHlwZXJ0eUluc3RhbmNlJywKICAgIHZhbHVlOiBmdW5jdGlvbiBkZWxldGVIeXBlcnR5SW5zdGFuY2UodXNlciwgaHlwZXJ0eUluc3RhbmNlKSB7CiAgICAgIC8vVE9ETyB3b3JraW5nIGJ1dCB0aGUgdXNlcgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG1lc3NhZ2UgPSB7IHR5cGU6ICdERUxFVEUnLCBmcm9tOiBfdGhpcy5yZWdpc3RyeVVSTCwKICAgICAgICB0bzogJ2RvbWFpbjovL3JlZ2lzdHJ5LicgKyBfdGhpcy5fZG9tYWluICsgJy8nLAogICAgICAgIGJvZHk6IHsgdmFsdWU6IHsgdXNlcjogdXNlciwgaHlwZXJ0eVVSTDogaHlwZXJ0eUluc3RhbmNlIH0gfSB9OwoKICAgICAgX3RoaXMuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobWVzc2FnZSwgZnVuY3Rpb24gKHJlcGx5KSB7CiAgICAgICAgY29uc29sZS5sb2coJ2RlbGV0ZSBoeXBlcnR5IFJlcGx5JywgcmVwbHkpOwogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICogRnVuY3Rpb24gdG8gdXBkYXRlIGFuIEh5cGVydHkKICAgICovCgogIH0sIHsKICAgIGtleTogJ3VwZGF0ZUh5cGVydHlJbnN0YW5jZScsCiAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlSHlwZXJ0eUluc3RhbmNlKHJlc291cmNlLCB2YWx1ZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG1lc3NhZ2UgPSB7IHR5cGU6ICdVUERBVEUnLCBmcm9tOiBfdGhpcy5yZWdpc3RyeVVSTCwKICAgICAgICB0bzogJ2RvbWFpbjovL3JlZ2lzdHJ5LicgKyBfdGhpcy5fZG9tYWluICsgJy8nLAogICAgICAgIGJvZHk6IHsgcmVzb3VyY2U6IHJlc291cmNlLCB2YWx1ZTogdmFsdWUgfSB9OwoKICAgICAgX3RoaXMuX21lc3NhZ2VCdXMucG9zdC5wb3N0TWVzc2FnZShtZXNzYWdlLCBmdW5jdGlvbiAocmVwbHkpIHsKICAgICAgICBjb25zb2xlLmxvZygnVXBkYXRlZCBoeXBlcnR5IHJlcGx5JywgcmVwbHkpOwogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICogVG8gcmVnaXN0ZXIgYSBuZXcgSHlwZXJ0eSBpbiB0aGUgcnVudGltZSB3aGljaCByZXR1cm5zIHRoZSBIeXBlcnR5VVJMIGFsbG9jYXRlZCB0byB0aGUgbmV3IEh5cGVydHkuCiAgICAqIEBwYXJhbSAge1NhbmRib3h9ICAgICAgICAgICAgIHNhbmRib3ggICAgICAgICAgICAgICBzYW5kYm94CiAgICAqIEBwYXJhbSAge0h5cGVydHlDYXRhbG9ndWVVUkx9IEh5cGVydHlDYXRhbG9ndWVVUkwgICBkZXNjcmlwdG9yCiAgICAqIEByZXR1cm4ge0h5cGVydHlVUkx9ICAgICAgICAgIEh5cGVydHlVUkwKICAgICovCgogIH0sIHsKICAgIGtleTogJ3JlZ2lzdGVySHlwZXJ0eScsCiAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXJIeXBlcnR5KHNhbmRib3gsIGRlc2NyaXB0b3IpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vYXNzdW1pbmcgZGVzY3JpcHRvciBjb21lIGluIHRoaXMgZm9ybWF0LCB0aGUgc2VydmljZS1wcm92aWRlci1kb21haW4gdXJsIGlzIHJldHJpZXZlZCBieSBhIHNwbGl0IGluc3RydWN0aW9uCiAgICAgIC8vaHlwZXJ0eS1jYXRhbG9ndWU6Ly88c2VydmljZS1wcm92aWRlci1kb21haW4+LzxjYXRhbG9ndWUtb2JqZWN0LWlkZW50aWZpZXI+CiAgICAgIHZhciBkb21haW5VcmwgPSAoMCwgX3V0aWxzLmRpdmlkZVVSTCkoZGVzY3JpcHRvcikuZG9tYWluOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgX3RoaXMuaWRNb2R1bGUubG9naW5XaXRoUlAoJ2dvb2dsZScsICdtZScpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgICAgdmFyIGVtYWlsID0gcmVzdWx0LmVtYWlsOwogICAgICAgICAgdmFyIGlkZW50aXR5VVJMID0gJ3VzZXI6Ly8nICsgZW1haWwuc3Vic3RyaW5nKGVtYWlsLmluZGV4T2YoJ0AnKSArIDEsIGVtYWlsLmxlbmd0aCkgKyAnLycgKyBlbWFpbC5zdWJzdHJpbmcoMCwgZW1haWwuaW5kZXhPZignQCcpKTsKCiAgICAgICAgICBpZiAoX3RoaXMuX21lc3NhZ2VCdXMgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByZWplY3QoJ01lc3NhZ2VCdXMgbm90IGZvdW5kIG9uIHJlZ2lzdGVyU3R1YicpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy9jYWxsIGNoZWNrIGlmIHRoZSBwcm90b3N0dWIgZXhpc3QKICAgICAgICAgICAgX3RoaXMucmVzb2x2ZSgnaHlwZXJ0eS1ydW50aW1lOi8vJyArIGRvbWFpblVybCkudGhlbihmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICAgIF90aGlzLnJlZ2lzdHJ5RG9tYWluID0gZG9tYWluVXJsOwoKICAgICAgICAgICAgICAvLyBUT0RPOiBzaG91bGQgYmUgaW1wbGVtZW50ZWQgd2l0aCBhZGRyZXNzZXMgcG9sbAogICAgICAgICAgICAgIC8vIEluIHRoaXMgY2FzZSB3ZSB3aWxsIHJlcXVlc3QgYW5kIHJldHVybiBvbmx5IG9uZQogICAgICAgICAgICAgIC8vIGFkZHJlc3MKICAgICAgICAgICAgICB2YXIgbnVtYmVyT2ZBZGRyZXNzZXMgPSAxOwogICAgICAgICAgICAgIF90aGlzLmFkZHJlc3NBbGxvY2F0aW9uLmNyZWF0ZShkb21haW5VcmwsIG51bWJlck9mQWRkcmVzc2VzKS50aGVuKGZ1bmN0aW9uIChhZGRlcmVzc0xpc3QpIHsKCiAgICAgICAgICAgICAgICBhZGRlcmVzc0xpc3QuZm9yRWFjaChmdW5jdGlvbiAoYWRkcmVzcykgewoKICAgICAgICAgICAgICAgICAgX3RoaXMuX21lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoYWRkcmVzcyArICcvc3RhdHVzJywgZnVuY3Rpb24gKG1zZykgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNZXNzYWdlIGFkZExpc3RlbmVyIGZvciA6ICcsIGFkZHJlc3MgKyAnL3N0YXR1cyAtPiAnICsgbXNnKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICB2YXIgaHlwZXJ0eSA9IG5ldyBfSHlwZXJ0eUluc3RhbmNlMi5kZWZhdWx0KF90aGlzLmlkZW50aWZpZXIsIF90aGlzLnJlZ2lzdHJ5VVJMLCBkZXNjcmlwdG9yLCBhZGRlcmVzc0xpc3RbMF0sIGlkZW50aXR5VVJMKTsKCiAgICAgICAgICAgICAgICBfdGhpcy5oeXBlcnRpZXNMaXN0LnB1c2goaHlwZXJ0eSk7CgogICAgICAgICAgICAgICAgLy9jaGVjayB3aGV0aGVyIHRoZSByZWNlaXZlZCBzYW5ib3ggZSBBcHBsaWNhdGlvblNhbmRib3ggb3IgYSBub3JtYWwgc2FuZGJveAogICAgICAgICAgICAgICAgaWYgKHNhbmRib3gudHlwZSA9PT0gJ2FwcCcpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuc2FuZGJveGVzTGlzdC5hcHBTYW5kYm94W2FkZGVyZXNzTGlzdFswXV0gPSBzYW5kYm94OwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzYW5kYm94LnR5cGUgPT09ICdub3JtYWwnKSB7CgogICAgICAgICAgICAgICAgICBfdGhpcy5zYW5kYm94ZXNMaXN0LnNhbmRib3hbYWRkZXJlc3NMaXN0WzBdXSA9IHNhbmRib3g7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICByZWplY3QoJ1dyb25nIFNhbmRib3hUeXBlJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy9tZXNzYWdlIHRvIHJlZ2lzdGVyIHRoZSBuZXcgaHlwZXJ0eSwgd2l0aGluIHRoZSBkb21haW4gcmVnaXN0cnkKICAgICAgICAgICAgICAgIC8vIHRoZSBleHBpcmVzIGluIDIxNjAwcywgcmVwcmVzZW50cyA2IGhvdXJzCiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZVZhbHVlID0geyB1c2VyOiBpZGVudGl0eVVSTCwgaHlwZXJ0eURlc2NyaXB0b3JVUkw6IGRlc2NyaXB0b3IsIGh5cGVydHlVUkw6IGFkZGVyZXNzTGlzdFswXSwgZXhwaXJlczogMjE2MDAgfTsKCiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IF90aGlzLm1lc3NhZ2VGYWN0b3J5LmNyZWF0ZUNyZWF0ZU1lc3NhZ2VSZXF1ZXN0KF90aGlzLnJlZ2lzdHJ5VVJMLCAnZG9tYWluOi8vcmVnaXN0cnkuJyArIF90aGlzLnJlZ2lzdHJ5RG9tYWluICsgJy8nLCBtZXNzYWdlVmFsdWUsICdwb2xpY3knKTsKCiAgICAgICAgICAgICAgICAvL1RPRE8gc21hbGwgZml4LCBiZWNhdXNlIHRoZSBjb25uZWN0b3IgZG8gbm90IHlldCBhY2NlcHQgbG93ZXIgY2FzZQogICAgICAgICAgICAgICAgbWVzc2FnZS50eXBlID0gJ0NSRUFURSc7CgogICAgICAgICAgICAgICAgX3RoaXMuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobWVzc2FnZSwgZnVuY3Rpb24gKHJlcGx5KSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCc9PT0+IFJlZ2lzdGVySHlwZXJ0eSBSZXBseTogJywgcmVwbHkpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgcmVzb2x2ZShhZGRlcmVzc0xpc3RbMF0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0FkZHJlc3MgUmVhc29uOiAnLCByZWFzb24pOwogICAgICAgICAgICAgIHJlamVjdChyZWFzb24pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICByZWplY3QoJ0ZhaWxlZCB0byBvYnRhaW4gYW4gaWRlbnRpdHknKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogICAgLyoqCiAgICAqIFRvIHVucmVnaXN0ZXIgYSBwcmV2aW91c2x5IHJlZ2lzdGVyZWQgSHlwZXJ0eQogICAgKiBAcGFyYW0gIHtIeXBlcnR5VVJMfSAgICAgICAgICBIeXBlcnR5VVJMIHVybCAgICAgICAgdXJsCiAgICAqLwoKICB9LCB7CiAgICBrZXk6ICd1bnJlZ2lzdGVySHlwZXJ0eScsCiAgICB2YWx1ZTogZnVuY3Rpb24gdW5yZWdpc3Rlckh5cGVydHkodXJsKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTsKICAgICAgICB2YXIgaW5kZXggPSAwOwoKICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBfdGhpcy5oeXBlcnRpZXNMaXN0Lmxlbmd0aDsgaW5kZXgrKykgewogICAgICAgICAgdmFyIGh5cGVydHkgPSBfdGhpcy5oeXBlcnRpZXNMaXN0W2luZGV4XTsKICAgICAgICAgIGlmIChoeXBlcnR5ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgaWYgKGh5cGVydHkuaHlwZXJ0eVVSTCA9PT0gdXJsKSB7CiAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAoZm91bmQgPT09IGZhbHNlKSB7CiAgICAgICAgICByZWplY3QoJ0h5cGVydHkgbm90IGZvdW5kJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRlbGV0ZSBfdGhpcy5oeXBlcnRpZXNMaXN0W2luZGV4XTsKICAgICAgICAgIHJlc29sdmUoJ0h5cGVydHkgc3VjY2Vzc2Z1bGx5IGRlbGV0ZWQnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgKiBUbyBkaXNjb3ZlciBwcm90b2NvbCBzdHVicyBhdmFpbGFibGUgaW4gdGhlIHJ1bnRpbWUgZm9yIGEgY2VydGFpbiBkb21haW4uIElmIGF2YWlsYWJsZSwgaXQgcmV0dXJucyB0aGUgcnVudGltZSB1cmwgZm9yIHRoZSBwcm90b2NvbCBzdHViIHRoYXQgY29ubmVjdHMgdG8gdGhlIHJlcXVlc3RlZCBkb21haW4uIFJlcXVpcmVkIGJ5IHRoZSBydW50aW1lIEJVUyB0byByb3V0ZSBtZXNzYWdlcyB0byByZW1vdGUgc2VydmVycyBvciBwZWVycyAoZG8gd2UgbmVlZCBzb21ldGhpbmcgc2ltaWxhciBmb3IgSHlwZXJ0aWVzPykuCiAgICAqIEBwYXJhbSAge0RvbWFpblVSTH0gICAgICAgICAgIERvbWFpblVSTCAgICAgICAgICAgIHVybAogICAgKiBAcmV0dXJuIHtSdW50aW1lVVJMfSAgICAgICAgICAgUnVudGltZVVSTAogICAgKi8KCiAgfSwgewogICAga2V5OiAnZGlzY292ZXJQcm90b3N0dWInLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2NvdmVyUHJvdG9zdHViKHVybCkgewogICAgICBpZiAoIXVybCkgdGhyb3cgbmV3IEVycm9yKCdQYXJhbWV0ZXIgdXJsIG5lZWRlZCcpOwogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgdmFyIHJlcXVlc3QgPSBfdGhpcy5wcm90b3N0dWJzTGlzdFt1cmxdOwoKICAgICAgICBpZiAocmVxdWVzdCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICByZWplY3QoJ3JlcXVlc3RVcGRhdGUgY291bGRuXCcgZ2V0IHRoZSBQcm90b3N0dWJVUkwnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVzb2x2ZShyZXF1ZXN0KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgICogVG8gcmVnaXN0ZXIgYSBuZXcgUHJvdG9jb2wgU3R1YiBpbiB0aGUgcnVudGltZSBpbmNsdWRpbmcgYXMgaW5wdXQgcGFyYW1ldGVycyB0aGUgZnVuY3Rpb24gdG8gcG9zdE1lc3NhZ2UsIHRoZSBEb21haW5VUkwgdGhhdCBpcyBjb25uZWN0ZWQgd2l0aCB0aGUgc3R1Yiwgd2hpY2ggcmV0dXJucyB0aGUgUnVudGltZVVSTCBhbGxvY2F0ZWQgdG8gdGhlIG5ldyBQcm90b2NvbFN0dWIuCiAgICAgKiBAcGFyYW0ge1NhbmRib3h9ICAgICAgICBTYW5kYm94CiAgICAgKiBAcGFyYW0gIHtEb21haW5VUkx9ICAgICBEb21haW5VUkwgc2VydmljZSBwcm92aWRlciBkb21haW4KICAgICAqIEByZXR1cm4ge1J1bnRpbWVQcm90b1N0dWJVUkx9CiAgICAgKi8KCiAgfSwgewogICAga2V5OiAncmVnaXN0ZXJTdHViJywKICAgIHZhbHVlOiBmdW5jdGlvbiByZWdpc3RlclN0dWIoc2FuZGJveCwgZG9tYWluVVJMKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBydW50aW1lUHJvdG9TdHViVVJMID0gdm9pZCAwOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgLy9jaGVjayBpZiBtZXNzYWdlQnVzIGlzIHJlZ2lzdGVyZWQgaW4gcmVnaXN0cnkgb3Igbm90CiAgICAgICAgaWYgKF90aGlzLl9tZXNzYWdlQnVzID09PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHJlamVjdCgnTWVzc2FnZUJ1cyBub3QgZm91bmQgb24gcmVnaXN0ZXJTdHViJyk7CiAgICAgICAgfQoKICAgICAgICAvL1RPRE8gaW1wbGVtZW50IGEgdW5pcXVlIG51bWJlciBmb3IgdGhlIHByb3Rvc3R1YlVSTAogICAgICAgIGlmICghZG9tYWluVVJMLmluZGV4T2YoJ21zZy1ub2RlLicpKSB7CiAgICAgICAgICBkb21haW5VUkwgPSBkb21haW5VUkwuc3Vic3RyaW5nKGRvbWFpblVSTC5pbmRleE9mKCcuJykgKyAxKTsKICAgICAgICB9CgogICAgICAgIHJ1bnRpbWVQcm90b1N0dWJVUkwgPSAnbXNnLW5vZGUuJyArIGRvbWFpblVSTCArICcvcHJvdG9zdHViLycgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCArIDEpOwoKICAgICAgICAvLyBUT0RPOiBPcHRpbWl6ZSB0aGlzCiAgICAgICAgX3RoaXMucHJvdG9zdHVic0xpc3RbZG9tYWluVVJMXSA9IHJ1bnRpbWVQcm90b1N0dWJVUkw7CiAgICAgICAgX3RoaXMuc2FuZGJveGVzTGlzdC5zYW5kYm94W3J1bnRpbWVQcm90b1N0dWJVUkxdID0gc2FuZGJveDsKCiAgICAgICAgLy8gc2FuZGJveC5hZGRMaXN0ZW5lcignKicsIGZ1bmN0aW9uKG1zZykgewogICAgICAgIC8vICAgX3RoaXMuX21lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobXNnKTsKICAgICAgICAvLyB9KTsKCiAgICAgICAgcmVzb2x2ZShydW50aW1lUHJvdG9TdHViVVJMKTsKCiAgICAgICAgX3RoaXMuX21lc3NhZ2VCdXMuYWRkTGlzdGVuZXIocnVudGltZVByb3RvU3R1YlVSTCArICcvc3RhdHVzJywgZnVuY3Rpb24gKG1zZykgewogICAgICAgICAgaWYgKG1zZy5yZXNvdXJjZSA9PT0gbXNnLnRvICsgJy9zdGF0dXMnKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSdW50aW1lUHJvdG9zdHViVVJML3N0YXR1cyBtZXNzYWdlOiAnLCBtc2cuYm9keS52YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgKiBUbyB1bnJlZ2lzdGVyIGEgcHJldmlvdXNseSByZWdpc3RlcmVkIHByb3RvY29sIHN0dWIKICAgICogQHBhcmFtICB7SHlwZXJ0eVJ1bnRpbWVVUkx9ICAgSHlwZXJ0eVJ1bnRpbWVVUkwgICAgIGh5cGVydHlSdW50aW1lVVJMCiAgICAqLwoKICB9LCB7CiAgICBrZXk6ICd1bnJlZ2lzdGVyU3R1YicsCiAgICB2YWx1ZTogZnVuY3Rpb24gdW5yZWdpc3RlclN0dWIoaHlwZXJ0eVJ1bnRpbWVVUkwpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIHJ1bnRpbWVQcm90b1N0dWJVUkwgPSB2b2lkIDA7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgICAgICB2YXIgZGF0YSA9IF90aGlzLnByb3Rvc3R1YnNMaXN0W2h5cGVydHlSdW50aW1lVVJMXTsKCiAgICAgICAgaWYgKGRhdGEgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgcmVqZWN0KCdFcnJvciBvbiB1bnJlZ2lzdGVyU3R1YjogSHlwZXJ0eSBub3QgZm91bmQnKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgZGVsZXRlIF90aGlzLnByb3Rvc3R1YnNMaXN0W2h5cGVydHlSdW50aW1lVVJMXTsKICAgICAgICAgIHJlc29sdmUoJ1Byb3Rvc3R1YlVSTCByZW1vdmVkJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICogVG8gcmVnaXN0ZXIgYSBuZXcgUG9saWN5IEVuZm9yY2VyIGluIHRoZSBydW50aW1lIGluY2x1ZGluZyBhcyBpbnB1dCBwYXJhbWV0ZXJzIHRoZSBmdW5jdGlvbiB0byBwb3N0TWVzc2FnZSwgdGhlIEh5cGVydHlVUkwgYXNzb2NpYXRlZCB3aXRoIHRoZSBQRVAsIHdoaWNoIHJldHVybnMgdGhlIFJ1bnRpbWVVUkwgYWxsb2NhdGVkIHRvIHRoZSBuZXcgUG9saWN5IEVuZm9yY2VyIGNvbXBvbmVudC4KICAgICogQHBhcmFtICB7TWVzc2FnZS5NZXNzYWdlfSBwb3N0TWVzc2FnZSBwb3N0TWVzc2FnZQogICAgKiBAcGFyYW0gIHtIeXBlcnR5VVJMfSAgICAgICAgICBIeXBlcnR5VVJMICAgICAgICAgICAgaHlwZXJ0eQogICAgKiBAcmV0dXJuIHtIeXBlcnR5UnVudGltZVVSTH0gICBIeXBlcnR5UnVudGltZVVSTAogICAgKi8KCiAgfSwgewogICAga2V5OiAncmVnaXN0ZXJQRVAnLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyUEVQKHBvc3RNZXNzYWdlLCBoeXBlcnR5KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIC8vVE9ETyBjaGVjayB3aGF0IHBhcmFtZXRlciBpbiB0aGUgcG9zdE1lc3NhZ2UgdGhlIHBlcCBpcy4KICAgICAgICBfdGhpcy5wZXBMaXN0W2h5cGVydHldID0gcG9zdE1lc3NhZ2U7CiAgICAgICAgcmVzb2x2ZSgnUEVQIHJlZ2lzdGVyZWQgd2l0aCBzdWNjZXNzJyk7CiAgICAgIH0pOwogICAgfQoKICAgIC8qKgogICAgKiBUbyB1bnJlZ2lzdGVyIGEgcHJldmlvdXNseSByZWdpc3RlcmVkIHByb3RvY29sIHN0dWIKICAgICogQHBhcmFtICB7SHlwZXJ0eVJ1bnRpbWVVUkx9ICAgSHlwZXJ0eVJ1bnRpbWVVUkwgICAgIEh5cGVydHlSdW50aW1lVVJMCiAgICAqLwoKICB9LCB7CiAgICBrZXk6ICd1bnJlZ2lzdGVyUEVQJywKICAgIHZhbHVlOiBmdW5jdGlvbiB1bnJlZ2lzdGVyUEVQKEh5cGVydHlSdW50aW1lVVJMKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgICAgICB2YXIgcmVzdWx0ID0gX3RoaXMucGVwTGlzdFtIeXBlcnR5UnVudGltZVVSTF07CgogICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgcmVqZWN0KCdQZXAgTm90IGZvdW5kLicpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXNvbHZlKCdQRVAgc3VjY2Vzc2Z1bGx5IHJlbW92ZWQuJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICogVG8gcmVjZWl2ZSBzdGF0dXMgZXZlbnRzIGZyb20gY29tcG9uZW50cyByZWdpc3RlcmVkIGluIHRoZSBSZWdpc3RyeS4KICAgICogQHBhcmFtICB7TWVzc2FnZS5NZXNzYWdlfSAgICAgTWVzc2FnZS5NZXNzYWdlICAgICAgIGV2ZW50CiAgICAqLwoKICB9LCB7CiAgICBrZXk6ICdvbkV2ZW50JywKICAgIHZhbHVlOiBmdW5jdGlvbiBvbkV2ZW50KGV2ZW50KSB7fQogICAgLy8gVE9ETyBib2R5Li4uCgoKICAgIC8qKgogICAgKiBUbyBkaXNjb3ZlciBzYW5kYm94ZXMgYXZhaWxhYmxlIGluIHRoZSBydW50aW1lIGZvciBhIGNlcnRhaW4gZG9tYWluLiBSZXF1aXJlZCBieSB0aGUgcnVudGltZSBVQSB0byBhdm9pZCBtb3JlIHRoYW4gb25lIHNhbmRib3ggZm9yIHRoZSBzYW1lIGRvbWFpbi4KICAgICogQHBhcmFtICB7RG9tYWluVVJMfSBEb21haW5VUkwgdXJsCiAgICAqIEByZXR1cm4ge1J1bnRpbWVTYW5kYm94fSAgICAgICAgICAgUnVudGltZVNhbmRib3gKICAgICovCgogIH0sIHsKICAgIGtleTogJ2dldFNhbmRib3gnLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNhbmRib3godXJsKSB7CiAgICAgIGlmICghdXJsKSB0aHJvdyBuZXcgRXJyb3IoJ1BhcmFtZXRlciB1cmwgbmVlZGVkJyk7CiAgICAgIGNvbnNvbGUubG9nKCdnZXRTYW5kYm94OiAnLCB1cmwpOwoKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgdmFyIHJlcXVlc3QgPSB2b2lkIDA7CgogICAgICAgIC8vZmlyc3QgdHJ5IHRvIGZpbmQgdGhlIHVybCBpbiB0aGUgYXBwU2FuZGJveCBsaXN0CiAgICAgICAgcmVxdWVzdCA9IF90aGlzLnNhbmRib3hlc0xpc3QuYXBwU2FuZGJveFt1cmxdOwoKICAgICAgICAvL2lmIG5vIGFwcFNhbmRib3ggd2FzIGZvdW5kLCB0cnkgdG8gc2VhcmNoIGluIHRoZSBub3JtYWwgc2FuZGJveGVzIGxpc3QKICAgICAgICBpZiAoIXJlcXVlc3QpIHsKICAgICAgICAgIHJlcXVlc3QgPSBfdGhpcy5zYW5kYm94ZXNMaXN0LnNhbmRib3hbdXJsXTsKCiAgICAgICAgICBpZiAoIXJlcXVlc3QpIHsKCiAgICAgICAgICAgIHZhciBkb21haW4gPSAoMCwgX3V0aWxzLmRpdmlkZVVSTCkodXJsKS5kb21haW47CgogICAgICAgICAgICAvLyBzZWFyY2ggaW4gdGhlIHNhbmRib3hlcyBsaXN0IGZvciBhIGVudHJ5IGNvbnRhaW5pbmcgdGhlIGRvbWFpbiBnaXZlbgogICAgICAgICAgICBmb3IgKHZhciBzYW5kYm94IGluIF90aGlzLnNhbmRib3hlc0xpc3Quc2FuZGJveCkgewogICAgICAgICAgICAgIGlmIChzYW5kYm94LmluY2x1ZGVzKGRvbWFpbikpIHsKICAgICAgICAgICAgICAgIHJlcXVlc3QgPSBfdGhpcy5zYW5kYm94ZXNMaXN0LnNhbmRib3hbc2FuZGJveF07CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmICghcmVxdWVzdCkgewogICAgICAgICAgcmVqZWN0KCdubyBzYW5kYm94IGZvdW5kIGZvcjogJyArIHVybCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJlc29sdmUocmVxdWVzdCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICogVG8gdmVyaWZ5IGlmIHNvdXJjZSBpcyB2YWxpZCBhbmQgdG8gcmVzb2x2ZSB0YXJnZXQgcnVudGltZSB1cmwgYWRkcmVzcyBpZiBuZWVkZWQgKGVnIHByb3Rvc3R1YiBydW50aW1lIHVybCBpbiBjYXNlIHRoZSBtZXNzYWdlIGlzIHRvIGJlIGRpc3BhdGNoZWQgdG8gYSByZW1vdGUgZW5kcG9pbnQpLgogICAgKiBAcGFyYW0gIHtVUkwuVVJMfSAgdXJsICAgICAgIHVybAogICAgKiBAcmV0dXJuIHtQcm9taXNlPFVSTC5VUkw+fSAgICAgICAgICAgICAgICAgUHJvbWlzZSA8VVJMLlVSTD4KICAgICovCgogIH0sIHsKICAgIGtleTogJ3Jlc29sdmUnLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlc29sdmUodXJsKSB7CiAgICAgIGNvbnNvbGUubG9nKCdyZXNvbHZlICcgKyB1cmwpOwogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgLy9zcGxpdCB0aGUgdXJsIHRvIGZpbmQgdGhlIGRvbWFpblVSTC4gZGVhbHMgd2l0aCB0aGUgdXJsIGZvciBleGFtcGxlIGFzOgogICAgICAvLyJoeXBlcnR5LXJ1bnRpbWU6Ly9zcDEvcHJvdG9zdHViLzEyMyIsCiAgICAgIHZhciBkb21haW5VcmwgPSAoMCwgX3V0aWxzLmRpdmlkZVVSTCkodXJsKS5kb21haW47CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgICAgICBpZiAoIWRvbWFpblVybC5pbmRleE9mKCdtc2ctbm9kZS4nKSB8fCAhZG9tYWluVXJsLmluZGV4T2YoJ3JlZ2lzdHJ5LicpKSB7CiAgICAgICAgICBkb21haW5VcmwgPSBkb21haW5Vcmwuc3Vic3RyaW5nKGRvbWFpblVybC5pbmRleE9mKCcuJykgKyAxKTsKICAgICAgICB9CgogICAgICAgIHZhciByZXF1ZXN0ID0gX3RoaXMucHJvdG9zdHVic0xpc3RbZG9tYWluVXJsXTsKCiAgICAgICAgX3RoaXMuYWRkRXZlbnRMaXN0ZW5lcigncnVudGltZTpzdHViTG9hZGVkJywgZnVuY3Rpb24gKGRvbWFpblVybCkgewogICAgICAgICAgcmVxdWVzdCA9IF90aGlzLnByb3Rvc3R1YnNMaXN0W2RvbWFpblVybF07CiAgICAgICAgICBjb25zb2xlLmluZm8oJ1Jlc29sdmVkOiAnLCByZXF1ZXN0KTsKICAgICAgICAgIHJlc29sdmUocmVxdWVzdCk7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChyZXF1ZXN0ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIGNvbnNvbGUuaW5mbygnUmVzb2x2ZWQ6ICcsIHJlcXVlc3QpOwogICAgICAgICAgcmVzb2x2ZShyZXF1ZXN0KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMudHJpZ2dlcigncnVudGltZTpsb2FkU3R1YicsIGRvbWFpblVybCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdtZXNzYWdlQnVzJywKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX3RoaXMuX21lc3NhZ2VCdXM7CiAgICB9CgogICAgLyoqCiAgICAqIFNldCB0aGUgbWVzc2FnZUJ1cyBpbiB0aGlzIFJlZ2lzdHJ5CiAgICAqIEBwYXJhbSB7TWVzc2FnZUJ1c30gICAgICAgICAgIG1lc3NhZ2VCdXMKICAgICovCiAgICAsCiAgICBzZXQ6IGZ1bmN0aW9uIHNldChtZXNzYWdlQnVzKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF90aGlzLl9tZXNzYWdlQnVzID0gbWVzc2FnZUJ1czsKCiAgICAgIC8vIGFsc28gc2V0IHVwIG1lc3NhZ2VCdXMgaW4gdGhlIElkZW50aXR5TW9kdWxlIGNvbXBvbmVudAogICAgICAvLyBUT0RPIHJlZGVmaW5lIGEgYmV0dGVyIHdheSB0byBhZGQgdGhlIG1lc3NhZ2VCdXMgaW4gdGhlIElkTW9kdWxlCiAgICAgIF90aGlzLmlkTW9kdWxlLm1lc3NhZ2VCdXMgPSBtZXNzYWdlQnVzOwoKICAgICAgLy8gSW5zdGFsbCBBZGRyZXNzQWxsb2NhdGlvbgogICAgICB2YXIgYWRkcmVzc0FsbG9jYXRpb24gPSBuZXcgX0FkZHJlc3NBbGxvY2F0aW9uMi5kZWZhdWx0KF90aGlzLnJlZ2lzdHJ5VVJMLCBtZXNzYWdlQnVzKTsKICAgICAgX3RoaXMuYWRkcmVzc0FsbG9jYXRpb24gPSBhZGRyZXNzQWxsb2NhdGlvbjsKICAgIH0KICB9XSk7CgogIHJldHVybiBSZWdpc3RyeTsKfShfRXZlbnRFbWl0dGVyMy5kZWZhdWx0KTsKCmV4cG9ydHMuZGVmYXVsdCA9IFJlZ2lzdHJ5Owptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0seyIuLi91dGlscy9FdmVudEVtaXR0ZXIiOjIwMiwiLi4vdXRpbHMvdXRpbHMuanMiOjIwMywiLi9BZGRyZXNzQWxsb2NhdGlvbiI6MTkyLCIuL0h5cGVydHlJbnN0YW5jZSI6MTkzLCJzZXJ2aWNlLWZyYW1ld29yayI6MTYwfV0sMTk1OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKInVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCi8qKgoqICAgQGF1dGhvcjogR2lsIERpYXMgKGdpbC5kaWFzQHRlY25pY28udWxpc2JvYS5wdCkKKiAgIFJlZ2lzdHJ5IERhdGEgTW9kZWwgaW5jbHVkZXMgYWxsIE9iamVjdHMgdG8gYmUgaGFuZGxlZCBieSB0aGUgUmVnaXN0cnkgZnVuY3Rpb25hbGl0eSBpbmNsdWRpbmcKKi8KCnZhciBSZWdpc3RyeURhdGFNb2RlbCA9IGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBSZWdpc3RyeURhdGFNb2RlbChpZCwgdXJsLCBkZXNjcmlwdG9yLCBzdGFydGluZ1RpbWUsIGxhc3RNb2RpZmllZCwgc3RhdHVzLCBzdHVicywgc3R1YnNDb25maWd1cmF0aW9uKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVnaXN0cnlEYXRhTW9kZWwpOwoKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgX3RoaXMuX2lkID0gaWQ7CiAgICBfdGhpcy5fdXJsID0gdXJsOwogICAgX3RoaXMuX2Rlc2NyaXB0b3IgPSBkZXNjcmlwdG9yOwogICAgX3RoaXMuX3N0YXJ0aW5nVGltZSA9IHN0YXJ0aW5nVGltZTsKICAgIF90aGlzLl9sYXN0TW9kaWZpZWQgPSBsYXN0TW9kaWZpZWQ7CiAgICBfdGhpcy5fc3RhdHVzID0gc3RhdHVzOwogICAgX3RoaXMuX3N0dWJzID0gc3R1YnM7CiAgICBfdGhpcy5fc3R1YnNDb25maWd1cmF0aW9uID0gc3R1YnNDb25maWd1cmF0aW9uOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFJlZ2lzdHJ5RGF0YU1vZGVsLCBbewogICAga2V5OiAiaWQiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBfdGhpcy5faWQ7CiAgICB9CiAgfSwgewogICAga2V5OiAidXJsIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX3RoaXMuX3VybDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJkZXNjcmlwdG9yIiwKICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX3RoaXMuX2Rlc2NyaXB0b3I7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gUmVnaXN0cnlEYXRhTW9kZWw7Cn0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IFJlZ2lzdHJ5RGF0YU1vZGVsOwptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0se31dLDE5NjpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOyAvLyBTZXJ2aWNlIEZyYW1ld29yayBkZXBlbmRlY2llcwoKCi8vTWFpbiBkZXBlbmRlY2llcwoKCnZhciBfUnVudGltZUNhdGFsb2d1ZSA9IHJlcXVpcmUoJ3NlcnZpY2UtZnJhbWV3b3JrL2Rpc3QvUnVudGltZUNhdGFsb2d1ZScpOwoKdmFyIF9SdW50aW1lQ2F0YWxvZ3VlMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1J1bnRpbWVDYXRhbG9ndWUpOwoKdmFyIF9SZWdpc3RyeSA9IHJlcXVpcmUoJy4uL3JlZ2lzdHJ5L1JlZ2lzdHJ5Jyk7Cgp2YXIgX1JlZ2lzdHJ5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1JlZ2lzdHJ5KTsKCnZhciBfSWRlbnRpdHlNb2R1bGUgPSByZXF1aXJlKCcuLi9pZGVudGl0eS9JZGVudGl0eU1vZHVsZScpOwoKdmFyIF9JZGVudGl0eU1vZHVsZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JZGVudGl0eU1vZHVsZSk7Cgp2YXIgX1BvbGljeUVuZ2luZSA9IHJlcXVpcmUoJy4uL3BvbGljeS9Qb2xpY3lFbmdpbmUnKTsKCnZhciBfUG9saWN5RW5naW5lMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1BvbGljeUVuZ2luZSk7Cgp2YXIgX01lc3NhZ2VCdXMgPSByZXF1aXJlKCcuLi9idXMvTWVzc2FnZUJ1cycpOwoKdmFyIF9NZXNzYWdlQnVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX01lc3NhZ2VCdXMpOwoKdmFyIF9HcmFwaENvbm5lY3RvciA9IHJlcXVpcmUoJy4uL2dyYXBoY29ubmVjdG9yL0dyYXBoQ29ubmVjdG9yJyk7Cgp2YXIgX0dyYXBoQ29ubmVjdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0dyYXBoQ29ubmVjdG9yKTsKCnZhciBfU3luY2hlck1hbmFnZXIgPSByZXF1aXJlKCcuLi9zeW5jaGVyL1N5bmNoZXJNYW5hZ2VyJyk7Cgp2YXIgX1N5bmNoZXJNYW5hZ2VyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N5bmNoZXJNYW5hZ2VyKTsKCnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy91dGlscycpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKLyoqCiAqIFJ1bnRpbWUgVXNlciBBZ2VudCBJbnRlcmZhY2Ugd2lsbCBwcm9jZXNzIGFsbCB0aGUgZGVwZW5kZWNpZXMgb2YgdGhlIGNvcmUgcnVudGltZTsKICogQGF1dGhvciBWaXRvciBTaWx2YSBbdml0b3ItdC1zaWx2YUB0ZWxlY29tLnB0XQogKiBAdmVyc2lvbiAwLjQuMAogKgogKiBAcHJvcGVydHkge3J1bnRpbWVGYWN0b3J5fSBydW50aW1lRmFjdG9yeSAtIFNwZWNpZmljIGltcGxlbWVudGF0aW9uIG9mIHNhbmRib3g7CiAqIEBwcm9wZXJ0eSB7UnVudGltZUNhdGFsb2d1ZX0gcnVudGltZUNhdGFsb2d1ZSAtIENhdGFsb2d1ZSBvZiBjb21wb25lbnRzIGNhbiBiZSBpbnN0YWxsZWQ7CiAqIEBwcm9wZXJ0eSB7cnVudGltZVVSTH0gcnVudGltZVVSTCAtIFRoaXMgaWRlbnRpZnkgdGhlIGNvcmUgcnVudGltZSwgc2hvdWxkIGJlIHVuaXF1ZTsKICogQHByb3BlcnR5IHtJZGVudGl0eU1vZHVsZX0gaWRlbnRpdHlNb2R1bGUgLSBJZGVudGl0eSBNb2R1bGU7CiAqIEBwcm9wZXJ0eSB7UG9saWN5RW5naW5lfSBwb2xpY3lFbmdpbmUgLSBQb2xpY3kgRW5naW5lIE1vZHVsZTsKICogQHByb3BlcnR5IHtSZWdpc3RyeX0gcmVnaXN0cnkgLSBSZWdpc3RyeSBNb2R1bGU7CiAqIEBwcm9wZXJ0eSB7TWVzc2FnZUJ1c30gbWVzc2FnZUJ1cyAtIE1lc3NhZ2UgQnVzIGlzIHVzZWQgbGlrZSBhIHJvdXRlciB0byByZWRpcmVjdCB0aGUgbWVzc2FnZXMgZnJvbSBvbmUgY29tcG9uZW50IHRvIG90aGVyKHMpCiAqIEBwcm9wZXJ0eSB7R3JhcGhDb25uZWN0b3J9IGdyYXBoQ29ubmVjdG9yIC0gR3JhcGggQ29ubmVjdG9yIGhhbmRsaW5nIEdVSUQgYW5kIGNvbnRhY3RzCiAqLwoKdmFyIFJ1bnRpbWVVQSA9IGZ1bmN0aW9uICgpIHsKCiAgLyoqCiAgICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIFJ1bnRpbWUgVXNlciBBZ2VudAogICAqIEBwYXJhbSB7cnVudGltZUZhY3Rvcnl9IHJ1bnRpbWVGYWN0b3J5IC0gU3BlY2lmaWMgaW1wbGVtZW50YXRpb24gZm9yIHRoZSBlbnZpcm9ubWVudCB3aGVyZSB0aGUgY29yZSBydW50aW1lIHdpbGwgcnVuOwogICAqIEBwYXJhbSB7ZG9tYWlufSBkb21haW5VUkwgLSBzcGVjaWZ5IHRoZSBkb21haW4gYmFzZSBmb3IgdGhlIHJ1bnRpbWU7CiAgICovCgogIGZ1bmN0aW9uIFJ1bnRpbWVVQShydW50aW1lRmFjdG9yeSwgZG9tYWluKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUnVudGltZVVBKTsKCiAgICBpZiAoIXJ1bnRpbWVGYWN0b3J5KSB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBzYW5kYm94IGZhY3RvcnkgaXMgYSBuZWVkZWQgcGFyYW1ldGVyJyk7CiAgICBpZiAoIWRvbWFpbikgdGhyb3cgbmV3IEVycm9yKCdZb3UgbmVlZCB0aGUgZG9tYWluIG9mIHJ1bnRpbWUnKTsKCiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIF90aGlzLnJ1bnRpbWVGYWN0b3J5ID0gcnVudGltZUZhY3Rvcnk7CiAgICBfdGhpcy5ydW50aW1lQ2F0YWxvZ3VlID0gbmV3IF9SdW50aW1lQ2F0YWxvZ3VlMi5kZWZhdWx0KHJ1bnRpbWVGYWN0b3J5KTsKCiAgICAvLyBUT0RPOiBwb3N0IGFuZCByZXR1cm4gcmVnaXN0cnkvaHlwZXJ0eVJ1bnRpbWVJbnN0YW5jZSB0byBhbmQgZnJvbSBCYWNrLWVuZCBTZXJ2aWNlCiAgICAvLyB0aGUgcmVzcG9uc2UgaXMgbGlrZTogcnVudGltZTovL3NwMS8xMjMKCiAgICB2YXIgcnVudGltZVVSTCA9ICdydW50aW1lOi8vJyArIGRvbWFpbiArICcvJyArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMDAwICsgMSk7CiAgICBfdGhpcy5ydW50aW1lVVJMID0gcnVudGltZVVSTDsKICAgIF90aGlzLmRvbWFpbiA9IGRvbWFpbjsKCiAgICAvLyBUT0RPOiBjaGVjayBpZiBydW50aW1lIGNhdGFsb2d1ZSBuZWVkIHRoZSBydW50aW1lVVJMOwogICAgX3RoaXMucnVudGltZUNhdGFsb2d1ZS5ydW50aW1lVVJMID0gcnVudGltZVVSTDsKCiAgICAvLyBJbnN0YW50aWF0ZSB0aGUgaWRlbnRpdHkgTW9kdWxlCiAgICBfdGhpcy5pZGVudGl0eU1vZHVsZSA9IG5ldyBfSWRlbnRpdHlNb2R1bGUyLmRlZmF1bHQoKTsKCiAgICAvLyBVc2UgdGhlIHNhbmRib3ggZmFjdG9yeSB0byBjcmVhdGUgYW4gQXBwU2FuZGJveDsKICAgIC8vIEluIHRoZSBmdXR1cmUgY2FuIGJlIGRlY2lkZWQgYnkgcG9saWN5RW5naW5lIGlmIHdlIG5lZWQKICAgIC8vIGNyZWF0ZSBhIEFwcFNhbmRib3ggb3Igbm90OwogICAgdmFyIGFwcFNhbmRib3ggPSBydW50aW1lRmFjdG9yeS5jcmVhdGVBcHBTYW5kYm94KCk7CgogICAgLy8gSW5zdGFudGlhdGUgdGhlIFJlZ2lzdHJ5IE1vZHVsZQogICAgX3RoaXMucmVnaXN0cnkgPSBuZXcgX1JlZ2lzdHJ5Mi5kZWZhdWx0KHJ1bnRpbWVVUkwsIGFwcFNhbmRib3gsIF90aGlzLmlkZW50aXR5TW9kdWxlKTsKCiAgICAvLyBJbnN0YW50aWF0ZSB0aGUgTWVzc2FnZSBCdXMKICAgIF90aGlzLm1lc3NhZ2VCdXMgPSBuZXcgX01lc3NhZ2VCdXMyLmRlZmF1bHQoX3RoaXMucmVnaXN0cnkpOwoKICAgIC8vIEluc3RhbnRpYXRlIHRoZSBQb2xpY3kgRW5naW5lCiAgICBfdGhpcy5wb2xpY3lFbmdpbmUgPSBuZXcgX1BvbGljeUVuZ2luZTIuZGVmYXVsdChfdGhpcy5tZXNzYWdlQnVzLCBfdGhpcy5pZGVudGl0eU1vZHVsZSwgX3RoaXMucmVnaXN0cnkpOwoKICAgIF90aGlzLm1lc3NhZ2VCdXMucGlwZWxpbmUuaGFuZGxlcnMgPSBbCgogICAgLy8gUG9saWN5IG1lc3NhZ2UgYXV0aG9yaXNlCiAgICBmdW5jdGlvbiAoY3R4KSB7CiAgICAgIF90aGlzLnBvbGljeUVuZ2luZS5hdXRob3Jpc2UoY3R4Lm1zZykudGhlbihmdW5jdGlvbiAoY2hhbmdlZE1ncykgewogICAgICAgIGN0eC5tc2cgPSBjaGFuZ2VkTWdzOwogICAgICAgIGN0eC5uZXh0KCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICBjb25zb2xlLmVycm9yKHJlYXNvbik7CiAgICAgICAgY3R4LmZhaWwocmVhc29uKTsKICAgICAgfSk7CiAgICB9XTsKCiAgICAvLyBBZGQgdG8gQXBwIFNhbmRib3ggdGhlIGxpc3RlbmVyOwogICAgYXBwU2FuZGJveC5hZGRMaXN0ZW5lcignKicsIGZ1bmN0aW9uIChtc2cpIHsKICAgICAgX3RoaXMubWVzc2FnZUJ1cy5wb3N0TWVzc2FnZShtc2cpOwogICAgfSk7CgogICAgLy8gUmVnaXN0ZXIgbWVzc2FnZUJ1cyBvbiBSZWdpc3RyeQogICAgX3RoaXMucmVnaXN0cnkubWVzc2FnZUJ1cyA9IF90aGlzLm1lc3NhZ2VCdXM7CgogICAgX3RoaXMucmVnaXN0cnkuYWRkRXZlbnRMaXN0ZW5lcigncnVudGltZTpsb2FkU3R1YicsIGZ1bmN0aW9uIChkb21haW5VUkwpIHsKCiAgICAgIF90aGlzLmxvYWRTdHViKGRvbWFpblVSTCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMucmVnaXN0cnkudHJpZ2dlcigncnVudGltZTpzdHViTG9hZGVkJywgZG9tYWluVVJMKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgIGNvbnNvbGUuZXJyb3IocmVhc29uKTsKICAgICAgfSk7CiAgICB9KTsKCiAgICAvLyBVc2Ugc2FuZGJveCBmYWN0b3J5IHRvIHVzZSBzcGVjaWZpYyBtZXRob2RzCiAgICAvLyBhbmQgc2V0IHRoZSBtZXNzYWdlIGJ1cyB0byB0aGUgZmFjdG9yeQogICAgcnVudGltZUZhY3RvcnkubWVzc2FnZUJ1cyA9IF90aGlzLm1lc3NhZ2VCdXM7CgogICAgLy8gSW5zdGFuY2lhdGUgdGhlIFN5bmNoZXJNYW5hZ2VyOwogICAgX3RoaXMuc3luY2hlck1hbmFnZXIgPSBuZXcgX1N5bmNoZXJNYW5hZ2VyMi5kZWZhdWx0KF90aGlzLnJ1bnRpbWVVUkwsIF90aGlzLm1lc3NhZ2VCdXMsIHt9LCBfdGhpcy5ydW50aW1lQ2F0YWxvZ3VlKTsKCiAgICAvLyBJbnN0YW50aWF0ZSB0aGUgR3JhcGggQ29ubmVjdG9yCiAgICBfdGhpcy5ncmFwaENvbm5lY3RvciA9IG5ldyBfR3JhcGhDb25uZWN0b3IyLmRlZmF1bHQoX3RoaXMucnVudGltZVVSTCwgX3RoaXMubWVzc2FnZUJ1cyk7CiAgfQoKICAvKioKICAqIEFjY29tb2RhdGUgaW50ZXJvcGVyYWJpbGl0eSBpbiBIMkggYW5kIHByb3RvIG9uIHRoZSBmbHkgZm9yIG5ld2x5IGRpc2NvdmVyZWQgZGV2aWNlcyBpbiBNMk0KICAqIEBwYXJhbSAge0NhdGFsb2d1ZURhdGFPYmplY3QuSHlwZXJ0eURlc2NyaXB0b3J9ICAgZGVzY3JpcHRvciAgICBkZXNjcmlwdG9yCiAgKi8KCgogIF9jcmVhdGVDbGFzcyhSdW50aW1lVUEsIFt7CiAgICBrZXk6ICdkaXNjb3ZlckhpcGVydHknLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRpc2NvdmVySGlwZXJ0eShkZXNjcmlwdG9yKSB7fQogICAgLy8gQm9keS4uLgoKCiAgICAvKioKICAgICogUmVnaXN0ZXIgSHlwZXJ0eSBkZXBsb3llZCBieSB0aGUgQXBwIHRoYXQgaXMgcGFzc2VkIGFzIGlucHV0IHBhcmFtZXRlci4gVG8gYmUgdXNlZCB3aGVuIEFwcCBhbmQgSHlwZXJ0aWVzIGFyZSBmcm9tIHRoZSBzYW1lIGRvbWFpbiBvdGhlcndpc2UgdGhlIFJ1bnRpbWVVQSB3aWxsIHJhaXNlIGFuIGV4Y2VwdGlvbiBhbmQgdGhlIEFwcCBoYXMgdG8gdXNlIHRoZSBsb2FkSHlwZXJ0eSguLikgZnVuY3Rpb24uCiAgICAqIEBwYXJhbSAge09iamVjdH0gT2JqZWN0ICAgICAgICAgICAgICAgICAgIGh5cGVydHlJbnN0YW5jZQogICAgKiBAcGFyYW0gIHtVUkwuSHlwZXJ0eUNhdGFsb2d1ZVVSTH0gICAgICAgICBkZXNjcmlwdG9yICAgICAgZGVzY3JpcHRvcgogICAgKi8KCiAgfSwgewogICAga2V5OiAncmVnaXN0ZXJIeXBlcnR5JywKICAgIHZhbHVlOiBmdW5jdGlvbiByZWdpc3Rlckh5cGVydHkoaHlwZXJ0eUluc3RhbmNlLCBkZXNjcmlwdG9yKSB7fQogICAgLy8gQm9keS4uLgoKCiAgICAvKioKICAgICogRGVwbG95IEh5cGVydHkgZnJvbSBDYXRhbG9ndWUgVVJMCiAgICAqIEBwYXJhbSAge1VSTC5IeXBlcnR5Q2F0YWxvZ3VlVVJMfSAgICBoeXBlcnR5IGh5cGVydHlEZXNjcmlwdG9yIHVybDsKICAgICovCgogIH0sIHsKICAgIGtleTogJ2xvYWRIeXBlcnR5JywKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkSHlwZXJ0eShoeXBlcnR5RGVzY3JpcHRvclVSTCkgewoKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICghaHlwZXJ0eURlc2NyaXB0b3JVUkwpIHRocm93IG5ldyBFcnJvcignSHlwZXJ0eSBkZXNjcmlwdG9yIHVybCBwYXJhbWV0ZXIgaXMgbmVlZGVkJyk7CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewoKICAgICAgICB2YXIgX2h5cGVydHlVUkwgPSB2b2lkIDA7CiAgICAgICAgdmFyIF9oeXBlcnR5U2FuZGJveCA9IHZvaWQgMDsKICAgICAgICB2YXIgX2h5cGVydHlEZXNjcmlwdG9yID0gdm9pZCAwOwogICAgICAgIHZhciBfaHlwZXJ0eVNvdXJjZVBhY2thZ2UgPSB2b2lkIDA7CgogICAgICAgIHZhciBlcnJvclJlYXNvbiA9IGZ1bmN0aW9uIGVycm9yUmVhc29uKHJlYXNvbikgewogICAgICAgICAgcmVqZWN0KHJlYXNvbik7CiAgICAgICAgfTsKCiAgICAgICAgLy8gR2V0IEh5cGVydHkgZGVzY3JpcHRvcgogICAgICAgIC8vIFRPRE86IHRoZSByZXF1ZXN0IE1vZHVsZSBzaG91bGQgYmUgY2hhbmdlZCwKICAgICAgICAvLyBiZWNhdXNlIGF0IHRoaXMgbW9tZW50IGl0IGlzIGluY29tcGF0aWJsZSB3aXRoIG5vZGVqczsKICAgICAgICAvLyBQcm9iYWJseSB3ZSBuZWVkIHRvIHBhc3MgYSBmYWN0b3J5IGxpa2Ugd2UgZG8gZm9yIHNhbmRib3hlczsKICAgICAgICBjb25zb2xlLmluZm8oJy0tLS0tLS0tLS0tLS0tLS0tLSBIeXBlcnR5IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLScpOwogICAgICAgIGNvbnNvbGUuaW5mbygnR2V0IGh5cGVydHkgZGVzY3JpcHRvciBmb3IgOicsIGh5cGVydHlEZXNjcmlwdG9yVVJMKTsKICAgICAgICBfdGhpcy5ydW50aW1lQ2F0YWxvZ3VlLmdldEh5cGVydHlEZXNjcmlwdG9yKGh5cGVydHlEZXNjcmlwdG9yVVJMKS50aGVuKGZ1bmN0aW9uIChoeXBlcnR5RGVzY3JpcHRvcikgewogICAgICAgICAgLy8gYXQgdGhpcyBwb2ludCwgd2UgaGF2ZSBjb21wbGV0ZWQgInN0ZXAgMiBhbmQgMyIgYXMgc2hvd24gaW4gaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktaHlwZXJ0eS5tZAogICAgICAgICAgY29uc29sZS5pbmZvKCcxOiByZXR1cm4gaHlwZXJ0eSBkZXNjcmlwdG9yJywgaHlwZXJ0eURlc2NyaXB0b3IpOwoKICAgICAgICAgIC8vIGh5cGVydHkgY29udGFpbnMgdGhlIGZ1bGwgcGF0aCBvZiB0aGUgY2F0YWxvZ3VlIFVSTCwgZS5nLgogICAgICAgICAgLy8gY2F0YWxvZ3VlLnJldGhpbmsuZXUvLndlbGwta25vd24vLi4uLi4uLi4uLgogICAgICAgICAgX2h5cGVydHlEZXNjcmlwdG9yID0gaHlwZXJ0eURlc2NyaXB0b3I7CgogICAgICAgICAgdmFyIHNvdXJjZVBhY2thZ2VVUkwgPSBoeXBlcnR5RGVzY3JpcHRvci5zb3VyY2VQYWNrYWdlVVJMOwoKICAgICAgICAgIGlmIChzb3VyY2VQYWNrYWdlVVJMID09PSAnL3NvdXJjZVBhY2thZ2UnKSB7CiAgICAgICAgICAgIHJldHVybiBoeXBlcnR5RGVzY3JpcHRvci5zb3VyY2VQYWNrYWdlOwogICAgICAgICAgfQoKICAgICAgICAgIC8vIEdldCB0aGUgaHlwZXJ0eSBzb3VyY2UgY29kZQogICAgICAgICAgcmV0dXJuIF90aGlzLnJ1bnRpbWVDYXRhbG9ndWUuZ2V0U291cmNlUGFja2FnZUZyb21VUkwoc291cmNlUGFja2FnZVVSTCk7CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoc291cmNlUGFja2FnZSkgewogICAgICAgICAgY29uc29sZS5pbmZvKCcyOiByZXR1cm4gaHlwZXJ0eSBzb3VyY2UgY29kZScpOwoKICAgICAgICAgIC8vIGF0IHRoaXMgcG9pbnQsIHdlIGhhdmUgY29tcGxldGVkICJzdGVwIDQgYW5kIDUiIGFzIHNob3duIGluIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LWh5cGVydHkubWQKCiAgICAgICAgICBfaHlwZXJ0eVNvdXJjZVBhY2thZ2UgPSBzb3VyY2VQYWNrYWdlOwoKICAgICAgICAgIC8vCiAgICAgICAgICAvLyBzdGVwcyA2IC0tIDkgYXJlIHNraXBwZWQuCiAgICAgICAgICAvLyBUT0RPOiBvbiByZWxlYXNlIG9mIGNvcmUgMC4yOwogICAgICAgICAgLy8gVE9ETzogUHJvbWlzZSB0byBjaGVjayB0aGUgcG9saWN5IGVuZ2luZQoKICAgICAgICAgIC8vIG1vY2stdXAgY29kZTsKICAgICAgICAgIC8vIHRlbXBvcmFyeSBjb2RlLCBvbmx5CiAgICAgICAgICB2YXIgcG9saWN5ID0gdHJ1ZTsKCiAgICAgICAgICByZXR1cm4gcG9saWN5OwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHBvbGljeVJlc3VsdCkgewogICAgICAgICAgY29uc29sZS5pbmZvKCczOiByZXR1cm4gcG9saWN5IGVuZ2luZSByZXN1bHQ6ICcsIHBvbGljeVJlc3VsdCk7CgogICAgICAgICAgLy8gd2UgaGF2ZSBjb21wbGV0ZWQgc3RlcCA2IHRvIDkgb2YgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktaHlwZXJ0eS5tZCByaWdodCBub3cuCiAgICAgICAgICAvLwogICAgICAgICAgLy8gU3RlcHMgNiAtLSA5CiAgICAgICAgICAvLyBBcyBhIHJlc3VsdCBvZiB0aGUgc2lwcGVkIHN0ZXBzLCB3ZSBrbm93IGF0IHRoaXMgcG9pbnQgaWYgd2UgZXhlY3V0ZQogICAgICAgICAgLy8gaW5TYW1lU2FuZGJveCBvciBub3QuCiAgICAgICAgICAvLwoKICAgICAgICAgIC8vIEZvciB0ZXN0aW5nLCBqdXN0IGFzc3VtZSB3ZSBleGVjdXRlIGluIHNhbWUgU2FuZGJveC4KICAgICAgICAgIHZhciBpblNhbWVTYW5kYm94ID0gdHJ1ZTsKICAgICAgICAgIHZhciBzYW5kYm94ID0gdm9pZCAwOwoKICAgICAgICAgIGlmIChpblNhbWVTYW5kYm94KSB7CgogICAgICAgICAgICAvLyB0aGlzIGRvbid0IG5lZWQgYmUgYSBQcm9taXNlOwogICAgICAgICAgICBzYW5kYm94ID0gX3RoaXMucmVnaXN0cnkuZ2V0QXBwU2FuZGJveCgpOwoKICAgICAgICAgICAgLy8gd2UgaGF2ZSBjb21wbGV0ZWQgc3RlcCAxMSBoZXJlLgogICAgICAgICAgfSBlbHNlIHsKCiAgICAgICAgICAgICAgdmFyIGRvbWFpbiA9ICgwLCBfdXRpbHMuZGl2aWRlVVJMKShoeXBlcnR5RGVzY3JpcHRvclVSTCkuZG9tYWluOwoKICAgICAgICAgICAgICAvLyBnZXRTYW5kYm94LCB0aGlzIHdpbGwgcmV0dXJuIGEgcHJvbWlzZTsKICAgICAgICAgICAgICBzYW5kYm94ID0gX3RoaXMucmVnaXN0cnkuZ2V0U2FuZGJveChkb21haW4pOwogICAgICAgICAgICB9CgogICAgICAgICAgLy8gdGhpcyB3aWxsIHJldHVybiB0aGUgc2FuZGJveCBvciBvbmUgcHJvbWlzZSB0byBnZXRTYW5kYm94OwogICAgICAgICAgcmV0dXJuIHNhbmRib3g7CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoc2FuZGJveCkgewogICAgICAgICAgY29uc29sZS5pbmZvKCc0OiByZXR1cm4gdGhlIHNhbmRib3gnLCBzYW5kYm94KTsKCiAgICAgICAgICAvLyBSZXR1cm4gdGhlIHNhbmRib3ggaW5kZXBlbnRlbHkgaWYgaXQgcnVubmluZyBpbiB0aGUgc2FtZSBzYW5kYm94IG9yIG5vdAogICAgICAgICAgLy8gd2UgaGF2ZSBjb21wbGV0ZWQgc3RlcCAxNCBoZXJlLgogICAgICAgICAgcmV0dXJuIHNhbmRib3g7CiAgICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgY29uc29sZS5lcnJvcignNC4xOiB0cnkgdG8gcmVnaXN0ZXIgYSBuZXcgc2FuZGJveCcsIHJlYXNvbik7CgogICAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHNhbmRib3ggaXMgcmVnaXN0ZWQgZm9yIHRoaXMgaHlwZXJ0eSBkZXNjcmlwdG9yIHVybDsKICAgICAgICAgIC8vIE1ha2UgU3RlcHMgeHh4IC0tLSB4eHgKICAgICAgICAgIC8vIEluc3RhbnRpYXRlIHRoZSBTYW5kYm94CiAgICAgICAgICB2YXIgc2FuZGJveCA9IF90aGlzLnJ1bnRpbWVGYWN0b3J5LmNyZWF0ZVNhbmRib3goKTsKCiAgICAgICAgICBzYW5kYm94LmFkZExpc3RlbmVyKCcqJywgZnVuY3Rpb24gKG1zZykgewogICAgICAgICAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1zZyk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICByZXR1cm4gc2FuZGJveDsKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChzYW5kYm94KSB7CiAgICAgICAgICBjb25zb2xlLmluZm8oJzU6IHJldHVybiBzYW5kYm94IGFuZCByZWdpc3RlcicpOwoKICAgICAgICAgIF9oeXBlcnR5U2FuZGJveCA9IHNhbmRib3g7CgogICAgICAgICAgLy8gUmVnaXN0ZXIgaHlwZXJ0eQogICAgICAgICAgcmV0dXJuIF90aGlzLnJlZ2lzdHJ5LnJlZ2lzdGVySHlwZXJ0eShzYW5kYm94LCBoeXBlcnR5RGVzY3JpcHRvclVSTCk7CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoaHlwZXJ0eVVSTCkgewogICAgICAgICAgY29uc29sZS5pbmZvKCc2OiBIeXBlcnR5IHVybCwgYWZ0ZXIgcmVnaXN0ZXIgaHlwZXJ0eScsIGh5cGVydHlVUkwpOwoKICAgICAgICAgIC8vIHdlIGhhdmUgY29tcGxldGVkIHN0ZXAgMTYgb2YgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktaHlwZXJ0eS5tZCByaWdodCBub3cuCgogICAgICAgICAgX2h5cGVydHlVUkwgPSBoeXBlcnR5VVJMOwoKICAgICAgICAgIGNvbnNvbGUubG9nKF9oeXBlcnR5RGVzY3JpcHRvcik7CgogICAgICAgICAgLy8gRXh0ZW5kIG9yaWdpbmFsIGh5cGVydHkgY29uZmlndXJhdGlvbjsKICAgICAgICAgIHZhciBjb25maWd1cmF0aW9uID0ge307CiAgICAgICAgICBpZiAoISgwLCBfdXRpbHMuZW1wdHlPYmplY3QpKF9oeXBlcnR5RGVzY3JpcHRvci5jb25maWd1cmF0aW9uKSkgewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24gPSBPYmplY3QuYXNzaWduKHt9LCBKU09OLnBhcnNlKF9oeXBlcnR5RGVzY3JpcHRvci5jb25maWd1cmF0aW9uKSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICBjb25maWd1cmF0aW9uID0gX2h5cGVydHlEZXNjcmlwdG9yLmNvbmZpZ3VyYXRpb247CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGNvbmZpZ3VyYXRpb24ucnVudGltZVVSTCA9IF90aGlzLnJ1bnRpbWVVUkw7CgogICAgICAgICAgLy8gV2Ugd2lsbCBkZXBsb3kgdGhlIGNvbXBvbmVudCAtIHN0ZXAgMTcgb2YgaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktaHlwZXJ0eS5tZCByaWdodCBub3cuCiAgICAgICAgICByZXR1cm4gX2h5cGVydHlTYW5kYm94LmRlcGxveUNvbXBvbmVudChfaHlwZXJ0eVNvdXJjZVBhY2thZ2Uuc291cmNlQ29kZSwgX2h5cGVydHlVUkwsIGNvbmZpZ3VyYXRpb24pOwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRlcGxveUNvbXBvbmVudFN0YXR1cykgewogICAgICAgICAgY29uc29sZS5pbmZvKCc3OiBEZXBsb3kgY29tcG9uZW50IHN0YXR1cyBmb3IgaHlwZXJ0eTogJywgZGVwbG95Q29tcG9uZW50U3RhdHVzKTsKCiAgICAgICAgICAvLyB3ZSBoYXZlIGNvbXBsZXRlZCBzdGVwIDE5IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LWh5cGVydHkubWQgcmlnaHQgbm93LgoKICAgICAgICAgIC8vIEFkZCB0aGUgbWVzc2FnZSBidXMgbGlzdGVuZXIgdG8gdGhlIGFwcFNhbmRib3ggb3IgaHlwZXJ0U2FuZGJveDsKICAgICAgICAgIF90aGlzLm1lc3NhZ2VCdXMuYWRkTGlzdGVuZXIoX2h5cGVydHlVUkwsIGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICAgICAgX2h5cGVydHlTYW5kYm94LnBvc3RNZXNzYWdlKG1zZyk7CiAgICAgICAgICB9KTsKCiAgICAgICAgICAvLyB3ZSBoYXZlIGNvbXBsZXRlZCBzdGVwIDIwIG9mIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LWh5cGVydHkubWQgcmlnaHQgbm93LgogICAgICAgICAgdmFyIGh5cGVydHkgPSB7CiAgICAgICAgICAgIHJ1bnRpbWVIeXBlcnR5VVJMOiBfaHlwZXJ0eVVSTCwKICAgICAgICAgICAgc3RhdHVzOiBkZXBsb3lDb21wb25lbnRTdGF0dXMKICAgICAgICAgIH07CgogICAgICAgICAgcmVzb2x2ZShoeXBlcnR5KTsKCiAgICAgICAgICAvLyB3ZSBoYXZlIGNvbXBsZXRlZCBzdGVwIDIxIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LWh5cGVydHkubWQgcmlnaHQgbm93LgogICAgICAgICAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS0tLSBFTkQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJyk7CiAgICAgICAgfSkuY2F0Y2goZXJyb3JSZWFzb24pOwogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICogRGVwbG95IFN0dWIgZnJvbSBDYXRhbG9ndWUgVVJMIG9yIGRvbWFpbiB1cmwKICAgICogQHBhcmFtICB7VVJMLlVSTH0gICAgIGRvbWFpbiAgICAgICAgICBkb21haW4KICAgICovCgogIH0sIHsKICAgIGtleTogJ2xvYWRTdHViJywKICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkU3R1Yihwcm90b3N0dWJVUkwpIHsKCiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoIXByb3Rvc3R1YlVSTCkgdGhyb3cgbmV3IEVycm9yKCdkb21haW4gcGFyYW1ldGVyIGlzIG5lZWRlZCcpOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKCiAgICAgICAgdmFyIGRvbWFpbiA9ICgwLCBfdXRpbHMuZGl2aWRlVVJMKShwcm90b3N0dWJVUkwpLmRvbWFpbjsKCiAgICAgICAgaWYgKCFkb21haW4pIHsKICAgICAgICAgIGRvbWFpbiA9IHByb3Rvc3R1YlVSTDsKICAgICAgICB9CgogICAgICAgIHZhciBfc3R1YlNhbmRib3ggPSB2b2lkIDA7CiAgICAgICAgdmFyIF9zdHViRGVzY3JpcHRvciA9IHZvaWQgMDsKICAgICAgICB2YXIgX3J1bnRpbWVQcm90b1N0dWJVUkwgPSB2b2lkIDA7CiAgICAgICAgdmFyIF9zdHViU291cmNlUGFja2FnZSA9IHZvaWQgMDsKCiAgICAgICAgdmFyIGVycm9yUmVhc29uID0gZnVuY3Rpb24gZXJyb3JSZWFzb24ocmVhc29uKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKHJlYXNvbik7CiAgICAgICAgICByZWplY3QocmVhc29uKTsKICAgICAgICB9OwoKICAgICAgICAvLyBEaXNjb3ZlciBQcm90b2NvbCBTdHViCiAgICAgICAgY29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0tLS0tLS0tIFByb3RvU3R1YiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbicpOwogICAgICAgIGNvbnNvbGUuaW5mbygnRGlzY292ZXIgb3IgQ3JlYXRlIGEgbmV3IFByb3RvU3R1YiBmb3IgZG9tYWluOiAnLCBkb21haW4pOwogICAgICAgIF90aGlzLnJlZ2lzdHJ5LmRpc2NvdmVyUHJvdG9zdHViKGRvbWFpbikudGhlbihmdW5jdGlvbiAocnVudGltZVByb3RvU3R1YlVSTCkgewogICAgICAgICAgLy8gSXMgcmVnaXN0ZWQ/CiAgICAgICAgICBjb25zb2xlLmluZm8oJzEuIFByb3RvIFN0dWIgRGlzY292ZXJlZDogJywgcnVudGltZVByb3RvU3R1YlVSTCk7CgogICAgICAgICAgLy8gd2UgaGF2ZSBjb21wbGV0ZWQgc3RlcCAyIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAoKICAgICAgICAgIC8vIFRPRE86IENoZWNrIGlmIHRoZSBzdGF0dXMgaXMgc2F2ZWQgaW4gdGhlIHN0YXR1cyBvZiBzYW5kYm94OwogICAgICAgICAgdmFyIHN0dWIgPSB7CiAgICAgICAgICAgIHJ1bnRpbWVQcm90b1N0dWJVUkw6IHJ1bnRpbWVQcm90b1N0dWJVUkwsCiAgICAgICAgICAgIHN0YXR1czogJ2RlcGxveWVkJwogICAgICAgICAgfTsKCiAgICAgICAgICByZXNvbHZlKHN0dWIpOwogICAgICAgICAgY29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0tLS0tLS0tIEVORCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbicpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKCiAgICAgICAgICAvLyBpcyBub3QgcmVnaXN0ZWQ/CiAgICAgICAgICBjb25zb2xlLmluZm8oJzEuIFByb3RvIFN0dWIgbm90IGZvdW5kOicsIHJlYXNvbik7CgogICAgICAgICAgLy8gd2UgaGF2ZSBjb21wbGV0ZWQgc3RlcCAzIGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAoKICAgICAgICAgIC8vIHdlIG5lZWQgdG8gZ2V0IFByb3RvU3R1YiBkZXNjcmlwdG9yIHN0ZXAgNCBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKICAgICAgICAgIF90aGlzLnJ1bnRpbWVDYXRhbG9ndWUuZ2V0U3R1YkRlc2NyaXB0b3IocHJvdG9zdHViVVJMKS50aGVuKGZ1bmN0aW9uIChzdHViRGVzY3JpcHRvcikgewoKICAgICAgICAgICAgY29uc29sZS5pbmZvKCcyLiByZXR1cm4gdGhlIFByb3RvU3R1YiBkZXNjcmlwdG9yOicsIHN0dWJEZXNjcmlwdG9yKTsKCiAgICAgICAgICAgIC8vIHdlIGhhdmUgY29tcGxldGVkIHN0ZXAgNSBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKICAgICAgICAgICAgX3N0dWJEZXNjcmlwdG9yID0gc3R1YkRlc2NyaXB0b3I7CgogICAgICAgICAgICB2YXIgc291cmNlUGFja2FnZVVSTCA9IHN0dWJEZXNjcmlwdG9yLnNvdXJjZVBhY2thZ2VVUkw7CgogICAgICAgICAgICBpZiAoc291cmNlUGFja2FnZVVSTCA9PT0gJy9zb3VyY2VQYWNrYWdlJykgewogICAgICAgICAgICAgIHJldHVybiBzdHViRGVzY3JpcHRvci5zb3VyY2VQYWNrYWdlOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIGdldCBQcm90b1N0dWIgU291cmNlIGNvZGUgZnJvbSBkZXNjcmlwdG9yIC0gc3RlcCA2IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAogICAgICAgICAgICByZXR1cm4gX3RoaXMucnVudGltZUNhdGFsb2d1ZS5nZXRTb3VyY2VQYWNrYWdlRnJvbVVSTChzb3VyY2VQYWNrYWdlVVJMKTsKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHN0dWJTb3VyY2VQYWNrYWdlKSB7CiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnMy4gcmV0dXJuIHRoZSBQcm90b1N0dWIgU291cmNlIENvZGU6ICcsIHN0dWJTb3VyY2VQYWNrYWdlKTsKCiAgICAgICAgICAgIC8vIHdlIGhhdmUgY29tcGxldGVkIHN0ZXAgNyBodHRwczovL2dpdGh1Yi5jb20vcmVUSElOSy1wcm9qZWN0L2NvcmUtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2RvY3Mvc3BlY3MvcnVudGltZS9keW5hbWljLXZpZXcvYmFzaWNzL2RlcGxveS1wcm90b3N0dWIubWQKCiAgICAgICAgICAgIF9zdHViU291cmNlUGFja2FnZSA9IHN0dWJTb3VyY2VQYWNrYWdlOwoKICAgICAgICAgICAgLy8gVE9ETzogQ2hlY2sgb24gUEVQIChwb2xpY3kgRW5naW5lKSBpZiB3ZSBuZWVkIHRoZSBzYW5kYm94IGFuZCBjaGVjayBpZiB0aGUgU2FuZGJveCBGYWN0b3J5IGhhdmUgdGhlIGNvbnRleHQgc2FuZGJveDsKICAgICAgICAgICAgdmFyIHBvbGljeSA9IHRydWU7CiAgICAgICAgICAgIHJldHVybiBwb2xpY3k7CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChwb2xpY3kpIHsKICAgICAgICAgICAgLy8gdGhpcyB3aWxsIHJldHVybiB0aGUgc2FuZGJveCBvciBvbmUgcHJvbWlzZSB0byBnZXRTYW5kYm94OwogICAgICAgICAgICByZXR1cm4gX3RoaXMucmVnaXN0cnkuZ2V0U2FuZGJveChkb21haW4pOwogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoc3R1YlNhbmRib3gpIHsKCiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnNC4gaWYgdGhlIHNhbmRib3ggaXMgcmVnaXN0ZXJlZCB0aGVuIHJldHVybiB0aGUgc2FuZGJveCcsIHN0dWJTYW5kYm94KTsKCiAgICAgICAgICAgIC8vIHdlIGhhdmUgY29tcGxldGVkIHN0ZXAgeHh4IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAoKICAgICAgICAgICAgX3N0dWJTYW5kYm94ID0gc3R1YlNhbmRib3g7CiAgICAgICAgICAgIHJldHVybiBzdHViU2FuZGJveDsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgICAgY29uc29sZS5pbmZvKCc1LiBTYW5kYm94IHdhcyBub3QgZm91bmQsIGNyZWF0aW5nIGEgbmV3IG9uZScsIHJlYXNvbik7CgogICAgICAgICAgICAvLyBjaGVjayBpZiB0aGUgc2FuZGJveCBpcyByZWdpc3RlZCBmb3IgdGhpcyBzdHViIGRlc2NyaXB0b3IgdXJsOwogICAgICAgICAgICAvLyBNYWtlIFN0ZXBzIHh4eCAtLS0geHh4CiAgICAgICAgICAgIC8vIEluc3RhbnRpYXRlIHRoZSBTYW5kYm94CiAgICAgICAgICAgIHZhciBzYW5kYm94ID0gX3RoaXMucnVudGltZUZhY3RvcnkuY3JlYXRlU2FuZGJveCgpOwogICAgICAgICAgICBzYW5kYm94LmFkZExpc3RlbmVyKCcqJywgZnVuY3Rpb24gKG1zZykgewogICAgICAgICAgICAgIF90aGlzLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobXNnKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICByZXR1cm4gc2FuZGJveDsKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHNhbmRib3gpIHsKICAgICAgICAgICAgY29uc29sZS5pbmZvKCc2LiByZXR1cm4gdGhlIHNhbmRib3ggaW5zdGFuY2UgYW5kIHJlZ2lzdGVyJywgc2FuZGJveCwgJ3RvIGRvbWFpbiAnLCBkb21haW4pOwoKICAgICAgICAgICAgX3N0dWJTYW5kYm94ID0gc2FuZGJveDsKCiAgICAgICAgICAgIC8vIHdlIG5lZWQgcmVnaXN0ZXIgc3R1YiBvbiByZWdpc3RyeSAtIHN0ZXAgeHh4IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAogICAgICAgICAgICByZXR1cm4gX3RoaXMucmVnaXN0cnkucmVnaXN0ZXJTdHViKF9zdHViU2FuZGJveCwgZG9tYWluKTsKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJ1bnRpbWVQcm90b1N0dWJVUkwpIHsKCiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnNy4gcmV0dXJuIHRoZSBydW50aW1lIHByb3Rvc3R1YiB1cmw6ICcsIHJ1bnRpbWVQcm90b1N0dWJVUkwpOwoKICAgICAgICAgICAgLy8gd2UgaGF2ZSBjb21wbGV0ZWQgc3RlcCB4eHggaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCgogICAgICAgICAgICBfcnVudGltZVByb3RvU3R1YlVSTCA9IHJ1bnRpbWVQcm90b1N0dWJVUkw7CgogICAgICAgICAgICBjb25zb2xlLmxvZyhfc3R1YkRlc2NyaXB0b3IpOwoKICAgICAgICAgICAgLy8gRXh0ZW5kIG9yaWdpbmFsIGh5cGVydHkgY29uZmlndXJhdGlvbjsKICAgICAgICAgICAgdmFyIGNvbmZpZ3VyYXRpb24gPSBPYmplY3QuYXNzaWduKHt9LCBKU09OLnBhcnNlKF9zdHViRGVzY3JpcHRvci5jb25maWd1cmF0aW9uKSk7CiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb24ucnVudGltZVVSTCA9IF90aGlzLnJ1bnRpbWVVUkw7CgogICAgICAgICAgICAvLyBEZXBsb3kgQ29tcG9uZW50IHN0ZXAgeHh4CiAgICAgICAgICAgIHJldHVybiBfc3R1YlNhbmRib3guZGVwbG95Q29tcG9uZW50KF9zdHViU291cmNlUGFja2FnZS5zb3VyY2VDb2RlLCBydW50aW1lUHJvdG9TdHViVVJMLCBjb25maWd1cmF0aW9uKTsKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRlcGxveUNvbXBvbmVudFN0YXR1cykgewogICAgICAgICAgICBjb25zb2xlLmluZm8oJzg6IHJldHVybiBkZXBsb3kgY29tcG9uZW50IGZvciBzYW5kYm94IHN0YXR1czogJywgZGVwbG95Q29tcG9uZW50U3RhdHVzKTsKCiAgICAgICAgICAgIC8vIHdlIGhhdmUgY29tcGxldGVkIHN0ZXAgeHh4IGh0dHBzOi8vZ2l0aHViLmNvbS9yZVRISU5LLXByb2plY3QvY29yZS1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvZG9jcy9zcGVjcy9ydW50aW1lL2R5bmFtaWMtdmlldy9iYXNpY3MvZGVwbG95LXByb3Rvc3R1Yi5tZAoKICAgICAgICAgICAgLy8gQWRkIHRoZSBtZXNzYWdlIGJ1cyBsaXN0ZW5lcgogICAgICAgICAgICBfdGhpcy5tZXNzYWdlQnVzLmFkZExpc3RlbmVyKF9ydW50aW1lUHJvdG9TdHViVVJMLCBmdW5jdGlvbiAobXNnKSB7CiAgICAgICAgICAgICAgX3N0dWJTYW5kYm94LnBvc3RNZXNzYWdlKG1zZyk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8gd2UgaGF2ZSBjb21wbGV0ZWQgc3RlcCB4eHggaHR0cHM6Ly9naXRodWIuY29tL3JlVEhJTkstcHJvamVjdC9jb3JlLWZyYW1ld29yay9ibG9iL21hc3Rlci9kb2NzL3NwZWNzL3J1bnRpbWUvZHluYW1pYy12aWV3L2Jhc2ljcy9kZXBsb3ktcHJvdG9zdHViLm1kCgogICAgICAgICAgICAvLyBMb2FkIFN0dWIgZnVuY3Rpb24gcmVzb2x2ZWQgd2l0aCBzdWNjZXNzOwogICAgICAgICAgICB2YXIgc3R1YiA9IHsKICAgICAgICAgICAgICBydW50aW1lUHJvdG9TdHViVVJMOiBfcnVudGltZVByb3RvU3R1YlVSTCwKICAgICAgICAgICAgICBzdGF0dXM6IGRlcGxveUNvbXBvbmVudFN0YXR1cwogICAgICAgICAgICB9OwoKICAgICAgICAgICAgcmVzb2x2ZShzdHViKTsKICAgICAgICAgICAgY29uc29sZS5pbmZvKCctLS0tLS0tLS0tLS0tLS0tLS0tIEVORCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbicpOwogICAgICAgICAgfSkuY2F0Y2goZXJyb3JSZWFzb24pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KCiAgICAvKioKICAgICogVXNlZCB0byBjaGVjayBmb3IgdXBkYXRlcyBhYm91dCBjb21wb25lbnRzIGhhbmRsZWQgaW4gdGhlIENhdGFsb2d1ZSBpbmNsdWRpbmcgcHJvdG9jb2wgc3R1YnMgYW5kIEh5cGVydGllcy4gY2hlY2sgcmVsYXRpb25zaGlwIHdpdGggbGlmZWN5Y2xlIG1hbmFnZW1lbnQgcHJvdmlkZWQgYnkgU2VydmljZSBXb3JrZXJzCiAgICAqIEBwYXJhbSAge0NhdGFsb2d1ZVVSTH0gICAgICAgdXJsIHVybAogICAgKi8KCiAgfSwgewogICAga2V5OiAnY2hlY2tGb3JVcGRhdGUnLAogICAgdmFsdWU6IGZ1bmN0aW9uIGNoZWNrRm9yVXBkYXRlKHVybCkgewogICAgICAvLyBCb2R5Li4uCiAgICB9CiAgfV0pOwoKICByZXR1cm4gUnVudGltZVVBOwp9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBSdW50aW1lVUE7Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7Ii4uL2J1cy9NZXNzYWdlQnVzIjoxODAsIi4uL2dyYXBoY29ubmVjdG9yL0dyYXBoQ29ubmVjdG9yIjoxODQsIi4uL2lkZW50aXR5L0lkZW50aXR5TW9kdWxlIjoxODYsIi4uL3BvbGljeS9Qb2xpY3lFbmdpbmUiOjE5MCwiLi4vcmVnaXN0cnkvUmVnaXN0cnkiOjE5NCwiLi4vc3luY2hlci9TeW5jaGVyTWFuYWdlciI6MjAxLCIuLi91dGlscy91dGlscyI6MjAzLCJzZXJ2aWNlLWZyYW1ld29yay9kaXN0L1J1bnRpbWVDYXRhbG9ndWUiOjE1OX1dLDE5NzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKCnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoInZhbHVlIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpOwoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9Cgp2YXIgT2JqZWN0QWxsb2NhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAvKiBwcml2YXRlCiAgX3VybDogVVJMCiAgX2J1czogTWluaUJ1cwogICovCgogIC8qKgogICAqIENyZWF0ZSBhbiBPYmplY3QgQWxsb2NhdGlvbgogICAqIEBwYXJhbSAge1VSTC5VUkx9ICAgICAgdXJsIC0gdXJsIGZyb20gd2hvIGlzIHNlbmRpbmcgdGhlIG1lc3NhZ2UKICAgKiBAcGFyYW0gIHtNaW5pQnVzfSAgICAgIGJ1cyAtIE1pbmlCdXMgdXNlZCBmb3IgYWRkcmVzcyBhbGxvY2F0aW9uCiAgICovCgogIGZ1bmN0aW9uIE9iamVjdEFsbG9jYXRpb24odXJsLCBidXMpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBPYmplY3RBbGxvY2F0aW9uKTsKCiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIF90aGlzLl91cmwgPSB1cmw7CiAgICBfdGhpcy5fYnVzID0gYnVzOwogIH0KCiAgLyoqCiAgICogZ2V0IHRoZSBVUkwgdmFsdWUKICAgKiBAcmV0dXJuIHtzdHJpbmd9IFRoZSB1cmwgdmFsdWU7CiAgICovCgoKICBfY3JlYXRlQ2xhc3MoT2JqZWN0QWxsb2NhdGlvbiwgW3sKICAgIGtleTogJ2NyZWF0ZScsCgoKICAgIC8qKgogICAgICogQXNrIGZvciBjcmVhdGlvbiBvZiBhIG51bWJlciBvZiBPYmplY3QgYWRkcmVzc2VzLCB0byB0aGUgZG9tYWluIG1lc3NhZ2Ugbm9kZS4KICAgICAqIEBwYXJhbSAge0RvbWFpbn0gZG9tYWluIC0gRG9tYWluIG9mIHRoZSBtZXNzYWdlIG5vZGUuCiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IG51bWJlciAtIE51bWJlciBvZiBhZGRyZXNzZXMgdG8gcmVxdWVzdAogICAgICogQHJldHVybnMge1Byb21pc2U8T2JqZWN0VVJMPn0gIEEgbGlzdCBvZiBPYmplY3RVUkwncwogICAgICovCiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKGRvbWFpbiwgc2NoZW1lLCBudW1iZXIpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBtc2cgPSB7CiAgICAgICAgdHlwZTogJ2NyZWF0ZScsIGZyb206IF90aGlzLl91cmwsIHRvOiAnZG9tYWluOi8vbXNnLW5vZGUuJyArIGRvbWFpbiArICcvb2JqZWN0LWFkZHJlc3MtYWxsb2NhdGlvbicsCiAgICAgICAgYm9keTogeyBzY2hlbWU6IHNjaGVtZSwgdmFsdWU6IHsgbnVtYmVyOiBudW1iZXIgfSB9CiAgICAgIH07CgogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UobXNnLCBmdW5jdGlvbiAocmVwbHkpIHsKICAgICAgICAgIGlmIChyZXBseS5ib2R5LmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICByZXNvbHZlKHJlcGx5LmJvZHkudmFsdWUuYWxsb2NhdGVkKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlamVjdChyZXBseS5ib2R5LmRlc2MpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICd1cmwnLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl91cmw7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gT2JqZWN0QWxsb2NhdGlvbjsKfSgpOwoKZXhwb3J0cy5kZWZhdWx0ID0gT2JqZWN0QWxsb2NhdGlvbjsKbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107Cgp9LHt9XSwxOTg6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewondXNlIHN0cmljdCc7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCnZhciBfdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscy91dGlscycpOwoKdmFyIF9TdWJzY3JpcHRpb24gPSByZXF1aXJlKCcuL1N1YnNjcmlwdGlvbicpOwoKdmFyIF9TdWJzY3JpcHRpb24yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfU3Vic2NyaXB0aW9uKTsKCmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCnZhciBPYnNlcnZlck9iamVjdCA9IGZ1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBPYnNlcnZlck9iamVjdChwYXJlbnQsIHVybCwgY2hpbGRyZW5zKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgT2JzZXJ2ZXJPYmplY3QpOwoKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgX3RoaXMuX3BhcmVudCA9IHBhcmVudDsKICAgIF90aGlzLl91cmwgPSB1cmw7CiAgICBfdGhpcy5fY2hpbGRyZW5zID0gY2hpbGRyZW5zOwoKICAgIF90aGlzLl9idXMgPSBwYXJlbnQuX2J1czsKICAgIF90aGlzLl9zdWJzY3JpcHRpb25zID0ge307CiAgfQoKICBfY3JlYXRlQ2xhc3MoT2JzZXJ2ZXJPYmplY3QsIFt7CiAgICBrZXk6ICdhZGRTdWJzY3JpcHRpb24nLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFN1YnNjcmlwdGlvbihoeXBlcnR5KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBfdGhpcy5fc3Vic2NyaXB0aW9uc1toeXBlcnR5XSA9IG5ldyBfU3Vic2NyaXB0aW9uMi5kZWZhdWx0KF90aGlzLl9idXMsIGh5cGVydHksIF90aGlzLl91cmwsIF90aGlzLl9jaGlsZHJlbnMsIGZhbHNlKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdyZW1vdmVTdWJzY3JpcHRpb24nLAogICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVN1YnNjcmlwdGlvbihoeXBlcnR5KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZG9tYWluID0gKDAsIF91dGlscy5kaXZpZGVVUkwpKGh5cGVydHkpLmRvbWFpbjsKICAgICAgdmFyIG9ialVSTFN1YnNjcmlwdGlvbiA9IF90aGlzLl91cmwgKyAnL3N1YnNjcmlwdGlvbic7CgogICAgICB2YXIgc3Vic2NyaXB0aW9uID0gX3RoaXMuX3N1YnNjcmlwdGlvbnNbaHlwZXJ0eV07CiAgICAgIGlmIChzdWJzY3JpcHRpb24pIHsKICAgICAgICAvL3Vuc3Vic2NyaWJlIG1zZyB0byB0aGUgUmVwb3J0ZXIgU00KICAgICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICd1bnN1YnNjcmliZScsIGZyb206IF90aGlzLl9wYXJlbnQuX3VybCwgdG86IG9ialVSTFN1YnNjcmlwdGlvbiwKICAgICAgICAgIGJvZHk6IHsgcmVzb3VyY2U6IF90aGlzLl91cmwgfQogICAgICAgIH0pOwoKICAgICAgICAvL1RPRE86IHNob3VsZCBJIHdhaXQgZm9yIHJlc3BvbnNlIGJlZm9yZSB1bnN1YnNjcmliZSBvbiBtc2ctbm9kZQogICAgICAgIC8vdW5zdWJzY3JpYmUgbXNnIHRvIHRoZSBkb21haW4gbm9kZQogICAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ3Vuc3Vic2NyaWJlJywgZnJvbTogX3RoaXMuX3BhcmVudC5fdXJsLCB0bzogJ2RvbWFpbjovL21zZy1ub2RlLicgKyBkb21haW4gKyAnL3NtJywKICAgICAgICAgIGJvZHk6IHsgcmVzb3VyY2U6IF90aGlzLl91cmwsIGNoaWxkcmVuUmVzb3VyY2VzOiBfdGhpcy5fY2hpbGRyZW5zIH0KICAgICAgICB9KTsKCiAgICAgICAgc3Vic2NyaXB0aW9uLl9yZWxlYXNlTGlzdGVuZXJzKCk7CiAgICAgICAgZGVsZXRlIF90aGlzLl9zdWJzY3JpcHRpb25zW2h5cGVydHldOwogICAgICB9CiAgICB9CiAgfV0pOwoKICByZXR1cm4gT2JzZXJ2ZXJPYmplY3Q7Cn0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IE9ic2VydmVyT2JqZWN0Owptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0seyIuLi91dGlscy91dGlscyI6MjAzLCIuL1N1YnNjcmlwdGlvbiI6MjAwfV0sMTk5OltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7Cgp2YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvdXRpbHMnKTsKCnZhciBfU3Vic2NyaXB0aW9uID0gcmVxdWlyZSgnLi9TdWJzY3JpcHRpb24nKTsKCnZhciBfU3Vic2NyaXB0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX1N1YnNjcmlwdGlvbik7CgpmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfQoKZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTsgfSB9Cgp2YXIgUmVwb3J0ZXJPYmplY3QgPSBmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gUmVwb3J0ZXJPYmplY3QocGFyZW50LCBvd25lciwgdXJsKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVwb3J0ZXJPYmplY3QpOwoKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgX3RoaXMuX3BhcmVudCA9IHBhcmVudDsKICAgIF90aGlzLl9vd25lciA9IG93bmVyOwogICAgX3RoaXMuX3VybCA9IHVybDsKCiAgICBfdGhpcy5fYnVzID0gcGFyZW50Ll9idXM7CgogICAgX3RoaXMuX2RvbWFpbiA9ICgwLCBfdXRpbHMuZGl2aWRlVVJMKShvd25lcikuZG9tYWluOwogICAgX3RoaXMuX29ialN1YnNjcmlwdG9yVVJMID0gX3RoaXMuX3VybCArICcvc3Vic2NyaXB0aW9uJzsKCiAgICBfdGhpcy5fc3Vic2NyaXB0aW9ucyA9IHt9OwogICAgX3RoaXMuX2NoaWxkcmVucyA9IFtdOwogICAgX3RoaXMuX2NoaWxkcmVuTGlzdGVuZXJzID0gW107CgogICAgX3RoaXMuX2FsbG9jYXRlTGlzdGVuZXJzKCk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoUmVwb3J0ZXJPYmplY3QsIFt7CiAgICBrZXk6ICdfYWxsb2NhdGVMaXN0ZW5lcnMnLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9hbGxvY2F0ZUxpc3RlbmVycygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIC8vYWRkIG9iamVjdFVSTCBmb3J3YXJkLi4uCiAgICAgIF90aGlzLl9vYmpGb3J3YXJkID0gX3RoaXMuX2J1cy5hZGRGb3J3YXJkKF90aGlzLl91cmwsIF90aGlzLl9vd25lcik7CgogICAgICAvL2FkZCBzdWJzY3JpcHRpb24gbGlzdGVuZXIuLi4KICAgICAgX3RoaXMuX3N1YnNjcmlwdGlvbkxpc3RlbmVyID0gX3RoaXMuX2J1cy5hZGRMaXN0ZW5lcihfdGhpcy5fb2JqU3Vic2NyaXB0b3JVUkwsIGZ1bmN0aW9uIChtc2cpIHsKICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy5fb2JqU3Vic2NyaXB0b3JVUkwgKyAnLVJDVjogJywgbXNnKTsKICAgICAgICBzd2l0Y2ggKG1zZy50eXBlKSB7CiAgICAgICAgICBjYXNlICdzdWJzY3JpYmUnOgogICAgICAgICAgICBfdGhpcy5fb25SZW1vdGVTdWJzY3JpYmUobXNnKTticmVhazsKICAgICAgICAgIGNhc2UgJ3Vuc3Vic2NyaWJlJzoKICAgICAgICAgICAgX3RoaXMuX29uUmVtb3RlVW5TdWJzY3JpYmUobXNnKTticmVhazsKICAgICAgICAgIGNhc2UgJ3Jlc3BvbnNlJzoKICAgICAgICAgICAgX3RoaXMuX29uUmVtb3RlUmVzcG9uc2UobXNnKTticmVhazsKICAgICAgICB9CiAgICAgIH0pOwoKICAgICAgdmFyIGNoYW5nZVVSTCA9IF90aGlzLl91cmwgKyAnL2NoYW5nZXMnOwogICAgICBfdGhpcy5fY2hhbmdlTGlzdGVuZXIgPSBfdGhpcy5fYnVzLmFkZExpc3RlbmVyKGNoYW5nZVVSTCwgZnVuY3Rpb24gKG1zZykgewogICAgICAgIC8vVE9ETzogd2hhdCB0b2RvIGhlcmU/IFNhdmUgY2hhbmdlcz8KICAgICAgICBjb25zb2xlLmxvZygnU3luY2hlck1hbmFnZXItJyArIGNoYW5nZVVSTCArICctUkNWOiAnLCBtc2cpOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICdfcmVsZWFzZUxpc3RlbmVycycsCiAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbGVhc2VMaXN0ZW5lcnMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBfdGhpcy5fb2JqRm9yd2FyZC5yZW1vdmUoKTsKCiAgICAgIF90aGlzLl9zdWJzY3JpcHRpb25MaXN0ZW5lci5yZW1vdmUoKTsKCiAgICAgIF90aGlzLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKTsKCiAgICAgIF90aGlzLl9jaGlsZHJlbkxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChjbCkgewogICAgICAgIGNsLnJlbW92ZSgpOwogICAgICB9KTsKCiAgICAgIC8vcmVtb3ZlIGFsbCBzdWJzY3JpcHRpb25zCiAgICAgIE9iamVjdC5rZXlzKF90aGlzLl9zdWJzY3JpcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICBfdGhpcy5fc3Vic2NyaXB0aW9uc1trZXldLl9yZWxlYXNlTGlzdGVuZXJzKCk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogJ2FkZENoaWxkcmVucycsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkQ2hpbGRyZW5zKGNoaWxkcmVucykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBpZiAoY2hpbGRyZW5zLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgdmFyIGNoaWxkQmFzZVVSTCA9IF90aGlzLl91cmwgKyAnL2NoaWxkcmVuLyc7CiAgICAgICAgX3RoaXMuX2NoaWxkcmVucy5wdXNoKGNoaWxkcmVucyk7CgogICAgICAgIHZhciBzdWJzY3JpcHRpb25zID0gW107CiAgICAgICAgY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9ucy5wdXNoKGNoaWxkQmFzZVVSTCArIGNoaWxkKTsKICAgICAgICB9KTsKCiAgICAgICAgdmFyIG5vZGVTdWJzY3JpYmVNc2cgPSB7CiAgICAgICAgICB0eXBlOiAnc3Vic2NyaWJlJywgZnJvbTogX3RoaXMuX3BhcmVudC5fdXJsLCB0bzogJ2RvbWFpbjovL21zZy1ub2RlLicgKyBfdGhpcy5fZG9tYWluICsgJy9zbScsCiAgICAgICAgICBib2R5OiB7IHN1YnNjcmliZTogc3Vic2NyaXB0aW9ucywgc291cmNlOiBfdGhpcy5fb3duZXIgfQogICAgICAgIH07CgogICAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2Uobm9kZVN1YnNjcmliZU1zZywgZnVuY3Rpb24gKHJlcGx5KSB7CiAgICAgICAgICBjb25zb2xlLmxvZygnbm9kZS1zdWJzY3JpYmUtcmVzcG9uc2UocmVwb3J0ZXIpOiAnLCByZXBseSk7CiAgICAgICAgICBpZiAocmVwbHkuYm9keS5jb2RlID09PSAyMDApIHsKCiAgICAgICAgICAgIC8vYWRkIGNoaWxkcmVuIGxpc3RlbmVycyBvbiBsb2NhbCAuLi4KICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZFVSTCkgewogICAgICAgICAgICAgIHZhciBjaGlsZExpc3RlbmVyID0gX3RoaXMuX2J1cy5hZGRMaXN0ZW5lcihjaGlsZFVSTCwgZnVuY3Rpb24gKG1zZykgewogICAgICAgICAgICAgICAgLy9UT0RPOiB3aGF0IHRvZG8gaGVyZT8gU2F2ZSBjaGlsZHJlbnM/CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU3luY2hlck1hbmFnZXItJyArIGNoaWxkVVJMICsgJy1SQ1Y6ICcsIG1zZyk7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIF90aGlzLl9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKGNoaWxkTGlzdGVuZXIpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlamVjdCgnRXJyb3Igb24gbXNnLW5vZGUgc3Vic2NyaXB0aW9uOiAnICsgcmVwbHkuYm9keS5kZXNjKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAnZGVsZXRlJywKICAgIHZhbHVlOiBmdW5jdGlvbiBfZGVsZXRlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB2YXIgZG9tYWluID0gKDAsIF91dGlscy5kaXZpZGVVUkwpKF90aGlzLl9vd25lcikuZG9tYWluOwoKICAgICAgLy9kZWxldGUgbXNnIHRvIGFsbCBzdWJzY3JpcHRpb25zCiAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UoewogICAgICAgIHR5cGU6ICdkZWxldGUnLCBmcm9tOiBfdGhpcy5fb2JqU3Vic2NyaXB0b3JVUkwsIHRvOiBfdGhpcy5fdXJsICsgJy9jaGFuZ2VzJwogICAgICB9KTsKCiAgICAgIC8vVE9ETzogY2hhbmdlIGRlbGV0ZSBzcGVjIQogICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHsKICAgICAgICB0eXBlOiAnZGVsZXRlJywgZnJvbTogX3RoaXMuX3BhcmVudC5fdXJsLCB0bzogJ2RvbWFpbjovL21zZy1ub2RlLicgKyBkb21haW4gKyAnL29iamVjdC1hZGRyZXNzLWFsbG9jYXRpb24nLAogICAgICAgIGJvZHk6IHsgcmVzb3VyY2U6IF90aGlzLl91cmwsIGNoaWxkcmVuUmVzb3VyY2VzOiBfdGhpcy5fY2hpbGRyZW5zIH0KICAgICAgfSk7CgogICAgICBfdGhpcy5fcmVsZWFzZUxpc3RlbmVycygpOwogICAgICBkZWxldGUgX3RoaXMuX3BhcmVudC5fcmVwb3J0ZXJzW190aGlzLl91cmxdOwogICAgfQogIH0sIHsKICAgIGtleTogJ19vblJlbW90ZVJlc3BvbnNlJywKICAgIHZhbHVlOiBmdW5jdGlvbiBfb25SZW1vdGVSZXNwb25zZShtc2cpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UoewogICAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IF90aGlzLl91cmwsCiAgICAgICAgYm9keTogeyBjb2RlOiBtc2cuYm9keS5jb2RlLCBzb3VyY2U6IG1zZy5mcm9tIH0KICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAnX29uUmVtb3RlU3Vic2NyaWJlJywKICAgIHZhbHVlOiBmdW5jdGlvbiBfb25SZW1vdGVTdWJzY3JpYmUobXNnKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHZhciBoeXBlcnR5VVJMID0gbXNnLmJvZHkuc3Vic2NyaWJlcjsKCiAgICAgIC8vdmFsaWRhdGUgaWYgc3Vic2NyaXB0aW9uIGFscmVhZHkgZXhpc3RzPwogICAgICBpZiAoX3RoaXMuX3N1YnNjcmlwdGlvbnNbaHlwZXJ0eVVSTF0pIHsKICAgICAgICB2YXIgZXJyb3JNc2cgPSB7CiAgICAgICAgICBpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCBmcm9tOiBtc2cudG8sIHRvOiBoeXBlcnR5VVJMLAogICAgICAgICAgYm9keTogeyBjb2RlOiA1MDAsIGRlc2M6ICdTdWJzY3JpcHRpb24gZm9yICgnICsgX3RoaXMuX3VybCArICcgOiAnICsgaHlwZXJ0eVVSTCArICcpIGFscmVhZHkgZXhpc3RzIScgfQogICAgICAgIH07CgogICAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UoZXJyb3JNc2cpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy9hc2sgdG8gc3Vic2NyaWJlIHRvIFN5bmNoZXI/IChkZXBlbmRzIG9uIHRoZSBvcGVyYXRpb24gbW9kZSkKICAgICAgLy9UT0RPOiBnZXQgbW9kZSBmcm9tIG9iamVjdCEKICAgICAgdmFyIG1vZGUgPSAnc3ViL3B1Yic7CgogICAgICBpZiAobW9kZSA9PT0gJ3N1Yi9wdWInKSB7CiAgICAgICAgLy9mb3J3YXJkIHRvIEh5cGVydHkgb3duZXIKICAgICAgICB2YXIgZm9yd2FyZE1zZyA9IHsKICAgICAgICAgIHR5cGU6ICdmb3J3YXJkJywgZnJvbTogX3RoaXMuX3VybCwgdG86IF90aGlzLl9vd25lciwKICAgICAgICAgIGJvZHk6IHsgdHlwZTogbXNnLnR5cGUsIGZyb206IGh5cGVydHlVUkwsIHRvOiBfdGhpcy5fdXJsIH0KICAgICAgICB9OwoKICAgICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKGZvcndhcmRNc2csIGZ1bmN0aW9uIChyZXBseSkgewogICAgICAgICAgY29uc29sZS5sb2coJ2ZvcndhcmQtcmVwbHk6ICcsIHJlcGx5KTsKICAgICAgICAgIGlmIChyZXBseS5ib2R5LmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICBfdGhpcy5fc3Vic2NyaXB0aW9uc1toeXBlcnR5VVJMXSA9IG5ldyBfU3Vic2NyaXB0aW9uMi5kZWZhdWx0KF90aGlzLl9idXMsIF90aGlzLl9vd25lciwgX3RoaXMuX3VybCwgX3RoaXMuX2NoaWxkcmVucywgdHJ1ZSk7CiAgICAgICAgICB9CgogICAgICAgICAgLy9zZW5kIHN1YnNjcmliZS1yZXNwb25zZQogICAgICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZSh7CiAgICAgICAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IG1zZy5mcm9tLAogICAgICAgICAgICBib2R5OiByZXBseS5ib2R5CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogJ19vblJlbW90ZVVuU3Vic2NyaWJlJywKICAgIHZhbHVlOiBmdW5jdGlvbiBfb25SZW1vdGVVblN1YnNjcmliZShtc2cpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIGh5cGVydHlVUkwgPSBtc2cuYm9keS5zdWJzY3JpYmVyOwoKICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IF90aGlzLl9zdWJzY3JpcHRpb25zW2h5cGVydHlVUkxdOwogICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7CiAgICAgICAgc3Vic2NyaXB0aW9uLl9yZWxlYXNlTGlzdGVuZXJzKCk7CiAgICAgICAgZGVsZXRlIF90aGlzLl9zdWJzY3JpcHRpb25zW2h5cGVydHlVUkxdOwoKICAgICAgICAvL1RPRE86IHNlbmQgdW4tc3Vic2NyaWJlIG1lc3NhZ2UgdG8gU3luY2hlcj8gKGRlcGVuZHMgb24gdGhlIG9wZXJhdGlvbiBtb2RlKQogICAgICB9CiAgICB9CiAgfV0pOwoKICByZXR1cm4gUmVwb3J0ZXJPYmplY3Q7Cn0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IFJlcG9ydGVyT2JqZWN0Owptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0seyIuLi91dGlscy91dGlscyI6MjAzLCIuL1N1YnNjcmlwdGlvbiI6MjAwfV0sMjAwOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7CgpmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpOyB9IH0KCnZhciBTdWJzY3JpcHRpb24gPSBmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gU3Vic2NyaXB0aW9uKGJ1cywgb3duZXIsIHVybCwgY2hpbGRyZW5zLCBpc1JlcG9ydGVyKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3Vic2NyaXB0aW9uKTsKCiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgdmFyIGNoaWxkQmFzZVVSTCA9IHVybCArICcvY2hpbGRyZW4vJzsKICAgIHZhciBjaGFuZ2VVUkwgPSB1cmwgKyAnL2NoYW5nZXMnOwoKICAgIC8vcHJvY2VzcyBkZWxldGUgbWVzc2FnZQogICAgX3RoaXMuX2RlbGV0ZUxpc3RlbmVyID0gYnVzLmFkZExpc3RlbmVyKGNoYW5nZVVSTCwgZnVuY3Rpb24gKG1zZykgewogICAgICBpZiAobXNnLnR5cGUgPT09ICdkZWxldGUnKSB7CiAgICAgICAgY29uc29sZS5sb2coJ1N1YnNjcmlwdGlvbi1ERUxFVEU6ICcsIG1zZyk7CiAgICAgICAgdmFyIGRlbGV0ZU1lc3NhZ2VUb0h5cGVydHkgPSB7CiAgICAgICAgICB0eXBlOiAnZGVsZXRlJywgZnJvbTogbXNnLmZyb20sIHRvOiBvd25lciwKICAgICAgICAgIGJvZHk6IHsgcmVzb3VyY2U6IHVybCB9CiAgICAgICAgfTsKCiAgICAgICAgLy9zZW5kIGRlbGV0ZSB0byBoeXBlcnR5CiAgICAgICAgYnVzLnBvc3RNZXNzYWdlKGRlbGV0ZU1lc3NhZ2VUb0h5cGVydHksIGZ1bmN0aW9uIChyZXBseSkgewogICAgICAgICAgY29uc29sZS5sb2coJ1N1YnNjcmlwdGlvbi1ERUxFVEUtUkVQTFk6ICcsIHJlcGx5KTsKICAgICAgICAgIGlmIChyZXBseS5ib2R5LmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICBfdGhpcy5fcmVsZWFzZUxpc3RlbmVycygpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKCiAgICAvL2FkZCBjaGFuZ2UgcHVibGlzaCBhZGRyZXNzIG9yIGZvcndhcmQKICAgIGlmIChpc1JlcG9ydGVyKSB7CiAgICAgIF90aGlzLl9jaGFuZ2VMaXN0ZW5lciA9IGJ1cy5hZGRQdWJsaXNoKGNoYW5nZVVSTCk7CiAgICB9IGVsc2UgewogICAgICBfdGhpcy5fY2hhbmdlTGlzdGVuZXIgPSBidXMuYWRkRm9yd2FyZChjaGFuZ2VVUkwsIG93bmVyKTsKICAgIH0KCiAgICBfdGhpcy5fY2hpbGRyZW5MaXN0ZW5lcnMgPSBbXTsKICAgIGNoaWxkcmVucy5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkgewogICAgICB2YXIgY2hpbGRJZCA9IGNoaWxkQmFzZVVSTCArIGNoaWxkOwoKICAgICAgLy9hZGQgY2hpbGRyZW4gcHVibGlzaCBhZGRyZXNzCiAgICAgIHZhciBjaGlsZHJlbkZvcndhcmQgPSBidXMuYWRkUHVibGlzaChjaGlsZElkKTsKICAgICAgX3RoaXMuX2NoaWxkcmVuTGlzdGVuZXJzLnB1c2goY2hpbGRyZW5Gb3J3YXJkKTsKCiAgICAgIC8vYWRkIHNlbGYgZm9yd2FyZAogICAgICB2YXIgc2VsZkZvcndhcmQgPSBidXMuYWRkRm9yd2FyZChjaGlsZElkLCBvd25lcik7CiAgICAgIF90aGlzLl9jaGlsZHJlbkxpc3RlbmVycy5wdXNoKHNlbGZGb3J3YXJkKTsKICAgIH0pOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFN1YnNjcmlwdGlvbiwgW3sKICAgIGtleTogJ19yZWxlYXNlTGlzdGVuZXJzJywKICAgIHZhbHVlOiBmdW5jdGlvbiBfcmVsZWFzZUxpc3RlbmVycygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIF90aGlzLl9kZWxldGVMaXN0ZW5lci5yZW1vdmUoKTsKCiAgICAgIF90aGlzLl9jaGFuZ2VMaXN0ZW5lci5yZW1vdmUoKTsKCiAgICAgIF90aGlzLl9jaGlsZHJlbkxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChmb3J3YXJkKSB7CiAgICAgICAgZm9yd2FyZC5yZW1vdmUoKTsKICAgICAgfSk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU3Vic2NyaXB0aW9uOwp9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBTdWJzY3JpcHRpb247Cm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOwoKfSx7fV0sMjAxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwoKdmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmICgidmFsdWUiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7Cgp2YXIgX3V0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMvdXRpbHMnKTsKCnZhciBfT2JqZWN0QWxsb2NhdGlvbiA9IHJlcXVpcmUoJy4vT2JqZWN0QWxsb2NhdGlvbicpOwoKdmFyIF9PYmplY3RBbGxvY2F0aW9uMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX09iamVjdEFsbG9jYXRpb24pOwoKdmFyIF9SZXBvcnRlck9iamVjdCA9IHJlcXVpcmUoJy4vUmVwb3J0ZXJPYmplY3QnKTsKCnZhciBfUmVwb3J0ZXJPYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfUmVwb3J0ZXJPYmplY3QpOwoKdmFyIF9PYnNlcnZlck9iamVjdCA9IHJlcXVpcmUoJy4vT2JzZXJ2ZXJPYmplY3QnKTsKCnZhciBfT2JzZXJ2ZXJPYmplY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfT2JzZXJ2ZXJPYmplY3QpOwoKZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH0KCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKLyoqCiAqIEBhdXRob3IgbWljYWVscGVkcm9zYUBnbWFpbC5jb20KICogQ29yZSBTeW5jcm9uaXphdGlvbiBzeXN0ZW0uCiAqLwoKdmFyIFN5bmNoZXJNYW5hZ2VyID0gZnVuY3Rpb24gKCkgewogIC8qIHByaXZhdGUKICBfdXJsOiBVUkwKICBfYnVzOiBNaW5pQnVzCiAgX3JlZ2lzdHJ5OiBSZWdpc3RyeQogIF9hbGxvY2F0b3I6IE9iamVjdEFsbG9jYXRpb24KICAgX3JlcG9ydGVyczogeyBPYmplY3RVUkw6IFJlcG9ydGVyT2JqZWN0IH0KICBfb2JzZXJ2ZXJzOiB7IE9iamVjdFVSTDogT2JzZXJ2ZXJPYmplY3QgfQogICovCgogIGZ1bmN0aW9uIFN5bmNoZXJNYW5hZ2VyKHJ1bnRpbWVVUkwsIGJ1cywgcmVnaXN0cnksIGNhdGFsb2csIGFsbG9jYXRvcikgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN5bmNoZXJNYW5hZ2VyKTsKCiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIF90aGlzLl9idXMgPSBidXM7CiAgICBfdGhpcy5fcmVnaXN0cnkgPSByZWdpc3RyeTsKICAgIF90aGlzLl9jYXRhbG9nID0gY2F0YWxvZzsKCiAgICAvL1RPRE86IHRoZXNlIHNob3VsZCBiZSBzYXZlZCBpbiBwZXJzaXN0ZW5jZSBlbmdpbmU/CiAgICBfdGhpcy5fdXJsID0gcnVudGltZVVSTCArICcvc20nOwogICAgX3RoaXMuX29iamVjdFVSTCA9IHJ1bnRpbWVVUkwgKyAnL29iamVjdC1hbGxvY2F0aW9uJzsKCiAgICBfdGhpcy5fcmVwb3J0ZXJzID0ge307CiAgICBfdGhpcy5fb2JzZXJ2ZXJzID0ge307CgogICAgLy9UT0RPOiB0aGlzIHNob3VsZCBub3QgYmUgaGFyZGNvZGVkIQogICAgX3RoaXMuX2RvbWFpbiA9ICgwLCBfdXRpbHMuZGl2aWRlVVJMKShydW50aW1lVVJMKS5kb21haW47CgogICAgaWYgKGFsbG9jYXRvcikgewogICAgICBfdGhpcy5fYWxsb2NhdG9yID0gYWxsb2NhdG9yOwogICAgfSBlbHNlIHsKICAgICAgX3RoaXMuX2FsbG9jYXRvciA9IG5ldyBfT2JqZWN0QWxsb2NhdGlvbjIuZGVmYXVsdChfdGhpcy5fb2JqZWN0VVJMLCBidXMpOwogICAgfQoKICAgIGJ1cy5hZGRMaXN0ZW5lcihfdGhpcy5fdXJsLCBmdW5jdGlvbiAobXNnKSB7CiAgICAgIGNvbnNvbGUubG9nKCdTeW5jaGVyTWFuYWdlci1SQ1Y6ICcsIG1zZyk7CiAgICAgIHN3aXRjaCAobXNnLnR5cGUpIHsKICAgICAgICBjYXNlICdjcmVhdGUnOgogICAgICAgICAgX3RoaXMuX29uQ3JlYXRlKG1zZyk7YnJlYWs7CiAgICAgICAgY2FzZSAnZGVsZXRlJzoKICAgICAgICAgIF90aGlzLl9vbkRlbGV0ZShtc2cpO2JyZWFrOwogICAgICAgIGNhc2UgJ3N1YnNjcmliZSc6CiAgICAgICAgICBfdGhpcy5fb25Mb2NhbFN1YnNjcmliZShtc2cpO2JyZWFrOwogICAgICAgIGNhc2UgJ3Vuc3Vic2NyaWJlJzoKICAgICAgICAgIF90aGlzLl9vbkxvY2FsVW5TdWJzY3JpYmUobXNnKTticmVhazsKICAgICAgfQogICAgfSk7CiAgfQoKICBfY3JlYXRlQ2xhc3MoU3luY2hlck1hbmFnZXIsIFt7CiAgICBrZXk6ICdfb25DcmVhdGUnLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9vbkNyZWF0ZShtc2cpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIG93bmVyID0gbXNnLmZyb207CiAgICAgIHZhciBkb21haW4gPSAoMCwgX3V0aWxzLmRpdmlkZVVSTCkobXNnLmZyb20pLmRvbWFpbjsKCiAgICAgIC8vVE9ETzogNS03IGF1dGhvcml6ZU9iamVjdENyZWF0aW9uKG93bmVyLCBvYmogPz8/PyApCiAgICAgIC8vVE9ETzogb3RoZXIgb3B0aW9uYWwgc3RlcHMKCiAgICAgIC8vZ2V0IHNjaGVtYSBmcm9tIGNhdGFsb2d1ZSBhbmQgcGFyc2UgLT4gKHNjaGVtZSwgY2hpbGRyZW4pCiAgICAgIF90aGlzLl9jYXRhbG9nLmdldERhdGFTY2hlbWFEZXNjcmlwdG9yKG1zZy5ib2R5LnNjaGVtYSkudGhlbihmdW5jdGlvbiAoZGVzY3JpcHRvcikgewogICAgICAgIHZhciBwcm9wZXJ0aWVzID0gZGVzY3JpcHRvci5zb3VyY2VQYWNrYWdlLnNvdXJjZUNvZGUucHJvcGVydGllczsKICAgICAgICB2YXIgc2NoZW1lID0gcHJvcGVydGllcy5zY2hlbWUgPyBwcm9wZXJ0aWVzLnNjaGVtZS5jb25zdGFudCA6ICdyZXNvdXJjZSc7CiAgICAgICAgdmFyIGNoaWxkcmVucyA9IHByb3BlcnRpZXMuY2hpbGRyZW4gPyBwcm9wZXJ0aWVzLmNoaWxkcmVuLmNvbnN0YW50IDogW107CgogICAgICAgIF90aGlzLl9hbGxvY2F0b3IuY3JlYXRlKGRvbWFpbiwgc2NoZW1lLCAxKS50aGVuKGZ1bmN0aW9uIChhbGxvY2F0ZWQpIHsKICAgICAgICAgIC8vVE9ETzogZ2V0IGFkZHJlc3MgZnJvbSBhZGRyZXNzIGFsbG9jYXRvciA/CiAgICAgICAgICB2YXIgb2JqVVJMID0gYWxsb2NhdGVkWzBdOwogICAgICAgICAgdmFyIG9ialN1YnNjcmlwdG9yVVJMID0gb2JqVVJMICsgJy9zdWJzY3JpcHRpb24nOwoKICAgICAgICAgIHZhciByZXBvcnRlciA9IG5ldyBfUmVwb3J0ZXJPYmplY3QyLmRlZmF1bHQoX3RoaXMsIG93bmVyLCBvYmpVUkwpOwogICAgICAgICAgcmVwb3J0ZXIuYWRkQ2hpbGRyZW5zKGNoaWxkcmVucykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzLl9yZXBvcnRlcnNbb2JqVVJMXSA9IHJlcG9ydGVyOwoKICAgICAgICAgICAgLy9hbGwgb2ssIHNlbmQgcmVzcG9uc2UKICAgICAgICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgaWQ6IG1zZy5pZCwgdHlwZTogJ3Jlc3BvbnNlJywgZnJvbTogbXNnLnRvLCB0bzogb3duZXIsCiAgICAgICAgICAgICAgYm9keTogeyBjb2RlOiAyMDAsIHJlc291cmNlOiBvYmpVUkwsIGNoaWxkcmVuUmVzb3VyY2VzOiBjaGlsZHJlbnMgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vc2VuZCBjcmVhdGUgdG8gYWxsIG9ic2VydmVycywgcmVzcG9uc2VzIHdpbGwgYmUgZGVsaXZlciB0byB0aGUgSHlwZXJ0eSBvd25lcj8KICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgLy9zY2hlZHVsZSBmb3IgbmV4dCBjeWNsZSBuZWVkZWQsIGJlY2F1c2UgdGhlIFJlcG9ydGVyIHNob3VsZCBiZSBhdmFpbGFibGUuCiAgICAgICAgICAgICAgbXNnLmJvZHkuYXV0aG9yaXNlLmZvckVhY2goZnVuY3Rpb24gKGh5cGVydHlVUkwpIHsKICAgICAgICAgICAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UoewogICAgICAgICAgICAgICAgICB0eXBlOiAnY3JlYXRlJywgZnJvbTogb2JqU3Vic2NyaXB0b3JVUkwsIHRvOiBoeXBlcnR5VVJMLAogICAgICAgICAgICAgICAgICBib2R5OiB7IHNvdXJjZTogbXNnLmZyb20sIHZhbHVlOiBtc2cuYm9keS52YWx1ZSwgc2NoZW1hOiBtc2cuYm9keS5zY2hlbWEgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHsKICAgICAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IG93bmVyLAogICAgICAgICAgYm9keTogeyBjb2RlOiA1MDAsIGRlc2M6IHJlYXNvbiB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogJ19vbkRlbGV0ZScsCiAgICB2YWx1ZTogZnVuY3Rpb24gX29uRGVsZXRlKG1zZykgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIG9ialVSTCA9IG1zZy5ib2R5LnJlc291cmNlOwoKICAgICAgdmFyIG9iamVjdCA9IF90aGlzLl9yZXBvcnRlcnNbb2JqVVJMXTsKICAgICAgaWYgKG9iamVjdCkgewogICAgICAgIC8vVE9ETzogaXMgdGhlcmUgYW55IHBvbGljeSB2ZXJpZmljYXRpb24gYmVmb3JlIGRlbGV0ZT8KICAgICAgICBvYmplY3QuZGVsZXRlKCk7CgogICAgICAgIC8vVE9ETzogdW5yZWdpc3RlciBvYmplY3Q/CiAgICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZSh7CiAgICAgICAgICBpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCBmcm9tOiBtc2cudG8sIHRvOiBtc2cuZnJvbSwKICAgICAgICAgIGJvZHk6IHsgY29kZTogMjAwIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogJ19vbkxvY2FsU3Vic2NyaWJlJywKICAgIHZhbHVlOiBmdW5jdGlvbiBfb25Mb2NhbFN1YnNjcmliZShtc2cpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGh5cGVydHlVUkwgPSBtc2cuZnJvbTsKICAgICAgdmFyIG9ialVSTCA9IG1zZy5ib2R5LnJlc291cmNlOwogICAgICB2YXIgb2JqVVJMU3Vic2NyaXB0aW9uID0gb2JqVVJMICsgJy9zdWJzY3JpcHRpb24nOwogICAgICB2YXIgY2hpbGRCYXNlVVJMID0gb2JqVVJMICsgJy9jaGlsZHJlbi8nOwoKICAgICAgdmFyIGRvbWFpbiA9ICgwLCBfdXRpbHMuZGl2aWRlVVJMKShvYmpVUkwpLmRvbWFpbjsKCiAgICAgIC8vZ2V0IHNjaGVtYSBmcm9tIGNhdGFsb2d1ZSBhbmQgcGFyc2UgLT4gKGNoaWxkcmVuKQogICAgICBfdGhpcy5fY2F0YWxvZy5nZXREYXRhU2NoZW1hRGVzY3JpcHRvcihtc2cuYm9keS5zY2hlbWEpLnRoZW4oZnVuY3Rpb24gKGRlc2NyaXB0b3IpIHsKICAgICAgICB2YXIgcHJvcGVydGllcyA9IGRlc2NyaXB0b3Iuc291cmNlUGFja2FnZS5zb3VyY2VDb2RlLnByb3BlcnRpZXM7CiAgICAgICAgdmFyIGNoaWxkcmVucyA9IHByb3BlcnRpZXMuY2hpbGRyZW4gPyBwcm9wZXJ0aWVzLmNoaWxkcmVuLmNvbnN0YW50IDogW107CgogICAgICAgIC8vY2hpbGRyZW4gYWRkcmVzc2VzCiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbnMgPSBbXTsKICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2gob2JqVVJMICsgJy9jaGFuZ2VzJyk7CiAgICAgICAgY2hpbGRyZW5zLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkKSB7CiAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9ucy5wdXNoKGNoaWxkQmFzZVVSTCArIGNoaWxkKTsKICAgICAgICB9KTsKCiAgICAgICAgLy9zdWJzY3JpYmUgbXNnIGZvciB0aGUgZG9tYWluIG5vZGUKICAgICAgICB2YXIgbm9kZVN1YnNjcmliZU1zZyA9IHsKICAgICAgICAgIHR5cGU6ICdzdWJzY3JpYmUnLCBmcm9tOiBfdGhpcy5fdXJsLCB0bzogJ2RvbWFpbjovL21zZy1ub2RlLicgKyBkb21haW4gKyAnL3NtJywKICAgICAgICAgIGJvZHk6IHsgc3Vic2NyaWJlOiBzdWJzY3JpcHRpb25zLCBzb3VyY2U6IGh5cGVydHlVUkwgfQogICAgICAgIH07CgogICAgICAgIC8vc3Vic2NyaWJlIGluIG1zZy1ub2RlCiAgICAgICAgX3RoaXMuX2J1cy5wb3N0TWVzc2FnZShub2RlU3Vic2NyaWJlTXNnLCBmdW5jdGlvbiAocmVwbHkpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdub2RlLXN1YnNjcmliZS1yZXNwb25zZShvYnNlcnZlcik6ICcsIHJlcGx5KTsKICAgICAgICAgIGlmIChyZXBseS5ib2R5LmNvZGUgPT09IDIwMCkgewoKICAgICAgICAgICAgLy9zZW5kIHByb3Zpc2lvbmFsIHJlc3BvbnNlCiAgICAgICAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UoewogICAgICAgICAgICAgIGlkOiBtc2cuaWQsIHR5cGU6ICdyZXNwb25zZScsIGZyb206IG1zZy50bywgdG86IGh5cGVydHlVUkwsCiAgICAgICAgICAgICAgYm9keTogeyBjb2RlOiAxMDAsIGNoaWxkcmVuUmVzb3VyY2VzOiBjaGlsZHJlbnMgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHZhciBvYmpTdWJzY3JpYmVNc2cgPSB7CiAgICAgICAgICAgICAgdHlwZTogJ3N1YnNjcmliZScsIGZyb206IF90aGlzLl91cmwsIHRvOiBvYmpVUkxTdWJzY3JpcHRpb24sCiAgICAgICAgICAgICAgYm9keTogeyBzdWJzY3JpYmVyOiBoeXBlcnR5VVJMIH0KICAgICAgICAgICAgfTsKCiAgICAgICAgICAgIC8vc3Vic2NyaWJlIHRvIHJlcG9ydGVyIFNNCiAgICAgICAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2Uob2JqU3Vic2NyaWJlTXNnLCBmdW5jdGlvbiAocmVwbHkpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVwb3J0ZXItc3Vic2NyaWJlLXJlc3BvbnNlOiAnLCByZXBseSk7CiAgICAgICAgICAgICAgaWYgKHJlcGx5LmJvZHkuY29kZSA9PT0gMjAwKSB7CgogICAgICAgICAgICAgICAgdmFyIG9ic2VydmVyID0gX3RoaXMuX29ic2VydmVyc1tvYmpVUkxdOwogICAgICAgICAgICAgICAgaWYgKCFvYnNlcnZlcikgewogICAgICAgICAgICAgICAgICBvYnNlcnZlciA9IG5ldyBfT2JzZXJ2ZXJPYmplY3QyLmRlZmF1bHQoX3RoaXMsIG9ialVSTCwgY2hpbGRyZW5zKTsKICAgICAgICAgICAgICAgICAgX3RoaXMuX29ic2VydmVyc1tvYmpVUkxdID0gb2JzZXJ2ZXI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgb2JzZXJ2ZXIuYWRkU3Vic2NyaXB0aW9uKGh5cGVydHlVUkwpOwoKICAgICAgICAgICAgICAgIC8vZm9yd2FyZCB0byBoeXBlcnR5OgogICAgICAgICAgICAgICAgcmVwbHkuaWQgPSBtc2cuaWQ7CiAgICAgICAgICAgICAgICByZXBseS5mcm9tID0gX3RoaXMuX3VybDsKICAgICAgICAgICAgICAgIHJlcGx5LnRvID0gaHlwZXJ0eVVSTDsKICAgICAgICAgICAgICAgIF90aGlzMi5fYnVzLnBvc3RNZXNzYWdlKHJlcGx5KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy9saXN0ZW5lciByZWplY3RlZAogICAgICAgICAgICBfdGhpcy5fYnVzLnBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICBpZDogbXNnLmlkLCB0eXBlOiAncmVzcG9uc2UnLCBmcm9tOiBtc2cudG8sIHRvOiBoeXBlcnR5VVJMLAogICAgICAgICAgICAgIGJvZHk6IHJlcGx5LmJvZHkKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0sIHsKICAgIGtleTogJ19vbkxvY2FsVW5TdWJzY3JpYmUnLAogICAgdmFsdWU6IGZ1bmN0aW9uIF9vbkxvY2FsVW5TdWJzY3JpYmUobXNnKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgaHlwZXJ0eVVSTCA9IG1zZy5mcm9tOwogICAgICB2YXIgb2JqVVJMID0gbXNnLmJvZHkucmVzb3VyY2U7CgogICAgICB2YXIgb2JzZXJ2ZXIgPSBfdGhpcy5fb2JzZXJ2ZXJzW29ialVSTF07CiAgICAgIGlmIChvYnNlcnZlcikgewogICAgICAgIC8vVE9ETzogaXMgdGhlcmUgYW55IHBvbGljeSB2ZXJpZmljYXRpb24gYmVmb3JlIGRlbGV0ZT8KICAgICAgICBvYnNlcnZlci5yZW1vdmVTdWJzY3JpcHRpb24oaHlwZXJ0eVVSTCk7CgogICAgICAgIC8vVE9ETzogZGVzdHJveSBvYmplY3QgaW4gdGhlIHJlZ2lzdHJ5PwogICAgICAgIF90aGlzLl9idXMucG9zdE1lc3NhZ2UoewogICAgICAgICAgaWQ6IG1zZy5pZCwgdHlwZTogJ3Jlc3BvbnNlJywgZnJvbTogbXNnLnRvLCB0bzogbXNnLmZyb20sCiAgICAgICAgICBib2R5OiB7IGNvZGU6IDIwMCB9CiAgICAgICAgfSk7CgogICAgICAgIC8vVE9ETzogcmVtb3ZlIE9iamVjdCBpZiBubyBtb3JlIHN1YnNjcmlwdGlvbj8KICAgICAgICAvL2RlbGV0ZSBfdGhpcy5fb2JzZXJ2ZXJzW29ialVSTF07CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICd1cmwnLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl91cmw7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU3luY2hlck1hbmFnZXI7Cn0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IFN5bmNoZXJNYW5hZ2VyOwptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0seyIuLi91dGlscy91dGlscyI6MjAzLCIuL09iamVjdEFsbG9jYXRpb24iOjE5NywiLi9PYnNlcnZlck9iamVjdCI6MTk4LCIuL1JlcG9ydGVyT2JqZWN0IjoxOTl9XSwyMDI6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpewoidXNlIHN0cmljdCI7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTsKCmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7IH0gfQoKLyoqCiAqIEV2ZW50RW1pdHRlcgogKiBBbGwgY2xhc3NlcyB3aGljaCBleHRlbmRzIHRoaXMsIGNhbiBoYXZlIGFkZEV2ZW50TGlzdGVuZXIgYW5kIHRyaWdnZXIgZXZlbnRzOwogKi8KCnZhciBFdmVudEVtaXR0ZXIgPSBmdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgfQoKICBfY3JlYXRlQ2xhc3MoRXZlbnRFbWl0dGVyLCBbewogICAga2V5OiAiYWRkRXZlbnRMaXN0ZW5lciIsCgoKICAgIC8qKgogICAgICogYWRkRXZlbnRMaXN0ZW5lciBsaXN0ZW4gZm9yIGFuIGV2ZW50VHlwZQogICAgICogQHBhcmFtICB7c3RyaW5nfSAgICAgICAgIGV2ZW50VHlwZSAtIGxpc3RlbmluZyBmb3IgdGhpcyB0eXBlIG9mIGV2ZW50CiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gICAgICAgY2IgICAgICAgIC0gY2FsbGJhY2sgZnVuY3Rpb24gd2lsbCBiZSBleGVjdXRlZCB3aGVuIHRoZSBldmVudCBpdCBpcyBpbnZva2VkCiAgICAgKi8KICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgY2IpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgX3RoaXNbZXZlbnRUeXBlXSA9IGNiOwogICAgfQoKICAgIC8qKgogICAgICogSW52b2tlIHRoZSBldmVudFR5cGUKICAgICAqIEBwYXJhbSAge3N0cmluZ30gZXZlbnRUeXBlIC0gZXZlbnQgd2lsbCBiZSBpbnZva2VkCiAgICAgKiBAcGFyYW0gIHtvYmplY3R9IHBhcmFtcyAtIHBhcmFtZXRlcnMgd2lsbCBiZSBwYXNzZWQgdG8gdGhlIGFkZEV2ZW50TGlzdGVuZXIKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJ0cmlnZ2VyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0cmlnZ2VyKGV2ZW50VHlwZSwgcGFyYW1zKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoX3RoaXNbZXZlbnRUeXBlXSkgewogICAgICAgIF90aGlzW2V2ZW50VHlwZV0ocGFyYW1zKTsKICAgICAgfQogICAgfQogIH1dKTsKCiAgcmV0dXJuIEV2ZW50RW1pdHRlcjsKfSgpOwoKZXhwb3J0cy5kZWZhdWx0ID0gRXZlbnRFbWl0dGVyOwptb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0se31dLDIwMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7Cid1c2Ugc3RyaWN0JzsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kaXZpZGVVUkwgPSBkaXZpZGVVUkw7CmV4cG9ydHMuZW1wdHlPYmplY3QgPSBlbXB0eU9iamVjdDsKZXhwb3J0cy5kZWVwQ2xvbmUgPSBkZWVwQ2xvbmU7CmV4cG9ydHMuZ2V0VXNlclVSTEZyb21FbWFpbCA9IGdldFVzZXJVUkxGcm9tRW1haWw7CmV4cG9ydHMuZ2V0VXNlckVtYWlsRnJvbVVSTCA9IGdldFVzZXJFbWFpbEZyb21VUkw7Ci8qKgogKiBTdXBwb3J0IG1vZHVsZSB3aXRoIHNvbWUgZnVuY3Rpb25zIHdpbGwgYmUgdXNlZnVsCiAqIEBtb2R1bGUgdXRpbHMKICovCgovKioKICogQHR5cGVkZWYgZGl2aWRlVVJMCiAqIEB0eXBlIE9iamVjdAogKiBAcHJvcGVydHkge3N0cmluZ30gdHlwZSBUaGUgdHlwZSBvZiBVUkwKICogQHByb3BlcnR5IHtzdHJpbmd9IGRvbWFpbiBUaGUgZG9tYWluIG9mIFVSTAogKiBAcHJvcGVydHkge3N0cmluZ30gaWRlbnRpdHkgVGhlIGlkZW50aXR5IG9mIFVSTAogKi8KCi8qKgogKiBEaXZpZGUgYW4gdXJsIGluIHR5cGUsIGRvbWFpbiBhbmQgaWRlbnRpdHkKICogQHBhcmFtICB7VVJMLlVSTH0gdXJsIC0gdXJsIGFkZHJlc3MKICogQHJldHVybiB7ZGl2aWRlVVJMfSB0aGUgcmVzdWx0IG9mIGRpdmlkZVVSTAogKi8KZnVuY3Rpb24gZGl2aWRlVVJMKHVybCkgewoKICAvLyBsZXQgcmUgPSAvKFthLXpBLVotXSopPzpcL1wvKD86XC4pPyhbLWEtekEtWjAtOUA6JS5fXCt+Iz1dezIsMjU2fVwuW2Etel17Miw2fVxiKSooXC9bXC9cZFx3XC4tXSopKig/OltcP10pKiguKykqL2dpOwogIHZhciByZSA9IC8oW2EtekEtWi1dKik6XC9cLyg/OlwuKT8oWy1hLXpBLVowLTlAOiUuX1wrfiM9XXsyLDI1Nn0pKFstYS16QS1aMC05QDolLl9cK34jPVwvXSopL2dpOwogIHZhciBzdWJzdCA9ICckMSwkMiwkMyc7CiAgdmFyIHBhcnRzID0gdXJsLnJlcGxhY2UocmUsIHN1YnN0KS5zcGxpdCgnLCcpOwoKICAvLyBJZiB0aGUgdXJsIGhhcyBubyBwcm90b2NvbCwgdGhlIGRlZmF1bHQgcHJvdG9jb2wgc2V0IGlzIGh0dHBzCiAgaWYgKHBhcnRzWzBdID09PSB1cmwpIHsKICAgIHBhcnRzWzBdID0gJ2h0dHBzJzsKICAgIHBhcnRzWzFdID0gdXJsOwogIH0KCiAgdmFyIHJlc3VsdCA9IHsKICAgIHR5cGU6IHBhcnRzWzBdLAogICAgZG9tYWluOiBwYXJ0c1sxXSwKICAgIGlkZW50aXR5OiBwYXJ0c1syXQogIH07CgogIHJldHVybiByZXN1bHQ7Cn0KCi8qKgogKiBDaGVjayBpZiBhbiBPYmplY3QgaXMgZW1wdHkKICogQHBhcmFtICB7T2JqZWN0fSBvYmplY3QgT2JqZWN0IHRvIGJlIGNoZWNrZWQKICogQHJldHVybiB7Qm9vbGVhbn0gICAgICAgc3RhdHVzIG9mIE9iamVjdCwgZW1wdHkgb3Igbm90ICh0cnVlfGZhbHNlKTsKICovCmZ1bmN0aW9uIGVtcHR5T2JqZWN0KG9iamVjdCkgewogIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpLmxlbmd0aCA+IDAgPyBmYWxzZSA6IHRydWU7Cn0KCi8qKgogKiBNYWtlIGEgQ09QWSBvZiB0aGUgb3JpZ2luYWwgZGF0YQogKiBAcGFyYW0gIHtPYmplY3R9ICBvYmogLSBvYmplY3QgdG8gYmUgY2xvbmVkCiAqIEByZXR1cm4ge09iamVjdH0KICovCmZ1bmN0aW9uIGRlZXBDbG9uZShvYmopIHsKICAvL1RPRE86IHNpbXBsZSBidXQgaW5lZmZpY2llbnQgSlNPTiBkZWVwIGNsb25lLi4uCiAgaWYgKG9iaikgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkob2JqKSk7Cn0KCi8qKgogKiBPYnRhaW5zIHRoZSB1c2VyIFVSTCB0aGF0IGNvcnJlc3BvbmRzIHRvIGEgZ2l2ZW4gZW1haWwKICogQHBhcmFtICB7c3RyaW5nfSB1c2VyRW1haWwgVGhlIHVzZXIgZW1haWwKICogQHJldHVybiB7VVJMLlVSTH0gdXNlclVSTCBUaGUgdXNlciBVUkwKICovCmZ1bmN0aW9uIGdldFVzZXJVUkxGcm9tRW1haWwodXNlckVtYWlsKSB7CiAgdmFyIGluZGV4T2ZBdCA9IHVzZXJFbWFpbC5pbmRleE9mKCdAJyk7CiAgcmV0dXJuICd1c2VyOi8vJyArIHVzZXJFbWFpbC5zdWJzdHJpbmcoaW5kZXhPZkF0ICsgMSwgdXNlckVtYWlsLmxlbmd0aCkgKyAnLycgKyB1c2VyRW1haWwuc3Vic3RyaW5nKDAsIGluZGV4T2ZBdCk7Cn0KCi8qKgogKiBPYnRhaW5zIHRoZSB1c2VyIGVtYWlsIHRoYXQgY29ycmVzcG9uZHMgdG8gYSBnaXZlbiBVUkwKICogQHBhcmFtICB7VVJMLlVSTH0gdXNlclVSTCBUaGUgdXNlciBVUkwKICogQHJldHVybiB7c3RyaW5nfSB1c2VyRW1haWwgVGhlIHVzZXIgZW1haWwKICovCmZ1bmN0aW9uIGdldFVzZXJFbWFpbEZyb21VUkwodXNlclVSTCkgewogIHZhciB1cmwgPSBkaXZpZGVVUkwodXNlclVSTCk7CiAgcmV0dXJuIHVybC5pZGVudGl0eS5yZXBsYWNlKCcvJywgJycpICsgJ0AnICsgdXJsLmRvbWFpbjsgLy8gaWRlbnRpdHkgZmllbGQgaGFzICcvZXhhbXBsZUlEJyBpbnN0ZWFkIG9mICdleGFtcGxlSUQnCn0KCn0se31dfSx7fSxbMTk2XSkoMTk2KQp9KTs=",
      "sourceCodeClassname": "RuntimeUA",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 1,
    "type": "Runtimes",
    "version": "0.1",
    "description": "Description of RuntimeUA",
    "objectName": "RuntimeUA",
    "configuration": {},
    "runtimeType": "browser",
    "hypertyCapabilities": {
      "mic": false
    },
    "protocolCapabilities": {
      "http": true
    },
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy"
  }
}